function gF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Km(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vF={exports:{}},Lx={},yF={exports:{}},Vn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c3=Symbol.for("react.element"),Rq=Symbol.for("react.portal"),Aq=Symbol.for("react.fragment"),Pq=Symbol.for("react.strict_mode"),Nq=Symbol.for("react.profiler"),Iq=Symbol.for("react.provider"),Oq=Symbol.for("react.context"),Lq=Symbol.for("react.forward_ref"),Dq=Symbol.for("react.suspense"),Fq=Symbol.for("react.memo"),$q=Symbol.for("react.lazy"),tA=Symbol.iterator;function Uq(t){return t===null||typeof t!="object"?null:(t=tA&&t[tA]||t["@@iterator"],typeof t=="function"?t:null)}var xF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bF=Object.assign,SF={};function Ym(t,e,n){this.props=t,this.context=e,this.refs=SF,this.updater=n||xF}Ym.prototype.isReactComponent={};Ym.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ym.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _F(){}_F.prototype=Ym.prototype;function Uw(t,e,n){this.props=t,this.context=e,this.refs=SF,this.updater=n||xF}var Bw=Uw.prototype=new _F;Bw.constructor=Uw;bF(Bw,Ym.prototype);Bw.isPureReactComponent=!0;var nA=Array.isArray,wF=Object.prototype.hasOwnProperty,kw={current:null},CF={key:!0,ref:!0,__self:!0,__source:!0};function EF(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)wF.call(e,r)&&!CF.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:c3,type:t,key:o,ref:s,props:i,_owner:kw.current}}function Bq(t,e){return{$$typeof:c3,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zw(t){return typeof t=="object"&&t!==null&&t.$$typeof===c3}function kq(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var rA=/\/+/g;function l4(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kq(""+t.key):e.toString(36)}function Ny(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case c3:case Rq:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+l4(s,0):r,nA(i)?(n="",t!=null&&(n=t.replace(rA,"$&/")+"/"),Ny(i,e,n,"",function(c){return c})):i!=null&&(zw(i)&&(i=Bq(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(rA,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",nA(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+l4(o,a);s+=Ny(o,e,n,l,i)}else if(l=Uq(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+l4(o,a++),s+=Ny(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function G1(t,e,n){if(t==null)return t;var r=[],i=0;return Ny(t,r,"","",function(o){return e.call(n,o,i++)}),r}function zq(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Go={current:null},Iy={transition:null},Vq={ReactCurrentDispatcher:Go,ReactCurrentBatchConfig:Iy,ReactCurrentOwner:kw};Vn.Children={map:G1,forEach:function(t,e,n){G1(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return G1(t,function(){e++}),e},toArray:function(t){return G1(t,function(e){return e})||[]},only:function(t){if(!zw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Vn.Component=Ym;Vn.Fragment=Aq;Vn.Profiler=Nq;Vn.PureComponent=Uw;Vn.StrictMode=Pq;Vn.Suspense=Dq;Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vq;Vn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bF({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=kw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)wF.call(e,l)&&!CF.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:c3,type:t.type,key:i,ref:o,props:r,_owner:s}};Vn.createContext=function(t){return t={$$typeof:Oq,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Iq,_context:t},t.Consumer=t};Vn.createElement=EF;Vn.createFactory=function(t){var e=EF.bind(null,t);return e.type=t,e};Vn.createRef=function(){return{current:null}};Vn.forwardRef=function(t){return{$$typeof:Lq,render:t}};Vn.isValidElement=zw;Vn.lazy=function(t){return{$$typeof:$q,_payload:{_status:-1,_result:t},_init:zq}};Vn.memo=function(t,e){return{$$typeof:Fq,type:t,compare:e===void 0?null:e}};Vn.startTransition=function(t){var e=Iy.transition;Iy.transition={};try{t()}finally{Iy.transition=e}};Vn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Vn.useCallback=function(t,e){return Go.current.useCallback(t,e)};Vn.useContext=function(t){return Go.current.useContext(t)};Vn.useDebugValue=function(){};Vn.useDeferredValue=function(t){return Go.current.useDeferredValue(t)};Vn.useEffect=function(t,e){return Go.current.useEffect(t,e)};Vn.useId=function(){return Go.current.useId()};Vn.useImperativeHandle=function(t,e,n){return Go.current.useImperativeHandle(t,e,n)};Vn.useInsertionEffect=function(t,e){return Go.current.useInsertionEffect(t,e)};Vn.useLayoutEffect=function(t,e){return Go.current.useLayoutEffect(t,e)};Vn.useMemo=function(t,e){return Go.current.useMemo(t,e)};Vn.useReducer=function(t,e,n){return Go.current.useReducer(t,e,n)};Vn.useRef=function(t){return Go.current.useRef(t)};Vn.useState=function(t){return Go.current.useState(t)};Vn.useSyncExternalStore=function(t,e,n){return Go.current.useSyncExternalStore(t,e,n)};Vn.useTransition=function(){return Go.current.useTransition()};Vn.version="18.2.0";yF.exports=Vn;var y=yF.exports;const ae=Km(y),Dx=gF({__proto__:null,default:ae},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hq=y,Gq=Symbol.for("react.element"),Wq=Symbol.for("react.fragment"),jq=Object.prototype.hasOwnProperty,Xq=Hq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qq={key:!0,ref:!0,__self:!0,__source:!0};function TF(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)jq.call(e,r)&&!qq.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Gq,type:t,key:o,ref:s,props:i,_owner:Xq.current}}Lx.Fragment=Wq;Lx.jsx=TF;Lx.jsxs=TF;vF.exports=Lx;var qe=vF.exports,e9={},MF={exports:{}},Us={},RF={exports:{}},AF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,B){var G=O.length;O.push(B);e:for(;0<G;){var W=G-1>>>1,K=O[W];if(0<i(K,B))O[W]=B,O[G]=K,G=W;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var B=O[0],G=O.pop();if(G!==B){O[0]=G;e:for(var W=0,K=O.length,X=K>>>1;W<X;){var Y=2*(W+1)-1,te=O[Y],oe=Y+1,ie=O[oe];if(0>i(te,G))oe<K&&0>i(ie,te)?(O[W]=ie,O[oe]=G,W=oe):(O[W]=te,O[Y]=G,W=Y);else if(oe<K&&0>i(ie,G))O[W]=ie,O[oe]=G,W=oe;else break e}}return B}function i(O,B){var G=O.sortIndex-B.sortIndex;return G!==0?G:O.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,g=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(O){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=O)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function w(O){if(x=!1,S(O),!g)if(n(l)!==null)g=!0,F(M);else{var B=n(c);B!==null&&k(w,B.startTime-O)}}function M(O,B){g=!1,x&&(x=!1,v(N),N=-1),h=!0;var G=f;try{for(S(B),d=n(l);d!==null&&(!(d.expirationTime>B)||O&&!L());){var W=d.callback;if(typeof W=="function"){d.callback=null,f=d.priorityLevel;var K=W(d.expirationTime<=B);B=t.unstable_now(),typeof K=="function"?d.callback=K:d===n(l)&&r(l),S(B)}else r(l);d=n(l)}if(d!==null)var X=!0;else{var Y=n(c);Y!==null&&k(w,Y.startTime-B),X=!1}return X}finally{d=null,f=G,h=!1}}var E=!1,T=null,N=-1,R=5,P=-1;function L(){return!(t.unstable_now()-P<R)}function $(){if(T!==null){var O=t.unstable_now();P=O;var B=!0;try{B=T(!0,O)}finally{B?V():(E=!1,T=null)}}else E=!1}var V;if(typeof _=="function")V=function(){_($)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,H=D.port2;D.port1.onmessage=$,V=function(){H.postMessage(null)}}else V=function(){b($,0)};function F(O){T=O,E||(E=!0,V())}function k(O,B){N=b(function(){O(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,F(M))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var G=f;f=B;try{return O()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,B){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var G=f;f=O;try{return B()}finally{f=G}},t.unstable_scheduleCallback=function(O,B,G){var W=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?W+G:W):G=W,O){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=G+K,O={id:u++,callback:B,priorityLevel:O,startTime:G,expirationTime:K,sortIndex:-1},G>W?(O.sortIndex=G,e(c,O),n(l)===null&&O===n(c)&&(x?(v(N),N=-1):x=!0,k(w,G-W))):(O.sortIndex=K,e(l,O),g||h||(g=!0,F(M))),O},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(O){var B=f;return function(){var G=f;f=B;try{return O.apply(this,arguments)}finally{f=G}}}})(AF);RF.exports=AF;var Kq=RF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PF=y,Fs=Kq;function yt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NF=new Set,rv={};function Xf(t,e){nm(t,e),nm(t+"Capture",e)}function nm(t,e){for(rv[t]=e,t=0;t<e.length;t++)NF.add(e[t])}var Ac=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t9=Object.prototype.hasOwnProperty,Yq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iA={},oA={};function Zq(t){return t9.call(oA,t)?!0:t9.call(iA,t)?!1:Yq.test(t)?oA[t]=!0:(iA[t]=!0,!1)}function Qq(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Jq(t,e,n,r){if(e===null||typeof e>"u"||Qq(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wo(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var co={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){co[t]=new Wo(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];co[e]=new Wo(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){co[t]=new Wo(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){co[t]=new Wo(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){co[t]=new Wo(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){co[t]=new Wo(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){co[t]=new Wo(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){co[t]=new Wo(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){co[t]=new Wo(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vw=/[\-:]([a-z])/g;function Hw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vw,Hw);co[e]=new Wo(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vw,Hw);co[e]=new Wo(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vw,Hw);co[e]=new Wo(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){co[t]=new Wo(t,1,!1,t.toLowerCase(),null,!1,!1)});co.xlinkHref=new Wo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){co[t]=new Wo(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gw(t,e,n,r){var i=co.hasOwnProperty(e)?co[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Jq(e,n,i,r)&&(n=null),r||i===null?Zq(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kc=PF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W1=Symbol.for("react.element"),dp=Symbol.for("react.portal"),fp=Symbol.for("react.fragment"),Ww=Symbol.for("react.strict_mode"),n9=Symbol.for("react.profiler"),IF=Symbol.for("react.provider"),OF=Symbol.for("react.context"),jw=Symbol.for("react.forward_ref"),r9=Symbol.for("react.suspense"),i9=Symbol.for("react.suspense_list"),Xw=Symbol.for("react.memo"),vu=Symbol.for("react.lazy"),LF=Symbol.for("react.offscreen"),sA=Symbol.iterator;function H0(t){return t===null||typeof t!="object"?null:(t=sA&&t[sA]||t["@@iterator"],typeof t=="function"?t:null)}var Gr=Object.assign,c4;function _g(t){if(c4===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);c4=e&&e[1]||""}return`
`+c4+t}var u4=!1;function d4(t,e){if(!t||u4)return"";u4=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{u4=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_g(t):""}function eK(t){switch(t.tag){case 5:return _g(t.type);case 16:return _g("Lazy");case 13:return _g("Suspense");case 19:return _g("SuspenseList");case 0:case 2:case 15:return t=d4(t.type,!1),t;case 11:return t=d4(t.type.render,!1),t;case 1:return t=d4(t.type,!0),t;default:return""}}function o9(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fp:return"Fragment";case dp:return"Portal";case n9:return"Profiler";case Ww:return"StrictMode";case r9:return"Suspense";case i9:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case OF:return(t.displayName||"Context")+".Consumer";case IF:return(t._context.displayName||"Context")+".Provider";case jw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xw:return e=t.displayName||null,e!==null?e:o9(t.type)||"Memo";case vu:e=t._payload,t=t._init;try{return o9(t(e))}catch{}}return null}function tK(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return o9(e);case 8:return e===Ww?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function DF(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nK(t){var e=DF(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function j1(t){t._valueTracker||(t._valueTracker=nK(t))}function FF(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=DF(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function l5(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function s9(t,e){var n=e.checked;return Gr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function aA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hu(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $F(t,e){e=e.checked,e!=null&&Gw(t,"checked",e,!1)}function a9(t,e){$F(t,e);var n=Hu(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?l9(t,e.type,n):e.hasOwnProperty("defaultValue")&&l9(t,e.type,Hu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function l9(t,e,n){(e!=="number"||l5(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var wg=Array.isArray;function Up(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hu(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function c9(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(yt(91));return Gr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(yt(92));if(wg(n)){if(1<n.length)throw Error(yt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hu(n)}}function UF(t,e){var n=Hu(e.value),r=Hu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function uA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function BF(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function u9(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?BF(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var X1,kF=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(X1=X1||document.createElement("div"),X1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=X1.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function iv(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ig={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rK=["Webkit","ms","Moz","O"];Object.keys(Ig).forEach(function(t){rK.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ig[e]=Ig[t]})});function zF(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ig.hasOwnProperty(t)&&Ig[t]?(""+e).trim():e+"px"}function VF(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zF(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var iK=Gr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function d9(t,e){if(e){if(iK[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(yt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(yt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(yt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(yt(62))}}function f9(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h9=null;function qw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var p9=null,Bp=null,kp=null;function dA(t){if(t=f3(t)){if(typeof p9!="function")throw Error(yt(280));var e=t.stateNode;e&&(e=kx(e),p9(t.stateNode,t.type,e))}}function HF(t){Bp?kp?kp.push(t):kp=[t]:Bp=t}function GF(){if(Bp){var t=Bp,e=kp;if(kp=Bp=null,dA(t),e)for(t=0;t<e.length;t++)dA(e[t])}}function WF(t,e){return t(e)}function jF(){}var f4=!1;function XF(t,e,n){if(f4)return t(e,n);f4=!0;try{return WF(t,e,n)}finally{f4=!1,(Bp!==null||kp!==null)&&(jF(),GF())}}function ov(t,e){var n=t.stateNode;if(n===null)return null;var r=kx(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(yt(231,e,typeof n));return n}var m9=!1;if(Ac)try{var G0={};Object.defineProperty(G0,"passive",{get:function(){m9=!0}}),window.addEventListener("test",G0,G0),window.removeEventListener("test",G0,G0)}catch{m9=!1}function oK(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Og=!1,c5=null,u5=!1,g9=null,sK={onError:function(t){Og=!0,c5=t}};function aK(t,e,n,r,i,o,s,a,l){Og=!1,c5=null,oK.apply(sK,arguments)}function lK(t,e,n,r,i,o,s,a,l){if(aK.apply(this,arguments),Og){if(Og){var c=c5;Og=!1,c5=null}else throw Error(yt(198));u5||(u5=!0,g9=c)}}function qf(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qF(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fA(t){if(qf(t)!==t)throw Error(yt(188))}function cK(t){var e=t.alternate;if(!e){if(e=qf(t),e===null)throw Error(yt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return fA(i),t;if(o===r)return fA(i),e;o=o.sibling}throw Error(yt(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(yt(189))}}if(n.alternate!==r)throw Error(yt(190))}if(n.tag!==3)throw Error(yt(188));return n.stateNode.current===n?t:e}function KF(t){return t=cK(t),t!==null?YF(t):null}function YF(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=YF(t);if(e!==null)return e;t=t.sibling}return null}var ZF=Fs.unstable_scheduleCallback,hA=Fs.unstable_cancelCallback,uK=Fs.unstable_shouldYield,dK=Fs.unstable_requestPaint,ai=Fs.unstable_now,fK=Fs.unstable_getCurrentPriorityLevel,Kw=Fs.unstable_ImmediatePriority,QF=Fs.unstable_UserBlockingPriority,d5=Fs.unstable_NormalPriority,hK=Fs.unstable_LowPriority,JF=Fs.unstable_IdlePriority,Fx=null,Al=null;function pK(t){if(Al&&typeof Al.onCommitFiberRoot=="function")try{Al.onCommitFiberRoot(Fx,t,void 0,(t.current.flags&128)===128)}catch{}}var qa=Math.clz32?Math.clz32:vK,mK=Math.log,gK=Math.LN2;function vK(t){return t>>>=0,t===0?32:31-(mK(t)/gK|0)|0}var q1=64,K1=4194304;function Cg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function f5(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Cg(a):(o&=s,o!==0&&(r=Cg(o)))}else s=n&~i,s!==0?r=Cg(s):o!==0&&(r=Cg(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qa(e),i=1<<n,r|=t[n],e&=~i;return r}function yK(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xK(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-qa(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=yK(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function v9(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function e$(){var t=q1;return q1<<=1,!(q1&4194240)&&(q1=64),t}function h4(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function u3(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qa(e),t[e]=n}function bK(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-qa(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Yw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qa(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var cr=0;function t$(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var n$,Zw,r$,i$,o$,y9=!1,Y1=[],Au=null,Pu=null,Nu=null,sv=new Map,av=new Map,bu=[],SK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pA(t,e){switch(t){case"focusin":case"focusout":Au=null;break;case"dragenter":case"dragleave":Pu=null;break;case"mouseover":case"mouseout":Nu=null;break;case"pointerover":case"pointerout":sv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":av.delete(e.pointerId)}}function W0(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=f3(e),e!==null&&Zw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _K(t,e,n,r,i){switch(e){case"focusin":return Au=W0(Au,t,e,n,r,i),!0;case"dragenter":return Pu=W0(Pu,t,e,n,r,i),!0;case"mouseover":return Nu=W0(Nu,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return sv.set(o,W0(sv.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,av.set(o,W0(av.get(o)||null,t,e,n,r,i)),!0}return!1}function s$(t){var e=qd(t.target);if(e!==null){var n=qf(e);if(n!==null){if(e=n.tag,e===13){if(e=qF(n),e!==null){t.blockedOn=e,o$(t.priority,function(){r$(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=x9(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);h9=r,n.target.dispatchEvent(r),h9=null}else return e=f3(n),e!==null&&Zw(e),t.blockedOn=n,!1;e.shift()}return!0}function mA(t,e,n){Oy(t)&&n.delete(e)}function wK(){y9=!1,Au!==null&&Oy(Au)&&(Au=null),Pu!==null&&Oy(Pu)&&(Pu=null),Nu!==null&&Oy(Nu)&&(Nu=null),sv.forEach(mA),av.forEach(mA)}function j0(t,e){t.blockedOn===e&&(t.blockedOn=null,y9||(y9=!0,Fs.unstable_scheduleCallback(Fs.unstable_NormalPriority,wK)))}function lv(t){function e(i){return j0(i,t)}if(0<Y1.length){j0(Y1[0],t);for(var n=1;n<Y1.length;n++){var r=Y1[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Au!==null&&j0(Au,t),Pu!==null&&j0(Pu,t),Nu!==null&&j0(Nu,t),sv.forEach(e),av.forEach(e),n=0;n<bu.length;n++)r=bu[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bu.length&&(n=bu[0],n.blockedOn===null);)s$(n),n.blockedOn===null&&bu.shift()}var zp=kc.ReactCurrentBatchConfig,h5=!0;function CK(t,e,n,r){var i=cr,o=zp.transition;zp.transition=null;try{cr=1,Qw(t,e,n,r)}finally{cr=i,zp.transition=o}}function EK(t,e,n,r){var i=cr,o=zp.transition;zp.transition=null;try{cr=4,Qw(t,e,n,r)}finally{cr=i,zp.transition=o}}function Qw(t,e,n,r){if(h5){var i=x9(t,e,n,r);if(i===null)w4(t,e,r,p5,n),pA(t,r);else if(_K(i,t,e,n,r))r.stopPropagation();else if(pA(t,r),e&4&&-1<SK.indexOf(t)){for(;i!==null;){var o=f3(i);if(o!==null&&n$(o),o=x9(t,e,n,r),o===null&&w4(t,e,r,p5,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else w4(t,e,r,null,n)}}var p5=null;function x9(t,e,n,r){if(p5=null,t=qw(r),t=qd(t),t!==null)if(e=qf(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qF(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return p5=t,null}function a$(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fK()){case Kw:return 1;case QF:return 4;case d5:case hK:return 16;case JF:return 536870912;default:return 16}default:return 16}}var Cu=null,Jw=null,Ly=null;function l$(){if(Ly)return Ly;var t,e=Jw,n=e.length,r,i="value"in Cu?Cu.value:Cu.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ly=i.slice(t,1<r?1-r:void 0)}function Dy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Z1(){return!0}function gA(){return!1}function Bs(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Z1:gA,this.isPropagationStopped=gA,this}return Gr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Z1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Z1)},persist:function(){},isPersistent:Z1}),e}var Zm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eC=Bs(Zm),d3=Gr({},Zm,{view:0,detail:0}),TK=Bs(d3),p4,m4,X0,$x=Gr({},d3,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==X0&&(X0&&t.type==="mousemove"?(p4=t.screenX-X0.screenX,m4=t.screenY-X0.screenY):m4=p4=0,X0=t),p4)},movementY:function(t){return"movementY"in t?t.movementY:m4}}),vA=Bs($x),MK=Gr({},$x,{dataTransfer:0}),RK=Bs(MK),AK=Gr({},d3,{relatedTarget:0}),g4=Bs(AK),PK=Gr({},Zm,{animationName:0,elapsedTime:0,pseudoElement:0}),NK=Bs(PK),IK=Gr({},Zm,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OK=Bs(IK),LK=Gr({},Zm,{data:0}),yA=Bs(LK),DK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$K={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UK(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$K[t])?!!e[t]:!1}function tC(){return UK}var BK=Gr({},d3,{key:function(t){if(t.key){var e=DK[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Dy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FK[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tC,charCode:function(t){return t.type==="keypress"?Dy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kK=Bs(BK),zK=Gr({},$x,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xA=Bs(zK),VK=Gr({},d3,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tC}),HK=Bs(VK),GK=Gr({},Zm,{propertyName:0,elapsedTime:0,pseudoElement:0}),WK=Bs(GK),jK=Gr({},$x,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XK=Bs(jK),qK=[9,13,27,32],nC=Ac&&"CompositionEvent"in window,Lg=null;Ac&&"documentMode"in document&&(Lg=document.documentMode);var KK=Ac&&"TextEvent"in window&&!Lg,c$=Ac&&(!nC||Lg&&8<Lg&&11>=Lg),bA=String.fromCharCode(32),SA=!1;function u$(t,e){switch(t){case"keyup":return qK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d$(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hp=!1;function YK(t,e){switch(t){case"compositionend":return d$(e);case"keypress":return e.which!==32?null:(SA=!0,bA);case"textInput":return t=e.data,t===bA&&SA?null:t;default:return null}}function ZK(t,e){if(hp)return t==="compositionend"||!nC&&u$(t,e)?(t=l$(),Ly=Jw=Cu=null,hp=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return c$&&e.locale!=="ko"?null:e.data;default:return null}}var QK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _A(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QK[t.type]:e==="textarea"}function f$(t,e,n,r){HF(r),e=m5(e,"onChange"),0<e.length&&(n=new eC("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Dg=null,cv=null;function JK(t){w$(t,0)}function Ux(t){var e=gp(t);if(FF(e))return t}function eY(t,e){if(t==="change")return e}var h$=!1;if(Ac){var v4;if(Ac){var y4="oninput"in document;if(!y4){var wA=document.createElement("div");wA.setAttribute("oninput","return;"),y4=typeof wA.oninput=="function"}v4=y4}else v4=!1;h$=v4&&(!document.documentMode||9<document.documentMode)}function CA(){Dg&&(Dg.detachEvent("onpropertychange",p$),cv=Dg=null)}function p$(t){if(t.propertyName==="value"&&Ux(cv)){var e=[];f$(e,cv,t,qw(t)),XF(JK,e)}}function tY(t,e,n){t==="focusin"?(CA(),Dg=e,cv=n,Dg.attachEvent("onpropertychange",p$)):t==="focusout"&&CA()}function nY(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ux(cv)}function rY(t,e){if(t==="click")return Ux(e)}function iY(t,e){if(t==="input"||t==="change")return Ux(e)}function oY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var el=typeof Object.is=="function"?Object.is:oY;function uv(t,e){if(el(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!t9.call(e,i)||!el(t[i],e[i]))return!1}return!0}function EA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function TA(t,e){var n=EA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=EA(n)}}function m$(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?m$(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function g$(){for(var t=window,e=l5();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=l5(t.document)}return e}function rC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sY(t){var e=g$(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&m$(n.ownerDocument.documentElement,n)){if(r!==null&&rC(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=TA(n,o);var s=TA(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aY=Ac&&"documentMode"in document&&11>=document.documentMode,pp=null,b9=null,Fg=null,S9=!1;function MA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;S9||pp==null||pp!==l5(r)||(r=pp,"selectionStart"in r&&rC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fg&&uv(Fg,r)||(Fg=r,r=m5(b9,"onSelect"),0<r.length&&(e=new eC("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pp)))}function Q1(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mp={animationend:Q1("Animation","AnimationEnd"),animationiteration:Q1("Animation","AnimationIteration"),animationstart:Q1("Animation","AnimationStart"),transitionend:Q1("Transition","TransitionEnd")},x4={},v$={};Ac&&(v$=document.createElement("div").style,"AnimationEvent"in window||(delete mp.animationend.animation,delete mp.animationiteration.animation,delete mp.animationstart.animation),"TransitionEvent"in window||delete mp.transitionend.transition);function Bx(t){if(x4[t])return x4[t];if(!mp[t])return t;var e=mp[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in v$)return x4[t]=e[n];return t}var y$=Bx("animationend"),x$=Bx("animationiteration"),b$=Bx("animationstart"),S$=Bx("transitionend"),_$=new Map,RA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ed(t,e){_$.set(t,e),Xf(e,[t])}for(var b4=0;b4<RA.length;b4++){var S4=RA[b4],lY=S4.toLowerCase(),cY=S4[0].toUpperCase()+S4.slice(1);ed(lY,"on"+cY)}ed(y$,"onAnimationEnd");ed(x$,"onAnimationIteration");ed(b$,"onAnimationStart");ed("dblclick","onDoubleClick");ed("focusin","onFocus");ed("focusout","onBlur");ed(S$,"onTransitionEnd");nm("onMouseEnter",["mouseout","mouseover"]);nm("onMouseLeave",["mouseout","mouseover"]);nm("onPointerEnter",["pointerout","pointerover"]);nm("onPointerLeave",["pointerout","pointerover"]);Xf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uY=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eg));function AA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lK(r,e,void 0,t),t.currentTarget=null}function w$(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;AA(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;AA(i,a,c),o=l}}}if(u5)throw t=g9,u5=!1,g9=null,t}function Er(t,e){var n=e[T9];n===void 0&&(n=e[T9]=new Set);var r=t+"__bubble";n.has(r)||(C$(e,t,2,!1),n.add(r))}function _4(t,e,n){var r=0;e&&(r|=4),C$(n,t,r,e)}var J1="_reactListening"+Math.random().toString(36).slice(2);function dv(t){if(!t[J1]){t[J1]=!0,NF.forEach(function(n){n!=="selectionchange"&&(uY.has(n)||_4(n,!1,t),_4(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[J1]||(e[J1]=!0,_4("selectionchange",!1,e))}}function C$(t,e,n,r){switch(a$(e)){case 1:var i=CK;break;case 4:i=EK;break;default:i=Qw}n=i.bind(null,e,n,t),i=void 0,!m9||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function w4(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=qd(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}XF(function(){var c=o,u=qw(n),d=[];e:{var f=_$.get(t);if(f!==void 0){var h=eC,g=t;switch(t){case"keypress":if(Dy(n)===0)break e;case"keydown":case"keyup":h=kK;break;case"focusin":g="focus",h=g4;break;case"focusout":g="blur",h=g4;break;case"beforeblur":case"afterblur":h=g4;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=vA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=RK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=HK;break;case y$:case x$:case b$:h=NK;break;case S$:h=WK;break;case"scroll":h=TK;break;case"wheel":h=XK;break;case"copy":case"cut":case"paste":h=OK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=xA}var x=(e&4)!==0,b=!x&&t==="scroll",v=x?f!==null?f+"Capture":null:f;x=[];for(var _=c,S;_!==null;){S=_;var w=S.stateNode;if(S.tag===5&&w!==null&&(S=w,v!==null&&(w=ov(_,v),w!=null&&x.push(fv(_,w,S)))),b)break;_=_.return}0<x.length&&(f=new h(f,g,null,n,u),d.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==h9&&(g=n.relatedTarget||n.fromElement)&&(qd(g)||g[Pc]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=c,g=g?qd(g):null,g!==null&&(b=qf(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=c),h!==g)){if(x=vA,w="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(x=xA,w="onPointerLeave",v="onPointerEnter",_="pointer"),b=h==null?f:gp(h),S=g==null?f:gp(g),f=new x(w,_+"leave",h,n,u),f.target=b,f.relatedTarget=S,w=null,qd(u)===c&&(x=new x(v,_+"enter",g,n,u),x.target=S,x.relatedTarget=b,w=x),b=w,h&&g)t:{for(x=h,v=g,_=0,S=x;S;S=bh(S))_++;for(S=0,w=v;w;w=bh(w))S++;for(;0<_-S;)x=bh(x),_--;for(;0<S-_;)v=bh(v),S--;for(;_--;){if(x===v||v!==null&&x===v.alternate)break t;x=bh(x),v=bh(v)}x=null}else x=null;h!==null&&PA(d,f,h,x,!1),g!==null&&b!==null&&PA(d,b,g,x,!0)}}e:{if(f=c?gp(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var M=eY;else if(_A(f))if(h$)M=iY;else{M=nY;var E=tY}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=rY);if(M&&(M=M(t,c))){f$(d,M,n,u);break e}E&&E(t,f,c),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&l9(f,"number",f.value)}switch(E=c?gp(c):window,t){case"focusin":(_A(E)||E.contentEditable==="true")&&(pp=E,b9=c,Fg=null);break;case"focusout":Fg=b9=pp=null;break;case"mousedown":S9=!0;break;case"contextmenu":case"mouseup":case"dragend":S9=!1,MA(d,n,u);break;case"selectionchange":if(aY)break;case"keydown":case"keyup":MA(d,n,u)}var T;if(nC)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else hp?u$(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(c$&&n.locale!=="ko"&&(hp||N!=="onCompositionStart"?N==="onCompositionEnd"&&hp&&(T=l$()):(Cu=u,Jw="value"in Cu?Cu.value:Cu.textContent,hp=!0)),E=m5(c,N),0<E.length&&(N=new yA(N,t,null,n,u),d.push({event:N,listeners:E}),T?N.data=T:(T=d$(n),T!==null&&(N.data=T)))),(T=KK?YK(t,n):ZK(t,n))&&(c=m5(c,"onBeforeInput"),0<c.length&&(u=new yA("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=T))}w$(d,e)})}function fv(t,e,n){return{instance:t,listener:e,currentTarget:n}}function m5(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ov(t,n),o!=null&&r.unshift(fv(t,o,i)),o=ov(t,e),o!=null&&r.push(fv(t,o,i))),t=t.return}return r}function bh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function PA(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ov(n,o),l!=null&&s.unshift(fv(n,l,a))):i||(l=ov(n,o),l!=null&&s.push(fv(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var dY=/\r\n?/g,fY=/\u0000|\uFFFD/g;function NA(t){return(typeof t=="string"?t:""+t).replace(dY,`
`).replace(fY,"")}function e2(t,e,n){if(e=NA(e),NA(t)!==e&&n)throw Error(yt(425))}function g5(){}var _9=null,w9=null;function C9(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var E9=typeof setTimeout=="function"?setTimeout:void 0,hY=typeof clearTimeout=="function"?clearTimeout:void 0,IA=typeof Promise=="function"?Promise:void 0,pY=typeof queueMicrotask=="function"?queueMicrotask:typeof IA<"u"?function(t){return IA.resolve(null).then(t).catch(mY)}:E9;function mY(t){setTimeout(function(){throw t})}function C4(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),lv(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);lv(e)}function Iu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function OA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Qm=Math.random().toString(36).slice(2),El="__reactFiber$"+Qm,hv="__reactProps$"+Qm,Pc="__reactContainer$"+Qm,T9="__reactEvents$"+Qm,gY="__reactListeners$"+Qm,vY="__reactHandles$"+Qm;function qd(t){var e=t[El];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pc]||n[El]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=OA(t);t!==null;){if(n=t[El])return n;t=OA(t)}return e}t=n,n=t.parentNode}return null}function f3(t){return t=t[El]||t[Pc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gp(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(yt(33))}function kx(t){return t[hv]||null}var M9=[],vp=-1;function td(t){return{current:t}}function Mr(t){0>vp||(t.current=M9[vp],M9[vp]=null,vp--)}function wr(t,e){vp++,M9[vp]=t.current,t.current=e}var Gu={},No=td(Gu),ss=td(!1),wf=Gu;function rm(t,e){var n=t.type.contextTypes;if(!n)return Gu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function as(t){return t=t.childContextTypes,t!=null}function v5(){Mr(ss),Mr(No)}function LA(t,e,n){if(No.current!==Gu)throw Error(yt(168));wr(No,e),wr(ss,n)}function E$(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(yt(108,tK(t)||"Unknown",i));return Gr({},n,r)}function y5(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gu,wf=No.current,wr(No,t),wr(ss,ss.current),!0}function DA(t,e,n){var r=t.stateNode;if(!r)throw Error(yt(169));n?(t=E$(t,e,wf),r.__reactInternalMemoizedMergedChildContext=t,Mr(ss),Mr(No),wr(No,t)):Mr(ss),wr(ss,n)}var fc=null,zx=!1,E4=!1;function T$(t){fc===null?fc=[t]:fc.push(t)}function yY(t){zx=!0,T$(t)}function nd(){if(!E4&&fc!==null){E4=!0;var t=0,e=cr;try{var n=fc;for(cr=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fc=null,zx=!1}catch(i){throw fc!==null&&(fc=fc.slice(t+1)),ZF(Kw,nd),i}finally{cr=e,E4=!1}}return null}var yp=[],xp=0,x5=null,b5=0,sa=[],aa=0,Cf=null,yc=1,xc="";function Ud(t,e){yp[xp++]=b5,yp[xp++]=x5,x5=t,b5=e}function M$(t,e,n){sa[aa++]=yc,sa[aa++]=xc,sa[aa++]=Cf,Cf=t;var r=yc;t=xc;var i=32-qa(r)-1;r&=~(1<<i),n+=1;var o=32-qa(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,yc=1<<32-qa(e)+i|n<<i|r,xc=o+t}else yc=1<<o|n<<i|r,xc=t}function iC(t){t.return!==null&&(Ud(t,1),M$(t,1,0))}function oC(t){for(;t===x5;)x5=yp[--xp],yp[xp]=null,b5=yp[--xp],yp[xp]=null;for(;t===Cf;)Cf=sa[--aa],sa[aa]=null,xc=sa[--aa],sa[aa]=null,yc=sa[--aa],sa[aa]=null}var Is=null,As=null,Dr=!1,Ga=null;function R$(t,e){var n=ua(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function FA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Is=t,As=Iu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Is=t,As=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Cf!==null?{id:yc,overflow:xc}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ua(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Is=t,As=null,!0):!1;default:return!1}}function R9(t){return(t.mode&1)!==0&&(t.flags&128)===0}function A9(t){if(Dr){var e=As;if(e){var n=e;if(!FA(t,e)){if(R9(t))throw Error(yt(418));e=Iu(n.nextSibling);var r=Is;e&&FA(t,e)?R$(r,n):(t.flags=t.flags&-4097|2,Dr=!1,Is=t)}}else{if(R9(t))throw Error(yt(418));t.flags=t.flags&-4097|2,Dr=!1,Is=t}}}function $A(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Is=t}function t2(t){if(t!==Is)return!1;if(!Dr)return $A(t),Dr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!C9(t.type,t.memoizedProps)),e&&(e=As)){if(R9(t))throw A$(),Error(yt(418));for(;e;)R$(t,e),e=Iu(e.nextSibling)}if($A(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(yt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){As=Iu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}As=null}}else As=Is?Iu(t.stateNode.nextSibling):null;return!0}function A$(){for(var t=As;t;)t=Iu(t.nextSibling)}function im(){As=Is=null,Dr=!1}function sC(t){Ga===null?Ga=[t]:Ga.push(t)}var xY=kc.ReactCurrentBatchConfig;function Ba(t,e){if(t&&t.defaultProps){e=Gr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var S5=td(null),_5=null,bp=null,aC=null;function lC(){aC=bp=_5=null}function cC(t){var e=S5.current;Mr(S5),t._currentValue=e}function P9(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vp(t,e){_5=t,aC=bp=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(is=!0),t.firstContext=null)}function va(t){var e=t._currentValue;if(aC!==t)if(t={context:t,memoizedValue:e,next:null},bp===null){if(_5===null)throw Error(yt(308));bp=t,_5.dependencies={lanes:0,firstContext:t}}else bp=bp.next=t;return e}var Kd=null;function uC(t){Kd===null?Kd=[t]:Kd.push(t)}function P$(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,uC(e)):(n.next=i.next,i.next=n),e.interleaved=n,Nc(t,r)}function Nc(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yu=!1;function dC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N$(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ou(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Yn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Nc(t,n)}return i=r.interleaved,i===null?(e.next=e,uC(r)):(e.next=i.next,i.next=e),r.interleaved=e,Nc(t,n)}function Fy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yw(t,n)}}function UA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function w5(t,e,n,r){var i=t.updateQueue;yu=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,x=a;switch(f=e,h=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){d=g.call(h,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,f=typeof g=="function"?g.call(h,d,f):g,f==null)break e;d=Gr({},d,f);break e;case 2:yu=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Tf|=s,t.lanes=s,t.memoizedState=d}}function BA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(yt(191,i));i.call(r)}}}var I$=new PF.Component().refs;function N9(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Gr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vx={isMounted:function(t){return(t=t._reactInternals)?qf(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zo(),i=Du(t),o=wc(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ou(t,o,i),e!==null&&(Ka(e,t,i,r),Fy(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zo(),i=Du(t),o=wc(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ou(t,o,i),e!==null&&(Ka(e,t,i,r),Fy(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zo(),r=Du(t),i=wc(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ou(t,i,r),e!==null&&(Ka(e,t,r,n),Fy(e,t,r))}};function kA(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!uv(n,r)||!uv(i,o):!0}function O$(t,e,n){var r=!1,i=Gu,o=e.contextType;return typeof o=="object"&&o!==null?o=va(o):(i=as(e)?wf:No.current,r=e.contextTypes,o=(r=r!=null)?rm(t,i):Gu),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vx,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function zA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vx.enqueueReplaceState(e,e.state,null)}function I9(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=I$,dC(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=va(o):(o=as(e)?wf:No.current,i.context=rm(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(N9(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vx.enqueueReplaceState(i,i.state,null),w5(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function q0(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(yt(309));var r=n.stateNode}if(!r)throw Error(yt(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===I$&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(yt(284));if(!n._owner)throw Error(yt(290,t))}return t}function n2(t,e){throw t=Object.prototype.toString.call(e),Error(yt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function VA(t){var e=t._init;return e(t._payload)}function L$(t){function e(v,_){if(t){var S=v.deletions;S===null?(v.deletions=[_],v.flags|=16):S.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=Fu(v,_),v.index=0,v.sibling=null,v}function o(v,_,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<_?(v.flags|=2,_):S):(v.flags|=2,_)):(v.flags|=1048576,_)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,S,w){return _===null||_.tag!==6?(_=I4(S,v.mode,w),_.return=v,_):(_=i(_,S),_.return=v,_)}function l(v,_,S,w){var M=S.type;return M===fp?u(v,_,S.props.children,w,S.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===vu&&VA(M)===_.type)?(w=i(_,S.props),w.ref=q0(v,_,S),w.return=v,w):(w=Vy(S.type,S.key,S.props,null,v.mode,w),w.ref=q0(v,_,S),w.return=v,w)}function c(v,_,S,w){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=O4(S,v.mode,w),_.return=v,_):(_=i(_,S.children||[]),_.return=v,_)}function u(v,_,S,w,M){return _===null||_.tag!==7?(_=uf(S,v.mode,w,M),_.return=v,_):(_=i(_,S),_.return=v,_)}function d(v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=I4(""+_,v.mode,S),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case W1:return S=Vy(_.type,_.key,_.props,null,v.mode,S),S.ref=q0(v,null,_),S.return=v,S;case dp:return _=O4(_,v.mode,S),_.return=v,_;case vu:var w=_._init;return d(v,w(_._payload),S)}if(wg(_)||H0(_))return _=uf(_,v.mode,S,null),_.return=v,_;n2(v,_)}return null}function f(v,_,S,w){var M=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return M!==null?null:a(v,_,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case W1:return S.key===M?l(v,_,S,w):null;case dp:return S.key===M?c(v,_,S,w):null;case vu:return M=S._init,f(v,_,M(S._payload),w)}if(wg(S)||H0(S))return M!==null?null:u(v,_,S,w,null);n2(v,S)}return null}function h(v,_,S,w,M){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(S)||null,a(_,v,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case W1:return v=v.get(w.key===null?S:w.key)||null,l(_,v,w,M);case dp:return v=v.get(w.key===null?S:w.key)||null,c(_,v,w,M);case vu:var E=w._init;return h(v,_,S,E(w._payload),M)}if(wg(w)||H0(w))return v=v.get(S)||null,u(_,v,w,M,null);n2(_,w)}return null}function g(v,_,S,w){for(var M=null,E=null,T=_,N=_=0,R=null;T!==null&&N<S.length;N++){T.index>N?(R=T,T=null):R=T.sibling;var P=f(v,T,S[N],w);if(P===null){T===null&&(T=R);break}t&&T&&P.alternate===null&&e(v,T),_=o(P,_,N),E===null?M=P:E.sibling=P,E=P,T=R}if(N===S.length)return n(v,T),Dr&&Ud(v,N),M;if(T===null){for(;N<S.length;N++)T=d(v,S[N],w),T!==null&&(_=o(T,_,N),E===null?M=T:E.sibling=T,E=T);return Dr&&Ud(v,N),M}for(T=r(v,T);N<S.length;N++)R=h(T,v,N,S[N],w),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?N:R.key),_=o(R,_,N),E===null?M=R:E.sibling=R,E=R);return t&&T.forEach(function(L){return e(v,L)}),Dr&&Ud(v,N),M}function x(v,_,S,w){var M=H0(S);if(typeof M!="function")throw Error(yt(150));if(S=M.call(S),S==null)throw Error(yt(151));for(var E=M=null,T=_,N=_=0,R=null,P=S.next();T!==null&&!P.done;N++,P=S.next()){T.index>N?(R=T,T=null):R=T.sibling;var L=f(v,T,P.value,w);if(L===null){T===null&&(T=R);break}t&&T&&L.alternate===null&&e(v,T),_=o(L,_,N),E===null?M=L:E.sibling=L,E=L,T=R}if(P.done)return n(v,T),Dr&&Ud(v,N),M;if(T===null){for(;!P.done;N++,P=S.next())P=d(v,P.value,w),P!==null&&(_=o(P,_,N),E===null?M=P:E.sibling=P,E=P);return Dr&&Ud(v,N),M}for(T=r(v,T);!P.done;N++,P=S.next())P=h(T,v,N,P.value,w),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?N:P.key),_=o(P,_,N),E===null?M=P:E.sibling=P,E=P);return t&&T.forEach(function($){return e(v,$)}),Dr&&Ud(v,N),M}function b(v,_,S,w){if(typeof S=="object"&&S!==null&&S.type===fp&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case W1:e:{for(var M=S.key,E=_;E!==null;){if(E.key===M){if(M=S.type,M===fp){if(E.tag===7){n(v,E.sibling),_=i(E,S.props.children),_.return=v,v=_;break e}}else if(E.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===vu&&VA(M)===E.type){n(v,E.sibling),_=i(E,S.props),_.ref=q0(v,E,S),_.return=v,v=_;break e}n(v,E);break}else e(v,E);E=E.sibling}S.type===fp?(_=uf(S.props.children,v.mode,w,S.key),_.return=v,v=_):(w=Vy(S.type,S.key,S.props,null,v.mode,w),w.ref=q0(v,_,S),w.return=v,v=w)}return s(v);case dp:e:{for(E=S.key;_!==null;){if(_.key===E)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(v,_.sibling),_=i(_,S.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=O4(S,v.mode,w),_.return=v,v=_}return s(v);case vu:return E=S._init,b(v,_,E(S._payload),w)}if(wg(S))return g(v,_,S,w);if(H0(S))return x(v,_,S,w);n2(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,S),_.return=v,v=_):(n(v,_),_=I4(S,v.mode,w),_.return=v,v=_),s(v)):n(v,_)}return b}var om=L$(!0),D$=L$(!1),h3={},Pl=td(h3),pv=td(h3),mv=td(h3);function Yd(t){if(t===h3)throw Error(yt(174));return t}function fC(t,e){switch(wr(mv,e),wr(pv,t),wr(Pl,h3),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:u9(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=u9(e,t)}Mr(Pl),wr(Pl,e)}function sm(){Mr(Pl),Mr(pv),Mr(mv)}function F$(t){Yd(mv.current);var e=Yd(Pl.current),n=u9(e,t.type);e!==n&&(wr(pv,t),wr(Pl,n))}function hC(t){pv.current===t&&(Mr(Pl),Mr(pv))}var Br=td(0);function C5(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var T4=[];function pC(){for(var t=0;t<T4.length;t++)T4[t]._workInProgressVersionPrimary=null;T4.length=0}var $y=kc.ReactCurrentDispatcher,M4=kc.ReactCurrentBatchConfig,Ef=0,zr=null,Ei=null,Ui=null,E5=!1,$g=!1,gv=0,bY=0;function yo(){throw Error(yt(321))}function mC(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!el(t[n],e[n]))return!1;return!0}function gC(t,e,n,r,i,o){if(Ef=o,zr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$y.current=t===null||t.memoizedState===null?CY:EY,t=n(r,i),$g){o=0;do{if($g=!1,gv=0,25<=o)throw Error(yt(301));o+=1,Ui=Ei=null,e.updateQueue=null,$y.current=TY,t=n(r,i)}while($g)}if($y.current=T5,e=Ei!==null&&Ei.next!==null,Ef=0,Ui=Ei=zr=null,E5=!1,e)throw Error(yt(300));return t}function vC(){var t=gv!==0;return gv=0,t}function wl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ui===null?zr.memoizedState=Ui=t:Ui=Ui.next=t,Ui}function ya(){if(Ei===null){var t=zr.alternate;t=t!==null?t.memoizedState:null}else t=Ei.next;var e=Ui===null?zr.memoizedState:Ui.next;if(e!==null)Ui=e,Ei=t;else{if(t===null)throw Error(yt(310));Ei=t,t={memoizedState:Ei.memoizedState,baseState:Ei.baseState,baseQueue:Ei.baseQueue,queue:Ei.queue,next:null},Ui===null?zr.memoizedState=Ui=t:Ui=Ui.next=t}return Ui}function vv(t,e){return typeof e=="function"?e(t):e}function R4(t){var e=ya(),n=e.queue;if(n===null)throw Error(yt(311));n.lastRenderedReducer=t;var r=Ei,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Ef&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,zr.lanes|=u,Tf|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,el(r,e.memoizedState)||(is=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,zr.lanes|=o,Tf|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function A4(t){var e=ya(),n=e.queue;if(n===null)throw Error(yt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);el(o,e.memoizedState)||(is=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function $$(){}function U$(t,e){var n=zr,r=ya(),i=e(),o=!el(r.memoizedState,i);if(o&&(r.memoizedState=i,is=!0),r=r.queue,yC(z$.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ui!==null&&Ui.memoizedState.tag&1){if(n.flags|=2048,yv(9,k$.bind(null,n,r,i,e),void 0,null),Gi===null)throw Error(yt(349));Ef&30||B$(n,e,i)}return i}function B$(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=zr.updateQueue,e===null?(e={lastEffect:null,stores:null},zr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function k$(t,e,n,r){e.value=n,e.getSnapshot=r,V$(e)&&H$(t)}function z$(t,e,n){return n(function(){V$(e)&&H$(t)})}function V$(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!el(t,n)}catch{return!0}}function H$(t){var e=Nc(t,1);e!==null&&Ka(e,t,1,-1)}function HA(t){var e=wl();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vv,lastRenderedState:t},e.queue=t,t=t.dispatch=wY.bind(null,zr,t),[e.memoizedState,t]}function yv(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=zr.updateQueue,e===null?(e={lastEffect:null,stores:null},zr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function G$(){return ya().memoizedState}function Uy(t,e,n,r){var i=wl();zr.flags|=t,i.memoizedState=yv(1|e,n,void 0,r===void 0?null:r)}function Hx(t,e,n,r){var i=ya();r=r===void 0?null:r;var o=void 0;if(Ei!==null){var s=Ei.memoizedState;if(o=s.destroy,r!==null&&mC(r,s.deps)){i.memoizedState=yv(e,n,o,r);return}}zr.flags|=t,i.memoizedState=yv(1|e,n,o,r)}function GA(t,e){return Uy(8390656,8,t,e)}function yC(t,e){return Hx(2048,8,t,e)}function W$(t,e){return Hx(4,2,t,e)}function j$(t,e){return Hx(4,4,t,e)}function X$(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function q$(t,e,n){return n=n!=null?n.concat([t]):null,Hx(4,4,X$.bind(null,e,t),n)}function xC(){}function K$(t,e){var n=ya();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mC(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Y$(t,e){var n=ya();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mC(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Z$(t,e,n){return Ef&21?(el(n,e)||(n=e$(),zr.lanes|=n,Tf|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,is=!0),t.memoizedState=n)}function SY(t,e){var n=cr;cr=n!==0&&4>n?n:4,t(!0);var r=M4.transition;M4.transition={};try{t(!1),e()}finally{cr=n,M4.transition=r}}function Q$(){return ya().memoizedState}function _Y(t,e,n){var r=Du(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},J$(t))eU(e,n);else if(n=P$(t,e,n,r),n!==null){var i=zo();Ka(n,t,r,i),tU(n,e,r)}}function wY(t,e,n){var r=Du(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(J$(t))eU(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,el(a,s)){var l=e.interleaved;l===null?(i.next=i,uC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=P$(t,e,i,r),n!==null&&(i=zo(),Ka(n,t,r,i),tU(n,e,r))}}function J$(t){var e=t.alternate;return t===zr||e!==null&&e===zr}function eU(t,e){$g=E5=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tU(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yw(t,n)}}var T5={readContext:va,useCallback:yo,useContext:yo,useEffect:yo,useImperativeHandle:yo,useInsertionEffect:yo,useLayoutEffect:yo,useMemo:yo,useReducer:yo,useRef:yo,useState:yo,useDebugValue:yo,useDeferredValue:yo,useTransition:yo,useMutableSource:yo,useSyncExternalStore:yo,useId:yo,unstable_isNewReconciler:!1},CY={readContext:va,useCallback:function(t,e){return wl().memoizedState=[t,e===void 0?null:e],t},useContext:va,useEffect:GA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Uy(4194308,4,X$.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Uy(4194308,4,t,e)},useInsertionEffect:function(t,e){return Uy(4,2,t,e)},useMemo:function(t,e){var n=wl();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wl();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_Y.bind(null,zr,t),[r.memoizedState,t]},useRef:function(t){var e=wl();return t={current:t},e.memoizedState=t},useState:HA,useDebugValue:xC,useDeferredValue:function(t){return wl().memoizedState=t},useTransition:function(){var t=HA(!1),e=t[0];return t=SY.bind(null,t[1]),wl().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=zr,i=wl();if(Dr){if(n===void 0)throw Error(yt(407));n=n()}else{if(n=e(),Gi===null)throw Error(yt(349));Ef&30||B$(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,GA(z$.bind(null,r,o,t),[t]),r.flags|=2048,yv(9,k$.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=wl(),e=Gi.identifierPrefix;if(Dr){var n=xc,r=yc;n=(r&~(1<<32-qa(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gv++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=bY++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},EY={readContext:va,useCallback:K$,useContext:va,useEffect:yC,useImperativeHandle:q$,useInsertionEffect:W$,useLayoutEffect:j$,useMemo:Y$,useReducer:R4,useRef:G$,useState:function(){return R4(vv)},useDebugValue:xC,useDeferredValue:function(t){var e=ya();return Z$(e,Ei.memoizedState,t)},useTransition:function(){var t=R4(vv)[0],e=ya().memoizedState;return[t,e]},useMutableSource:$$,useSyncExternalStore:U$,useId:Q$,unstable_isNewReconciler:!1},TY={readContext:va,useCallback:K$,useContext:va,useEffect:yC,useImperativeHandle:q$,useInsertionEffect:W$,useLayoutEffect:j$,useMemo:Y$,useReducer:A4,useRef:G$,useState:function(){return A4(vv)},useDebugValue:xC,useDeferredValue:function(t){var e=ya();return Ei===null?e.memoizedState=t:Z$(e,Ei.memoizedState,t)},useTransition:function(){var t=A4(vv)[0],e=ya().memoizedState;return[t,e]},useMutableSource:$$,useSyncExternalStore:U$,useId:Q$,unstable_isNewReconciler:!1};function am(t,e){try{var n="",r=e;do n+=eK(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function P4(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function O9(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var MY=typeof WeakMap=="function"?WeakMap:Map;function nU(t,e,n){n=wc(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){R5||(R5=!0,H9=r),O9(t,e)},n}function rU(t,e,n){n=wc(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){O9(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){O9(t,e),typeof r!="function"&&(Lu===null?Lu=new Set([this]):Lu.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function WA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new MY;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=zY.bind(null,t,e,n),e.then(t,t))}function jA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function XA(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wc(-1,1),e.tag=2,Ou(n,e,1))),n.lanes|=1),t)}var RY=kc.ReactCurrentOwner,is=!1;function Uo(t,e,n,r){e.child=t===null?D$(e,null,n,r):om(e,t.child,n,r)}function qA(t,e,n,r,i){n=n.render;var o=e.ref;return Vp(e,i),r=gC(t,e,n,r,o,i),n=vC(),t!==null&&!is?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ic(t,e,i)):(Dr&&n&&iC(e),e.flags|=1,Uo(t,e,r,i),e.child)}function KA(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!MC(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,iU(t,e,o,r,i)):(t=Vy(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:uv,n(s,r)&&t.ref===e.ref)return Ic(t,e,i)}return e.flags|=1,t=Fu(o,r),t.ref=e.ref,t.return=e,e.child=t}function iU(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(uv(o,r)&&t.ref===e.ref)if(is=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(is=!0);else return e.lanes=t.lanes,Ic(t,e,i)}return L9(t,e,n,r,i)}function oU(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},wr(_p,Ms),Ms|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,wr(_p,Ms),Ms|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,wr(_p,Ms),Ms|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,wr(_p,Ms),Ms|=r;return Uo(t,e,i,n),e.child}function sU(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function L9(t,e,n,r,i){var o=as(n)?wf:No.current;return o=rm(e,o),Vp(e,i),n=gC(t,e,n,r,o,i),r=vC(),t!==null&&!is?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ic(t,e,i)):(Dr&&r&&iC(e),e.flags|=1,Uo(t,e,n,i),e.child)}function YA(t,e,n,r,i){if(as(n)){var o=!0;y5(e)}else o=!1;if(Vp(e,i),e.stateNode===null)By(t,e),O$(e,n,r),I9(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=va(c):(c=as(n)?wf:No.current,c=rm(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&zA(e,s,r,c),yu=!1;var f=e.memoizedState;s.state=f,w5(e,r,s,i),l=e.memoizedState,a!==r||f!==l||ss.current||yu?(typeof u=="function"&&(N9(e,n,u,r),l=e.memoizedState),(a=yu||kA(e,n,a,r,f,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,N$(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ba(e.type,a),s.props=c,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=va(l):(l=as(n)?wf:No.current,l=rm(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&zA(e,s,r,l),yu=!1,f=e.memoizedState,s.state=f,w5(e,r,s,i);var g=e.memoizedState;a!==d||f!==g||ss.current||yu?(typeof h=="function"&&(N9(e,n,h,r),g=e.memoizedState),(c=yu||kA(e,n,c,r,f,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return D9(t,e,n,r,o,i)}function D9(t,e,n,r,i,o){sU(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&DA(e,n,!1),Ic(t,e,o);r=e.stateNode,RY.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=om(e,t.child,null,o),e.child=om(e,null,a,o)):Uo(t,e,a,o),e.memoizedState=r.state,i&&DA(e,n,!0),e.child}function aU(t){var e=t.stateNode;e.pendingContext?LA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&LA(t,e.context,!1),fC(t,e.containerInfo)}function ZA(t,e,n,r,i){return im(),sC(i),e.flags|=256,Uo(t,e,n,r),e.child}var F9={dehydrated:null,treeContext:null,retryLane:0};function $9(t){return{baseLanes:t,cachePool:null,transitions:null}}function lU(t,e,n){var r=e.pendingProps,i=Br.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),wr(Br,i&1),t===null)return A9(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=jx(s,r,0,null),t=uf(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=$9(n),e.memoizedState=F9,t):bC(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return AY(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Fu(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Fu(a,o):(o=uf(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?$9(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=F9,r}return o=t.child,t=o.sibling,r=Fu(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bC(t,e){return e=jx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function r2(t,e,n,r){return r!==null&&sC(r),om(e,t.child,null,n),t=bC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AY(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=P4(Error(yt(422))),r2(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=jx({mode:"visible",children:r.children},i,0,null),o=uf(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&om(e,t.child,null,s),e.child.memoizedState=$9(s),e.memoizedState=F9,o);if(!(e.mode&1))return r2(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(yt(419)),r=P4(o,r,void 0),r2(t,e,s,r)}if(a=(s&t.childLanes)!==0,is||a){if(r=Gi,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Nc(t,i),Ka(r,t,i,-1))}return TC(),r=P4(Error(yt(421))),r2(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=VY.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,As=Iu(i.nextSibling),Is=e,Dr=!0,Ga=null,t!==null&&(sa[aa++]=yc,sa[aa++]=xc,sa[aa++]=Cf,yc=t.id,xc=t.overflow,Cf=e),e=bC(e,r.children),e.flags|=4096,e)}function QA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),P9(t.return,e,n)}function N4(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function cU(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Uo(t,e,r.children,n),r=Br.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&QA(t,n,e);else if(t.tag===19)QA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(wr(Br,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&C5(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),N4(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&C5(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}N4(e,!0,n,null,o);break;case"together":N4(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function By(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ic(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Tf|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(yt(153));if(e.child!==null){for(t=e.child,n=Fu(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fu(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PY(t,e,n){switch(e.tag){case 3:aU(e),im();break;case 5:F$(e);break;case 1:as(e.type)&&y5(e);break;case 4:fC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;wr(S5,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(wr(Br,Br.current&1),e.flags|=128,null):n&e.child.childLanes?lU(t,e,n):(wr(Br,Br.current&1),t=Ic(t,e,n),t!==null?t.sibling:null);wr(Br,Br.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cU(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),wr(Br,Br.current),r)break;return null;case 22:case 23:return e.lanes=0,oU(t,e,n)}return Ic(t,e,n)}var uU,U9,dU,fU;uU=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};U9=function(){};dU=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Yd(Pl.current);var o=null;switch(n){case"input":i=s9(t,i),r=s9(t,r),o=[];break;case"select":i=Gr({},i,{value:void 0}),r=Gr({},r,{value:void 0}),o=[];break;case"textarea":i=c9(t,i),r=c9(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=g5)}d9(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(rv.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i?.[c],r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(rv.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Er("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};fU=function(t,e,n,r){n!==r&&(e.flags|=4)};function K0(t,e){if(!Dr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xo(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function NY(t,e,n){var r=e.pendingProps;switch(oC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xo(e),null;case 1:return as(e.type)&&v5(),xo(e),null;case 3:return r=e.stateNode,sm(),Mr(ss),Mr(No),pC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(t2(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ga!==null&&(j9(Ga),Ga=null))),U9(t,e),xo(e),null;case 5:hC(e);var i=Yd(mv.current);if(n=e.type,t!==null&&e.stateNode!=null)dU(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(yt(166));return xo(e),null}if(t=Yd(Pl.current),t2(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[El]=e,r[hv]=o,t=(e.mode&1)!==0,n){case"dialog":Er("cancel",r),Er("close",r);break;case"iframe":case"object":case"embed":Er("load",r);break;case"video":case"audio":for(i=0;i<Eg.length;i++)Er(Eg[i],r);break;case"source":Er("error",r);break;case"img":case"image":case"link":Er("error",r),Er("load",r);break;case"details":Er("toggle",r);break;case"input":aA(r,o),Er("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Er("invalid",r);break;case"textarea":cA(r,o),Er("invalid",r)}d9(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&e2(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&e2(r.textContent,a,t),i=["children",""+a]):rv.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Er("scroll",r)}switch(n){case"input":j1(r),lA(r,o,!0);break;case"textarea":j1(r),uA(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=g5)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=BF(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[El]=e,t[hv]=r,uU(t,e,!1,!1),e.stateNode=t;e:{switch(s=f9(n,r),n){case"dialog":Er("cancel",t),Er("close",t),i=r;break;case"iframe":case"object":case"embed":Er("load",t),i=r;break;case"video":case"audio":for(i=0;i<Eg.length;i++)Er(Eg[i],t);i=r;break;case"source":Er("error",t),i=r;break;case"img":case"image":case"link":Er("error",t),Er("load",t),i=r;break;case"details":Er("toggle",t),i=r;break;case"input":aA(t,r),i=s9(t,r),Er("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Gr({},r,{value:void 0}),Er("invalid",t);break;case"textarea":cA(t,r),i=c9(t,r),Er("invalid",t);break;default:i=r}d9(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?VF(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kF(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&iv(t,l):typeof l=="number"&&iv(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(rv.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Er("scroll",t):l!=null&&Gw(t,o,l,s))}switch(n){case"input":j1(t),lA(t,r,!1);break;case"textarea":j1(t),uA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hu(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Up(t,!!r.multiple,o,!1):r.defaultValue!=null&&Up(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=g5)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xo(e),null;case 6:if(t&&e.stateNode!=null)fU(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(yt(166));if(n=Yd(mv.current),Yd(Pl.current),t2(e)){if(r=e.stateNode,n=e.memoizedProps,r[El]=e,(o=r.nodeValue!==n)&&(t=Is,t!==null))switch(t.tag){case 3:e2(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&e2(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[El]=e,e.stateNode=r}return xo(e),null;case 13:if(Mr(Br),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Dr&&As!==null&&e.mode&1&&!(e.flags&128))A$(),im(),e.flags|=98560,o=!1;else if(o=t2(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(yt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(yt(317));o[El]=e}else im(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xo(e),o=!1}else Ga!==null&&(j9(Ga),Ga=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Br.current&1?Ai===0&&(Ai=3):TC())),e.updateQueue!==null&&(e.flags|=4),xo(e),null);case 4:return sm(),U9(t,e),t===null&&dv(e.stateNode.containerInfo),xo(e),null;case 10:return cC(e.type._context),xo(e),null;case 17:return as(e.type)&&v5(),xo(e),null;case 19:if(Mr(Br),o=e.memoizedState,o===null)return xo(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)K0(o,!1);else{if(Ai!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=C5(t),s!==null){for(e.flags|=128,K0(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return wr(Br,Br.current&1|2),e.child}t=t.sibling}o.tail!==null&&ai()>lm&&(e.flags|=128,r=!0,K0(o,!1),e.lanes=4194304)}else{if(!r)if(t=C5(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),K0(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Dr)return xo(e),null}else 2*ai()-o.renderingStartTime>lm&&n!==1073741824&&(e.flags|=128,r=!0,K0(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ai(),e.sibling=null,n=Br.current,wr(Br,r?n&1|2:n&1),e):(xo(e),null);case 22:case 23:return EC(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ms&1073741824&&(xo(e),e.subtreeFlags&6&&(e.flags|=8192)):xo(e),null;case 24:return null;case 25:return null}throw Error(yt(156,e.tag))}function IY(t,e){switch(oC(e),e.tag){case 1:return as(e.type)&&v5(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sm(),Mr(ss),Mr(No),pC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hC(e),null;case 13:if(Mr(Br),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(yt(340));im()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Mr(Br),null;case 4:return sm(),null;case 10:return cC(e.type._context),null;case 22:case 23:return EC(),null;case 24:return null;default:return null}}var i2=!1,Co=!1,OY=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function Sp(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qr(t,e,r)}else n.current=null}function B9(t,e,n){try{n()}catch(r){qr(t,e,r)}}var JA=!1;function LY(t,e){if(_9=h5,t=g$(),rC(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++u===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(w9={focusedElem:t,selectionRange:n},h5=!1,Ft=e;Ft!==null;)if(e=Ft,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ft=t;else for(;Ft!==null;){e=Ft;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,b=g.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ba(e.type,x),b);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(yt(163))}}catch(w){qr(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Ft=t;break}Ft=e.return}return g=JA,JA=!1,g}function Ug(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&B9(e,n,o)}i=i.next}while(i!==r)}}function Gx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function k9(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hU(t){var e=t.alternate;e!==null&&(t.alternate=null,hU(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[El],delete e[hv],delete e[T9],delete e[gY],delete e[vY])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pU(t){return t.tag===5||t.tag===3||t.tag===4}function eP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pU(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function z9(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=g5));else if(r!==4&&(t=t.child,t!==null))for(z9(t,e,n),t=t.sibling;t!==null;)z9(t,e,n),t=t.sibling}function V9(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(V9(t,e,n),t=t.sibling;t!==null;)V9(t,e,n),t=t.sibling}var eo=null,za=!1;function Jc(t,e,n){for(n=n.child;n!==null;)mU(t,e,n),n=n.sibling}function mU(t,e,n){if(Al&&typeof Al.onCommitFiberUnmount=="function")try{Al.onCommitFiberUnmount(Fx,n)}catch{}switch(n.tag){case 5:Co||Sp(n,e);case 6:var r=eo,i=za;eo=null,Jc(t,e,n),eo=r,za=i,eo!==null&&(za?(t=eo,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):eo.removeChild(n.stateNode));break;case 18:eo!==null&&(za?(t=eo,n=n.stateNode,t.nodeType===8?C4(t.parentNode,n):t.nodeType===1&&C4(t,n),lv(t)):C4(eo,n.stateNode));break;case 4:r=eo,i=za,eo=n.stateNode.containerInfo,za=!0,Jc(t,e,n),eo=r,za=i;break;case 0:case 11:case 14:case 15:if(!Co&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&B9(n,e,s),i=i.next}while(i!==r)}Jc(t,e,n);break;case 1:if(!Co&&(Sp(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){qr(n,e,a)}Jc(t,e,n);break;case 21:Jc(t,e,n);break;case 22:n.mode&1?(Co=(r=Co)||n.memoizedState!==null,Jc(t,e,n),Co=r):Jc(t,e,n);break;default:Jc(t,e,n)}}function tP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new OY),e.forEach(function(r){var i=HY.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ia(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:eo=a.stateNode,za=!1;break e;case 3:eo=a.stateNode.containerInfo,za=!0;break e;case 4:eo=a.stateNode.containerInfo,za=!0;break e}a=a.return}if(eo===null)throw Error(yt(160));mU(o,s,i),eo=null,za=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){qr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gU(e,t),e=e.sibling}function gU(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ia(e,t),_l(t),r&4){try{Ug(3,t,t.return),Gx(3,t)}catch(x){qr(t,t.return,x)}try{Ug(5,t,t.return)}catch(x){qr(t,t.return,x)}}break;case 1:Ia(e,t),_l(t),r&512&&n!==null&&Sp(n,n.return);break;case 5:if(Ia(e,t),_l(t),r&512&&n!==null&&Sp(n,n.return),t.flags&32){var i=t.stateNode;try{iv(i,"")}catch(x){qr(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&$F(i,o),f9(a,s);var c=f9(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?VF(i,d):u==="dangerouslySetInnerHTML"?kF(i,d):u==="children"?iv(i,d):Gw(i,u,d,c)}switch(a){case"input":a9(i,o);break;case"textarea":UF(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Up(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?Up(i,!!o.multiple,o.defaultValue,!0):Up(i,!!o.multiple,o.multiple?[]:"",!1))}i[hv]=o}catch(x){qr(t,t.return,x)}}break;case 6:if(Ia(e,t),_l(t),r&4){if(t.stateNode===null)throw Error(yt(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(x){qr(t,t.return,x)}}break;case 3:if(Ia(e,t),_l(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lv(e.containerInfo)}catch(x){qr(t,t.return,x)}break;case 4:Ia(e,t),_l(t);break;case 13:Ia(e,t),_l(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(wC=ai())),r&4&&tP(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Co=(c=Co)||u,Ia(e,t),Co=c):Ia(e,t),_l(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ft=t,u=t.child;u!==null;){for(d=Ft=u;Ft!==null;){switch(f=Ft,h=f.child,f.tag){case 0:case 11:case 14:case 15:Ug(4,f,f.return);break;case 1:Sp(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){qr(r,n,x)}}break;case 5:Sp(f,f.return);break;case 22:if(f.memoizedState!==null){rP(d);continue}}h!==null?(h.return=f,Ft=h):rP(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zF("display",s))}catch(x){qr(t,t.return,x)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){qr(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ia(e,t),_l(t),r&4&&tP(t);break;case 21:break;default:Ia(e,t),_l(t)}}function _l(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pU(n)){var r=n;break e}n=n.return}throw Error(yt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(iv(i,""),r.flags&=-33);var o=eP(t);V9(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=eP(t);z9(t,a,s);break;default:throw Error(yt(161))}}catch(l){qr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DY(t,e,n){Ft=t,vU(t)}function vU(t,e,n){for(var r=(t.mode&1)!==0;Ft!==null;){var i=Ft,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||i2;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Co;a=i2;var c=Co;if(i2=s,(Co=l)&&!c)for(Ft=i;Ft!==null;)s=Ft,l=s.child,s.tag===22&&s.memoizedState!==null?iP(i):l!==null?(l.return=s,Ft=l):iP(i);for(;o!==null;)Ft=o,vU(o),o=o.sibling;Ft=i,i2=a,Co=c}nP(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ft=o):nP(t)}}function nP(t){for(;Ft!==null;){var e=Ft;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Co||Gx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Co)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ba(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&BA(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}BA(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&lv(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(yt(163))}Co||e.flags&512&&k9(e)}catch(f){qr(e,e.return,f)}}if(e===t){Ft=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ft=n;break}Ft=e.return}}function rP(t){for(;Ft!==null;){var e=Ft;if(e===t){Ft=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ft=n;break}Ft=e.return}}function iP(t){for(;Ft!==null;){var e=Ft;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gx(4,e)}catch(l){qr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){qr(e,i,l)}}var o=e.return;try{k9(e)}catch(l){qr(e,o,l)}break;case 5:var s=e.return;try{k9(e)}catch(l){qr(e,s,l)}}}catch(l){qr(e,e.return,l)}if(e===t){Ft=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ft=a;break}Ft=e.return}}var FY=Math.ceil,M5=kc.ReactCurrentDispatcher,SC=kc.ReactCurrentOwner,ha=kc.ReactCurrentBatchConfig,Yn=0,Gi=null,xi=null,so=0,Ms=0,_p=td(0),Ai=0,xv=null,Tf=0,Wx=0,_C=0,Bg=null,es=null,wC=0,lm=1/0,uc=null,R5=!1,H9=null,Lu=null,o2=!1,Eu=null,A5=0,kg=0,G9=null,ky=-1,zy=0;function zo(){return Yn&6?ai():ky!==-1?ky:ky=ai()}function Du(t){return t.mode&1?Yn&2&&so!==0?so&-so:xY.transition!==null?(zy===0&&(zy=e$()),zy):(t=cr,t!==0||(t=window.event,t=t===void 0?16:a$(t.type)),t):1}function Ka(t,e,n,r){if(50<kg)throw kg=0,G9=null,Error(yt(185));u3(t,n,r),(!(Yn&2)||t!==Gi)&&(t===Gi&&(!(Yn&2)&&(Wx|=n),Ai===4&&Su(t,so)),ls(t,r),n===1&&Yn===0&&!(e.mode&1)&&(lm=ai()+500,zx&&nd()))}function ls(t,e){var n=t.callbackNode;xK(t,e);var r=f5(t,t===Gi?so:0);if(r===0)n!==null&&hA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hA(n),e===1)t.tag===0?yY(oP.bind(null,t)):T$(oP.bind(null,t)),pY(function(){!(Yn&6)&&nd()}),n=null;else{switch(t$(r)){case 1:n=Kw;break;case 4:n=QF;break;case 16:n=d5;break;case 536870912:n=JF;break;default:n=d5}n=EU(n,yU.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yU(t,e){if(ky=-1,zy=0,Yn&6)throw Error(yt(327));var n=t.callbackNode;if(Hp()&&t.callbackNode!==n)return null;var r=f5(t,t===Gi?so:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=P5(t,r);else{e=r;var i=Yn;Yn|=2;var o=bU();(Gi!==t||so!==e)&&(uc=null,lm=ai()+500,cf(t,e));do try{BY();break}catch(a){xU(t,a)}while(1);lC(),M5.current=o,Yn=i,xi!==null?e=0:(Gi=null,so=0,e=Ai)}if(e!==0){if(e===2&&(i=v9(t),i!==0&&(r=i,e=W9(t,i))),e===1)throw n=xv,cf(t,0),Su(t,r),ls(t,ai()),n;if(e===6)Su(t,r);else{if(i=t.current.alternate,!(r&30)&&!$Y(i)&&(e=P5(t,r),e===2&&(o=v9(t),o!==0&&(r=o,e=W9(t,o))),e===1))throw n=xv,cf(t,0),Su(t,r),ls(t,ai()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(yt(345));case 2:Bd(t,es,uc);break;case 3:if(Su(t,r),(r&130023424)===r&&(e=wC+500-ai(),10<e)){if(f5(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){zo(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=E9(Bd.bind(null,t,es,uc),e);break}Bd(t,es,uc);break;case 4:if(Su(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-qa(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ai()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FY(r/1960))-r,10<r){t.timeoutHandle=E9(Bd.bind(null,t,es,uc),r);break}Bd(t,es,uc);break;case 5:Bd(t,es,uc);break;default:throw Error(yt(329))}}}return ls(t,ai()),t.callbackNode===n?yU.bind(null,t):null}function W9(t,e){var n=Bg;return t.current.memoizedState.isDehydrated&&(cf(t,e).flags|=256),t=P5(t,e),t!==2&&(e=es,es=n,e!==null&&j9(e)),t}function j9(t){es===null?es=t:es.push.apply(es,t)}function $Y(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!el(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Su(t,e){for(e&=~_C,e&=~Wx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qa(e),r=1<<n;t[n]=-1,e&=~r}}function oP(t){if(Yn&6)throw Error(yt(327));Hp();var e=f5(t,0);if(!(e&1))return ls(t,ai()),null;var n=P5(t,e);if(t.tag!==0&&n===2){var r=v9(t);r!==0&&(e=r,n=W9(t,r))}if(n===1)throw n=xv,cf(t,0),Su(t,e),ls(t,ai()),n;if(n===6)throw Error(yt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bd(t,es,uc),ls(t,ai()),null}function CC(t,e){var n=Yn;Yn|=1;try{return t(e)}finally{Yn=n,Yn===0&&(lm=ai()+500,zx&&nd())}}function Mf(t){Eu!==null&&Eu.tag===0&&!(Yn&6)&&Hp();var e=Yn;Yn|=1;var n=ha.transition,r=cr;try{if(ha.transition=null,cr=1,t)return t()}finally{cr=r,ha.transition=n,Yn=e,!(Yn&6)&&nd()}}function EC(){Ms=_p.current,Mr(_p)}function cf(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hY(n)),xi!==null)for(n=xi.return;n!==null;){var r=n;switch(oC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&v5();break;case 3:sm(),Mr(ss),Mr(No),pC();break;case 5:hC(r);break;case 4:sm();break;case 13:Mr(Br);break;case 19:Mr(Br);break;case 10:cC(r.type._context);break;case 22:case 23:EC()}n=n.return}if(Gi=t,xi=t=Fu(t.current,null),so=Ms=e,Ai=0,xv=null,_C=Wx=Tf=0,es=Bg=null,Kd!==null){for(e=0;e<Kd.length;e++)if(n=Kd[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Kd=null}return t}function xU(t,e){do{var n=xi;try{if(lC(),$y.current=T5,E5){for(var r=zr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}E5=!1}if(Ef=0,Ui=Ei=zr=null,$g=!1,gv=0,SC.current=null,n===null||n.return===null){Ai=1,xv=e,xi=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=so,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=jA(s);if(h!==null){h.flags&=-257,XA(h,s,a,o,e),h.mode&1&&WA(o,c,e),e=h,l=c;var g=e.updateQueue;if(g===null){var x=new Set;x.add(l),e.updateQueue=x}else g.add(l);break e}else{if(!(e&1)){WA(o,c,e),TC();break e}l=Error(yt(426))}}else if(Dr&&a.mode&1){var b=jA(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),XA(b,s,a,o,e),sC(am(l,a));break e}}o=l=am(l,a),Ai!==4&&(Ai=2),Bg===null?Bg=[o]:Bg.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=nU(o,l,e);UA(o,v);break e;case 1:a=l;var _=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Lu===null||!Lu.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=rU(o,a,e);UA(o,w);break e}}o=o.return}while(o!==null)}_U(n)}catch(M){e=M,xi===n&&n!==null&&(xi=n=n.return);continue}break}while(1)}function bU(){var t=M5.current;return M5.current=T5,t===null?T5:t}function TC(){(Ai===0||Ai===3||Ai===2)&&(Ai=4),Gi===null||!(Tf&268435455)&&!(Wx&268435455)||Su(Gi,so)}function P5(t,e){var n=Yn;Yn|=2;var r=bU();(Gi!==t||so!==e)&&(uc=null,cf(t,e));do try{UY();break}catch(i){xU(t,i)}while(1);if(lC(),Yn=n,M5.current=r,xi!==null)throw Error(yt(261));return Gi=null,so=0,Ai}function UY(){for(;xi!==null;)SU(xi)}function BY(){for(;xi!==null&&!uK();)SU(xi)}function SU(t){var e=CU(t.alternate,t,Ms);t.memoizedProps=t.pendingProps,e===null?_U(t):xi=e,SC.current=null}function _U(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=IY(n,e),n!==null){n.flags&=32767,xi=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ai=6,xi=null;return}}else if(n=NY(n,e,Ms),n!==null){xi=n;return}if(e=e.sibling,e!==null){xi=e;return}xi=e=t}while(e!==null);Ai===0&&(Ai=5)}function Bd(t,e,n){var r=cr,i=ha.transition;try{ha.transition=null,cr=1,kY(t,e,n,r)}finally{ha.transition=i,cr=r}return null}function kY(t,e,n,r){do Hp();while(Eu!==null);if(Yn&6)throw Error(yt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(yt(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(bK(t,o),t===Gi&&(xi=Gi=null,so=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||o2||(o2=!0,EU(d5,function(){return Hp(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ha.transition,ha.transition=null;var s=cr;cr=1;var a=Yn;Yn|=4,SC.current=null,LY(t,n),gU(n,t),sY(w9),h5=!!_9,w9=_9=null,t.current=n,DY(n),dK(),Yn=a,cr=s,ha.transition=o}else t.current=n;if(o2&&(o2=!1,Eu=t,A5=i),o=t.pendingLanes,o===0&&(Lu=null),pK(n.stateNode),ls(t,ai()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(R5)throw R5=!1,t=H9,H9=null,t;return A5&1&&t.tag!==0&&Hp(),o=t.pendingLanes,o&1?t===G9?kg++:(kg=0,G9=t):kg=0,nd(),null}function Hp(){if(Eu!==null){var t=t$(A5),e=ha.transition,n=cr;try{if(ha.transition=null,cr=16>t?16:t,Eu===null)var r=!1;else{if(t=Eu,Eu=null,A5=0,Yn&6)throw Error(yt(331));var i=Yn;for(Yn|=4,Ft=t.current;Ft!==null;){var o=Ft,s=o.child;if(Ft.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ft=c;Ft!==null;){var u=Ft;switch(u.tag){case 0:case 11:case 15:Ug(8,u,o)}var d=u.child;if(d!==null)d.return=u,Ft=d;else for(;Ft!==null;){u=Ft;var f=u.sibling,h=u.return;if(hU(u),u===c){Ft=null;break}if(f!==null){f.return=h,Ft=f;break}Ft=h}}}var g=o.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}Ft=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Ft=s;else e:for(;Ft!==null;){if(o=Ft,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ug(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Ft=v;break e}Ft=o.return}}var _=t.current;for(Ft=_;Ft!==null;){s=Ft;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,Ft=S;else e:for(s=_;Ft!==null;){if(a=Ft,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gx(9,a)}}catch(M){qr(a,a.return,M)}if(a===s){Ft=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Ft=w;break e}Ft=a.return}}if(Yn=i,nd(),Al&&typeof Al.onPostCommitFiberRoot=="function")try{Al.onPostCommitFiberRoot(Fx,t)}catch{}r=!0}return r}finally{cr=n,ha.transition=e}}return!1}function sP(t,e,n){e=am(n,e),e=nU(t,e,1),t=Ou(t,e,1),e=zo(),t!==null&&(u3(t,1,e),ls(t,e))}function qr(t,e,n){if(t.tag===3)sP(t,t,n);else for(;e!==null;){if(e.tag===3){sP(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lu===null||!Lu.has(r))){t=am(n,t),t=rU(e,t,1),e=Ou(e,t,1),t=zo(),e!==null&&(u3(e,1,t),ls(e,t));break}}e=e.return}}function zY(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zo(),t.pingedLanes|=t.suspendedLanes&n,Gi===t&&(so&n)===n&&(Ai===4||Ai===3&&(so&130023424)===so&&500>ai()-wC?cf(t,0):_C|=n),ls(t,e)}function wU(t,e){e===0&&(t.mode&1?(e=K1,K1<<=1,!(K1&130023424)&&(K1=4194304)):e=1);var n=zo();t=Nc(t,e),t!==null&&(u3(t,e,n),ls(t,n))}function VY(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wU(t,n)}function HY(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(yt(314))}r!==null&&r.delete(e),wU(t,n)}var CU;CU=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ss.current)is=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return is=!1,PY(t,e,n);is=!!(t.flags&131072)}else is=!1,Dr&&e.flags&1048576&&M$(e,b5,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;By(t,e),t=e.pendingProps;var i=rm(e,No.current);Vp(e,n),i=gC(null,e,r,t,i,n);var o=vC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,as(r)?(o=!0,y5(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dC(e),i.updater=Vx,e.stateNode=i,i._reactInternals=e,I9(e,r,t,n),e=D9(null,e,r,!0,o,n)):(e.tag=0,Dr&&o&&iC(e),Uo(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(By(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=WY(r),t=Ba(r,t),i){case 0:e=L9(null,e,r,t,n);break e;case 1:e=YA(null,e,r,t,n);break e;case 11:e=qA(null,e,r,t,n);break e;case 14:e=KA(null,e,r,Ba(r.type,t),n);break e}throw Error(yt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ba(r,i),L9(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ba(r,i),YA(t,e,r,i,n);case 3:e:{if(aU(e),t===null)throw Error(yt(387));r=e.pendingProps,o=e.memoizedState,i=o.element,N$(t,e),w5(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=am(Error(yt(423)),e),e=ZA(t,e,r,n,i);break e}else if(r!==i){i=am(Error(yt(424)),e),e=ZA(t,e,r,n,i);break e}else for(As=Iu(e.stateNode.containerInfo.firstChild),Is=e,Dr=!0,Ga=null,n=D$(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(im(),r===i){e=Ic(t,e,n);break e}Uo(t,e,r,n)}e=e.child}return e;case 5:return F$(e),t===null&&A9(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,C9(r,i)?s=null:o!==null&&C9(r,o)&&(e.flags|=32),sU(t,e),Uo(t,e,s,n),e.child;case 6:return t===null&&A9(e),null;case 13:return lU(t,e,n);case 4:return fC(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=om(e,null,r,n):Uo(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ba(r,i),qA(t,e,r,i,n);case 7:return Uo(t,e,e.pendingProps,n),e.child;case 8:return Uo(t,e,e.pendingProps.children,n),e.child;case 12:return Uo(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,wr(S5,r._currentValue),r._currentValue=s,o!==null)if(el(o.value,s)){if(o.children===i.children&&!ss.current){e=Ic(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=wc(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),P9(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(yt(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),P9(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Uo(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Vp(e,n),i=va(i),r=r(i),e.flags|=1,Uo(t,e,r,n),e.child;case 14:return r=e.type,i=Ba(r,e.pendingProps),i=Ba(r.type,i),KA(t,e,r,i,n);case 15:return iU(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ba(r,i),By(t,e),e.tag=1,as(r)?(t=!0,y5(e)):t=!1,Vp(e,n),O$(e,r,i),I9(e,r,i,n),D9(null,e,r,!0,t,n);case 19:return cU(t,e,n);case 22:return oU(t,e,n)}throw Error(yt(156,e.tag))};function EU(t,e){return ZF(t,e)}function GY(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(t,e,n,r){return new GY(t,e,n,r)}function MC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WY(t){if(typeof t=="function")return MC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jw)return 11;if(t===Xw)return 14}return 2}function Fu(t,e){var n=t.alternate;return n===null?(n=ua(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vy(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")MC(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case fp:return uf(n.children,i,o,e);case Ww:s=8,i|=8;break;case n9:return t=ua(12,n,e,i|2),t.elementType=n9,t.lanes=o,t;case r9:return t=ua(13,n,e,i),t.elementType=r9,t.lanes=o,t;case i9:return t=ua(19,n,e,i),t.elementType=i9,t.lanes=o,t;case LF:return jx(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case IF:s=10;break e;case OF:s=9;break e;case jw:s=11;break e;case Xw:s=14;break e;case vu:s=16,r=null;break e}throw Error(yt(130,t==null?t:typeof t,""))}return e=ua(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function uf(t,e,n,r){return t=ua(7,t,r,e),t.lanes=n,t}function jx(t,e,n,r){return t=ua(22,t,r,e),t.elementType=LF,t.lanes=n,t.stateNode={isHidden:!1},t}function I4(t,e,n){return t=ua(6,t,null,e),t.lanes=n,t}function O4(t,e,n){return e=ua(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jY(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=h4(0),this.expirationTimes=h4(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=h4(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function RC(t,e,n,r,i,o,s,a,l){return t=new jY(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ua(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dC(o),t}function XY(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dp,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function TU(t){if(!t)return Gu;t=t._reactInternals;e:{if(qf(t)!==t||t.tag!==1)throw Error(yt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(as(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(yt(171))}if(t.tag===1){var n=t.type;if(as(n))return E$(t,n,e)}return e}function MU(t,e,n,r,i,o,s,a,l){return t=RC(n,r,!0,t,i,o,s,a,l),t.context=TU(null),n=t.current,r=zo(),i=Du(n),o=wc(r,i),o.callback=e??null,Ou(n,o,i),t.current.lanes=i,u3(t,i,r),ls(t,r),t}function Xx(t,e,n,r){var i=e.current,o=zo(),s=Du(i);return n=TU(n),e.context===null?e.context=n:e.pendingContext=n,e=wc(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ou(i,e,s),t!==null&&(Ka(t,i,s,o),Fy(t,i,s)),s}function N5(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function aP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function AC(t,e){aP(t,e),(t=t.alternate)&&aP(t,e)}function qY(){return null}var RU=typeof reportError=="function"?reportError:function(t){console.error(t)};function PC(t){this._internalRoot=t}qx.prototype.render=PC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(yt(409));Xx(t,e,null,null)};qx.prototype.unmount=PC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mf(function(){Xx(null,t,null,null)}),e[Pc]=null}};function qx(t){this._internalRoot=t}qx.prototype.unstable_scheduleHydration=function(t){if(t){var e=i$();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bu.length&&e!==0&&e<bu[n].priority;n++);bu.splice(n,0,t),n===0&&s$(t)}};function NC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lP(){}function KY(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=N5(s);o.call(c)}}var s=MU(e,r,t,0,null,!1,!1,"",lP);return t._reactRootContainer=s,t[Pc]=s.current,dv(t.nodeType===8?t.parentNode:t),Mf(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=N5(l);a.call(c)}}var l=RC(t,0,!1,null,null,!1,!1,"",lP);return t._reactRootContainer=l,t[Pc]=l.current,dv(t.nodeType===8?t.parentNode:t),Mf(function(){Xx(e,l,n,r)}),l}function Yx(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=N5(s);a.call(l)}}Xx(e,s,t,i)}else s=KY(n,e,t,i,r);return N5(s)}n$=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Cg(e.pendingLanes);n!==0&&(Yw(e,n|1),ls(e,ai()),!(Yn&6)&&(lm=ai()+500,nd()))}break;case 13:Mf(function(){var r=Nc(t,1);if(r!==null){var i=zo();Ka(r,t,1,i)}}),AC(t,1)}};Zw=function(t){if(t.tag===13){var e=Nc(t,134217728);if(e!==null){var n=zo();Ka(e,t,134217728,n)}AC(t,134217728)}};r$=function(t){if(t.tag===13){var e=Du(t),n=Nc(t,e);if(n!==null){var r=zo();Ka(n,t,e,r)}AC(t,e)}};i$=function(){return cr};o$=function(t,e){var n=cr;try{return cr=t,e()}finally{cr=n}};p9=function(t,e,n){switch(e){case"input":if(a9(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=kx(r);if(!i)throw Error(yt(90));FF(r),a9(r,i)}}}break;case"textarea":UF(t,n);break;case"select":e=n.value,e!=null&&Up(t,!!n.multiple,e,!1)}};WF=CC;jF=Mf;var YY={usingClientEntryPoint:!1,Events:[f3,gp,kx,HF,GF,CC]},Y0={findFiberByHostInstance:qd,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ZY={bundleType:Y0.bundleType,version:Y0.version,rendererPackageName:Y0.rendererPackageName,rendererConfig:Y0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=KF(t),t===null?null:t.stateNode},findFiberByHostInstance:Y0.findFiberByHostInstance||qY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var s2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!s2.isDisabled&&s2.supportsFiber)try{Fx=s2.inject(ZY),Al=s2}catch{}}Us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YY;Us.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!NC(e))throw Error(yt(200));return XY(t,e,null,n)};Us.createRoot=function(t,e){if(!NC(t))throw Error(yt(299));var n=!1,r="",i=RU;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=RC(t,1,!1,null,null,n,!1,r,i),t[Pc]=e.current,dv(t.nodeType===8?t.parentNode:t),new PC(e)};Us.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(yt(188)):(t=Object.keys(t).join(","),Error(yt(268,t)));return t=KF(e),t=t===null?null:t.stateNode,t};Us.flushSync=function(t){return Mf(t)};Us.hydrate=function(t,e,n){if(!Kx(e))throw Error(yt(200));return Yx(null,t,e,!0,n)};Us.hydrateRoot=function(t,e,n){if(!NC(t))throw Error(yt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=RU;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=MU(e,null,t,1,n??null,i,!1,o,s),t[Pc]=e.current,dv(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qx(e)};Us.render=function(t,e,n){if(!Kx(e))throw Error(yt(200));return Yx(null,t,e,!1,n)};Us.unmountComponentAtNode=function(t){if(!Kx(t))throw Error(yt(40));return t._reactRootContainer?(Mf(function(){Yx(null,null,t,!1,function(){t._reactRootContainer=null,t[Pc]=null})}),!0):!1};Us.unstable_batchedUpdates=CC;Us.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Kx(n))throw Error(yt(200));if(t==null||t._reactInternals===void 0)throw Error(yt(38));return Yx(t,e,n,!1,r)};Us.version="18.2.0-next-9e3b772b8-20220608";function AU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AU)}catch(t){console.error(t)}}AU(),MF.exports=Us;var xa=MF.exports;const PU=Km(xa),QY=gF({__proto__:null,default:PU},[xa]);var cP=xa;e9.createRoot=cP.createRoot,e9.hydrateRoot=cP.hydrateRoot;function Si(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nn(t){"@babel/helpers - typeof";return nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nn(t)}function JY(t,e){if(nn(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NU(t){var e=JY(t,"string");return nn(e)==="symbol"?e:String(e)}function uP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NU(r.key),r)}}function _i(t,e,n){return e&&uP(t.prototype,e),n&&uP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function X9(t,e){return X9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X9(t,e)}function zl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X9(t,e)}function I5(t){return I5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},I5(t)}function eZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tZ(t,e){if(e&&(nn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qn(t)}function Vl(t){var e=eZ();return function(){var r=I5(t),i;if(e){var o=I5(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return tZ(this,i)}}var IU={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&r.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var l in o)e.call(o,l)&&o[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(IU);var nZ=IU.exports;const ye=Km(nZ);function ct(){return ct=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ct.apply(this,arguments)}var OU={exports:{}},dr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xi=typeof Symbol=="function"&&Symbol.for,IC=Xi?Symbol.for("react.element"):60103,OC=Xi?Symbol.for("react.portal"):60106,Zx=Xi?Symbol.for("react.fragment"):60107,Qx=Xi?Symbol.for("react.strict_mode"):60108,Jx=Xi?Symbol.for("react.profiler"):60114,e6=Xi?Symbol.for("react.provider"):60109,t6=Xi?Symbol.for("react.context"):60110,LC=Xi?Symbol.for("react.async_mode"):60111,n6=Xi?Symbol.for("react.concurrent_mode"):60111,r6=Xi?Symbol.for("react.forward_ref"):60112,i6=Xi?Symbol.for("react.suspense"):60113,rZ=Xi?Symbol.for("react.suspense_list"):60120,o6=Xi?Symbol.for("react.memo"):60115,s6=Xi?Symbol.for("react.lazy"):60116,iZ=Xi?Symbol.for("react.block"):60121,oZ=Xi?Symbol.for("react.fundamental"):60117,sZ=Xi?Symbol.for("react.responder"):60118,aZ=Xi?Symbol.for("react.scope"):60119;function ks(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case IC:switch(t=t.type,t){case LC:case n6:case Zx:case Jx:case Qx:case i6:return t;default:switch(t=t&&t.$$typeof,t){case t6:case r6:case s6:case o6:case e6:return t;default:return e}}case OC:return e}}}function LU(t){return ks(t)===n6}dr.AsyncMode=LC;dr.ConcurrentMode=n6;dr.ContextConsumer=t6;dr.ContextProvider=e6;dr.Element=IC;dr.ForwardRef=r6;dr.Fragment=Zx;dr.Lazy=s6;dr.Memo=o6;dr.Portal=OC;dr.Profiler=Jx;dr.StrictMode=Qx;dr.Suspense=i6;dr.isAsyncMode=function(t){return LU(t)||ks(t)===LC};dr.isConcurrentMode=LU;dr.isContextConsumer=function(t){return ks(t)===t6};dr.isContextProvider=function(t){return ks(t)===e6};dr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===IC};dr.isForwardRef=function(t){return ks(t)===r6};dr.isFragment=function(t){return ks(t)===Zx};dr.isLazy=function(t){return ks(t)===s6};dr.isMemo=function(t){return ks(t)===o6};dr.isPortal=function(t){return ks(t)===OC};dr.isProfiler=function(t){return ks(t)===Jx};dr.isStrictMode=function(t){return ks(t)===Qx};dr.isSuspense=function(t){return ks(t)===i6};dr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Zx||t===n6||t===Jx||t===Qx||t===i6||t===rZ||typeof t=="object"&&t!==null&&(t.$$typeof===s6||t.$$typeof===o6||t.$$typeof===e6||t.$$typeof===t6||t.$$typeof===r6||t.$$typeof===oZ||t.$$typeof===sZ||t.$$typeof===aZ||t.$$typeof===iZ)};dr.typeOf=ks;OU.exports=dr;var DC=OU.exports;function hs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return ae.Children.forEach(t,function(r){r==null&&!e.keepEmpty||(Array.isArray(r)?n=n.concat(hs(r)):DC.isFragment(r)&&r.props?n=n.concat(hs(r.props.children,e)):n.push(r))}),n}var q9={},lZ=function(e){};function cZ(t,e){}function uZ(t,e){}function dZ(){q9={}}function DU(t,e,n){!e&&!q9[n]&&(t(!1,n),q9[n]=!0)}function Pi(t,e){DU(cZ,t,e)}function fZ(t,e){DU(uZ,t,e)}Pi.preMessage=lZ;Pi.resetWarned=dZ;Pi.noteOnce=fZ;function se(t,e,n){return e=NU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(n),!0).forEach(function(r){se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p3(t,e,n){var r=y.useRef({});return(!("value"in r.current)||n(r.current.condition,e))&&(r.current.value=t(),r.current.condition=e),r.current.value}function FC(t,e){typeof t=="function"?t(e):nn(t)==="object"&&t&&"current"in t&&(t.current=e)}function jo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.filter(function(i){return i});return r.length<=1?r[0]:function(i){e.forEach(function(o){FC(o,i)})}}function m3(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return p3(function(){return jo.apply(void 0,e)},e,function(r,i){return r.length!==i.length||r.every(function(o,s){return o!==i[s]})})}function rd(t){var e,n,r=DC.isMemo(t)?t.type.type:t.type;return!(typeof r=="function"&&!((e=r.prototype)!==null&&e!==void 0&&e.render)||typeof t=="function"&&!((n=t.prototype)!==null&&n!==void 0&&n.render))}function hZ(t){return!y.isValidElement(t)||DC.isFragment(t)?!1:rd(t)}function O5(t){return t instanceof HTMLElement||t instanceof SVGElement}function L5(t){return O5(t)?t:t instanceof ae.Component?PU.findDOMNode(t):null}var FU=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];n.call(r,s[1],s[0])}},e}()}(),K9=typeof window<"u"&&typeof document<"u"&&window.document===document,D5=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),pZ=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(D5):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),mZ=2;function gZ(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){pZ(o)}function a(){var l=Date.now();if(n){if(l-i<mZ)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=l}return a}var vZ=20,yZ=["top","right","bottom","left","width","height","size","weight"],xZ=typeof MutationObserver<"u",bZ=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=gZ(this.refresh.bind(this),vZ)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!K9||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),xZ?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!K9||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=yZ.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),$U=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},cm=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||D5},UU=a6(0,0,0,0);function F5(t){return parseFloat(t)||0}function fP(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+F5(o)},0)}function SZ(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],s=t["padding-"+o];n[o]=F5(s)}return n}function _Z(t){var e=t.getBBox();return a6(0,0,e.width,e.height)}function wZ(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return UU;var r=cm(t).getComputedStyle(t),i=SZ(r),o=i.left+i.right,s=i.top+i.bottom,a=F5(r.width),l=F5(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==e&&(a-=fP(r,"left","right")+o),Math.round(l+s)!==n&&(l-=fP(r,"top","bottom")+s)),!EZ(t)){var c=Math.round(a+o)-e,u=Math.round(l+s)-n;Math.abs(c)!==1&&(a-=c),Math.abs(u)!==1&&(l-=u)}return a6(i.left,i.top,a,l)}var CZ=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof cm(t).SVGGraphicsElement}:function(t){return t instanceof cm(t).SVGElement&&typeof t.getBBox=="function"}}();function EZ(t){return t===cm(t).document.documentElement}function TZ(t){return K9?CZ(t)?_Z(t):wZ(t):UU}function MZ(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return $U(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}function a6(t,e,n,r){return{x:t,y:e,width:n,height:r}}var RZ=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=a6(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=TZ(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),AZ=function(){function t(e,n){var r=MZ(n);$U(this,{target:e,contentRect:r})}return t}(),PZ=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new FU,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof cm(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new RZ(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof cm(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new AZ(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),BU=typeof WeakMap<"u"?new WeakMap:new FU,kU=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=bZ.getInstance(),r=new PZ(e,n,this);BU.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){kU.prototype[t]=function(){var e;return(e=BU.get(this))[t].apply(e,arguments)}});var NZ=function(){return typeof D5.ResizeObserver<"u"?D5.ResizeObserver:kU}(),Tu=new Map;function IZ(t){t.forEach(function(e){var n,r=e.target;(n=Tu.get(r))===null||n===void 0||n.forEach(function(i){return i(r)})})}var zU=new NZ(IZ);function OZ(t,e){Tu.has(t)||(Tu.set(t,new Set),zU.observe(t)),Tu.get(t).add(e)}function LZ(t,e){Tu.has(t)&&(Tu.get(t).delete(e),Tu.get(t).size||(zU.unobserve(t),Tu.delete(t)))}var DZ=function(t){zl(n,t);var e=Vl(n);function n(){return Si(this,n),e.apply(this,arguments)}return _i(n,[{key:"render",value:function(){return this.props.children}}]),n}(y.Component),Y9=y.createContext(null);function FZ(t){var e=t.children,n=t.onBatchResize,r=y.useRef(0),i=y.useRef([]),o=y.useContext(Y9),s=y.useCallback(function(a,l,c){r.current+=1;var u=r.current;i.current.push({size:a,element:l,data:c}),Promise.resolve().then(function(){u===r.current&&(n?.(i.current),i.current=[])}),o?.(a,l,c)},[n,o]);return y.createElement(Y9.Provider,{value:s},e)}function $Z(t,e){var n=t.children,r=t.disabled,i=y.useRef(null),o=y.useRef(null),s=y.useContext(Y9),a=typeof n=="function",l=a?n(i):n,c=y.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!a&&y.isValidElement(l)&&rd(l),d=u?l.ref:null,f=y.useMemo(function(){return jo(d,i)},[d,i]),h=function(){return L5(i.current)||L5(o.current)};y.useImperativeHandle(e,function(){return h()});var g=y.useRef(t);g.current=t;var x=y.useCallback(function(b){var v=g.current,_=v.onResize,S=v.data,w=b.getBoundingClientRect(),M=w.width,E=w.height,T=b.offsetWidth,N=b.offsetHeight,R=Math.floor(M),P=Math.floor(E);if(c.current.width!==R||c.current.height!==P||c.current.offsetWidth!==T||c.current.offsetHeight!==N){var L={width:R,height:P,offsetWidth:T,offsetHeight:N};c.current=L;var $=T===Math.round(M)?M:T,V=N===Math.round(E)?E:N,D=_e(_e({},L),{},{offsetWidth:$,offsetHeight:V});s?.(D,b,S),_&&Promise.resolve().then(function(){_(D,b)})}},[]);return y.useEffect(function(){var b=h();return b&&!r&&OZ(b,x),function(){return LZ(b,x)}},[i.current,r]),y.createElement(DZ,{ref:o},u?y.cloneElement(l,{ref:f}):l)}var UZ=y.forwardRef($Z),BZ="rc-observer-key";function kZ(t,e){var n=t.children,r=typeof n=="function"?[n]:hs(n);return r.map(function(i,o){var s=i?.key||"".concat(BZ,"-").concat(o);return y.createElement(UZ,ct({},t,{key:s,ref:o===0?e:void 0}),i)})}var pa=y.forwardRef(kZ);pa.Collection=FZ;function fi(t,e){var n=_e({},t);return Array.isArray(e)&&e.forEach(function(r){delete n[r]}),n}function Z9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zZ(t){if(Array.isArray(t))return Z9(t)}function VU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $C(t,e){if(t){if(typeof t=="string")return Z9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z9(t,e)}}function VZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function St(t){return zZ(t)||VU(t)||$C(t)||VZ()}var HU=function(e){return+setTimeout(e,16)},GU=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(HU=function(e){return window.requestAnimationFrame(e)},GU=function(e){return window.cancelAnimationFrame(e)});var hP=0,UC=new Map;function WU(t){UC.delete(t)}var jn=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;hP+=1;var r=hP;function i(o){if(o===0)WU(r),e();else{var s=HU(function(){i(o-1)});UC.set(r,s)}}return i(n),r};jn.cancel=function(t){var e=UC.get(t);return WU(e),GU(e)};function BC(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function HZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ln(t,e){if(t==null)return{};var n=HZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l6(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(o,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=r.has(o);if(Pi(!l,"Warning: There may be circular references"),l)return!1;if(o===s)return!0;if(n&&a>1)return!1;r.add(o);var c=a+1;if(Array.isArray(o)){if(!Array.isArray(s)||o.length!==s.length)return!1;for(var u=0;u<o.length;u++)if(!i(o[u],s[u],c))return!1;return!0}if(o&&s&&nn(o)==="object"&&nn(s)==="object"){var d=Object.keys(o);return d.length!==Object.keys(s).length?!1:d.every(function(f){return i(o[f],s[f],c)})}return!1}return i(t,e)}var pP="%",GZ=function(){function t(e){Si(this,t),se(this,"instanceId",void 0),se(this,"cache",new Map),this.instanceId=e}return _i(t,[{key:"get",value:function(n){return this.cache.get(n.join(pP))||null}},{key:"update",value:function(n,r){var i=n.join(pP),o=this.cache.get(i),s=r(o);s===null?this.cache.delete(i):this.cache.set(i,s)}}]),t}(),Q9="data-token-hash",df="data-css-hash",wp="__cssinjs_instance__";function WZ(){var t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(df,"]"))||[],n=document.head.firstChild;Array.from(e).forEach(function(i){i[wp]=i[wp]||t,i[wp]===t&&document.head.insertBefore(i,n)});var r={};Array.from(document.querySelectorAll("style[".concat(df,"]"))).forEach(function(i){var o=i.getAttribute(df);if(r[o]){if(i[wp]===t){var s;(s=i.parentNode)===null||s===void 0||s.removeChild(i)}}else r[o]=!0})}return new GZ(t)}var jZ=y.createContext({hashPriority:"low",cache:WZ(),defaultCache:!0});const kC=jZ;function uo(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function XZ(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var mP="data-rc-order",gP="data-rc-priority",qZ="rc-util-key",J9=new Map;function jU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):qZ}function c6(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function KZ(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function XU(t){return Array.from((J9.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function qU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!uo())return null;var n=e.csp,r=e.prepend,i=e.priority,o=i===void 0?0:i,s=KZ(r),a=s==="prependQueue",l=document.createElement("style");l.setAttribute(mP,s),a&&o&&l.setAttribute(gP,"".concat(o)),n!=null&&n.nonce&&(l.nonce=n?.nonce),l.innerHTML=t;var c=c6(e),u=c.firstChild;if(r){if(a){var d=XU(c).filter(function(f){if(!["prepend","prependQueue"].includes(f.getAttribute(mP)))return!1;var h=Number(f.getAttribute(gP)||0);return o>=h});if(d.length)return c.insertBefore(l,d[d.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function KU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=c6(e);return XU(n).find(function(r){return r.getAttribute(jU(e))===t})}function $5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=KU(t,e);if(n){var r=c6(e);r.removeChild(n)}}function YZ(t,e){var n=J9.get(t);if(!n||!XZ(document,n)){var r=qU("",e),i=r.parentNode;J9.set(t,i),t.removeChild(r)}}function um(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=c6(n);YZ(r,n);var i=KU(e,n);if(i){var o,s;if((o=n.csp)!==null&&o!==void 0&&o.nonce&&i.nonce!==((s=n.csp)===null||s===void 0?void 0:s.nonce)){var a;i.nonce=(a=n.csp)===null||a===void 0?void 0:a.nonce}return i.innerHTML!==t&&(i.innerHTML=t),i}var l=qU(t,n);return l.setAttribute(jU(n),e),l}function YU(t){if(Array.isArray(t))return t}function ZZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function ZU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ie(t,e){return YU(t)||ZZ(t,e)||$C(t,e)||ZU()}function QZ(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var zC=function(){function t(){Si(this,t),se(this,"cache",void 0),se(this,"keys",void 0),se(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return _i(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s={map:this.cache};return n.forEach(function(a){if(!s)s=void 0;else{var l,c;s=(l=s)===null||l===void 0||(c=l.map)===null||c===void 0?void 0:c.get(a)}}),(r=s)!==null&&r!==void 0&&r.value&&o&&(s.value[1]=this.cacheCallTimes++),(i=s)===null||i===void 0?void 0:i.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var i=this;if(!this.has(n)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var o=this.keys.reduce(function(c,u){var d=Ie(c,2),f=d[1];return i.internalGet(u)[1]<f?[u,i.internalGet(u)[1]]:c},[this.keys[0],this.cacheCallTimes]),s=Ie(o,1),a=s[0];this.delete(a)}this.keys.push(n)}var l=this.cache;n.forEach(function(c,u){if(u===n.length-1)l.set(c,{value:[r,i.cacheCallTimes++]});else{var d=l.get(c);d?d.map||(d.map=new Map):l.set(c,{map:new Map}),l=l.get(c).map}})}},{key:"deleteByPath",value:function(n,r){var i=n.get(r[0]);if(r.length===1){var o;return i.map?n.set(r[0],{map:i.map}):n.delete(r[0]),(o=i.value)===null||o===void 0?void 0:o[0]}var s=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&n.delete(r[0]),s}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!QZ(r,n)}),this.deleteByPath(this.cache,n)}}]),t}();se(zC,"MAX_CACHE_SIZE",20);se(zC,"MAX_CACHE_OFFSET",5);var vP=0,QU=function(){function t(e){Si(this,t),se(this,"derivatives",void 0),se(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=vP,e.length===0&&(e.length>0,void 0),vP+=1}return _i(t,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,i){return i(n,r)},void 0)}}]),t}(),L4=new zC;function e_(t){var e=Array.isArray(t)?t:[t];return L4.has(e)||L4.set(e,new QU(e)),L4.get(e)}var yP=new WeakMap;function U5(t){var e=yP.get(t)||"";return e||(Object.keys(t).forEach(function(n){var r=t[n];e+=n,r instanceof QU?e+=r.id:r&&nn(r)==="object"?e+=U5(r):e+=r}),yP.set(t,e)),e}function JZ(t,e){return BC("".concat(e,"_").concat(U5(t)))}var zg="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),JU="_bAmBoO_";function eQ(t,e,n){if(uo()){var r,i;um(t,zg);var o=document.createElement("div");o.style.position="fixed",o.style.left="0",o.style.top="0",e?.(o),document.body.appendChild(o);var s=n?n(o):(r=getComputedStyle(o).content)===null||r===void 0?void 0:r.includes(JU);return(i=o.parentNode)===null||i===void 0||i.removeChild(o),$5(zg),s}return!1}var D4=void 0;function tQ(){return D4===void 0&&(D4=eQ("@layer ".concat(zg," { .").concat(zg,' { content: "').concat(JU,'"!important; } }'),function(t){t.className=zg})),D4}var xP=uo()?y.useLayoutEffect:y.useEffect,sr=function(e,n){var r=y.useRef(!0);xP(function(){return e(r.current)},n),xP(function(){return r.current=!1,function(){r.current=!0}},[])},Gp=function(e,n){sr(function(r){if(!r)return e()},n)},nQ=_e({},Dx),bP=nQ.useInsertionEffect,rQ=function(e,n,r){y.useMemo(e,r),sr(function(){return n(!0)},r)},iQ=bP?function(t,e,n){return bP(function(){return t(),e()},n)}:rQ;const oQ=iQ;var sQ=_e({},Dx),aQ=sQ.useInsertionEffect,lQ=function(e){var n=[],r=!1;function i(o){r||n.push(o)}return y.useEffect(function(){return r=!1,function(){r=!0,n.length&&n.forEach(function(o){return o()})}},e),i},cQ=function(){return function(e){e()}},uQ=typeof aQ<"u"?lQ:cQ;const dQ=uQ;function eB(t,e,n,r,i){var o=y.useContext(kC),s=o.cache,a=[t].concat(St(e)),l=a.join("_"),c=dQ([l]),u=function(g){s.update(a,function(x){var b=x||[],v=Ie(b,2),_=v[0],S=_===void 0?0:_,w=v[1],M=w,E=M||n(),T=[S,E];return g?g(T):T})};y.useMemo(function(){u()},[l]);var d=s.get(a),f=d[1];return oQ(function(){i?.(f)},function(h){return u(function(g){var x=Ie(g,2),b=x[0],v=x[1];return h&&b===0&&i?.(f),[b+1,v]}),function(){s.update(a,function(g){var x=g||[],b=Ie(x,2),v=b[0],_=v===void 0?0:v,S=b[1],w=_-1;return w===0?(c(function(){return r?.(S,!1)}),null):[_-1,S]})}},[l]),f}var fQ={},hQ="css",Wd=new Map;function pQ(t){Wd.set(t,(Wd.get(t)||0)+1)}function mQ(t,e){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(Q9,'="').concat(t,'"]'));n.forEach(function(r){if(r[wp]===e){var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)}})}}var gQ=0;function vQ(t,e){Wd.set(t,(Wd.get(t)||0)-1);var n=Array.from(Wd.keys()),r=n.filter(function(i){var o=Wd.get(i)||0;return o<=0});n.length-r.length>gQ&&r.forEach(function(i){mQ(i,e),Wd.delete(i)})}var yQ=function(e,n,r,i){var o=r.getDerivativeToken(e),s=_e(_e({},o),n);return i&&(s=i(s)),s};function xQ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=y.useContext(kC),i=r.cache.instanceId,o=n.salt,s=o===void 0?"":o,a=n.override,l=a===void 0?fQ:a,c=n.formatToken,u=n.getComputedToken,d=y.useMemo(function(){return Object.assign.apply(Object,[{}].concat(St(e)))},[e]),f=y.useMemo(function(){return U5(d)},[d]),h=y.useMemo(function(){return U5(l)},[l]),g=eB("token",[s,t.id,f,h],function(){var x=u?u(d,l,t):yQ(d,l,t,c),b=JZ(x,s);x._tokenKey=b,pQ(b);var v="".concat(hQ,"-").concat(BC(b));return x._hashId=v,[x,v]},function(x){vQ(x[0]._tokenKey,i)});return g}var bQ={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Tr="-ms-",Vg="-moz-",ir="-webkit-",tB="comm",u6="rule",VC="decl",SQ="@import",nB="@keyframes",_Q="@layer",wQ=Math.abs,HC=String.fromCharCode,t_=Object.assign;function CQ(t,e){return Bi(t,0)^45?(((e<<2^Bi(t,0))<<2^Bi(t,1))<<2^Bi(t,2))<<2^Bi(t,3):0}function rB(t){return t.trim()}function dc(t,e){return(t=e.exec(t))?t[0]:t}function In(t,e,n){return t.replace(e,n)}function Hy(t,e){return t.indexOf(e)}function Bi(t,e){return t.charCodeAt(e)|0}function dm(t,e,n){return t.slice(e,n)}function Cl(t){return t.length}function iB(t){return t.length}function Tg(t,e){return e.push(t),t}function EQ(t,e){return t.map(e).join("")}function SP(t,e){return t.filter(function(n){return!dc(n,e)})}var d6=1,fm=1,oB=0,ba=0,vi=0,Jm="";function f6(t,e,n,r,i,o,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:d6,column:fm,length:s,return:"",siblings:a}}function mu(t,e){return t_(f6("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Sh(t){for(;t.root;)t=mu(t.root,{children:[t]});Tg(t,t.siblings)}function TQ(){return vi}function MQ(){return vi=ba>0?Bi(Jm,--ba):0,fm--,vi===10&&(fm=1,d6--),vi}function Ya(){return vi=ba<oB?Bi(Jm,ba++):0,fm++,vi===10&&(fm=1,d6++),vi}function ff(){return Bi(Jm,ba)}function Gy(){return ba}function h6(t,e){return dm(Jm,t,e)}function n_(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function RQ(t){return d6=fm=1,oB=Cl(Jm=t),ba=0,[]}function AQ(t){return Jm="",t}function F4(t){return rB(h6(ba-1,r_(t===91?t+2:t===40?t+1:t)))}function PQ(t){for(;(vi=ff())&&vi<33;)Ya();return n_(t)>2||n_(vi)>3?"":" "}function NQ(t,e){for(;--e&&Ya()&&!(vi<48||vi>102||vi>57&&vi<65||vi>70&&vi<97););return h6(t,Gy()+(e<6&&ff()==32&&Ya()==32))}function r_(t){for(;Ya();)switch(vi){case t:return ba;case 34:case 39:t!==34&&t!==39&&r_(vi);break;case 40:t===41&&r_(t);break;case 92:Ya();break}return ba}function IQ(t,e){for(;Ya()&&t+vi!==47+10;)if(t+vi===42+42&&ff()===47)break;return"/*"+h6(e,ba-1)+"*"+HC(t===47?t:Ya())}function OQ(t){for(;!n_(ff());)Ya();return h6(t,ba)}function sB(t){return AQ(Wy("",null,null,null,[""],t=RQ(t),0,[0],t))}function Wy(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,f=0,h=0,g=0,x=1,b=1,v=1,_=0,S="",w=i,M=o,E=r,T=S;b;)switch(g=_,_=Ya()){case 40:if(g!=108&&Bi(T,d-1)==58){Hy(T+=In(F4(_),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:T+=F4(_);break;case 9:case 10:case 13:case 32:T+=PQ(g);break;case 92:T+=NQ(Gy()-1,7);continue;case 47:switch(ff()){case 42:case 47:Tg(LQ(IQ(Ya(),Gy()),e,n,l),l);break;default:T+="/"}break;case 123*x:a[c++]=Cl(T)*v;case 125*x:case 59:case 0:switch(_){case 0:case 125:b=0;case 59+u:v==-1&&(T=In(T,/\f/g,"")),h>0&&Cl(T)-d&&Tg(h>32?wP(T+";",r,n,d-1,l):wP(In(T," ","")+";",r,n,d-2,l),l);break;case 59:T+=";";default:if(Tg(E=_P(T,e,n,c,u,i,a,S,w=[],M=[],d,o),o),_===123)if(u===0)Wy(T,e,E,E,w,o,d,a,M);else switch(f===99&&Bi(T,3)===110?100:f){case 100:case 108:case 109:case 115:Wy(t,E,E,r&&Tg(_P(t,E,E,0,0,i,a,S,i,w=[],d,M),M),i,M,d,a,r?w:M);break;default:Wy(T,E,E,E,[""],M,0,a,M)}}c=u=h=0,x=v=1,S=T="",d=s;break;case 58:d=1+Cl(T),h=g;default:if(x<1){if(_==123)--x;else if(_==125&&x++==0&&MQ()==125)continue}switch(T+=HC(_),_*x){case 38:v=u>0?1:(T+="\f",-1);break;case 44:a[c++]=(Cl(T)-1)*v,v=1;break;case 64:ff()===45&&(T+=F4(Ya())),f=ff(),u=d=Cl(S=T+=OQ(Gy())),_++;break;case 45:g===45&&Cl(T)==2&&(x=0)}}return o}function _P(t,e,n,r,i,o,s,a,l,c,u,d){for(var f=i-1,h=i===0?o:[""],g=iB(h),x=0,b=0,v=0;x<r;++x)for(var _=0,S=dm(t,f+1,f=wQ(b=s[x])),w=t;_<g;++_)(w=rB(b>0?h[_]+" "+S:In(S,/&\f/g,h[_])))&&(l[v++]=w);return f6(t,e,n,i===0?u6:a,l,c,u,d)}function LQ(t,e,n,r){return f6(t,e,n,tB,HC(TQ()),dm(t,2,-2),0,r)}function wP(t,e,n,r,i){return f6(t,e,n,VC,dm(t,0,r),dm(t,r+1,-1),r,i)}function aB(t,e,n){switch(CQ(t,e)){case 5103:return ir+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ir+t+t;case 4789:return Vg+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ir+t+Vg+t+Tr+t+t;case 5936:switch(Bi(t,e+11)){case 114:return ir+t+Tr+In(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ir+t+Tr+In(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ir+t+Tr+In(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return ir+t+Tr+t+t;case 6165:return ir+t+Tr+"flex-"+t+t;case 5187:return ir+t+In(t,/(\w+).+(:[^]+)/,ir+"box-$1$2"+Tr+"flex-$1$2")+t;case 5443:return ir+t+Tr+"flex-item-"+In(t,/flex-|-self/g,"")+(dc(t,/flex-|baseline/)?"":Tr+"grid-row-"+In(t,/flex-|-self/g,""))+t;case 4675:return ir+t+Tr+"flex-line-pack"+In(t,/align-content|flex-|-self/g,"")+t;case 5548:return ir+t+Tr+In(t,"shrink","negative")+t;case 5292:return ir+t+Tr+In(t,"basis","preferred-size")+t;case 6060:return ir+"box-"+In(t,"-grow","")+ir+t+Tr+In(t,"grow","positive")+t;case 4554:return ir+In(t,/([^-])(transform)/g,"$1"+ir+"$2")+t;case 6187:return In(In(In(t,/(zoom-|grab)/,ir+"$1"),/(image-set)/,ir+"$1"),t,"")+t;case 5495:case 3959:return In(t,/(image-set\([^]*)/,ir+"$1$`$1");case 4968:return In(In(t,/(.+:)(flex-)?(.*)/,ir+"box-pack:$3"+Tr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ir+t+t;case 4200:if(!dc(t,/flex-|baseline/))return Tr+"grid-column-align"+dm(t,e)+t;break;case 2592:case 3360:return Tr+In(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,dc(r.props,/grid-\w+-end/)})?~Hy(t+(n=n[e].value),"span")?t:Tr+In(t,"-start","")+t+Tr+"grid-row-span:"+(~Hy(n,"span")?dc(n,/\d+/):+dc(n,/\d+/)-+dc(t,/\d+/))+";":Tr+In(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return dc(r.props,/grid-\w+-start/)})?t:Tr+In(In(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return In(t,/(.+)-inline(.+)/,ir+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Cl(t)-1-e>6)switch(Bi(t,e+1)){case 109:if(Bi(t,e+4)!==45)break;case 102:return In(t,/(.+:)(.+)-([^]+)/,"$1"+ir+"$2-$3$1"+Vg+(Bi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Hy(t,"stretch")?aB(In(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return In(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,o,s,a,l,c){return Tr+i+":"+o+c+(s?Tr+i+"-span:"+(a?l:+l-+o)+c:"")+t});case 4949:if(Bi(t,e+6)===121)return In(t,":",":"+ir)+t;break;case 6444:switch(Bi(t,Bi(t,14)===45?18:11)){case 120:return In(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ir+(Bi(t,14)===45?"inline-":"")+"box$3$1"+ir+"$2$3$1"+Tr+"$2box$3")+t;case 100:return In(t,":",":"+Tr)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return In(t,"scroll-","scroll-snap-")+t}return t}function bv(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function lB(t,e,n,r){switch(t.type){case _Q:if(t.children.length)break;case SQ:case VC:return t.return=t.return||t.value;case tB:return"";case nB:return t.return=t.value+"{"+bv(t.children,r)+"}";case u6:if(!Cl(t.value=t.props.join(",")))return""}return Cl(n=bv(t.children,r))?t.return=t.value+"{"+n+"}":""}function DQ(t){var e=iB(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function FQ(t){return function(e){e.root||(e=e.return)&&t(e)}}function $Q(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case VC:t.return=aB(t.value,t.length,n);return;case nB:return bv([mu(t,{value:In(t.value,"@","@"+ir)})],r);case u6:if(t.length)return EQ(n=t.props,function(i){switch(dc(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Sh(mu(t,{props:[In(i,/:(read-\w+)/,":"+Vg+"$1")]})),Sh(mu(t,{props:[i]})),t_(t,{props:SP(n,r)});break;case"::placeholder":Sh(mu(t,{props:[In(i,/:(plac\w+)/,":"+ir+"input-$1")]})),Sh(mu(t,{props:[In(i,/:(plac\w+)/,":"+Vg+"$1")]})),Sh(mu(t,{props:[In(i,/:(plac\w+)/,Tr+"input-$1")]})),Sh(mu(t,{props:[i]})),t_(t,{props:SP(n,r)});break}return""})}}var CP="data-ant-cssinjs-cache-path",cB="_FILE_STYLE__",hf,uB=!0;function UQ(){if(!hf&&(hf={},uo())){var t=document.createElement("div");t.className=CP,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var e=getComputedStyle(t).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(i){var o=i.split(":"),s=Ie(o,2),a=s[0],l=s[1];hf[a]=l});var n=document.querySelector("style[".concat(CP,"]"));if(n){var r;uB=!1,(r=n.parentNode)===null||r===void 0||r.removeChild(n)}document.body.removeChild(t)}}function BQ(t){return UQ(),!!hf[t]}function kQ(t){var e=hf[t],n=null;if(e&&uo())if(uB)n=cB;else{var r=document.querySelector("style[".concat(df,'="').concat(hf[t],'"]'));r?n=r.innerHTML:delete hf[t]}return[n,e]}var EP=uo(),zQ="_skip_check_",dB="_multi_value_";function TP(t){var e=bv(sB(t),lB);return e.replace(/\{%%%\:[^;];}/g,";")}function VQ(t){return nn(t)==="object"&&t&&(zQ in t||dB in t)}function HQ(t,e,n){if(!e)return t;var r=".".concat(e),i=n==="low"?":where(".concat(r,")"):r,o=t.split(",").map(function(s){var a,l=s.trim().split(/\s+/),c=l[0]||"",u=((a=c.match(/^\w+/))===null||a===void 0?void 0:a[0])||"";return c="".concat(u).concat(i).concat(c.slice(u.length)),[c].concat(St(l.slice(1))).join(" ")});return o.join(",")}var GQ=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,o=r.injectHash,s=r.parentSelectors,a=n.hashId,l=n.layer;n.path;var c=n.hashPriority,u=n.transformers,d=u===void 0?[]:u;n.linters;var f="",h={};function g(S){var w=S.getName(a);if(!h[w]){var M=t(S.style,n,{root:!1,parentSelectors:s}),E=Ie(M,1),T=E[0];h[w]="@keyframes ".concat(S.getName(a)).concat(T)}}function x(S){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return S.forEach(function(M){Array.isArray(M)?x(M,w):M&&w.push(M)}),w}var b=x(Array.isArray(e)?e:[e]);if(b.forEach(function(S){var w=typeof S=="string"&&!i?{}:S;if(typeof w=="string")f+="".concat(w,`
`);else if(w._keyframe)g(w);else{var M=d.reduce(function(E,T){var N;return(T==null||(N=T.visit)===null||N===void 0?void 0:N.call(T,E))||E},w);Object.keys(M).forEach(function(E){var T=M[E];if(nn(T)==="object"&&T&&(E!=="animationName"||!T._keyframe)&&!VQ(T)){var N=!1,R=E.trim(),P=!1;(i||o)&&a?R.startsWith("@")?N=!0:R=HQ(E,a,c):i&&!a&&(R==="&"||R==="")&&(R="",P=!0);var L=t(T,n,{root:P,injectHash:N,parentSelectors:[].concat(St(s),[R])}),$=Ie(L,2),V=$[0],D=$[1];h=_e(_e({},h),D),f+="".concat(R).concat(V)}else{let k=function(O,B){var G=O.replace(/[A-Z]/g,function(K){return"-".concat(K.toLowerCase())}),W=B;!bQ[O]&&typeof W=="number"&&W!==0&&(W="".concat(W,"px")),O==="animationName"&&B!==null&&B!==void 0&&B._keyframe&&(g(B),W=B.getName(a)),f+="".concat(G,":").concat(W,";")};var H,F=(H=T?.value)!==null&&H!==void 0?H:T;nn(T)==="object"&&T!==null&&T!==void 0&&T[dB]&&Array.isArray(F)?F.forEach(function(O){k(E,O)}):k(E,F)}})}}),!i)f="{".concat(f,"}");else if(l&&tQ()){var v=l.split(","),_=v[v.length-1].trim();f="@layer ".concat(_," {").concat(f,"}"),v.length>1&&(f="@layer ".concat(l,"{%%%:%}").concat(f))}return[f,h]};function WQ(t,e){return BC("".concat(t.join("%")).concat(e))}function jQ(){return null}function i_(t,e){var n=t.token,r=t.path,i=t.hashId,o=t.layer,s=t.nonce,a=t.clientOnly,l=t.order,c=l===void 0?0:l,u=y.useContext(kC),d=u.autoClear;u.mock;var f=u.defaultCache,h=u.hashPriority,g=u.container,x=u.ssrInline,b=u.transformers,v=u.linters,_=u.cache,S=n._tokenKey,w=[S].concat(St(r)),M=EP,E=eB("style",w,function(){var L=w.join("|");if(BQ(L)){var $=kQ(L),V=Ie($,2),D=V[0],H=V[1];if(D)return[D,S,H,{},a,c]}var F=e(),k=GQ(F,{hashId:i,hashPriority:h,layer:o,path:r.join("-"),transformers:b,linters:v}),O=Ie(k,2),B=O[0],G=O[1],W=TP(B),K=WQ(w,W);return[W,S,K,G,a,c]},function(L,$){var V=Ie(L,3),D=V[2];($||d)&&EP&&$5(D,{mark:df})},function(L){var $=Ie(L,4),V=$[0];$[1];var D=$[2],H=$[3];if(M&&V!==cB){var F={mark:df,prepend:"queue",attachTo:g,priority:c},k=typeof s=="function"?s():s;k&&(F.csp={nonce:k});var O=um(V,D,F);O[wp]=_.instanceId,O.setAttribute(Q9,S),Object.keys(H).forEach(function(B){um(TP(H[B]),"_effect-".concat(B),F)})}}),T=Ie(E,3),N=T[0],R=T[1],P=T[2];return function(L){var $;if(!x||M||!f)$=y.createElement(jQ,null);else{var V;$=y.createElement("style",ct({},(V={},se(V,Q9,R),se(V,df,P),V),{dangerouslySetInnerHTML:{__html:N}}))}return y.createElement(y.Fragment,null,$,L)}}var Dn=function(){function t(e,n){Si(this,t),se(this,"name",void 0),se(this,"style",void 0),se(this,"_keyframe",!0),this.name=e,this.style=n}return _i(t,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),t}();function _h(t){return t.notSplit=!0,t}_h(["borderTop","borderBottom"]),_h(["borderTop"]),_h(["borderBottom"]),_h(["borderLeft","borderRight"]),_h(["borderLeft"]),_h(["borderRight"]);var XQ=y.createContext({});const GC=XQ;function fB(t){return YU(t)||VU(t)||$C(t)||ZU()}function Xa(t,e){for(var n=t,r=0;r<e.length;r+=1){if(n==null)return;n=n[e[r]]}return n}function hB(t,e,n,r){if(!e.length)return n;var i=fB(e),o=i[0],s=i.slice(1),a;return!t&&typeof o=="number"?a=[]:Array.isArray(t)?a=St(t):a=_e({},t),r&&n===void 0&&s.length===1?delete a[o][s[0]]:a[o]=hB(a[o],s,n,r),a}function Va(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&n===void 0&&!Xa(t,e.slice(0,-1))?t:hB(t,e,n,r)}function qQ(t){return nn(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function MP(t){return Array.isArray(t)?[]:{}}var KQ=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function Cp(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=MP(e[0]);return e.forEach(function(i){function o(s,a){var l=new Set(a),c=Xa(i,s),u=Array.isArray(c);if(u||qQ(c)){if(!l.has(c)){l.add(c);var d=Xa(r,s);u?r=Va(r,s,[]):(!d||nn(d)!=="object")&&(r=Va(r,s,MP(c))),KQ(c).forEach(function(f){o([].concat(St(s),[f]),l)})}}else r=Va(r,s,c)}o([])}),r}function YQ(){}const WC=()=>{const t=()=>{};return t.deprecated=YQ,t},ZQ=y.createContext(void 0),pB={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};var QQ={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};const JQ={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},mB=JQ,eJ={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},QQ),timePickerLocale:Object.assign({},mB)},RP=eJ,Ss="${label} is not a valid ${type}",tJ={locale:"en",Pagination:pB,DatePicker:RP,TimePicker:mB,Calendar:RP,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Ss,method:Ss,array:Ss,object:Ss,number:Ss,date:Ss,boolean:Ss,integer:Ss,float:Ss,regexp:Ss,email:Ss,url:Ss,hex:Ss},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh"},ColorPicker:{presetEmpty:"Empty"}},Rf=tJ;Object.assign({},Rf.Modal);let jy=[];const AP=()=>jy.reduce((t,e)=>Object.assign(Object.assign({},t),e),Rf.Modal);function nJ(t){if(t){const e=Object.assign({},t);return jy.push(e),AP(),()=>{jy=jy.filter(n=>n!==e),AP()}}Object.assign({},Rf.Modal)}const rJ=y.createContext(void 0),jC=rJ,iJ=(t,e)=>{const n=y.useContext(jC),r=y.useMemo(()=>{var o;const s=e||Rf[t],a=(o=n?.[t])!==null&&o!==void 0?o:{};return Object.assign(Object.assign({},typeof s=="function"?s():s),a||{})},[t,e,n]),i=y.useMemo(()=>{const o=n?.locale;return n?.exist&&!o?Rf.locale:o},[n]);return[r,i]},g3=iJ,oJ="internalMark",sJ=t=>{const{locale:e={},children:n,_ANT_MARK__:r}=t;y.useEffect(()=>nJ(e&&e.Modal),[e]);const i=y.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return y.createElement(jC.Provider,{value:i},n)},aJ=sJ;function ao(t,e){lJ(t)&&(t="100%");var n=cJ(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function a2(t){return Math.min(1,Math.max(0,t))}function lJ(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function cJ(t){return typeof t=="string"&&t.indexOf("%")!==-1}function gB(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function l2(t){return t<=1?"".concat(Number(t)*100,"%"):t}function Zd(t){return t.length===1?"0"+t:String(t)}function uJ(t,e,n){return{r:ao(t,255)*255,g:ao(e,255)*255,b:ao(n,255)*255}}function PP(t,e,n){t=ao(t,255),e=ao(e,255),n=ao(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,s=0,a=(r+i)/2;if(r===i)s=0,o=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:a}}function $4(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dJ(t,e,n){var r,i,o;if(t=ao(t,360),e=ao(e,100),n=ao(n,100),e===0)i=n,o=n,r=n;else{var s=n<.5?n*(1+e):n+e-n*e,a=2*n-s;r=$4(a,s,t+1/3),i=$4(a,s,t),o=$4(a,s,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function o_(t,e,n){t=ao(t,255),e=ao(e,255),n=ao(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,s=r,a=r-i,l=r===0?0:a/r;if(r===i)o=0;else{switch(r){case t:o=(e-n)/a+(e<n?6:0);break;case e:o=(n-t)/a+2;break;case n:o=(t-e)/a+4;break}o/=6}return{h:o,s:l,v:s}}function fJ(t,e,n){t=ao(t,360)*6,e=ao(e,100),n=ao(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,c=[n,s,o,o,a,n][l],u=[a,n,n,s,o,o][l],d=[o,o,a,n,n,s][l];return{r:c*255,g:u*255,b:d*255}}function s_(t,e,n,r){var i=[Zd(Math.round(t).toString(16)),Zd(Math.round(e).toString(16)),Zd(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function hJ(t,e,n,r,i){var o=[Zd(Math.round(t).toString(16)),Zd(Math.round(e).toString(16)),Zd(Math.round(n).toString(16)),Zd(pJ(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function pJ(t){return Math.round(parseFloat(t)*255).toString(16)}function NP(t){return Ts(t)/255}function Ts(t){return parseInt(t,16)}function mJ(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var a_={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function lp(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=yJ(t)),typeof t=="object"&&(nc(t.r)&&nc(t.g)&&nc(t.b)?(e=uJ(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):nc(t.h)&&nc(t.s)&&nc(t.v)?(r=l2(t.s),i=l2(t.v),e=fJ(t.h,r,i),s=!0,a="hsv"):nc(t.h)&&nc(t.s)&&nc(t.l)&&(r=l2(t.s),o=l2(t.l),e=dJ(t.h,r,o),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=gB(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var gJ="[-\\+]?\\d+%?",vJ="[-\\+]?\\d*\\.\\d+%?",Mu="(?:".concat(vJ,")|(?:").concat(gJ,")"),U4="[\\s|\\(]+(".concat(Mu,")[,|\\s]+(").concat(Mu,")[,|\\s]+(").concat(Mu,")\\s*\\)?"),B4="[\\s|\\(]+(".concat(Mu,")[,|\\s]+(").concat(Mu,")[,|\\s]+(").concat(Mu,")[,|\\s]+(").concat(Mu,")\\s*\\)?"),$a={CSS_UNIT:new RegExp(Mu),rgb:new RegExp("rgb"+U4),rgba:new RegExp("rgba"+B4),hsl:new RegExp("hsl"+U4),hsla:new RegExp("hsla"+B4),hsv:new RegExp("hsv"+U4),hsva:new RegExp("hsva"+B4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function yJ(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(a_[t])t=a_[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=$a.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=$a.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=$a.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=$a.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=$a.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=$a.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=$a.hex8.exec(t),n?{r:Ts(n[1]),g:Ts(n[2]),b:Ts(n[3]),a:NP(n[4]),format:e?"name":"hex8"}:(n=$a.hex6.exec(t),n?{r:Ts(n[1]),g:Ts(n[2]),b:Ts(n[3]),format:e?"name":"hex"}:(n=$a.hex4.exec(t),n?{r:Ts(n[1]+n[1]),g:Ts(n[2]+n[2]),b:Ts(n[3]+n[3]),a:NP(n[4]+n[4]),format:e?"name":"hex8"}:(n=$a.hex3.exec(t),n?{r:Ts(n[1]+n[1]),g:Ts(n[2]+n[2]),b:Ts(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function nc(t){return!!$a.CSS_UNIT.exec(String(t))}var ci=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=mJ(e)),this.originalInput=e;var i=lp(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,i,o=e.r/255,s=e.g/255,a=e.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=gB(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=o_(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=o_(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=PP(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=PP(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),s_(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),hJ(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(ao(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(ao(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+s_(this.r,this.g,this.b,!1),n=0,r=Object.entries(a_);n<r.length;n++){var i=r[n],o=i[0],s=i[1];if(e===s)return o}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var r=!1,i=this.a<1&&this.a>=0,o=!n&&i&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=a2(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=a2(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=a2(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=a2(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return new t(s)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(new t(r));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(new t({h:r,s:i,v:o})),o=(o+a)%1;return s},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb(),i=n.a+r.a*(1-n.a);return new t({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],o=360/e,s=1;s<e;s++)i.push(new t({h:(r+s*o)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}(),c2=2,IP=.16,xJ=.05,bJ=.05,SJ=.15,vB=5,yB=4,_J=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function OP(t){var e=t.r,n=t.g,r=t.b,i=o_(e,n,r);return{h:i.h*360,s:i.s,v:i.v}}function u2(t){var e=t.r,n=t.g,r=t.b;return"#".concat(s_(e,n,r,!1))}function wJ(t,e,n){var r=n/100,i={r:(e.r-t.r)*r+t.r,g:(e.g-t.g)*r+t.g,b:(e.b-t.b)*r+t.b};return i}function LP(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-c2*e:Math.round(t.h)+c2*e:r=n?Math.round(t.h)+c2*e:Math.round(t.h)-c2*e,r<0?r+=360:r>=360&&(r-=360),r}function DP(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-IP*e:e===yB?r=t.s+IP:r=t.s+xJ*e,r>1&&(r=1),n&&e===vB&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function FP(t,e,n){var r;return n?r=t.v+bJ*e:r=t.v-SJ*e,r>1&&(r=1),Number(r.toFixed(2))}function Af(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=lp(t),i=vB;i>0;i-=1){var o=OP(r),s=u2(lp({h:LP(o,i,!0),s:DP(o,i,!0),v:FP(o,i,!0)}));n.push(s)}n.push(u2(r));for(var a=1;a<=yB;a+=1){var l=OP(r),c=u2(lp({h:LP(l,a),s:DP(l,a),v:FP(l,a)}));n.push(c)}return e.theme==="dark"?_J.map(function(u){var d=u.index,f=u.opacity,h=u2(wJ(lp(e.backgroundColor||"#141414"),lp(n[d]),f*100));return h}):n}var Wp={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Hg={},k4={};Object.keys(Wp).forEach(function(t){Hg[t]=Af(Wp[t]),Hg[t].primary=Hg[t][5],k4[t]=Af(Wp[t],{theme:"dark",backgroundColor:"#141414"}),k4[t].primary=k4[t][5]});var CJ=Hg.gold,l_=Hg.blue;const EJ=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}},TJ=EJ;function MJ(t){const{sizeUnit:e,sizeStep:n}=t;return{sizeXXL:e*(n+8),sizeXL:e*(n+4),sizeLG:e*(n+2),sizeMD:e*(n+1),sizeMS:e*n,size:e*n,sizeSM:e*(n-1),sizeXS:e*(n-2),sizeXXS:e*(n-3)}}const xB={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},RJ=Object.assign(Object.assign({},xB),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),p6=RJ;function AJ(t,e){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=e;const{colorSuccess:i,colorWarning:o,colorError:s,colorInfo:a,colorPrimary:l,colorBgBase:c,colorTextBase:u}=t,d=n(l),f=n(i),h=n(o),g=n(s),x=n(a),b=r(c,u),v=t.colorLink||t.colorInfo,_=n(v);return Object.assign(Object.assign({},b),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:f[1],colorSuccessBgHover:f[2],colorSuccessBorder:f[3],colorSuccessBorderHover:f[4],colorSuccessHover:f[4],colorSuccess:f[6],colorSuccessActive:f[7],colorSuccessTextHover:f[8],colorSuccessText:f[9],colorSuccessTextActive:f[10],colorErrorBg:g[1],colorErrorBgHover:g[2],colorErrorBorder:g[3],colorErrorBorderHover:g[4],colorErrorHover:g[5],colorError:g[6],colorErrorActive:g[7],colorErrorTextHover:g[8],colorErrorText:g[9],colorErrorTextActive:g[10],colorWarningBg:h[1],colorWarningBgHover:h[2],colorWarningBorder:h[3],colorWarningBorderHover:h[4],colorWarningHover:h[4],colorWarning:h[6],colorWarningActive:h[7],colorWarningTextHover:h[8],colorWarningText:h[9],colorWarningTextActive:h[10],colorInfoBg:x[1],colorInfoBgHover:x[2],colorInfoBorder:x[3],colorInfoBorderHover:x[4],colorInfoHover:x[4],colorInfo:x[6],colorInfoActive:x[7],colorInfoTextHover:x[8],colorInfoText:x[9],colorInfoTextActive:x[10],colorLinkHover:_[4],colorLink:_[6],colorLinkActive:_[7],colorBgMask:new ci("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const PJ=t=>{let e=t,n=t,r=t,i=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?r=1:t>=6&&(r=2),t>4&&t<8?i=4:t>=8&&(i=6),{borderRadius:t>16?16:t,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:e,borderRadiusOuter:i}},NJ=PJ;function IJ(t){const{motionUnit:e,motionBase:n,borderRadius:r,lineWidth:i}=t;return Object.assign({motionDurationFast:`${(n+e).toFixed(1)}s`,motionDurationMid:`${(n+e*2).toFixed(1)}s`,motionDurationSlow:`${(n+e*3).toFixed(1)}s`,lineWidthBold:i+1},NJ(r))}const rc=(t,e)=>new ci(t).setAlpha(e).toRgbString(),Z0=(t,e)=>new ci(t).darken(e).toHexString(),OJ=t=>{const e=Af(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},LJ=(t,e)=>{const n=t||"#fff",r=e||"#000";return{colorBgBase:n,colorTextBase:r,colorText:rc(r,.88),colorTextSecondary:rc(r,.65),colorTextTertiary:rc(r,.45),colorTextQuaternary:rc(r,.25),colorFill:rc(r,.15),colorFillSecondary:rc(r,.06),colorFillTertiary:rc(r,.04),colorFillQuaternary:rc(r,.02),colorBgLayout:Z0(n,4),colorBgContainer:Z0(n,0),colorBgElevated:Z0(n,0),colorBgSpotlight:rc(r,.85),colorBorder:Z0(n,15),colorBorderSecondary:Z0(n,6)}};function DJ(t){const e=new Array(10).fill(null).map((n,r)=>{const i=r-1,o=t*Math.pow(2.71828,i/5),s=r>1?Math.floor(o):Math.ceil(o);return Math.floor(s/2)*2});return e[1]=t,e.map(n=>{const r=n+8;return{size:n,lineHeight:r/n}})}const FJ=t=>{const e=DJ(t),n=e.map(i=>i.size),r=e.map(i=>i.lineHeight);return{fontSizeSM:n[0],fontSize:n[1],fontSizeLG:n[2],fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:r[1],lineHeightLG:r[2],lineHeightSM:r[0],lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}},$J=FJ;function UJ(t){const e=Object.keys(xB).map(n=>{const r=Af(t[n]);return new Array(10).fill(1).reduce((i,o,s)=>(i[`${n}-${s+1}`]=r[s],i[`${n}${s+1}`]=r[s],i),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),AJ(t,{generateColorPalettes:OJ,generateNeutralColorPalettes:LJ})),$J(t.fontSize)),MJ(t)),TJ(t)),IJ(t))}const bB=e_(UJ),SB={token:p6,hashed:!0},_B=ae.createContext(SB),Sv=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],BJ="5.9.2";function z4(t){return t>=0&&t<=255}function d2(t,e){const{r:n,g:r,b:i,a:o}=new ci(t).toRgb();if(o<1)return t;const{r:s,g:a,b:l}=new ci(e).toRgb();for(let c=.01;c<=1;c+=.01){const u=Math.round((n-s*(1-c))/c),d=Math.round((r-a*(1-c))/c),f=Math.round((i-l*(1-c))/c);if(z4(u)&&z4(d)&&z4(f))return new ci({r:u,g:d,b:f,a:Math.round(c*100)/100}).toRgbString()}return new ci({r:n,g:r,b:i,a:1}).toRgbString()}var kJ=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function wB(t){const{override:e}=t,n=kJ(t,["override"]),r=Object.assign({},e);Object.keys(p6).forEach(f=>{delete r[f]});const i=Object.assign(Object.assign({},n),r),o=480,s=576,a=768,l=992,c=1200,u=1600;if(i.motion===!1){const f="0s";i.motionDurationFast=f,i.motionDurationMid=f,i.motionDurationSlow=f}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:d2(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:d2(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:d2(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:i.lineWidth*4,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:d2(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:s-1,screenSM:s,screenSMMin:s,screenSMMax:a-1,screenMD:a,screenMDMin:a,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:c-1,screenXL:c,screenXLMin:c,screenXLMax:u-1,screenXXL:u,screenXXLMin:u,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new ci("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new ci("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new ci("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var $P=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const CB=(t,e,n)=>{const r=n.getDerivativeToken(t),{override:i}=e,o=$P(e,["override"]);let s=Object.assign(Object.assign({},r),{override:i});return s=wB(s),o&&Object.entries(o).forEach(a=>{let[l,c]=a;const{theme:u}=c,d=$P(c,["theme"]);let f=d;u&&(f=CB(Object.assign(Object.assign({},s),d),{override:d},u)),s[l]=f}),s};function Ea(){const{token:t,hashed:e,theme:n,components:r}=ae.useContext(_B),i=`${BJ}-${e||""}`,o=n||bB,[s,a]=xQ(o,[p6,t],{salt:i,override:Object.assign({override:t},r),getComputedToken:CB,formatToken:wB});return[o,s,e?a:""]}function Eo(t){var e=y.useRef();e.current=t;var n=y.useCallback(function(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return n}function jp(t){var e=y.useRef(!1),n=y.useState(t),r=Ie(n,2),i=r[0],o=r[1];y.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function s(a,l){l&&e.current||o(a)}return[i,s]}function V4(t){return t!==void 0}function ei(t,e){var n=e||{},r=n.defaultValue,i=n.value,o=n.onChange,s=n.postState,a=jp(function(){return V4(i)?i:V4(r)?typeof r=="function"?r():r:typeof t=="function"?t():t}),l=Ie(a,2),c=l[0],u=l[1],d=i!==void 0?i:c,f=s?s(d):d,h=Eo(o),g=jp([d]),x=Ie(g,2),b=x[0],v=x[1];Gp(function(){var S=b[0];c!==S&&h(c,S)},[b]),Gp(function(){V4(i)||u(i)},[i]);var _=Eo(function(S,w){u(S,w),v([d],w)});return[f,_]}const XC="anticon",zJ=(t,e)=>e||(t?`ant-${t}`:"ant"),Zt=y.createContext({getPrefixCls:zJ,iconPrefixCls:XC}),EB=t=>({color:t.colorLink,textDecoration:"none",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"&:focus, &:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive}}),VJ=(t,e,n,r,i)=>{const o=t/2,s=0,a=o,l=n*1/Math.sqrt(2),c=o-n*(1-1/Math.sqrt(2)),u=o-e*(1/Math.sqrt(2)),d=n*(Math.sqrt(2)-1)+e*(1/Math.sqrt(2)),f=2*o-u,h=d,g=2*o-l,x=c,b=2*o-s,v=a,_=o*Math.sqrt(2)+n*(Math.sqrt(2)-2),S=n*(Math.sqrt(2)-1);return{pointerEvents:"none",width:t,height:t,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:t,height:t/2,background:r,clipPath:{_multi_value_:!0,value:[`polygon(${S}px 100%, 50% ${S}px, ${2*o-S}px 100%, ${S}px 100%)`,`path('M ${s} ${a} A ${n} ${n} 0 0 0 ${l} ${c} L ${u} ${d} A ${e} ${e} 0 0 1 ${f} ${h} L ${g} ${x} A ${n} ${n} 0 0 0 ${b} ${v} Z')`]},content:'""'},"&::after":{content:'""',position:"absolute",width:_,height:_,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${e}px 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:i,zIndex:0,background:"transparent"}}},Oc={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Vr=t=>({boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:t.fontFamily}),e0=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),Lc=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),HJ=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active,\n  &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),GJ=(t,e)=>{const{fontFamily:n,fontSize:r}=t,i=`[class^="${e}"], [class*=" ${e}"]`;return{[i]:{fontFamily:n,fontSize:r,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[i]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},B5=t=>({outline:`${t.lineWidthFocus}px solid ${t.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),hm=t=>({"&:focus-visible":Object.assign({},B5(t))}),TB=typeof CSSINJS_STATISTIC<"u";let c_=!0;function wn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!TB)return Object.assign.apply(Object,[{}].concat(e));c_=!1;const r={};return e.forEach(i=>{Object.keys(i).forEach(s=>{Object.defineProperty(r,s,{configurable:!0,enumerable:!0,get:()=>i[s]})})}),c_=!0,r}const UP={};function WJ(){}function jJ(t){let e,n=t,r=WJ;return TB&&(e=new Set,n=new Proxy(t,{get(i,o){return c_&&e.add(o),i[o]}}),r=(i,o)=>{var s;UP[i]={global:Array.from(e),component:Object.assign(Object.assign({},(s=UP[i])===null||s===void 0?void 0:s.component),o)}}),{token:n,keys:e,flush:r}}const XJ=(t,e)=>{const[n,r]=Ea();return i_({theme:n,token:r,hashId:"",path:["ant-design-icons",t],nonce:()=>e?.nonce},()=>[{[`.${t}`]:Object.assign(Object.assign({},e0()),{[`.${t} .${t}-icon`]:{display:"block"}})}])},MB=XJ;function yr(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=Array.isArray(t)?t:[t,t],[o]=i,s=i.join("-");return a=>{const[l,c,u]=Ea(),{getPrefixCls:d,iconPrefixCls:f,csp:h}=y.useContext(Zt),g=d(),x={theme:l,token:c,hashId:u,nonce:()=>h?.nonce,clientOnly:r.clientOnly,order:r.order||-999};return i_(Object.assign(Object.assign({},x),{clientOnly:!1,path:["Shared",g]}),()=>[{"&":HJ(c)}]),MB(f),[i_(Object.assign(Object.assign({},x),{path:[s,a,f]}),()=>{const{token:b,flush:v}=jJ(c),_=Object.assign({},c[o]);if(r.deprecatedTokens){const{deprecatedTokens:N}=r;N.forEach(R=>{let[P,L]=R;var $;(_?.[P]||_?.[L])&&(($=_[L])!==null&&$!==void 0||(_[L]=_?.[P]))})}const S=typeof n=="function"?n(wn(b,_??{})):n,w=Object.assign(Object.assign({},S),_),M=`.${a}`,E=wn(b,{componentCls:M,prefixCls:a,iconCls:`.${f}`,antCls:`.${g}`},w),T=e(E,{hashId:u,prefixCls:a,rootPrefixCls:g,iconPrefixCls:f,overrideComponentToken:_});return v(o,w),[r.resetStyle===!1?null:GJ(c,a),T]}),u]}}const qJ=(t,e,n,r)=>{const i=yr(t,e,n,Object.assign({resetStyle:!1,order:-998},r));return s=>{let{prefixCls:a}=s;return i(a),null}};function KJ(t,e){return Sv.reduce((n,r)=>{const i=t[`${r}1`],o=t[`${r}3`],s=t[`${r}6`],a=t[`${r}7`];return Object.assign(Object.assign({},n),e(r,{lightColor:i,lightBorderColor:o,darkColor:s,textColor:a}))},{})}const YJ=`-ant-${Date.now()}-${Math.random()}`;function ZJ(t,e){const n={},r=(s,a)=>{let l=s.clone();return l=a?.(l)||l,l.toRgbString()},i=(s,a)=>{const l=new ci(s),c=Af(l.toRgbString());n[`${a}-color`]=r(l),n[`${a}-color-disabled`]=c[1],n[`${a}-color-hover`]=c[4],n[`${a}-color-active`]=c[6],n[`${a}-color-outline`]=l.clone().setAlpha(.2).toRgbString(),n[`${a}-color-deprecated-bg`]=c[0],n[`${a}-color-deprecated-border`]=c[2]};if(e.primaryColor){i(e.primaryColor,"primary");const s=new ci(e.primaryColor),a=Af(s.toRgbString());a.forEach((c,u)=>{n[`primary-${u+1}`]=c}),n["primary-color-deprecated-l-35"]=r(s,c=>c.lighten(35)),n["primary-color-deprecated-l-20"]=r(s,c=>c.lighten(20)),n["primary-color-deprecated-t-20"]=r(s,c=>c.tint(20)),n["primary-color-deprecated-t-50"]=r(s,c=>c.tint(50)),n["primary-color-deprecated-f-12"]=r(s,c=>c.setAlpha(c.getAlpha()*.12));const l=new ci(a[0]);n["primary-color-active-deprecated-f-30"]=r(l,c=>c.setAlpha(c.getAlpha()*.3)),n["primary-color-active-deprecated-d-02"]=r(l,c=>c.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(s=>`--${t}-${s}: ${n[s]};`).join(`
`)}
  }
  `.trim()}function QJ(t,e){const n=ZJ(t,e);uo()&&um(n,`${YJ}-dynamic-theme`)}const u_=y.createContext(!1),JJ=t=>{let{children:e,disabled:n}=t;const r=y.useContext(u_);return y.createElement(u_.Provider,{value:n??r},e)},Kf=u_,d_=y.createContext(void 0),eee=t=>{let{children:e,size:n}=t;const r=y.useContext(d_);return y.createElement(d_.Provider,{value:n||r},e)},m6=d_;function tee(){const t=y.useContext(Kf),e=y.useContext(m6);return{componentDisabled:t,componentSize:e}}function nee(t,e){const n=t||{},r=n.inherit===!1||!e?SB:e;return p3(()=>{if(!t)return e;const i=Object.assign({},r.components);return Object.keys(t.components||{}).forEach(o=>{i[o]=Object.assign(Object.assign({},i[o]),t.components[o])}),Object.assign(Object.assign(Object.assign({},r),n),{token:Object.assign(Object.assign({},r.token),n.token),components:i})},[n,r],(i,o)=>i.some((s,a)=>{const l=o[a];return!l6(s,l,!0)}))}var ree=["children"],RB=y.createContext({});function iee(t){var e=t.children,n=ln(t,ree);return y.createElement(RB.Provider,{value:n},e)}var oee=function(t){zl(n,t);var e=Vl(n);function n(){return Si(this,n),e.apply(this,arguments)}return _i(n,[{key:"render",value:function(){return this.props.children}}]),n}(y.Component),kd="none",f2="appear",h2="enter",p2="leave",BP="none",Ha="prepare",Ep="start",Tp="active",qC="end",AB="prepared";function kP(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function see(t,e){var n={animationend:kP("Animation","AnimationEnd"),transitionend:kP("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var aee=see(uo(),typeof window<"u"?window:{}),PB={};if(uo()){var lee=document.createElement("div");PB=lee.style}var m2={};function NB(t){if(m2[t])return m2[t];var e=aee[t];if(e)for(var n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(e,o)&&o in PB)return m2[t]=e[o],m2[t]}return""}var IB=NB("animationend"),OB=NB("transitionend"),LB=!!(IB&&OB),zP=IB||"animationend",VP=OB||"transitionend";function HP(t,e){if(!t)return null;if(nn(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}const cee=function(t){var e=y.useRef(),n=y.useRef(t);n.current=t;var r=y.useCallback(function(s){n.current(s)},[]);function i(s){s&&(s.removeEventListener(VP,r),s.removeEventListener(zP,r))}function o(s){e.current&&e.current!==s&&i(e.current),s&&s!==e.current&&(s.addEventListener(VP,r),s.addEventListener(zP,r),e.current=s)}return y.useEffect(function(){return function(){i(e.current)}},[]),[o,i]};var DB=uo()?y.useLayoutEffect:y.useEffect;const uee=function(){var t=y.useRef(null);function e(){jn.cancel(t.current)}function n(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var o=jn(function(){i<=1?r({isCanceled:function(){return o!==t.current}}):n(r,i-1)});t.current=o}return y.useEffect(function(){return function(){e()}},[]),[n,e]};var dee=[Ha,Ep,Tp,qC],fee=[Ha,AB],FB=!1,hee=!0;function $B(t){return t===Tp||t===qC}const pee=function(t,e,n){var r=jp(BP),i=Ie(r,2),o=i[0],s=i[1],a=uee(),l=Ie(a,2),c=l[0],u=l[1];function d(){s(Ha,!0)}var f=e?fee:dee;return DB(function(){if(o!==BP&&o!==qC){var h=f.indexOf(o),g=f[h+1],x=n(o);x===FB?s(g,!0):g&&c(function(b){function v(){b.isCanceled()||s(g,!0)}x===!0?v():Promise.resolve(x).then(v)})}},[t,o]),y.useEffect(function(){return function(){u()}},[]),[d,o]};function mee(t,e,n,r){var i=r.motionEnter,o=i===void 0?!0:i,s=r.motionAppear,a=s===void 0?!0:s,l=r.motionLeave,c=l===void 0?!0:l,u=r.motionDeadline,d=r.motionLeaveImmediately,f=r.onAppearPrepare,h=r.onEnterPrepare,g=r.onLeavePrepare,x=r.onAppearStart,b=r.onEnterStart,v=r.onLeaveStart,_=r.onAppearActive,S=r.onEnterActive,w=r.onLeaveActive,M=r.onAppearEnd,E=r.onEnterEnd,T=r.onLeaveEnd,N=r.onVisibleChanged,R=jp(),P=Ie(R,2),L=P[0],$=P[1],V=jp(kd),D=Ie(V,2),H=D[0],F=D[1],k=jp(null),O=Ie(k,2),B=O[0],G=O[1],W=y.useRef(!1),K=y.useRef(null);function X(){return n()}var Y=y.useRef(!1);function te(){F(kd,!0),G(null,!0)}function oe(j){var z=X();if(!(j&&!j.deadline&&j.target!==z)){var ee=Y.current,xe;H===f2&&ee?xe=M?.(z,j):H===h2&&ee?xe=E?.(z,j):H===p2&&ee&&(xe=T?.(z,j)),H!==kd&&ee&&xe!==!1&&te()}}var ie=cee(oe),le=Ie(ie,1),ve=le[0],me=function(z){var ee,xe,Ne;switch(z){case f2:return ee={},se(ee,Ha,f),se(ee,Ep,x),se(ee,Tp,_),ee;case h2:return xe={},se(xe,Ha,h),se(xe,Ep,b),se(xe,Tp,S),xe;case p2:return Ne={},se(Ne,Ha,g),se(Ne,Ep,v),se(Ne,Tp,w),Ne;default:return{}}},we=y.useMemo(function(){return me(H)},[H]),Q=pee(H,!t,function(j){if(j===Ha){var z=we[Ha];return z?z(X()):FB}if(Ee in we){var ee;G(((ee=we[Ee])===null||ee===void 0?void 0:ee.call(we,X(),null))||null)}return Ee===Tp&&(ve(X()),u>0&&(clearTimeout(K.current),K.current=setTimeout(function(){oe({deadline:!0})},u))),Ee===AB&&te(),hee}),fe=Ie(Q,2),he=fe[0],Ee=fe[1],ue=$B(Ee);Y.current=ue,DB(function(){$(e);var j=W.current;W.current=!0;var z;!j&&e&&a&&(z=f2),j&&e&&o&&(z=h2),(j&&!e&&c||!j&&d&&!e&&c)&&(z=p2);var ee=me(z);z&&(t||ee[Ha])?(F(z),he()):F(kd)},[e]),y.useEffect(function(){(H===f2&&!a||H===h2&&!o||H===p2&&!c)&&F(kd)},[a,o,c]),y.useEffect(function(){return function(){W.current=!1,clearTimeout(K.current)}},[]);var ke=y.useRef(!1);y.useEffect(function(){L&&(ke.current=!0),L!==void 0&&H===kd&&((ke.current||L)&&N?.(L),ke.current=!0)},[L,H]);var ge=B;return we[Ha]&&Ee===Ep&&(ge=_e({transition:"none"},ge)),[H,Ee,ge,L??e]}function gee(t){var e=t;nn(t)==="object"&&(e=t.transitionSupport);function n(i,o){return!!(i.motionName&&e&&o!==!1)}var r=y.forwardRef(function(i,o){var s=i.visible,a=s===void 0?!0:s,l=i.removeOnLeave,c=l===void 0?!0:l,u=i.forceRender,d=i.children,f=i.motionName,h=i.leavedClassName,g=i.eventProps,x=y.useContext(RB),b=x.motion,v=n(i,b),_=y.useRef(),S=y.useRef();function w(){try{return _.current instanceof HTMLElement?_.current:L5(S.current)}catch{return null}}var M=mee(v,a,w,i),E=Ie(M,4),T=E[0],N=E[1],R=E[2],P=E[3],L=y.useRef(P);P&&(L.current=!0);var $=y.useCallback(function(G){_.current=G,FC(o,G)},[o]),V,D=_e(_e({},g),{},{visible:a});if(!d)V=null;else if(T===kd)P?V=d(_e({},D),$):!c&&L.current&&h?V=d(_e(_e({},D),{},{className:h}),$):u||!c&&!h?V=d(_e(_e({},D),{},{style:{display:"none"}}),$):V=null;else{var H,F;N===Ha?F="prepare":$B(N)?F="active":N===Ep&&(F="start");var k=HP(f,"".concat(T,"-").concat(F));V=d(_e(_e({},D),{},{className:ye(HP(f,T),(H={},se(H,k,k&&F),se(H,f,typeof f=="string"),H)),style:R}),$)}if(y.isValidElement(V)&&rd(V)){var O=V,B=O.ref;B||(V=y.cloneElement(V,{ref:$}))}return y.createElement(oee,{ref:S},V)});return r.displayName="CSSMotion",r}const Hl=gee(LB);var f_="add",h_="keep",p_="remove",H4="removed";function vee(t){var e;return t&&nn(t)==="object"&&"key"in t?e=t:e={key:t},_e(_e({},e),{},{key:String(e.key)})}function m_(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(vee)}function yee(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,i=e.length,o=m_(t),s=m_(e);o.forEach(function(c){for(var u=!1,d=r;d<i;d+=1){var f=s[d];if(f.key===c.key){r<d&&(n=n.concat(s.slice(r,d).map(function(h){return _e(_e({},h),{},{status:f_})})),r=d),n.push(_e(_e({},f),{},{status:h_})),r+=1,u=!0;break}}u||n.push(_e(_e({},c),{},{status:p_}))}),r<i&&(n=n.concat(s.slice(r).map(function(c){return _e(_e({},c),{},{status:f_})})));var a={};n.forEach(function(c){var u=c.key;a[u]=(a[u]||0)+1});var l=Object.keys(a).filter(function(c){return a[c]>1});return l.forEach(function(c){n=n.filter(function(u){var d=u.key,f=u.status;return d!==c||f!==p_}),n.forEach(function(u){u.key===c&&(u.status=h_)})}),n}var xee=["component","children","onVisibleChanged","onAllRemoved"],bee=["status"],See=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function _ee(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hl,n=function(r){zl(o,r);var i=Vl(o);function o(){var s;Si(this,o);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return s=i.call.apply(i,[this].concat(l)),se(qn(s),"state",{keyEntities:[]}),se(qn(s),"removeKey",function(u){var d=s.state.keyEntities,f=d.map(function(h){return h.key!==u?h:_e(_e({},h),{},{status:H4})});return s.setState({keyEntities:f}),f.filter(function(h){var g=h.status;return g!==H4}).length}),s}return _i(o,[{key:"render",value:function(){var a=this,l=this.state.keyEntities,c=this.props,u=c.component,d=c.children,f=c.onVisibleChanged,h=c.onAllRemoved,g=ln(c,xee),x=u||y.Fragment,b={};return See.forEach(function(v){b[v]=g[v],delete g[v]}),delete g.keys,y.createElement(x,g,l.map(function(v,_){var S=v.status,w=ln(v,bee),M=S===f_||S===h_;return y.createElement(e,ct({},b,{key:w.key,visible:M,eventProps:w,onVisibleChanged:function(T){if(f?.(T,{key:w.key}),!T){var N=a.removeKey(w.key);N===0&&h&&h()}}}),function(E,T){return d(_e(_e({},E),{},{index:_}),T)})}))}}],[{key:"getDerivedStateFromProps",value:function(a,l){var c=a.keys,u=l.keyEntities,d=m_(c),f=yee(u,d);return{keyEntities:f.filter(function(h){var g=u.find(function(x){var b=x.key;return h.key===b});return!(g&&g.status===H4&&h.status===p_)})}}}]),o}(y.Component);return se(n,"defaultProps",{component:"div"}),n}const UB=_ee(LB);function wee(t){const{children:e}=t,[,n]=Ea(),{motion:r}=n,i=y.useRef(!1);return i.current=i.current||r===!1,i.current?y.createElement(iee,{motion:r},e):e}const Cee=()=>null;var Eee=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Tee=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form","select","button"],Mee="ant";let k5,BB,kB;function Xy(){return k5||Mee}function Ree(){return BB||XC}function Aee(t){return Object.keys(t).some(e=>e.endsWith("Color"))}const Pee=t=>{let{prefixCls:e,iconPrefixCls:n,theme:r}=t;e!==void 0&&(k5=e),n!==void 0&&(BB=n),r&&(Aee(r)?QJ(Xy(),r):kB=r)},zB=()=>({getPrefixCls:(t,e)=>e||(t?`${Xy()}-${t}`:Xy()),getIconPrefixCls:Ree,getRootPrefixCls:()=>k5||Xy(),getTheme:()=>kB}),Nee=t=>{const{children:e,csp:n,autoInsertSpaceInButton:r,alert:i,anchor:o,form:s,locale:a,componentSize:l,direction:c,space:u,virtual:d,dropdownMatchSelectWidth:f,popupMatchSelectWidth:h,popupOverflow:g,legacyLocale:x,parentContext:b,iconPrefixCls:v,theme:_,componentDisabled:S,segmented:w,statistic:M,spin:E,calendar:T,carousel:N,cascader:R,collapse:P,typography:L,checkbox:$,descriptions:V,divider:D,drawer:H,skeleton:F,steps:k,image:O,layout:B,list:G,mentions:W,modal:K,progress:X,result:Y,slider:te,breadcrumb:oe,menu:ie,pagination:le,input:ve,empty:me,badge:we,radio:Q,rate:fe,switch:he,transfer:Ee,avatar:ue,message:ke,tag:ge,table:j,card:z,tabs:ee,timeline:xe,timePicker:Ne,upload:Ae,notification:Fe,tree:Oe,colorPicker:We,datePicker:ht,wave:Ge}=t,Te=y.useCallback((Z,Re)=>{const{prefixCls:Pe}=t;if(Re)return Re;const Je=Pe||b.getPrefixCls("");return Z?`${Je}-${Z}`:Je},[b.getPrefixCls,t.prefixCls]),nt=v||b.iconPrefixCls||XC,at=n||b.csp;MB(nt,at);const rt=nee(_,b.theme),st={csp:at,autoInsertSpaceInButton:r,alert:i,anchor:o,locale:a||x,direction:c,space:u,virtual:d,popupMatchSelectWidth:h??f,popupOverflow:g,getPrefixCls:Te,iconPrefixCls:nt,theme:rt,segmented:w,statistic:M,spin:E,calendar:T,carousel:N,cascader:R,collapse:P,typography:L,checkbox:$,descriptions:V,divider:D,drawer:H,skeleton:F,steps:k,image:O,input:ve,layout:B,list:G,mentions:W,modal:K,progress:X,result:Y,slider:te,breadcrumb:oe,menu:ie,pagination:le,empty:me,badge:we,radio:Q,rate:fe,switch:he,transfer:Ee,avatar:ue,message:ke,tag:ge,table:j,card:z,tabs:ee,timeline:xe,timePicker:Ne,upload:Ae,notification:Fe,tree:Oe,colorPicker:We,datePicker:ht,wave:Ge},Ze=Object.assign({},b);Object.keys(st).forEach(Z=>{st[Z]!==void 0&&(Ze[Z]=st[Z])}),Tee.forEach(Z=>{const Re=t[Z];Re&&(Ze[Z]=Re)});const re=p3(()=>Ze,Ze,(Z,Re)=>{const Pe=Object.keys(Z),Je=Object.keys(Re);return Pe.length!==Je.length||Pe.some(ft=>Z[ft]!==Re[ft])}),Ve=y.useMemo(()=>({prefixCls:nt,csp:at}),[nt,at]);let Qe=y.createElement(y.Fragment,null,y.createElement(Cee,{dropdownMatchSelectWidth:f}),e);const lt=y.useMemo(()=>{var Z,Re,Pe,Je;return Cp(((Z=Rf.Form)===null||Z===void 0?void 0:Z.defaultValidateMessages)||{},((Pe=(Re=re.locale)===null||Re===void 0?void 0:Re.Form)===null||Pe===void 0?void 0:Pe.defaultValidateMessages)||{},((Je=re.form)===null||Je===void 0?void 0:Je.validateMessages)||{},s?.validateMessages||{})},[re,s?.validateMessages]);Object.keys(lt).length>0&&(Qe=y.createElement(ZQ.Provider,{value:lt},Qe)),a&&(Qe=y.createElement(aJ,{locale:a,_ANT_MARK__:oJ},Qe)),(nt||at)&&(Qe=y.createElement(GC.Provider,{value:Ve},Qe)),l&&(Qe=y.createElement(eee,{size:l},Qe)),Qe=y.createElement(wee,null,Qe);const ce=y.useMemo(()=>{const Z=rt||{},{algorithm:Re,token:Pe,components:Je}=Z,ft=Eee(Z,["algorithm","token","components"]),wt=Re&&(!Array.isArray(Re)||Re.length>0)?e_(Re):bB,mt={};return Object.entries(Je||{}).forEach(Ye=>{let[dt,it]=Ye;const gt=Object.assign({},it);"algorithm"in gt&&(gt.algorithm===!0?gt.theme=wt:(Array.isArray(gt.algorithm)||typeof gt.algorithm=="function")&&(gt.theme=e_(gt.algorithm)),delete gt.algorithm),mt[dt]=gt}),Object.assign(Object.assign({},ft),{theme:wt,token:Object.assign(Object.assign({},p6),Pe),components:mt})},[rt]);return _&&(Qe=y.createElement(_B.Provider,{value:ce},Qe)),S!==void 0&&(Qe=y.createElement(JJ,{disabled:S},Qe)),y.createElement(Zt.Provider,{value:re},Qe)},id=t=>{const e=y.useContext(Zt),n=y.useContext(jC);return y.createElement(Nee,Object.assign({parentContext:e,legacyLocale:n},t))};id.ConfigContext=Zt;id.SizeContext=m6;id.config=Pee;id.useConfig=tee;Object.defineProperty(id,"SizeContext",{get:()=>m6});var Iee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};const Oee=Iee;function VB(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function Lee(t){return VB(t)instanceof ShadowRoot}function z5(t){return Lee(t)?VB(t):null}function Dee(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})}function Fee(t,e){Pi(t,"[@ant-design/icons] ".concat(e))}function GP(t){return nn(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(nn(t.icon)==="object"||typeof t.icon=="function")}function WP(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:delete e[n],e[Dee(n)]=r}return e},{})}function g_(t,e,n){return n?ae.createElement(t.tag,_e(_e({key:e},WP(t.attrs)),n),(t.children||[]).map(function(r,i){return g_(r,"".concat(e,"-").concat(t.tag,"-").concat(i))})):ae.createElement(t.tag,_e({key:e},WP(t.attrs)),(t.children||[]).map(function(r,i){return g_(r,"".concat(e,"-").concat(t.tag,"-").concat(i))}))}function HB(t){return Af(t)[0]}function GB(t){return t?Array.isArray(t)?t:[t]:[]}var $ee=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Uee=function(e){var n=y.useContext(GC),r=n.csp,i=n.prefixCls,o=$ee;i&&(o=o.replace(/anticon/g,i)),y.useEffect(function(){var s=e.current,a=z5(s);um(o,"@ant-design-icons",{prepend:!0,csp:r,attachTo:a})},[])},Bee=["icon","className","onClick","style","primaryColor","secondaryColor"],Gg={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function kee(t){var e=t.primaryColor,n=t.secondaryColor;Gg.primaryColor=e,Gg.secondaryColor=n||HB(e),Gg.calculated=!!n}function zee(){return _e({},Gg)}var g6=function(e){var n=e.icon,r=e.className,i=e.onClick,o=e.style,s=e.primaryColor,a=e.secondaryColor,l=ln(e,Bee),c=y.useRef(),u=Gg;if(s&&(u={primaryColor:s,secondaryColor:a||HB(s)}),Uee(c),Fee(GP(n),"icon should be icon definiton, but got ".concat(n)),!GP(n))return null;var d=n;return d&&typeof d.icon=="function"&&(d=_e(_e({},d),{},{icon:d.icon(u.primaryColor,u.secondaryColor)})),g_(d.icon,"svg-".concat(d.name),_e(_e({className:r,onClick:i,style:o,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:c}))};g6.displayName="IconReact";g6.getTwoToneColors=zee;g6.setTwoToneColors=kee;const KC=g6;function WB(t){var e=GB(t),n=Ie(e,2),r=n[0],i=n[1];return KC.setTwoToneColors({primaryColor:r,secondaryColor:i})}function Vee(){var t=KC.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var Hee=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];WB(l_.primary);var v6=y.forwardRef(function(t,e){var n,r=t.className,i=t.icon,o=t.spin,s=t.rotate,a=t.tabIndex,l=t.onClick,c=t.twoToneColor,u=ln(t,Hee),d=y.useContext(GC),f=d.prefixCls,h=f===void 0?"anticon":f,g=d.rootClassName,x=ye(g,h,(n={},se(n,"".concat(h,"-").concat(i.name),!!i.name),se(n,"".concat(h,"-spin"),!!o||i.name==="loading"),n),r),b=a;b===void 0&&l&&(b=-1);var v=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,_=GB(c),S=Ie(_,2),w=S[0],M=S[1];return y.createElement("span",ct({role:"img","aria-label":i.name},u,{ref:e,tabIndex:b,onClick:l,className:x}),y.createElement(KC,{icon:i,primaryColor:w,secondaryColor:M,style:v}))});v6.displayName="AntdIcon";v6.getTwoToneColor=Vee;v6.setTwoToneColor=WB;const fr=v6;var Gee=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:Oee}))};const jB=y.forwardRef(Gee);var Wee={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};const jee=Wee;var Xee=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:jee}))};const v3=y.forwardRef(Xee);var qee={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};const Kee=qee;var Yee=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:Kee}))};const y3=y.forwardRef(Yee);var Zee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const Qee=Zee;var Jee=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:Qee}))};const ete=y.forwardRef(Jee);var tte={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};const nte=tte;var rte=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:nte}))};const ite=y.forwardRef(rte);var ote=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,ste=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,ate="".concat(ote," ").concat(ste).split(/[\s\n]+/),lte="aria-",cte="data-";function jP(t,e){return t.indexOf(e)===0}function pm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=_e({},e);var r={};return Object.keys(t).forEach(function(i){(n.aria&&(i==="role"||jP(i,lte))||n.data&&jP(i,cte)||n.attr&&ate.includes(i))&&(r[i]=t[i])}),r}const{isValidElement:Sa}=Dx;function XB(t){return t&&Sa(t)&&t.type===y.Fragment}function ute(t,e,n){return Sa(t)?y.cloneElement(t,typeof n=="function"?n(t.props||{}):n):e}function ji(t,e){return ute(t,t,e)}var ot={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var n=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||n>=ot.F1&&n<=ot.F12)return!1;switch(n){case ot.ALT:case ot.CAPS_LOCK:case ot.CONTEXT_MENU:case ot.CTRL:case ot.DOWN:case ot.END:case ot.ESC:case ot.HOME:case ot.INSERT:case ot.LEFT:case ot.MAC_FF_META:case ot.META:case ot.NUMLOCK:case ot.NUM_CENTER:case ot.PAGE_DOWN:case ot.PAGE_UP:case ot.PAUSE:case ot.PRINT_SCREEN:case ot.RIGHT:case ot.SHIFT:case ot.UP:case ot.WIN_KEY:case ot.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=ot.ZERO&&e<=ot.NINE||e>=ot.NUM_ZERO&&e<=ot.NUM_MULTIPLY||e>=ot.A&&e<=ot.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case ot.SPACE:case ot.QUESTION_MARK:case ot.NUM_PLUS:case ot.NUM_MINUS:case ot.NUM_PERIOD:case ot.NUM_DIVISION:case ot.SEMICOLON:case ot.DASH:case ot.EQUALS:case ot.COMMA:case ot.PERIOD:case ot.SLASH:case ot.APOSTROPHE:case ot.SINGLE_QUOTE:case ot.OPEN_SQUARE_BRACKET:case ot.BACKSLASH:case ot.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},qB=y.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,i=t.className,o=t.duration,s=o===void 0?4.5:o,a=t.eventKey,l=t.content,c=t.closable,u=t.closeIcon,d=u===void 0?"x":u,f=t.props,h=t.onClick,g=t.onNoticeClose,x=t.times,b=y.useState(!1),v=Ie(b,2),_=v[0],S=v[1],w=function(){g(a)},M=function(N){(N.key==="Enter"||N.code==="Enter"||N.keyCode===ot.ENTER)&&w()};y.useEffect(function(){if(!_&&s>0){var T=setTimeout(function(){w()},s*1e3);return function(){clearTimeout(T)}}},[s,_,x]);var E="".concat(n,"-notice");return y.createElement("div",ct({},f,{ref:e,className:ye(E,i,se({},"".concat(E,"-closable"),c)),style:r,onMouseEnter:function(){S(!0)},onMouseLeave:function(){S(!1)},onClick:h}),y.createElement("div",{className:"".concat(E,"-content")},l),c&&y.createElement("a",{tabIndex:0,className:"".concat(E,"-close"),onKeyDown:M,onClick:function(N){N.preventDefault(),N.stopPropagation(),w()}},d))}),KB=ae.createContext({}),dte=function(e){var n=e.children,r=e.classNames;return ae.createElement(KB.Provider,{value:{classNames:r}},n)},fte=function(e){var n=e.configList,r=e.placement,i=e.prefixCls,o=e.className,s=e.style,a=e.motion,l=e.onAllNoticeRemoved,c=e.onNoticeClose,u=y.useContext(KB),d=u.classNames,f=n.map(function(g){return{config:g,key:g.key}}),h=typeof a=="function"?a(r):a;return ae.createElement(UB,ct({key:r,className:ye(i,"".concat(i,"-").concat(r),d?.list,o),style:s,keys:f,motionAppear:!0},h,{onAllRemoved:function(){l(r)}}),function(g,x){var b=g.config,v=g.className,_=g.style,S=b,w=S.key,M=S.times,E=b,T=E.className,N=E.style;return ae.createElement(qB,ct({},b,{ref:x,prefixCls:i,className:ye(v,T,d?.notice),style:_e(_e({},_),N),times:M,key:w,eventKey:w,onNoticeClose:c}))})},hte=y.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-notification":n,i=t.container,o=t.motion,s=t.maxCount,a=t.className,l=t.style,c=t.onAllRemoved,u=t.renderNotifications,d=y.useState([]),f=Ie(d,2),h=f[0],g=f[1],x=function(N){var R,P=h.find(function(L){return L.key===N});P==null||(R=P.onClose)===null||R===void 0||R.call(P),g(function(L){return L.filter(function($){return $.key!==N})})};y.useImperativeHandle(e,function(){return{open:function(N){g(function(R){var P=St(R),L=P.findIndex(function(D){return D.key===N.key}),$=_e({},N);if(L>=0){var V;$.times=(((V=R[L])===null||V===void 0?void 0:V.times)||0)+1,P[L]=$}else $.times=0,P.push($);return s>0&&P.length>s&&(P=P.slice(-s)),P})},close:function(N){x(N)},destroy:function(){g([])}}});var b=y.useState({}),v=Ie(b,2),_=v[0],S=v[1];y.useEffect(function(){var T={};h.forEach(function(N){var R=N.placement,P=R===void 0?"topRight":R;P&&(T[P]=T[P]||[],T[P].push(N))}),Object.keys(_).forEach(function(N){T[N]=T[N]||[]}),S(T)},[h]);var w=function(N){S(function(R){var P=_e({},R),L=P[N]||[];return L.length||delete P[N],P})},M=y.useRef(!1);if(y.useEffect(function(){Object.keys(_).length>0?M.current=!0:M.current&&(c?.(),M.current=!1)},[_]),!i)return null;var E=Object.keys(_);return xa.createPortal(y.createElement(y.Fragment,null,E.map(function(T){var N=_[T],R=y.createElement(fte,{key:T,configList:N,placement:T,prefixCls:r,className:a?.(T),style:l?.(T),motion:o,onNoticeClose:x,onAllNoticeRemoved:w});return u?u(R,{prefixCls:r,key:T}):R})),i)}),pte=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","renderNotifications"],mte=function(){return document.body},XP=0;function gte(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(i){i&&Object.keys(i).forEach(function(o){var s=i[o];s!==void 0&&(t[o]=s)})}),t}function vte(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.getContainer,n=e===void 0?mte:e,r=t.motion,i=t.prefixCls,o=t.maxCount,s=t.className,a=t.style,l=t.onAllRemoved,c=t.renderNotifications,u=ln(t,pte),d=y.useState(),f=Ie(d,2),h=f[0],g=f[1],x=y.useRef(),b=y.createElement(hte,{container:h,ref:x,prefixCls:i,motion:r,maxCount:o,className:s,style:a,onAllRemoved:l,renderNotifications:c}),v=y.useState([]),_=Ie(v,2),S=_[0],w=_[1],M=y.useMemo(function(){return{open:function(T){var N=gte(u,T);(N.key===null||N.key===void 0)&&(N.key="rc-notification-".concat(XP),XP+=1),w(function(R){return[].concat(St(R),[{type:"open",config:N}])})},close:function(T){w(function(N){return[].concat(St(N),[{type:"close",key:T}])})},destroy:function(){w(function(T){return[].concat(St(T),[{type:"destroy"}])})}}},[]);return y.useEffect(function(){g(n())}),y.useEffect(function(){x.current&&S.length&&(S.forEach(function(E){switch(E.type){case"open":x.current.open(E.config);break;case"close":x.current.close(E.key);break;case"destroy":x.current.destroy();break}}),w(function(E){return E.filter(function(T){return!S.includes(T)})}))},[S]),[M,b]}var yte={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const xte=yte;var bte=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:xte}))};const _v=y.forwardRef(bte),Ste=t=>{const{componentCls:e,iconCls:n,boxShadow:r,colorText:i,colorSuccess:o,colorError:s,colorWarning:a,colorInfo:l,fontSizeLG:c,motionEaseInOutCirc:u,motionDurationSlow:d,marginXS:f,paddingXS:h,borderRadiusLG:g,zIndexPopup:x,contentPadding:b,contentBg:v}=t,_=`${e}-notice`,S=new Dn("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:h,transform:"translateY(0)",opacity:1}}),w=new Dn("MessageMoveOut",{"0%":{maxHeight:t.height,padding:h,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),M={padding:h,textAlign:"center",[`${e}-custom-content > ${n}`]:{verticalAlign:"text-bottom",marginInlineEnd:f,fontSize:c},[`${_}-content`]:{display:"inline-block",padding:b,background:v,borderRadius:g,boxShadow:r,pointerEvents:"all"},[`${e}-success > ${n}`]:{color:o},[`${e}-error > ${n}`]:{color:s},[`${e}-warning > ${n}`]:{color:a},[`${e}-info > ${n},
      ${e}-loading > ${n}`]:{color:l}};return[{[e]:Object.assign(Object.assign({},Vr(t)),{color:i,position:"fixed",top:f,width:"100%",pointerEvents:"none",zIndex:x,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:S,animationDuration:d,animationPlayState:"paused",animationTimingFunction:u},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:w,animationDuration:d,animationPlayState:"paused",animationTimingFunction:u},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[_]:Object.assign({},M)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},M),{padding:0,textAlign:"start"})}]},YB=yr("Message",t=>{const e=wn(t,{height:150});return[Ste(e)]},t=>({zIndexPopup:t.zIndexPopupBase+10,contentBg:t.colorBgElevated,contentPadding:`${(t.controlHeightLG-t.fontSize*t.lineHeight)/2}px ${t.paddingSM}px`}));var _te=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const wte={info:y.createElement(ite,null),success:y.createElement(jB,null),error:y.createElement(v3,null),warning:y.createElement(ete,null),loading:y.createElement(_v,null)},ZB=t=>{let{prefixCls:e,type:n,icon:r,children:i}=t;return y.createElement("div",{className:ye(`${e}-custom-content`,`${e}-${n}`)},r||wte[n],y.createElement("span",null,i))},Cte=t=>{const{prefixCls:e,className:n,type:r,icon:i,content:o}=t,s=_te(t,["prefixCls","className","type","icon","content"]),{getPrefixCls:a}=y.useContext(Zt),l=e||a("message"),[,c]=YB(l);return y.createElement(qB,Object.assign({},s,{prefixCls:l,className:ye(n,c,`${l}-notice-pure-panel`),eventKey:"pure",duration:null,content:y.createElement(ZB,{prefixCls:l,type:r,icon:i},o)}))},Ete=Cte;function Tte(t,e){return{motionName:e??`${t}-move-up`}}function YC(t){let e;const n=new Promise(i=>{e=t(()=>{i(!0)})}),r=()=>{e?.()};return r.then=(i,o)=>n.then(i,o),r.promise=n,r}var Mte=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Rte=8,Ate=3,Pte=t=>{let{children:e,prefixCls:n}=t;const[,r]=YB(n);return y.createElement(dte,{classNames:{list:r,notice:r}},e)},Nte=(t,e)=>{let{prefixCls:n,key:r}=e;return y.createElement(Pte,{prefixCls:n,key:r},t)},Ite=y.forwardRef((t,e)=>{const{top:n,prefixCls:r,getContainer:i,maxCount:o,duration:s=Ate,rtl:a,transitionName:l,onAllRemoved:c}=t,{getPrefixCls:u,getPopupContainer:d,message:f}=y.useContext(Zt),h=r||u("message"),g=()=>({left:"50%",transform:"translateX(-50%)",top:n??Rte}),x=()=>ye({[`${h}-rtl`]:a}),b=()=>Tte(h,l),v=y.createElement("span",{className:`${h}-close-x`},y.createElement(y3,{className:`${h}-close-icon`})),[_,S]=vte({prefixCls:h,style:g,className:x,motion:b,closable:!1,closeIcon:v,duration:s,getContainer:()=>i?.()||d?.()||document.body,maxCount:o,onAllRemoved:c,renderNotifications:Nte});return y.useImperativeHandle(e,()=>Object.assign(Object.assign({},_),{prefixCls:h,message:f})),S});let qP=0;function QB(t){const e=y.useRef(null);return WC(),[y.useMemo(()=>{const r=l=>{var c;(c=e.current)===null||c===void 0||c.close(l)},i=l=>{if(!e.current){const E=()=>{};return E.then=()=>{},E}const{open:c,prefixCls:u,message:d}=e.current,f=`${u}-notice`,{content:h,icon:g,type:x,key:b,className:v,style:_,onClose:S}=l,w=Mte(l,["content","icon","type","key","className","style","onClose"]);let M=b;return M==null&&(qP+=1,M=`antd-message-${qP}`),YC(E=>(c(Object.assign(Object.assign({},w),{key:M,content:y.createElement(ZB,{prefixCls:u,type:x,icon:g},h),placement:"top",className:ye(x&&`${f}-${x}`,v,d?.className),style:Object.assign(Object.assign({},d?.style),_),onClose:()=>{S?.(),E()}})),()=>{r(M)}))},s={open:i,destroy:l=>{var c;l!==void 0?r(l):(c=e.current)===null||c===void 0||c.destroy()}};return["info","success","warning","error","loading"].forEach(l=>{const c=(u,d,f)=>{let h;u&&typeof u=="object"&&"content"in u?h=u:h={content:u};let g,x;typeof d=="function"?x=d:(g=d,x=f);const b=Object.assign(Object.assign({onClose:x,duration:g},h),{type:l});return i(b)};s[l]=c}),s},[]),y.createElement(Ite,Object.assign({key:"message-holder"},t,{ref:e}))]}function Ote(t){return QB(t)}function fo(){fo=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(F,k,O){F[k]=O.value},o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(F,k,O){return Object.defineProperty(F,k,{value:O,enumerable:!0,configurable:!0,writable:!0}),F[k]}try{c({},"")}catch{c=function(O,B,G){return O[B]=G}}function u(F,k,O,B){var G=k&&k.prototype instanceof v?k:v,W=Object.create(G.prototype),K=new D(B||[]);return i(W,"_invoke",{value:P(F,O,K)}),W}function d(F,k,O){try{return{type:"normal",arg:F.call(k,O)}}catch(B){return{type:"throw",arg:B}}}e.wrap=u;var f="suspendedStart",h="suspendedYield",g="executing",x="completed",b={};function v(){}function _(){}function S(){}var w={};c(w,s,function(){return this});var M=Object.getPrototypeOf,E=M&&M(M(H([])));E&&E!==n&&r.call(E,s)&&(w=E);var T=S.prototype=v.prototype=Object.create(w);function N(F){["next","throw","return"].forEach(function(k){c(F,k,function(O){return this._invoke(k,O)})})}function R(F,k){function O(G,W,K,X){var Y=d(F[G],F,W);if(Y.type!=="throw"){var te=Y.arg,oe=te.value;return oe&&nn(oe)=="object"&&r.call(oe,"__await")?k.resolve(oe.__await).then(function(ie){O("next",ie,K,X)},function(ie){O("throw",ie,K,X)}):k.resolve(oe).then(function(ie){te.value=ie,K(te)},function(ie){return O("throw",ie,K,X)})}X(Y.arg)}var B;i(this,"_invoke",{value:function(W,K){function X(){return new k(function(Y,te){O(W,K,Y,te)})}return B=B?B.then(X,X):X()}})}function P(F,k,O){var B=f;return function(G,W){if(B===g)throw new Error("Generator is already running");if(B===x){if(G==="throw")throw W;return{value:t,done:!0}}for(O.method=G,O.arg=W;;){var K=O.delegate;if(K){var X=L(K,O);if(X){if(X===b)continue;return X}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(B===f)throw B=x,O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);B=g;var Y=d(F,k,O);if(Y.type==="normal"){if(B=O.done?x:h,Y.arg===b)continue;return{value:Y.arg,done:O.done}}Y.type==="throw"&&(B=x,O.method="throw",O.arg=Y.arg)}}}function L(F,k){var O=k.method,B=F.iterator[O];if(B===t)return k.delegate=null,O==="throw"&&F.iterator.return&&(k.method="return",k.arg=t,L(F,k),k.method==="throw")||O!=="return"&&(k.method="throw",k.arg=new TypeError("The iterator does not provide a '"+O+"' method")),b;var G=d(B,F.iterator,k.arg);if(G.type==="throw")return k.method="throw",k.arg=G.arg,k.delegate=null,b;var W=G.arg;return W?W.done?(k[F.resultName]=W.value,k.next=F.nextLoc,k.method!=="return"&&(k.method="next",k.arg=t),k.delegate=null,b):W:(k.method="throw",k.arg=new TypeError("iterator result is not an object"),k.delegate=null,b)}function $(F){var k={tryLoc:F[0]};1 in F&&(k.catchLoc=F[1]),2 in F&&(k.finallyLoc=F[2],k.afterLoc=F[3]),this.tryEntries.push(k)}function V(F){var k=F.completion||{};k.type="normal",delete k.arg,F.completion=k}function D(F){this.tryEntries=[{tryLoc:"root"}],F.forEach($,this),this.reset(!0)}function H(F){if(F||F===""){var k=F[s];if(k)return k.call(F);if(typeof F.next=="function")return F;if(!isNaN(F.length)){var O=-1,B=function G(){for(;++O<F.length;)if(r.call(F,O))return G.value=F[O],G.done=!1,G;return G.value=t,G.done=!0,G};return B.next=B}}throw new TypeError(nn(F)+" is not iterable")}return _.prototype=S,i(T,"constructor",{value:S,configurable:!0}),i(S,"constructor",{value:_,configurable:!0}),_.displayName=c(S,l,"GeneratorFunction"),e.isGeneratorFunction=function(F){var k=typeof F=="function"&&F.constructor;return!!k&&(k===_||(k.displayName||k.name)==="GeneratorFunction")},e.mark=function(F){return Object.setPrototypeOf?Object.setPrototypeOf(F,S):(F.__proto__=S,c(F,l,"GeneratorFunction")),F.prototype=Object.create(T),F},e.awrap=function(F){return{__await:F}},N(R.prototype),c(R.prototype,a,function(){return this}),e.AsyncIterator=R,e.async=function(F,k,O,B,G){G===void 0&&(G=Promise);var W=new R(u(F,k,O,B),G);return e.isGeneratorFunction(k)?W:W.next().then(function(K){return K.done?K.value:W.next()})},N(T),c(T,l,"Generator"),c(T,s,function(){return this}),c(T,"toString",function(){return"[object Generator]"}),e.keys=function(F){var k=Object(F),O=[];for(var B in k)O.push(B);return O.reverse(),function G(){for(;O.length;){var W=O.pop();if(W in k)return G.value=W,G.done=!1,G}return G.done=!0,G}},e.values=H,D.prototype={constructor:D,reset:function(k){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(V),!k)for(var O in this)O.charAt(0)==="t"&&r.call(this,O)&&!isNaN(+O.slice(1))&&(this[O]=t)},stop:function(){this.done=!0;var k=this.tryEntries[0].completion;if(k.type==="throw")throw k.arg;return this.rval},dispatchException:function(k){if(this.done)throw k;var O=this;function B(te,oe){return K.type="throw",K.arg=k,O.next=te,oe&&(O.method="next",O.arg=t),!!oe}for(var G=this.tryEntries.length-1;G>=0;--G){var W=this.tryEntries[G],K=W.completion;if(W.tryLoc==="root")return B("end");if(W.tryLoc<=this.prev){var X=r.call(W,"catchLoc"),Y=r.call(W,"finallyLoc");if(X&&Y){if(this.prev<W.catchLoc)return B(W.catchLoc,!0);if(this.prev<W.finallyLoc)return B(W.finallyLoc)}else if(X){if(this.prev<W.catchLoc)return B(W.catchLoc,!0)}else{if(!Y)throw new Error("try statement without catch or finally");if(this.prev<W.finallyLoc)return B(W.finallyLoc)}}}},abrupt:function(k,O){for(var B=this.tryEntries.length-1;B>=0;--B){var G=this.tryEntries[B];if(G.tryLoc<=this.prev&&r.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var W=G;break}}W&&(k==="break"||k==="continue")&&W.tryLoc<=O&&O<=W.finallyLoc&&(W=null);var K=W?W.completion:{};return K.type=k,K.arg=O,W?(this.method="next",this.next=W.finallyLoc,b):this.complete(K)},complete:function(k,O){if(k.type==="throw")throw k.arg;return k.type==="break"||k.type==="continue"?this.next=k.arg:k.type==="return"?(this.rval=this.arg=k.arg,this.method="return",this.next="end"):k.type==="normal"&&O&&(this.next=O),b},finish:function(k){for(var O=this.tryEntries.length-1;O>=0;--O){var B=this.tryEntries[O];if(B.finallyLoc===k)return this.complete(B.completion,B.afterLoc),V(B),b}},catch:function(k){for(var O=this.tryEntries.length-1;O>=0;--O){var B=this.tryEntries[O];if(B.tryLoc===k){var G=B.completion;if(G.type==="throw"){var W=G.arg;V(B)}return W}}throw new Error("illegal catch attempt")},delegateYield:function(k,O,B){return this.delegate={iterator:H(k),resultName:O,nextLoc:B},this.method==="next"&&(this.arg=t),b}},e}function KP(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(c){n(c);return}a.done?e(l):Promise.resolve(l).then(r,i)}function od(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(l){KP(o,r,i,s,a,"next",l)}function a(l){KP(o,r,i,s,a,"throw",l)}s(void 0)})}}var x3=_e({},QY),Lte=x3.version,Dte=x3.render,Fte=x3.unmountComponentAtNode,y6;try{var $te=Number((Lte||"").split(".")[0]);$te>=18&&(y6=x3.createRoot)}catch{}function YP(t){var e=x3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&nn(e)==="object"&&(e.usingClientEntryPoint=t)}var V5="__rc_react_root__";function Ute(t,e){YP(!0);var n=e[V5]||y6(e);YP(!1),n.render(t),e[V5]=n}function Bte(t,e){Dte(t,e)}function JB(t,e){if(y6){Ute(t,e);return}Bte(t,e)}function kte(t){return v_.apply(this,arguments)}function v_(){return v_=od(fo().mark(function t(e){return fo().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=e[V5])===null||i===void 0||i.unmount(),delete e[V5]}));case 1:case"end":return r.stop()}},t)})),v_.apply(this,arguments)}function zte(t){Fte(t)}function Vte(t){return y_.apply(this,arguments)}function y_(){return y_=od(fo().mark(function t(e){return fo().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(y6===void 0){r.next=2;break}return r.abrupt("return",kte(e));case 2:zte(e);case 3:case"end":return r.stop()}},t)})),y_.apply(this,arguments)}const G4=()=>({height:0,opacity:0}),ZP=t=>{const{scrollHeight:e}=t;return{height:e,opacity:1}},Hte=t=>({height:t?t.offsetHeight:0}),W4=(t,e)=>e?.deadline===!0||e.propertyName==="height",ZC=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant"}-motion-collapse`,onAppearStart:G4,onEnterStart:G4,onAppearActive:ZP,onEnterActive:ZP,onLeaveStart:Hte,onLeaveActive:G4,onAppearEnd:W4,onEnterEnd:W4,onLeaveEnd:W4,motionDeadline:500}},x6=(t,e,n)=>n!==void 0?n:`${t}-${e}`,QC=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox(),n=e.width,r=e.height;if(n||r)return!0}if(t.getBoundingClientRect){var i=t.getBoundingClientRect(),o=i.width,s=i.height;if(o||s)return!0}}return!1},Gte=t=>{const{componentCls:e,colorPrimary:n}=t;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${t.motionEaseOutCirc}`,`opacity 2s ${t.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow 0.3s ${t.motionEaseInOut}`,`opacity 0.35s ${t.motionEaseInOut}`].join(",")}}}}},Wte=yr("Wave",t=>[Gte(t)]);function jte(t){const e=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return e&&e[1]&&e[2]&&e[3]?!(e[1]===e[2]&&e[2]===e[3]):!0}function j4(t){return t&&t!=="#fff"&&t!=="#ffffff"&&t!=="rgb(255, 255, 255)"&&t!=="rgba(255, 255, 255, 1)"&&jte(t)&&!/rgba\((?:\d*, ){3}0\)/.test(t)&&t!=="transparent"}function Xte(t){const{borderTopColor:e,borderColor:n,backgroundColor:r}=getComputedStyle(t);return j4(e)?e:j4(n)?n:j4(r)?r:null}const ek="ant-wave-target";function X4(t){return Number.isNaN(t)?0:t}const qte=t=>{const{className:e,target:n,component:r}=t,i=y.useRef(null),[o,s]=y.useState(null),[a,l]=y.useState([]),[c,u]=y.useState(0),[d,f]=y.useState(0),[h,g]=y.useState(0),[x,b]=y.useState(0),[v,_]=y.useState(!1),S={left:c,top:d,width:h,height:x,borderRadius:a.map(E=>`${E}px`).join(" ")};o&&(S["--wave-color"]=o);function w(){const E=getComputedStyle(n);s(Xte(n));const T=E.position==="static",{borderLeftWidth:N,borderTopWidth:R}=E;u(T?n.offsetLeft:X4(-parseFloat(N))),f(T?n.offsetTop:X4(-parseFloat(R))),g(n.offsetWidth),b(n.offsetHeight);const{borderTopLeftRadius:P,borderTopRightRadius:L,borderBottomLeftRadius:$,borderBottomRightRadius:V}=E;l([P,L,V,$].map(D=>X4(parseFloat(D))))}if(y.useEffect(()=>{if(n){const E=jn(()=>{w(),_(!0)});let T;return typeof ResizeObserver<"u"&&(T=new ResizeObserver(w),T.observe(n)),()=>{jn.cancel(E),T?.disconnect()}}},[]),!v)return null;const M=(r==="Checkbox"||r==="Radio")&&n?.classList.contains(ek);return y.createElement(Hl,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(E,T)=>{var N;if(T.deadline||T.propertyName==="opacity"){const R=(N=i.current)===null||N===void 0?void 0:N.parentElement;Vte(R).then(()=>{R?.remove()})}return!1}},E=>{let{className:T}=E;return y.createElement("div",{ref:i,className:ye(e,{"wave-quick":M},T),style:S})})},Kte=(t,e)=>{var n;const{component:r}=e;if(r==="Checkbox"&&!(!((n=t.querySelector("input"))===null||n===void 0)&&n.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",t?.insertBefore(i,t?.firstChild),JB(y.createElement(qte,Object.assign({},e,{target:t})),i)},Yte=Kte;function Zte(t,e,n){const{wave:r}=y.useContext(Zt),[,i,o]=Ea(),s=Eo(c=>{const u=t.current;if(r?.disabled||!u)return;const d=u.querySelector(`.${ek}`)||u,{showEffect:f}=r||{};(f||Yte)(d,{className:e,token:i,component:n,event:c,hashId:o})}),a=y.useRef();return c=>{jn.cancel(a.current),a.current=jn(()=>{s(c)})}}const Qte=t=>{const{children:e,disabled:n,component:r}=t,{getPrefixCls:i}=y.useContext(Zt),o=y.useRef(null),s=i("wave"),[,a]=Wte(s),l=Zte(o,ye(s,a),r);if(ae.useEffect(()=>{const u=o.current;if(!u||u.nodeType!==1||n)return;const d=f=>{!QC(f.target)||!u.getAttribute||u.getAttribute("disabled")||u.disabled||u.className.includes("disabled")||u.className.includes("-leave")||l(f)};return u.addEventListener("click",d,!0),()=>{u.removeEventListener("click",d,!0)}},[n]),!ae.isValidElement(e))return e??null;const c=rd(e)?jo(e.ref,o):o;return ji(e,{ref:c})},Jte=Qte,ene=t=>{const e=ae.useContext(m6);return ae.useMemo(()=>t?typeof t=="string"?t??e:t instanceof Function?t(e):e:e,[t,e])},zs=ene,tne=t=>{const{componentCls:e}=t;return{[e]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},nne=tne,rne=t=>{const{componentCls:e}=t;return{[e]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${e}-item:empty`]:{display:"none"}}}},ine=t=>{const{componentCls:e}=t;return{[e]:{"&-gap-row-small":{rowGap:t.spaceGapSmallSize},"&-gap-row-middle":{rowGap:t.spaceGapMiddleSize},"&-gap-row-large":{rowGap:t.spaceGapLargeSize},"&-gap-col-small":{columnGap:t.spaceGapSmallSize},"&-gap-col-middle":{columnGap:t.spaceGapMiddleSize},"&-gap-col-large":{columnGap:t.spaceGapLargeSize}}}},tk=yr("Space",t=>{const e=wn(t,{spaceGapSmallSize:t.paddingXS,spaceGapMiddleSize:t.padding,spaceGapLargeSize:t.paddingLG});return[rne(e),ine(e),nne(e)]},()=>({}),{resetStyle:!1});var nk=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const b6=y.createContext(null),t0=(t,e)=>{const n=y.useContext(b6),r=y.useMemo(()=>{if(!n)return"";const{compactDirection:i,isFirstItem:o,isLastItem:s}=n,a=i==="vertical"?"-vertical-":"-";return ye(`${t}-compact${a}item`,{[`${t}-compact${a}first-item`]:o,[`${t}-compact${a}last-item`]:s,[`${t}-compact${a}item-rtl`]:e==="rtl"})},[t,e,n]);return{compactSize:n?.compactSize,compactDirection:n?.compactDirection,compactItemClassnames:r}},mm=t=>{let{children:e}=t;return y.createElement(b6.Provider,{value:null},e)},one=t=>{var{children:e}=t,n=nk(t,["children"]);return y.createElement(b6.Provider,{value:n},e)},sne=t=>{const{getPrefixCls:e,direction:n}=y.useContext(Zt),{size:r,direction:i,block:o,prefixCls:s,className:a,rootClassName:l,children:c}=t,u=nk(t,["size","direction","block","prefixCls","className","rootClassName","children"]),d=zs(S=>r??S),f=e("space-compact",s),[h,g]=tk(f),x=ye(f,g,{[`${f}-rtl`]:n==="rtl",[`${f}-block`]:o,[`${f}-vertical`]:i==="vertical"},a,l),b=y.useContext(b6),v=hs(c),_=y.useMemo(()=>v.map((S,w)=>{const M=S&&S.key||`${f}-item-${w}`;return y.createElement(one,{key:M,compactSize:d,compactDirection:i,isFirstItem:w===0&&(!b||b?.isFirstItem),isLastItem:w===v.length-1&&(!b||b?.isLastItem)},S)}),[r,v,b]);return v.length===0?null:h(y.createElement("div",Object.assign({className:x},u),_))},ane=sne;var lne=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const rk=y.createContext(void 0),cne=t=>{const{getPrefixCls:e,direction:n}=y.useContext(Zt),{prefixCls:r,size:i,className:o}=t,s=lne(t,["prefixCls","size","className"]),a=e("btn-group",r),[,,l]=Ea();let c="";switch(i){case"large":c="lg";break;case"small":c="sm";break}const u=ye(a,{[`${a}-${c}`]:c,[`${a}-rtl`]:n==="rtl"},o,l);return y.createElement(rk.Provider,{value:i},y.createElement("div",Object.assign({},s,{className:u})))},une=cne,QP=/^[\u4e00-\u9fa5]{2}$/,x_=QP.test.bind(QP);function JP(t){return typeof t=="string"}function q4(t){return t==="text"||t==="link"}function dne(t,e){if(t==null)return;const n=e?" ":"";return typeof t!="string"&&typeof t!="number"&&JP(t.type)&&x_(t.props.children)?ji(t,{children:t.props.children.split("").join(n)}):JP(t)?x_(t)?ae.createElement("span",null,t.split("").join(n)):ae.createElement("span",null,t):XB(t)?ae.createElement("span",null,t):t}function fne(t,e){let n=!1;const r=[];return ae.Children.forEach(t,i=>{const o=typeof i,s=o==="string"||o==="number";if(n&&s){const a=r.length-1,l=r[a];r[a]=`${l}${i}`}else r.push(i);n=s}),ae.Children.map(r,i=>dne(i,e))}const hne=y.forwardRef((t,e)=>{const{className:n,style:r,children:i,prefixCls:o}=t,s=ye(`${o}-icon`,n);return ae.createElement("span",{ref:e,className:s,style:r},i)}),ik=hne,eN=y.forwardRef((t,e)=>{let{prefixCls:n,className:r,style:i,iconClassName:o}=t;const s=ye(`${n}-loading-icon`,r);return ae.createElement(ik,{prefixCls:n,className:s,style:i,ref:e},ae.createElement(_v,{className:o}))}),K4=()=>({width:0,opacity:0,transform:"scale(0)"}),Y4=t=>({width:t.scrollWidth,opacity:1,transform:"scale(1)"}),pne=t=>{const{prefixCls:e,loading:n,existIcon:r,className:i,style:o}=t,s=!!n;return r?ae.createElement(eN,{prefixCls:e,className:i,style:o}):ae.createElement(Hl,{visible:s,motionName:`${e}-loading-icon-motion`,removeOnLeave:!0,onAppearStart:K4,onAppearActive:Y4,onEnterStart:K4,onEnterActive:Y4,onLeaveStart:Y4,onLeaveActive:K4},(a,l)=>{let{className:c,style:u}=a;return ae.createElement(eN,{prefixCls:e,className:i,style:Object.assign(Object.assign({},o),u),ref:l,iconClassName:c})})},mne=pne,tN=(t,e)=>({[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),gne=t=>{const{componentCls:e,fontSize:n,lineWidth:r,groupBorderColor:i,colorErrorHover:o}=t;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:-r,[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:n}},tN(`${e}-primary`,i),tN(`${e}-danger`,o)]}},vne=gne,yne=t=>{const{componentCls:e,iconCls:n,fontWeight:r}=t;return{[e]:{outline:"none",position:"relative",display:"inline-block",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:`${t.lineWidth}px ${t.lineType} transparent`,cursor:"pointer",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",lineHeight:t.lineHeight,color:t.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${e}-icon`]:{lineHeight:0},[`> ${n} + span, > span + ${n}`]:{marginInlineStart:t.marginXS},[`&:not(${e}-icon-only) > ${e}-icon`]:{[`&${e}-loading-icon, &:not(:last-child)`]:{marginInlineEnd:t.marginXS}},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},hm(t)),[`&-icon-only${e}-compact-item`]:{flex:"none"},[`&-compact-item${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-t.lineWidth,insetInlineStart:-t.lineWidth,display:"inline-block",width:t.lineWidth,height:`calc(100% + ${t.lineWidth*2}px)`,backgroundColor:t.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-t.lineWidth,insetInlineStart:-t.lineWidth,display:"inline-block",width:`calc(100% + ${t.lineWidth*2}px)`,height:t.lineWidth,backgroundColor:t.colorPrimaryHover,content:'""'}}}}}}},Dc=(t,e,n)=>({[`&:not(:disabled):not(${t}-disabled)`]:{"&:hover":e,"&:active":n}}),xne=t=>({minWidth:t.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),bne=t=>({borderRadius:t.controlHeight,paddingInlineStart:t.controlHeight/2,paddingInlineEnd:t.controlHeight/2}),Sne=t=>({cursor:"not-allowed",borderColor:t.borderColorDisabled,color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,boxShadow:"none"}),wv=(t,e,n,r,i,o,s,a)=>({[`&${t}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,backgroundColor:e,borderColor:r||void 0,boxShadow:"none"},Dc(t,Object.assign({backgroundColor:e},s),Object.assign({backgroundColor:e},a))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:o||void 0}})}),JC=t=>({[`&:disabled, &${t.componentCls}-disabled`]:Object.assign({},Sne(t))}),ok=t=>Object.assign({},JC(t)),H5=t=>({[`&:disabled, &${t.componentCls}-disabled`]:{cursor:"not-allowed",color:t.colorTextDisabled}}),sk=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ok(t)),{backgroundColor:t.defaultBg,borderColor:t.defaultBorderColor,color:t.defaultColor,boxShadow:t.defaultShadow}),Dc(t.componentCls,{color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),wv(t.componentCls,t.ghostBg,t.defaultGhostColor,t.defaultGhostBorderColor,t.colorTextDisabled,t.colorBorder)),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:t.colorError,borderColor:t.colorError},Dc(t.componentCls,{color:t.colorErrorHover,borderColor:t.colorErrorBorderHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),wv(t.componentCls,t.ghostBg,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder)),JC(t))}),_ne=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ok(t)),{color:t.primaryColor,backgroundColor:t.colorPrimary,boxShadow:t.primaryShadow}),Dc(t.componentCls,{color:t.colorTextLightSolid,backgroundColor:t.colorPrimaryHover},{color:t.colorTextLightSolid,backgroundColor:t.colorPrimaryActive})),wv(t.componentCls,t.ghostBg,t.colorPrimary,t.colorPrimary,t.colorTextDisabled,t.colorBorder,{color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({backgroundColor:t.colorError,boxShadow:t.dangerShadow,color:t.dangerColor},Dc(t.componentCls,{backgroundColor:t.colorErrorHover},{backgroundColor:t.colorErrorActive})),wv(t.componentCls,t.ghostBg,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder,{color:t.colorErrorHover,borderColor:t.colorErrorHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),JC(t))}),wne=t=>Object.assign(Object.assign({},sk(t)),{borderStyle:"dashed"}),Cne=t=>Object.assign(Object.assign(Object.assign({color:t.colorLink},Dc(t.componentCls,{color:t.colorLinkHover,backgroundColor:t.linkHoverBg},{color:t.colorLinkActive})),H5(t)),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign({color:t.colorError},Dc(t.componentCls,{color:t.colorErrorHover},{color:t.colorErrorActive})),H5(t))}),Ene=t=>Object.assign(Object.assign(Object.assign({},Dc(t.componentCls,{color:t.colorText,backgroundColor:t.textHoverBg},{color:t.colorText,backgroundColor:t.colorBgTextActive})),H5(t)),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign({color:t.colorError},H5(t)),Dc(t.componentCls,{color:t.colorErrorHover,backgroundColor:t.colorErrorBg},{color:t.colorErrorHover,backgroundColor:t.colorErrorBg}))}),Tne=t=>{const{componentCls:e}=t;return{[`${e}-default`]:sk(t),[`${e}-primary`]:_ne(t),[`${e}-dashed`]:wne(t),[`${e}-link`]:Cne(t),[`${e}-text`]:Ene(t),[`${e}-ghost`]:wv(t.componentCls,t.ghostBg,t.colorBgContainer,t.colorBgContainer,t.colorTextDisabled,t.colorBorder)}},eE=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:n,controlHeight:r,fontSize:i,lineHeight:o,lineWidth:s,borderRadius:a,buttonPaddingHorizontal:l,iconCls:c}=t,u=Math.max(0,(r-i*o)/2-s),d=`${n}-icon-only`;return[{[`${n}${e}`]:{fontSize:i,height:r,padding:`${u}px ${l}px`,borderRadius:a,[`&${d}`]:{width:r,paddingInlineStart:0,paddingInlineEnd:0,[`&${n}-round`]:{width:"auto"},[c]:{fontSize:t.buttonIconOnlyFontSize}},[`&${n}-loading`]:{opacity:t.opacityLoading,cursor:"default"},[`${n}-loading-icon`]:{transition:`width ${t.motionDurationSlow} ${t.motionEaseInOut}, opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`}}},{[`${n}${n}-circle${e}`]:xne(t)},{[`${n}${n}-round${e}`]:bne(t)}]},Mne=t=>eE(wn(t,{fontSize:t.contentFontSize})),Rne=t=>{const e=wn(t,{controlHeight:t.controlHeightSM,fontSize:t.contentFontSizeSM,padding:t.paddingXS,buttonPaddingHorizontal:t.paddingInlineSM,borderRadius:t.borderRadiusSM,buttonIconOnlyFontSize:t.onlyIconSizeSM});return eE(e,`${t.componentCls}-sm`)},Ane=t=>{const e=wn(t,{controlHeight:t.controlHeightLG,fontSize:t.contentFontSizeLG,buttonPaddingHorizontal:t.paddingInlineLG,borderRadius:t.borderRadiusLG,buttonIconOnlyFontSize:t.onlyIconSizeLG});return eE(e,`${t.componentCls}-lg`)},Pne=t=>{const{componentCls:e}=t;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},ak=t=>{const{paddingInline:e,onlyIconSize:n}=t;return wn(t,{buttonPaddingHorizontal:e,buttonIconOnlyFontSize:n})},lk=t=>({fontWeight:400,defaultShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlTmpOutline}`,primaryShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlOutline}`,dangerShadow:`0 ${t.controlOutlineWidth}px 0 ${t.colorErrorOutline}`,primaryColor:t.colorTextLightSolid,dangerColor:t.colorTextLightSolid,borderColorDisabled:t.colorBorder,defaultGhostColor:t.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:t.colorBgContainer,paddingInline:t.paddingContentHorizontal-t.lineWidth,paddingInlineLG:t.paddingContentHorizontal-t.lineWidth,paddingInlineSM:8-t.lineWidth,onlyIconSize:t.fontSizeLG,onlyIconSizeSM:t.fontSizeLG-2,onlyIconSizeLG:t.fontSizeLG+2,groupBorderColor:t.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:t.colorBgTextHover,defaultColor:t.colorText,defaultBg:t.colorBgContainer,defaultBorderColor:t.colorBorder,defaultBorderColorDisabled:t.colorBorder,contentFontSize:t.fontSize,contentFontSizeSM:t.fontSize,contentFontSizeLG:t.fontSizeLG}),Nne=yr("Button",t=>{const e=ak(t);return[yne(e),Rne(e),Mne(e),Ane(e),Pne(e),Tne(e),vne(e)]},lk);function Ine(t,e,n){const{focusElCls:r,focus:i,borderElCls:o}=n,s=o?"> *":"",a=["hover",i?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${s}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:-t.lineWidth},"&-item":Object.assign(Object.assign({[a]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function One(t,e,n){const{borderElCls:r}=n,i=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function S6(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:n}=t,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},Ine(t,r,e)),One(n,r,e))}}function Lne(t,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:-t.lineWidth},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function Dne(t,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function Fne(t){const e=`${t.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},Lne(t,e)),Dne(t.componentCls,e))}}const $ne=qJ(["Button","compact"],t=>{const e=ak(t);return[S6(e),Fne(e)]},lk);var Une=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Bne(t){if(typeof t=="object"&&t){const e=t?.delay;return{loading:!1,delay:!Number.isNaN(e)&&typeof e=="number"?e:0}}return{loading:!!t,delay:0}}const kne=(t,e)=>{var n,r;const{loading:i=!1,prefixCls:o,type:s="default",danger:a,shape:l="default",size:c,styles:u,disabled:d,className:f,rootClassName:h,children:g,icon:x,ghost:b=!1,block:v=!1,htmlType:_="button",classNames:S,style:w={}}=t,M=Une(t,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","ghost","block","htmlType","classNames","style"]),{getPrefixCls:E,autoInsertSpaceInButton:T,direction:N,button:R}=y.useContext(Zt),P=E("btn",o),[L,$]=Nne(P),V=y.useContext(Kf),D=d??V,H=y.useContext(rk),F=y.useMemo(()=>Bne(i),[i]),[k,O]=y.useState(F.loading),[B,G]=y.useState(!1),K=jo(e,y.createRef()),X=y.Children.count(g)===1&&!x&&!q4(s);y.useEffect(()=>{let z=null;F.delay>0?z=setTimeout(()=>{z=null,O(!0)},F.delay):O(F.loading);function ee(){z&&(clearTimeout(z),z=null)}return ee},[F]),y.useEffect(()=>{if(!K||!K.current||T===!1)return;const z=K.current.textContent;X&&x_(z)?B||G(!0):B&&G(!1)},[K]);const Y=z=>{const{onClick:ee}=t;if(k||D){z.preventDefault();return}ee?.(z)},te=T!==!1,{compactSize:oe,compactItemClassnames:ie}=t0(P,N),le={large:"lg",small:"sm",middle:void 0},ve=zs(z=>{var ee,xe;return(xe=(ee=c??oe)!==null&&ee!==void 0?ee:H)!==null&&xe!==void 0?xe:z}),me=ve&&le[ve]||"",we=k?"loading":x,Q=fi(M,["navigate"]),fe=ye(P,$,{[`${P}-${l}`]:l!=="default"&&l,[`${P}-${s}`]:s,[`${P}-${me}`]:me,[`${P}-icon-only`]:!g&&g!==0&&!!we,[`${P}-background-ghost`]:b&&!q4(s),[`${P}-loading`]:k,[`${P}-two-chinese-chars`]:B&&te&&!k,[`${P}-block`]:v,[`${P}-dangerous`]:!!a,[`${P}-rtl`]:N==="rtl"},ie,f,h,R?.className),he=Object.assign(Object.assign({},R?.style),w),Ee=ye(S?.icon,(n=R?.classNames)===null||n===void 0?void 0:n.icon),ue=Object.assign(Object.assign({},u?.icon||{}),((r=R?.styles)===null||r===void 0?void 0:r.icon)||{}),ke=x&&!k?ae.createElement(ik,{prefixCls:P,className:Ee,style:ue},x):ae.createElement(mne,{existIcon:!!x,prefixCls:P,loading:!!k}),ge=g||g===0?fne(g,X&&te):null;if(Q.href!==void 0)return L(ae.createElement("a",Object.assign({},Q,{className:ye(fe,{[`${P}-disabled`]:D}),style:he,onClick:Y,ref:K}),ke,ge));let j=ae.createElement("button",Object.assign({},M,{type:_,className:fe,style:he,onClick:Y,disabled:D,ref:K}),ke,ge,ie&&ae.createElement($ne,{key:"compact",prefixCls:P}));return q4(s)||(j=ae.createElement(Jte,{component:"Button",disabled:!!k},j)),L(j)},tE=y.forwardRef(kne);tE.Group=une;tE.__ANT_BUTTON=!0;const da=tE;var ck=y.createContext(null),nN=[];function zne(t,e){var n=y.useState(function(){if(!uo())return null;var g=document.createElement("div");return g}),r=Ie(n,1),i=r[0],o=y.useRef(!1),s=y.useContext(ck),a=y.useState(nN),l=Ie(a,2),c=l[0],u=l[1],d=s||(o.current?void 0:function(g){u(function(x){var b=[g].concat(St(x));return b})});function f(){i.parentElement||document.body.appendChild(i),o.current=!0}function h(){var g;(g=i.parentElement)===null||g===void 0||g.removeChild(i),o.current=!1}return sr(function(){return t?s?s(f):f():h(),h},[t]),sr(function(){c.length&&(c.forEach(function(g){return g()}),u(nN))},[c]),[i,d]}var Z4;function Vne(t){if(typeof document>"u")return 0;if(t||Z4===void 0){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(e),document.body.appendChild(n);var i=e.offsetWidth;n.style.overflow="scroll";var o=e.offsetWidth;i===o&&(o=n.clientWidth),document.body.removeChild(n),Z4=i-o}return Z4}function rN(t){var e=t.match(/^(.*)px$/),n=Number(e?.[1]);return Number.isNaN(n)?Vne():n}function Hne(t){if(typeof document>"u"||!t||!(t instanceof Element))return{width:0,height:0};var e=getComputedStyle(t,"::-webkit-scrollbar"),n=e.width,r=e.height;return{width:rN(n),height:rN(r)}}function Gne(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var Wne="rc-util-locker-".concat(Date.now()),iN=0;function jne(t){var e=!!t,n=y.useState(function(){return iN+=1,"".concat(Wne,"_").concat(iN)}),r=Ie(n,1),i=r[0];sr(function(){if(e){var o=Hne(document.body).width,s=Gne();um(`
html body {
  overflow-y: hidden;
  `.concat(s?"width: calc(100% - ".concat(o,"px);"):"",`
}`),i)}else $5(i);return function(){$5(i)}},[e,i])}var oN=!1;function Xne(t){return typeof t=="boolean"&&(oN=t),oN}var sN=function(e){return e===!1?!1:!uo()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},uk=y.forwardRef(function(t,e){var n=t.open,r=t.autoLock,i=t.getContainer;t.debug;var o=t.autoDestroy,s=o===void 0?!0:o,a=t.children,l=y.useState(n),c=Ie(l,2),u=c[0],d=c[1],f=u||n;y.useEffect(function(){(s||n)&&d(n)},[n,s]);var h=y.useState(function(){return sN(i)}),g=Ie(h,2),x=g[0],b=g[1];y.useEffect(function(){var L=sN(i);b(L??null)});var v=zne(f&&!x),_=Ie(v,2),S=_[0],w=_[1],M=x??S;jne(r&&n&&uo()&&(M===S||M===document.body));var E=null;if(a&&rd(a)&&e){var T=a;E=T.ref}var N=m3(E,e);if(!f||!uo()||x===void 0)return null;var R=M===!1||Xne(),P=a;return e&&(P=y.cloneElement(a,{ref:N})),y.createElement(ck.Provider,{value:w},R?P:xa.createPortal(P,M))});function qne(){var t=_e({},Dx);return t.useId}var aN=0;function Kne(t){var e=y.useState("ssr-id"),n=Ie(e,2),r=n[0],i=n[1],o=qne(),s=o?.();return y.useEffect(function(){if(!o){var a=aN;aN+=1,i("rc_unique_".concat(a))}},[]),t||s||r}var dk=function(e){if(uo()&&window.document.documentElement){var n=Array.isArray(e)?e:[e],r=window.document.documentElement;return n.some(function(i){return i in r.style})}return!1},Yne=function(e,n){if(!dk(e))return!1;var r=document.createElement("div"),i=r.style[e];return r.style[e]=n,r.style[e]!==i};function lN(t,e){return!Array.isArray(t)&&e!==void 0?Yne(t,e):dk(t)}var Qd="RC_FORM_INTERNAL_HOOKS",pr=function(){Pi(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},gm=y.createContext({getFieldValue:pr,getFieldsValue:pr,getFieldError:pr,getFieldWarning:pr,getFieldsError:pr,isFieldsTouched:pr,isFieldTouched:pr,isFieldValidating:pr,isFieldsValidating:pr,resetFields:pr,setFields:pr,setFieldValue:pr,setFieldsValue:pr,validateFields:pr,submit:pr,getInternalHooks:function(){return pr(),{dispatch:pr,initEntityValue:pr,registerField:pr,useSubscribe:pr,setInitialValues:pr,destroyForm:pr,setCallbacks:pr,registerWatch:pr,getFields:pr,setValidateMessages:pr,setPreserve:pr,getInitialValue:pr}}}),G5=y.createContext(null);function b_(t){return t==null?[]:Array.isArray(t)?t:[t]}function Zne(t){return t&&!!t._init}function Jd(){return Jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jd.apply(this,arguments)}function Qne(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Cv(t,e)}function S_(t){return S_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S_(t)}function Cv(t,e){return Cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cv(t,e)}function Jne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qy(t,e,n){return Jne()?qy=Reflect.construct.bind():qy=function(i,o,s){var a=[null];a.push.apply(a,o);var l=Function.bind.apply(i,a),c=new l;return s&&Cv(c,s.prototype),c},qy.apply(null,arguments)}function ere(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function __(t){var e=typeof Map=="function"?new Map:void 0;return __=function(r){if(r===null||!ere(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return qy(r,arguments,S_(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Cv(i,r)},__(t)}var tre=/%[sdj%]/g,nre=function(){};typeof process<"u"&&process.env;function w_(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function Ps(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var s=t.replace(tre,function(a){if(a==="%%")return"%";if(i>=o)return a;switch(a){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return a}});return s}return t}function rre(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function Ni(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||rre(e)&&typeof t=="string"&&!t)}function ire(t,e,n){var r=[],i=0,o=t.length;function s(a){r.push.apply(r,a||[]),i++,i===o&&n(r)}t.forEach(function(a){e(a,s)})}function cN(t,e,n){var r=0,i=t.length;function o(s){if(s&&s.length){n(s);return}var a=r;r=r+1,a<i?e(t[a],o):n([])}o([])}function ore(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var uN=function(t){Qne(e,t);function e(n,r){var i;return i=t.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return e}(__(Error));function sre(t,e,n,r,i){if(e.first){var o=new Promise(function(f,h){var g=function(v){return r(v),v.length?h(new uN(v,w_(v))):f(i)},x=ore(t);cN(x,n,g)});return o.catch(function(f){return f}),o}var s=e.firstFields===!0?Object.keys(t):e.firstFields||[],a=Object.keys(t),l=a.length,c=0,u=[],d=new Promise(function(f,h){var g=function(b){if(u.push.apply(u,b),c++,c===l)return r(u),u.length?h(new uN(u,w_(u))):f(i)};a.length||(r(u),f(i)),a.forEach(function(x){var b=t[x];s.indexOf(x)!==-1?cN(b,n,g):ire(b,n,g)})});return d.catch(function(f){return f}),d}function are(t){return!!(t&&t.message!==void 0)}function lre(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function dN(t,e){return function(n){var r;return t.fullFields?r=lre(e,t.fullFields):r=e[n.field||t.fullField],are(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function fN(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=Jd({},t[n],r):t[n]=r}}return t}var fk=function(e,n,r,i,o,s){e.required&&(!r.hasOwnProperty(e.field)||Ni(n,s||e.type))&&i.push(Ps(o.messages.required,e.fullField))},cre=function(e,n,r,i,o){(/^\s+$/.test(n)||n==="")&&i.push(Ps(o.messages.whitespace,e.fullField))},g2,ure=function(){if(g2)return g2;var t="[a-fA-F\\d:]",e=function(w){return w&&w.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),s=new RegExp("^"+n+"$"),a=new RegExp("^"+i+"$"),l=function(w){return w&&w.exact?o:new RegExp("(?:"+e(w)+n+e(w)+")|(?:"+e(w)+i+e(w)+")","g")};l.v4=function(S){return S&&S.exact?s:new RegExp(""+e(S)+n+e(S),"g")},l.v6=function(S){return S&&S.exact?a:new RegExp(""+e(S)+i+e(S),"g")};var c="(?:(?:[a-z]+:)?//)",u="(?:\\S+(?::\\S*)?@)?",d=l.v4().source,f=l.v6().source,h="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",g="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",x="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",b="(?::\\d{2,5})?",v='(?:[/?#][^\\s"]*)?',_="(?:"+c+"|www\\.)"+u+"(?:localhost|"+d+"|"+f+"|"+h+g+x+")"+b+v;return g2=new RegExp("(?:^"+_+"$)","i"),g2},hN={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Mg={integer:function(e){return Mg.number(e)&&parseInt(e,10)===e},float:function(e){return Mg.number(e)&&!Mg.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!Mg.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(hN.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(ure())},hex:function(e){return typeof e=="string"&&!!e.match(hN.hex)}},dre=function(e,n,r,i,o){if(e.required&&n===void 0){fk(e,n,r,i,o);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;s.indexOf(a)>-1?Mg[a](n)||i.push(Ps(o.messages.types[a],e.fullField,e.type)):a&&typeof n!==e.type&&i.push(Ps(o.messages.types[a],e.fullField,e.type))},fre=function(e,n,r,i,o){var s=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=n,d=null,f=typeof n=="number",h=typeof n=="string",g=Array.isArray(n);if(f?d="number":h?d="string":g&&(d="array"),!d)return!1;g&&(u=n.length),h&&(u=n.replace(c,"_").length),s?u!==e.len&&i.push(Ps(o.messages[d].len,e.fullField,e.len)):a&&!l&&u<e.min?i.push(Ps(o.messages[d].min,e.fullField,e.min)):l&&!a&&u>e.max?i.push(Ps(o.messages[d].max,e.fullField,e.max)):a&&l&&(u<e.min||u>e.max)&&i.push(Ps(o.messages[d].range,e.fullField,e.min,e.max))},wh="enum",hre=function(e,n,r,i,o){e[wh]=Array.isArray(e[wh])?e[wh]:[],e[wh].indexOf(n)===-1&&i.push(Ps(o.messages[wh],e.fullField,e[wh].join(", ")))},pre=function(e,n,r,i,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push(Ps(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var s=new RegExp(e.pattern);s.test(n)||i.push(Ps(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},zn={required:fk,whitespace:cre,type:dre,range:fre,enum:hre,pattern:pre},mre=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Ni(n,"string")&&!e.required)return r();zn.required(e,n,i,s,o,"string"),Ni(n,"string")||(zn.type(e,n,i,s,o),zn.range(e,n,i,s,o),zn.pattern(e,n,i,s,o),e.whitespace===!0&&zn.whitespace(e,n,i,s,o))}r(s)},gre=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Ni(n)&&!e.required)return r();zn.required(e,n,i,s,o),n!==void 0&&zn.type(e,n,i,s,o)}r(s)},vre=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(n===""&&(n=void 0),Ni(n)&&!e.required)return r();zn.required(e,n,i,s,o),n!==void 0&&(zn.type(e,n,i,s,o),zn.range(e,n,i,s,o))}r(s)},yre=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Ni(n)&&!e.required)return r();zn.required(e,n,i,s,o),n!==void 0&&zn.type(e,n,i,s,o)}r(s)},xre=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Ni(n)&&!e.required)return r();zn.required(e,n,i,s,o),Ni(n)||zn.type(e,n,i,s,o)}r(s)},bre=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Ni(n)&&!e.required)return r();zn.required(e,n,i,s,o),n!==void 0&&(zn.type(e,n,i,s,o),zn.range(e,n,i,s,o))}r(s)},Sre=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Ni(n)&&!e.required)return r();zn.required(e,n,i,s,o),n!==void 0&&(zn.type(e,n,i,s,o),zn.range(e,n,i,s,o))}r(s)},_re=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(n==null&&!e.required)return r();zn.required(e,n,i,s,o,"array"),n!=null&&(zn.type(e,n,i,s,o),zn.range(e,n,i,s,o))}r(s)},wre=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Ni(n)&&!e.required)return r();zn.required(e,n,i,s,o),n!==void 0&&zn.type(e,n,i,s,o)}r(s)},Cre="enum",Ere=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Ni(n)&&!e.required)return r();zn.required(e,n,i,s,o),n!==void 0&&zn[Cre](e,n,i,s,o)}r(s)},Tre=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Ni(n,"string")&&!e.required)return r();zn.required(e,n,i,s,o),Ni(n,"string")||zn.pattern(e,n,i,s,o)}r(s)},Mre=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Ni(n,"date")&&!e.required)return r();if(zn.required(e,n,i,s,o),!Ni(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),zn.type(e,l,i,s,o),l&&zn.range(e,l.getTime(),i,s,o)}}r(s)},Rre=function(e,n,r,i,o){var s=[],a=Array.isArray(n)?"array":typeof n;zn.required(e,n,i,s,o,a),r(s)},Q4=function(e,n,r,i,o){var s=e.type,a=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(Ni(n,s)&&!e.required)return r();zn.required(e,n,i,a,o,s),Ni(n,s)||zn.type(e,n,i,a,o)}r(a)},Are=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Ni(n)&&!e.required)return r();zn.required(e,n,i,s,o)}r(s)},Wg={string:mre,method:gre,number:vre,boolean:yre,regexp:xre,integer:bre,float:Sre,array:_re,object:wre,enum:Ere,pattern:Tre,date:Mre,url:Q4,hex:Q4,email:Q4,required:Rre,any:Are};function C_(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var E_=C_(),b3=function(){function t(n){this.rules=null,this._messages=E_,this.define(n)}var e=t.prototype;return e.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(o){var s=r[o];i.rules[o]=Array.isArray(s)?s:[s]})},e.messages=function(r){return r&&(this._messages=fN(C_(),r)),this._messages},e.validate=function(r,i,o){var s=this;i===void 0&&(i={}),o===void 0&&(o=function(){});var a=r,l=i,c=o;if(typeof l=="function"&&(c=l,l={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,a),Promise.resolve(a);function u(x){var b=[],v={};function _(w){if(Array.isArray(w)){var M;b=(M=b).concat.apply(M,w)}else b.push(w)}for(var S=0;S<x.length;S++)_(x[S]);b.length?(v=w_(b),c(b,v)):c(null,a)}if(l.messages){var d=this.messages();d===E_&&(d=C_()),fN(d,l.messages),l.messages=d}else l.messages=this.messages();var f={},h=l.keys||Object.keys(this.rules);h.forEach(function(x){var b=s.rules[x],v=a[x];b.forEach(function(_){var S=_;typeof S.transform=="function"&&(a===r&&(a=Jd({},a)),v=a[x]=S.transform(v)),typeof S=="function"?S={validator:S}:S=Jd({},S),S.validator=s.getValidationMethod(S),S.validator&&(S.field=x,S.fullField=S.fullField||x,S.type=s.getType(S),f[x]=f[x]||[],f[x].push({rule:S,value:v,source:a,field:x}))})});var g={};return sre(f,l,function(x,b){var v=x.rule,_=(v.type==="object"||v.type==="array")&&(typeof v.fields=="object"||typeof v.defaultField=="object");_=_&&(v.required||!v.required&&x.value),v.field=x.field;function S(E,T){return Jd({},T,{fullField:v.fullField+"."+E,fullFields:v.fullFields?[].concat(v.fullFields,[E]):[E]})}function w(E){E===void 0&&(E=[]);var T=Array.isArray(E)?E:[E];!l.suppressWarning&&T.length&&t.warning("async-validator:",T),T.length&&v.message!==void 0&&(T=[].concat(v.message));var N=T.map(dN(v,a));if(l.first&&N.length)return g[v.field]=1,b(N);if(!_)b(N);else{if(v.required&&!x.value)return v.message!==void 0?N=[].concat(v.message).map(dN(v,a)):l.error&&(N=[l.error(v,Ps(l.messages.required,v.field))]),b(N);var R={};v.defaultField&&Object.keys(x.value).map(function($){R[$]=v.defaultField}),R=Jd({},R,x.rule.fields);var P={};Object.keys(R).forEach(function($){var V=R[$],D=Array.isArray(V)?V:[V];P[$]=D.map(S.bind(null,$))});var L=new t(P);L.messages(l.messages),x.rule.options&&(x.rule.options.messages=l.messages,x.rule.options.error=l.error),L.validate(x.value,x.rule.options||l,function($){var V=[];N&&N.length&&V.push.apply(V,N),$&&$.length&&V.push.apply(V,$),b(V.length?V:null)})}}var M;if(v.asyncValidator)M=v.asyncValidator(v,x.value,w,x.source,l);else if(v.validator){try{M=v.validator(v,x.value,w,x.source,l)}catch(E){console.error?.(E),l.suppressValidatorError||setTimeout(function(){throw E},0),w(E.message)}M===!0?w():M===!1?w(typeof v.message=="function"?v.message(v.fullField||v.field):v.message||(v.fullField||v.field)+" fails"):M instanceof Array?w(M):M instanceof Error&&w(M.message)}M&&M.then&&M.then(function(){return w()},function(E){return w(E)})},function(x){u(x)},a)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Wg.hasOwnProperty(r.type))throw new Error(Ps("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),o=i.indexOf("message");return o!==-1&&i.splice(o,1),i.length===1&&i[0]==="required"?Wg.required:Wg[this.getType(r)]||void 0},t}();b3.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Wg[e]=n};b3.warning=nre;b3.messages=E_;b3.validators=Wg;var _s="'${name}' is not a valid ${type}",hk={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:_s,method:_s,array:_s,object:_s,number:_s,date:_s,boolean:_s,integer:_s,float:_s,regexp:_s,email:_s,url:_s,hex:_s},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},pN=b3;function Pre(t,e){return t.replace(/\$\{\w+\}/g,function(n){var r=n.slice(2,-1);return e[r]})}var mN="CODE_LOGIC_ERROR";function T_(t,e,n,r,i){return M_.apply(this,arguments)}function M_(){return M_=od(fo().mark(function t(e,n,r,i,o){var s,a,l,c,u,d,f,h,g;return fo().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return s=_e({},r),delete s.ruleIndex,pN.warning=function(){},s.validator&&(a=s.validator,s.validator=function(){try{return a.apply(void 0,arguments)}catch(v){return console.error(v),Promise.reject(mN)}}),l=null,s&&s.type==="array"&&s.defaultField&&(l=s.defaultField,delete s.defaultField),c=new pN(se({},e,[s])),u=Cp(hk,i.validateMessages),c.messages(u),d=[],b.prev=10,b.next=13,Promise.resolve(c.validate(se({},e,n),_e({},i)));case 13:b.next=18;break;case 15:b.prev=15,b.t0=b.catch(10),b.t0.errors&&(d=b.t0.errors.map(function(v,_){var S=v.message,w=S===mN?u.default:S;return y.isValidElement(w)?y.cloneElement(w,{key:"error_".concat(_)}):w}));case 18:if(!(!d.length&&l)){b.next=23;break}return b.next=21,Promise.all(n.map(function(v,_){return T_("".concat(e,".").concat(_),v,l,i,o)}));case 21:return f=b.sent,b.abrupt("return",f.reduce(function(v,_){return[].concat(St(v),St(_))},[]));case 23:return h=_e(_e({},r),{},{name:e,enum:(r.enum||[]).join(", ")},o),g=d.map(function(v){return typeof v=="string"?Pre(v,h):v}),b.abrupt("return",g);case 26:case"end":return b.stop()}},t,null,[[10,15]])})),M_.apply(this,arguments)}function Nre(t,e,n,r,i,o){var s=t.join("."),a=n.map(function(u,d){var f=u.validator,h=_e(_e({},u),{},{ruleIndex:d});return f&&(h.validator=function(g,x,b){var v=!1,_=function(){for(var M=arguments.length,E=new Array(M),T=0;T<M;T++)E[T]=arguments[T];Promise.resolve().then(function(){Pi(!v,"Your validator function has already return a promise. `callback` will be ignored."),v||b.apply(void 0,E)})},S=f(g,x,_);v=S&&typeof S.then=="function"&&typeof S.catch=="function",Pi(v,"`callback` is deprecated. Please return a promise instead."),v&&S.then(function(){b()}).catch(function(w){b(w||" ")})}),h}).sort(function(u,d){var f=u.warningOnly,h=u.ruleIndex,g=d.warningOnly,x=d.ruleIndex;return!!f==!!g?h-x:f?1:-1}),l;if(i===!0)l=new Promise(function(){var u=od(fo().mark(function d(f,h){var g,x,b;return fo().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:g=0;case 1:if(!(g<a.length)){_.next=12;break}return x=a[g],_.next=5,T_(s,e,x,r,o);case 5:if(b=_.sent,!b.length){_.next=9;break}return h([{errors:b,rule:x}]),_.abrupt("return");case 9:g+=1,_.next=1;break;case 12:f([]);case 13:case"end":return _.stop()}},d)}));return function(d,f){return u.apply(this,arguments)}}());else{var c=a.map(function(u){return T_(s,e,u,r,o).then(function(d){return{errors:d,rule:u}})});l=(i?Ore(c):Ire(c)).then(function(u){return Promise.reject(u)})}return l.catch(function(u){return u}),l}function Ire(t){return R_.apply(this,arguments)}function R_(){return R_=od(fo().mark(function t(e){return fo().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(e).then(function(i){var o,s=(o=[]).concat.apply(o,St(i));return s}));case 1:case"end":return r.stop()}},t)})),R_.apply(this,arguments)}function Ore(t){return A_.apply(this,arguments)}function A_(){return A_=od(fo().mark(function t(e){var n;return fo().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=0,i.abrupt("return",new Promise(function(o){e.forEach(function(s){s.then(function(a){a.errors.length&&o([a]),n+=1,n===e.length&&o([])})})}));case 2:case"end":return i.stop()}},t)})),A_.apply(this,arguments)}function si(t){return b_(t)}function gN(t,e){var n={};return e.forEach(function(r){var i=Xa(t,r);n=Va(n,r,i)}),n}function Xp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return t&&t.some(function(r){return pk(e,r,n)})}function pk(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!t||!e||!n&&t.length!==e.length?!1:e.every(function(r,i){return t[i]===r})}function Lre(t,e){if(t===e)return!0;if(!t&&e||t&&!e||!t||!e||nn(t)!=="object"||nn(e)!=="object")return!1;var n=Object.keys(t),r=Object.keys(e),i=new Set([].concat(n,r));return St(i).every(function(o){var s=t[o],a=e[o];return typeof s=="function"&&typeof a=="function"?!0:s===a})}function Dre(t){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&nn(e.target)==="object"&&t in e.target?e.target[t]:e}function vN(t,e,n){var r=t.length;if(e<0||e>=r||n<0||n>=r)return t;var i=t[e],o=e-n;return o>0?[].concat(St(t.slice(0,n)),[i],St(t.slice(n,e)),St(t.slice(e+1,r))):o<0?[].concat(St(t.slice(0,e)),St(t.slice(e+1,n+1)),[i],St(t.slice(n+1,r))):t}var Fre=["name"],Js=[];function yN(t,e,n,r,i,o){return typeof t=="function"?t(e,n,"source"in o?{source:o.source}:{}):r!==i}var nE=function(t){zl(n,t);var e=Vl(n);function n(r){var i;if(Si(this,n),i=e.call(this,r),se(qn(i),"state",{resetCount:0}),se(qn(i),"cancelRegisterFunc",null),se(qn(i),"mounted",!1),se(qn(i),"touched",!1),se(qn(i),"dirty",!1),se(qn(i),"validatePromise",void 0),se(qn(i),"prevValidating",void 0),se(qn(i),"errors",Js),se(qn(i),"warnings",Js),se(qn(i),"cancelRegister",function(){var l=i.props,c=l.preserve,u=l.isListField,d=l.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(u,c,si(d)),i.cancelRegisterFunc=null}),se(qn(i),"getNamePath",function(){var l=i.props,c=l.name,u=l.fieldContext,d=u.prefixName,f=d===void 0?[]:d;return c!==void 0?[].concat(St(f),St(c)):[]}),se(qn(i),"getRules",function(){var l=i.props,c=l.rules,u=c===void 0?[]:c,d=l.fieldContext;return u.map(function(f){return typeof f=="function"?f(d):f})}),se(qn(i),"refresh",function(){i.mounted&&i.setState(function(l){var c=l.resetCount;return{resetCount:c+1}})}),se(qn(i),"metaCache",null),se(qn(i),"triggerMetaEvent",function(l){var c=i.props.onMetaChange;if(c){var u=_e(_e({},i.getMeta()),{},{destroy:l});l6(i.metaCache,u)||c(u),i.metaCache=u}else i.metaCache=null}),se(qn(i),"onStoreChange",function(l,c,u){var d=i.props,f=d.shouldUpdate,h=d.dependencies,g=h===void 0?[]:h,x=d.onReset,b=u.store,v=i.getNamePath(),_=i.getValue(l),S=i.getValue(b),w=c&&Xp(c,v);switch(u.type==="valueUpdate"&&u.source==="external"&&_!==S&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=Js,i.warnings=Js,i.triggerMetaEvent()),u.type){case"reset":if(!c||w){i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=Js,i.warnings=Js,i.triggerMetaEvent(),x?.(),i.refresh();return}break;case"remove":{if(f){i.reRender();return}break}case"setField":{var M=u.data;if(w){"touched"in M&&(i.touched=M.touched),"validating"in M&&!("originRCField"in M)&&(i.validatePromise=M.validating?Promise.resolve([]):null),"errors"in M&&(i.errors=M.errors||Js),"warnings"in M&&(i.warnings=M.warnings||Js),i.dirty=!0,i.triggerMetaEvent(),i.reRender();return}else if("value"in M&&Xp(c,v,!0)){i.reRender();return}if(f&&!v.length&&yN(f,l,b,_,S,u)){i.reRender();return}break}case"dependenciesUpdate":{var E=g.map(si);if(E.some(function(T){return Xp(u.relatedFields,T)})){i.reRender();return}break}default:if(w||(!g.length||v.length||f)&&yN(f,l,b,_,S,u)){i.reRender();return}break}f===!0&&i.reRender()}),se(qn(i),"validateRules",function(l){var c=i.getNamePath(),u=i.getValue(),d=l||{},f=d.triggerName,h=d.validateOnly,g=h===void 0?!1:h,x=Promise.resolve().then(od(fo().mark(function b(){var v,_,S,w,M,E,T;return fo().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(i.mounted){R.next=2;break}return R.abrupt("return",[]);case 2:if(v=i.props,_=v.validateFirst,S=_===void 0?!1:_,w=v.messageVariables,M=v.validateDebounce,E=i.getRules(),f&&(E=E.filter(function(P){return P}).filter(function(P){var L=P.validateTrigger;if(!L)return!0;var $=b_(L);return $.includes(f)})),!(M&&f)){R.next=10;break}return R.next=8,new Promise(function(P){setTimeout(P,M)});case 8:if(i.validatePromise===x){R.next=10;break}return R.abrupt("return",[]);case 10:return T=Nre(c,u,E,l,S,w),T.catch(function(P){return P}).then(function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Js;if(i.validatePromise===x){var L;i.validatePromise=null;var $=[],V=[];(L=P.forEach)===null||L===void 0||L.call(P,function(D){var H=D.rule.warningOnly,F=D.errors,k=F===void 0?Js:F;H?V.push.apply(V,St(k)):$.push.apply($,St(k))}),i.errors=$,i.warnings=V,i.triggerMetaEvent(),i.reRender()}}),R.abrupt("return",T);case 13:case"end":return R.stop()}},b)})));return g||(i.validatePromise=x,i.dirty=!0,i.errors=Js,i.warnings=Js,i.triggerMetaEvent(),i.reRender()),x}),se(qn(i),"isFieldValidating",function(){return!!i.validatePromise}),se(qn(i),"isFieldTouched",function(){return i.touched}),se(qn(i),"isFieldDirty",function(){if(i.dirty||i.props.initialValue!==void 0)return!0;var l=i.props.fieldContext,c=l.getInternalHooks(Qd),u=c.getInitialValue;return u(i.getNamePath())!==void 0}),se(qn(i),"getErrors",function(){return i.errors}),se(qn(i),"getWarnings",function(){return i.warnings}),se(qn(i),"isListField",function(){return i.props.isListField}),se(qn(i),"isList",function(){return i.props.isList}),se(qn(i),"isPreserve",function(){return i.props.preserve}),se(qn(i),"getMeta",function(){i.prevValidating=i.isFieldValidating();var l={touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:i.validatePromise===null};return l}),se(qn(i),"getOnlyChild",function(l){if(typeof l=="function"){var c=i.getMeta();return _e(_e({},i.getOnlyChild(l(i.getControlled(),c,i.props.fieldContext))),{},{isFunction:!0})}var u=hs(l);return u.length!==1||!y.isValidElement(u[0])?{child:u,isFunction:!1}:{child:u[0],isFunction:!1}}),se(qn(i),"getValue",function(l){var c=i.props.fieldContext.getFieldsValue,u=i.getNamePath();return Xa(l||c(!0),u)}),se(qn(i),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=i.props,u=c.trigger,d=c.validateTrigger,f=c.getValueFromEvent,h=c.normalize,g=c.valuePropName,x=c.getValueProps,b=c.fieldContext,v=d!==void 0?d:b.validateTrigger,_=i.getNamePath(),S=b.getInternalHooks,w=b.getFieldsValue,M=S(Qd),E=M.dispatch,T=i.getValue(),N=x||function($){return se({},g,$)},R=l[u],P=_e(_e({},l),N(T));P[u]=function(){i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var $,V=arguments.length,D=new Array(V),H=0;H<V;H++)D[H]=arguments[H];f?$=f.apply(void 0,D):$=Dre.apply(void 0,[g].concat(D)),h&&($=h($,T,w(!0))),E({type:"updateValue",namePath:_,value:$}),R&&R.apply(void 0,D)};var L=b_(v||[]);return L.forEach(function($){var V=P[$];P[$]=function(){V&&V.apply(void 0,arguments);var D=i.props.rules;D&&D.length&&E({type:"validateField",namePath:_,triggerName:$})}}),P}),r.fieldContext){var o=r.fieldContext.getInternalHooks,s=o(Qd),a=s.initEntityValue;a(qn(i))}return i}return _i(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.shouldUpdate,s=i.fieldContext;if(this.mounted=!0,s){var a=s.getInternalHooks,l=a(Qd),c=l.registerField;this.cancelRegisterFunc=c(this)}o===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var i=this.state.resetCount,o=this.props.children,s=this.getOnlyChild(o),a=s.child,l=s.isFunction,c;return l?c=a:y.isValidElement(a)?c=y.cloneElement(a,this.getControlled(a.props)):(Pi(!a,"`children` of Field is not validate ReactElement."),c=a),y.createElement(y.Fragment,{key:i},c)}}]),n}(y.Component);se(nE,"contextType",gm);se(nE,"defaultProps",{trigger:"onChange",valuePropName:"value"});function mk(t){var e=t.name,n=ln(t,Fre),r=y.useContext(gm),i=y.useContext(G5),o=e!==void 0?si(e):void 0,s="keep";return n.isListField||(s="_".concat((o||[]).join("_"))),y.createElement(nE,ct({key:s,name:o,isListField:!!i},n,{fieldContext:r}))}function $re(t){var e=t.name,n=t.initialValue,r=t.children,i=t.rules,o=t.validateTrigger,s=t.isListField,a=y.useContext(gm),l=y.useContext(G5),c=y.useRef({keys:[],id:0}),u=c.current,d=y.useMemo(function(){var x=si(a.prefixName)||[];return[].concat(St(x),St(si(e)))},[a.prefixName,e]),f=y.useMemo(function(){return _e(_e({},a),{},{prefixName:d})},[a,d]),h=y.useMemo(function(){return{getKey:function(b){var v=d.length,_=b[v];return[u.keys[_],b.slice(v+1)]}}},[d]);if(typeof r!="function")return Pi(!1,"Form.List only accepts function as children."),null;var g=function(b,v,_){var S=_.source;return S==="internal"?!1:b!==v};return y.createElement(G5.Provider,{value:h},y.createElement(gm.Provider,{value:f},y.createElement(mk,{name:[],shouldUpdate:g,rules:i,validateTrigger:o,initialValue:n,isList:!0,isListField:s??!!l},function(x,b){var v=x.value,_=v===void 0?[]:v,S=x.onChange,w=a.getFieldValue,M=function(){var R=w(d||[]);return R||[]},E={add:function(R,P){var L=M();P>=0&&P<=L.length?(u.keys=[].concat(St(u.keys.slice(0,P)),[u.id],St(u.keys.slice(P))),S([].concat(St(L.slice(0,P)),[R],St(L.slice(P))))):(u.keys=[].concat(St(u.keys),[u.id]),S([].concat(St(L),[R]))),u.id+=1},remove:function(R){var P=M(),L=new Set(Array.isArray(R)?R:[R]);L.size<=0||(u.keys=u.keys.filter(function($,V){return!L.has(V)}),S(P.filter(function($,V){return!L.has(V)})))},move:function(R,P){if(R!==P){var L=M();R<0||R>=L.length||P<0||P>=L.length||(u.keys=vN(u.keys,R,P),S(vN(L,R,P)))}}},T=_||[];return Array.isArray(T)||(T=[]),r(T.map(function(N,R){var P=u.keys[R];return P===void 0&&(u.keys[R]=u.id,P=u.keys[R],u.id+=1),{name:R,key:P,isListField:!0}}),E,b)})))}function Ure(t){var e=!1,n=t.length,r=[];return t.length?new Promise(function(i,o){t.forEach(function(s,a){s.catch(function(l){return e=!0,l}).then(function(l){n-=1,r[a]=l,!(n>0)&&(e&&o(r),i(r))})})}):Promise.resolve([])}var gk="__@field_split__";function J4(t){return t.map(function(e){return"".concat(nn(e),":").concat(e)}).join(gk)}var Ch=function(){function t(){Si(this,t),se(this,"kvs",new Map)}return _i(t,[{key:"set",value:function(n,r){this.kvs.set(J4(n),r)}},{key:"get",value:function(n){return this.kvs.get(J4(n))}},{key:"update",value:function(n,r){var i=this.get(n),o=r(i);o?this.set(n,o):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(J4(n))}},{key:"map",value:function(n){return St(this.kvs.entries()).map(function(r){var i=Ie(r,2),o=i[0],s=i[1],a=o.split(gk);return n({key:a.map(function(l){var c=l.match(/^([^:]*):(.*)$/),u=Ie(c,3),d=u[1],f=u[2];return d==="number"?Number(f):f}),value:s})})}},{key:"toJSON",value:function(){var n={};return this.map(function(r){var i=r.key,o=r.value;return n[i.join(".")]=o,null}),n}}]),t}(),Bre=["name"],kre=_i(function t(e){var n=this;Si(this,t),se(this,"formHooked",!1),se(this,"forceRootUpdate",void 0),se(this,"subscribable",!0),se(this,"store",{}),se(this,"fieldEntities",[]),se(this,"initialValues",{}),se(this,"callbacks",{}),se(this,"validateMessages",null),se(this,"preserve",null),se(this,"lastValidatePromise",null),se(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),se(this,"getInternalHooks",function(r){return r===Qd?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Pi(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),se(this,"useSubscribe",function(r){n.subscribable=r}),se(this,"prevWithoutPreserves",null),se(this,"setInitialValues",function(r,i){if(n.initialValues=r||{},i){var o,s=Cp(r,n.store);(o=n.prevWithoutPreserves)===null||o===void 0||o.map(function(a){var l=a.key;s=Va(s,l,Xa(r,l))}),n.prevWithoutPreserves=null,n.updateStore(s)}}),se(this,"destroyForm",function(){var r=new Ch;n.getFieldEntities(!0).forEach(function(i){n.isMergedPreserve(i.isPreserve())||r.set(i.getNamePath(),!0)}),n.prevWithoutPreserves=r}),se(this,"getInitialValue",function(r){var i=Xa(n.initialValues,r);return r.length?Cp(i):i}),se(this,"setCallbacks",function(r){n.callbacks=r}),se(this,"setValidateMessages",function(r){n.validateMessages=r}),se(this,"setPreserve",function(r){n.preserve=r}),se(this,"watchList",[]),se(this,"registerWatch",function(r){return n.watchList.push(r),function(){n.watchList=n.watchList.filter(function(i){return i!==r})}}),se(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var i=n.getFieldsValue(),o=n.getFieldsValue(!0);n.watchList.forEach(function(s){s(i,o,r)})}}),se(this,"timeoutId",null),se(this,"warningUnhooked",function(){}),se(this,"updateStore",function(r){n.store=r}),se(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?n.fieldEntities.filter(function(i){return i.getNamePath().length}):n.fieldEntities}),se(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new Ch;return n.getFieldEntities(r).forEach(function(o){var s=o.getNamePath();i.set(s,o)}),i}),se(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return n.getFieldEntities(!0);var i=n.getFieldsMap(!0);return r.map(function(o){var s=si(o);return i.get(s)||{INVALIDATE_NAME_PATH:si(o)}})}),se(this,"getFieldsValue",function(r,i){n.warningUnhooked();var o,s,a;if(r===!0||Array.isArray(r)?(o=r,s=i):r&&nn(r)==="object"&&(a=r.strict,s=r.filter),o===!0&&!s)return n.store;var l=n.getFieldEntitiesForNamePathList(Array.isArray(o)?o:null),c=[];return l.forEach(function(u){var d,f,h="INVALIDATE_NAME_PATH"in u?u.INVALIDATE_NAME_PATH:u.getNamePath();if(a){var g,x;if((g=(x=u).isList)!==null&&g!==void 0&&g.call(x))return}else if(!o&&(d=(f=u).isListField)!==null&&d!==void 0&&d.call(f))return;if(!s)c.push(h);else{var b="getMeta"in u?u.getMeta():null;s(b)&&c.push(h)}}),gN(n.store,c.map(si))}),se(this,"getFieldValue",function(r){n.warningUnhooked();var i=si(r);return Xa(n.store,i)}),se(this,"getFieldsError",function(r){n.warningUnhooked();var i=n.getFieldEntitiesForNamePathList(r);return i.map(function(o,s){return o&&!("INVALIDATE_NAME_PATH"in o)?{name:o.getNamePath(),errors:o.getErrors(),warnings:o.getWarnings()}:{name:si(r[s]),errors:[],warnings:[]}})}),se(this,"getFieldError",function(r){n.warningUnhooked();var i=si(r),o=n.getFieldsError([i])[0];return o.errors}),se(this,"getFieldWarning",function(r){n.warningUnhooked();var i=si(r),o=n.getFieldsError([i])[0];return o.warnings}),se(this,"isFieldsTouched",function(){n.warningUnhooked();for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i[0],a=i[1],l,c=!1;i.length===0?l=null:i.length===1?Array.isArray(s)?(l=s.map(si),c=!1):(l=null,c=s):(l=s.map(si),c=a);var u=n.getFieldEntities(!0),d=function(b){return b.isFieldTouched()};if(!l)return c?u.every(d):u.some(d);var f=new Ch;l.forEach(function(x){f.set(x,[])}),u.forEach(function(x){var b=x.getNamePath();l.forEach(function(v){v.every(function(_,S){return b[S]===_})&&f.update(v,function(_){return[].concat(St(_),[x])})})});var h=function(b){return b.some(d)},g=f.map(function(x){var b=x.value;return b});return c?g.every(h):g.some(h)}),se(this,"isFieldTouched",function(r){return n.warningUnhooked(),n.isFieldsTouched([r])}),se(this,"isFieldsValidating",function(r){n.warningUnhooked();var i=n.getFieldEntities();if(!r)return i.some(function(s){return s.isFieldValidating()});var o=r.map(si);return i.some(function(s){var a=s.getNamePath();return Xp(o,a)&&s.isFieldValidating()})}),se(this,"isFieldValidating",function(r){return n.warningUnhooked(),n.isFieldsValidating([r])}),se(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new Ch,o=n.getFieldEntities(!0);o.forEach(function(l){var c=l.props.initialValue,u=l.getNamePath();if(c!==void 0){var d=i.get(u)||new Set;d.add({entity:l,value:c}),i.set(u,d)}});var s=function(c){c.forEach(function(u){var d=u.props.initialValue;if(d!==void 0){var f=u.getNamePath(),h=n.getInitialValue(f);if(h!==void 0)Pi(!1,"Form already set 'initialValues' with path '".concat(f.join("."),"'. Field can not overwrite it."));else{var g=i.get(f);if(g&&g.size>1)Pi(!1,"Multiple Field with path '".concat(f.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(g){var x=n.getFieldValue(f);(!r.skipExist||x===void 0)&&n.updateStore(Va(n.store,f,St(g)[0].value))}}}})},a;r.entities?a=r.entities:r.namePathList?(a=[],r.namePathList.forEach(function(l){var c=i.get(l);if(c){var u;(u=a).push.apply(u,St(St(c).map(function(d){return d.entity})))}})):a=o,s(a)}),se(this,"resetFields",function(r){n.warningUnhooked();var i=n.store;if(!r){n.updateStore(Cp(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(i,null,{type:"reset"}),n.notifyWatch();return}var o=r.map(si);o.forEach(function(s){var a=n.getInitialValue(s);n.updateStore(Va(n.store,s,a))}),n.resetWithFieldInitialValue({namePathList:o}),n.notifyObservers(i,o,{type:"reset"}),n.notifyWatch(o)}),se(this,"setFields",function(r){n.warningUnhooked();var i=n.store,o=[];r.forEach(function(s){var a=s.name,l=ln(s,Bre),c=si(a);o.push(c),"value"in l&&n.updateStore(Va(n.store,c,l.value)),n.notifyObservers(i,[c],{type:"setField",data:s})}),n.notifyWatch(o)}),se(this,"getFields",function(){var r=n.getFieldEntities(!0),i=r.map(function(o){var s=o.getNamePath(),a=o.getMeta(),l=_e(_e({},a),{},{name:s,value:n.getFieldValue(s)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return i}),se(this,"initEntityValue",function(r){var i=r.props.initialValue;if(i!==void 0){var o=r.getNamePath(),s=Xa(n.store,o);s===void 0&&n.updateStore(Va(n.store,o,i))}}),se(this,"isMergedPreserve",function(r){var i=r!==void 0?r:n.preserve;return i??!0}),se(this,"registerField",function(r){n.fieldEntities.push(r);var i=r.getNamePath();if(n.notifyWatch([i]),r.props.initialValue!==void 0){var o=n.store;n.resetWithFieldInitialValue({entities:[r],skipExist:!0}),n.notifyObservers(o,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(d){return d!==r}),!n.isMergedPreserve(a)&&(!s||l.length>1)){var c=s?void 0:n.getInitialValue(i);if(i.length&&n.getFieldValue(i)!==c&&n.fieldEntities.every(function(d){return!pk(d.getNamePath(),i)})){var u=n.store;n.updateStore(Va(u,i,c,!0)),n.notifyObservers(u,[i],{type:"remove"}),n.triggerDependenciesUpdate(u,i)}}n.notifyWatch([i])}}),se(this,"dispatch",function(r){switch(r.type){case"updateValue":{var i=r.namePath,o=r.value;n.updateValue(i,o);break}case"validateField":{var s=r.namePath,a=r.triggerName;n.validateFields([s],{triggerName:a});break}}}),se(this,"notifyObservers",function(r,i,o){if(n.subscribable){var s=_e(_e({},o),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(a){var l=a.onStoreChange;l(r,i,s)})}else n.forceRootUpdate()}),se(this,"triggerDependenciesUpdate",function(r,i){var o=n.getDependencyChildrenFields(i);return o.length&&n.validateFields(o),n.notifyObservers(r,o,{type:"dependenciesUpdate",relatedFields:[i].concat(St(o))}),o}),se(this,"updateValue",function(r,i){var o=si(r),s=n.store;n.updateStore(Va(n.store,o,i)),n.notifyObservers(s,[o],{type:"valueUpdate",source:"internal"}),n.notifyWatch([o]);var a=n.triggerDependenciesUpdate(s,o),l=n.callbacks.onValuesChange;if(l){var c=gN(n.store,[o]);l(c,n.getFieldsValue())}n.triggerOnFieldsChange([o].concat(St(a)))}),se(this,"setFieldsValue",function(r){n.warningUnhooked();var i=n.store;if(r){var o=Cp(n.store,r);n.updateStore(o)}n.notifyObservers(i,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),se(this,"setFieldValue",function(r,i){n.setFields([{name:r,value:i}])}),se(this,"getDependencyChildrenFields",function(r){var i=new Set,o=[],s=new Ch;n.getFieldEntities().forEach(function(l){var c=l.props.dependencies;(c||[]).forEach(function(u){var d=si(u);s.update(d,function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return f.add(l),f})})});var a=function l(c){var u=s.get(c)||new Set;u.forEach(function(d){if(!i.has(d)){i.add(d);var f=d.getNamePath();d.isFieldDirty()&&f.length&&(o.push(f),l(f))}})};return a(r),o}),se(this,"triggerOnFieldsChange",function(r,i){var o=n.callbacks.onFieldsChange;if(o){var s=n.getFields();if(i){var a=new Ch;i.forEach(function(c){var u=c.name,d=c.errors;a.set(u,d)}),s.forEach(function(c){c.errors=a.get(c.name)||c.errors})}var l=s.filter(function(c){var u=c.name;return Xp(r,u)});l.length&&o(l,s)}}),se(this,"validateFields",function(r,i){var o;n.warningUnhooked();var s,a;Array.isArray(r)||typeof r=="string"||typeof i=="string"?(s=r,a=i):a=r;var l=!!s,c=l?s.map(si):[],u=[],d=String(Date.now()),f=new Set,h=(o=a)===null||o===void 0?void 0:o.recursive;n.getFieldEntities(!0).forEach(function(v){if(l||c.push(v.getNamePath()),!(!v.props.rules||!v.props.rules.length)){var _=v.getNamePath();if(f.add(_.join(d)),!l||Xp(c,_,h)){var S=v.validateRules(_e({validateMessages:_e(_e({},hk),n.validateMessages)},a));u.push(S.then(function(){return{name:_,errors:[],warnings:[]}}).catch(function(w){var M,E=[],T=[];return(M=w.forEach)===null||M===void 0||M.call(w,function(N){var R=N.rule.warningOnly,P=N.errors;R?T.push.apply(T,St(P)):E.push.apply(E,St(P))}),E.length?Promise.reject({name:_,errors:E,warnings:T}):{name:_,errors:E,warnings:T}}))}}});var g=Ure(u);n.lastValidatePromise=g,g.catch(function(v){return v}).then(function(v){var _=v.map(function(S){var w=S.name;return w});n.notifyObservers(n.store,_,{type:"validateFinish"}),n.triggerOnFieldsChange(_,v)});var x=g.then(function(){return n.lastValidatePromise===g?Promise.resolve(n.getFieldsValue(c)):Promise.reject([])}).catch(function(v){var _=v.filter(function(S){return S&&S.errors.length});return Promise.reject({values:n.getFieldsValue(c),errorFields:_,outOfDate:n.lastValidatePromise!==g})});x.catch(function(v){return v});var b=c.filter(function(v){return f.has(v.join(d))});return n.triggerOnFieldsChange(b),x}),se(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(r){var i=n.callbacks.onFinish;if(i)try{i(r)}catch(o){console.error(o)}}).catch(function(r){var i=n.callbacks.onFinishFailed;i&&i(r)})}),this.forceRootUpdate=e});function vk(t){var e=y.useRef(),n=y.useState({}),r=Ie(n,2),i=r[1];if(!e.current)if(t)e.current=t;else{var o=function(){i({})},s=new kre(o);e.current=s.getForm()}return[e.current]}var P_=y.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),zre=function(e){var n=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,o=e.children,s=y.useContext(P_),a=y.useRef({});return y.createElement(P_.Provider,{value:_e(_e({},s),{},{validateMessages:_e(_e({},s.validateMessages),n),triggerFormChange:function(c,u){r&&r(c,{changedFields:u,forms:a.current}),s.triggerFormChange(c,u)},triggerFormFinish:function(c,u){i&&i(c,{values:u,forms:a.current}),s.triggerFormFinish(c,u)},registerForm:function(c,u){c&&(a.current=_e(_e({},a.current),{},se({},c,u))),s.registerForm(c,u)},unregisterForm:function(c){var u=_e({},a.current);delete u[c],a.current=u,s.unregisterForm(c)}})},o)},Vre=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],Hre=function(e,n){var r=e.name,i=e.initialValues,o=e.fields,s=e.form,a=e.preserve,l=e.children,c=e.component,u=c===void 0?"form":c,d=e.validateMessages,f=e.validateTrigger,h=f===void 0?"onChange":f,g=e.onValuesChange,x=e.onFieldsChange,b=e.onFinish,v=e.onFinishFailed,_=ln(e,Vre),S=y.useContext(P_),w=vk(s),M=Ie(w,1),E=M[0],T=E.getInternalHooks(Qd),N=T.useSubscribe,R=T.setInitialValues,P=T.setCallbacks,L=T.setValidateMessages,$=T.setPreserve,V=T.destroyForm;y.useImperativeHandle(n,function(){return E}),y.useEffect(function(){return S.registerForm(r,E),function(){S.unregisterForm(r)}},[S,E,r]),L(_e(_e({},S.validateMessages),d)),P({onValuesChange:g,onFieldsChange:function(K){if(S.triggerFormChange(r,K),x){for(var X=arguments.length,Y=new Array(X>1?X-1:0),te=1;te<X;te++)Y[te-1]=arguments[te];x.apply(void 0,[K].concat(Y))}},onFinish:function(K){S.triggerFormFinish(r,K),b&&b(K)},onFinishFailed:v}),$(a);var D=y.useRef(null);R(i,!D.current),D.current||(D.current=!0),y.useEffect(function(){return V},[]);var H,F=typeof l=="function";if(F){var k=E.getFieldsValue(!0);H=l(k,E)}else H=l;N(!F);var O=y.useRef();y.useEffect(function(){Lre(O.current||[],o||[])||E.setFields(o||[]),O.current=o},[o,E]);var B=y.useMemo(function(){return _e(_e({},E),{},{validateTrigger:h})},[E,h]),G=y.createElement(G5.Provider,{value:null},y.createElement(gm.Provider,{value:B},H));return u===!1?G:y.createElement(u,ct({},_,{onSubmit:function(K){K.preventDefault(),K.stopPropagation(),E.submit()},onReset:function(K){var X;K.preventDefault(),E.resetFields(),(X=_.onReset)===null||X===void 0||X.call(_,K)}}),G)};function xN(t){try{return JSON.stringify(t)}catch{return Math.random()}}function Gre(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=r===void 0?[]:r,o=e[1],s=o===void 0?{}:o,a=Zne(s)?{form:s}:s,l=a.form,c=y.useState(),u=Ie(c,2),d=u[0],f=u[1],h=y.useMemo(function(){return xN(d)},[d]),g=y.useRef(h);g.current=h;var x=y.useContext(gm),b=l||x,v=b&&b._init,_=si(i),S=y.useRef(_);return S.current=_,y.useEffect(function(){if(v){var w=b.getFieldsValue,M=b.getInternalHooks,E=M(Qd),T=E.registerWatch,N=T(function(P,L){var $=Xa(a.preserve?L:P,S.current),V=xN($);g.current!==V&&(g.current=V,f($))}),R=Xa(a.preserve?w(!0):w(),S.current);return d!==R&&f(R),N}},[v]),d}var Wre=y.forwardRef(Hre),S3=Wre;S3.FormProvider=zre;S3.Field=mk;S3.List=$re;S3.useForm=vk;S3.useWatch=Gre;const Fc=y.createContext({}),Ev=t=>{let{children:e,status:n,override:r}=t;const i=y.useContext(Fc),o=y.useMemo(()=>{const s=Object.assign({},i);return r&&delete s.isFormItemInput,n&&(delete s.status,delete s.hasFeedback,delete s.feedbackIcon),s},[n,r,i]);return y.createElement(Fc.Provider,{value:o},e)},jre=t=>({animationDuration:t,animationFillMode:"both"}),Xre=t=>({animationDuration:t,animationFillMode:"both"}),_6=function(t,e,n,r){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${t}-enter,
      ${o}${t}-appear
    `]:Object.assign(Object.assign({},jre(r)),{animationPlayState:"paused"}),[`${o}${t}-leave`]:Object.assign(Object.assign({},Xre(r)),{animationPlayState:"paused"}),[`
      ${o}${t}-enter${t}-enter-active,
      ${o}${t}-appear${t}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${o}${t}-leave${t}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},qre=new Dn("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),Kre=new Dn("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),Yre=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:n}=t,r=`${n}-fade`,i=e?"&":"";return[_6(r,qre,Kre,t.motionDurationMid,e),{[`
        ${i}${r}-enter,
        ${i}${r}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${i}${r}-leave`]:{animationTimingFunction:"linear"}}]},Zre=new Dn("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Qre=new Dn("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),Jre=new Dn("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),eie=new Dn("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),tie=new Dn("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),nie=new Dn("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),rie=new Dn("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),iie=new Dn("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),oie={"move-up":{inKeyframes:rie,outKeyframes:iie},"move-down":{inKeyframes:Zre,outKeyframes:Qre},"move-left":{inKeyframes:Jre,outKeyframes:eie},"move-right":{inKeyframes:tie,outKeyframes:nie}},W5=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=oie[e];return[_6(r,i,o,t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{opacity:0,animationTimingFunction:t.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},rE=new Dn("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),iE=new Dn("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),oE=new Dn("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),sE=new Dn("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),sie=new Dn("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),aie=new Dn("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),lie=new Dn("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),cie=new Dn("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),uie={"slide-up":{inKeyframes:rE,outKeyframes:iE},"slide-down":{inKeyframes:oE,outKeyframes:sE},"slide-left":{inKeyframes:sie,outKeyframes:aie},"slide-right":{inKeyframes:lie,outKeyframes:cie}},Wu=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=uie[e];return[_6(r,i,o,t.motionDurationMid),{[`
      ${r}-enter,
      ${r}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:t.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInQuint}}]},die=new Dn("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),fie=new Dn("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),bN=new Dn("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),SN=new Dn("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),hie=new Dn("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),pie=new Dn("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),mie=new Dn("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),gie=new Dn("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),vie=new Dn("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),yie=new Dn("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),xie=new Dn("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),bie=new Dn("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),Sie={zoom:{inKeyframes:die,outKeyframes:fie},"zoom-big":{inKeyframes:bN,outKeyframes:SN},"zoom-big-fast":{inKeyframes:bN,outKeyframes:SN},"zoom-left":{inKeyframes:mie,outKeyframes:gie},"zoom-right":{inKeyframes:vie,outKeyframes:yie},"zoom-up":{inKeyframes:hie,outKeyframes:pie},"zoom-down":{inKeyframes:xie,outKeyframes:bie}},w6=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=Sie[e];return[_6(r,i,o,e==="zoom-big-fast"?t.motionDurationFast:t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:t.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},_ie=t=>({[t.componentCls]:{[`${t.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}},[`${t.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}}}),aE=_ie;function wie(t){return function(n){return y.createElement(id,{theme:{token:{motion:!1,zIndexPopupBase:0}}},y.createElement(t,Object.assign({},n)))}}function lE(t,e,n,r){function i(o){const{prefixCls:s,style:a}=o,l=y.useRef(null),[c,u]=y.useState(0),[d,f]=y.useState(0),[h,g]=ei(!1,{value:o.open}),{getPrefixCls:x}=y.useContext(Zt),b=x(e||"select",s);y.useEffect(()=>{if(g(!0),typeof ResizeObserver<"u"){const _=new ResizeObserver(w=>{const M=w[0].target;u(M.offsetHeight+8),f(M.offsetWidth)}),S=setInterval(()=>{var w;const M=n?`.${n(b)}`:`.${b}-dropdown`,E=(w=l.current)===null||w===void 0?void 0:w.querySelector(M);E&&(clearInterval(S),_.observe(E))},10);return()=>{clearInterval(S),_.disconnect()}}},[]);let v=Object.assign(Object.assign({},o),{style:Object.assign(Object.assign({},a),{margin:0}),open:h,visible:h,getPopupContainer:()=>l.current});return r&&(v=r(v)),y.createElement("div",{ref:l,style:{paddingBottom:c,position:"relative",minWidth:d}},y.createElement(t,Object.assign({},v)))}return wie(i)}const C6=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t?.substr(0,4))};var E6=function(e){var n=e.className,r=e.customizeIcon,i=e.customizeIconProps,o=e.onMouseDown,s=e.onClick,a=e.children,l;return typeof r=="function"?l=r(i):l=r,y.createElement("span",{className:n,onMouseDown:function(u){u.preventDefault(),o&&o(u)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},l!==void 0?l:y.createElement("span",{className:ye(n.split(/\s+/).map(function(c){return"".concat(c,"-icon")}))},a))};function Cie(t,e,n,r,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,s=arguments.length>6?arguments[6]:void 0,a=arguments.length>7?arguments[7]:void 0,l=ae.useMemo(function(){if(nn(r)==="object")return r.clearIcon;if(i)return i},[r,i]),c=ae.useMemo(function(){return!!(!o&&r&&(n.length||s)&&!(a==="combobox"&&s===""))},[r,o,n.length,s,a]);return{allowClear:c,clearIcon:ae.createElement(E6,{className:"".concat(t,"-clear"),onMouseDown:e,customizeIcon:l},"")}}var yk=y.createContext(null);function Eie(){return y.useContext(yk)}function Tie(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=y.useState(!1),n=Ie(e,2),r=n[0],i=n[1],o=y.useRef(null),s=function(){window.clearTimeout(o.current)};y.useEffect(function(){return s},[]);var a=function(c,u){s(),o.current=window.setTimeout(function(){i(c),u&&u()},t)};return[r,a,s]}function xk(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=y.useRef(null),n=y.useRef(null);y.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]);function r(i){(i||e.current===null)&&(e.current=i),window.clearTimeout(n.current),n.current=window.setTimeout(function(){e.current=null},t)}return[function(){return e.current},r]}function Mie(t,e,n,r){var i=y.useRef(null);i.current={open:e,triggerOpen:n,customizedTrigger:r},y.useEffect(function(){function o(s){var a;if(!((a=i.current)!==null&&a!==void 0&&a.customizedTrigger)){var l=s.target;l.shadowRoot&&s.composed&&(l=s.composedPath()[0]||l),i.current.open&&t().filter(function(c){return c}).every(function(c){return!c.contains(l)&&c!==l})&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",o),function(){return window.removeEventListener("mousedown",o)}},[])}var Rie=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Eh=void 0;function Aie(t,e){var n=t.prefixCls,r=t.invalidate,i=t.item,o=t.renderItem,s=t.responsive,a=t.responsiveDisabled,l=t.registerSize,c=t.itemKey,u=t.className,d=t.style,f=t.children,h=t.display,g=t.order,x=t.component,b=x===void 0?"div":x,v=ln(t,Rie),_=s&&!h;function S(N){l(c,N)}y.useEffect(function(){return function(){S(null)}},[]);var w=o&&i!==Eh?o(i):f,M;r||(M={opacity:_?0:1,height:_?0:Eh,overflowY:_?"hidden":Eh,order:s?g:Eh,pointerEvents:_?"none":Eh,position:_?"absolute":Eh});var E={};_&&(E["aria-hidden"]=!0);var T=y.createElement(b,ct({className:ye(!r&&n,u),style:_e(_e({},M),d)},E,v,{ref:e}),w);return s&&(T=y.createElement(pa,{onResize:function(R){var P=R.offsetWidth;S(P)},disabled:a},T)),T}var jg=y.forwardRef(Aie);jg.displayName="Item";function Pie(t){if(typeof MessageChannel>"u")jn(t);else{var e=new MessageChannel;e.port1.onmessage=function(){return t()},e.port2.postMessage(void 0)}}function Nie(){var t=y.useRef(null),e=function(r){t.current||(t.current=[],Pie(function(){xa.unstable_batchedUpdates(function(){t.current.forEach(function(i){i()}),t.current=null})})),t.current.push(r)};return e}function Q0(t,e){var n=y.useState(e),r=Ie(n,2),i=r[0],o=r[1],s=Eo(function(a){t(function(){o(a)})});return[i,s]}var j5=ae.createContext(null),Iie=["component"],Oie=["className"],Lie=["className"],Die=function(e,n){var r=y.useContext(j5);if(!r){var i=e.component,o=i===void 0?"div":i,s=ln(e,Iie);return y.createElement(o,ct({},s,{ref:n}))}var a=r.className,l=ln(r,Oie),c=e.className,u=ln(e,Lie);return y.createElement(j5.Provider,{value:null},y.createElement(jg,ct({ref:n,className:ye(a,c)},l,u)))},bk=y.forwardRef(Die);bk.displayName="RawItem";var Fie=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],Sk="responsive",_k="invalidate";function $ie(t){return"+ ".concat(t.length," ...")}function Uie(t,e){var n=t.prefixCls,r=n===void 0?"rc-overflow":n,i=t.data,o=i===void 0?[]:i,s=t.renderItem,a=t.renderRawItem,l=t.itemKey,c=t.itemWidth,u=c===void 0?10:c,d=t.ssr,f=t.style,h=t.className,g=t.maxCount,x=t.renderRest,b=t.renderRawRest,v=t.suffix,_=t.component,S=_===void 0?"div":_,w=t.itemComponent,M=t.onVisibleChange,E=ln(t,Fie),T=d==="full",N=Nie(),R=Q0(N,null),P=Ie(R,2),L=P[0],$=P[1],V=L||0,D=Q0(N,new Map),H=Ie(D,2),F=H[0],k=H[1],O=Q0(N,0),B=Ie(O,2),G=B[0],W=B[1],K=Q0(N,0),X=Ie(K,2),Y=X[0],te=X[1],oe=Q0(N,0),ie=Ie(oe,2),le=ie[0],ve=ie[1],me=y.useState(null),we=Ie(me,2),Q=we[0],fe=we[1],he=y.useState(null),Ee=Ie(he,2),ue=Ee[0],ke=Ee[1],ge=y.useMemo(function(){return ue===null&&T?Number.MAX_SAFE_INTEGER:ue||0},[ue,L]),j=y.useState(!1),z=Ie(j,2),ee=z[0],xe=z[1],Ne="".concat(r,"-item"),Ae=Math.max(G,Y),Fe=g===Sk,Oe=o.length&&Fe,We=g===_k,ht=Oe||typeof g=="number"&&o.length>g,Ge=y.useMemo(function(){var mt=o;return Oe?L===null&&T?mt=o:mt=o.slice(0,Math.min(o.length,V/u)):typeof g=="number"&&(mt=o.slice(0,g)),mt},[o,u,L,g,Oe]),Te=y.useMemo(function(){return Oe?o.slice(ge+1):o.slice(Ge.length)},[o,Ge,Oe,ge]),nt=y.useCallback(function(mt,Ye){var dt;return typeof l=="function"?l(mt):(dt=l&&mt?.[l])!==null&&dt!==void 0?dt:Ye},[l]),at=y.useCallback(s||function(mt){return mt},[s]);function rt(mt,Ye,dt){ue===mt&&(Ye===void 0||Ye===Q)||(ke(mt),dt||(xe(mt<o.length-1),M?.(mt)),Ye!==void 0&&fe(Ye))}function st(mt,Ye){$(Ye.clientWidth)}function Ze(mt,Ye){k(function(dt){var it=new Map(dt);return Ye===null?it.delete(mt):it.set(mt,Ye),it})}function re(mt,Ye){te(Ye),W(Y)}function Ve(mt,Ye){ve(Ye)}function Qe(mt){return F.get(nt(Ge[mt],mt))}sr(function(){if(V&&typeof Ae=="number"&&Ge){var mt=le,Ye=Ge.length,dt=Ye-1;if(!Ye){rt(0,null);return}for(var it=0;it<Ye;it+=1){var gt=Qe(it);if(T&&(gt=gt||0),gt===void 0){rt(it-1,void 0,!0);break}if(mt+=gt,dt===0&&mt<=V||it===dt-1&&mt+Qe(dt)<=V){rt(dt,null);break}else if(mt+Ae>V){rt(it-1,mt-gt-le+Y);break}}v&&Qe(0)+le>V&&fe(null)}},[V,F,Y,le,nt,Ge]);var lt=ee&&!!Te.length,ce={};Q!==null&&Oe&&(ce={position:"absolute",left:Q,top:0});var Z={prefixCls:Ne,responsive:Oe,component:w,invalidate:We},Re=a?function(mt,Ye){var dt=nt(mt,Ye);return y.createElement(j5.Provider,{key:dt,value:_e(_e({},Z),{},{order:Ye,item:mt,itemKey:dt,registerSize:Ze,display:Ye<=ge})},a(mt,Ye))}:function(mt,Ye){var dt=nt(mt,Ye);return y.createElement(jg,ct({},Z,{order:Ye,key:dt,item:mt,renderItem:at,itemKey:dt,registerSize:Ze,display:Ye<=ge}))},Pe,Je={order:lt?ge:Number.MAX_SAFE_INTEGER,className:"".concat(Ne,"-rest"),registerSize:re,display:lt};if(b)b&&(Pe=y.createElement(j5.Provider,{value:_e(_e({},Z),Je)},b(Te)));else{var ft=x||$ie;Pe=y.createElement(jg,ct({},Z,Je),typeof ft=="function"?ft(Te):ft)}var wt=y.createElement(S,ct({className:ye(!We&&r,h),style:f,ref:e},E),Ge.map(Re),ht?Pe:null,v&&y.createElement(jg,ct({},Z,{responsive:Fe,responsiveDisabled:!Oe,order:ge,className:"".concat(Ne,"-suffix"),registerSize:Ve,display:!0,style:ce}),v));return Fe&&(wt=y.createElement(pa,{onResize:st,disabled:!Oe},wt)),wt}var Nl=y.forwardRef(Uie);Nl.displayName="Overflow";Nl.Item=bk;Nl.RESPONSIVE=Sk;Nl.INVALIDATE=_k;var Bie=function(e,n){var r,i,o=e.prefixCls,s=e.id,a=e.inputElement,l=e.disabled,c=e.tabIndex,u=e.autoFocus,d=e.autoComplete,f=e.editable,h=e.activeDescendantId,g=e.value,x=e.maxLength,b=e.onKeyDown,v=e.onMouseDown,_=e.onChange,S=e.onPaste,w=e.onCompositionStart,M=e.onCompositionEnd,E=e.open,T=e.attrs,N=a||y.createElement("input",null),R=N,P=R.ref,L=R.props,$=L.onKeyDown,V=L.onChange,D=L.onMouseDown,H=L.onCompositionStart,F=L.onCompositionEnd,k=L.style;return"maxLength"in N.props,N=y.cloneElement(N,_e(_e(_e({type:"search"},L),{},{id:s,ref:jo(n,P),disabled:l,tabIndex:c,autoComplete:d||"off",autoFocus:u,className:ye("".concat(o,"-selection-search-input"),(r=N)===null||r===void 0||(i=r.props)===null||i===void 0?void 0:i.className),role:"combobox","aria-label":"Search","aria-expanded":E||!1,"aria-haspopup":"listbox","aria-owns":"".concat(s,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(s,"_list"),"aria-activedescendant":E?h:void 0},T),{},{value:f?g:"",maxLength:x,readOnly:!f,unselectable:f?null:"on",style:_e(_e({},k),{},{opacity:f?null:0}),onKeyDown:function(B){b(B),$&&$(B)},onMouseDown:function(B){v(B),D&&D(B)},onChange:function(B){_(B),V&&V(B)},onCompositionStart:function(B){w(B),H&&H(B)},onCompositionEnd:function(B){M(B),F&&F(B)},onPaste:S})),N},cE=y.forwardRef(Bie);cE.displayName="Input";function wk(t){return Array.isArray(t)?t:t!==void 0?[t]:[]}var kie=typeof window<"u"&&window.document&&window.document.documentElement,zie=kie;function Vie(t){return t!=null}function Hie(t){return!t&&t!==0}function _N(t){return["string","number"].includes(nn(t))}function Ck(t){var e=void 0;return t&&(_N(t.title)?e=t.title.toString():_N(t.label)&&(e=t.label.toString())),e}function Gie(t,e){zie?y.useLayoutEffect(t,e):y.useEffect(t,e)}function Wie(t){var e;return(e=t.key)!==null&&e!==void 0?e:t.value}var wN=function(e){e.preventDefault(),e.stopPropagation()},jie=function(e){var n=e.id,r=e.prefixCls,i=e.values,o=e.open,s=e.searchValue,a=e.autoClearSearchValue,l=e.inputRef,c=e.placeholder,u=e.disabled,d=e.mode,f=e.showSearch,h=e.autoFocus,g=e.autoComplete,x=e.activeDescendantId,b=e.tabIndex,v=e.removeIcon,_=e.maxTagCount,S=e.maxTagTextLength,w=e.maxTagPlaceholder,M=w===void 0?function(fe){return"+ ".concat(fe.length," ...")}:w,E=e.tagRender,T=e.onToggleOpen,N=e.onRemove,R=e.onInputChange,P=e.onInputPaste,L=e.onInputKeyDown,$=e.onInputMouseDown,V=e.onInputCompositionStart,D=e.onInputCompositionEnd,H=y.useRef(null),F=y.useState(0),k=Ie(F,2),O=k[0],B=k[1],G=y.useState(!1),W=Ie(G,2),K=W[0],X=W[1],Y="".concat(r,"-selection"),te=o||d==="multiple"&&a===!1||d==="tags"?s:"",oe=d==="tags"||d==="multiple"&&a===!1||f&&(o||K);Gie(function(){B(H.current.scrollWidth)},[te]);function ie(fe,he,Ee,ue,ke){return y.createElement("span",{className:ye("".concat(Y,"-item"),se({},"".concat(Y,"-item-disabled"),Ee)),title:Ck(fe)},y.createElement("span",{className:"".concat(Y,"-item-content")},he),ue&&y.createElement(E6,{className:"".concat(Y,"-item-remove"),onMouseDown:wN,onClick:ke,customizeIcon:v},""))}function le(fe,he,Ee,ue,ke){var ge=function(z){wN(z),T(!o)};return y.createElement("span",{onMouseDown:ge},E({label:he,value:fe,disabled:Ee,closable:ue,onClose:ke}))}function ve(fe){var he=fe.disabled,Ee=fe.label,ue=fe.value,ke=!u&&!he,ge=Ee;if(typeof S=="number"&&(typeof Ee=="string"||typeof Ee=="number")){var j=String(ge);j.length>S&&(ge="".concat(j.slice(0,S),"..."))}var z=function(xe){xe&&xe.stopPropagation(),N(fe)};return typeof E=="function"?le(ue,ge,he,ke,z):ie(fe,ge,he,ke,z)}function me(fe){var he=typeof M=="function"?M(fe):M;return ie({title:he},he,!1)}var we=y.createElement("div",{className:"".concat(Y,"-search"),style:{width:O},onFocus:function(){X(!0)},onBlur:function(){X(!1)}},y.createElement(cE,{ref:l,open:o,prefixCls:r,id:n,inputElement:null,disabled:u,autoFocus:h,autoComplete:g,editable:oe,activeDescendantId:x,value:te,onKeyDown:L,onMouseDown:$,onChange:R,onPaste:P,onCompositionStart:V,onCompositionEnd:D,tabIndex:b,attrs:pm(e,!0)}),y.createElement("span",{ref:H,className:"".concat(Y,"-search-mirror"),"aria-hidden":!0},te,"")),Q=y.createElement(Nl,{prefixCls:"".concat(Y,"-overflow"),data:i,renderItem:ve,renderRest:me,suffix:we,itemKey:Wie,maxCount:_});return y.createElement(y.Fragment,null,Q,!i.length&&!te&&y.createElement("span",{className:"".concat(Y,"-placeholder")},c))},Xie=function(e){var n=e.inputElement,r=e.prefixCls,i=e.id,o=e.inputRef,s=e.disabled,a=e.autoFocus,l=e.autoComplete,c=e.activeDescendantId,u=e.mode,d=e.open,f=e.values,h=e.placeholder,g=e.tabIndex,x=e.showSearch,b=e.searchValue,v=e.activeValue,_=e.maxLength,S=e.onInputKeyDown,w=e.onInputMouseDown,M=e.onInputChange,E=e.onInputPaste,T=e.onInputCompositionStart,N=e.onInputCompositionEnd,R=e.title,P=y.useState(!1),L=Ie(P,2),$=L[0],V=L[1],D=u==="combobox",H=D||x,F=f[0],k=b||"";D&&v&&!$&&(k=v),y.useEffect(function(){D&&V(!1)},[D,v]);var O=u!=="combobox"&&!d&&!x?!1:!!k,B=R===void 0?Ck(F):R,G=function(){if(F)return null;var K=O?{visibility:"hidden"}:void 0;return y.createElement("span",{className:"".concat(r,"-selection-placeholder"),style:K},h)};return y.createElement(y.Fragment,null,y.createElement("span",{className:"".concat(r,"-selection-search")},y.createElement(cE,{ref:o,prefixCls:r,id:i,open:d,inputElement:n,disabled:s,autoFocus:a,autoComplete:l,editable:H,activeDescendantId:c,value:k,onKeyDown:S,onMouseDown:w,onChange:function(K){V(!0),M(K)},onPaste:E,onCompositionStart:T,onCompositionEnd:N,tabIndex:g,attrs:pm(e,!0),maxLength:D?_:void 0})),!D&&F?y.createElement("span",{className:"".concat(r,"-selection-item"),title:B,style:O?{visibility:"hidden"}:void 0},F.label):null,G())};function qie(t){return![ot.ESC,ot.SHIFT,ot.BACKSPACE,ot.TAB,ot.WIN_KEY,ot.ALT,ot.META,ot.WIN_KEY_RIGHT,ot.CTRL,ot.SEMICOLON,ot.EQUALS,ot.CAPS_LOCK,ot.CONTEXT_MENU,ot.F1,ot.F2,ot.F3,ot.F4,ot.F5,ot.F6,ot.F7,ot.F8,ot.F9,ot.F10,ot.F11,ot.F12].includes(t)}var Kie=function(e,n){var r=y.useRef(null),i=y.useRef(!1),o=e.prefixCls,s=e.open,a=e.mode,l=e.showSearch,c=e.tokenWithEnter,u=e.autoClearSearchValue,d=e.onSearch,f=e.onSearchSubmit,h=e.onToggleOpen,g=e.onInputKeyDown,x=e.domRef;y.useImperativeHandle(n,function(){return{focus:function(){r.current.focus()},blur:function(){r.current.blur()}}});var b=xk(0),v=Ie(b,2),_=v[0],S=v[1],w=function(k){var O=k.which;(O===ot.UP||O===ot.DOWN)&&k.preventDefault(),g&&g(k),O===ot.ENTER&&a==="tags"&&!i.current&&!s&&f?.(k.target.value),qie(O)&&h(!0)},M=function(){S(!0)},E=y.useRef(null),T=function(k){d(k,!0,i.current)!==!1&&h(!0)},N=function(){i.current=!0},R=function(k){i.current=!1,a!=="combobox"&&T(k.target.value)},P=function(k){var O=k.target.value;if(c&&E.current&&/[\r\n]/.test(E.current)){var B=E.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");O=O.replace(B,E.current)}E.current=null,T(O)},L=function(k){var O=k.clipboardData,B=O.getData("text");E.current=B},$=function(k){var O=k.target;if(O!==r.current){var B=document.body.style.msTouchAction!==void 0;B?setTimeout(function(){r.current.focus()}):r.current.focus()}},V=function(k){var O=_();k.target!==r.current&&!O&&a!=="combobox"&&k.preventDefault(),(a!=="combobox"&&(!l||!O)||!s)&&(s&&u!==!1&&d("",!0,!1),h())},D={inputRef:r,onInputKeyDown:w,onInputMouseDown:M,onInputChange:P,onInputPaste:L,onInputCompositionStart:N,onInputCompositionEnd:R},H=a==="multiple"||a==="tags"?y.createElement(jie,ct({},e,D)):y.createElement(Xie,ct({},e,D));return y.createElement("div",{ref:x,className:"".concat(o,"-selector"),onClick:$,onMouseDown:V},H)},Ek=y.forwardRef(Kie);Ek.displayName="Selector";var CN=y.createContext(null);function EN(t){return t?Array.isArray(t)?t:[t]:[]}function Yie(t,e,n,r){return y.useMemo(function(){var i=EN(n??e),o=EN(r??e),s=new Set(i),a=new Set(o);return t&&(s.has("hover")&&(s.delete("hover"),s.add("click")),a.has("hover")&&(a.delete("hover"),a.add("click"))),[s,a]},[t,e,n,r])}function Zie(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function Qie(t,e,n,r){for(var i=n.points,o=Object.keys(t),s=0;s<o.length;s+=1){var a,l=o[s];if(Zie((a=t[l])===null||a===void 0?void 0:a.points,i,r))return"".concat(e,"-placement-").concat(l)}return""}function TN(t,e,n,r){return e||(n?{motionName:"".concat(t,"-").concat(n)}:r?{motionName:r}:null)}function _3(t){return t.ownerDocument.defaultView}function N_(t){for(var e=[],n=t?.parentElement,r=["hidden","scroll","clip","auto"];n;){var i=_3(n).getComputedStyle(n),o=i.overflowX,s=i.overflowY,a=i.overflow;[o,s,a].some(function(l){return r.includes(l)})&&e.push(n),n=n.parentElement}return e}function Tv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(t)?e:t}function J0(t){return Tv(parseFloat(t),0)}function MN(t,e){var n=_e({},t);return(e||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var i=_3(r).getComputedStyle(r),o=i.overflow,s=i.overflowClipMargin,a=i.borderTopWidth,l=i.borderBottomWidth,c=i.borderLeftWidth,u=i.borderRightWidth,d=r.getBoundingClientRect(),f=r.offsetHeight,h=r.clientHeight,g=r.offsetWidth,x=r.clientWidth,b=J0(a),v=J0(l),_=J0(c),S=J0(u),w=Tv(Math.round(d.width/g*1e3)/1e3),M=Tv(Math.round(d.height/f*1e3)/1e3),E=(g-x-_-S)*w,T=(f-h-b-v)*M,N=b*M,R=v*M,P=_*w,L=S*w,$=0,V=0;if(o==="clip"){var D=J0(s);$=D*w,V=D*M}var H=d.x+P-$,F=d.y+N-V,k=H+d.width+2*$-P-L-E,O=F+d.height+2*V-N-R-T;n.left=Math.max(n.left,H),n.top=Math.max(n.top,F),n.right=Math.min(n.right,k),n.bottom=Math.min(n.bottom,O)}}),n}function RN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n="".concat(e),r=n.match(/^(.*)\%$/);return r?t*(parseFloat(r[1])/100):parseFloat(n)}function AN(t,e){var n=e||[],r=Ie(n,2),i=r[0],o=r[1];return[RN(t.width,i),RN(t.height,o)]}function PN(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[t[0],t[1]]}function Th(t,e){var n=e[0],r=e[1],i,o;return n==="t"?o=t.y:n==="b"?o=t.y+t.height:o=t.y+t.height/2,r==="l"?i=t.x:r==="r"?i=t.x+t.width:i=t.x+t.width/2,{x:i,y:o}}function eu(t,e){var n={t:"b",b:"t",l:"r",r:"l"};return t.map(function(r,i){return i===e?n[r]||"c":r}).join("")}function Jie(t,e,n,r,i,o,s){var a=y.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[r]||{}}),l=Ie(a,2),c=l[0],u=l[1],d=y.useRef(0),f=y.useMemo(function(){return e?N_(e):[]},[e]),h=y.useRef({}),g=function(){h.current={}};t||g();var x=Eo(function(){if(e&&n&&t){let Yi=function(Xl,ql){var fl=arguments.length>2&&arguments[2]!==void 0?arguments[2]:j,Kl=B.x+Xl,hl=B.y+ql,pl=Kl+le,C0=hl+ie,pd=Math.max(Kl,fl.left),Un=Math.max(hl,fl.top),oh=Math.min(pl,fl.right),Ut=Math.min(C0,fl.bottom);return Math.max(0,(oh-pd)*(Ut-Un))},Oo=function(){dn=B.y+Je,ar=dn+ie,Pr=B.x+Pe,vn=Pr+le};var _,S,w=e,M=w.ownerDocument,E=_3(w),T=E.getComputedStyle(w),N=T.width,R=T.height,P=T.position,L=w.style.left,$=w.style.top,V=w.style.right,D=w.style.bottom,H=_e(_e({},i[r]),o),F=M.createElement("div");(_=w.parentElement)===null||_===void 0||_.appendChild(F),F.style.left="".concat(w.offsetLeft,"px"),F.style.top="".concat(w.offsetTop,"px"),F.style.position=P,F.style.height="".concat(w.offsetHeight,"px"),F.style.width="".concat(w.offsetWidth,"px"),w.style.left="0",w.style.top="0",w.style.right="auto",w.style.bottom="auto";var k;if(Array.isArray(n))k={x:n[0],y:n[1],width:0,height:0};else{var O=n.getBoundingClientRect();k={x:O.x,y:O.y,width:O.width,height:O.height}}var B=w.getBoundingClientRect(),G=M.documentElement,W=G.clientWidth,K=G.clientHeight,X=G.scrollWidth,Y=G.scrollHeight,te=G.scrollTop,oe=G.scrollLeft,ie=B.height,le=B.width,ve=k.height,me=k.width,we={left:0,top:0,right:W,bottom:K},Q={left:-oe,top:-te,right:X-oe,bottom:Y-te},fe=H.htmlRegion,he="visible",Ee="visibleFirst";fe!=="scroll"&&fe!==Ee&&(fe=he);var ue=fe===Ee,ke=MN(Q,f),ge=MN(we,f),j=fe===he?ge:ke,z=ue?ge:j;w.style.left="auto",w.style.top="auto",w.style.right="0",w.style.bottom="0";var ee=w.getBoundingClientRect();w.style.left=L,w.style.top=$,w.style.right=V,w.style.bottom=D,(S=w.parentElement)===null||S===void 0||S.removeChild(F);var xe=Tv(Math.round(le/parseFloat(N)*1e3)/1e3),Ne=Tv(Math.round(ie/parseFloat(R)*1e3)/1e3);if(xe===0||Ne===0||O5(n)&&!QC(n))return;var Ae=H.offset,Fe=H.targetOffset,Oe=AN(B,Ae),We=Ie(Oe,2),ht=We[0],Ge=We[1],Te=AN(k,Fe),nt=Ie(Te,2),at=nt[0],rt=nt[1];k.x-=at,k.y-=rt;var st=H.points||[],Ze=Ie(st,2),re=Ze[0],Ve=Ze[1],Qe=PN(Ve),lt=PN(re),ce=Th(k,Qe),Z=Th(B,lt),Re=_e({},H),Pe=ce.x-Z.x+ht,Je=ce.y-Z.y+Ge,ft=Yi(Pe,Je),wt=Yi(Pe,Je,ge),mt=Th(k,["t","l"]),Ye=Th(B,["t","l"]),dt=Th(k,["b","r"]),it=Th(B,["b","r"]),gt=H.overflow||{},sn=gt.adjustX,gn=gt.adjustY,Zn=gt.shiftX,Xn=gt.shiftY,Wn=function(ql){return typeof ql=="boolean"?ql:ql>=0},dn,ar,Pr,vn;Oo();var an=Wn(gn),Ct=lt[0]===Qe[0];if(an&&lt[0]==="t"&&(ar>z.bottom||h.current.bt)){var q=Je;Ct?q-=ie-ve:q=mt.y-it.y-Ge;var de=Yi(Pe,q),Se=Yi(Pe,q,ge);de>ft||de===ft&&(!ue||Se>=wt)?(h.current.bt=!0,Je=q,Ge=-Ge,Re.points=[eu(lt,0),eu(Qe,0)]):h.current.bt=!1}if(an&&lt[0]==="b"&&(dn<z.top||h.current.tb)){var De=Je;Ct?De+=ie-ve:De=dt.y-Ye.y-Ge;var $e=Yi(Pe,De),_t=Yi(Pe,De,ge);$e>ft||$e===ft&&(!ue||_t>=wt)?(h.current.tb=!0,Je=De,Ge=-Ge,Re.points=[eu(lt,0),eu(Qe,0)]):h.current.tb=!1}var Nt=Wn(sn),zt=lt[1]===Qe[1];if(Nt&&lt[1]==="l"&&(vn>z.right||h.current.rl)){var $t=Pe;zt?$t-=le-me:$t=mt.x-it.x-ht;var qt=Yi($t,Je),en=Yi($t,Je,ge);qt>ft||qt===ft&&(!ue||en>=wt)?(h.current.rl=!0,Pe=$t,ht=-ht,Re.points=[eu(lt,1),eu(Qe,1)]):h.current.rl=!1}if(Nt&&lt[1]==="r"&&(Pr<z.left||h.current.lr)){var Xt=Pe;zt?Xt+=le-me:Xt=dt.x-Ye.x-ht;var Ln=Yi(Xt,Je),hr=Yi(Xt,Je,ge);Ln>ft||Ln===ft&&(!ue||hr>=wt)?(h.current.lr=!0,Pe=Xt,ht=-ht,Re.points=[eu(lt,1),eu(Qe,1)]):h.current.lr=!1}Oo();var Fn=Zn===!0?0:Zn;typeof Fn=="number"&&(Pr<ge.left&&(Pe-=Pr-ge.left-ht,k.x+me<ge.left+Fn&&(Pe+=k.x-ge.left+me-Fn)),vn>ge.right&&(Pe-=vn-ge.right-ht,k.x>ge.right-Fn&&(Pe+=k.x-ge.right+Fn)));var nr=Xn===!0?0:Xn;typeof nr=="number"&&(dn<ge.top&&(Je-=dn-ge.top-Ge,k.y+ve<ge.top+nr&&(Je+=k.y-ge.top+ve-nr)),ar>ge.bottom&&(Je-=ar-ge.bottom-Ge,k.y>ge.bottom-nr&&(Je+=k.y-ge.bottom+nr)));var Vt=B.x+Pe,Rt=Vt+le,Nr=B.y+Je,rn=Nr+ie,Lt=k.x,Kt=Lt+me,Qt=k.y,Dt=Qt+ve,It=Math.max(Vt,Lt),xn=Math.min(Rt,Kt),$n=(It+xn)/2,Gn=$n-Vt,xr=Math.max(Nr,Qt),br=Math.min(rn,Dt),Ki=(xr+br)/2,jl=Ki-Nr;s?.(e,Re);var w0=ee.right-B.x-(Pe+B.width),Hc=ee.bottom-B.y-(Je+B.height);u({ready:!0,offsetX:Pe/xe,offsetY:Je/Ne,offsetR:w0/xe,offsetB:Hc/Ne,arrowX:Gn/xe,arrowY:jl/Ne,scaleX:xe,scaleY:Ne,align:Re})}}),b=function(){d.current+=1;var S=d.current;Promise.resolve().then(function(){d.current===S&&x()})},v=function(){u(function(S){return _e(_e({},S),{},{ready:!1})})};return sr(v,[r]),sr(function(){t||v()},[t]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,b]}function eoe(t,e,n,r,i){sr(function(){if(t&&e&&n){let d=function(){r(),i()};var o=e,s=n,a=N_(o),l=N_(s),c=_3(s),u=new Set([c].concat(St(a),St(l)));return u.forEach(function(f){f.addEventListener("scroll",d,{passive:!0})}),c.addEventListener("resize",d,{passive:!0}),r(),function(){u.forEach(function(f){f.removeEventListener("scroll",d),c.removeEventListener("resize",d)})}}},[t,e,n])}function toe(t,e,n,r,i,o,s,a){var l=y.useRef(t),c=y.useRef(!1);l.current!==t&&(c.current=!0,l.current=t),y.useEffect(function(){var u=jn(function(){c.current=!1});return function(){jn.cancel(u)}},[t]),y.useEffect(function(){if(e&&r&&(!i||o)){var u=function(){var E=!1,T=function(P){var L=P.target;E=s(L)},N=function(P){var L=P.target;!c.current&&l.current&&!E&&!s(L)&&a(!1)};return[T,N]},d=u(),f=Ie(d,2),h=f[0],g=f[1],x=u(),b=Ie(x,2),v=b[0],_=b[1],S=_3(r);S.addEventListener("mousedown",h,!0),S.addEventListener("click",g,!0),S.addEventListener("contextmenu",g,!0);var w=z5(n);return w&&(w.addEventListener("mousedown",v,!0),w.addEventListener("click",_,!0),w.addEventListener("contextmenu",_,!0)),function(){S.removeEventListener("mousedown",h,!0),S.removeEventListener("click",g,!0),S.removeEventListener("contextmenu",g,!0),w&&(w.removeEventListener("mousedown",v,!0),w.removeEventListener("click",_,!0),w.removeEventListener("contextmenu",_,!0))}}},[e,n,r,i,o])}function noe(t){var e=t.prefixCls,n=t.align,r=t.arrow,i=t.arrowPos,o=r||{},s=o.className,a=o.content,l=i.x,c=l===void 0?0:l,u=i.y,d=u===void 0?0:u,f=y.useRef();if(!n||!n.points)return null;var h={position:"absolute"};if(n.autoArrow!==!1){var g=n.points[0],x=n.points[1],b=g[0],v=g[1],_=x[0],S=x[1];b===_||!["t","b"].includes(b)?h.top=d:b==="t"?h.top=0:h.bottom=0,v===S||!["l","r"].includes(v)?h.left=c:v==="l"?h.left=0:h.right=0}return y.createElement("div",{ref:f,className:ye("".concat(e,"-arrow"),s),style:h},a)}function roe(t){var e=t.prefixCls,n=t.open,r=t.zIndex,i=t.mask,o=t.motion;return i?y.createElement(Hl,ct({},o,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(s){var a=s.className;return y.createElement("div",{style:{zIndex:r},className:ye("".concat(e,"-mask"),a)})}):null}var ioe=y.memo(function(t){var e=t.children;return e},function(t,e){return e.cache}),ooe=y.forwardRef(function(t,e){var n=t.popup,r=t.className,i=t.prefixCls,o=t.style,s=t.target,a=t.onVisibleChanged,l=t.open,c=t.keepDom,u=t.fresh,d=t.onClick,f=t.mask,h=t.arrow,g=t.arrowPos,x=t.align,b=t.motion,v=t.maskMotion,_=t.forceRender,S=t.getPopupContainer,w=t.autoDestroy,M=t.portal,E=t.zIndex,T=t.onMouseEnter,N=t.onMouseLeave,R=t.onPointerEnter,P=t.ready,L=t.offsetX,$=t.offsetY,V=t.offsetR,D=t.offsetB,H=t.onAlign,F=t.onPrepare,k=t.stretch,O=t.targetWidth,B=t.targetHeight,G=typeof n=="function"?n():n,W=l||c,K=S?.length>0,X=y.useState(!S||!K),Y=Ie(X,2),te=Y[0],oe=Y[1];if(sr(function(){!te&&K&&s&&oe(!0)},[te,K,s]),!te)return null;var ie="auto",le={left:"-1000vw",top:"-1000vh",right:ie,bottom:ie};if(P||!l){var ve,me=x.points,we=x.dynamicInset||((ve=x._experimental)===null||ve===void 0?void 0:ve.dynamicInset),Q=we&&me[0][1]==="r",fe=we&&me[0][0]==="b";Q?(le.right=V,le.left=ie):(le.left=L,le.right=ie),fe?(le.bottom=D,le.top=ie):(le.top=$,le.bottom=ie)}var he={};return k&&(k.includes("height")&&B?he.height=B:k.includes("minHeight")&&B&&(he.minHeight=B),k.includes("width")&&O?he.width=O:k.includes("minWidth")&&O&&(he.minWidth=O)),l||(he.pointerEvents="none"),y.createElement(M,{open:_||W,getContainer:S&&function(){return S(s)},autoDestroy:w},y.createElement(roe,{prefixCls:i,open:l,zIndex:E,mask:f,motion:v}),y.createElement(pa,{onResize:H,disabled:!l},function(Ee){return y.createElement(Hl,ct({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:_,leavedClassName:"".concat(i,"-hidden")},b,{onAppearPrepare:F,onEnterPrepare:F,visible:l,onVisibleChanged:function(ke){var ge;b==null||(ge=b.onVisibleChanged)===null||ge===void 0||ge.call(b,ke),a(ke)}}),function(ue,ke){var ge=ue.className,j=ue.style,z=ye(i,ge,r);return y.createElement("div",{ref:jo(Ee,e,ke),className:z,style:_e(_e(_e(_e({"--arrow-x":"".concat(g.x||0,"px"),"--arrow-y":"".concat(g.y||0,"px")},le),he),j),{},{boxSizing:"border-box",zIndex:E},o),onMouseEnter:T,onMouseLeave:N,onPointerEnter:R,onClick:d},h&&y.createElement(noe,{prefixCls:i,arrow:h,arrowPos:g,align:x}),y.createElement(ioe,{cache:!l&&!u},G))})}))}),soe=y.forwardRef(function(t,e){var n=t.children,r=t.getTriggerDOMNode,i=rd(n),o=y.useCallback(function(a){FC(e,r?r(a):a)},[r]),s=m3(o,n.ref);return i?y.cloneElement(n,{ref:s}):n}),aoe=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function loe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:uk,e=y.forwardRef(function(n,r){var i=n.prefixCls,o=i===void 0?"rc-trigger-popup":i,s=n.children,a=n.action,l=a===void 0?"hover":a,c=n.showAction,u=n.hideAction,d=n.popupVisible,f=n.defaultPopupVisible,h=n.onPopupVisibleChange,g=n.afterPopupVisibleChange,x=n.mouseEnterDelay,b=n.mouseLeaveDelay,v=b===void 0?.1:b,_=n.focusDelay,S=n.blurDelay,w=n.mask,M=n.maskClosable,E=M===void 0?!0:M,T=n.getPopupContainer,N=n.forceRender,R=n.autoDestroy,P=n.destroyPopupOnHide,L=n.popup,$=n.popupClassName,V=n.popupStyle,D=n.popupPlacement,H=n.builtinPlacements,F=H===void 0?{}:H,k=n.popupAlign,O=n.zIndex,B=n.stretch,G=n.getPopupClassNameFromAlign,W=n.fresh,K=n.alignPoint,X=n.onPopupClick,Y=n.onPopupAlign,te=n.arrow,oe=n.popupMotion,ie=n.maskMotion,le=n.popupTransitionName,ve=n.popupAnimation,me=n.maskTransitionName,we=n.maskAnimation,Q=n.className,fe=n.getTriggerDOMNode,he=ln(n,aoe),Ee=R||P||!1,ue=y.useState(!1),ke=Ie(ue,2),ge=ke[0],j=ke[1];sr(function(){j(C6())},[]);var z=y.useRef({}),ee=y.useContext(CN),xe=y.useMemo(function(){return{registerSubPopup:function(bn,Ir){z.current[bn]=Ir,ee?.registerSubPopup(bn,Ir)}}},[ee]),Ne=Kne(),Ae=y.useState(null),Fe=Ie(Ae,2),Oe=Fe[0],We=Fe[1],ht=Eo(function(Ut){O5(Ut)&&Oe!==Ut&&We(Ut),ee?.registerSubPopup(Ne,Ut)}),Ge=y.useState(null),Te=Ie(Ge,2),nt=Te[0],at=Te[1],rt=Eo(function(Ut){O5(Ut)&&nt!==Ut&&at(Ut)}),st=y.Children.only(s),Ze=st?.props||{},re={},Ve=Eo(function(Ut){var bn,Ir,ri=nt;return ri?.contains(Ut)||((bn=z5(ri))===null||bn===void 0?void 0:bn.host)===Ut||Ut===ri||Oe?.contains(Ut)||((Ir=z5(Oe))===null||Ir===void 0?void 0:Ir.host)===Ut||Ut===Oe||Object.values(z.current).some(function(Rn){return Rn?.contains(Ut)||Ut===Rn})}),Qe=TN(o,oe,ve,le),lt=TN(o,ie,we,me),ce=y.useState(f||!1),Z=Ie(ce,2),Re=Z[0],Pe=Z[1],Je=d??Re,ft=Eo(function(Ut){d===void 0&&Pe(Ut)});sr(function(){Pe(d||!1)},[d]);var wt=y.useRef(Je);wt.current=Je;var mt=Eo(function(Ut){xa.flushSync(function(){Je!==Ut&&(ft(Ut),h?.(Ut))})}),Ye=y.useRef(),dt=function(){clearTimeout(Ye.current)},it=function(bn){var Ir=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;dt(),Ir===0?mt(bn):Ye.current=setTimeout(function(){mt(bn)},Ir*1e3)};y.useEffect(function(){return dt},[]);var gt=y.useState(!1),sn=Ie(gt,2),gn=sn[0],Zn=sn[1];sr(function(Ut){(!Ut||Je)&&Zn(!0)},[Je]);var Xn=y.useState(null),Wn=Ie(Xn,2),dn=Wn[0],ar=Wn[1],Pr=y.useState([0,0]),vn=Ie(Pr,2),an=vn[0],Ct=vn[1],q=function(bn){Ct([bn.clientX,bn.clientY])},de=Jie(Je,Oe,K?an:nt,D,F,k,Y),Se=Ie(de,11),De=Se[0],$e=Se[1],_t=Se[2],Nt=Se[3],zt=Se[4],$t=Se[5],qt=Se[6],en=Se[7],Xt=Se[8],Ln=Se[9],hr=Se[10],Fn=Yie(ge,l,c,u),nr=Ie(Fn,2),Vt=nr[0],Rt=nr[1],Nr=Vt.has("click"),rn=Rt.has("click")||Rt.has("contextMenu"),Lt=Eo(function(){gn||hr()}),Kt=function(){wt.current&&K&&rn&&it(!1)};eoe(Je,nt,Oe,Lt,Kt),sr(function(){Lt()},[an,D]),sr(function(){Je&&!(F!=null&&F[D])&&Lt()},[JSON.stringify(k)]);var Qt=y.useMemo(function(){var Ut=Qie(F,o,Ln,K);return ye(Ut,G?.(Ln))},[Ln,G,F,o,K]);y.useImperativeHandle(r,function(){return{forceAlign:Lt}});var Dt=y.useState(0),It=Ie(Dt,2),xn=It[0],$n=It[1],Gn=y.useState(0),xr=Ie(Gn,2),br=xr[0],Ki=xr[1],jl=function(){if(B&&nt){var bn=nt.getBoundingClientRect();$n(bn.width),Ki(bn.height)}},w0=function(){jl(),Lt()},Hc=function(bn){Zn(!1),hr(),g?.(bn)},Yi=function(){return new Promise(function(bn){jl(),ar(function(){return bn})})};sr(function(){dn&&(hr(),dn(),ar(null))},[dn]);function Oo(Ut,bn,Ir,ri){re[Ut]=function(Rn){var Gc;ri?.(Rn),it(bn,Ir);for(var E0=arguments.length,sh=new Array(E0>1?E0-1:0),ah=1;ah<E0;ah++)sh[ah-1]=arguments[ah];(Gc=Ze[Ut])===null||Gc===void 0||Gc.call.apply(Gc,[Ze,Rn].concat(sh))}}(Nr||rn)&&(re.onClick=function(Ut){var bn;wt.current&&rn?it(!1):!wt.current&&Nr&&(q(Ut),it(!0));for(var Ir=arguments.length,ri=new Array(Ir>1?Ir-1:0),Rn=1;Rn<Ir;Rn++)ri[Rn-1]=arguments[Rn];(bn=Ze.onClick)===null||bn===void 0||bn.call.apply(bn,[Ze,Ut].concat(ri))}),toe(Je,rn,nt,Oe,w,E,Ve,it);var Xl=Vt.has("hover"),ql=Rt.has("hover"),fl,Kl;Xl&&(Oo("onMouseEnter",!0,x,function(Ut){q(Ut)}),Oo("onPointerEnter",!0,x,function(Ut){q(Ut)}),fl=function(){(Je||gn)&&it(!0,x)},K&&(re.onMouseMove=function(Ut){var bn;(bn=Ze.onMouseMove)===null||bn===void 0||bn.call(Ze,Ut)})),ql&&(Oo("onMouseLeave",!1,v),Oo("onPointerLeave",!1,v),Kl=function(){it(!1,v)}),Vt.has("focus")&&Oo("onFocus",!0,_),Rt.has("focus")&&Oo("onBlur",!1,S),Vt.has("contextMenu")&&(re.onContextMenu=function(Ut){var bn;wt.current&&Rt.has("contextMenu")?it(!1):(q(Ut),it(!0)),Ut.preventDefault();for(var Ir=arguments.length,ri=new Array(Ir>1?Ir-1:0),Rn=1;Rn<Ir;Rn++)ri[Rn-1]=arguments[Rn];(bn=Ze.onContextMenu)===null||bn===void 0||bn.call.apply(bn,[Ze,Ut].concat(ri))}),Q&&(re.className=ye(Ze.className,Q));var hl=_e(_e({},Ze),re),pl={},C0=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];C0.forEach(function(Ut){he[Ut]&&(pl[Ut]=function(){for(var bn,Ir=arguments.length,ri=new Array(Ir),Rn=0;Rn<Ir;Rn++)ri[Rn]=arguments[Rn];(bn=hl[Ut])===null||bn===void 0||bn.call.apply(bn,[hl].concat(ri)),he[Ut].apply(he,ri)})});var pd=y.cloneElement(st,_e(_e({},hl),pl)),Un={x:$t,y:qt},oh=te?_e({},te!==!0?te:{}):null;return y.createElement(y.Fragment,null,y.createElement(pa,{disabled:!Je,ref:rt,onResize:w0},y.createElement(soe,{getTriggerDOMNode:fe},pd)),y.createElement(CN.Provider,{value:xe},y.createElement(ooe,{portal:t,ref:ht,prefixCls:o,popup:L,className:ye($,Qt),style:V,target:nt,onMouseEnter:fl,onMouseLeave:Kl,onPointerEnter:fl,zIndex:O,open:Je,keepDom:gn,fresh:W,onClick:X,mask:w,motion:Qe,maskMotion:lt,onVisibleChanged:Hc,onPrepare:Yi,forceRender:N,autoDestroy:Ee,getPopupContainer:T,align:Ln,arrow:oh,arrowPos:Un,ready:De,offsetX:$e,offsetY:_t,offsetR:Nt,offsetB:zt,onAlign:Lt,stretch:B,targetWidth:xn/en,targetHeight:br/Xt})))});return e}const T6=loe(uk);var coe=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],uoe=function(e){var n=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"}}},doe=function(e,n){var r=e.prefixCls;e.disabled;var i=e.visible,o=e.children,s=e.popupElement,a=e.animation,l=e.transitionName,c=e.dropdownStyle,u=e.dropdownClassName,d=e.direction,f=d===void 0?"ltr":d,h=e.placement,g=e.builtinPlacements,x=e.dropdownMatchSelectWidth,b=e.dropdownRender,v=e.dropdownAlign,_=e.getPopupContainer,S=e.empty,w=e.getTriggerDOMNode,M=e.onPopupVisibleChange,E=e.onPopupMouseEnter,T=ln(e,coe),N="".concat(r,"-dropdown"),R=s;b&&(R=b(s));var P=y.useMemo(function(){return g||uoe(x)},[g,x]),L=a?"".concat(N,"-").concat(a):l,$=typeof x=="number",V=y.useMemo(function(){return $?null:x===!1?"minWidth":"width"},[x,$]),D=c;$&&(D=_e(_e({},D),{},{width:x}));var H=y.useRef(null);return y.useImperativeHandle(n,function(){return{getPopupElement:function(){return H.current}}}),y.createElement(T6,ct({},T,{showAction:M?["click"]:[],hideAction:M?["click"]:[],popupPlacement:h||(f==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:P,prefixCls:N,popupTransitionName:L,popup:y.createElement("div",{ref:H,onMouseEnter:E},R),stretch:V,popupAlign:v,popupVisible:i,getPopupContainer:_,popupClassName:ye(u,se({},"".concat(N,"-empty"),S)),popupStyle:D,getTriggerDOMNode:w,onPopupVisibleChange:M}),o)},Tk=y.forwardRef(doe);Tk.displayName="SelectTrigger";function NN(t,e){var n=t.key,r;return"value"in t&&(r=t.value),n??(r!==void 0?r:"rc-index-key-".concat(e))}function Mk(t,e){var n=t||{},r=n.label,i=n.value,o=n.options,s=n.groupLabel,a=r||(e?"children":"label");return{label:a,value:i||"value",options:o||"options",groupLabel:s||a}}function foe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.fieldNames,r=e.childrenAsData,i=[],o=Mk(n,!1),s=o.label,a=o.value,l=o.options,c=o.groupLabel;function u(d,f){d.forEach(function(h){if(f||!(l in h)){var g=h[a];i.push({key:NN(h,i.length),groupOption:f,data:h,label:h[s],value:g})}else{var x=h[c];x===void 0&&r&&(x=h.label),i.push({key:NN(h,i.length),group:!0,data:h,label:x}),u(h[l],!0)}})}return u(t,!1),i}function I_(t){var e=_e({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return Pi(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}function hoe(t,e){if(!e||!e.length)return null;var n=!1;function r(o,s){var a=fB(s),l=a[0],c=a.slice(1);if(!l)return[o];var u=o.split(l);return n=n||u.length>1,u.reduce(function(d,f){return[].concat(St(d),St(r(f,c)))},[]).filter(function(d){return d})}var i=r(t,e);return n?i:null}var poe=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],moe=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function O_(t){return t==="tags"||t==="multiple"}var goe=y.forwardRef(function(t,e){var n,r,i=t.id,o=t.prefixCls,s=t.className,a=t.showSearch,l=t.tagRender,c=t.direction,u=t.omitDomProps,d=t.displayValues,f=t.onDisplayValuesChange,h=t.emptyOptions,g=t.notFoundContent,x=g===void 0?"Not Found":g,b=t.onClear,v=t.mode,_=t.disabled,S=t.loading,w=t.getInputElement,M=t.getRawInputElement,E=t.open,T=t.defaultOpen,N=t.onDropdownVisibleChange,R=t.activeValue,P=t.onActiveValueChange,L=t.activeDescendantId,$=t.searchValue,V=t.autoClearSearchValue,D=t.onSearch,H=t.onSearchSplit,F=t.tokenSeparators,k=t.allowClear,O=t.suffixIcon,B=t.clearIcon,G=t.OptionList,W=t.animation,K=t.transitionName,X=t.dropdownStyle,Y=t.dropdownClassName,te=t.dropdownMatchSelectWidth,oe=t.dropdownRender,ie=t.dropdownAlign,le=t.placement,ve=t.builtinPlacements,me=t.getPopupContainer,we=t.showAction,Q=we===void 0?[]:we,fe=t.onFocus,he=t.onBlur,Ee=t.onKeyUp,ue=t.onKeyDown,ke=t.onMouseDown,ge=ln(t,poe),j=O_(v),z=(a!==void 0?a:j)||v==="combobox",ee=_e({},ge);moe.forEach(function(Lt){delete ee[Lt]}),u?.forEach(function(Lt){delete ee[Lt]});var xe=y.useState(!1),Ne=Ie(xe,2),Ae=Ne[0],Fe=Ne[1];y.useEffect(function(){Fe(C6())},[]);var Oe=y.useRef(null),We=y.useRef(null),ht=y.useRef(null),Ge=y.useRef(null),Te=y.useRef(null),nt=Tie(),at=Ie(nt,3),rt=at[0],st=at[1],Ze=at[2];y.useImperativeHandle(e,function(){var Lt,Kt;return{focus:(Lt=Ge.current)===null||Lt===void 0?void 0:Lt.focus,blur:(Kt=Ge.current)===null||Kt===void 0?void 0:Kt.blur,scrollTo:function(Dt){var It;return(It=Te.current)===null||It===void 0?void 0:It.scrollTo(Dt)}}});var re=y.useMemo(function(){var Lt;if(v!=="combobox")return $;var Kt=(Lt=d[0])===null||Lt===void 0?void 0:Lt.value;return typeof Kt=="string"||typeof Kt=="number"?String(Kt):""},[$,v,d]),Ve=v==="combobox"&&typeof w=="function"&&w()||null,Qe=typeof M=="function"&&M(),lt=m3(We,Qe==null||(n=Qe.props)===null||n===void 0?void 0:n.ref),ce=y.useState(!1),Z=Ie(ce,2),Re=Z[0],Pe=Z[1];sr(function(){Pe(!0)},[]);var Je=ei(!1,{defaultValue:T,value:E}),ft=Ie(Je,2),wt=ft[0],mt=ft[1],Ye=Re?wt:!1,dt=!x&&h;(_||dt&&Ye&&v==="combobox")&&(Ye=!1);var it=dt?!1:Ye,gt=y.useCallback(function(Lt){var Kt=Lt!==void 0?Lt:!Ye;_||(mt(Kt),Ye!==Kt&&N?.(Kt))},[_,Ye,mt,N]),sn=y.useMemo(function(){return(F||[]).some(function(Lt){return[`
`,`\r
`].includes(Lt)})},[F]),gn=function(Kt,Qt,Dt){var It=!0,xn=Kt;P?.(null);var $n=Dt?null:hoe(Kt,F);return v!=="combobox"&&$n&&(xn="",H?.($n),gt(!1),It=!1),D&&re!==xn&&D(xn,{source:Qt?"typing":"effect"}),It},Zn=function(Kt){!Kt||!Kt.trim()||D(Kt,{source:"submit"})};y.useEffect(function(){!Ye&&!j&&v!=="combobox"&&gn("",!1,!1)},[Ye]),y.useEffect(function(){wt&&_&&mt(!1),_&&st(!1)},[_]);var Xn=xk(),Wn=Ie(Xn,2),dn=Wn[0],ar=Wn[1],Pr=function(Kt){var Qt=dn(),Dt=Kt.which;if(Dt===ot.ENTER&&(v!=="combobox"&&Kt.preventDefault(),Ye||gt(!0)),ar(!!re),Dt===ot.BACKSPACE&&!Qt&&j&&!re&&d.length){for(var It=St(d),xn=null,$n=It.length-1;$n>=0;$n-=1){var Gn=It[$n];if(!Gn.disabled){It.splice($n,1),xn=Gn;break}}xn&&f(It,{type:"remove",values:[xn]})}for(var xr=arguments.length,br=new Array(xr>1?xr-1:0),Ki=1;Ki<xr;Ki++)br[Ki-1]=arguments[Ki];if(Ye&&Te.current){var jl;(jl=Te.current).onKeyDown.apply(jl,[Kt].concat(br))}ue?.apply(void 0,[Kt].concat(br))},vn=function(Kt){for(var Qt=arguments.length,Dt=new Array(Qt>1?Qt-1:0),It=1;It<Qt;It++)Dt[It-1]=arguments[It];if(Ye&&Te.current){var xn;(xn=Te.current).onKeyUp.apply(xn,[Kt].concat(Dt))}Ee?.apply(void 0,[Kt].concat(Dt))},an=function(Kt){var Qt=d.filter(function(Dt){return Dt!==Kt});f(Qt,{type:"remove",values:[Kt]})},Ct=y.useRef(!1),q=function(){st(!0),_||(fe&&!Ct.current&&fe.apply(void 0,arguments),Q.includes("focus")&&gt(!0)),Ct.current=!0},de=function(){st(!1,function(){Ct.current=!1,gt(!1)}),!_&&(re&&(v==="tags"?D(re,{source:"submit"}):v==="multiple"&&D("",{source:"blur"})),he&&he.apply(void 0,arguments))},Se=[];y.useEffect(function(){return function(){Se.forEach(function(Lt){return clearTimeout(Lt)}),Se.splice(0,Se.length)}},[]);var De=function(Kt){var Qt,Dt=Kt.target,It=(Qt=ht.current)===null||Qt===void 0?void 0:Qt.getPopupElement();if(It&&It.contains(Dt)){var xn=setTimeout(function(){var br=Se.indexOf(xn);if(br!==-1&&Se.splice(br,1),Ze(),!Ae&&!It.contains(document.activeElement)){var Ki;(Ki=Ge.current)===null||Ki===void 0||Ki.focus()}});Se.push(xn)}for(var $n=arguments.length,Gn=new Array($n>1?$n-1:0),xr=1;xr<$n;xr++)Gn[xr-1]=arguments[xr];ke?.apply(void 0,[Kt].concat(Gn))},$e=y.useState({}),_t=Ie($e,2),Nt=_t[1];function zt(){Nt({})}var $t;Qe&&($t=function(Kt){gt(Kt)}),Mie(function(){var Lt;return[Oe.current,(Lt=ht.current)===null||Lt===void 0?void 0:Lt.getPopupElement()]},it,gt,!!Qe);var qt=y.useMemo(function(){return _e(_e({},t),{},{notFoundContent:x,open:Ye,triggerOpen:it,id:i,showSearch:z,multiple:j,toggleOpen:gt})},[t,x,it,Ye,i,z,j,gt]),en=!!O||S,Xt;en&&(Xt=y.createElement(E6,{className:ye("".concat(o,"-arrow"),se({},"".concat(o,"-arrow-loading"),S)),customizeIcon:O,customizeIconProps:{loading:S,searchValue:re,open:Ye,focused:rt,showSearch:z}}));var Ln=function(){var Kt;b?.(),(Kt=Ge.current)===null||Kt===void 0||Kt.focus(),f([],{type:"clear",values:d}),gn("",!1,!1)},hr=Cie(o,Ln,d,k,B,_,re,v),Fn=hr.allowClear,nr=hr.clearIcon,Vt=y.createElement(G,{ref:Te}),Rt=ye(o,s,(r={},se(r,"".concat(o,"-focused"),rt),se(r,"".concat(o,"-multiple"),j),se(r,"".concat(o,"-single"),!j),se(r,"".concat(o,"-allow-clear"),k),se(r,"".concat(o,"-show-arrow"),en),se(r,"".concat(o,"-disabled"),_),se(r,"".concat(o,"-loading"),S),se(r,"".concat(o,"-open"),Ye),se(r,"".concat(o,"-customize-input"),Ve),se(r,"".concat(o,"-show-search"),z),r)),Nr=y.createElement(Tk,{ref:ht,disabled:_,prefixCls:o,visible:it,popupElement:Vt,animation:W,transitionName:K,dropdownStyle:X,dropdownClassName:Y,direction:c,dropdownMatchSelectWidth:te,dropdownRender:oe,dropdownAlign:ie,placement:le,builtinPlacements:ve,getPopupContainer:me,empty:h,getTriggerDOMNode:function(){return We.current},onPopupVisibleChange:$t,onPopupMouseEnter:zt},Qe?y.cloneElement(Qe,{ref:lt}):y.createElement(Ek,ct({},t,{domRef:We,prefixCls:o,inputElement:Ve,ref:Ge,id:i,showSearch:z,autoClearSearchValue:V,mode:v,activeDescendantId:L,tagRender:l,values:d,open:Ye,onToggleOpen:gt,activeValue:R,searchValue:re,onSearch:gn,onSearchSubmit:Zn,onRemove:an,tokenWithEnter:sn}))),rn;return Qe?rn=Nr:rn=y.createElement("div",ct({className:Rt},ee,{ref:Oe,onMouseDown:De,onKeyDown:Pr,onKeyUp:vn,onFocus:q,onBlur:de}),rt&&!Ye&&y.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(d.map(function(Lt){var Kt=Lt.label,Qt=Lt.value;return["number","string"].includes(nn(Kt))?Kt:Qt}).join(", "))),Nr,Xt,Fn&&nr),y.createElement(yk.Provider,{value:qt},rn)});const voe=function(t,e){var n=y.useRef({values:new Map,options:new Map}),r=y.useMemo(function(){var o=n.current,s=o.values,a=o.options,l=t.map(function(d){if(d.label===void 0){var f;return _e(_e({},d),{},{label:(f=s.get(d.value))===null||f===void 0?void 0:f.label})}return d}),c=new Map,u=new Map;return l.forEach(function(d){c.set(d.value,d),u.set(d.value,e.get(d.value)||a.get(d.value))}),n.current.values=c,n.current.options=u,l},[t,e]),i=y.useCallback(function(o){return e.get(o)||n.current.options.get(o)},[e]);return[r,i]};function e8(t,e){return wk(t).join("").toUpperCase().includes(e)}const yoe=function(t,e,n,r,i){return y.useMemo(function(){if(!n||r===!1)return t;var o=e.options,s=e.label,a=e.value,l=[],c=typeof r=="function",u=n.toUpperCase(),d=c?r:function(h,g){return i?e8(g[i],u):g[o]?e8(g[s!=="children"?s:"label"],u):e8(g[a],u)},f=c?function(h){return I_(h)}:function(h){return h};return t.forEach(function(h){if(h[o]){var g=d(n,f(h));if(g)l.push(h);else{var x=h[o].filter(function(b){return d(n,f(b))});x.length&&l.push(_e(_e({},h),{},se({},o,x)))}return}d(n,f(h))&&l.push(h)}),l},[t,r,i,n,e])};var IN=0,xoe=uo();function boe(){var t;return xoe?(t=IN,IN+=1):t="TEST_OR_SSR",t}function Soe(t){var e=y.useState(),n=Ie(e,2),r=n[0],i=n[1];return y.useEffect(function(){i("rc_select_".concat(boe()))},[]),t||r}var _oe=["children","value"],woe=["children"];function Coe(t){var e=t,n=e.key,r=e.props,i=r.children,o=r.value,s=ln(r,_oe);return _e({key:n,value:o!==void 0?o:n,children:i},s)}function Rk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return hs(t).map(function(n,r){if(!y.isValidElement(n)||!n.type)return null;var i=n,o=i.type.isSelectOptGroup,s=i.key,a=i.props,l=a.children,c=ln(a,woe);return e||!o?Coe(n):_e(_e({key:"__RC_SELECT_GRP__".concat(s===null?r:s,"__"),label:s},c),{},{options:Rk(l)})}).filter(function(n){return n})}function Eoe(t,e,n,r,i){return y.useMemo(function(){var o=t,s=!t;s&&(o=Rk(e));var a=new Map,l=new Map,c=function(f,h,g){g&&typeof g=="string"&&f.set(h[g],h)};function u(d){for(var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=0;h<d.length;h+=1){var g=d[h];!g[n.options]||f?(a.set(g[n.value],g),c(l,g,n.label),c(l,g,r),c(l,g,i)):u(g[n.options],!0)}}return u(o),{options:o,valueOptions:a,labelOptions:l}},[t,e,n,r,i])}function ON(t){var e=y.useRef();e.current=t;var n=y.useCallback(function(){return e.current.apply(e,arguments)},[]);return n}var uE=function(){return null};uE.isSelectOptGroup=!0;var dE=function(){return null};dE.isSelectOption=!0;var Ak=y.forwardRef(function(t,e){var n=t.height,r=t.offsetY,i=t.offsetX,o=t.children,s=t.prefixCls,a=t.onInnerResize,l=t.innerProps,c=t.rtl,u=t.extra,d={},f={display:"flex",flexDirection:"column"};if(r!==void 0){var h;d={height:n,position:"relative",overflow:"hidden"},f=_e(_e({},f),{},(h={transform:"translateY(".concat(r,"px)")},se(h,c?"marginRight":"marginLeft",-i),se(h,"position","absolute"),se(h,"left",0),se(h,"right",0),se(h,"top",0),h))}return y.createElement("div",{style:d},y.createElement(pa,{onResize:function(x){var b=x.offsetHeight;b&&a&&a()}},y.createElement("div",ct({style:f,className:ye(se({},"".concat(s,"-holder-inner"),s)),ref:e},l),o,u)))});Ak.displayName="Filler";function LN(t,e){var n="touches"in t?t.touches[0]:t;return n[e?"pageX":"pageY"]}var DN=y.forwardRef(function(t,e){var n,r=t.prefixCls,i=t.rtl,o=t.scrollOffset,s=t.scrollRange,a=t.onStartMove,l=t.onStopMove,c=t.onScroll,u=t.horizontal,d=t.spinSize,f=t.containerSize,h=t.style,g=t.thumbStyle,x=y.useState(!1),b=Ie(x,2),v=b[0],_=b[1],S=y.useState(null),w=Ie(S,2),M=w[0],E=w[1],T=y.useState(null),N=Ie(T,2),R=N[0],P=N[1],L=!i,$=y.useRef(),V=y.useRef(),D=y.useState(!1),H=Ie(D,2),F=H[0],k=H[1],O=y.useRef(),B=function(){clearTimeout(O.current),k(!0),O.current=setTimeout(function(){k(!1)},3e3)},G=s-f||0,W=f-d||0,K=G>0,X=y.useMemo(function(){if(o===0||G===0)return 0;var Q=o/G;return Q*W},[o,G,W]),Y=function(fe){fe.stopPropagation(),fe.preventDefault()},te=y.useRef({top:X,dragging:v,pageY:M,startTop:R});te.current={top:X,dragging:v,pageY:M,startTop:R};var oe=function(fe){_(!0),E(LN(fe,u)),P(te.current.top),a(),fe.stopPropagation(),fe.preventDefault()};y.useEffect(function(){var Q=function(ue){ue.preventDefault()},fe=$.current,he=V.current;return fe.addEventListener("touchstart",Q),he.addEventListener("touchstart",oe),function(){fe.removeEventListener("touchstart",Q),he.removeEventListener("touchstart",oe)}},[]);var ie=y.useRef();ie.current=G;var le=y.useRef();le.current=W,y.useEffect(function(){if(v){var Q,fe=function(ue){var ke=te.current,ge=ke.dragging,j=ke.pageY,z=ke.startTop;if(jn.cancel(Q),ge){var ee=LN(ue,u)-j,xe=z;!L&&u?xe-=ee:xe+=ee;var Ne=ie.current,Ae=le.current,Fe=Ae?xe/Ae:0,Oe=Math.ceil(Fe*Ne);Oe=Math.max(Oe,0),Oe=Math.min(Oe,Ne),Q=jn(function(){c(Oe,u)})}},he=function(){_(!1),l()};return window.addEventListener("mousemove",fe),window.addEventListener("touchmove",fe),window.addEventListener("mouseup",he),window.addEventListener("touchend",he),function(){window.removeEventListener("mousemove",fe),window.removeEventListener("touchmove",fe),window.removeEventListener("mouseup",he),window.removeEventListener("touchend",he),jn.cancel(Q)}}},[v]),y.useEffect(function(){B()},[o]),y.useImperativeHandle(e,function(){return{delayHidden:B}});var ve="".concat(r,"-scrollbar"),me={position:"absolute",visibility:F&&K?null:"hidden"},we={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return u?(me.height=8,me.left=0,me.right=0,me.bottom=0,we.height="100%",we.width=d,L?we.left=X:we.right=X):(me.width=8,me.top=0,me.bottom=0,L?me.right=0:me.left=0,we.width="100%",we.height=d,we.top=X),y.createElement("div",{ref:$,className:ye(ve,(n={},se(n,"".concat(ve,"-horizontal"),u),se(n,"".concat(ve,"-vertical"),!u),se(n,"".concat(ve,"-visible"),F),n)),style:_e(_e({},me),h),onMouseDown:Y,onMouseMove:B},y.createElement("div",{ref:V,className:ye("".concat(ve,"-thumb"),se({},"".concat(ve,"-thumb-moving"),v)),style:_e(_e({},we),g),onMouseDown:oe}))});function Toe(t){var e=t.children,n=t.setRef,r=y.useCallback(function(i){n(i)},[]);return y.cloneElement(e,{ref:r})}function Moe(t,e,n,r,i,o,s){var a=s.getKey;return t.slice(e,n+1).map(function(l,c){var u=e+c,d=o(l,u,{style:{width:r}}),f=a(l);return y.createElement(Toe,{key:f,setRef:function(g){return i(l,g)}},d)})}var Roe=function(){function t(){Si(this,t),this.maps=void 0,this.id=0,this.maps=Object.create(null)}return _i(t,[{key:"set",value:function(n,r){this.maps[n]=r,this.id+=1}},{key:"get",value:function(n){return this.maps[n]}}]),t}();function Aoe(t,e,n){var r=y.useState(0),i=Ie(r,2),o=i[0],s=i[1],a=y.useRef(new Map),l=y.useRef(new Roe),c=y.useRef();function u(){jn.cancel(c.current)}function d(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;u();var g=function(){a.current.forEach(function(b,v){if(b&&b.offsetParent){var _=L5(b),S=_.offsetHeight;l.current.get(v)!==S&&l.current.set(v,_.offsetHeight)}}),s(function(b){return b+1})};h?g():c.current=jn(g)}function f(h,g){var x=t(h),b=a.current.get(x);g?(a.current.set(x,g),d()):a.current.delete(x),!b!=!g&&(g?e?.(h):n?.(h))}return y.useEffect(function(){return u},[]),[f,d,l.current,o]}var Poe=10;function Noe(t,e,n,r,i,o,s,a){var l=y.useRef(),c=y.useState(null),u=Ie(c,2),d=u[0],f=u[1];return sr(function(){if(d&&d.times<Poe){if(!t.current){f(function(B){return _e({},B)});return}o();var h=d.targetAlign,g=d.originAlign,x=d.index,b=d.offset,v=t.current.clientHeight,_=!1,S=h,w=null;if(v){for(var M=h||g,E=0,T=0,N=0,R=Math.min(e.length-1,x),P=0;P<=R;P+=1){var L=i(e[P]);T=E;var $=n.get(L);N=T+($===void 0?r:$),E=N}for(var V=M==="top"?b:v-b,D=R;D>=0;D-=1){var H=i(e[D]),F=n.get(H);if(F===void 0){_=!0;break}if(V-=F,V<=0)break}switch(M){case"top":w=T-b;break;case"bottom":w=N-v+b;break;default:{var k=t.current.scrollTop,O=k+v;T<k?S="top":N>O&&(S="bottom")}}w!==null&&s(w),w!==d.lastTop&&(_=!0)}_&&f(function(B){return _e(_e({},B),{},{times:B.times+1,targetAlign:S,lastTop:w})})}},[d,t.current]),function(h){if(h==null){a();return}if(jn.cancel(l.current),typeof h=="number")s(h);else if(h&&nn(h)==="object"){var g,x=h.align;"index"in h?g=h.index:g=e.findIndex(function(_){return i(_)===h.key});var b=h.offset,v=b===void 0?0:b;f({times:0,index:g,offset:v,originAlign:x})}}}function Ioe(t,e,n){var r=t.length,i=e.length,o,s;if(r===0&&i===0)return null;r<i?(o=t,s=e):(o=e,s=t);var a={__EMPTY_ITEM__:!0};function l(g){return g!==void 0?n(g):a}for(var c=null,u=Math.abs(r-i)!==1,d=0;d<s.length;d+=1){var f=l(o[d]),h=l(s[d]);if(f!==h){c=d,u=u||f!==l(s[d+1]);break}}return c===null?null:{index:c,multiple:u}}function Ooe(t,e,n){var r=y.useState(t),i=Ie(r,2),o=i[0],s=i[1],a=y.useState(null),l=Ie(a,2),c=l[0],u=l[1];return y.useEffect(function(){var d=Ioe(o||[],t||[],e);d?.index!==void 0&&(n?.(d.index),u(t[d.index])),s(t)},[t]),[c]}var FN=(typeof navigator>"u"?"undefined":nn(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const Pk=function(t,e){var n=y.useRef(!1),r=y.useRef(null);function i(){clearTimeout(r.current),n.current=!0,r.current=setTimeout(function(){n.current=!1},50)}var o=y.useRef({top:t,bottom:e});return o.current.top=t,o.current.bottom=e,function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=s<0&&o.current.top||s>0&&o.current.bottom;return a&&l?(clearTimeout(r.current),n.current=!1):(!l||n.current)&&i(),!n.current&&l}};function Loe(t,e,n,r,i){var o=y.useRef(0),s=y.useRef(null),a=y.useRef(null),l=y.useRef(!1),c=Pk(e,n);function u(b,v){jn.cancel(s.current),o.current+=v,a.current=v,!c(v)&&(FN||b.preventDefault(),s.current=jn(function(){var _=l.current?10:1;i(o.current*_),o.current=0}))}function d(b,v){i(v,!0),FN||b.preventDefault()}var f=y.useRef(null),h=y.useRef(null);function g(b){if(t){jn.cancel(h.current),h.current=jn(function(){f.current=null},2);var v=b.deltaX,_=b.deltaY,S=b.shiftKey,w=v,M=_;(f.current==="sx"||!f.current&&S&&_&&!v)&&(w=_,M=0,f.current="sx");var E=Math.abs(w),T=Math.abs(M);f.current===null&&(f.current=r&&E>T?"x":"y"),f.current==="y"?u(b,M):d(b,w)}}function x(b){t&&(l.current=b.detail===a.current)}return[g,x]}var Doe=14/15;function Foe(t,e,n){var r=y.useRef(!1),i=y.useRef(0),o=y.useRef(null),s=y.useRef(null),a,l=function(f){if(r.current){var h=Math.ceil(f.touches[0].pageY),g=i.current-h;i.current=h,n(g)&&f.preventDefault(),clearInterval(s.current),s.current=setInterval(function(){g*=Doe,(!n(g,!0)||Math.abs(g)<=.1)&&clearInterval(s.current)},16)}},c=function(){r.current=!1,a()},u=function(f){a(),f.touches.length===1&&!r.current&&(r.current=!0,i.current=Math.ceil(f.touches[0].pageY),o.current=f.target,o.current.addEventListener("touchmove",l),o.current.addEventListener("touchend",c))};a=function(){o.current&&(o.current.removeEventListener("touchmove",l),o.current.removeEventListener("touchend",c))},sr(function(){return t&&e.current.addEventListener("touchstart",u),function(){var d;(d=e.current)===null||d===void 0||d.removeEventListener("touchstart",u),a(),clearInterval(s.current)}},[t])}var $oe=20;function $N(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t/e*100;return isNaN(n)&&(n=0),n=Math.max(n,$oe),n=Math.min(n,t/2),Math.floor(n)}function Uoe(t,e,n,r){var i=y.useMemo(function(){return[new Map,[]]},[t,n.id,r]),o=Ie(i,2),s=o[0],a=o[1],l=function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u,f=s.get(u),h=s.get(d);if(f===void 0||h===void 0)for(var g=t.length,x=a.length;x<g;x+=1){var b,v=t[x],_=e(v);s.set(_,x);var S=(b=n.get(_))!==null&&b!==void 0?b:r;if(a[x]=(a[x-1]||0)+S,_===u&&(f=x),_===d&&(h=x),f!==void 0&&h!==void 0)break}return{top:a[f-1]||0,bottom:a[h]}};return l}var Boe=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],koe=[],zoe={overflowY:"auto",overflowAnchor:"none"};function Voe(t,e){var n=t.prefixCls,r=n===void 0?"rc-virtual-list":n,i=t.className,o=t.height,s=t.itemHeight,a=t.fullHeight,l=a===void 0?!0:a,c=t.style,u=t.data,d=t.children,f=t.itemKey,h=t.virtual,g=t.direction,x=t.scrollWidth,b=t.component,v=b===void 0?"div":b,_=t.onScroll,S=t.onVirtualScroll,w=t.onVisibleChange,M=t.innerProps,E=t.extraRender,T=t.styles,N=ln(t,Boe),R=!!(h!==!1&&o&&s),P=R&&u&&(s*u.length>o||!!x),L=g==="rtl",$=ye(r,se({},"".concat(r,"-rtl"),L),i),V=u||koe,D=y.useRef(),H=y.useRef(),F=y.useState(0),k=Ie(F,2),O=k[0],B=k[1],G=y.useState(0),W=Ie(G,2),K=W[0],X=W[1],Y=y.useState(!1),te=Ie(Y,2),oe=te[0],ie=te[1],le=function(){ie(!0)},ve=function(){ie(!1)},me=y.useCallback(function(Ct){return typeof f=="function"?f(Ct):Ct?.[f]},[f]),we={getKey:me};function Q(Ct){B(function(q){var de;typeof Ct=="function"?de=Ct(q):de=Ct;var Se=ce(de);return D.current.scrollTop=Se,Se})}var fe=y.useRef({start:0,end:V.length}),he=y.useRef(),Ee=Ooe(V,me),ue=Ie(Ee,1),ke=ue[0];he.current=ke;var ge=Aoe(me,null,null),j=Ie(ge,4),z=j[0],ee=j[1],xe=j[2],Ne=j[3],Ae=y.useMemo(function(){if(!R)return{scrollHeight:void 0,start:0,end:V.length-1,offset:void 0};if(!P){var Ct;return{scrollHeight:((Ct=H.current)===null||Ct===void 0?void 0:Ct.offsetHeight)||0,start:0,end:V.length-1,offset:void 0}}for(var q=0,de,Se,De,$e=V.length,_t=0;_t<$e;_t+=1){var Nt=V[_t],zt=me(Nt),$t=xe.get(zt),qt=q+($t===void 0?s:$t);qt>=O&&de===void 0&&(de=_t,Se=q),qt>O+o&&De===void 0&&(De=_t),q=qt}return de===void 0&&(de=0,Se=0,De=Math.ceil(o/s)),De===void 0&&(De=V.length-1),De=Math.min(De+1,V.length-1),{scrollHeight:q,start:de,end:De,offset:Se}},[P,R,O,V,Ne,o]),Fe=Ae.scrollHeight,Oe=Ae.start,We=Ae.end,ht=Ae.offset;fe.current.start=Oe,fe.current.end=We;var Ge=y.useState({width:0,height:o}),Te=Ie(Ge,2),nt=Te[0],at=Te[1],rt=function(q){at(q)},st=y.useRef(),Ze=y.useRef(),re=y.useMemo(function(){return $N(nt.width,x)},[nt.width,x]),Ve=y.useMemo(function(){return $N(nt.height,Fe)},[nt.height,Fe]),Qe=Fe-o,lt=y.useRef(Qe);lt.current=Qe;function ce(Ct){var q=Ct;return Number.isNaN(lt.current)||(q=Math.min(q,lt.current)),q=Math.max(q,0),q}var Z=O<=0,Re=O>=Qe,Pe=Pk(Z,Re),Je=function(){return{x:L?-K:K,y:O}},ft=y.useRef(Je()),wt=Eo(function(){if(S){var Ct=Je();(ft.current.x!==Ct.x||ft.current.y!==Ct.y)&&(S(Ct),ft.current=Ct)}});function mt(Ct,q){var de=Ct;q?(xa.flushSync(function(){X(de)}),wt()):Q(de)}function Ye(Ct){var q=Ct.currentTarget.scrollTop;q!==O&&Q(q),_?.(Ct),wt()}var dt=function(q){var de=q,Se=x-nt.width;return de=Math.max(de,0),de=Math.min(de,Se),de},it=Eo(function(Ct,q){q?(xa.flushSync(function(){X(function(de){var Se=de+(L?-Ct:Ct);return dt(Se)})}),wt()):Q(function(de){var Se=de+Ct;return Se})}),gt=Loe(R,Z,Re,!!x,it),sn=Ie(gt,2),gn=sn[0],Zn=sn[1];Foe(R,D,function(Ct,q){return Pe(Ct,q)?!1:(gn({preventDefault:function(){},deltaY:Ct}),!0)}),sr(function(){function Ct(de){R&&de.preventDefault()}var q=D.current;return q.addEventListener("wheel",gn),q.addEventListener("DOMMouseScroll",Zn),q.addEventListener("MozMousePixelScroll",Ct),function(){q.removeEventListener("wheel",gn),q.removeEventListener("DOMMouseScroll",Zn),q.removeEventListener("MozMousePixelScroll",Ct)}},[R]),sr(function(){x&&X(function(Ct){return dt(Ct)})},[nt.width,x]);var Xn=function(){var q,de;(q=st.current)===null||q===void 0||q.delayHidden(),(de=Ze.current)===null||de===void 0||de.delayHidden()},Wn=Noe(D,V,xe,s,me,function(){return ee(!0)},Q,Xn);y.useImperativeHandle(e,function(){return{getScrollInfo:Je,scrollTo:function(q){function de(Se){return Se&&nn(Se)==="object"&&("left"in Se||"top"in Se)}de(q)?(q.left!==void 0&&X(dt(q.left)),Wn(q.top)):Wn(q)}}}),sr(function(){if(w){var Ct=V.slice(Oe,We+1);w(Ct,V)}},[Oe,We,V]);var dn=Uoe(V,me,xe,s),ar=E?.({start:Oe,end:We,virtual:P,offsetX:K,offsetY:ht,rtl:L,getSize:dn}),Pr=Moe(V,Oe,We,x,z,d,we),vn=null;o&&(vn=_e(se({},l?"height":"maxHeight",o),zoe),R&&(vn.overflowY="hidden",x&&(vn.overflowX="hidden"),oe&&(vn.pointerEvents="none")));var an={};return L&&(an.dir="rtl"),y.createElement("div",ct({style:_e(_e({},c),{},{position:"relative"}),className:$},an,N),y.createElement(pa,{onResize:rt},y.createElement(v,{className:"".concat(r,"-holder"),style:vn,ref:D,onScroll:Ye,onMouseEnter:Xn},y.createElement(Ak,{prefixCls:r,height:Fe,offsetX:K,offsetY:ht,scrollWidth:x,onInnerResize:ee,ref:H,innerProps:M,rtl:L,extra:ar},Pr))),P&&Fe>o&&y.createElement(DN,{ref:st,prefixCls:r,scrollOffset:O,scrollRange:Fe,rtl:L,onScroll:mt,onStartMove:le,onStopMove:ve,spinSize:Ve,containerSize:nt.height,style:T?.verticalScrollBar,thumbStyle:T?.verticalScrollBarThumb}),P&&x&&y.createElement(DN,{ref:Ze,prefixCls:r,scrollOffset:K,scrollRange:x,rtl:L,onScroll:mt,onStartMove:le,onStopMove:ve,spinSize:re,containerSize:nt.width,horizontal:!0,style:T?.horizontalScrollBar,thumbStyle:T?.horizontalScrollBarThumb}))}var Nk=y.forwardRef(Voe);Nk.displayName="List";var Ik=y.createContext(null);function Hoe(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var Goe=["disabled","title","children","style","className"];function UN(t){return typeof t=="string"||typeof t=="number"}var Woe=function(e,n){var r=Eie(),i=r.prefixCls,o=r.id,s=r.open,a=r.multiple,l=r.mode,c=r.searchValue,u=r.toggleOpen,d=r.notFoundContent,f=r.onPopupScroll,h=y.useContext(Ik),g=h.flattenOptions,x=h.onActiveValue,b=h.defaultActiveFirstOption,v=h.onSelect,_=h.menuItemSelectedIcon,S=h.rawValues,w=h.fieldNames,M=h.virtual,E=h.direction,T=h.listHeight,N=h.listItemHeight,R="".concat(i,"-item"),P=p3(function(){return g},[s,g],function(ie,le){return le[0]&&ie[1]!==le[1]}),L=y.useRef(null),$=function(le){le.preventDefault()},V=function(le){L.current&&L.current.scrollTo(typeof le=="number"?{index:le}:le)},D=function(le){for(var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,me=P.length,we=0;we<me;we+=1){var Q=(le+we*ve+me)%me,fe=P[Q],he=fe.group,Ee=fe.data;if(!he&&!Ee.disabled)return Q}return-1},H=y.useState(function(){return D(0)}),F=Ie(H,2),k=F[0],O=F[1],B=function(le){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;O(le);var me={source:ve?"keyboard":"mouse"},we=P[le];if(!we){x(null,-1,me);return}x(we.value,le,me)};y.useEffect(function(){B(b!==!1?D(0):-1)},[P.length,c]);var G=y.useCallback(function(ie){return S.has(ie)&&l!=="combobox"},[l,St(S).toString(),S.size]);y.useEffect(function(){var ie=setTimeout(function(){if(!a&&s&&S.size===1){var ve=Array.from(S)[0],me=P.findIndex(function(we){var Q=we.data;return Q.value===ve});me!==-1&&(B(me),V(me))}});if(s){var le;(le=L.current)===null||le===void 0||le.scrollTo(void 0)}return function(){return clearTimeout(ie)}},[s,c,g.length]);var W=function(le){le!==void 0&&v(le,{selected:!S.has(le)}),a||u(!1)};if(y.useImperativeHandle(n,function(){return{onKeyDown:function(le){var ve=le.which,me=le.ctrlKey;switch(ve){case ot.N:case ot.P:case ot.UP:case ot.DOWN:{var we=0;if(ve===ot.UP?we=-1:ve===ot.DOWN?we=1:Hoe()&&me&&(ve===ot.N?we=1:ve===ot.P&&(we=-1)),we!==0){var Q=D(k+we,we);V(Q),B(Q,!0)}break}case ot.ENTER:{var fe=P[k];fe&&!fe.data.disabled?W(fe.value):W(void 0),s&&le.preventDefault();break}case ot.ESC:u(!1),s&&le.stopPropagation()}},onKeyUp:function(){},scrollTo:function(le){V(le)}}}),P.length===0)return y.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(R,"-empty"),onMouseDown:$},d);var K=Object.keys(w).map(function(ie){return w[ie]}),X=function(le){return le.label};function Y(ie,le){var ve=ie.group;return{role:ve?"presentation":"option",id:"".concat(o,"_list_").concat(le)}}var te=function(le){var ve=P[le];if(!ve)return null;var me=ve.data||{},we=me.value,Q=ve.group,fe=pm(me,!0),he=X(ve);return ve?y.createElement("div",ct({"aria-label":typeof he=="string"&&!Q?he:null},fe,{key:le},Y(ve,le),{"aria-selected":G(we)}),we):null},oe={role:"listbox",id:"".concat(o,"_list")};return y.createElement(y.Fragment,null,M&&y.createElement("div",ct({},oe,{style:{height:0,width:0,overflow:"hidden"}}),te(k-1),te(k),te(k+1)),y.createElement(Nk,{itemKey:"key",ref:L,data:P,height:T,itemHeight:N,fullHeight:!1,onMouseDown:$,onScroll:f,virtual:M,direction:E,innerProps:M?null:oe},function(ie,le){var ve,me=ie.group,we=ie.groupOption,Q=ie.data,fe=ie.label,he=ie.value,Ee=Q.key;if(me){var ue,ke=(ue=Q.title)!==null&&ue!==void 0?ue:UN(fe)?fe.toString():void 0;return y.createElement("div",{className:ye(R,"".concat(R,"-group")),title:ke},fe!==void 0?fe:Ee)}var ge=Q.disabled,j=Q.title;Q.children;var z=Q.style,ee=Q.className,xe=ln(Q,Goe),Ne=fi(xe,K),Ae=G(he),Fe="".concat(R,"-option"),Oe=ye(R,Fe,ee,(ve={},se(ve,"".concat(Fe,"-grouped"),we),se(ve,"".concat(Fe,"-active"),k===le&&!ge),se(ve,"".concat(Fe,"-disabled"),ge),se(ve,"".concat(Fe,"-selected"),Ae),ve)),We=X(ie),ht=!_||typeof _=="function"||Ae,Ge=typeof We=="number"?We:We||he,Te=UN(Ge)?Ge.toString():void 0;return j!==void 0&&(Te=j),y.createElement("div",ct({},pm(Ne),M?{}:Y(ie,le),{"aria-selected":Ae,className:Oe,title:Te,onMouseMove:function(){k===le||ge||B(le)},onClick:function(){ge||W(he)},style:z}),y.createElement("div",{className:"".concat(Fe,"-content")},Ge),y.isValidElement(_)||Ae,ht&&y.createElement(E6,{className:"".concat(R,"-option-state"),customizeIcon:_,customizeIconProps:{isSelected:Ae}},Ae?"":null))}))},Ok=y.forwardRef(Woe);Ok.displayName="OptionList";var joe=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],Xoe=["inputValue"];function qoe(t){return!t||nn(t)!=="object"}var Koe=y.forwardRef(function(t,e){var n=t.id,r=t.mode,i=t.prefixCls,o=i===void 0?"rc-select":i,s=t.backfill,a=t.fieldNames,l=t.inputValue,c=t.searchValue,u=t.onSearch,d=t.autoClearSearchValue,f=d===void 0?!0:d,h=t.onSelect,g=t.onDeselect,x=t.dropdownMatchSelectWidth,b=x===void 0?!0:x,v=t.filterOption,_=t.filterSort,S=t.optionFilterProp,w=t.optionLabelProp,M=t.options,E=t.children,T=t.defaultActiveFirstOption,N=t.menuItemSelectedIcon,R=t.virtual,P=t.direction,L=t.listHeight,$=L===void 0?200:L,V=t.listItemHeight,D=V===void 0?20:V,H=t.value,F=t.defaultValue,k=t.labelInValue,O=t.onChange,B=ln(t,joe),G=Soe(n),W=O_(r),K=!!(!M&&E),X=y.useMemo(function(){return v===void 0&&r==="combobox"?!1:v},[v,r]),Y=y.useMemo(function(){return Mk(a,K)},[JSON.stringify(a),K]),te=ei("",{value:c!==void 0?c:l,postState:function(dt){return dt||""}}),oe=Ie(te,2),ie=oe[0],le=oe[1],ve=Eoe(M,E,Y,S,w),me=ve.valueOptions,we=ve.labelOptions,Q=ve.options,fe=y.useCallback(function(Ye){var dt=wk(Ye);return dt.map(function(it){var gt,sn,gn,Zn,Xn;if(qoe(it))gt=it;else{var Wn;gn=it.key,sn=it.label,gt=(Wn=it.value)!==null&&Wn!==void 0?Wn:gn}var dn=me.get(gt);if(dn){var ar;sn===void 0&&(sn=dn?.[w||Y.label]),gn===void 0&&(gn=(ar=dn?.key)!==null&&ar!==void 0?ar:gt),Zn=dn?.disabled,Xn=dn?.title}return{label:sn,value:gt,key:gn,disabled:Zn,title:Xn}})},[Y,w,me]),he=ei(F,{value:H}),Ee=Ie(he,2),ue=Ee[0],ke=Ee[1],ge=y.useMemo(function(){var Ye,dt=fe(ue);return r==="combobox"&&Hie((Ye=dt[0])===null||Ye===void 0?void 0:Ye.value)?[]:dt},[ue,fe,r]),j=voe(ge,me),z=Ie(j,2),ee=z[0],xe=z[1],Ne=y.useMemo(function(){if(!r&&ee.length===1){var Ye=ee[0];if(Ye.value===null&&(Ye.label===null||Ye.label===void 0))return[]}return ee.map(function(dt){var it;return _e(_e({},dt),{},{label:(it=dt.label)!==null&&it!==void 0?it:dt.value})})},[r,ee]),Ae=y.useMemo(function(){return new Set(ee.map(function(Ye){return Ye.value}))},[ee]);y.useEffect(function(){if(r==="combobox"){var Ye,dt=(Ye=ee[0])===null||Ye===void 0?void 0:Ye.value;le(Vie(dt)?String(dt):"")}},[ee]);var Fe=ON(function(Ye,dt){var it,gt=dt??Ye;return it={},se(it,Y.value,Ye),se(it,Y.label,gt),it}),Oe=y.useMemo(function(){if(r!=="tags")return Q;var Ye=St(Q),dt=function(gt){return me.has(gt)};return St(ee).sort(function(it,gt){return it.value<gt.value?-1:1}).forEach(function(it){var gt=it.value;dt(gt)||Ye.push(Fe(gt,it.label))}),Ye},[Fe,Q,me,ee,r]),We=yoe(Oe,Y,ie,X,S),ht=y.useMemo(function(){return r!=="tags"||!ie||We.some(function(Ye){return Ye[S||"value"]===ie})||We.some(function(Ye){return Ye[Y.value]===ie})?We:[Fe(ie)].concat(St(We))},[Fe,S,r,We,ie,Y]),Ge=y.useMemo(function(){return _?St(ht).sort(function(Ye,dt){return _(Ye,dt)}):ht},[ht,_]),Te=y.useMemo(function(){return foe(Ge,{fieldNames:Y,childrenAsData:K})},[Ge,Y,K]),nt=function(dt){var it=fe(dt);if(ke(it),O&&(it.length!==ee.length||it.some(function(gn,Zn){var Xn;return((Xn=ee[Zn])===null||Xn===void 0?void 0:Xn.value)!==gn?.value}))){var gt=k?it:it.map(function(gn){return gn.value}),sn=it.map(function(gn){return I_(xe(gn.value))});O(W?gt:gt[0],W?sn:sn[0])}},at=y.useState(null),rt=Ie(at,2),st=rt[0],Ze=rt[1],re=y.useState(0),Ve=Ie(re,2),Qe=Ve[0],lt=Ve[1],ce=T!==void 0?T:r!=="combobox",Z=y.useCallback(function(Ye,dt){var it=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},gt=it.source,sn=gt===void 0?"keyboard":gt;lt(dt),s&&r==="combobox"&&Ye!==null&&sn==="keyboard"&&Ze(String(Ye))},[s,r]),Re=function(dt,it,gt){var sn=function(){var Ct,q=xe(dt);return[k?{label:q?.[Y.label],value:dt,key:(Ct=q?.key)!==null&&Ct!==void 0?Ct:dt}:dt,I_(q)]};if(it&&h){var gn=sn(),Zn=Ie(gn,2),Xn=Zn[0],Wn=Zn[1];h(Xn,Wn)}else if(!it&&g&&gt!=="clear"){var dn=sn(),ar=Ie(dn,2),Pr=ar[0],vn=ar[1];g(Pr,vn)}},Pe=ON(function(Ye,dt){var it,gt=W?dt.selected:!0;gt?it=W?[].concat(St(ee),[Ye]):[Ye]:it=ee.filter(function(sn){return sn.value!==Ye}),nt(it),Re(Ye,gt),r==="combobox"?Ze(""):(!O_||f)&&(le(""),Ze(""))}),Je=function(dt,it){nt(dt);var gt=it.type,sn=it.values;(gt==="remove"||gt==="clear")&&sn.forEach(function(gn){Re(gn.value,!1,gt)})},ft=function(dt,it){if(le(dt),Ze(null),it.source==="submit"){var gt=(dt||"").trim();if(gt){var sn=Array.from(new Set([].concat(St(Ae),[gt])));nt(sn),Re(gt,!0),le("")}return}it.source!=="blur"&&(r==="combobox"&&nt(dt),u?.(dt))},wt=function(dt){var it=dt;r!=="tags"&&(it=dt.map(function(sn){var gn=we.get(sn);return gn?.value}).filter(function(sn){return sn!==void 0}));var gt=Array.from(new Set([].concat(St(Ae),St(it))));nt(gt),gt.forEach(function(sn){Re(sn,!0)})},mt=y.useMemo(function(){var Ye=R!==!1&&b!==!1;return _e(_e({},ve),{},{flattenOptions:Te,onActiveValue:Z,defaultActiveFirstOption:ce,onSelect:Pe,menuItemSelectedIcon:N,rawValues:Ae,fieldNames:Y,virtual:Ye,direction:P,listHeight:$,listItemHeight:D,childrenAsData:K})},[ve,Te,Z,ce,Pe,N,Ae,Y,R,b,$,D,K]);return y.createElement(Ik.Provider,{value:mt},y.createElement(goe,ct({},B,{id:G,prefixCls:o,ref:e,omitDomProps:Xoe,mode:r,displayValues:Ne,onDisplayValuesChange:Je,direction:P,searchValue:ie,onSearch:ft,autoClearSearchValue:f,onSearchSplit:wt,dropdownMatchSelectWidth:b,OptionList:Ok,emptyOptions:!Te.length,activeValue:st,activeDescendantId:"".concat(G,"_list_").concat(Qe)})))}),fE=Koe;fE.Option=dE;fE.OptGroup=uE;function Il(t,e,n){return ye({[`${t}-status-success`]:e==="success",[`${t}-status-warning`]:e==="warning",[`${t}-status-error`]:e==="error",[`${t}-status-validating`]:e==="validating",[`${t}-has-feedback`]:n})}const M6=(t,e)=>e||t,Yoe=()=>{const[,t]=Ea(),n=new ci(t.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return y.createElement("svg",{style:n,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},y.createElement("g",{fill:"none",fillRule:"evenodd"},y.createElement("g",{transform:"translate(24 31.67)"},y.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),y.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),y.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),y.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),y.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),y.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),y.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},y.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),y.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},Zoe=Yoe,Qoe=()=>{const[,t]=Ea(),{colorFill:e,colorFillTertiary:n,colorFillQuaternary:r,colorBgContainer:i}=t,{borderColor:o,shadowColor:s,contentColor:a}=y.useMemo(()=>({borderColor:new ci(e).onBackground(i).toHexShortString(),shadowColor:new ci(n).onBackground(i).toHexShortString(),contentColor:new ci(r).onBackground(i).toHexShortString()}),[e,n,r,i]);return y.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},y.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},y.createElement("ellipse",{fill:s,cx:"32",cy:"33",rx:"32",ry:"7"}),y.createElement("g",{fillRule:"nonzero",stroke:o},y.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),y.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:a}))))},Joe=Qoe,ese=t=>{const{componentCls:e,margin:n,marginXS:r,marginXL:i,fontSize:o,lineHeight:s}=t;return{[e]:{marginInline:r,fontSize:o,lineHeight:s,textAlign:"center",[`${e}-image`]:{height:t.emptyImgHeight,marginBottom:r,opacity:t.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${e}-description`]:{color:t.colorText},[`${e}-footer`]:{marginTop:n},"&-normal":{marginBlock:i,color:t.colorTextDisabled,[`${e}-description`]:{color:t.colorTextDisabled},[`${e}-image`]:{height:t.emptyImgHeightMD}},"&-small":{marginBlock:r,color:t.colorTextDisabled,[`${e}-image`]:{height:t.emptyImgHeightSM}}}}},tse=yr("Empty",t=>{const{componentCls:e,controlHeightLG:n}=t,r=wn(t,{emptyImgCls:`${e}-img`,emptyImgHeight:n*2.5,emptyImgHeightMD:n,emptyImgHeightSM:n*.875});return[ese(r)]});var nse=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Lk=y.createElement(Zoe,null),Dk=y.createElement(Joe,null),hE=t=>{var{className:e,rootClassName:n,prefixCls:r,image:i=Lk,description:o,children:s,imageStyle:a,style:l}=t,c=nse(t,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:u,direction:d,empty:f}=y.useContext(Zt),h=u("empty",r),[g,x]=tse(h),[b]=g3("Empty"),v=typeof o<"u"?o:b?.description,_=typeof v=="string"?v:"empty";let S=null;return typeof i=="string"?S=y.createElement("img",{alt:_,src:i}):S=i,g(y.createElement("div",Object.assign({className:ye(x,h,f?.className,{[`${h}-normal`]:i===Dk,[`${h}-rtl`]:d==="rtl"},e,n),style:Object.assign(Object.assign({},f?.style),l)},c),y.createElement("div",{className:`${h}-image`,style:a},S),v&&y.createElement("div",{className:`${h}-description`},v),s&&y.createElement("div",{className:`${h}-footer`},s)))};hE.PRESENTED_IMAGE_DEFAULT=Lk;hE.PRESENTED_IMAGE_SIMPLE=Dk;const eg=hE,rse=t=>{const{componentName:e}=t,{getPrefixCls:n}=y.useContext(Zt),r=n("empty");switch(e){case"Table":case"List":return ae.createElement(eg,{image:eg.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return ae.createElement(eg,{image:eg.PRESENTED_IMAGE_SIMPLE,className:`${r}-small`});default:return ae.createElement(eg,null)}},Fk=rse,ise=t=>{const{optionHeight:e,optionFontSize:n,optionLineHeight:r,optionPadding:i}=t;return{position:"relative",display:"block",minHeight:e,padding:i,color:t.colorText,fontWeight:"normal",fontSize:n,lineHeight:r,boxSizing:"border-box"}},ose=t=>{const{antCls:e,componentCls:n}=t,r=`${n}-item`,i=`&${e}-slide-up-enter${e}-slide-up-enter-active`,o=`&${e}-slide-up-appear${e}-slide-up-appear-active`,s=`&${e}-slide-up-leave${e}-slide-up-leave-active`,a=`${n}-dropdown-placement-`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},Vr(t)),{position:"absolute",top:-9999,zIndex:t.zIndexPopup,boxSizing:"border-box",padding:t.paddingXXS,overflow:"hidden",fontSize:t.fontSize,fontVariant:"initial",backgroundColor:t.colorBgElevated,borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary,[`
          ${i}${a}bottomLeft,
          ${o}${a}bottomLeft
        `]:{animationName:rE},[`
          ${i}${a}topLeft,
          ${o}${a}topLeft,
          ${i}${a}topRight,
          ${o}${a}topRight
        `]:{animationName:oE},[`${s}${a}bottomLeft`]:{animationName:iE},[`
          ${s}${a}topLeft,
          ${s}${a}topRight
        `]:{animationName:sE},"&-hidden":{display:"none"},[`${r}`]:Object.assign(Object.assign({},ise(t)),{cursor:"pointer",transition:`background ${t.motionDurationSlow} ease`,borderRadius:t.borderRadiusSM,"&-group":{color:t.colorTextDescription,fontSize:t.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},Oc),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:t.optionActiveBg},[`&-selected:not(${r}-option-disabled)`]:{color:t.optionSelectedColor,fontWeight:t.optionSelectedFontWeight,backgroundColor:t.optionSelectedBg,[`${r}-option-state`]:{color:t.colorPrimary}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:t.colorBgContainerDisabled},color:t.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:t.controlPaddingHorizontal*2}}}),"&-rtl":{direction:"rtl"}})},Wu(t,"slide-up"),Wu(t,"slide-down"),W5(t,"move-up"),W5(t,"move-down")]},sse=ose,Mh=2,$k=t=>{let{multipleSelectItemHeight:e,selectHeight:n,lineWidth:r}=t;const i=(n-e)/2-r,o=Math.ceil(i/2);return[i,o]};function t8(t,e){const{componentCls:n,iconCls:r}=t,i=`${n}-selection-overflow`,o=t.multipleSelectItemHeight,[s]=$k(t),a=e?`${n}-${e}`:"";return{[`${n}-multiple${a}`]:{fontSize:t.fontSize,[i]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}},[`${n}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",padding:`${s-Mh}px ${Mh*2}px`,borderRadius:t.borderRadius,[`${n}-show-search&`]:{cursor:"text"},[`${n}-disabled&`]:{background:t.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${Mh}px 0`,lineHeight:`${o}px`,visibility:"hidden",content:'"\\a0"'}},[`
        &${n}-show-arrow ${n}-selector,
        &${n}-allow-clear ${n}-selector
      `]:{paddingInlineEnd:t.fontSizeIcon+t.controlPaddingHorizontal},[`${n}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:o,marginTop:Mh,marginBottom:Mh,lineHeight:`${o-t.lineWidth*2}px`,background:t.multipleItemBg,border:`${t.lineWidth}px ${t.lineType} ${t.multipleItemBorderColor}`,borderRadius:t.borderRadiusSM,cursor:"default",transition:`font-size ${t.motionDurationSlow}, line-height ${t.motionDurationSlow}, height ${t.motionDurationSlow}`,marginInlineEnd:Mh*2,paddingInlineStart:t.paddingXS,paddingInlineEnd:t.paddingXS/2,[`${n}-disabled&`]:{color:t.multipleItemColorDisabled,borderColor:t.multipleItemBorderColorDisabled,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:t.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},e0()),{display:"inline-flex",alignItems:"center",color:t.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${r}`]:{verticalAlign:"-0.2em"},"&:hover":{color:t.colorIconHover}})},[`${i}-item + ${i}-item`]:{[`${n}-selection-search`]:{marginInlineStart:0}},[`${i}-item-suffix`]:{height:"100%"},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:t.inputPaddingHorizontalBase-s,"\n          &-input,\n          &-mirror\n        ":{height:o,fontFamily:t.fontFamily,lineHeight:`${o}px`,transition:`all ${t.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:t.inputPaddingHorizontalBase,insetInlineEnd:t.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${t.motionDurationSlow}`}}}}const ase=t=>{const{componentCls:e}=t,n=wn(t,{selectHeight:t.controlHeightSM,multipleSelectItemHeight:t.controlHeightXS,borderRadius:t.borderRadiusSM,borderRadiusSM:t.borderRadiusXS}),r=wn(t,{fontSize:t.fontSizeLG,selectHeight:t.controlHeightLG,multipleSelectItemHeight:t.multipleItemHeightLG,borderRadius:t.borderRadiusLG,borderRadiusSM:t.borderRadius}),[,i]=$k(t);return[t8(t),t8(n,"sm"),{[`${e}-multiple${e}-sm`]:{[`${e}-selection-placeholder`]:{insetInline:t.controlPaddingHorizontalSM-t.lineWidth},[`${e}-selection-search`]:{marginInlineStart:i}}},t8(r,"lg")]},lse=ase;function n8(t,e){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:i}=t,o=t.controlHeight-t.lineWidth*2,s=Math.ceil(t.fontSize*1.25),a=e?`${n}-${e}`:"";return{[`${n}-single${a}`]:{fontSize:t.fontSize,height:t.controlHeight,[`${n}-selector`]:Object.assign(Object.assign({},Vr(t)),{display:"flex",borderRadius:i,[`${n}-selection-search`]:{position:"absolute",top:0,insetInlineStart:r,insetInlineEnd:r,bottom:0,"&-input":{width:"100%"}},[`
          ${n}-selection-item,
          ${n}-selection-placeholder
        `]:{padding:0,lineHeight:`${o}px`,transition:`all ${t.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:empty:after`,`${n}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${n}-show-arrow ${n}-selection-item,
        &${n}-show-arrow ${n}-selection-placeholder
      `]:{paddingInlineEnd:s},[`&${n}-open ${n}-selection-item`]:{color:t.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:"100%",padding:`0 ${r}px`,[`${n}-selection-search-input`]:{height:o},"&:after":{lineHeight:`${o}px`}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${r}px`,"&:after":{display:"none"}}}}}}}function cse(t){const{componentCls:e}=t,n=t.controlPaddingHorizontalSM-t.lineWidth;return[n8(t),n8(wn(t,{controlHeight:t.controlHeightSM,borderRadius:t.borderRadiusSM}),"sm"),{[`${e}-single${e}-sm`]:{[`&:not(${e}-customize-input)`]:{[`${e}-selection-search`]:{insetInlineStart:n,insetInlineEnd:n},[`${e}-selector`]:{padding:`0 ${n}px`},[`&${e}-show-arrow ${e}-selection-search`]:{insetInlineEnd:n+t.fontSize*1.5},[`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]:{paddingInlineEnd:t.fontSize*1.5}}}},n8(wn(t,{controlHeight:t.singleItemHeightLG,fontSize:t.fontSizeLG,borderRadius:t.borderRadiusLG}),"lg")]}const use=t=>{const{componentCls:e,selectorBg:n}=t;return{position:"relative",backgroundColor:n,border:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,input:{cursor:"pointer"},[`${e}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${e}-disabled&`]:{color:t.colorTextDisabled,background:t.colorBgContainerDisabled,cursor:"not-allowed",[`${e}-multiple&`]:{background:t.multipleSelectorBgDisabled},input:{cursor:"not-allowed"}}}},r8=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{componentCls:r,borderHoverColor:i,outlineColor:o,antCls:s}=e,a=n?{[`${r}-selector`]:{borderColor:i}}:{};return{[t]:{[`&:not(${r}-disabled):not(${r}-customize-input):not(${s}-pagination-size-changer)`]:Object.assign(Object.assign({},a),{[`${r}-focused& ${r}-selector`]:{borderColor:i,boxShadow:`0 0 0 ${e.controlOutlineWidth}px ${o}`,outline:0},[`&:hover ${r}-selector`]:{borderColor:i}})}}},dse=t=>{const{componentCls:e}=t;return{[`${e}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},fse=t=>{const{antCls:e,componentCls:n,inputPaddingHorizontalBase:r,iconCls:i}=t;return{[n]:Object.assign(Object.assign({},Vr(t)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${n}-customize-input) ${n}-selector`]:Object.assign(Object.assign({},use(t)),dse(t)),[`${n}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},Oc),{[`> ${e}-typography`]:{display:"inline"}}),[`${n}-selection-placeholder`]:Object.assign(Object.assign({},Oc),{flex:1,color:t.colorTextPlaceholder,pointerEvents:"none"}),[`${n}-arrow`]:Object.assign(Object.assign({},e0()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,height:t.fontSizeIcon,marginTop:-t.fontSizeIcon/2,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",[i]:{verticalAlign:"top",transition:`transform ${t.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${n}-suffix)`]:{pointerEvents:"auto"}},[`${n}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,zIndex:1,display:"inline-block",width:t.fontSizeIcon,height:t.fontSizeIcon,marginTop:-t.fontSizeIcon/2,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:t.clearBg,cursor:"pointer",opacity:0,transition:`color ${t.motionDurationMid} ease, opacity ${t.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:t.colorTextTertiary}},"&:hover":{[`${n}-clear`]:{opacity:1}}}),[`${n}-has-feedback`]:{[`${n}-clear`]:{insetInlineEnd:r+t.fontSize+t.paddingXS}}}},hse=t=>{const{componentCls:e}=t;return[{[e]:{[`&-borderless ${e}-selector`]:{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"},[`&${e}-in-form-item`]:{width:"100%"}}},fse(t),cse(t),lse(t),sse(t),{[`${e}-rtl`]:{direction:"rtl"}},r8(e,wn(t,{borderHoverColor:t.colorPrimaryHover,outlineColor:t.controlOutline})),r8(`${e}-status-error`,wn(t,{borderHoverColor:t.colorErrorHover,outlineColor:t.colorErrorOutline}),!0),r8(`${e}-status-warning`,wn(t,{borderHoverColor:t.colorWarningHover,outlineColor:t.colorWarningOutline}),!0),S6(t,{borderElCls:`${e}-selector`,focusElCls:`${e}-focused`})]},pse=yr("Select",(t,e)=>{let{rootPrefixCls:n}=e;const r=wn(t,{rootPrefixCls:n,inputPaddingHorizontalBase:t.paddingSM-1,multipleSelectItemHeight:t.multipleItemHeight,selectHeight:t.controlHeight});return[hse(r)]},t=>{const{fontSize:e,lineHeight:n,controlHeight:r,controlPaddingHorizontal:i,zIndexPopupBase:o,colorText:s,fontWeightStrong:a,controlItemBgActive:l,controlItemBgHover:c,colorBgContainer:u,colorFillSecondary:d,controlHeightLG:f,controlHeightSM:h,colorBgContainerDisabled:g,colorTextDisabled:x}=t;return{zIndexPopup:o+50,optionSelectedColor:s,optionSelectedFontWeight:a,optionSelectedBg:l,optionActiveBg:c,optionPadding:`${(r-e*n)/2}px ${i}px`,optionFontSize:e,optionLineHeight:n,optionHeight:r,selectorBg:u,clearBg:u,singleItemHeightLG:f,multipleItemBg:d,multipleItemBorderColor:"transparent",multipleItemHeight:h,multipleItemHeightLG:r,multipleSelectorBgDisabled:g,multipleItemColorDisabled:x,multipleItemBorderColorDisabled:"transparent"}}),mse=t=>{const n={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:t==="scroll"?"scroll":"visible",_experimental:{dynamicInset:!0}};return{bottomLeft:Object.assign(Object.assign({},n),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},n),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},n),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},n),{points:["br","tr"],offset:[0,-4]})}};function gse(t,e){return t||mse(e)}function vse(t,e){return e!==void 0?e:t!==null}var yse={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};const xse=yse;var bse=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:xse}))};const pE=y.forwardRef(bse);var Sse={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};const _se=Sse;var wse=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:_se}))};const X5=y.forwardRef(wse);var Cse={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};const Ese=Cse;var Tse=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:Ese}))};const Uk=y.forwardRef(Tse);function Mse(t){let{suffixIcon:e,clearIcon:n,menuItemSelectedIcon:r,removeIcon:i,loading:o,multiple:s,hasFeedback:a,prefixCls:l,showSuffixIcon:c,feedbackIcon:u,showArrow:d,componentName:f}=t;const h=n??y.createElement(v3,null),g=_=>e===null&&!a&&!d?null:y.createElement(y.Fragment,null,c!==!1&&_,a&&u);let x=null;if(e!==void 0)x=g(e);else if(o)x=g(y.createElement(_v,{spin:!0}));else{const _=`${l}-suffix`;x=S=>{let{open:w,showSearch:M}=S;return g(w&&M?y.createElement(Uk,{className:_}):y.createElement(X5,{className:_}))}}let b=null;r!==void 0?b=r:s?b=y.createElement(pE,null):b=null;let v=null;return i!==void 0?v=i:v=y.createElement(y3,null),{clearIcon:h,suffixIcon:x,itemIcon:b,removeIcon:v}}var Rse=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Bk="SECRET_COMBOBOX_MODE_DO_NOT_USE",Ase=(t,e)=>{var n,{prefixCls:r,bordered:i=!0,className:o,rootClassName:s,getPopupContainer:a,popupClassName:l,dropdownClassName:c,listHeight:u=256,placement:d,listItemHeight:f=24,size:h,disabled:g,notFoundContent:x,status:b,builtinPlacements:v,dropdownMatchSelectWidth:_,popupMatchSelectWidth:S,direction:w,style:M,allowClear:E}=t,T=Rse(t,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear"]);const{getPopupContainer:N,getPrefixCls:R,renderEmpty:P,direction:L,virtual:$,popupMatchSelectWidth:V,popupOverflow:D,select:H}=y.useContext(Zt),F=R("select",r),k=R(),O=w??L,{compactSize:B,compactItemClassnames:G}=t0(F,O),[W,K]=pse(F),X=y.useMemo(()=>{const{mode:Oe}=T;if(Oe!=="combobox")return Oe===Bk?"combobox":Oe},[T.mode]),Y=X==="multiple"||X==="tags",te=vse(T.suffixIcon,T.showArrow),oe=(n=S??_)!==null&&n!==void 0?n:V,{status:ie,hasFeedback:le,isFormItemInput:ve,feedbackIcon:me}=y.useContext(Fc),we=M6(ie,b);let Q;x!==void 0?Q=x:X==="combobox"?Q=null:Q=P?.("Select")||y.createElement(Fk,{componentName:"Select"});const{suffixIcon:fe,itemIcon:he,removeIcon:Ee,clearIcon:ue}=Mse(Object.assign(Object.assign({},T),{multiple:Y,hasFeedback:le,feedbackIcon:me,showSuffixIcon:te,prefixCls:F,showArrow:T.showArrow,componentName:"Select"})),ke=E===!0?{clearIcon:ue}:E,ge=fi(T,["suffixIcon","itemIcon"]),j=ye(l||c,{[`${F}-dropdown-${O}`]:O==="rtl"},s,K),z=zs(Oe=>{var We;return(We=h??B)!==null&&We!==void 0?We:Oe}),ee=y.useContext(Kf),xe=g??ee,Ne=ye({[`${F}-lg`]:z==="large",[`${F}-sm`]:z==="small",[`${F}-rtl`]:O==="rtl",[`${F}-borderless`]:!i,[`${F}-in-form-item`]:ve},Il(F,we,le),G,H?.className,o,s,K),Ae=y.useMemo(()=>d!==void 0?d:O==="rtl"?"bottomRight":"bottomLeft",[d,O]),Fe=gse(v,D);return W(y.createElement(fE,Object.assign({ref:e,virtual:$,showSearch:H?.showSearch},ge,{style:Object.assign(Object.assign({},H?.style),M),dropdownMatchSelectWidth:oe,builtinPlacements:Fe,transitionName:x6(k,"slide-up",T.transitionName),listHeight:u,listItemHeight:f,mode:X,prefixCls:F,placement:Ae,direction:O,suffixIcon:fe,menuItemSelectedIcon:he,removeIcon:Ee,allowClear:ke,notFoundContent:Q,className:Ne,getPopupContainer:a||N,dropdownClassName:j,disabled:xe})))},n0=y.forwardRef(Ase),Pse=lE(n0);n0.SECRET_COMBOBOX_MODE_DO_NOT_USE=Bk;n0.Option=dE;n0.OptGroup=uE;n0._InternalPanelDoNotUseOrYouWillBeFired=Pse;const w3=n0,Pf=["xxl","xl","lg","md","sm","xs"],Nse=t=>({xs:`(max-width: ${t.screenXSMax}px)`,sm:`(min-width: ${t.screenSM}px)`,md:`(min-width: ${t.screenMD}px)`,lg:`(min-width: ${t.screenLG}px)`,xl:`(min-width: ${t.screenXL}px)`,xxl:`(min-width: ${t.screenXXL}px)`}),Ise=t=>{const e=t,n=[].concat(Pf).reverse();return n.forEach((r,i)=>{const o=r.toUpperCase(),s=`screen${o}Min`,a=`screen${o}`;if(!(e[s]<=e[a]))throw new Error(`${s}<=${a} fails : !(${e[s]}<=${e[a]})`);if(i<n.length-1){const l=`screen${o}Max`;if(!(e[a]<=e[l]))throw new Error(`${a}<=${l} fails : !(${e[a]}<=${e[l]})`);const u=`screen${n[i+1].toUpperCase()}Min`;if(!(e[l]<=e[u]))throw new Error(`${l}<=${u} fails : !(${e[l]}<=${e[u]})`)}}),t};function kk(){const[,t]=Ea(),e=Nse(Ise(t));return ae.useMemo(()=>{const n=new Map;let r=-1,i={};return{matchHandlers:{},dispatch(o){return i=o,n.forEach(s=>s(i)),n.size>=1},subscribe(o){return n.size||this.register(),r+=1,n.set(r,o),o(i),r},unsubscribe(o){n.delete(o),n.size||this.unregister()},unregister(){Object.keys(e).forEach(o=>{const s=e[o],a=this.matchHandlers[s];a?.mql.removeListener(a?.listener)}),n.clear()},register(){Object.keys(e).forEach(o=>{const s=e[o],a=c=>{let{matches:u}=c;this.dispatch(Object.assign(Object.assign({},i),{[o]:u}))},l=window.matchMedia(s);l.addListener(a),this.matchHandlers[s]={mql:l,listener:a},a(l)})},responsiveMap:e}},[t])}function zk(){const[,t]=y.useReducer(e=>e+1,0);return t}function Vk(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const e=y.useRef({}),n=zk(),r=kk();return sr(()=>{const i=r.subscribe(o=>{e.current=o,t&&n()});return()=>r.unsubscribe(i)},[]),e.current}const q5=t=>t?typeof t=="function"?t():t:null;var Rh={shiftX:64,adjustY:1},Ah={adjustX:1,shiftY:!0},ea=[0,0],Ose={left:{points:["cr","cl"],overflow:Ah,offset:[-4,0],targetOffset:ea},right:{points:["cl","cr"],overflow:Ah,offset:[4,0],targetOffset:ea},top:{points:["bc","tc"],overflow:Rh,offset:[0,-4],targetOffset:ea},bottom:{points:["tc","bc"],overflow:Rh,offset:[0,4],targetOffset:ea},topLeft:{points:["bl","tl"],overflow:Rh,offset:[0,-4],targetOffset:ea},leftTop:{points:["tr","tl"],overflow:Ah,offset:[-4,0],targetOffset:ea},topRight:{points:["br","tr"],overflow:Rh,offset:[0,-4],targetOffset:ea},rightTop:{points:["tl","tr"],overflow:Ah,offset:[4,0],targetOffset:ea},bottomRight:{points:["tr","br"],overflow:Rh,offset:[0,4],targetOffset:ea},rightBottom:{points:["bl","br"],overflow:Ah,offset:[4,0],targetOffset:ea},bottomLeft:{points:["tl","bl"],overflow:Rh,offset:[0,4],targetOffset:ea},leftBottom:{points:["br","bl"],overflow:Ah,offset:[-4,0],targetOffset:ea}};function mE(t){var e=t.children,n=t.prefixCls,r=t.id,i=t.overlayInnerStyle,o=t.className,s=t.style;return y.createElement("div",{className:ye("".concat(n,"-content"),o),style:s},y.createElement("div",{className:"".concat(n,"-inner"),id:r,role:"tooltip",style:i},typeof e=="function"?e():e))}var Lse=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],Dse=function(e,n){var r=e.overlayClassName,i=e.trigger,o=i===void 0?["hover"]:i,s=e.mouseEnterDelay,a=s===void 0?0:s,l=e.mouseLeaveDelay,c=l===void 0?.1:l,u=e.overlayStyle,d=e.prefixCls,f=d===void 0?"rc-tooltip":d,h=e.children,g=e.onVisibleChange,x=e.afterVisibleChange,b=e.transitionName,v=e.animation,_=e.motion,S=e.placement,w=S===void 0?"right":S,M=e.align,E=M===void 0?{}:M,T=e.destroyTooltipOnHide,N=T===void 0?!1:T,R=e.defaultVisible,P=e.getTooltipContainer,L=e.overlayInnerStyle;e.arrowContent;var $=e.overlay,V=e.id,D=e.showArrow,H=D===void 0?!0:D,F=ln(e,Lse),k=y.useRef(null);y.useImperativeHandle(n,function(){return k.current});var O=_e({},F);"visible"in e&&(O.popupVisible=e.visible);var B=function(){return y.createElement(mE,{key:"content",prefixCls:f,id:V,overlayInnerStyle:L},$)};return y.createElement(T6,ct({popupClassName:r,prefixCls:f,popup:B,action:o,builtinPlacements:Ose,popupPlacement:w,ref:k,popupAlign:E,getPopupContainer:P,onPopupVisibleChange:g,afterPopupVisibleChange:x,popupTransitionName:b,popupAnimation:v,popupMotion:_,defaultPopupVisible:R,autoDestroy:N,mouseLeaveDelay:c,popupStyle:u,mouseEnterDelay:a,arrow:H},O),h)};const Fse=y.forwardRef(Dse),Hk=8;function gE(t){const e=Hk,{contentRadius:n,limitVerticalRadius:r}=t,i=n>12?n+2:12;return{dropdownArrowOffset:i,dropdownArrowOffsetVertical:r?e:i}}function v2(t,e){return t?e:{}}function vE(t,e){const{componentCls:n,sizePopupArrow:r,borderRadiusXS:i,borderRadiusOuter:o,boxShadowPopoverArrow:s}=t,{colorBg:a,contentRadius:l=t.borderRadiusLG,limitVerticalRadius:c,arrowDistance:u=0,arrowPlacement:d={left:!0,right:!0,top:!0,bottom:!0}}=e,{dropdownArrowOffsetVertical:f,dropdownArrowOffset:h}=gE({contentRadius:l,limitVerticalRadius:c});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({[`${n}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},VJ(r,i,o,a,s)),{"&:before":{background:a}})]},v2(!!d.top,{[[`&-placement-top ${n}-arrow`,`&-placement-topLeft ${n}-arrow`,`&-placement-topRight ${n}-arrow`].join(",")]:{bottom:u,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft ${n}-arrow`]:{left:{_skip_check_:!0,value:h}},[`&-placement-topRight ${n}-arrow`]:{right:{_skip_check_:!0,value:h}}})),v2(!!d.bottom,{[[`&-placement-bottom ${n}-arrow`,`&-placement-bottomLeft ${n}-arrow`,`&-placement-bottomRight ${n}-arrow`].join(",")]:{top:u,transform:"translateY(-100%)"},[`&-placement-bottom ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft ${n}-arrow`]:{left:{_skip_check_:!0,value:h}},[`&-placement-bottomRight ${n}-arrow`]:{right:{_skip_check_:!0,value:h}}})),v2(!!d.left,{[[`&-placement-left ${n}-arrow`,`&-placement-leftTop ${n}-arrow`,`&-placement-leftBottom ${n}-arrow`].join(",")]:{right:{_skip_check_:!0,value:u},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop ${n}-arrow`]:{top:f},[`&-placement-leftBottom ${n}-arrow`]:{bottom:f}})),v2(!!d.right,{[[`&-placement-right ${n}-arrow`,`&-placement-rightTop ${n}-arrow`,`&-placement-rightBottom ${n}-arrow`].join(",")]:{left:{_skip_check_:!0,value:u},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop ${n}-arrow`]:{top:f},[`&-placement-rightBottom ${n}-arrow`]:{bottom:f}}))}}function $se(t,e,n,r){if(r===!1)return{adjustX:!1,adjustY:!1};const i=r&&typeof r=="object"?r:{},o={};switch(t){case"top":case"bottom":o.shiftX=e.dropdownArrowOffset*2+n;break;case"left":case"right":o.shiftY=e.dropdownArrowOffsetVertical*2+n;break}const s=Object.assign(Object.assign({},o),i);return s.shiftX||(s.adjustX=!0),s.shiftY||(s.adjustY=!0),s}const BN={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},Use={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},Bse=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function Gk(t){const{arrowWidth:e,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:i,borderRadius:o,visibleFirst:s}=t,a=e/2,l={};return Object.keys(BN).forEach(c=>{const u=r&&Use[c]||BN[c],d=Object.assign(Object.assign({},u),{offset:[0,0]});switch(l[c]=d,Bse.has(c)&&(d.autoArrow=!1),c){case"top":case"topLeft":case"topRight":d.offset[1]=-a-i;break;case"bottom":case"bottomLeft":case"bottomRight":d.offset[1]=a+i;break;case"left":case"leftTop":case"leftBottom":d.offset[0]=-a-i;break;case"right":case"rightTop":case"rightBottom":d.offset[0]=a+i;break}const f=gE({contentRadius:o,limitVerticalRadius:!0});if(r)switch(c){case"topLeft":case"bottomLeft":d.offset[0]=-f.dropdownArrowOffset-a;break;case"topRight":case"bottomRight":d.offset[0]=f.dropdownArrowOffset+a;break;case"leftTop":case"rightTop":d.offset[1]=-f.dropdownArrowOffset-a;break;case"leftBottom":case"rightBottom":d.offset[1]=f.dropdownArrowOffset+a;break}d.overflow=$se(c,f,e,n),s&&(d.htmlRegion="visibleFirst")}),l}const kse=t=>{const{componentCls:e,tooltipMaxWidth:n,tooltipColor:r,tooltipBg:i,tooltipBorderRadius:o,zIndexPopup:s,controlHeight:a,boxShadowSecondary:l,paddingSM:c,paddingXS:u,tooltipRadiusOuter:d}=t;return[{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},Vr(t)),{position:"absolute",zIndex:s,display:"block",width:"max-content",maxWidth:n,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":i,[`${e}-inner`]:{minWidth:a,minHeight:a,padding:`${c/2}px ${u}px`,color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:i,borderRadius:o,boxShadow:l,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:Math.min(o,Hk)}},[`${e}-content`]:{position:"relative"}}),KJ(t,(f,h)=>{let{darkColor:g}=h;return{[`&${e}-${f}`]:{[`${e}-inner`]:{backgroundColor:g},[`${e}-arrow`]:{"--antd-arrow-background-color":g}}}})),{"&-rtl":{direction:"rtl"}})},vE(wn(t,{borderRadiusOuter:d}),{colorBg:"var(--antd-arrow-background-color)",contentRadius:o,limitVerticalRadius:!0}),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow}}]},Wk=(t,e)=>yr("Tooltip",r=>{if(e===!1)return[];const{borderRadius:i,colorTextLightSolid:o,colorBgDefault:s,borderRadiusOuter:a}=r,l=wn(r,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:i,tooltipBg:s,tooltipRadiusOuter:a>4?4:a});return[kse(l),w6(r,"zoom-big-fast")]},r=>{let{zIndexPopupBase:i,colorBgSpotlight:o}=r;return{zIndexPopup:i+70,colorBgDefault:o}},{resetStyle:!1})(t),zse=Sv.map(t=>`${t}-inverse`);function Vse(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(St(zse),St(Sv)).includes(t):Sv.includes(t)}function jk(t,e){const n=Vse(e),r=ye({[`${t}-${e}`]:e&&n}),i={},o={};return e&&!n&&(i.background=e,o["--antd-arrow-background-color"]=e),{className:r,overlayStyle:i,arrowStyle:o}}const Hse=t=>{const{prefixCls:e,className:n,placement:r="top",title:i,color:o,overlayInnerStyle:s}=t,{getPrefixCls:a}=y.useContext(Zt),l=a("tooltip",e),[c,u]=Wk(l,!0),d=jk(l,o),f=d.arrowStyle,h=Object.assign(Object.assign({},s),d.overlayStyle),g=ye(u,l,`${l}-pure`,`${l}-placement-${r}`,n,d.className);return c(y.createElement("div",{className:g,style:f},y.createElement("div",{className:`${l}-arrow`}),y.createElement(mE,Object.assign({},t,{className:u,prefixCls:l,overlayInnerStyle:h}),i)))},Gse=Hse;var Wse=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const jse=(t,e)=>{const n={},r=Object.assign({},t);return e.forEach(i=>{t&&i in t&&(n[i]=t[i],delete r[i])}),{picked:n,omitted:r}};function Xse(t,e){const n=t.type;if((n.__ANT_BUTTON===!0||t.type==="button")&&t.props.disabled||n.__ANT_SWITCH===!0&&(t.props.disabled||t.props.loading)||n.__ANT_RADIO===!0&&t.props.disabled){const{picked:r,omitted:i}=jse(t.props.style,["position","left","right","top","bottom","float","display","zIndex"]),o=Object.assign(Object.assign({display:"inline-block"},r),{cursor:"not-allowed",width:t.props.block?"100%":void 0}),s=Object.assign(Object.assign({},i),{pointerEvents:"none"}),a=ji(t,{style:s,className:null});return y.createElement("span",{style:o,className:ye(t.props.className,`${e}-disabled-compatible-wrapper`)},a)}return t}const Xk=y.forwardRef((t,e)=>{var n,r;const{prefixCls:i,openClassName:o,getTooltipContainer:s,overlayClassName:a,color:l,overlayInnerStyle:c,children:u,afterOpenChange:d,afterVisibleChange:f,destroyTooltipOnHide:h,arrow:g=!0,title:x,overlay:b,builtinPlacements:v,arrowPointAtCenter:_=!1,autoAdjustOverflow:S=!0}=t,w=!!g,[,M]=Ea(),{getPopupContainer:E,getPrefixCls:T,direction:N}=y.useContext(Zt),R=WC(),P=y.useRef(null),L=()=>{var j;(j=P.current)===null||j===void 0||j.forceAlign()};y.useImperativeHandle(e,()=>({forceAlign:L,forcePopupAlign:()=>{R.deprecated(!1,"forcePopupAlign","forceAlign"),L()}}));const[$,V]=ei(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(r=t.defaultOpen)!==null&&r!==void 0?r:t.defaultVisible}),D=!x&&!b&&x!==0,H=j=>{var z,ee;V(D?!1:j),D||((z=t.onOpenChange)===null||z===void 0||z.call(t,j),(ee=t.onVisibleChange)===null||ee===void 0||ee.call(t,j))},F=y.useMemo(()=>{var j,z;let ee=_;return typeof g=="object"&&(ee=(z=(j=g.pointAtCenter)!==null&&j!==void 0?j:g.arrowPointAtCenter)!==null&&z!==void 0?z:_),v||Gk({arrowPointAtCenter:ee,autoAdjustOverflow:S,arrowWidth:w?M.sizePopupArrow:0,borderRadius:M.borderRadius,offset:M.marginXXS,visibleFirst:!0})},[_,g,v,M]),k=y.useMemo(()=>x===0?x:b||x||"",[b,x]),O=y.createElement(mm,null,typeof k=="function"?k():k),{getPopupContainer:B,placement:G="top",mouseEnterDelay:W=.1,mouseLeaveDelay:K=.1,overlayStyle:X,rootClassName:Y}=t,te=Wse(t,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),oe=T("tooltip",i),ie=T(),le=t["data-popover-inject"];let ve=$;!("open"in t)&&!("visible"in t)&&D&&(ve=!1);const me=Xse(Sa(u)&&!XB(u)?u:y.createElement("span",null,u),oe),we=me.props,Q=!we.className||typeof we.className=="string"?ye(we.className,o||`${oe}-open`):we.className,[fe,he]=Wk(oe,!le),Ee=jk(oe,l),ue=Ee.arrowStyle,ke=Object.assign(Object.assign({},c),Ee.overlayStyle),ge=ye(a,{[`${oe}-rtl`]:N==="rtl"},Ee.className,Y,he);return fe(y.createElement(Fse,Object.assign({},te,{showArrow:w,placement:G,mouseEnterDelay:W,mouseLeaveDelay:K,prefixCls:oe,overlayClassName:ge,overlayStyle:Object.assign(Object.assign({},ue),X),getTooltipContainer:B||s||E,ref:P,builtinPlacements:F,overlay:O,visible:ve,onVisibleChange:H,afterVisibleChange:d??f,overlayInnerStyle:ke,arrowContent:y.createElement("span",{className:`${oe}-arrow-content`}),motion:{motionName:x6(ie,"zoom-big-fast",t.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!h}),ve?ji(me,{className:Q}):me))});Xk._InternalPanelDoNotUseOrYouWillBeFired=Gse;const $c=Xk,qse=t=>{const{componentCls:e,popoverColor:n,minWidth:r,fontWeightStrong:i,popoverPadding:o,boxShadowSecondary:s,colorTextHeading:a,borderRadiusLG:l,zIndexPopup:c,marginXS:u,colorBgElevated:d,popoverBg:f}=t;return[{[e]:Object.assign(Object.assign({},Vr(t)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:c,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":d,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${e}-content`]:{position:"relative"},[`${e}-inner`]:{backgroundColor:f,backgroundClip:"padding-box",borderRadius:l,boxShadow:s,padding:o},[`${e}-title`]:{minWidth:r,marginBottom:u,color:a,fontWeight:i},[`${e}-inner-content`]:{color:n}})},vE(t,{colorBg:"var(--antd-arrow-background-color)"}),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow,display:"inline-block",[`${e}-content`]:{display:"inline-block"}}}]},Kse=t=>{const{componentCls:e}=t;return{[e]:Sv.map(n=>{const r=t[`${n}6`];return{[`&${e}-${n}`]:{"--antd-arrow-background-color":r,[`${e}-inner`]:{backgroundColor:r},[`${e}-arrow`]:{background:"transparent"}}}})}},Yse=t=>{const{componentCls:e,lineWidth:n,lineType:r,colorSplit:i,paddingSM:o,controlHeight:s,fontSize:a,lineHeight:l,padding:c}=t,u=s-Math.round(a*l),d=u/2,f=u/2-n,h=c;return{[e]:{[`${e}-inner`]:{padding:0},[`${e}-title`]:{margin:0,padding:`${d}px ${h}px ${f}px`,borderBottom:`${n}px ${r} ${i}`},[`${e}-inner-content`]:{padding:`${o}px ${h}px`}}}},qk=yr("Popover",t=>{const{colorBgElevated:e,colorText:n,wireframe:r}=t,i=wn(t,{popoverPadding:12,popoverBg:e,popoverColor:n});return[qse(i),Kse(i),r&&Yse(i),w6(i,"zoom-big")]},t=>({width:177,minWidth:177,zIndexPopup:t.zIndexPopupBase+30}),{resetStyle:!1,deprecatedTokens:[["width","minWidth"]]});var Zse=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Qse=(t,e,n)=>{if(!(!e&&!n))return y.createElement(y.Fragment,null,e&&y.createElement("div",{className:`${t}-title`},q5(e)),y.createElement("div",{className:`${t}-inner-content`},q5(n)))},Jse=t=>{const{hashId:e,prefixCls:n,className:r,style:i,placement:o="top",title:s,content:a,children:l}=t;return y.createElement("div",{className:ye(e,n,`${n}-pure`,`${n}-placement-${o}`,r),style:i},y.createElement("div",{className:`${n}-arrow`}),y.createElement(mE,Object.assign({},t,{className:e,prefixCls:n}),l||Qse(n,s,a)))},eae=t=>{const{prefixCls:e}=t,n=Zse(t,["prefixCls"]),{getPrefixCls:r}=y.useContext(Zt),i=r("popover",e),[o,s]=qk(i);return o(y.createElement(Jse,Object.assign({},n,{prefixCls:i,hashId:s})))},tae=eae;var nae=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const rae=t=>{let{title:e,content:n,prefixCls:r}=t;return y.createElement(y.Fragment,null,e&&y.createElement("div",{className:`${r}-title`},q5(e)),y.createElement("div",{className:`${r}-inner-content`},q5(n)))},Kk=y.forwardRef((t,e)=>{const{prefixCls:n,title:r,content:i,overlayClassName:o,placement:s="top",trigger:a="hover",mouseEnterDelay:l=.1,mouseLeaveDelay:c=.1,overlayStyle:u={}}=t,d=nae(t,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),{getPrefixCls:f}=y.useContext(Zt),h=f("popover",n),[g,x]=qk(h),b=f(),v=ye(o,x);return g(y.createElement($c,Object.assign({placement:s,trigger:a,mouseEnterDelay:l,mouseLeaveDelay:c,overlayStyle:u},d,{prefixCls:h,overlayClassName:v,ref:e,overlay:r||i?y.createElement(rae,{prefixCls:h,title:r,content:i}):null,transitionName:x6(b,"zoom-big",d.transitionName),"data-popover-inject":!0})))});Kk._InternalPanelDoNotUseOrYouWillBeFired=tae;const iae=Kk;var oae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};const sae=oae;var aae=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:sae}))};const K5=y.forwardRef(aae);var lae=ot.ESC,cae=ot.TAB;function uae(t){var e=t.visible,n=t.triggerRef,r=t.onVisibleChange,i=t.autoFocus,o=t.overlayRef,s=y.useRef(!1),a=function(){if(e){var d,f;(d=n.current)===null||d===void 0||(f=d.focus)===null||f===void 0||f.call(d),r?.(!1)}},l=function(){var d;return(d=o.current)!==null&&d!==void 0&&d.focus?(o.current.focus(),s.current=!0,!0):!1},c=function(d){switch(d.keyCode){case lae:a();break;case cae:{var f=!1;s.current||(f=l()),f?d.preventDefault():a();break}}};y.useEffect(function(){return e?(window.addEventListener("keydown",c),i&&jn(l,3),function(){window.removeEventListener("keydown",c),s.current=!1}):function(){s.current=!1}},[e])}var dae=y.forwardRef(function(t,e){var n=t.overlay,r=t.arrow,i=t.prefixCls,o=y.useMemo(function(){var a;return typeof n=="function"?a=n():a=n,a},[n]),s=jo(e,o?.ref);return ae.createElement(ae.Fragment,null,r&&ae.createElement("div",{className:"".concat(i,"-arrow")}),ae.cloneElement(o,{ref:rd(o)?s:void 0}))}),Ph={adjustX:1,adjustY:1},Nh=[0,0],fae={topLeft:{points:["bl","tl"],overflow:Ph,offset:[0,-4],targetOffset:Nh},top:{points:["bc","tc"],overflow:Ph,offset:[0,-4],targetOffset:Nh},topRight:{points:["br","tr"],overflow:Ph,offset:[0,-4],targetOffset:Nh},bottomLeft:{points:["tl","bl"],overflow:Ph,offset:[0,4],targetOffset:Nh},bottom:{points:["tc","bc"],overflow:Ph,offset:[0,4],targetOffset:Nh},bottomRight:{points:["tr","br"],overflow:Ph,offset:[0,4],targetOffset:Nh}},hae=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function pae(t,e){var n,r=t.arrow,i=r===void 0?!1:r,o=t.prefixCls,s=o===void 0?"rc-dropdown":o,a=t.transitionName,l=t.animation,c=t.align,u=t.placement,d=u===void 0?"bottomLeft":u,f=t.placements,h=f===void 0?fae:f,g=t.getPopupContainer,x=t.showAction,b=t.hideAction,v=t.overlayClassName,_=t.overlayStyle,S=t.visible,w=t.trigger,M=w===void 0?["hover"]:w,E=t.autoFocus,T=t.overlay,N=t.children,R=t.onVisibleChange,P=ln(t,hae),L=ae.useState(),$=Ie(L,2),V=$[0],D=$[1],H="visible"in t?S:V,F=ae.useRef(null),k=ae.useRef(null),O=ae.useRef(null);ae.useImperativeHandle(e,function(){return F.current});var B=function(le){D(le),R?.(le)};uae({visible:H,triggerRef:O,onVisibleChange:B,autoFocus:E,overlayRef:k});var G=function(le){var ve=t.onOverlayClick;D(!1),ve&&ve(le)},W=function(){return ae.createElement(dae,{ref:k,overlay:T,prefixCls:s,arrow:i})},K=function(){return typeof T=="function"?W:W()},X=function(){var le=t.minOverlayWidthMatchTrigger,ve=t.alignPoint;return"minOverlayWidthMatchTrigger"in t?le:!ve},Y=function(){var le=t.openClassName;return le!==void 0?le:"".concat(s,"-open")},te=ae.cloneElement(N,{className:ye((n=N.props)===null||n===void 0?void 0:n.className,H&&Y()),ref:rd(N)?jo(O,N.ref):void 0}),oe=b;return!oe&&M.indexOf("contextMenu")!==-1&&(oe=["click"]),ae.createElement(T6,ct({builtinPlacements:h},P,{prefixCls:s,ref:F,popupClassName:ye(v,se({},"".concat(s,"-show-arrow"),i)),popupStyle:_,action:M,showAction:x,hideAction:oe,popupPlacement:d,popupAlign:c,popupTransitionName:a,popupAnimation:l,popupVisible:H,stretch:X()?"minWidth":"",popup:K(),onPopupVisibleChange:B,onPopupClick:G,getPopupContainer:g}),te)}const Yk=ae.forwardRef(pae);var Zk=y.createContext(null);function yE(t,e){return t===void 0?null:"".concat(t,"-").concat(e)}function Qk(t){var e=y.useContext(Zk);return yE(e,t)}var mae=["children","locked"],tl=y.createContext(null);function gae(t,e){var n=_e({},t);return Object.keys(e).forEach(function(r){var i=e[r];i!==void 0&&(n[r]=i)}),n}function Mv(t){var e=t.children,n=t.locked,r=ln(t,mae),i=y.useContext(tl),o=p3(function(){return gae(i,r)},[i,r],function(s,a){return!n&&(s[0]!==a[0]||!l6(s[1],a[1],!0))});return y.createElement(tl.Provider,{value:o},e)}var vae=[],Jk=y.createContext(null);function R6(){return y.useContext(Jk)}var ez=y.createContext(vae);function r0(t){var e=y.useContext(ez);return y.useMemo(function(){return t!==void 0?[].concat(St(e),[t]):e},[e,t])}var tz=y.createContext(null),xE=y.createContext({});function kN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(QC(t)){var n=t.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||t.isContentEditable||n==="a"&&!!t.getAttribute("href"),i=t.getAttribute("tabindex"),o=Number(i),s=null;return i&&!Number.isNaN(o)?s=o:r&&s===null&&(s=0),r&&t.disabled&&(s=null),s!==null&&(s>=0||e&&s<0)}return!1}function yae(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=St(t.querySelectorAll("*")).filter(function(r){return kN(r,e)});return kN(t,e)&&n.unshift(t),n}var L_=ot.LEFT,D_=ot.RIGHT,F_=ot.UP,Ky=ot.DOWN,Yy=ot.ENTER,nz=ot.ESC,tg=ot.HOME,ng=ot.END,zN=[F_,Ky,L_,D_];function xae(t,e,n,r){var i,o,s,a,l="prev",c="next",u="children",d="parent";if(t==="inline"&&r===Yy)return{inlineTrigger:!0};var f=(i={},se(i,F_,l),se(i,Ky,c),i),h=(o={},se(o,L_,n?c:l),se(o,D_,n?l:c),se(o,Ky,u),se(o,Yy,u),o),g=(s={},se(s,F_,l),se(s,Ky,c),se(s,Yy,u),se(s,nz,d),se(s,L_,n?u:d),se(s,D_,n?d:u),s),x={inline:f,horizontal:h,vertical:g,inlineSub:f,horizontalSub:g,verticalSub:g},b=(a=x["".concat(t).concat(e?"":"Sub")])===null||a===void 0?void 0:a[r];switch(b){case l:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case d:return{offset:-1,sibling:!1};case u:return{offset:1,sibling:!1};default:return null}}function bae(t){for(var e=t;e;){if(e.getAttribute("data-menu-list"))return e;e=e.parentElement}return null}function Sae(t,e){for(var n=t||document.activeElement;n;){if(e.has(n))return n;n=n.parentElement}return null}function rz(t,e){var n=yae(t,!0);return n.filter(function(r){return e.has(r)})}function VN(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!t)return null;var i=rz(t,e),o=i.length,s=i.findIndex(function(a){return n===a});return r<0?s===-1?s=o-1:s-=1:r>0&&(s+=1),s=(s+o)%o,i[s]}function _ae(t,e,n,r,i,o,s,a,l,c){var u=y.useRef(),d=y.useRef();d.current=e;var f=function(){jn.cancel(u.current)};return y.useEffect(function(){return function(){f()}},[]),function(h){var g=h.which;if([].concat(zN,[Yy,nz,tg,ng]).includes(g)){var x,b,v,_=function(){x=new Set,b=new Map,v=new Map;var H=o();return H.forEach(function(F){var k=document.querySelector("[data-menu-id='".concat(yE(r,F),"']"));k&&(x.add(k),v.set(k,F),b.set(F,k))}),x};_();var S=b.get(e),w=Sae(S,x),M=v.get(w),E=xae(t,s(M,!0).length===1,n,g);if(!E&&g!==tg&&g!==ng)return;(zN.includes(g)||[tg,ng].includes(g))&&h.preventDefault();var T=function(H){if(H){var F=H,k=H.querySelector("a");k!=null&&k.getAttribute("href")&&(F=k);var O=v.get(H);a(O),f(),u.current=jn(function(){d.current===O&&F.focus()})}};if([tg,ng].includes(g)||E.sibling||!w){var N;!w||t==="inline"?N=i.current:N=bae(w);var R,P=rz(N,x);g===tg?R=P[0]:g===ng?R=P[P.length-1]:R=VN(N,x,w,E.offset),T(R)}else if(E.inlineTrigger)l(M);else if(E.offset>0)l(M,!0),f(),u.current=jn(function(){_();var D=w.getAttribute("aria-controls"),H=document.getElementById(D),F=VN(H,x);T(F)},5);else if(E.offset<0){var L=s(M,!0),$=L[L.length-2],V=b.get($);l($,!1),T(V)}}c?.(h)}}function wae(t){Promise.resolve().then(t)}var bE="__RC_UTIL_PATH_SPLIT__",HN=function(e){return e.join(bE)},Cae=function(e){return e.split(bE)},$_="rc-menu-more";function Eae(){var t=y.useState({}),e=Ie(t,2),n=e[1],r=y.useRef(new Map),i=y.useRef(new Map),o=y.useState([]),s=Ie(o,2),a=s[0],l=s[1],c=y.useRef(0),u=y.useRef(!1),d=function(){u.current||n({})},f=y.useCallback(function(S,w){var M=HN(w);i.current.set(M,S),r.current.set(S,M),c.current+=1;var E=c.current;wae(function(){E===c.current&&d()})},[]),h=y.useCallback(function(S,w){var M=HN(w);i.current.delete(M),r.current.delete(S)},[]),g=y.useCallback(function(S){l(S)},[]),x=y.useCallback(function(S,w){var M=r.current.get(S)||"",E=Cae(M);return w&&a.includes(E[0])&&E.unshift($_),E},[a]),b=y.useCallback(function(S,w){return S.some(function(M){var E=x(M,!0);return E.includes(w)})},[x]),v=function(){var w=St(r.current.keys());return a.length&&w.push($_),w},_=y.useCallback(function(S){var w="".concat(r.current.get(S)).concat(bE),M=new Set;return St(i.current.keys()).forEach(function(E){E.startsWith(w)&&M.add(i.current.get(E))}),M},[]);return y.useEffect(function(){return function(){u.current=!0}},[]),{registerPath:f,unregisterPath:h,refreshOverflowKeys:g,isSubPathKey:b,getKeyPath:x,getKeys:v,getSubPathKeys:_}}function Rg(t){var e=y.useRef(t);e.current=t;var n=y.useCallback(function(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return t?n:void 0}var Tae=Math.random().toFixed(5).toString().slice(2),GN=0;function Mae(t){var e=ei(t,{value:t}),n=Ie(e,2),r=n[0],i=n[1];return y.useEffect(function(){GN+=1;var o="".concat(Tae,"-").concat(GN);i("rc-menu-uuid-".concat(o))},[]),r}function iz(t,e,n,r){var i=y.useContext(tl),o=i.activeKey,s=i.onActive,a=i.onInactive,l={active:o===t};return e||(l.onMouseEnter=function(c){n?.({key:t,domEvent:c}),s(t)},l.onMouseLeave=function(c){r?.({key:t,domEvent:c}),a(t)}),l}function oz(t){var e=y.useContext(tl),n=e.mode,r=e.rtl,i=e.inlineIndent;if(n!=="inline")return null;var o=t;return r?{paddingRight:o*i}:{paddingLeft:o*i}}function sz(t){var e=t.icon,n=t.props,r=t.children,i;return e===null||e===!1?null:(typeof e=="function"?i=y.createElement(e,_e({},n)):typeof e!="boolean"&&(i=e),i||r||null)}var Rae=["item"];function Y5(t){var e=t.item,n=ln(t,Rae);return Object.defineProperty(n,"item",{get:function(){return Pi(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),e}}),n}var Aae=["title","attribute","elementRef"],Pae=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Nae=["active"],Iae=function(t){zl(n,t);var e=Vl(n);function n(){return Si(this,n),e.apply(this,arguments)}return _i(n,[{key:"render",value:function(){var i=this.props,o=i.title,s=i.attribute,a=i.elementRef,l=ln(i,Aae),c=fi(l,["eventKey","popupClassName","popupOffset","onTitleClick"]);return Pi(!s,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),y.createElement(Nl.Item,ct({},s,{title:typeof o=="string"?o:void 0},c,{ref:a}))}}]),n}(y.Component),Oae=y.forwardRef(function(t,e){var n,r=t.style,i=t.className,o=t.eventKey;t.warnKey;var s=t.disabled,a=t.itemIcon,l=t.children,c=t.role,u=t.onMouseEnter,d=t.onMouseLeave,f=t.onClick,h=t.onKeyDown,g=t.onFocus,x=ln(t,Pae),b=Qk(o),v=y.useContext(tl),_=v.prefixCls,S=v.onItemClick,w=v.disabled,M=v.overflowDisabled,E=v.itemIcon,T=v.selectedKeys,N=v.onActive,R=y.useContext(xE),P=R._internalRenderMenuItem,L="".concat(_,"-item"),$=y.useRef(),V=y.useRef(),D=w||s,H=m3(e,V),F=r0(o),k=function(me){return{key:o,keyPath:St(F).reverse(),item:$.current,domEvent:me}},O=a||E,B=iz(o,D,u,d),G=B.active,W=ln(B,Nae),K=T.includes(o),X=oz(F.length),Y=function(me){if(!D){var we=k(me);f?.(Y5(we)),S(we)}},te=function(me){if(h?.(me),me.which===ot.ENTER){var we=k(me);f?.(Y5(we)),S(we)}},oe=function(me){N(o),g?.(me)},ie={};t.role==="option"&&(ie["aria-selected"]=K);var le=y.createElement(Iae,ct({ref:$,elementRef:H,role:c===null?"none":c||"menuitem",tabIndex:s?null:-1,"data-menu-id":M&&b?null:b},x,W,ie,{component:"li","aria-disabled":s,style:_e(_e({},X),r),className:ye(L,(n={},se(n,"".concat(L,"-active"),G),se(n,"".concat(L,"-selected"),K),se(n,"".concat(L,"-disabled"),D),n),i),onClick:Y,onKeyDown:te,onFocus:oe}),l,y.createElement(sz,{props:_e(_e({},t),{},{isSelected:K}),icon:O}));return P&&(le=P(le,t,{selected:K})),le});function Lae(t,e){var n=t.eventKey,r=R6(),i=r0(n);return y.useEffect(function(){if(r)return r.registerPath(n,i),function(){r.unregisterPath(n,i)}},[i]),r?null:y.createElement(Oae,ct({},t,{ref:e}))}const C3=y.forwardRef(Lae);var Dae=["className","children"],Fae=function(e,n){var r=e.className,i=e.children,o=ln(e,Dae),s=y.useContext(tl),a=s.prefixCls,l=s.mode,c=s.rtl;return y.createElement("ul",ct({className:ye(a,c&&"".concat(a,"-rtl"),"".concat(a,"-sub"),"".concat(a,"-").concat(l==="inline"?"inline":"vertical"),r),role:"menu"},o,{"data-menu-list":!0,ref:n}),i)},SE=y.forwardRef(Fae);SE.displayName="SubMenuList";function _E(t,e){return hs(t).map(function(n,r){if(y.isValidElement(n)){var i,o,s=n.key,a=(i=(o=n.props)===null||o===void 0?void 0:o.eventKey)!==null&&i!==void 0?i:s,l=a==null;l&&(a="tmp_key-".concat([].concat(St(e),[r]).join("-")));var c={key:a,eventKey:a};return y.cloneElement(n,c)}return n})}var wo={adjustX:1,adjustY:1},$ae={topLeft:{points:["bl","tl"],overflow:wo},topRight:{points:["br","tr"],overflow:wo},bottomLeft:{points:["tl","bl"],overflow:wo},bottomRight:{points:["tr","br"],overflow:wo},leftTop:{points:["tr","tl"],overflow:wo},leftBottom:{points:["br","bl"],overflow:wo},rightTop:{points:["tl","tr"],overflow:wo},rightBottom:{points:["bl","br"],overflow:wo}},Uae={topLeft:{points:["bl","tl"],overflow:wo},topRight:{points:["br","tr"],overflow:wo},bottomLeft:{points:["tl","bl"],overflow:wo},bottomRight:{points:["tr","br"],overflow:wo},rightTop:{points:["tr","tl"],overflow:wo},rightBottom:{points:["br","bl"],overflow:wo},leftTop:{points:["tl","tr"],overflow:wo},leftBottom:{points:["bl","br"],overflow:wo}};function az(t,e,n){if(e)return e;if(n)return n[t]||n.other}var Bae={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function kae(t){var e=t.prefixCls,n=t.visible,r=t.children,i=t.popup,o=t.popupStyle,s=t.popupClassName,a=t.popupOffset,l=t.disabled,c=t.mode,u=t.onVisibleChange,d=y.useContext(tl),f=d.getPopupContainer,h=d.rtl,g=d.subMenuOpenDelay,x=d.subMenuCloseDelay,b=d.builtinPlacements,v=d.triggerSubMenuAction,_=d.forceSubMenuRender,S=d.rootClassName,w=d.motion,M=d.defaultMotions,E=y.useState(!1),T=Ie(E,2),N=T[0],R=T[1],P=_e(h?_e({},Uae):_e({},$ae),b),L=Bae[c],$=az(c,w,M),V=y.useRef($);c!=="inline"&&(V.current=$);var D=_e(_e({},V.current),{},{leavedClassName:"".concat(e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),H=y.useRef();return y.useEffect(function(){return H.current=jn(function(){R(n)}),function(){jn.cancel(H.current)}},[n]),y.createElement(T6,{prefixCls:e,popupClassName:ye("".concat(e,"-popup"),se({},"".concat(e,"-rtl"),h),s,S),stretch:c==="horizontal"?"minWidth":null,getPopupContainer:f,builtinPlacements:P,popupPlacement:L,popupVisible:N,popup:i,popupStyle:o,popupAlign:a&&{offset:a},action:l?[]:[v],mouseEnterDelay:g,mouseLeaveDelay:x,onPopupVisibleChange:u,forceRender:_,popupMotion:D},r)}function zae(t){var e=t.id,n=t.open,r=t.keyPath,i=t.children,o="inline",s=y.useContext(tl),a=s.prefixCls,l=s.forceSubMenuRender,c=s.motion,u=s.defaultMotions,d=s.mode,f=y.useRef(!1);f.current=d===o;var h=y.useState(!f.current),g=Ie(h,2),x=g[0],b=g[1],v=f.current?n:!1;y.useEffect(function(){f.current&&b(!1)},[d]);var _=_e({},az(o,c,u));r.length>1&&(_.motionAppear=!1);var S=_.onVisibleChanged;return _.onVisibleChanged=function(w){return!f.current&&!w&&b(!0),S?.(w)},x?null:y.createElement(Mv,{mode:o,locked:!f.current},y.createElement(Hl,ct({visible:v},_,{forceRender:l,removeOnLeave:!1,leavedClassName:"".concat(a,"-hidden")}),function(w){var M=w.className,E=w.style;return y.createElement(SE,{id:e,className:M,style:E},i)}))}var Vae=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],Hae=["active"],Gae=function(e){var n,r=e.style,i=e.className,o=e.title,s=e.eventKey;e.warnKey;var a=e.disabled,l=e.internalPopupClose,c=e.children,u=e.itemIcon,d=e.expandIcon,f=e.popupClassName,h=e.popupOffset,g=e.popupStyle,x=e.onClick,b=e.onMouseEnter,v=e.onMouseLeave,_=e.onTitleClick,S=e.onTitleMouseEnter,w=e.onTitleMouseLeave,M=ln(e,Vae),E=Qk(s),T=y.useContext(tl),N=T.prefixCls,R=T.mode,P=T.openKeys,L=T.disabled,$=T.overflowDisabled,V=T.activeKey,D=T.selectedKeys,H=T.itemIcon,F=T.expandIcon,k=T.onItemClick,O=T.onOpenChange,B=T.onActive,G=y.useContext(xE),W=G._internalRenderSubMenuItem,K=y.useContext(tz),X=K.isSubPathKey,Y=r0(),te="".concat(N,"-submenu"),oe=L||a,ie=y.useRef(),le=y.useRef(),ve=u??H,me=d??F,we=P.includes(s),Q=!$&&we,fe=X(D,s),he=iz(s,oe,S,w),Ee=he.active,ue=ln(he,Hae),ke=y.useState(!1),ge=Ie(ke,2),j=ge[0],z=ge[1],ee=function(re){oe||z(re)},xe=function(re){ee(!0),b?.({key:s,domEvent:re})},Ne=function(re){ee(!1),v?.({key:s,domEvent:re})},Ae=y.useMemo(function(){return Ee||(R!=="inline"?j||X([V],s):!1)},[R,Ee,V,j,s,X]),Fe=oz(Y.length),Oe=function(re){oe||(_?.({key:s,domEvent:re}),R==="inline"&&O(s,!we))},We=Rg(function(Ze){x?.(Y5(Ze)),k(Ze)}),ht=function(re){R!=="inline"&&O(s,re)},Ge=function(){B(s)},Te=E&&"".concat(E,"-popup"),nt=y.createElement("div",ct({role:"menuitem",style:Fe,className:"".concat(te,"-title"),tabIndex:oe?null:-1,ref:ie,title:typeof o=="string"?o:null,"data-menu-id":$&&E?null:E,"aria-expanded":Q,"aria-haspopup":!0,"aria-controls":Te,"aria-disabled":oe,onClick:Oe,onFocus:Ge},ue),o,y.createElement(sz,{icon:R!=="horizontal"?me:void 0,props:_e(_e({},e),{},{isOpen:Q,isSubMenu:!0})},y.createElement("i",{className:"".concat(te,"-arrow")}))),at=y.useRef(R);if(R!=="inline"&&Y.length>1?at.current="vertical":at.current=R,!$){var rt=at.current;nt=y.createElement(kae,{mode:rt,prefixCls:te,visible:!l&&Q&&R!=="inline",popupClassName:f,popupOffset:h,popupStyle:g,popup:y.createElement(Mv,{mode:rt==="horizontal"?"vertical":rt},y.createElement(SE,{id:Te,ref:le},c)),disabled:oe,onVisibleChange:ht},nt)}var st=y.createElement(Nl.Item,ct({role:"none"},M,{component:"li",style:r,className:ye(te,"".concat(te,"-").concat(R),i,(n={},se(n,"".concat(te,"-open"),Q),se(n,"".concat(te,"-active"),Ae),se(n,"".concat(te,"-selected"),fe),se(n,"".concat(te,"-disabled"),oe),n)),onMouseEnter:xe,onMouseLeave:Ne}),nt,!$&&y.createElement(zae,{id:Te,open:Q,keyPath:Y},c));return W&&(st=W(st,e,{selected:fe,active:Ae,open:Q,disabled:oe})),y.createElement(Mv,{onItemClick:We,mode:R==="horizontal"?"vertical":R,itemIcon:ve,expandIcon:me},st)};function A6(t){var e=t.eventKey,n=t.children,r=r0(e),i=_E(n,r),o=R6();y.useEffect(function(){if(o)return o.registerPath(e,r),function(){o.unregisterPath(e,r)}},[r]);var s;return o?s=i:s=y.createElement(Gae,t,i),y.createElement(ez.Provider,{value:r},s)}var Wae=["className","title","eventKey","children"],jae=["children"],Xae=function(e){var n=e.className,r=e.title;e.eventKey;var i=e.children,o=ln(e,Wae),s=y.useContext(tl),a=s.prefixCls,l="".concat(a,"-item-group");return y.createElement("li",ct({role:"presentation"},o,{onClick:function(u){return u.stopPropagation()},className:ye(l,n)}),y.createElement("div",{role:"presentation",className:"".concat(l,"-title"),title:typeof r=="string"?r:void 0},r),y.createElement("ul",{role:"group",className:"".concat(l,"-list")},i))};function P6(t){var e=t.children,n=ln(t,jae),r=r0(n.eventKey),i=_E(e,r),o=R6();return o?i:y.createElement(Xae,fi(n,["warnKey"]),i)}function wE(t){var e=t.className,n=t.style,r=y.useContext(tl),i=r.prefixCls,o=R6();return o?null:y.createElement("li",{role:"separator",className:ye("".concat(i,"-item-divider"),e),style:n})}var qae=["label","children","key","type"];function U_(t){return(t||[]).map(function(e,n){if(e&&nn(e)==="object"){var r=e,i=r.label,o=r.children,s=r.key,a=r.type,l=ln(r,qae),c=s??"tmp-".concat(n);return o||a==="group"?a==="group"?y.createElement(P6,ct({key:c},l,{title:i}),U_(o)):y.createElement(A6,ct({key:c},l,{title:i}),U_(o)):a==="divider"?y.createElement(wE,ct({key:c},l)):y.createElement(C3,ct({key:c},l),i)}return null}).filter(function(e){return e})}function Kae(t,e,n){var r=t;return e&&(r=U_(e)),_E(r,n)}var Yae=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],Ih=[],Zae=y.forwardRef(function(t,e){var n,r,i=t,o=i.prefixCls,s=o===void 0?"rc-menu":o,a=i.rootClassName,l=i.style,c=i.className,u=i.tabIndex,d=u===void 0?0:u,f=i.items,h=i.children,g=i.direction,x=i.id,b=i.mode,v=b===void 0?"vertical":b,_=i.inlineCollapsed,S=i.disabled,w=i.disabledOverflow,M=i.subMenuOpenDelay,E=M===void 0?.1:M,T=i.subMenuCloseDelay,N=T===void 0?.1:T,R=i.forceSubMenuRender,P=i.defaultOpenKeys,L=i.openKeys,$=i.activeKey,V=i.defaultActiveFirst,D=i.selectable,H=D===void 0?!0:D,F=i.multiple,k=F===void 0?!1:F,O=i.defaultSelectedKeys,B=i.selectedKeys,G=i.onSelect,W=i.onDeselect,K=i.inlineIndent,X=K===void 0?24:K,Y=i.motion,te=i.defaultMotions,oe=i.triggerSubMenuAction,ie=oe===void 0?"hover":oe,le=i.builtinPlacements,ve=i.itemIcon,me=i.expandIcon,we=i.overflowedIndicator,Q=we===void 0?"...":we,fe=i.overflowedIndicatorPopupClassName,he=i.getPopupContainer,Ee=i.onClick,ue=i.onOpenChange,ke=i.onKeyDown;i.openAnimation,i.openTransitionName;var ge=i._internalRenderMenuItem,j=i._internalRenderSubMenuItem,z=ln(i,Yae),ee=y.useMemo(function(){return Kae(h,f,Ih)},[h,f]),xe=y.useState(!1),Ne=Ie(xe,2),Ae=Ne[0],Fe=Ne[1],Oe=y.useRef(),We=Mae(x),ht=g==="rtl",Ge=ei(P,{value:L,postState:function(Dt){return Dt||Ih}}),Te=Ie(Ge,2),nt=Te[0],at=Te[1],rt=function(Dt){var It=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function xn(){at(Dt),ue?.(Dt)}It?xa.flushSync(xn):xn()},st=y.useState(nt),Ze=Ie(st,2),re=Ze[0],Ve=Ze[1],Qe=y.useRef(!1),lt=y.useMemo(function(){return(v==="inline"||v==="vertical")&&_?["vertical",_]:[v,!1]},[v,_]),ce=Ie(lt,2),Z=ce[0],Re=ce[1],Pe=Z==="inline",Je=y.useState(Z),ft=Ie(Je,2),wt=ft[0],mt=ft[1],Ye=y.useState(Re),dt=Ie(Ye,2),it=dt[0],gt=dt[1];y.useEffect(function(){mt(Z),gt(Re),Qe.current&&(Pe?at(re):rt(Ih))},[Z,Re]);var sn=y.useState(0),gn=Ie(sn,2),Zn=gn[0],Xn=gn[1],Wn=Zn>=ee.length-1||wt!=="horizontal"||w;y.useEffect(function(){Pe&&Ve(nt)},[nt]),y.useEffect(function(){return Qe.current=!0,function(){Qe.current=!1}},[]);var dn=Eae(),ar=dn.registerPath,Pr=dn.unregisterPath,vn=dn.refreshOverflowKeys,an=dn.isSubPathKey,Ct=dn.getKeyPath,q=dn.getKeys,de=dn.getSubPathKeys,Se=y.useMemo(function(){return{registerPath:ar,unregisterPath:Pr}},[ar,Pr]),De=y.useMemo(function(){return{isSubPathKey:an}},[an]);y.useEffect(function(){vn(Wn?Ih:ee.slice(Zn+1).map(function(Qt){return Qt.key}))},[Zn,Wn]);var $e=ei($||V&&((n=ee[0])===null||n===void 0?void 0:n.key),{value:$}),_t=Ie($e,2),Nt=_t[0],zt=_t[1],$t=Rg(function(Qt){zt(Qt)}),qt=Rg(function(){zt(void 0)});y.useImperativeHandle(e,function(){return{list:Oe.current,focus:function(Dt){var It,xn=Nt??((It=ee.find(function(br){return!br.props.disabled}))===null||It===void 0?void 0:It.key);if(xn){var $n,Gn,xr;($n=Oe.current)===null||$n===void 0||(Gn=$n.querySelector("li[data-menu-id='".concat(yE(We,xn),"']")))===null||Gn===void 0||(xr=Gn.focus)===null||xr===void 0||xr.call(Gn,Dt)}}}});var en=ei(O||[],{value:B,postState:function(Dt){return Array.isArray(Dt)?Dt:Dt==null?Ih:[Dt]}}),Xt=Ie(en,2),Ln=Xt[0],hr=Xt[1],Fn=function(Dt){if(H){var It=Dt.key,xn=Ln.includes(It),$n;k?xn?$n=Ln.filter(function(xr){return xr!==It}):$n=[].concat(St(Ln),[It]):$n=[It],hr($n);var Gn=_e(_e({},Dt),{},{selectedKeys:$n});xn?W?.(Gn):G?.(Gn)}!k&&nt.length&&wt!=="inline"&&rt(Ih)},nr=Rg(function(Qt){Ee?.(Y5(Qt)),Fn(Qt)}),Vt=Rg(function(Qt,Dt){var It=nt.filter(function($n){return $n!==Qt});if(Dt)It.push(Qt);else if(wt!=="inline"){var xn=de(Qt);It=It.filter(function($n){return!xn.has($n)})}l6(nt,It,!0)||rt(It,!0)}),Rt=function(Dt,It){var xn=It??!nt.includes(Dt);Vt(Dt,xn)},Nr=_ae(wt,Nt,ht,We,Oe,q,Ct,zt,Rt,ke);y.useEffect(function(){Fe(!0)},[]);var rn=y.useMemo(function(){return{_internalRenderMenuItem:ge,_internalRenderSubMenuItem:j}},[ge,j]),Lt=wt!=="horizontal"||w?ee:ee.map(function(Qt,Dt){return y.createElement(Mv,{key:Qt.key,overflowDisabled:Dt>Zn},Qt)}),Kt=y.createElement(Nl,ct({id:x,ref:Oe,prefixCls:"".concat(s,"-overflow"),component:"ul",itemComponent:C3,className:ye(s,"".concat(s,"-root"),"".concat(s,"-").concat(wt),c,(r={},se(r,"".concat(s,"-inline-collapsed"),it),se(r,"".concat(s,"-rtl"),ht),r),a),dir:g,style:l,role:"menu",tabIndex:d,data:Lt,renderRawItem:function(Dt){return Dt},renderRawRest:function(Dt){var It=Dt.length,xn=It?ee.slice(-It):null;return y.createElement(A6,{eventKey:$_,title:Q,disabled:Wn,internalPopupClose:It===0,popupClassName:fe},xn)},maxCount:wt!=="horizontal"||w?Nl.INVALIDATE:Nl.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(Dt){Xn(Dt)},onKeyDown:Nr},z));return y.createElement(xE.Provider,{value:rn},y.createElement(Zk.Provider,{value:We},y.createElement(Mv,{prefixCls:s,rootClassName:a,mode:wt,openKeys:nt,rtl:ht,disabled:S,motion:Ae?Y:null,defaultMotions:Ae?te:null,activeKey:Nt,onActive:$t,onInactive:qt,selectedKeys:Ln,inlineIndent:X,subMenuOpenDelay:E,subMenuCloseDelay:N,forceSubMenuRender:R,builtinPlacements:le,triggerSubMenuAction:ie,getPopupContainer:he,itemIcon:ve,expandIcon:me,onItemClick:nr,onOpenChange:Vt},y.createElement(tz.Provider,{value:De},Kt),y.createElement("div",{style:{display:"none"},"aria-hidden":!0},y.createElement(Jk.Provider,{value:Se},ee)))))}),i0=Zae;i0.Item=C3;i0.SubMenu=A6;i0.ItemGroup=P6;i0.Divider=wE;var Qae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};const Jae=Qae;var ele=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:Jae}))};const WN=y.forwardRef(ele);globalThis&&globalThis.__rest;const lz=y.createContext({});var tle=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const nle=t=>{const{prefixCls:e,className:n,dashed:r}=t,i=tle(t,["prefixCls","className","dashed"]),{getPrefixCls:o}=y.useContext(Zt),s=o("menu",e),a=ye({[`${s}-item-divider-dashed`]:!!r},n);return y.createElement(wE,Object.assign({className:a},i))},cz=nle,rle=y.createContext({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),Z5=rle,ile=t=>{var e;const{className:n,children:r,icon:i,title:o,danger:s}=t,{prefixCls:a,firstLevel:l,direction:c,disableMenuItemTitleTooltip:u,inlineCollapsed:d}=y.useContext(Z5),f=_=>{const S=y.createElement("span",{className:`${a}-title-content`},r);return(!i||Sa(r)&&r.type==="span")&&r&&_&&l&&typeof r=="string"?y.createElement("div",{className:`${a}-inline-collapsed-noicon`},r.charAt(0)):S},{siderCollapsed:h}=y.useContext(lz);let g=o;typeof o>"u"?g=l?r:"":o===!1&&(g="");const x={title:g};!h&&!d&&(x.title=null,x.open=!1);const b=hs(r).length;let v=y.createElement(C3,Object.assign({},fi(t,["title","icon","danger"]),{className:ye({[`${a}-item-danger`]:s,[`${a}-item-only-child`]:(i?b+1:b)===1},n),title:typeof o=="string"?o:void 0}),ji(i,{className:ye(Sa(i)?(e=i.props)===null||e===void 0?void 0:e.className:"",`${a}-item-icon`)}),f(d));return u||(v=y.createElement($c,Object.assign({},x,{placement:c==="rtl"?"left":"right",overlayClassName:`${a}-inline-collapsed-tooltip`}),v)),v},uz=ile,ole=t=>{var e;const{popupClassName:n,icon:r,title:i,theme:o}=t,s=y.useContext(Z5),{prefixCls:a,inlineCollapsed:l,theme:c}=s,u=r0();let d;if(!r)d=l&&!u.length&&i&&typeof i=="string"?y.createElement("div",{className:`${a}-inline-collapsed-noicon`},i.charAt(0)):y.createElement("span",{className:`${a}-title-content`},i);else{const h=Sa(i)&&i.type==="span";d=y.createElement(y.Fragment,null,ji(r,{className:ye(Sa(r)?(e=r.props)===null||e===void 0?void 0:e.className:"",`${a}-item-icon`)}),h?i:y.createElement("span",{className:`${a}-title-content`},i))}const f=y.useMemo(()=>Object.assign(Object.assign({},s),{firstLevel:!1}),[s]);return y.createElement(Z5.Provider,{value:f},y.createElement(A6,Object.assign({},fi(t,["icon"]),{title:d,popupClassName:ye(a,n,`${a}-${o||c}`)})))},dz=ole;var sle={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};const ale=sle;var lle=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:ale}))};const CE=y.forwardRef(lle);var cle=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function B_(t){return(t||[]).map((e,n)=>{if(e&&typeof e=="object"){const r=e,{label:i,children:o,key:s,type:a}=r,l=cle(r,["label","children","key","type"]),c=s??`tmp-${n}`;return o||a==="group"?a==="group"?y.createElement(P6,Object.assign({key:c},l,{title:i}),B_(o)):y.createElement(dz,Object.assign({key:c},l,{title:i}),B_(o)):a==="divider"?y.createElement(cz,Object.assign({key:c},l)):y.createElement(uz,Object.assign({key:c},l),i)}return null}).filter(e=>e)}function ule(t){return y.useMemo(()=>t&&B_(t),[t])}var dle=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const k_=y.createContext(null),fle=y.forwardRef((t,e)=>{const{children:n}=t,r=dle(t,["children"]),i=y.useContext(k_),o=y.useMemo(()=>Object.assign(Object.assign({},i),r),[i,r.prefixCls,r.mode,r.selectable]);return y.createElement(k_.Provider,{value:o},y.createElement(mm,null,hZ(n)?y.cloneElement(n,{ref:e}):n))}),jN=k_,hle=t=>{const{componentCls:e,motionDurationSlow:n,horizontalLineHeight:r,colorSplit:i,lineWidth:o,lineType:s,itemPaddingInline:a}=t;return{[`${e}-horizontal`]:{lineHeight:r,border:0,borderBottom:`${o}px ${s} ${i}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${e}-item, ${e}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:a},[`> ${e}-item:hover,
        > ${e}-item-active,
        > ${e}-submenu ${e}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${e}-item, ${e}-submenu-title`]:{transition:[`border-color ${n}`,`background ${n}`].join(",")},[`${e}-submenu-arrow`]:{display:"none"}}}},ple=hle,mle=t=>{let{componentCls:e,menuArrowOffset:n}=t;return{[`${e}-rtl`]:{direction:"rtl"},[`${e}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${e}-rtl${e}-vertical,
    ${e}-submenu-rtl ${e}-vertical`]:{[`${e}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(-${n})`},"&::after":{transform:`rotate(45deg) translateY(${n})`}}}}},gle=mle,XN=t=>Object.assign({},B5(t)),vle=(t,e)=>{const{componentCls:n,itemColor:r,itemSelectedColor:i,groupTitleColor:o,itemBg:s,subMenuItemBg:a,itemSelectedBg:l,activeBarHeight:c,activeBarWidth:u,activeBarBorderWidth:d,motionDurationSlow:f,motionEaseInOut:h,motionEaseOut:g,itemPaddingInline:x,motionDurationMid:b,itemHoverColor:v,lineType:_,colorSplit:S,itemDisabledColor:w,dangerItemColor:M,dangerItemHoverColor:E,dangerItemSelectedColor:T,dangerItemActiveBg:N,dangerItemSelectedBg:R,itemHoverBg:P,itemActiveBg:L,menuSubMenuBg:$,horizontalItemSelectedColor:V,horizontalItemSelectedBg:D,horizontalItemBorderRadius:H,horizontalItemHoverBg:F,popupBg:k}=t;return{[`${n}-${e}, ${n}-${e} > ${n}`]:{color:r,background:s,[`&${n}-root:focus-visible`]:Object.assign({},XN(t)),[`${n}-item-group-title`]:{color:o},[`${n}-submenu-selected`]:{[`> ${n}-submenu-title`]:{color:i}},[`${n}-item-disabled, ${n}-submenu-disabled`]:{color:`${w} !important`},[`${n}-item:not(${n}-item-selected):not(${n}-submenu-selected)`]:{[`&:hover, > ${n}-submenu-title:hover`]:{color:v}},[`&:not(${n}-horizontal)`]:{[`${n}-item:not(${n}-item-selected)`]:{"&:hover":{backgroundColor:P},"&:active":{backgroundColor:L}},[`${n}-submenu-title`]:{"&:hover":{backgroundColor:P},"&:active":{backgroundColor:L}}},[`${n}-item-danger`]:{color:M,[`&${n}-item:hover`]:{[`&:not(${n}-item-selected):not(${n}-submenu-selected)`]:{color:E}},[`&${n}-item:active`]:{background:N}},[`${n}-item a`]:{"&, &:hover":{color:"inherit"}},[`${n}-item-selected`]:{color:i,[`&${n}-item-danger`]:{color:T},"a, a:hover":{color:"inherit"}},[`& ${n}-item-selected`]:{backgroundColor:l,[`&${n}-item-danger`]:{backgroundColor:R}},[`${n}-item, ${n}-submenu-title`]:{[`&:not(${n}-item-disabled):focus-visible`]:Object.assign({},XN(t))},[`&${n}-submenu > ${n}`]:{backgroundColor:$},[`&${n}-popup > ${n}`]:{backgroundColor:k},[`&${n}-horizontal`]:Object.assign(Object.assign({},e==="dark"?{borderBottom:0}:{}),{[`> ${n}-item, > ${n}-submenu`]:{top:d,marginTop:-d,marginBottom:0,borderRadius:H,"&::after":{position:"absolute",insetInline:x,bottom:0,borderBottom:`${c}px solid transparent`,transition:`border-color ${f} ${h}`,content:'""'},"&:hover, &-active, &-open":{background:F,"&::after":{borderBottomWidth:c,borderBottomColor:V}},"&-selected":{color:V,backgroundColor:D,"&:hover":{backgroundColor:D},"&::after":{borderBottomWidth:c,borderBottomColor:V}}}}),[`&${n}-root`]:{[`&${n}-inline, &${n}-vertical`]:{borderInlineEnd:`${d}px ${_} ${S}`}},[`&${n}-inline`]:{[`${n}-sub${n}-inline`]:{background:a},[`${n}-item, ${n}-submenu-title`]:d&&u?{width:`calc(100% + ${d}px)`}:{},[`${n}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${u}px solid ${i}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${b} ${g}`,`opacity ${b} ${g}`].join(","),content:'""'},[`&${n}-item-danger`]:{"&::after":{borderInlineEndColor:T}}},[`${n}-selected, ${n}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${b} ${h}`,`opacity ${b} ${h}`].join(",")}}}}}},qN=vle,KN=t=>{const{componentCls:e,itemHeight:n,itemMarginInline:r,padding:i,menuArrowSize:o,marginXS:s,itemMarginBlock:a}=t,l=i+o+s;return{[`${e}-item`]:{position:"relative",overflow:"hidden"},[`${e}-item, ${e}-submenu-title`]:{height:n,lineHeight:`${n}px`,paddingInline:i,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:a,width:`calc(100% - ${r*2}px)`},[`> ${e}-item,
            > ${e}-submenu > ${e}-submenu-title`]:{height:n,lineHeight:`${n}px`},[`${e}-item-group-list ${e}-submenu-title,
            ${e}-submenu-title`]:{paddingInlineEnd:l}}},yle=t=>{const{componentCls:e,iconCls:n,itemHeight:r,colorTextLightSolid:i,dropdownWidth:o,controlHeightLG:s,motionDurationMid:a,motionEaseOut:l,paddingXL:c,itemMarginInline:u,fontSizeLG:d,motionDurationSlow:f,paddingXS:h,boxShadowSecondary:g,collapsedWidth:x,collapsedIconSize:b}=t,v={height:r,lineHeight:`${r}px`,listStylePosition:"inside",listStyleType:"disc"};return[{[e]:{"&-inline, &-vertical":Object.assign({[`&${e}-root`]:{boxShadow:"none"}},KN(t))},[`${e}-submenu-popup`]:{[`${e}-vertical`]:Object.assign(Object.assign({},KN(t)),{boxShadow:g})}},{[`${e}-submenu-popup ${e}-vertical${e}-sub`]:{minWidth:o,maxHeight:`calc(100vh - ${s*2.5}px)`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${e}-inline`]:{width:"100%",[`&${e}-root`]:{[`${e}-item, ${e}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${f}`,`background ${f}`,`padding ${a} ${l}`].join(","),[`> ${e}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${e}-sub${e}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${e}-submenu > ${e}-submenu-title`]:v,[`& ${e}-item-group-title`]:{paddingInlineStart:c}},[`${e}-item`]:v}},{[`${e}-inline-collapsed`]:{width:x,[`&${e}-root`]:{[`${e}-item, ${e}-submenu ${e}-submenu-title`]:{[`> ${e}-inline-collapsed-noicon`]:{fontSize:d,textAlign:"center"}}},[`> ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-submenu > ${e}-submenu-title,
          > ${e}-submenu > ${e}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${d/2}px - ${u}px)`,textOverflow:"clip",[`
            ${e}-submenu-arrow,
            ${e}-submenu-expand-icon
          `]:{opacity:0},[`${e}-item-icon, ${n}`]:{margin:0,fontSize:b,lineHeight:`${r}px`,"+ span":{display:"inline-block",opacity:0}}},[`${e}-item-icon, ${n}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${e}-item-icon, ${n}`]:{display:"none"},"a, a:hover":{color:i}},[`${e}-item-group-title`]:Object.assign(Object.assign({},Oc),{paddingInline:h})}}]},xle=yle,YN=t=>{const{componentCls:e,motionDurationSlow:n,motionDurationMid:r,motionEaseInOut:i,motionEaseOut:o,iconCls:s,iconSize:a,iconMarginInlineEnd:l}=t;return{[`${e}-item, ${e}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${n}`,`background ${n}`,`padding ${n} ${i}`].join(","),[`${e}-item-icon, ${s}`]:{minWidth:a,fontSize:a,transition:[`font-size ${r} ${o}`,`margin ${n} ${i}`,`color ${n}`].join(","),"+ span":{marginInlineStart:l,opacity:1,transition:[`opacity ${n} ${i}`,`margin ${n}`,`color ${n}`].join(",")}},[`${e}-item-icon`]:Object.assign({},e0()),[`&${e}-item-only-child`]:{[`> ${s}, > ${e}-item-icon`]:{marginInlineEnd:0}}},[`${e}-item-disabled, ${e}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${e}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},ZN=t=>{const{componentCls:e,motionDurationSlow:n,motionEaseInOut:r,borderRadius:i,menuArrowSize:o,menuArrowOffset:s}=t;return{[`${e}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:t.margin,width:o,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${n} ${r}, opacity ${n}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:o*.6,height:o*.15,backgroundColor:"currentcolor",borderRadius:i,transition:[`background ${n} ${r}`,`transform ${n} ${r}`,`top ${n} ${r}`,`color ${n} ${r}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(-${s})`},"&::after":{transform:`rotate(-45deg) translateY(${s})`}}}}},ble=t=>{const{antCls:e,componentCls:n,fontSize:r,motionDurationSlow:i,motionDurationMid:o,motionEaseInOut:s,paddingXS:a,padding:l,colorSplit:c,lineWidth:u,zIndexPopup:d,borderRadiusLG:f,subMenuItemBorderRadius:h,menuArrowSize:g,menuArrowOffset:x,lineType:b,menuPanelMaskInset:v,groupTitleLineHeight:_,groupTitleFontSize:S}=t;return[{"":{[`${n}`]:Object.assign(Object.assign({},Lc()),{"&-hidden":{display:"none"}})},[`${n}-submenu-hidden`]:{display:"none"}},{[n]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Vr(t)),Lc()),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${i} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${n}-item`]:{flex:"none"}},[`${n}-item, ${n}-submenu, ${n}-submenu-title`]:{borderRadius:t.itemBorderRadius},[`${n}-item-group-title`]:{padding:`${a}px ${l}px`,fontSize:S,lineHeight:_,transition:`all ${i}`},[`&-horizontal ${n}-submenu`]:{transition:[`border-color ${i} ${s}`,`background ${i} ${s}`].join(",")},[`${n}-submenu, ${n}-submenu-inline`]:{transition:[`border-color ${i} ${s}`,`background ${i} ${s}`,`padding ${o} ${s}`].join(",")},[`${n}-submenu ${n}-sub`]:{cursor:"initial",transition:[`background ${i} ${s}`,`padding ${i} ${s}`].join(",")},[`${n}-title-content`]:{transition:`color ${i}`},[`${n}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${n}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:c,borderStyle:b,borderWidth:0,borderTopWidth:u,marginBlock:u,padding:0,"&-dashed":{borderStyle:"dashed"}}}),YN(t)),{[`${n}-item-group`]:{[`${n}-item-group-list`]:{margin:0,padding:0,[`${n}-item, ${n}-submenu-title`]:{paddingInline:`${r*2}px ${l}px`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:d,borderRadius:f,boxShadow:"none",transformOrigin:"0 0",[`&${n}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:`${v}px 0 0`,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'}},"&-placement-rightTop::before":{top:0,insetInlineStart:v},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:t.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:t.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:t.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:t.paddingXS},[`> ${n}`]:Object.assign(Object.assign(Object.assign({borderRadius:f},YN(t)),ZN(t)),{[`${n}-item, ${n}-submenu > ${n}-submenu-title`]:{borderRadius:h},[`${n}-submenu-title::after`]:{transition:`transform ${i} ${s}`}})}}),ZN(t)),{[`&-inline-collapsed ${n}-submenu-arrow,
        &-inline ${n}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${x})`},"&::after":{transform:`rotate(45deg) translateX(-${x})`}},[`${n}-submenu-open${n}-submenu-inline > ${n}-submenu-title > ${n}-submenu-arrow`]:{transform:`translateY(-${g*.2}px)`,"&::after":{transform:`rotate(-45deg) translateX(-${x})`},"&::before":{transform:`rotate(45deg) translateX(${x})`}}})},{[`${e}-layout-header`]:{[n]:{lineHeight:"inherit"}}}]},Sle=(t,e)=>yr("Menu",r=>{if(e===!1)return[];const{colorBgElevated:i,colorPrimary:o,colorTextLightSolid:s,controlHeightLG:a,fontSize:l,darkItemColor:c,darkDangerItemColor:u,darkItemBg:d,darkSubMenuItemBg:f,darkItemSelectedColor:h,darkItemSelectedBg:g,darkDangerItemSelectedBg:x,darkItemHoverBg:b,darkGroupTitleColor:v,darkItemHoverColor:_,darkItemDisabledColor:S,darkDangerItemHoverColor:w,darkDangerItemSelectedColor:M,darkDangerItemActiveBg:E}=r,T=l/7*5,N=wn(r,{menuArrowSize:T,menuHorizontalHeight:a*1.15,menuArrowOffset:`${T*.25}px`,menuPanelMaskInset:-7,menuSubMenuBg:i}),R=wn(N,{itemColor:c,itemHoverColor:_,groupTitleColor:v,itemSelectedColor:h,itemBg:d,popupBg:d,subMenuItemBg:f,itemActiveBg:"transparent",itemSelectedBg:g,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:b,itemDisabledColor:S,dangerItemColor:u,dangerItemHoverColor:w,dangerItemSelectedColor:M,dangerItemActiveBg:E,dangerItemSelectedBg:x,menuSubMenuBg:f,horizontalItemSelectedColor:s,horizontalItemSelectedBg:o});return[ble(N),ple(N),xle(N),qN(N,"light"),qN(R,"dark"),gle(N),aE(N),Wu(N,"slide-up"),Wu(N,"slide-down"),w6(N,"zoom-big")]},r=>{const{colorPrimary:i,colorError:o,colorTextDisabled:s,colorErrorBg:a,colorText:l,colorTextDescription:c,colorBgContainer:u,colorFillAlter:d,colorFillContent:f,lineWidth:h,lineWidthBold:g,controlItemBgActive:x,colorBgTextHover:b,controlHeightLG:v,lineHeight:_,colorBgElevated:S,marginXXS:w,padding:M,fontSize:E,controlHeightSM:T,fontSizeLG:N,colorTextLightSolid:R,colorErrorHover:P}=r,L=new ci(R).setAlpha(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:r.zIndexPopupBase+50,radiusItem:r.borderRadiusLG,itemBorderRadius:r.borderRadiusLG,radiusSubMenuItem:r.borderRadiusSM,subMenuItemBorderRadius:r.borderRadiusSM,colorItemText:l,itemColor:l,colorItemTextHover:l,itemHoverColor:l,colorItemTextHoverHorizontal:i,horizontalItemHoverColor:i,colorGroupTitle:c,groupTitleColor:c,colorItemTextSelected:i,itemSelectedColor:i,colorItemTextSelectedHorizontal:i,horizontalItemSelectedColor:i,colorItemBg:u,itemBg:u,colorItemBgHover:b,itemHoverBg:b,colorItemBgActive:f,itemActiveBg:x,colorSubItemBg:d,subMenuItemBg:d,colorItemBgSelected:x,itemSelectedBg:x,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:0,colorActiveBarHeight:g,activeBarHeight:g,colorActiveBarBorderSize:h,activeBarBorderWidth:h,colorItemTextDisabled:s,itemDisabledColor:s,colorDangerItemText:o,dangerItemColor:o,colorDangerItemTextHover:o,dangerItemHoverColor:o,colorDangerItemTextSelected:o,dangerItemSelectedColor:o,colorDangerItemBgActive:a,dangerItemActiveBg:a,colorDangerItemBgSelected:a,dangerItemSelectedBg:a,itemMarginInline:r.marginXXS,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:v,groupTitleLineHeight:_,collapsedWidth:v*2,popupBg:S,itemMarginBlock:w,itemPaddingInline:M,horizontalLineHeight:`${v*1.15}px`,iconSize:E,iconMarginInlineEnd:T-E,collapsedIconSize:N,groupTitleFontSize:E,darkItemDisabledColor:new ci(R).setAlpha(.25).toRgbString(),darkItemColor:L,darkDangerItemColor:o,darkItemBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:R,darkItemSelectedBg:i,darkDangerItemSelectedBg:o,darkItemHoverBg:"transparent",darkGroupTitleColor:L,darkItemHoverColor:R,darkDangerItemHoverColor:P,darkDangerItemSelectedColor:R,darkDangerItemActiveBg:o}},{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]]})(t);var _le=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const wle=y.forwardRef((t,e)=>{var n,r;const i=y.useContext(jN),o=i||{},{getPrefixCls:s,getPopupContainer:a,direction:l,menu:c}=y.useContext(Zt),u=s(),{prefixCls:d,className:f,style:h,theme:g="light",expandIcon:x,_internalDisableMenuItemTitleTooltip:b,inlineCollapsed:v,siderCollapsed:_,items:S,children:w,rootClassName:M,mode:E,selectable:T,onClick:N,overflowedIndicatorPopupClassName:R}=t,P=_le(t,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","items","children","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),L=fi(P,["collapsedWidth"]),$=ule(S)||w;(n=o.validator)===null||n===void 0||n.call(o,{mode:E});const V=Eo(function(){var Y;N?.apply(void 0,arguments),(Y=o.onClick)===null||Y===void 0||Y.call(o)}),D=o.mode||E,H=T??o.selectable,F=y.useMemo(()=>_!==void 0?_:v,[v,_]),k={horizontal:{motionName:`${u}-slide-up`},inline:ZC(u),other:{motionName:`${u}-zoom-big`}},O=s("menu",d||o.prefixCls),[B,G]=Sle(O,!i),W=ye(`${O}-${g}`,c?.className,f);let K;if(typeof x=="function")K=x;else if(x===null||x===!1)K=null;else if(o.expandIcon===null||o.expandIcon===!1)K=null;else{const Y=x??o.expandIcon;K=ji(Y,{className:ye(`${O}-submenu-expand-icon`,Sa(Y)?(r=Y.props)===null||r===void 0?void 0:r.className:"")})}const X=y.useMemo(()=>({prefixCls:O,inlineCollapsed:F||!1,direction:l,firstLevel:!0,theme:g,mode:D,disableMenuItemTitleTooltip:b}),[O,F,l,b,g]);return B(y.createElement(jN.Provider,{value:null},y.createElement(Z5.Provider,{value:X},y.createElement(i0,Object.assign({getPopupContainer:a,overflowedIndicator:y.createElement(CE,null),overflowedIndicatorPopupClassName:ye(O,`${O}-${g}`,R),mode:D,selectable:H,onClick:V},L,{inlineCollapsed:F,style:Object.assign(Object.assign({},c?.style),h),className:W,prefixCls:O,direction:l,defaultMotions:k,expandIcon:K,ref:e,rootClassName:ye(M,G)}),$))))}),Cle=wle,E3=y.forwardRef((t,e)=>{const n=y.useRef(null),r=y.useContext(lz);return y.useImperativeHandle(e,()=>({menu:n.current,focus:i=>{var o;(o=n.current)===null||o===void 0||o.focus(i)}})),y.createElement(Cle,Object.assign({ref:n},t,r))});E3.Item=uz;E3.SubMenu=dz;E3.Divider=cz;E3.ItemGroup=P6;const Q5=E3,Ele=t=>{const{componentCls:e,menuCls:n,colorError:r,colorTextLightSolid:i}=t,o=`${n}-item`;return{[`${e}, ${e}-menu-submenu`]:{[`${n} ${o}`]:{[`&${o}-danger:not(${o}-disabled)`]:{color:r,"&:hover":{color:i,backgroundColor:r}}}}}},Tle=Ele,Mle=t=>{const{componentCls:e,menuCls:n,zIndexPopup:r,dropdownArrowDistance:i,sizePopupArrow:o,antCls:s,iconCls:a,motionDurationMid:l,dropdownPaddingVertical:c,fontSize:u,dropdownEdgeChildPadding:d,colorTextDisabled:f,fontSizeIcon:h,controlPaddingHorizontal:g,colorBgElevated:x}=t;return[{[e]:Object.assign(Object.assign({},Vr(t)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:r,display:"block","&::before":{position:"absolute",insetBlock:-i+o/2,zIndex:-9999,opacity:1e-4,content:'""'},[`&-trigger${s}-btn`]:{[`& > ${a}-down, & > ${s}-btn-icon > ${a}-down`]:{fontSize:h}},[`${e}-wrap`]:{position:"relative",[`${s}-btn > ${a}-down`]:{fontSize:h},[`${a}-down::before`]:{transition:`transform ${l}`}},[`${e}-wrap-open`]:{[`${a}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${s}-slide-down-enter${s}-slide-down-enter-active${e}-placement-bottomLeft,
          &${s}-slide-down-appear${s}-slide-down-appear-active${e}-placement-bottomLeft,
          &${s}-slide-down-enter${s}-slide-down-enter-active${e}-placement-bottom,
          &${s}-slide-down-appear${s}-slide-down-appear-active${e}-placement-bottom,
          &${s}-slide-down-enter${s}-slide-down-enter-active${e}-placement-bottomRight,
          &${s}-slide-down-appear${s}-slide-down-appear-active${e}-placement-bottomRight`]:{animationName:rE},[`&${s}-slide-up-enter${s}-slide-up-enter-active${e}-placement-topLeft,
          &${s}-slide-up-appear${s}-slide-up-appear-active${e}-placement-topLeft,
          &${s}-slide-up-enter${s}-slide-up-enter-active${e}-placement-top,
          &${s}-slide-up-appear${s}-slide-up-appear-active${e}-placement-top,
          &${s}-slide-up-enter${s}-slide-up-enter-active${e}-placement-topRight,
          &${s}-slide-up-appear${s}-slide-up-appear-active${e}-placement-topRight`]:{animationName:oE},[`&${s}-slide-down-leave${s}-slide-down-leave-active${e}-placement-bottomLeft,
          &${s}-slide-down-leave${s}-slide-down-leave-active${e}-placement-bottom,
          &${s}-slide-down-leave${s}-slide-down-leave-active${e}-placement-bottomRight`]:{animationName:iE},[`&${s}-slide-up-leave${s}-slide-up-leave-active${e}-placement-topLeft,
          &${s}-slide-up-leave${s}-slide-up-leave-active${e}-placement-top,
          &${s}-slide-up-leave${s}-slide-up-leave-active${e}-placement-topRight`]:{animationName:sE}})},vE(t,{colorBg:x,limitVerticalRadius:!0,arrowPlacement:{top:!0,bottom:!0}}),{[`${e} ${n}`]:{position:"relative",margin:0},[`${n}-submenu-popup`]:{position:"absolute",zIndex:r,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${e}, ${e}-menu-submenu`]:{[n]:Object.assign(Object.assign({padding:d,listStyleType:"none",backgroundColor:x,backgroundClip:"padding-box",borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary},hm(t)),{[`${n}-item-group-title`]:{padding:`${c}px ${g}px`,color:t.colorTextDescription,transition:`all ${l}`},[`${n}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${n}-item-icon`]:{minWidth:u,marginInlineEnd:t.marginXS,fontSize:t.fontSizeSM},[`${n}-title-content`]:{flex:"auto","> a":{color:"inherit",transition:`all ${l}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}},[`${n}-item, ${n}-submenu-title`]:Object.assign(Object.assign({clear:"both",margin:0,padding:`${c}px ${g}px`,color:t.colorText,fontWeight:"normal",fontSize:u,lineHeight:t.lineHeight,cursor:"pointer",transition:`all ${l}`,borderRadius:t.borderRadiusSM,"&:hover, &-active":{backgroundColor:t.controlItemBgHover}},hm(t)),{"&-selected":{color:t.colorPrimary,backgroundColor:t.controlItemBgActive,"&:hover, &-active":{backgroundColor:t.controlItemBgActiveHover}},"&-disabled":{color:f,cursor:"not-allowed","&:hover":{color:f,backgroundColor:x,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${t.marginXXS}px 0`,overflow:"hidden",lineHeight:0,backgroundColor:t.colorSplit},[`${e}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:t.paddingXS,[`${e}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:t.colorTextDescription,fontSize:h,fontStyle:"normal"}}}),[`${n}-item-group-list`]:{margin:`0 ${t.marginXS}px`,padding:0,listStyle:"none"},[`${n}-submenu-title`]:{paddingInlineEnd:g+t.fontSizeSM},[`${n}-submenu-vertical`]:{position:"relative"},[`${n}-submenu${n}-submenu-disabled ${e}-menu-submenu-title`]:{[`&, ${e}-menu-submenu-arrow-icon`]:{color:f,backgroundColor:x,cursor:"not-allowed"}},[`${n}-submenu-selected ${e}-menu-submenu-title`]:{color:t.colorPrimary}})}},[Wu(t,"slide-up"),Wu(t,"slide-down"),W5(t,"move-up"),W5(t,"move-down"),w6(t,"zoom-big")]]},fz=yr("Dropdown",(t,e)=>{let{rootPrefixCls:n}=e;const{marginXXS:r,sizePopupArrow:i,controlHeight:o,fontSize:s,lineHeight:a,paddingXXS:l,componentCls:c,borderRadiusLG:u}=t,d=(o-s*a)/2,{dropdownArrowOffset:f}=gE({contentRadius:u}),h=wn(t,{menuCls:`${c}-menu`,rootPrefixCls:n,dropdownArrowDistance:i/2+r,dropdownArrowOffset:f,dropdownPaddingVertical:d,dropdownEdgeChildPadding:l});return[Mle(h),Tle(h)]},t=>({zIndexPopup:t.zIndexPopupBase+50})),EE=t=>{const{menu:e,arrow:n,prefixCls:r,children:i,trigger:o,disabled:s,dropdownRender:a,getPopupContainer:l,overlayClassName:c,rootClassName:u,open:d,onOpenChange:f,visible:h,onVisibleChange:g,mouseEnterDelay:x=.15,mouseLeaveDelay:b=.1,autoAdjustOverflow:v=!0,placement:_="",overlay:S,transitionName:w}=t,{getPopupContainer:M,getPrefixCls:E,direction:T}=y.useContext(Zt);WC();const N=y.useMemo(()=>{const te=E();return w!==void 0?w:_.includes("top")?`${te}-slide-down`:`${te}-slide-up`},[E,_,w]),R=y.useMemo(()=>_?_.includes("Center")?_.slice(0,_.indexOf("Center")):_:T==="rtl"?"bottomRight":"bottomLeft",[_,T]),P=E("dropdown",r),[L,$]=fz(P),[,V]=Ea(),D=y.Children.only(i),H=ji(D,{className:ye(`${P}-trigger`,{[`${P}-rtl`]:T==="rtl"},D.props.className),disabled:s}),F=s?[]:o;let k;F&&F.includes("contextMenu")&&(k=!0);const[O,B]=ei(!1,{value:d??h}),G=Eo(te=>{f?.(te),g?.(te),B(te)}),W=ye(c,u,$,{[`${P}-rtl`]:T==="rtl"}),K=Gk({arrowPointAtCenter:typeof n=="object"&&n.pointAtCenter,autoAdjustOverflow:v,offset:V.marginXXS,arrowWidth:n?V.sizePopupArrow:0,borderRadius:V.borderRadius}),X=y.useCallback(()=>{B(!1)},[]),Y=()=>{let te;return e?.items?te=y.createElement(Q5,Object.assign({},e)):typeof S=="function"?te=S():te=S,a&&(te=a(te)),te=y.Children.only(typeof te=="string"?y.createElement("span",null,te):te),y.createElement(fle,{prefixCls:`${P}-menu`,expandIcon:y.createElement("span",{className:`${P}-menu-submenu-arrow`},y.createElement(K5,{className:`${P}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:X,validator:oe=>{}},te)};return L(y.createElement(Yk,Object.assign({alignPoint:k},fi(t,["rootClassName"]),{mouseEnterDelay:x,mouseLeaveDelay:b,visible:O,builtinPlacements:K,arrow:!!n,overlayClassName:W,prefixCls:P,getPopupContainer:l||M,transitionName:N,trigger:F,overlay:Y,placement:R,onVisibleChange:G}),H))};function Rle(t){return Object.assign(Object.assign({},t),{align:{overflow:{adjustX:!1,adjustY:!1}}})}const Ale=lE(EE,"dropdown",t=>t,Rle),Ple=t=>y.createElement(Ale,Object.assign({},t),y.createElement("span",null));EE._InternalPanelDoNotUseOrYouWillBeFired=Ple;const hz=EE,pz=t=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:t,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),T3=t=>({borderColor:t.hoverBorderColor}),J5=t=>({borderColor:t.activeBorderColor,boxShadow:t.activeShadow,outline:0}),TE=t=>({color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":Object.assign({},T3(wn(t,{hoverBorderColor:t.colorBorder})))}),mz=t=>{const{paddingBlockLG:e,fontSizeLG:n,lineHeightLG:r,borderRadiusLG:i,paddingInlineLG:o}=t;return{padding:`${e}px ${o}px`,fontSize:n,lineHeight:r,borderRadius:i}},ME=t=>({padding:`${t.paddingBlockSM}px ${t.paddingInlineSM}px`,borderRadius:t.borderRadiusSM}),N6=(t,e)=>{const{componentCls:n,colorError:r,colorWarning:i,errorActiveShadow:o,warningActiveShadow:s,colorErrorBorderHover:a,colorWarningBorderHover:l}=t;return{[`&-status-error:not(${e}-disabled):not(${e}-borderless)${e}`]:{borderColor:r,"&:hover":{borderColor:a},"&:focus, &-focused":Object.assign({},J5(wn(t,{activeBorderColor:r,activeShadow:o}))),[`${n}-prefix, ${n}-suffix`]:{color:r}},[`&-status-warning:not(${e}-disabled):not(${e}-borderless)${e}`]:{borderColor:i,"&:hover":{borderColor:l},"&:focus, &-focused":Object.assign({},J5(wn(t,{activeBorderColor:i,activeShadow:s}))),[`${n}-prefix, ${n}-suffix`]:{color:i}}}},M3=t=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${t.paddingBlock}px ${t.paddingInline}px`,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,backgroundColor:t.colorBgContainer,backgroundImage:"none",borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:t.colorBorder,borderRadius:t.borderRadius,transition:`all ${t.motionDurationMid}`},pz(t.colorTextPlaceholder)),{"&:hover":Object.assign({},T3(t)),"&:focus, &-focused":Object.assign({},J5(t)),"&-disabled, &[disabled]":Object.assign({},TE(t)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:t.controlHeight,lineHeight:t.lineHeight,verticalAlign:"bottom",transition:`all ${t.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},mz(t)),"&-sm":Object.assign({},ME(t)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}}),gz=t=>{const{componentCls:e,antCls:n}=t;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:t.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:Object.assign({},mz(t)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:Object.assign({},ME(t)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:t.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:t.controlHeightSM},[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${t.paddingInline}px`,color:t.colorText,fontWeight:"normal",fontSize:t.fontSize,textAlign:"center",backgroundColor:t.colorFillAlter,border:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`-${t.paddingBlock+1}px -${t.paddingInline}px`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${t.lineWidth}px ${t.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${n}-select-selector`]:{color:t.colorPrimary}}},[`${n}-cascader-picker`]:{margin:`-9px -${t.paddingInline}px`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}},[`${e}`]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:Object.assign(Object.assign({display:"block"},Lc()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:t.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}},"& > *":{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${e}-affix-wrapper,
        & > ${e}-number-affix-wrapper,
        & > ${n}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:-t.lineWidth,borderInlineEndWidth:t.lineWidth},[`${e}`]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,
      & > ${n}-select-auto-complete ${e},
      & > ${n}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:t.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${n}-select:first-child > ${n}-select-selector,
      & > ${n}-select-auto-complete:first-child ${e},
      & > ${n}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius},[`& > *:last-child,
      & > ${n}-select:last-child > ${n}-select-selector,
      & > ${n}-cascader-picker:last-child ${e},
      & > ${n}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:t.lineWidth,borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius},[`& > ${n}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:-t.lineWidth,[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:t.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:t.borderRadius}}}})}},Nle=t=>{const{componentCls:e,controlHeightSM:n,lineWidth:r}=t,i=16,o=(n-r*2-i)/2;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},Vr(t)),M3(t)),N6(t,e)),{'&[type="color"]':{height:t.controlHeight,[`&${e}-lg`]:{height:t.controlHeightLG},[`&${e}-sm`]:{height:n,paddingTop:o,paddingBottom:o}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},Ile=t=>{const{componentCls:e}=t;return{[`${e}-clear-icon`]:{margin:0,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"&:hover":{color:t.colorTextTertiary},"&:active":{color:t.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${t.inputAffixPadding}px`}}}},Ole=t=>{const{componentCls:e,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:i,colorIcon:o,colorIconHover:s,iconCls:a}=t;return{[`${e}-affix-wrapper`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},M3(t)),{display:"inline-flex",[`&:not(${e}-affix-wrapper-disabled):hover`]:Object.assign(Object.assign({},T3(t)),{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}}),"&-focused, &:focus":{zIndex:1},"&-disabled":{[`${e}[disabled]`]:{background:"transparent"}},[`> input${e}`]:{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${e}`]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:t.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:t.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),Ile(t)),{[`${a}${e}-password-icon`]:{color:o,cursor:"pointer",transition:`all ${i}`,"&:hover":{color:s}}}),N6(t,`${e}-affix-wrapper`))}},Lle=t=>{const{componentCls:e,colorError:n,colorWarning:r,borderRadiusLG:i,borderRadiusSM:o}=t;return{[`${e}-group`]:Object.assign(Object.assign(Object.assign({},Vr(t)),gz(t)),{"&-rtl":{direction:"rtl"},"&-wrapper":{display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:i,fontSize:t.fontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:o}},"&-status-error":{[`${e}-group-addon`]:{color:n,borderColor:n}},"&-status-warning":{[`${e}-group-addon`]:{color:r,borderColor:r}},"&-disabled":{[`${e}-group-addon`]:Object.assign({},TE(t))},[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}})}},Dle=t=>{const{componentCls:e,antCls:n}=t,r=`${e}-search`;return{[r]:{[`${e}`]:{"&:hover, &:focus":{borderColor:t.colorPrimaryHover,[`+ ${e}-group-addon ${r}-button:not(${n}-btn-primary)`]:{borderInlineStartColor:t.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{borderRadius:0},[`${e}-lg`]:{lineHeight:t.lineHeightLG-2e-4},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${n}-btn-primary)`]:{color:t.colorTextDescription,"&:hover":{color:t.colorPrimaryHover},"&:active":{color:t.colorPrimaryActive},[`&${n}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:t.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${r}-button`]:{height:t.controlHeightLG},[`&-small ${r}-button`]:{height:t.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:-t.lineWidth,borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover,&:focus,&:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}},Fle=t=>{const{componentCls:e,paddingLG:n}=t,r=`${e}-textarea`;return{[r]:{position:"relative","&-show-count":{[`> ${e}`]:{height:"100%"},[`${e}-data-count`]:{position:"absolute",bottom:-t.fontSize*t.lineHeight,insetInlineEnd:0,color:t.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},"&-allow-clear":{[`> ${e}`]:{paddingInlineEnd:n}},[`&-affix-wrapper${r}-has-feedback`]:{[`${e}`]:{paddingInlineEnd:n}},[`&-affix-wrapper${e}-affix-wrapper`]:{padding:0,[`> textarea${e}`]:{fontSize:"inherit",border:"none",outline:"none","&:focus":{boxShadow:"none !important"}},[`${e}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${e}-clear-icon`]:{position:"absolute",insetInlineEnd:t.paddingXS,insetBlockStart:t.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:t.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}}}}};function RE(t){return wn(t,{inputAffixPadding:t.paddingXXS})}const AE=t=>{const{controlHeight:e,fontSize:n,lineHeight:r,lineWidth:i,controlHeightSM:o,controlHeightLG:s,fontSizeLG:a,lineHeightLG:l,paddingSM:c,controlPaddingHorizontalSM:u,controlPaddingHorizontal:d,colorFillAlter:f,colorPrimaryHover:h,controlOutlineWidth:g,controlOutline:x,colorErrorOutline:b,colorWarningOutline:v}=t;return{paddingBlock:Math.max(Math.round((e-n*r)/2*10)/10-i,3),paddingBlockSM:Math.max(Math.round((o-n*r)/2*10)/10-i,0),paddingBlockLG:Math.ceil((s-a*l)/2*10)/10-i,paddingInline:c-i,paddingInlineSM:u-i,paddingInlineLG:d-i,addonBg:f,activeBorderColor:h,hoverBorderColor:h,activeShadow:`0 0 0 ${g}px ${x}`,errorActiveShadow:`0 0 0 ${g}px ${b}`,warningActiveShadow:`0 0 0 ${g}px ${v}`}},PE=yr("Input",t=>{const e=wn(t,RE(t));return[Nle(e),Fle(e),Ole(e),Lle(e),Dle(e),S6(e)]},AE),$le=t=>{const{prefixCls:e,className:n,style:r,size:i,shape:o}=t,s=ye({[`${e}-lg`]:i==="large",[`${e}-sm`]:i==="small"}),a=ye({[`${e}-circle`]:o==="circle",[`${e}-square`]:o==="square",[`${e}-round`]:o==="round"}),l=y.useMemo(()=>typeof i=="number"?{width:i,height:i,lineHeight:`${i}px`}:{},[i]);return y.createElement("span",{className:ye(e,s,a,n),style:Object.assign(Object.assign({},l),r)})},I6=$le,Ule=new Dn("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),O6=t=>({height:t,lineHeight:`${t}px`}),qp=t=>Object.assign({width:t},O6(t)),Ble=t=>({background:t.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:Ule,animationDuration:t.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),i8=t=>Object.assign({width:t*5,minWidth:t*5},O6(t)),kle=t=>{const{skeletonAvatarCls:e,gradientFromColor:n,controlHeight:r,controlHeightLG:i,controlHeightSM:o}=t;return{[`${e}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},qp(r)),[`${e}${e}-circle`]:{borderRadius:"50%"},[`${e}${e}-lg`]:Object.assign({},qp(i)),[`${e}${e}-sm`]:Object.assign({},qp(o))}},zle=t=>{const{controlHeight:e,borderRadiusSM:n,skeletonInputCls:r,controlHeightLG:i,controlHeightSM:o,gradientFromColor:s}=t;return{[`${r}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:s,borderRadius:n},i8(e)),[`${r}-lg`]:Object.assign({},i8(i)),[`${r}-sm`]:Object.assign({},i8(o))}},QN=t=>Object.assign({width:t},O6(t)),Vle=t=>{const{skeletonImageCls:e,imageSizeBase:n,gradientFromColor:r,borderRadiusSM:i}=t;return{[`${e}`]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:r,borderRadius:i},QN(n*2)),{[`${e}-path`]:{fill:"#bfbfbf"},[`${e}-svg`]:Object.assign(Object.assign({},QN(n)),{maxWidth:n*4,maxHeight:n*4}),[`${e}-svg${e}-svg-circle`]:{borderRadius:"50%"}}),[`${e}${e}-circle`]:{borderRadius:"50%"}}},o8=(t,e,n)=>{const{skeletonButtonCls:r}=t;return{[`${n}${r}-circle`]:{width:e,minWidth:e,borderRadius:"50%"},[`${n}${r}-round`]:{borderRadius:e}}},s8=t=>Object.assign({width:t*2,minWidth:t*2},O6(t)),Hle=t=>{const{borderRadiusSM:e,skeletonButtonCls:n,controlHeight:r,controlHeightLG:i,controlHeightSM:o,gradientFromColor:s}=t;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[`${n}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:s,borderRadius:e,width:r*2,minWidth:r*2},s8(r))},o8(t,r,n)),{[`${n}-lg`]:Object.assign({},s8(i))}),o8(t,i,`${n}-lg`)),{[`${n}-sm`]:Object.assign({},s8(o))}),o8(t,o,`${n}-sm`))},Gle=t=>{const{componentCls:e,skeletonAvatarCls:n,skeletonTitleCls:r,skeletonParagraphCls:i,skeletonButtonCls:o,skeletonInputCls:s,skeletonImageCls:a,controlHeight:l,controlHeightLG:c,controlHeightSM:u,gradientFromColor:d,padding:f,marginSM:h,borderRadius:g,titleHeight:x,blockRadius:b,paragraphLiHeight:v,controlHeightXS:_,paragraphMarginTop:S}=t;return{[`${e}`]:{display:"table",width:"100%",[`${e}-header`]:{display:"table-cell",paddingInlineEnd:f,verticalAlign:"top",[`${n}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:d},qp(l)),[`${n}-circle`]:{borderRadius:"50%"},[`${n}-lg`]:Object.assign({},qp(c)),[`${n}-sm`]:Object.assign({},qp(u))},[`${e}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${r}`]:{width:"100%",height:x,background:d,borderRadius:b,[`+ ${i}`]:{marginBlockStart:u}},[`${i}`]:{padding:0,"> li":{width:"100%",height:v,listStyle:"none",background:d,borderRadius:b,"+ li":{marginBlockStart:_}}},[`${i}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${e}-content`]:{[`${r}, ${i} > li`]:{borderRadius:g}}},[`${e}-with-avatar ${e}-content`]:{[`${r}`]:{marginBlockStart:h,[`+ ${i}`]:{marginBlockStart:S}}},[`${e}${e}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},Hle(t)),kle(t)),zle(t)),Vle(t)),[`${e}${e}-block`]:{width:"100%",[`${o}`]:{width:"100%"},[`${s}`]:{width:"100%"}},[`${e}${e}-active`]:{[`
        ${r},
        ${i} > li,
        ${n},
        ${o},
        ${s},
        ${a}
      `]:Object.assign({},Ble(t))}}},o0=yr("Skeleton",t=>{const{componentCls:e}=t,n=wn(t,{skeletonAvatarCls:`${e}-avatar`,skeletonTitleCls:`${e}-title`,skeletonParagraphCls:`${e}-paragraph`,skeletonButtonCls:`${e}-button`,skeletonInputCls:`${e}-input`,skeletonImageCls:`${e}-image`,imageSizeBase:t.controlHeight*1.5,borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${t.gradientFromColor} 25%, ${t.gradientToColor} 37%, ${t.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[Gle(n)]},t=>{const{colorFillContent:e,colorFill:n}=t,r=e,i=n;return{color:r,colorGradientEnd:i,gradientFromColor:r,gradientToColor:i,titleHeight:t.controlHeight/2,blockRadius:t.borderRadiusSM,paragraphMarginTop:t.marginLG+t.marginXXS,paragraphLiHeight:t.controlHeight/2}},{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),Wle=t=>{const{prefixCls:e,className:n,rootClassName:r,active:i,shape:o="circle",size:s="default"}=t,{getPrefixCls:a}=y.useContext(Zt),l=a("skeleton",e),[c,u]=o0(l),d=fi(t,["prefixCls","className"]),f=ye(l,`${l}-element`,{[`${l}-active`]:i},n,r,u);return c(y.createElement("div",{className:f},y.createElement(I6,Object.assign({prefixCls:`${l}-avatar`,shape:o,size:s},d))))},jle=Wle,Xle=t=>{const{prefixCls:e,className:n,rootClassName:r,active:i,block:o=!1,size:s="default"}=t,{getPrefixCls:a}=y.useContext(Zt),l=a("skeleton",e),[c,u]=o0(l),d=fi(t,["prefixCls"]),f=ye(l,`${l}-element`,{[`${l}-active`]:i,[`${l}-block`]:o},n,r,u);return c(y.createElement("div",{className:f},y.createElement(I6,Object.assign({prefixCls:`${l}-button`,size:s},d))))},qle=Xle,Kle="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",Yle=t=>{const{prefixCls:e,className:n,rootClassName:r,style:i,active:o}=t,{getPrefixCls:s}=y.useContext(Zt),a=s("skeleton",e),[l,c]=o0(a),u=ye(a,`${a}-element`,{[`${a}-active`]:o},n,r,c);return l(y.createElement("div",{className:u},y.createElement("div",{className:ye(`${a}-image`,n),style:i},y.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${a}-image-svg`},y.createElement("path",{d:Kle,className:`${a}-image-path`})))))},Zle=Yle,Qle=t=>{const{prefixCls:e,className:n,rootClassName:r,active:i,block:o,size:s="default"}=t,{getPrefixCls:a}=y.useContext(Zt),l=a("skeleton",e),[c,u]=o0(l),d=fi(t,["prefixCls"]),f=ye(l,`${l}-element`,{[`${l}-active`]:i,[`${l}-block`]:o},n,r,u);return c(y.createElement("div",{className:f},y.createElement(I6,Object.assign({prefixCls:`${l}-input`,size:s},d))))},Jle=Qle;var ece={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};const tce=ece;var nce=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:tce}))};const rce=y.forwardRef(nce),ice=t=>{const{prefixCls:e,className:n,rootClassName:r,style:i,active:o,children:s}=t,{getPrefixCls:a}=y.useContext(Zt),l=a("skeleton",e),[c,u]=o0(l),d=ye(l,`${l}-element`,{[`${l}-active`]:o},u,n,r),f=s??y.createElement(rce,null);return c(y.createElement("div",{className:d},y.createElement("div",{className:ye(`${l}-image`,n),style:i},f)))},oce=ice,sce=t=>{const e=a=>{const{width:l,rows:c=2}=t;if(Array.isArray(l))return l[a];if(c-1===a)return l},{prefixCls:n,className:r,style:i,rows:o}=t,s=St(Array(o)).map((a,l)=>y.createElement("li",{key:l,style:{width:e(l)}}));return y.createElement("ul",{className:ye(n,r),style:i},s)},ace=sce,lce=t=>{let{prefixCls:e,className:n,width:r,style:i}=t;return y.createElement("h3",{className:ye(e,n),style:Object.assign({width:r},i)})},cce=lce;function a8(t){return t&&typeof t=="object"?t:{}}function uce(t,e){return t&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function dce(t,e){return!t&&e?{width:"38%"}:t&&e?{width:"50%"}:{}}function fce(t,e){const n={};return(!t||!e)&&(n.width="61%"),!t&&e?n.rows=3:n.rows=2,n}const s0=t=>{const{prefixCls:e,loading:n,className:r,rootClassName:i,style:o,children:s,avatar:a=!1,title:l=!0,paragraph:c=!0,active:u,round:d}=t,{getPrefixCls:f,direction:h,skeleton:g}=y.useContext(Zt),x=f("skeleton",e),[b,v]=o0(x);if(n||!("loading"in t)){const _=!!a,S=!!l,w=!!c;let M;if(_){const N=Object.assign(Object.assign({prefixCls:`${x}-avatar`},uce(S,w)),a8(a));M=y.createElement("div",{className:`${x}-header`},y.createElement(I6,Object.assign({},N)))}let E;if(S||w){let N;if(S){const P=Object.assign(Object.assign({prefixCls:`${x}-title`},dce(_,w)),a8(l));N=y.createElement(cce,Object.assign({},P))}let R;if(w){const P=Object.assign(Object.assign({prefixCls:`${x}-paragraph`},fce(_,S)),a8(c));R=y.createElement(ace,Object.assign({},P))}E=y.createElement("div",{className:`${x}-content`},N,R)}const T=ye(x,{[`${x}-with-avatar`]:_,[`${x}-active`]:u,[`${x}-rtl`]:h==="rtl",[`${x}-round`]:d},g?.className,r,i,v);return b(y.createElement("div",{className:T,style:Object.assign(Object.assign({},g?.style),o)},M,E))}return typeof s<"u"?s:null};s0.Button=qle;s0.Avatar=jle;s0.Input=Jle;s0.Image=Zle;s0.Node=oce;const hce=s0;var pce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const mce=pce;var gce=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:mce}))};const vce=y.forwardRef(gce),L6=y.createContext(null);var vz=y.forwardRef(function(t,e){var n=t.prefixCls,r=t.className,i=t.style,o=t.id,s=t.active,a=t.tabKey,l=t.children;return y.createElement("div",{id:o&&"".concat(o,"-panel-").concat(a),role:"tabpanel",tabIndex:s?0:-1,"aria-labelledby":o&&"".concat(o,"-tab-").concat(a),"aria-hidden":!s,style:i,className:ye(n,s&&"".concat(n,"-active"),r),ref:e},l)}),yce=["key","forceRender","style","className"];function xce(t){var e=t.id,n=t.activeKey,r=t.animated,i=t.tabPosition,o=t.destroyInactiveTabPane,s=y.useContext(L6),a=s.prefixCls,l=s.tabs,c=r.tabPane,u="".concat(a,"-tabpane");return y.createElement("div",{className:ye("".concat(a,"-content-holder"))},y.createElement("div",{className:ye("".concat(a,"-content"),"".concat(a,"-content-").concat(i),se({},"".concat(a,"-content-animated"),c))},l.map(function(d){var f=d.key,h=d.forceRender,g=d.style,x=d.className,b=ln(d,yce),v=f===n;return y.createElement(Hl,ct({key:f,visible:v,forceRender:h,removeOnLeave:!!o,leavedClassName:"".concat(u,"-hidden")},r.tabPaneMotion),function(_,S){var w=_.style,M=_.className;return y.createElement(vz,ct({},b,{prefixCls:u,id:e,tabKey:f,animated:c,active:v,style:_e(_e({},g),w),className:ye(x,M),ref:S}))})})))}var JN={width:0,height:0,left:0,top:0};function bce(t,e,n){return y.useMemo(function(){for(var r,i=new Map,o=e.get((r=t[0])===null||r===void 0?void 0:r.key)||JN,s=o.left+o.width,a=0;a<t.length;a+=1){var l=t[a].key,c=e.get(l);if(!c){var u;c=e.get((u=t[a-1])===null||u===void 0?void 0:u.key)||JN}var d=i.get(l)||_e({},c);d.right=s-d.left-d.width,i.set(l,d)}return i},[t.map(function(r){return r.key}).join("_"),e,n])}function eI(t,e){var n=y.useRef(t),r=y.useState({}),i=Ie(r,2),o=i[1];function s(a){var l=typeof a=="function"?a(n.current):a;l!==n.current&&e(l,n.current),n.current=l,o({})}return[n.current,s]}var Sce=.1,tI=.01,Zy=20,nI=Math.pow(.995,Zy);function _ce(t,e){var n=y.useState(),r=Ie(n,2),i=r[0],o=r[1],s=y.useState(0),a=Ie(s,2),l=a[0],c=a[1],u=y.useState(0),d=Ie(u,2),f=d[0],h=d[1],g=y.useState(),x=Ie(g,2),b=x[0],v=x[1],_=y.useRef();function S(R){var P=R.touches[0],L=P.screenX,$=P.screenY;o({x:L,y:$}),window.clearInterval(_.current)}function w(R){if(i){R.preventDefault();var P=R.touches[0],L=P.screenX,$=P.screenY;o({x:L,y:$});var V=L-i.x,D=$-i.y;e(V,D);var H=Date.now();c(H),h(H-l),v({x:V,y:D})}}function M(){if(i&&(o(null),v(null),b)){var R=b.x/f,P=b.y/f,L=Math.abs(R),$=Math.abs(P);if(Math.max(L,$)<Sce)return;var V=R,D=P;_.current=window.setInterval(function(){if(Math.abs(V)<tI&&Math.abs(D)<tI){window.clearInterval(_.current);return}V*=nI,D*=nI,e(V*Zy,D*Zy)},Zy)}}var E=y.useRef();function T(R){var P=R.deltaX,L=R.deltaY,$=0,V=Math.abs(P),D=Math.abs(L);V===D?$=E.current==="x"?P:L:V>D?($=P,E.current="x"):($=L,E.current="y"),e(-$,-$)&&R.preventDefault()}var N=y.useRef(null);N.current={onTouchStart:S,onTouchMove:w,onTouchEnd:M,onWheel:T},y.useEffect(function(){function R(V){N.current.onTouchStart(V)}function P(V){N.current.onTouchMove(V)}function L(V){N.current.onTouchEnd(V)}function $(V){N.current.onWheel(V)}return document.addEventListener("touchmove",P,{passive:!1}),document.addEventListener("touchend",L,{passive:!1}),t.current.addEventListener("touchstart",R,{passive:!1}),t.current.addEventListener("wheel",$),function(){document.removeEventListener("touchmove",P),document.removeEventListener("touchend",L)}},[])}function yz(t){var e=y.useState(0),n=Ie(e,2),r=n[0],i=n[1],o=y.useRef(0),s=y.useRef();return s.current=t,Gp(function(){var a;(a=s.current)===null||a===void 0||a.call(s)},[r]),function(){o.current===r&&(o.current+=1,i(o.current))}}function wce(t){var e=y.useRef([]),n=y.useState({}),r=Ie(n,2),i=r[1],o=y.useRef(typeof t=="function"?t():t),s=yz(function(){var l=o.current;e.current.forEach(function(c){l=c(l)}),e.current=[],o.current=l,i({})});function a(l){e.current.push(l),s()}return[o.current,a]}var rI={width:0,height:0,left:0,top:0,right:0};function Cce(t,e,n,r,i,o,s){var a=s.tabs,l=s.tabPosition,c=s.rtl,u,d,f;return["top","bottom"].includes(l)?(u="width",d=c?"right":"left",f=Math.abs(n)):(u="height",d="top",f=-n),y.useMemo(function(){if(!a.length)return[0,0];for(var h=a.length,g=h,x=0;x<h;x+=1){var b=t.get(a[x].key)||rI;if(b[d]+b[u]>f+e){g=x-1;break}}for(var v=0,_=h-1;_>=0;_-=1){var S=t.get(a[_].key)||rI;if(S[d]<f){v=_+1;break}}return v>=g?[0,0]:[v,g]},[t,e,r,i,o,f,l,a.map(function(h){return h.key}).join("_"),c])}function iI(t){var e;return t instanceof Map?(e={},t.forEach(function(n,r){e[r]=n})):e=t,JSON.stringify(e)}var Ece="TABS_DQ";function xz(t){return String(t).replace(/"/g,Ece)}function bz(t,e,n,r){return!(!n||r||t===!1||t===void 0&&(e===!1||e===null))}function Tce(t,e){var n=t.prefixCls,r=t.editable,i=t.locale,o=t.style;return!r||r.showAdd===!1?null:y.createElement("button",{ref:e,type:"button",className:"".concat(n,"-nav-add"),style:o,"aria-label":i?.addAriaLabel||"Add tab",onClick:function(a){r.onEdit("add",{event:a})}},r.addIcon||"+")}const Sz=y.forwardRef(Tce);var oI=y.forwardRef(function(t,e){var n=t.position,r=t.prefixCls,i=t.extra;if(!i)return null;var o,s={};return nn(i)==="object"&&!y.isValidElement(i)?s=i:s.right=i,n==="right"&&(o=s.right),n==="left"&&(o=s.left),o?y.createElement("div",{className:"".concat(r,"-extra-content"),ref:e},o):null});function Mce(t,e){var n=t.prefixCls,r=t.id,i=t.tabs,o=t.locale,s=t.mobile,a=t.moreIcon,l=a===void 0?"More":a,c=t.moreTransitionName,u=t.style,d=t.className,f=t.editable,h=t.tabBarGutter,g=t.rtl,x=t.removeAriaLabel,b=t.onTabClick,v=t.getPopupContainer,_=t.popupClassName,S=y.useState(!1),w=Ie(S,2),M=w[0],E=w[1],T=y.useState(null),N=Ie(T,2),R=N[0],P=N[1],L="".concat(r,"-more-popup"),$="".concat(n,"-dropdown"),V=R!==null?"".concat(L,"-").concat(R):null,D=o?.dropdownAriaLabel;function H(K,X){K.preventDefault(),K.stopPropagation(),f.onEdit("remove",{key:X,event:K})}var F=y.createElement(i0,{onClick:function(X){var Y=X.key,te=X.domEvent;b(Y,te),E(!1)},prefixCls:"".concat($,"-menu"),id:L,tabIndex:-1,role:"listbox","aria-activedescendant":V,selectedKeys:[R],"aria-label":D!==void 0?D:"expanded dropdown"},i.map(function(K){var X=K.closable,Y=K.disabled,te=K.closeIcon,oe=K.key,ie=K.label,le=bz(X,te,f,Y);return y.createElement(C3,{key:oe,id:"".concat(L,"-").concat(oe),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(oe),disabled:Y},y.createElement("span",null,ie),le&&y.createElement("button",{type:"button","aria-label":x||"remove",tabIndex:0,className:"".concat($,"-menu-item-remove"),onClick:function(me){me.stopPropagation(),H(me,oe)}},te||f.removeIcon||""))}));function k(K){for(var X=i.filter(function(le){return!le.disabled}),Y=X.findIndex(function(le){return le.key===R})||0,te=X.length,oe=0;oe<te;oe+=1){Y=(Y+K+te)%te;var ie=X[Y];if(!ie.disabled){P(ie.key);return}}}function O(K){var X=K.which;if(!M){[ot.DOWN,ot.SPACE,ot.ENTER].includes(X)&&(E(!0),K.preventDefault());return}switch(X){case ot.UP:k(-1),K.preventDefault();break;case ot.DOWN:k(1),K.preventDefault();break;case ot.ESC:E(!1);break;case ot.SPACE:case ot.ENTER:R!==null&&b(R,K);break}}y.useEffect(function(){var K=document.getElementById(V);K&&K.scrollIntoView&&K.scrollIntoView(!1)},[R]),y.useEffect(function(){M||P(null)},[M]);var B=se({},g?"marginRight":"marginLeft",h);i.length||(B.visibility="hidden",B.order=1);var G=ye(se({},"".concat($,"-rtl"),g)),W=s?null:y.createElement(Yk,{prefixCls:$,overlay:F,trigger:["hover"],visible:i.length?M:!1,transitionName:c,onVisibleChange:E,overlayClassName:ye(G,_),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:v},y.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:B,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":L,id:"".concat(r,"-more"),"aria-expanded":M,onKeyDown:O},l));return y.createElement("div",{className:ye("".concat(n,"-nav-operations"),d),style:u,ref:e},W,y.createElement(Sz,{prefixCls:n,locale:o,editable:f}))}const Rce=y.memo(y.forwardRef(Mce),function(t,e){return e.tabMoving});function Ace(t){var e,n=t.prefixCls,r=t.id,i=t.active,o=t.tab,s=o.key,a=o.label,l=o.disabled,c=o.closeIcon,u=t.closable,d=t.renderWrapper,f=t.removeAriaLabel,h=t.editable,g=t.onClick,x=t.onFocus,b=t.style,v="".concat(n,"-tab"),_=bz(u,c,h,l);function S(E){l||g(E)}function w(E){E.preventDefault(),E.stopPropagation(),h.onEdit("remove",{key:s,event:E})}var M=y.createElement("div",{key:s,"data-node-key":xz(s),className:ye(v,(e={},se(e,"".concat(v,"-with-remove"),_),se(e,"".concat(v,"-active"),i),se(e,"".concat(v,"-disabled"),l),e)),style:b,onClick:S},y.createElement("div",{role:"tab","aria-selected":i,id:r&&"".concat(r,"-tab-").concat(s),className:"".concat(v,"-btn"),"aria-controls":r&&"".concat(r,"-panel-").concat(s),"aria-disabled":l,tabIndex:l?null:0,onClick:function(T){T.stopPropagation(),S(T)},onKeyDown:function(T){[ot.SPACE,ot.ENTER].includes(T.which)&&(T.preventDefault(),S(T))},onFocus:x},a),_&&y.createElement("button",{type:"button","aria-label":f||"remove",tabIndex:0,className:"".concat(v,"-remove"),onClick:function(T){T.stopPropagation(),w(T)}},c||h.removeIcon||""));return d?d(M):M}var Pce=function(e){var n=e.activeTabOffset,r=e.horizontal,i=e.rtl,o=e.indicatorSize,s=y.useState(),a=Ie(s,2),l=a[0],c=a[1],u=y.useRef(),d=function(g){return typeof o=="function"?o(g):typeof o=="number"?o:g};function f(){jn.cancel(u.current)}return y.useEffect(function(){var h={};return n&&(r?(i?(h.right=n.right+n.width/2,h.transform="translateX(50%)"):(h.left=n.left+n.width/2,h.transform="translateX(-50%)"),h.width=d(n.width)):(h.top=n.top+n.height/2,h.transform="translateY(-50%)",h.height=d(n.height))),f(),u.current=jn(function(){c(h)}),f},[n,r,i,o]),{style:l}},Oh=function(e){var n=e.current||{},r=n.offsetWidth,i=r===void 0?0:r,o=n.offsetHeight,s=o===void 0?0:o;return[i,s]},y2=function(e,n){return e[n?0:1]};function Nce(t,e){var n,r=y.useContext(L6),i=r.prefixCls,o=r.tabs,s=t.className,a=t.style,l=t.id,c=t.animated,u=t.activeKey,d=t.rtl,f=t.extra,h=t.editable,g=t.locale,x=t.tabPosition,b=t.tabBarGutter,v=t.children,_=t.onTabClick,S=t.onTabScroll,w=t.indicatorSize,M=y.useRef(),E=y.useRef(),T=y.useRef(),N=y.useRef(),R=y.useRef(),P=y.useRef(),L=y.useRef(),$=x==="top"||x==="bottom",V=eI(0,function(vn,an){$&&S&&S({direction:vn>an?"left":"right"})}),D=Ie(V,2),H=D[0],F=D[1],k=eI(0,function(vn,an){!$&&S&&S({direction:vn>an?"top":"bottom"})}),O=Ie(k,2),B=O[0],G=O[1],W=y.useState([0,0]),K=Ie(W,2),X=K[0],Y=K[1],te=y.useState([0,0]),oe=Ie(te,2),ie=oe[0],le=oe[1],ve=y.useState([0,0]),me=Ie(ve,2),we=me[0],Q=me[1],fe=y.useState([0,0]),he=Ie(fe,2),Ee=he[0],ue=he[1],ke=wce(new Map),ge=Ie(ke,2),j=ge[0],z=ge[1],ee=bce(o,j,ie[0]),xe=y2(X,$),Ne=y2(ie,$),Ae=y2(we,$),Fe=y2(Ee,$),Oe=xe<Ne+Ae,We=Oe?xe-Fe:xe-Ae,ht="".concat(i,"-nav-operations-hidden"),Ge=0,Te=0;$&&d?(Ge=0,Te=Math.max(0,Ne-We)):(Ge=Math.min(0,We-Ne),Te=0);function nt(vn){return vn<Ge?Ge:vn>Te?Te:vn}var at=y.useRef(),rt=y.useState(),st=Ie(rt,2),Ze=st[0],re=st[1];function Ve(){re(Date.now())}function Qe(){window.clearTimeout(at.current)}_ce(N,function(vn,an){function Ct(q,de){q(function(Se){var De=nt(Se+de);return De})}return Oe?($?Ct(F,vn):Ct(G,an),Qe(),Ve(),!0):!1}),y.useEffect(function(){return Qe(),Ze&&(at.current=window.setTimeout(function(){re(0)},100)),Qe},[Ze]);var lt=Cce(ee,We,$?H:B,Ne,Ae,Fe,_e(_e({},t),{},{tabs:o})),ce=Ie(lt,2),Z=ce[0],Re=ce[1],Pe=Eo(function(){var vn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u,an=ee.get(vn)||{width:0,height:0,left:0,right:0,top:0};if($){var Ct=H;d?an.right<H?Ct=an.right:an.right+an.width>H+We&&(Ct=an.right+an.width-We):an.left<-H?Ct=-an.left:an.left+an.width>-H+We&&(Ct=-(an.left+an.width-We)),G(0),F(nt(Ct))}else{var q=B;an.top<-B?q=-an.top:an.top+an.height>-B+We&&(q=-(an.top+an.height-We)),F(0),G(nt(q))}}),Je={};x==="top"||x==="bottom"?Je[d?"marginRight":"marginLeft"]=b:Je.marginTop=b;var ft=o.map(function(vn,an){var Ct=vn.key;return y.createElement(Ace,{id:l,prefixCls:i,key:Ct,tab:vn,style:an===0?void 0:Je,closable:vn.closable,editable:h,active:Ct===u,renderWrapper:v,removeAriaLabel:g?.removeAriaLabel,onClick:function(de){_(Ct,de)},onFocus:function(){Pe(Ct),Ve(),N.current&&(d||(N.current.scrollLeft=0),N.current.scrollTop=0)}})}),wt=function(){return z(function(){var an=new Map;return o.forEach(function(Ct){var q,de=Ct.key,Se=(q=R.current)===null||q===void 0?void 0:q.querySelector('[data-node-key="'.concat(xz(de),'"]'));Se&&an.set(de,{width:Se.offsetWidth,height:Se.offsetHeight,left:Se.offsetLeft,top:Se.offsetTop})}),an})};y.useEffect(function(){wt()},[o.map(function(vn){return vn.key}).join("_")]);var mt=yz(function(){var vn=Oh(M),an=Oh(E),Ct=Oh(T);Y([vn[0]-an[0]-Ct[0],vn[1]-an[1]-Ct[1]]);var q=Oh(L);Q(q);var de=Oh(P);ue(de);var Se=Oh(R);le([Se[0]-q[0],Se[1]-q[1]]),wt()}),Ye=o.slice(0,Z),dt=o.slice(Re+1),it=[].concat(St(Ye),St(dt)),gt=ee.get(u),sn=Pce({activeTabOffset:gt,horizontal:$,rtl:d,indicatorSize:w}),gn=sn.style;y.useEffect(function(){Pe()},[u,Ge,Te,iI(gt),iI(ee),$]),y.useEffect(function(){mt()},[d]);var Zn=!!it.length,Xn="".concat(i,"-nav-wrap"),Wn,dn,ar,Pr;return $?d?(dn=H>0,Wn=H!==Te):(Wn=H<0,dn=H!==Ge):(ar=B<0,Pr=B!==Ge),y.createElement(pa,{onResize:mt},y.createElement("div",{ref:m3(e,M),role:"tablist",className:ye("".concat(i,"-nav"),s),style:a,onKeyDown:function(){Ve()}},y.createElement(oI,{ref:E,position:"left",extra:f,prefixCls:i}),y.createElement(pa,{onResize:mt},y.createElement("div",{className:ye(Xn,(n={},se(n,"".concat(Xn,"-ping-left"),Wn),se(n,"".concat(Xn,"-ping-right"),dn),se(n,"".concat(Xn,"-ping-top"),ar),se(n,"".concat(Xn,"-ping-bottom"),Pr),n)),ref:N},y.createElement(pa,{onResize:mt},y.createElement("div",{ref:R,className:"".concat(i,"-nav-list"),style:{transform:"translate(".concat(H,"px, ").concat(B,"px)"),transition:Ze?"none":void 0}},ft,y.createElement(Sz,{ref:L,prefixCls:i,locale:g,editable:h,style:_e(_e({},ft.length===0?void 0:Je),{},{visibility:Zn?"hidden":null})}),y.createElement("div",{className:ye("".concat(i,"-ink-bar"),se({},"".concat(i,"-ink-bar-animated"),c.inkBar)),style:gn}))))),y.createElement(Rce,ct({},t,{removeAriaLabel:g?.removeAriaLabel,ref:P,prefixCls:i,tabs:it,className:!Zn&&ht,tabMoving:!!Ze})),y.createElement(oI,{ref:T,position:"right",extra:f,prefixCls:i})))}const sI=y.forwardRef(Nce);var Ice=["renderTabBar"],Oce=["label","key"];function Lce(t){var e=t.renderTabBar,n=ln(t,Ice),r=y.useContext(L6),i=r.tabs;if(e){var o=_e(_e({},n),{},{panes:i.map(function(s){var a=s.label,l=s.key,c=ln(s,Oce);return y.createElement(vz,ct({tab:a,key:l,tabKey:l},c))})});return e(o,sI)}return y.createElement(sI,n)}function Dce(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},e;return t===!1?e={inkBar:!1,tabPane:!1}:t===!0?e={inkBar:!0,tabPane:!1}:e=_e({inkBar:!0},nn(t)==="object"?t:{}),e.tabPaneMotion&&e.tabPane===void 0&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}var Fce=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicatorSize"],aI=0;function $ce(t,e){var n,r=t.id,i=t.prefixCls,o=i===void 0?"rc-tabs":i,s=t.className,a=t.items,l=t.direction,c=t.activeKey,u=t.defaultActiveKey,d=t.editable,f=t.animated,h=t.tabPosition,g=h===void 0?"top":h,x=t.tabBarGutter,b=t.tabBarStyle,v=t.tabBarExtraContent,_=t.locale,S=t.moreIcon,w=t.moreTransitionName,M=t.destroyInactiveTabPane,E=t.renderTabBar,T=t.onChange,N=t.onTabClick,R=t.onTabScroll,P=t.getPopupContainer,L=t.popupClassName,$=t.indicatorSize,V=ln(t,Fce),D=y.useMemo(function(){return(a||[]).filter(function(ue){return ue&&nn(ue)==="object"&&"key"in ue})},[a]),H=l==="rtl",F=Dce(f),k=y.useState(!1),O=Ie(k,2),B=O[0],G=O[1];y.useEffect(function(){G(C6())},[]);var W=ei(function(){var ue;return(ue=D[0])===null||ue===void 0?void 0:ue.key},{value:c,defaultValue:u}),K=Ie(W,2),X=K[0],Y=K[1],te=y.useState(function(){return D.findIndex(function(ue){return ue.key===X})}),oe=Ie(te,2),ie=oe[0],le=oe[1];y.useEffect(function(){var ue=D.findIndex(function(ge){return ge.key===X});if(ue===-1){var ke;ue=Math.max(0,Math.min(ie,D.length-1)),Y((ke=D[ue])===null||ke===void 0?void 0:ke.key)}le(ue)},[D.map(function(ue){return ue.key}).join("_"),X,ie]);var ve=ei(null,{value:r}),me=Ie(ve,2),we=me[0],Q=me[1];y.useEffect(function(){r||(Q("rc-tabs-".concat(aI)),aI+=1)},[]);function fe(ue,ke){N?.(ue,ke);var ge=ue!==X;Y(ue),ge&&T?.(ue)}var he={id:we,activeKey:X,animated:F,tabPosition:g,rtl:H,mobile:B},Ee=_e(_e({},he),{},{editable:d,locale:_,moreIcon:S,moreTransitionName:w,tabBarGutter:x,onTabClick:fe,onTabScroll:R,extra:v,style:b,panes:null,getPopupContainer:P,popupClassName:L,indicatorSize:$});return y.createElement(L6.Provider,{value:{tabs:D,prefixCls:o}},y.createElement("div",ct({ref:e,id:r,className:ye(o,"".concat(o,"-").concat(g),(n={},se(n,"".concat(o,"-mobile"),B),se(n,"".concat(o,"-editable"),d),se(n,"".concat(o,"-rtl"),H),n),s)},V),y.createElement(Lce,ct({},Ee,{renderTabBar:E})),y.createElement(xce,ct({destroyInactiveTabPane:M},he,{animated:F}))))}var Uce=y.forwardRef($ce);const Bce={motionAppear:!1,motionEnter:!0,motionLeave:!0};function kce(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},n;return e===!1?n={inkBar:!1,tabPane:!1}:e===!0?n={inkBar:!0,tabPane:!0}:n=Object.assign({inkBar:!0},typeof e=="object"?e:{}),n.tabPane&&(n.tabPaneMotion=Object.assign(Object.assign({},Bce),{motionName:x6(t,"switch")})),n}var zce=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Vce(t){return t.filter(e=>e)}function Hce(t,e){if(t)return t;const n=hs(e).map(r=>{if(y.isValidElement(r)){const{key:i,props:o}=r,s=o||{},{tab:a}=s,l=zce(s,["tab"]);return Object.assign(Object.assign({key:String(i)},l),{label:a})}return null});return Vce(n)}const Gce=t=>{const{componentCls:e,motionDurationSlow:n}=t;return[{[e]:{[`${e}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${n}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${n}`}}}}},[Wu(t,"slide-up"),Wu(t,"slide-down")]]},Wce=Gce,jce=t=>{const{componentCls:e,tabsCardPadding:n,cardBg:r,cardGutter:i,colorBorderSecondary:o,itemSelectedColor:s}=t;return{[`${e}-card`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{margin:0,padding:n,background:r,border:`${t.lineWidth}px ${t.lineType} ${o}`,transition:`all ${t.motionDurationSlow} ${t.motionEaseInOut}`},[`${e}-tab-active`]:{color:s,background:t.colorBgContainer},[`${e}-ink-bar`]:{visibility:"hidden"}},[`&${e}-top, &${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginLeft:{_skip_check_:!0,value:`${i}px`}}}},[`&${e}-top`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:`${t.borderRadiusLG}px ${t.borderRadiusLG}px 0 0`},[`${e}-tab-active`]:{borderBottomColor:t.colorBgContainer}}},[`&${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:`0 0 ${t.borderRadiusLG}px ${t.borderRadiusLG}px`},[`${e}-tab-active`]:{borderTopColor:t.colorBgContainer}}},[`&${e}-left, &${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginTop:`${i}px`}}},[`&${e}-left`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`${t.borderRadiusLG}px 0 0 ${t.borderRadiusLG}px`}},[`${e}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:t.colorBgContainer}}}},[`&${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${t.borderRadiusLG}px ${t.borderRadiusLG}px 0`}},[`${e}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:t.colorBgContainer}}}}}}},Xce=t=>{const{componentCls:e,itemHoverColor:n,dropdownEdgeChildVerticalPadding:r}=t;return{[`${e}-dropdown`]:Object.assign(Object.assign({},Vr(t)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:t.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${e}-dropdown-menu`]:{maxHeight:t.tabsDropdownHeight,margin:0,padding:`${r}px 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:t.colorBgContainer,backgroundClip:"padding-box",borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary,"&-item":Object.assign(Object.assign({},Oc),{display:"flex",alignItems:"center",minWidth:t.tabsDropdownWidth,margin:0,padding:`${t.paddingXXS}px ${t.paddingSM}px`,color:t.colorText,fontWeight:"normal",fontSize:t.fontSize,lineHeight:t.lineHeight,cursor:"pointer",transition:`all ${t.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:t.marginSM},color:t.colorTextDescription,fontSize:t.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:n}},"&:hover":{background:t.controlItemBgHover},"&-disabled":{"&, &:hover":{color:t.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},qce=t=>{const{componentCls:e,margin:n,colorBorderSecondary:r,horizontalMargin:i,verticalItemPadding:o,verticalItemMargin:s}=t;return{[`${e}-top, ${e}-bottom`]:{flexDirection:"column",[`> ${e}-nav, > div > ${e}-nav`]:{margin:i,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${t.lineWidth}px ${t.lineType} ${r}`,content:"''"},[`${e}-ink-bar`]:{height:t.lineWidthBold,"&-animated":{transition:`width ${t.motionDurationSlow}, left ${t.motionDurationSlow},
            right ${t.motionDurationSlow}`}},[`${e}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:t.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:t.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:t.boxShadowTabsOverflowRight},[`&${e}-nav-wrap-ping-left::before`]:{opacity:1},[`&${e}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${e}-top`]:{[`> ${e}-nav,
        > div > ${e}-nav`]:{"&::before":{bottom:0},[`${e}-ink-bar`]:{bottom:0}}},[`${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{order:1,marginTop:`${n}px`,marginBottom:0,"&::before":{top:0},[`${e}-ink-bar`]:{top:0}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{order:0}},[`${e}-left, ${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{flexDirection:"column",minWidth:t.controlHeight*1.25,[`${e}-tab`]:{padding:o,textAlign:"center"},[`${e}-tab + ${e}-tab`]:{margin:s},[`${e}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:t.controlHeight},"&::before":{top:0,boxShadow:t.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:t.boxShadowTabsOverflowBottom},[`&${e}-nav-wrap-ping-top::before`]:{opacity:1},[`&${e}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${e}-ink-bar`]:{width:t.lineWidthBold,"&-animated":{transition:`height ${t.motionDurationSlow}, top ${t.motionDurationSlow}`}},[`${e}-nav-list, ${e}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${e}-left`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{marginLeft:{_skip_check_:!0,value:`-${t.lineWidth}px`},borderLeft:{_skip_check_:!0,value:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`},[`> ${e}-content > ${e}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:t.paddingLG}}}},[`${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{order:1,[`${e}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:-t.lineWidth},borderRight:{_skip_check_:!0,value:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`},[`> ${e}-content > ${e}-tabpane`]:{paddingRight:{_skip_check_:!0,value:t.paddingLG}}}}}},Kce=t=>{const{componentCls:e,cardPaddingSM:n,cardPaddingLG:r,horizontalItemPaddingSM:i,horizontalItemPaddingLG:o}=t;return{[e]:{"&-small":{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:i,fontSize:t.titleFontSizeSM}}},"&-large":{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:o,fontSize:t.titleFontSizeLG}}}},[`${e}-card`]:{[`&${e}-small`]:{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:n}},[`&${e}-bottom`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:`0 0 ${t.borderRadius}px ${t.borderRadius}px`}},[`&${e}-top`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:`${t.borderRadius}px ${t.borderRadius}px 0 0`}},[`&${e}-right`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${t.borderRadius}px ${t.borderRadius}px 0`}}},[`&${e}-left`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`${t.borderRadius}px 0 0 ${t.borderRadius}px`}}}},[`&${e}-large`]:{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:r}}}}}},Yce=t=>{const{componentCls:e,itemActiveColor:n,itemHoverColor:r,iconCls:i,tabsHorizontalItemMargin:o,horizontalItemPadding:s,itemSelectedColor:a,itemColor:l}=t,c=`${e}-tab`;return{[c]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:s,fontSize:t.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:l,"&-btn, &-remove":Object.assign({"&:focus:not(:focus-visible), &:active":{color:n}},hm(t)),"&-btn":{outline:"none",transition:"all 0.3s"},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:-t.marginXXS},marginLeft:{_skip_check_:!0,value:t.marginXS},color:t.colorTextDescription,fontSize:t.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${t.motionDurationSlow}`,"&:hover":{color:t.colorTextHeading}},"&:hover":{color:r},[`&${c}-active ${c}-btn`]:{color:a,textShadow:t.tabsActiveTextShadow},[`&${c}-disabled`]:{color:t.colorTextDisabled,cursor:"not-allowed"},[`&${c}-disabled ${c}-btn, &${c}-disabled ${e}-remove`]:{"&:focus, &:active":{color:t.colorTextDisabled}},[`& ${c}-remove ${i}`]:{margin:0},[i]:{marginRight:{_skip_check_:!0,value:t.marginSM}}},[`${c} + ${c}`]:{margin:{_skip_check_:!0,value:o}}}},Zce=t=>{const{componentCls:e,tabsHorizontalItemMarginRTL:n,iconCls:r,cardGutter:i}=t;return{[`${e}-rtl`]:{direction:"rtl",[`${e}-nav`]:{[`${e}-tab`]:{margin:{_skip_check_:!0,value:n},[`${e}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[r]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:`${t.marginSM}px`}},[`${e}-tab-remove`]:{marginRight:{_skip_check_:!0,value:`${t.marginXS}px`},marginLeft:{_skip_check_:!0,value:`-${t.marginXXS}px`},[r]:{margin:0}}}},[`&${e}-left`]:{[`> ${e}-nav`]:{order:1},[`> ${e}-content-holder`]:{order:0}},[`&${e}-right`]:{[`> ${e}-nav`]:{order:0},[`> ${e}-content-holder`]:{order:1}},[`&${e}-card${e}-top, &${e}-card${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginRight:{_skip_check_:!0,value:i},marginLeft:{_skip_check_:!0,value:0}}}}},[`${e}-dropdown-rtl`]:{direction:"rtl"},[`${e}-menu-item`]:{[`${e}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},Qce=t=>{const{componentCls:e,tabsCardPadding:n,cardHeight:r,cardGutter:i,itemHoverColor:o,itemActiveColor:s,colorBorderSecondary:a}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},Vr(t)),{display:"flex",[`> ${e}-nav, > div > ${e}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${e}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${t.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${e}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${t.motionDurationSlow}`},[`${e}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${e}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${e}-nav-more`]:{position:"relative",padding:n,background:"transparent",border:0,color:t.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:t.controlHeightLG/8,transform:"translateY(100%)",content:"''"}},[`${e}-nav-add`]:Object.assign({minWidth:r,marginLeft:{_skip_check_:!0,value:i},padding:`0 ${t.paddingXS}px`,background:"transparent",border:`${t.lineWidth}px ${t.lineType} ${a}`,borderRadius:`${t.borderRadiusLG}px ${t.borderRadiusLG}px 0 0`,outline:"none",cursor:"pointer",color:t.colorText,transition:`all ${t.motionDurationSlow} ${t.motionEaseInOut}`,"&:hover":{color:o},"&:active, &:focus:not(:focus-visible)":{color:s}},hm(t))},[`${e}-extra-content`]:{flex:"none"},[`${e}-ink-bar`]:{position:"absolute",background:t.inkBarColor,pointerEvents:"none"}}),Yce(t)),{[`${e}-content`]:{position:"relative",width:"100%"},[`${e}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${e}-tabpane`]:{outline:"none","&-hidden":{display:"none"}}}),[`${e}-centered`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-nav-wrap`]:{[`&:not([class*='${e}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}},Jce=yr("Tabs",t=>{const e=wn(t,{tabsCardPadding:t.cardPadding||`${(t.cardHeight-Math.round(t.fontSize*t.lineHeight))/2-t.lineWidth}px ${t.padding}px`,dropdownEdgeChildVerticalPadding:t.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${t.horizontalItemGutter}px`,tabsHorizontalItemMarginRTL:`0 0 0 ${t.horizontalItemGutter}px`});return[Kce(e),Zce(e),qce(e),Xce(e),jce(e),Qce(e),Wce(e)]},t=>{const e=t.controlHeightLG;return{zIndexPopup:t.zIndexPopupBase+50,cardBg:t.colorFillAlter,cardHeight:e,cardPadding:"",cardPaddingSM:`${t.paddingXXS*1.5}px ${t.padding}px`,cardPaddingLG:`${t.paddingXS}px ${t.padding}px ${t.paddingXXS*1.5}px`,titleFontSize:t.fontSize,titleFontSizeLG:t.fontSizeLG,titleFontSizeSM:t.fontSize,inkBarColor:t.colorPrimary,horizontalMargin:`0 0 ${t.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${t.paddingSM}px 0`,horizontalItemPaddingSM:`${t.paddingXS}px 0`,horizontalItemPaddingLG:`${t.padding}px 0`,verticalItemPadding:`${t.paddingXS}px ${t.paddingLG}px`,verticalItemMargin:`${t.margin}px 0 0 0`,itemColor:t.colorText,itemSelectedColor:t.colorPrimary,itemHoverColor:t.colorPrimaryHover,itemActiveColor:t.colorPrimaryActive,cardGutter:t.marginXXS/2}}),eue=()=>null,tue=eue;var nue=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const _z=t=>{const{type:e,className:n,rootClassName:r,size:i,onEdit:o,hideAdd:s,centered:a,addIcon:l,popupClassName:c,children:u,items:d,animated:f,style:h,indicatorSize:g}=t,x=nue(t,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","popupClassName","children","items","animated","style","indicatorSize"]),{prefixCls:b,moreIcon:v=y.createElement(CE,null)}=x,{direction:_,tabs:S,getPrefixCls:w,getPopupContainer:M}=y.useContext(Zt),E=w("tabs",b),[T,N]=Jce(E);let R;e==="editable-card"&&(R={onEdit:(H,F)=>{let{key:k,event:O}=F;o?.(H==="add"?O:k,H)},removeIcon:y.createElement(y3,null),addIcon:l||y.createElement(vce,null),showAdd:s!==!0});const P=w(),L=Hce(d,u),$=kce(E,f),V=zs(i),D=Object.assign(Object.assign({},S?.style),h);return T(y.createElement(Uce,Object.assign({direction:_,getPopupContainer:M,moreTransitionName:`${P}-slide-up`},x,{items:L,className:ye({[`${E}-${V}`]:V,[`${E}-card`]:["card","editable-card"].includes(e),[`${E}-editable-card`]:e==="editable-card",[`${E}-centered`]:a},S?.className,n,r,N),popupClassName:ye(c,N),style:D,editable:R,moreIcon:v,prefixCls:E,animated:$,indicatorSize:g??S?.indicatorSize})))};_z.TabPane=tue;const rue=_z;var iue=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const oue=t=>{var{prefixCls:e,className:n,hoverable:r=!0}=t,i=iue(t,["prefixCls","className","hoverable"]);const{getPrefixCls:o}=y.useContext(Zt),s=o("card",e),a=ye(`${s}-grid`,n,{[`${s}-grid-hoverable`]:r});return y.createElement("div",Object.assign({},i,{className:a}))},wz=oue,sue=t=>{const{antCls:e,componentCls:n,headerHeight:r,cardPaddingBase:i,tabsMarginBottom:o}=t;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:r,marginBottom:-1,padding:`0 ${i}px`,color:t.colorTextHeading,fontWeight:t.fontWeightStrong,fontSize:t.headerFontSize,background:t.headerBg,borderBottom:`${t.lineWidth}px ${t.lineType} ${t.colorBorderSecondary}`,borderRadius:`${t.borderRadiusLG}px ${t.borderRadiusLG}px 0 0`},Lc()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},Oc),{[`
          > ${n}-typography,
          > ${n}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${e}-tabs-top`]:{clear:"both",marginBottom:o,color:t.colorText,fontWeight:"normal",fontSize:t.fontSize,"&-bar":{borderBottom:`${t.lineWidth}px ${t.lineType} ${t.colorBorderSecondary}`}}})},aue=t=>{const{cardPaddingBase:e,colorBorderSecondary:n,cardShadow:r,lineWidth:i}=t;return{width:"33.33%",padding:e,border:0,borderRadius:0,boxShadow:`
      ${i}px 0 0 0 ${n},
      0 ${i}px 0 0 ${n},
      ${i}px ${i}px 0 0 ${n},
      ${i}px 0 0 0 ${n} inset,
      0 ${i}px 0 0 ${n} inset;
    `,transition:`all ${t.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:r}}},lue=t=>{const{componentCls:e,iconCls:n,actionsLiMargin:r,cardActionsIconSize:i,colorBorderSecondary:o,actionsBg:s}=t;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:s,borderTop:`${t.lineWidth}px ${t.lineType} ${o}`,display:"flex",borderRadius:`0 0 ${t.borderRadiusLG}px ${t.borderRadiusLG}px `},Lc()),{"& > li":{margin:r,color:t.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:t.cardActionsIconSize*2,fontSize:t.fontSize,lineHeight:t.lineHeight,cursor:"pointer","&:hover":{color:t.colorPrimary,transition:`color ${t.motionDurationMid}`},[`a:not(${e}-btn), > ${n}`]:{display:"inline-block",width:"100%",color:t.colorTextDescription,lineHeight:`${t.fontSize*t.lineHeight}px`,transition:`color ${t.motionDurationMid}`,"&:hover":{color:t.colorPrimary}},[`> ${n}`]:{fontSize:i,lineHeight:`${i*t.lineHeight}px`}},"&:not(:last-child)":{borderInlineEnd:`${t.lineWidth}px ${t.lineType} ${o}`}}})},cue=t=>Object.assign(Object.assign({margin:`-${t.marginXXS}px 0`,display:"flex"},Lc()),{"&-avatar":{paddingInlineEnd:t.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:t.marginXS}},"&-title":Object.assign({color:t.colorTextHeading,fontWeight:t.fontWeightStrong,fontSize:t.fontSizeLG},Oc),"&-description":{color:t.colorTextDescription}}),uue=t=>{const{componentCls:e,cardPaddingBase:n,colorFillAlter:r}=t;return{[`${e}-head`]:{padding:`0 ${n}px`,background:r,"&-title":{fontSize:t.fontSize}},[`${e}-body`]:{padding:`${t.padding}px ${n}px`}}},due=t=>{const{componentCls:e}=t;return{overflow:"hidden",[`${e}-body`]:{userSelect:"none"}}},fue=t=>{const{antCls:e,componentCls:n,cardShadow:r,cardHeadPadding:i,colorBorderSecondary:o,boxShadowTertiary:s,cardPaddingBase:a,extraColor:l}=t;return{[n]:Object.assign(Object.assign({},Vr(t)),{position:"relative",background:t.colorBgContainer,borderRadius:t.borderRadiusLG,[`&:not(${n}-bordered)`]:{boxShadow:s},[`${n}-head`]:sue(t),[`${n}-extra`]:{marginInlineStart:"auto",color:l,fontWeight:"normal",fontSize:t.fontSize},[`${n}-body`]:Object.assign({padding:a,borderRadius:` 0 0 ${t.borderRadiusLG}px ${t.borderRadiusLG}px`},Lc()),[`${n}-grid`]:aue(t),[`${n}-cover`]:{"> *":{display:"block",width:"100%"},[`img, img + ${e}-image-mask`]:{borderRadius:`${t.borderRadiusLG}px ${t.borderRadiusLG}px 0 0`}},[`${n}-actions`]:lue(t),[`${n}-meta`]:cue(t)}),[`${n}-bordered`]:{border:`${t.lineWidth}px ${t.lineType} ${o}`,[`${n}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${n}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${t.motionDurationMid}, border-color ${t.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:r}},[`${n}-contain-grid`]:{borderRadius:`${t.borderRadiusLG}px ${t.borderRadiusLG}px 0 0 `,[`${n}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${n}-loading) ${n}-body`]:{marginBlockStart:-t.lineWidth,marginInlineStart:-t.lineWidth,padding:0}},[`${n}-contain-tabs`]:{[`> ${n}-head`]:{[`${n}-head-title, ${n}-extra`]:{paddingTop:i}}},[`${n}-type-inner`]:uue(t),[`${n}-loading`]:due(t),[`${n}-rtl`]:{direction:"rtl"}}},hue=t=>{const{componentCls:e,cardPaddingSM:n,headerHeightSM:r,headerFontSizeSM:i}=t;return{[`${e}-small`]:{[`> ${e}-head`]:{minHeight:r,padding:`0 ${n}px`,fontSize:i,[`> ${e}-head-wrapper`]:{[`> ${e}-extra`]:{fontSize:t.fontSize}}},[`> ${e}-body`]:{padding:n}},[`${e}-small${e}-contain-tabs`]:{[`> ${e}-head`]:{[`${e}-head-title, ${e}-extra`]:{minHeight:r,paddingTop:0,display:"flex",alignItems:"center"}}}}},pue=yr("Card",t=>{const e=wn(t,{cardShadow:t.boxShadowCard,cardHeadPadding:t.padding,cardPaddingBase:t.paddingLG,cardActionsIconSize:t.fontSize,cardPaddingSM:12});return[fue(e),hue(e)]},t=>({headerBg:"transparent",headerFontSize:t.fontSizeLG,headerFontSizeSM:t.fontSize,headerHeight:t.fontSizeLG*t.lineHeightLG+t.padding*2,headerHeightSM:t.fontSize*t.lineHeight+t.paddingXS*2,actionsBg:t.colorBgContainer,actionsLiMargin:`${t.paddingSM}px 0`,tabsMarginBottom:-t.padding-t.lineWidth,extraColor:t.colorText}));var lI=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function mue(t){return t.map((e,n)=>y.createElement("li",{style:{width:`${100/t.length}%`},key:`action-${n}`},y.createElement("span",null,e)))}const gue=y.forwardRef((t,e)=>{const{prefixCls:n,className:r,rootClassName:i,style:o,extra:s,headStyle:a={},bodyStyle:l={},title:c,loading:u,bordered:d=!0,size:f,type:h,cover:g,actions:x,tabList:b,children:v,activeTabKey:_,defaultActiveTabKey:S,tabBarExtraContent:w,hoverable:M,tabProps:E={}}=t,T=lI(t,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),{getPrefixCls:N,direction:R,card:P}=y.useContext(Zt),L=ve=>{var me;(me=t.onTabChange)===null||me===void 0||me.call(t,ve)},$=y.useMemo(()=>{let ve=!1;return y.Children.forEach(v,me=>{me&&me.type&&me.type===wz&&(ve=!0)}),ve},[v]),V=N("card",n),[D,H]=pue(V),F=y.createElement(hce,{loading:!0,active:!0,paragraph:{rows:4},title:!1},v),k=_!==void 0,O=Object.assign(Object.assign({},E),{[k?"activeKey":"defaultActiveKey"]:k?_:S,tabBarExtraContent:w});let B;const G=zs(f),W=!G||G==="default"?"large":G,K=b?y.createElement(rue,Object.assign({size:W},O,{className:`${V}-head-tabs`,onChange:L,items:b.map(ve=>{var{tab:me}=ve,we=lI(ve,["tab"]);return Object.assign({label:me},we)})})):null;(c||s||K)&&(B=y.createElement("div",{className:`${V}-head`,style:a},y.createElement("div",{className:`${V}-head-wrapper`},c&&y.createElement("div",{className:`${V}-head-title`},c),s&&y.createElement("div",{className:`${V}-extra`},s)),K));const X=g?y.createElement("div",{className:`${V}-cover`},g):null,Y=y.createElement("div",{className:`${V}-body`,style:l},u?F:v),te=x&&x.length?y.createElement("ul",{className:`${V}-actions`},mue(x)):null,oe=fi(T,["onTabChange"]),ie=ye(V,P?.className,{[`${V}-loading`]:u,[`${V}-bordered`]:d,[`${V}-hoverable`]:M,[`${V}-contain-grid`]:$,[`${V}-contain-tabs`]:b&&b.length,[`${V}-${G}`]:G,[`${V}-type-${h}`]:!!h,[`${V}-rtl`]:R==="rtl"},r,i,H),le=Object.assign(Object.assign({},P?.style),o);return D(y.createElement("div",Object.assign({ref:e},oe,{className:ie,style:le}),B,X,Y,te))}),vue=gue;var yue=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const xue=t=>{const{prefixCls:e,className:n,avatar:r,title:i,description:o}=t,s=yue(t,["prefixCls","className","avatar","title","description"]),{getPrefixCls:a}=y.useContext(Zt),l=a("card",e),c=ye(`${l}-meta`,n),u=r?y.createElement("div",{className:`${l}-meta-avatar`},r):null,d=i?y.createElement("div",{className:`${l}-meta-title`},i):null,f=o?y.createElement("div",{className:`${l}-meta-description`},o):null,h=d||f?y.createElement("div",{className:`${l}-meta-detail`},d,f):null;return y.createElement("div",Object.assign({},s,{className:c}),u,h)},bue=xue,NE=vue;NE.Grid=wz;NE.Meta=bue;const Sue=NE;function _ue(t,e,n){var r=n||{},i=r.noTrailing,o=i===void 0?!1:i,s=r.noLeading,a=s===void 0?!1:s,l=r.debounceMode,c=l===void 0?void 0:l,u,d=!1,f=0;function h(){u&&clearTimeout(u)}function g(b){var v=b||{},_=v.upcomingOnly,S=_===void 0?!1:_;h(),d=!S}function x(){for(var b=arguments.length,v=new Array(b),_=0;_<b;_++)v[_]=arguments[_];var S=this,w=Date.now()-f;if(d)return;function M(){f=Date.now(),e.apply(S,v)}function E(){u=void 0}!a&&c&&!u&&M(),h(),c===void 0&&w>t?a?(f=Date.now(),o||(u=setTimeout(c?E:M,t))):M():o!==!0&&(u=setTimeout(c?E:M,c===void 0?t-w:t))}return x.cancel=g,x}function wue(t,e,n){var r=n||{},i=r.atBegin,o=i===void 0?!1:i;return _ue(t,e,{debounceMode:o!==!1})}const Cue=y.createContext({}),Cz=Cue,Eue=t=>{const{componentCls:e}=t;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},Tue=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},Mue=(t,e)=>{const{componentCls:n,gridColumns:r}=t,i={};for(let o=r;o>=0;o--)o===0?(i[`${n}${e}-${o}`]={display:"none"},i[`${n}-push-${o}`]={insetInlineStart:"auto"},i[`${n}-pull-${o}`]={insetInlineEnd:"auto"},i[`${n}${e}-push-${o}`]={insetInlineStart:"auto"},i[`${n}${e}-pull-${o}`]={insetInlineEnd:"auto"},i[`${n}${e}-offset-${o}`]={marginInlineStart:0},i[`${n}${e}-order-${o}`]={order:0}):(i[`${n}${e}-${o}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${o/r*100}%`,maxWidth:`${o/r*100}%`}],i[`${n}${e}-push-${o}`]={insetInlineStart:`${o/r*100}%`},i[`${n}${e}-pull-${o}`]={insetInlineEnd:`${o/r*100}%`},i[`${n}${e}-offset-${o}`]={marginInlineStart:`${o/r*100}%`},i[`${n}${e}-order-${o}`]={order:o});return i},z_=(t,e)=>Mue(t,e),Rue=(t,e,n)=>({[`@media (min-width: ${e}px)`]:Object.assign({},z_(t,n))}),Aue=yr("Grid",t=>[Eue(t)]),Pue=yr("Grid",t=>{const e=wn(t,{gridColumns:24}),n={"-sm":e.screenSMMin,"-md":e.screenMDMin,"-lg":e.screenLGMin,"-xl":e.screenXLMin,"-xxl":e.screenXXLMin};return[Tue(e),z_(e,""),z_(e,"-xs"),Object.keys(n).map(r=>Rue(e,n[r],r)).reduce((r,i)=>Object.assign(Object.assign({},r),i),{})]});var Nue=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Iue(t){return typeof t=="number"?`${t} ${t} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?`0 0 ${t}`:t}const Oue=["xs","sm","md","lg","xl","xxl"],Lue=y.forwardRef((t,e)=>{const{getPrefixCls:n,direction:r}=y.useContext(Zt),{gutter:i,wrap:o}=y.useContext(Cz),{prefixCls:s,span:a,order:l,offset:c,push:u,pull:d,className:f,children:h,flex:g,style:x}=t,b=Nue(t,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),v=n("col",s),[_,S]=Pue(v);let w={};Oue.forEach(T=>{let N={};const R=t[T];typeof R=="number"?N.span=R:typeof R=="object"&&(N=R||{}),delete b[T],w=Object.assign(Object.assign({},w),{[`${v}-${T}-${N.span}`]:N.span!==void 0,[`${v}-${T}-order-${N.order}`]:N.order||N.order===0,[`${v}-${T}-offset-${N.offset}`]:N.offset||N.offset===0,[`${v}-${T}-push-${N.push}`]:N.push||N.push===0,[`${v}-${T}-pull-${N.pull}`]:N.pull||N.pull===0,[`${v}-${T}-flex-${N.flex}`]:N.flex||N.flex==="auto",[`${v}-rtl`]:r==="rtl"})});const M=ye(v,{[`${v}-${a}`]:a!==void 0,[`${v}-order-${l}`]:l,[`${v}-offset-${c}`]:c,[`${v}-push-${u}`]:u,[`${v}-pull-${d}`]:d},f,w,S),E={};if(i&&i[0]>0){const T=i[0]/2;E.paddingLeft=T,E.paddingRight=T}return g&&(E.flex=Iue(g),o===!1&&!E.minWidth&&(E.minWidth=0)),_(y.createElement("div",Object.assign({},b,{style:Object.assign(Object.assign({},E),x),className:M,ref:e}),h))}),Wa=Lue;var Due=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function cI(t,e){const[n,r]=y.useState(typeof t=="string"?t:""),i=()=>{if(typeof t=="string"&&r(t),typeof t=="object")for(let o=0;o<Pf.length;o++){const s=Pf[o];if(!e[s])continue;const a=t[s];if(a!==void 0){r(a);return}}};return y.useEffect(()=>{i()},[JSON.stringify(t),e]),n}const Fue=y.forwardRef((t,e)=>{const{prefixCls:n,justify:r,align:i,className:o,style:s,children:a,gutter:l=0,wrap:c}=t,u=Due(t,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:d,direction:f}=y.useContext(Zt),[h,g]=y.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[x,b]=y.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),v=cI(i,x),_=cI(r,x),S=y.useRef(l),w=kk();y.useEffect(()=>{const F=w.subscribe(k=>{b(k);const O=S.current||0;(!Array.isArray(O)&&typeof O=="object"||Array.isArray(O)&&(typeof O[0]=="object"||typeof O[1]=="object"))&&g(k)});return()=>w.unsubscribe(F)},[]);const M=()=>{const F=[void 0,void 0];return(Array.isArray(l)?l:[l,void 0]).forEach((O,B)=>{if(typeof O=="object")for(let G=0;G<Pf.length;G++){const W=Pf[G];if(h[W]&&O[W]!==void 0){F[B]=O[W];break}}else F[B]=O}),F},E=d("row",n),[T,N]=Aue(E),R=M(),P=ye(E,{[`${E}-no-wrap`]:c===!1,[`${E}-${_}`]:_,[`${E}-${v}`]:v,[`${E}-rtl`]:f==="rtl"},o,N),L={},$=R[0]!=null&&R[0]>0?R[0]/-2:void 0;$&&(L.marginLeft=$,L.marginRight=$),[,L.rowGap]=R;const[V,D]=R,H=y.useMemo(()=>({gutter:[V,D],wrap:c}),[V,D,c]);return T(y.createElement(Cz.Provider,{value:H},y.createElement("div",Object.assign({},u,{className:P,style:Object.assign(Object.assign({},L),s),ref:e}),a)))}),hc=Fue;var Ez=ae.forwardRef(function(t,e){var n,r=t.prefixCls,i=t.forceRender,o=t.className,s=t.style,a=t.children,l=t.isActive,c=t.role,u=ae.useState(l||i),d=Ie(u,2),f=d[0],h=d[1];return ae.useEffect(function(){(i||l)&&h(!0)},[i,l]),f?ae.createElement("div",{ref:e,className:ye("".concat(r,"-content"),(n={},se(n,"".concat(r,"-content-active"),l),se(n,"".concat(r,"-content-inactive"),!l),n),o),style:s,role:c},ae.createElement("div",{className:"".concat(r,"-content-box")},a)):null});Ez.displayName="PanelContent";var $ue=["showArrow","headerClass","isActive","onItemClick","forceRender","className","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],Tz=ae.forwardRef(function(t,e){var n,r,i=t.showArrow,o=i===void 0?!0:i,s=t.headerClass,a=t.isActive,l=t.onItemClick,c=t.forceRender,u=t.className,d=t.prefixCls,f=t.collapsible,h=t.accordion,g=t.panelKey,x=t.extra,b=t.header,v=t.expandIcon,_=t.openMotion,S=t.destroyInactivePanel,w=t.children,M=ln(t,$ue),E=f==="disabled",T=f==="header",N=f==="icon",R=x!=null&&typeof x!="boolean",P=function(){l?.(g)},L=function(k){(k.key==="Enter"||k.keyCode===ot.ENTER||k.which===ot.ENTER)&&P()},$=typeof v=="function"?v(t):ae.createElement("i",{className:"arrow"});$&&($=ae.createElement("div",{className:"".concat(d,"-expand-icon"),onClick:["header","icon"].includes(f)?P:void 0},$));var V=ye((n={},se(n,"".concat(d,"-item"),!0),se(n,"".concat(d,"-item-active"),a),se(n,"".concat(d,"-item-disabled"),E),n),u),D=ye(s,(r={},se(r,"".concat(d,"-header"),!0),se(r,"".concat(d,"-header-collapsible-only"),T),se(r,"".concat(d,"-icon-collapsible-only"),N),r)),H={className:D,"aria-expanded":a,"aria-disabled":E,onKeyDown:L};return!T&&!N&&(H.onClick=P,H.role=h?"tab":"button",H.tabIndex=E?-1:0),ae.createElement("div",ct({},M,{ref:e,className:V}),ae.createElement("div",H,o&&$,ae.createElement("span",{className:"".concat(d,"-header-text"),onClick:f==="header"?P:void 0},b),R&&ae.createElement("div",{className:"".concat(d,"-extra")},x)),ae.createElement(Hl,ct({visible:a,leavedClassName:"".concat(d,"-content-hidden")},_,{forceRender:c,removeOnLeave:S}),function(F,k){var O=F.className,B=F.style;return ae.createElement(Ez,{ref:k,prefixCls:d,className:O,style:B,isActive:a,forceRender:c,role:h?"tabpanel":void 0},w)}))}),Uue=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],Bue=function(e,n){var r=n.prefixCls,i=n.accordion,o=n.collapsible,s=n.destroyInactivePanel,a=n.onItemClick,l=n.activeKey,c=n.openMotion,u=n.expandIcon;return e.map(function(d,f){var h=d.children,g=d.label,x=d.key,b=d.collapsible,v=d.onItemClick,_=d.destroyInactivePanel,S=ln(d,Uue),w=String(x??f),M=b??o,E=_??s,T=function(P){M!=="disabled"&&(a(P),v?.(P))},N=!1;return i?N=l[0]===w:N=l.indexOf(w)>-1,ae.createElement(Tz,ct({},S,{prefixCls:r,key:w,panelKey:w,isActive:N,accordion:i,openMotion:c,expandIcon:u,header:g,collapsible:M,onItemClick:T,destroyInactivePanel:E}),h)})},kue=function(e,n,r){if(!e)return null;var i=r.prefixCls,o=r.accordion,s=r.collapsible,a=r.destroyInactivePanel,l=r.onItemClick,c=r.activeKey,u=r.openMotion,d=r.expandIcon,f=e.key||String(n),h=e.props,g=h.header,x=h.headerClass,b=h.destroyInactivePanel,v=h.collapsible,_=h.onItemClick,S=!1;o?S=c[0]===f:S=c.indexOf(f)>-1;var w=v??s,M=function(N){w!=="disabled"&&(l(N),_?.(N))},E={key:f,panelKey:f,header:g,headerClass:x,isActive:S,prefixCls:i,destroyInactivePanel:b??a,openMotion:u,accordion:o,children:e.props.children,onItemClick:M,expandIcon:d,collapsible:w};return typeof e.type=="string"?e:(Object.keys(E).forEach(function(T){typeof E[T]>"u"&&delete E[T]}),ae.cloneElement(e,E))};function zue(t,e,n){return Array.isArray(t)?Bue(t,n):hs(e).map(function(r,i){return kue(r,i,n)})}function Vue(t){var e=t;if(!Array.isArray(e)){var n=nn(e);e=n==="number"||n==="string"?[e]:[]}return e.map(function(r){return String(r)})}var Hue=ae.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-collapse":n,i=t.destroyInactivePanel,o=i===void 0?!1:i,s=t.style,a=t.accordion,l=t.className,c=t.children,u=t.collapsible,d=t.openMotion,f=t.expandIcon,h=t.activeKey,g=t.defaultActiveKey,x=t.onChange,b=t.items,v=ye(r,l),_=ei([],{value:h,onChange:function(R){return x?.(R)},defaultValue:g,postState:Vue}),S=Ie(_,2),w=S[0],M=S[1],E=function(R){return M(function(){if(a)return w[0]===R?[]:[R];var P=w.indexOf(R),L=P>-1;return L?w.filter(function($){return $!==R}):[].concat(St(w),[R])})};Pi(!c,"`children` will be removed in next major version. Please use `items` instead.");var T=zue(b,c,{prefixCls:r,accordion:a,openMotion:d,expandIcon:f,collapsible:u,destroyInactivePanel:o,onItemClick:E,activeKey:w});return ae.createElement("div",{ref:e,className:v,style:s,role:a?"tablist":void 0},T)});const IE=Object.assign(Hue,{Panel:Tz});IE.Panel;const Gue=y.forwardRef((t,e)=>{const{getPrefixCls:n}=y.useContext(Zt),{prefixCls:r,className:i,showArrow:o=!0}=t,s=n("collapse",r),a=ye({[`${s}-no-arrow`]:!o},i);return y.createElement(IE.Panel,Object.assign({ref:e},t,{prefixCls:s,className:a}))}),Wue=Gue,jue=t=>{const{componentCls:e,contentBg:n,padding:r,headerBg:i,headerPadding:o,collapseHeaderPaddingSM:s,collapseHeaderPaddingLG:a,collapsePanelBorderRadius:l,lineWidth:c,lineType:u,colorBorder:d,colorText:f,colorTextHeading:h,colorTextDisabled:g,fontSize:x,fontSizeLG:b,lineHeight:v,marginSM:_,paddingSM:S,paddingLG:w,paddingXS:M,motionDurationSlow:E,fontSizeIcon:T,contentPadding:N}=t,R=`${c}px ${u} ${d}`;return{[e]:Object.assign(Object.assign({},Vr(t)),{backgroundColor:i,border:R,borderBottom:0,borderRadius:`${l}px`,"&-rtl":{direction:"rtl"},[`& > ${e}-item`]:{borderBottom:R,"&:last-child":{[`
            &,
            & > ${e}-header`]:{borderRadius:`0 0 ${l}px ${l}px`}},[`> ${e}-header`]:{position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:o,color:h,lineHeight:v,cursor:"pointer",transition:`all ${E}, visibility 0s`,[`> ${e}-header-text`]:{flex:"auto"},"&:focus":{outline:"none"},[`${e}-expand-icon`]:{height:x*v,display:"flex",alignItems:"center",paddingInlineEnd:_},[`${e}-arrow`]:Object.assign(Object.assign({},e0()),{fontSize:T,svg:{transition:`transform ${E}`}}),[`${e}-header-text`]:{marginInlineEnd:"auto"}},[`${e}-header-collapsible-only`]:{cursor:"default",[`${e}-header-text`]:{flex:"none",cursor:"pointer"}},[`${e}-icon-collapsible-only`]:{cursor:"default",[`${e}-expand-icon`]:{cursor:"pointer"}}},[`${e}-content`]:{color:f,backgroundColor:n,borderTop:R,[`& > ${e}-content-box`]:{padding:N},"&-hidden":{display:"none"}},"&-small":{[`> ${e}-item`]:{[`> ${e}-header`]:{padding:s,paddingInlineStart:M,[`> ${e}-expand-icon`]:{marginInlineStart:S-M}},[`> ${e}-content > ${e}-content-box`]:{padding:S}}},"&-large":{[`> ${e}-item`]:{fontSize:b,[`> ${e}-header`]:{padding:a,paddingInlineStart:r,[`> ${e}-expand-icon`]:{height:b*v,marginInlineStart:w-r}},[`> ${e}-content > ${e}-content-box`]:{padding:w}}},[`${e}-item:last-child`]:{[`> ${e}-content`]:{borderRadius:`0 0 ${l}px ${l}px`}},[`& ${e}-item-disabled > ${e}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:g,cursor:"not-allowed"}},[`&${e}-icon-position-end`]:{[`& > ${e}-item`]:{[`> ${e}-header`]:{[`${e}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:_}}}}})}},Xue=t=>{const{componentCls:e}=t,n=`> ${e}-item > ${e}-header ${e}-arrow svg`;return{[`${e}-rtl`]:{[n]:{transform:"rotate(180deg)"}}}},que=t=>{const{componentCls:e,headerBg:n,paddingXXS:r,colorBorder:i}=t;return{[`${e}-borderless`]:{backgroundColor:n,border:0,[`> ${e}-item`]:{borderBottom:`1px solid ${i}`},[`
        > ${e}-item:last-child,
        > ${e}-item:last-child ${e}-header
      `]:{borderRadius:0},[`> ${e}-item:last-child`]:{borderBottom:0},[`> ${e}-item > ${e}-content`]:{backgroundColor:"transparent",borderTop:0},[`> ${e}-item > ${e}-content > ${e}-content-box`]:{paddingTop:r}}}},Kue=t=>{const{componentCls:e,paddingSM:n}=t;return{[`${e}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${e}-item`]:{borderBottom:0,[`> ${e}-content`]:{backgroundColor:"transparent",border:0,[`> ${e}-content-box`]:{paddingBlock:n}}}}}},Yue=yr("Collapse",t=>{const e=wn(t,{collapseHeaderPaddingSM:`${t.paddingXS}px ${t.paddingSM}px`,collapseHeaderPaddingLG:`${t.padding}px ${t.paddingLG}px`,collapsePanelBorderRadius:t.borderRadiusLG});return[jue(e),que(e),Kue(e),Xue(e),aE(e)]},t=>({headerPadding:`${t.paddingSM}px ${t.padding}px`,headerBg:t.colorFillAlter,contentPadding:`${t.padding}px 16px`,contentBg:t.colorBgContainer})),Zue=y.forwardRef((t,e)=>{const{getPrefixCls:n,direction:r,collapse:i}=y.useContext(Zt),{prefixCls:o,className:s,rootClassName:a,style:l,bordered:c=!0,ghost:u,size:d,expandIconPosition:f="start",children:h,expandIcon:g}=t,x=zs(R=>{var P;return(P=d??R)!==null&&P!==void 0?P:"middle"}),b=n("collapse",o),v=n(),[_,S]=Yue(b),w=y.useMemo(()=>f==="left"?"start":f==="right"?"end":f,[f]),M=function(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const P=g?g(R):y.createElement(K5,{rotate:R.isActive?90:void 0});return ji(P,()=>({className:ye(P.props.className,`${b}-arrow`)}))},E=ye(`${b}-icon-position-${w}`,{[`${b}-borderless`]:!c,[`${b}-rtl`]:r==="rtl",[`${b}-ghost`]:!!u,[`${b}-${x}`]:x!=="middle"},i?.className,s,a,S),T=Object.assign(Object.assign({},ZC(v)),{motionAppear:!1,leavedClassName:`${b}-content-hidden`}),N=y.useMemo(()=>h?hs(h).map((R,P)=>{var L,$;if(!((L=R.props)===null||L===void 0)&&L.disabled){const V=($=R.key)!==null&&$!==void 0?$:String(P),{disabled:D,collapsible:H}=R.props,F=Object.assign(Object.assign({},fi(R.props,["disabled"])),{key:V,collapsible:H??(D?"disabled":void 0)});return ji(R,F)}return R}):null,[h]);return _(y.createElement(IE,Object.assign({ref:e,openMotion:T},fi(t,["rootClassName"]),{expandIcon:M,prefixCls:b,className:E,style:Object.assign(Object.assign({},i?.style),l)}),N))}),Que=Object.assign(Zue,{Panel:Wue}),Jue=t=>{const{componentCls:e,sizePaddingEdgeHorizontal:n,colorSplit:r,lineWidth:i,textPaddingInline:o,orientationMargin:s,verticalMarginInline:a}=t;return{[e]:Object.assign(Object.assign({},Vr(t)),{borderBlockStart:`${i}px solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:a,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${i}px solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${t.dividerHorizontalGutterMargin}px 0`},[`&-horizontal${e}-with-text`]:{display:"flex",alignItems:"center",margin:`${t.dividerHorizontalWithTextGutterMargin}px 0`,color:t.colorTextHeading,fontWeight:500,fontSize:t.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${i}px solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${e}-with-text-left`]:{"&::before":{width:`${s*100}%`},"&::after":{width:`${100-s*100}%`}},[`&-horizontal${e}-with-text-right`]:{"&::before":{width:`${100-s*100}%`},"&::after":{width:`${s*100}%`}},[`${e}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:o},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${i}px 0 0`},[`&-horizontal${e}-with-text${e}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${e}-dashed`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${e}-with-text`]:{color:t.colorText,fontWeight:"normal",fontSize:t.fontSize},[`&-horizontal${e}-with-text-left${e}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${e}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${e}-with-text-right${e}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${e}-inner-text`]:{paddingInlineEnd:n}}})}},ede=yr("Divider",t=>{const e=wn(t,{dividerHorizontalWithTextGutterMargin:t.margin,dividerHorizontalGutterMargin:t.marginLG,sizePaddingEdgeHorizontal:0});return[Jue(e)]},t=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:t.marginXS}));var tde=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const nde=t=>{const{getPrefixCls:e,direction:n,divider:r}=y.useContext(Zt),{prefixCls:i,type:o="horizontal",orientation:s="center",orientationMargin:a,className:l,rootClassName:c,children:u,dashed:d,plain:f,style:h}=t,g=tde(t,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),x=e("divider",i),[b,v]=ede(x),_=s.length>0?`-${s}`:s,S=!!u,w=s==="left"&&a!=null,M=s==="right"&&a!=null,E=ye(x,r?.className,v,`${x}-${o}`,{[`${x}-with-text`]:S,[`${x}-with-text${_}`]:S,[`${x}-dashed`]:!!d,[`${x}-plain`]:!!f,[`${x}-rtl`]:n==="rtl",[`${x}-no-default-orientation-margin-left`]:w,[`${x}-no-default-orientation-margin-right`]:M},l,c),T=y.useMemo(()=>typeof a=="number"?a:/^\d+$/.test(a)?Number(a):a,[a]),N=Object.assign(Object.assign({},w&&{marginLeft:T}),M&&{marginRight:T});return b(y.createElement("div",Object.assign({className:E,style:Object.assign(Object.assign({},r?.style),h)},g,{role:"separator"}),u&&o!=="vertical"&&y.createElement("span",{className:`${x}-inner-text`,style:N},u)))},OE=nde;var rde=["b"],ide=["v"],l8=function(e){return Math.round(Number(e||0))},ode=function(e){if(e&&nn(e)==="object"&&"h"in e&&"b"in e){var n=e,r=n.b,i=ln(n,rde);return _e(_e({},i),{},{v:r})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},ex=function(t){zl(n,t);var e=Vl(n);function n(r){return Si(this,n),e.call(this,ode(r))}return _i(n,[{key:"toHsbString",value:function(){var i=this.toHsb(),o=l8(i.s*100),s=l8(i.b*100),a=l8(i.h),l=i.a,c="hsb(".concat(a,", ").concat(o,"%, ").concat(s,"%)"),u="hsba(".concat(a,", ").concat(o,"%, ").concat(s,"%, ").concat(l.toFixed(l===0?0:2),")");return l===1?c:u}},{key:"toHsb",value:function(){var i=this.toHsv();nn(this.originalInput)==="object"&&this.originalInput&&"h"in this.originalInput&&(i=this.originalInput);var o=i;o.v;var s=ln(o,ide);return _e(_e({},s),{},{b:i.v})}}]),n}(ci),sde="rc-color-picker",$u=function(e){return e instanceof ex?e:new ex(e)},ade=$u("#1677ff"),Mz=function(e){var n=e.offset,r=e.targetRef,i=e.containerRef,o=e.color,s=e.type,a=i.current.getBoundingClientRect(),l=a.width,c=a.height,u=r.current.getBoundingClientRect(),d=u.width,f=u.height,h=d/2,g=f/2,x=(n.x+h)/l,b=1-(n.y+g)/c,v=o.toHsb(),_=x,S=(n.x+h)/l*360;if(s)switch(s){case"hue":return $u(_e(_e({},v),{},{h:S<=0?0:S}));case"alpha":return $u(_e(_e({},v),{},{a:_<=0?0:_}))}return $u({h:v.h,s:x<=0?0:x,b:b>=1?1:b,a:v.a})},Rz=function(e,n,r,i){var o=e.current.getBoundingClientRect(),s=o.width,a=o.height,l=n.current.getBoundingClientRect(),c=l.width,u=l.height,d=c/2,f=u/2,h=r.toHsb();if(!(c===0&&u===0||c!==u)){if(i)switch(i){case"hue":return{x:h.h/360*s-d,y:-f/3};case"alpha":return{x:h.a/1*s-d,y:-f/3}}return{x:h.s*s-d,y:(1-h.b)*a-f}}},LE=function(e){var n=e.color,r=e.prefixCls,i=e.className,o=e.style,s=e.onClick,a="".concat(r,"-color-block");return ae.createElement("div",{className:ye(a,i),style:o,onClick:s},ae.createElement("div",{className:"".concat(a,"-inner"),style:{background:n}}))};function lde(t){var e="touches"in t?t.touches[0]:t,n=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,r=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:e.pageX-n,pageY:e.pageY-r}}function Az(t){var e=t.offset,n=t.targetRef,r=t.containerRef,i=t.direction,o=t.onDragChange,s=t.onDragChangeComplete,a=t.calculate,l=t.color,c=t.disabledDrag,u=y.useState(e||{x:0,y:0}),d=Ie(u,2),f=d[0],h=d[1],g=y.useRef(null),x=y.useRef(null),b=y.useRef({flag:!1});y.useEffect(function(){if(b.current.flag===!1){var M=a?.(r);M&&h(M)}},[l,r]),y.useEffect(function(){return function(){document.removeEventListener("mousemove",g.current),document.removeEventListener("mouseup",x.current),document.removeEventListener("touchmove",g.current),document.removeEventListener("touchend",x.current),g.current=null,x.current=null}},[]);var v=function(E){var T=lde(E),N=T.pageX,R=T.pageY,P=r.current.getBoundingClientRect(),L=P.x,$=P.y,V=P.width,D=P.height,H=n.current.getBoundingClientRect(),F=H.width,k=H.height,O=F/2,B=k/2,G=Math.max(0,Math.min(N-L,V))-O,W=Math.max(0,Math.min(R-$,D))-B,K={x:G,y:i==="x"?f.y:W};if(F===0&&k===0||F!==k)return!1;h(K),o?.(K)},_=function(E){E.preventDefault(),v(E)},S=function(E){E.preventDefault(),b.current.flag=!1,document.removeEventListener("mousemove",g.current),document.removeEventListener("mouseup",x.current),document.removeEventListener("touchmove",g.current),document.removeEventListener("touchend",x.current),g.current=null,x.current=null,s?.()},w=function(E){document.removeEventListener("mousemove",g.current),document.removeEventListener("mouseup",x.current),!c&&(v(E),b.current.flag=!0,document.addEventListener("mousemove",_),document.addEventListener("mouseup",S),document.addEventListener("touchmove",_),document.addEventListener("touchend",S),g.current=_,x.current=S)};return[f,w]}var Pz=function(e){var n=e.size,r=n===void 0?"default":n,i=e.color,o=e.prefixCls;return ae.createElement("div",{className:ye("".concat(o,"-handler"),se({},"".concat(o,"-handler-sm"),r==="small")),style:{backgroundColor:i}})},Nz=function(e){var n=e.children,r=e.style,i=e.prefixCls;return ae.createElement("div",{className:"".concat(i,"-palette"),style:_e({position:"relative"},r)},n)},Iz=y.forwardRef(function(t,e){var n=t.children,r=t.offset;return ae.createElement("div",{ref:e,style:{position:"absolute",left:r.x,top:r.y,zIndex:1}},n)}),cde=function(e){var n=e.color,r=e.onChange,i=e.prefixCls,o=e.onChangeComplete,s=e.disabled,a=y.useRef(),l=y.useRef(),c=y.useRef(n),u=Az({color:n,containerRef:a,targetRef:l,calculate:function(x){return Rz(x,l,n)},onDragChange:function(x){var b=Mz({offset:x,targetRef:l,containerRef:a,color:n});c.current=b,r(b)},onDragChangeComplete:function(){return o?.(c.current)},disabledDrag:s}),d=Ie(u,2),f=d[0],h=d[1];return ae.createElement("div",{ref:a,className:"".concat(i,"-select"),onMouseDown:h,onTouchStart:h},ae.createElement(Nz,{prefixCls:i},ae.createElement(Iz,{offset:f,ref:l},ae.createElement(Pz,{color:n.toRgbString(),prefixCls:i})),ae.createElement("div",{className:"".concat(i,"-saturation"),style:{backgroundColor:"hsl(".concat(n.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},ude=function(e){var n=e.colors,r=e.children,i=e.direction,o=i===void 0?"to right":i,s=e.type,a=e.prefixCls,l=y.useMemo(function(){return n.map(function(c,u){var d=$u(c);return s==="alpha"&&u===n.length-1&&d.setAlpha(1),d.toRgbString()}).join(",")},[n,s]);return ae.createElement("div",{className:"".concat(a,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(o,", ").concat(l,")")}},r)},uI=function(e){var n=e.gradientColors,r=e.direction,i=e.type,o=i===void 0?"hue":i,s=e.color,a=e.value,l=e.onChange,c=e.onChangeComplete,u=e.disabled,d=e.prefixCls,f=y.useRef(),h=y.useRef(),g=y.useRef(s),x=Az({color:s,targetRef:h,containerRef:f,calculate:function(w){return Rz(w,h,s,o)},onDragChange:function(w){var M=Mz({offset:w,targetRef:h,containerRef:f,color:s,type:o});g.current=M,l(M)},onDragChangeComplete:function(){c?.(g.current,o)},direction:"x",disabledDrag:u}),b=Ie(x,2),v=b[0],_=b[1];return ae.createElement("div",{ref:f,className:ye("".concat(d,"-slider"),"".concat(d,"-slider-").concat(o)),onMouseDown:_,onTouchStart:_},ae.createElement(Nz,{prefixCls:d},ae.createElement(Iz,{offset:v,ref:h},ae.createElement(Pz,{size:"small",color:a,prefixCls:d})),ae.createElement(ude,{colors:n,direction:r,type:o,prefixCls:d})))};function dI(t){return t!==void 0}var dde=function(e,n){var r=n.defaultValue,i=n.value,o=y.useState(function(){var c;return dI(i)?c=i:dI(r)?c=r:c=e,$u(c)}),s=Ie(o,2),a=s[0],l=s[1];return y.useEffect(function(){i&&l($u(i))},[i]),[a,l]},fde=["rgb(255, 0, 0) 0%","rgb(255, 255, 0) 17%","rgb(0, 255, 0) 33%","rgb(0, 255, 255) 50%","rgb(0, 0, 255) 67%","rgb(255, 0, 255) 83%","rgb(255, 0, 0) 100%"];const hde=y.forwardRef(function(t,e){var n=t.value,r=t.defaultValue,i=t.prefixCls,o=i===void 0?sde:i,s=t.onChange,a=t.onChangeComplete,l=t.className,c=t.style,u=t.panelRender,d=t.disabledAlpha,f=d===void 0?!1:d,h=t.disabled,g=h===void 0?!1:h,x=dde(ade,{value:n,defaultValue:r}),b=Ie(x,2),v=b[0],_=b[1],S=y.useMemo(function(){var N=$u(v.toRgbString());return N.setAlpha(1),N.toRgbString()},[v]),w=ye("".concat(o,"-panel"),l,se({},"".concat(o,"-panel-disabled"),g)),M={prefixCls:o,onChangeComplete:a,disabled:g},E=function(R,P){n||_(R),s?.(R,P)},T=ae.createElement(ae.Fragment,null,ae.createElement(cde,ct({color:v,onChange:E},M)),ae.createElement("div",{className:"".concat(o,"-slider-container")},ae.createElement("div",{className:ye("".concat(o,"-slider-group"),se({},"".concat(o,"-slider-group-disabled-alpha"),f))},ae.createElement(uI,ct({gradientColors:fde,color:v,value:"hsl(".concat(v.toHsb().h,",100%, 50%)"),onChange:function(R){return E(R,"hue")}},M)),!f&&ae.createElement(uI,ct({type:"alpha",gradientColors:["rgba(255, 0, 4, 0) 0%",S],color:v,value:v.toRgbString(),onChange:function(R){return E(R,"alpha")}},M))),ae.createElement(LE,{color:v.toRgbString(),prefixCls:o})));return ae.createElement("div",{className:w,style:c,ref:e},typeof u=="function"?u(T):T)}),Oz=ae.createContext({}),Lz=ae.createContext({}),{Provider:pde}=Oz,{Provider:mde}=Lz,Qy=(t,e)=>t?.replace(/[^\w/]/gi,"").slice(0,e?8:6)||"",gde=(t,e)=>t?Qy(t,e):"";let fI=function(){function t(e){Si(this,t),this.metaColor=new ex(e),e||this.metaColor.setAlpha(0)}return _i(t,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return gde(this.toHexString(),this.metaColor.getAlpha()<1)}},{key:"toHexString",value:function(){return this.metaColor.getAlpha()===1?this.metaColor.toHexString():this.metaColor.toHex8String()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}}]),t}();const vde="ant-color-picker",Ro=t=>t instanceof fI?t:new fI(t),Jy=t=>Math.round(Number(t||0)),tx=t=>Jy(t.toHsb().a*100),c8=(t,e)=>{const n=t.toHsb();return n.a=e||1,Ro(n)},yde=t=>{let{prefixCls:e,value:n,colorCleared:r,onChange:i}=t;const o=()=>{if(n&&!r){const s=n.toHsb();s.a=0;const a=Ro(s);i?.(a)}};return ae.createElement("div",{className:`${e}-clear`,onClick:o})},Dz=yde;var bc;(function(t){t.hex="hex",t.rgb="rgb",t.hsb="hsb"})(bc||(bc={}));var xde={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"};const bde=xde;var Sde=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:bde}))};const _de=y.forwardRef(Sde);function V_(){return typeof BigInt=="function"}function Fz(t){return!t&&t!==0&&!Number.isNaN(t)||!String(t).trim()}function pf(t){var e=t.trim(),n=e.startsWith("-");n&&(e=e.slice(1)),e=e.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),e.startsWith(".")&&(e="0".concat(e));var r=e||"0",i=r.split("."),o=i[0]||"0",s=i[1]||"0";o==="0"&&s==="0"&&(n=!1);var a=n?"-":"";return{negative:n,negativeStr:a,trimStr:r,integerStr:o,decimalStr:s,fullStr:"".concat(a).concat(r)}}function DE(t){var e=String(t);return!Number.isNaN(Number(e))&&e.includes("e")}function ef(t){var e=String(t);if(DE(t)){var n=Number(e.slice(e.indexOf("e-")+2)),r=e.match(/\.(\d+)/);return r!=null&&r[1]&&(n+=r[1].length),n}return e.includes(".")&&FE(e)?e.length-e.indexOf(".")-1:0}function D6(t){var e=String(t);if(DE(t)){if(t>Number.MAX_SAFE_INTEGER)return String(V_()?BigInt(t).toString():Number.MAX_SAFE_INTEGER);if(t<Number.MIN_SAFE_INTEGER)return String(V_()?BigInt(t).toString():Number.MIN_SAFE_INTEGER);e=t.toFixed(ef(e))}return pf(e).fullStr}function FE(t){return typeof t=="number"?!Number.isNaN(t):t?/^\s*-?\d+(\.\d+)?\s*$/.test(t)||/^\s*-?\d+\.\s*$/.test(t)||/^\s*-?\.\d+\s*$/.test(t):!1}var wde=function(){function t(e){if(Si(this,t),se(this,"origin",""),se(this,"negative",void 0),se(this,"integer",void 0),se(this,"decimal",void 0),se(this,"decimalLen",void 0),se(this,"empty",void 0),se(this,"nan",void 0),Fz(e)){this.empty=!0;return}if(this.origin=String(e),e==="-"||Number.isNaN(e)){this.nan=!0;return}var n=e;if(DE(n)&&(n=Number(n)),n=typeof n=="string"?n:D6(n),FE(n)){var r=pf(n);this.negative=r.negative;var i=r.trimStr.split(".");this.integer=BigInt(i[0]);var o=i[1]||"0";this.decimal=BigInt(o),this.decimalLen=o.length}else this.nan=!0}return _i(t,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(n){var r="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(n,"0"));return BigInt(r)}},{key:"negate",value:function(){var n=new t(this.toString());return n.negative=!n.negative,n}},{key:"cal",value:function(n,r,i){var o=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),s=this.alignDecimal(o),a=n.alignDecimal(o),l=r(s,a).toString(),c=i(o),u=pf(l),d=u.negativeStr,f=u.trimStr,h="".concat(d).concat(f.padStart(c+1,"0"));return new t("".concat(h.slice(0,-c),".").concat(h.slice(-c)))}},{key:"add",value:function(n){if(this.isInvalidate())return new t(n);var r=new t(n);return r.isInvalidate()?this:this.cal(r,function(i,o){return i+o},function(i){return i})}},{key:"multi",value:function(n){var r=new t(n);return this.isInvalidate()||r.isInvalidate()?new t(NaN):this.cal(r,function(i,o){return i*o},function(i){return i*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toString()===n?.toString()}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":pf("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),t}(),Cde=function(){function t(e){if(Si(this,t),se(this,"origin",""),se(this,"number",void 0),se(this,"empty",void 0),Fz(e)){this.empty=!0;return}this.origin=String(e),this.number=Number(e)}return _i(t,[{key:"negate",value:function(){return new t(-this.toNumber())}},{key:"add",value:function(n){if(this.isInvalidate())return new t(n);var r=Number(n);if(Number.isNaN(r))return this;var i=this.number+r;if(i>Number.MAX_SAFE_INTEGER)return new t(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new t(Number.MIN_SAFE_INTEGER);var o=Math.max(ef(this.number),ef(r));return new t(i.toFixed(o))}},{key:"multi",value:function(n){var r=Number(n);if(this.isInvalidate()||Number.isNaN(r))return new t(NaN);var i=this.number*r;if(i>Number.MAX_SAFE_INTEGER)return new t(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new t(Number.MIN_SAFE_INTEGER);var o=Math.max(ef(this.number),ef(r));return new t(i.toFixed(o))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toNumber()===n?.toNumber()}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":D6(this.number):this.origin}}]),t}();function Ua(t){return V_()?new wde(t):new Cde(t)}function e5(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t==="")return"";var i=pf(t),o=i.negativeStr,s=i.integerStr,a=i.decimalStr,l="".concat(e).concat(a),c="".concat(o).concat(s);if(n>=0){var u=Number(a[n]);if(u>=5&&!r){var d=Ua(t).add("".concat(o,"0.").concat("0".repeat(n)).concat(10-u));return e5(d.toString(),e,n,r)}return n===0?c:"".concat(c).concat(e).concat(a.padEnd(n,"0").slice(0,n))}return l===".0"?c:"".concat(c).concat(l)}function Lh(t){return!!(t.addonBefore||t.addonAfter)}function u8(t){return!!(t.prefix||t.suffix||t.allowClear)}function Xg(t,e,n,r){if(n){var i=e;if(e.type==="click"){var o=t.cloneNode(!0);i=Object.create(e,{target:{value:o},currentTarget:{value:o}}),o.value="",n(i);return}if(r!==void 0){i=Object.create(e,{target:{value:t},currentTarget:{value:t}}),t.value=r,n(i);return}n(i)}}function $z(t,e){if(t){t.focus(e);var n=e||{},r=n.cursor;if(r){var i=t.value.length;switch(r){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(i,i);break;default:t.setSelectionRange(0,i)}}}}function H_(t){return typeof t>"u"||t===null?"":String(t)}var $E=function(e){var n,r,i=e.inputElement,o=e.prefixCls,s=e.prefix,a=e.suffix,l=e.addonBefore,c=e.addonAfter,u=e.className,d=e.style,f=e.disabled,h=e.readOnly,g=e.focused,x=e.triggerFocus,b=e.allowClear,v=e.value,_=e.handleReset,S=e.hidden,w=e.classes,M=e.classNames,E=e.dataAttrs,T=e.styles,N=e.components,R=N?.affixWrapper||"span",P=N?.groupWrapper||"span",L=N?.wrapper||"span",$=N?.groupAddon||"span",V=y.useRef(null),D=function(oe){var ie;(ie=V.current)!==null&&ie!==void 0&&ie.contains(oe.target)&&x?.()},H=function(){var oe;if(!b)return null;var ie=!f&&!h&&v,le="".concat(o,"-clear-icon"),ve=nn(b)==="object"&&b!==null&&b!==void 0&&b.clearIcon?b.clearIcon:"";return ae.createElement("span",{onClick:_,onMouseDown:function(we){return we.preventDefault()},className:ye(le,(oe={},se(oe,"".concat(le,"-hidden"),!ie),se(oe,"".concat(le,"-has-suffix"),!!a),oe)),role:"button",tabIndex:-1},ve)},F=y.cloneElement(i,{value:v,hidden:S,className:ye((n=i.props)===null||n===void 0?void 0:n.className,!u8(e)&&!Lh(e)&&u)||null,style:_e(_e({},(r=i.props)===null||r===void 0?void 0:r.style),!u8(e)&&!Lh(e)?d:{})});if(u8(e)){var k,O="".concat(o,"-affix-wrapper"),B=ye(O,(k={},se(k,"".concat(O,"-disabled"),f),se(k,"".concat(O,"-focused"),g),se(k,"".concat(O,"-readonly"),h),se(k,"".concat(O,"-input-with-clear-btn"),a&&b&&v),k),!Lh(e)&&u,w?.affixWrapper,M?.affixWrapper),G=(a||b)&&ae.createElement("span",{className:ye("".concat(o,"-suffix"),M?.suffix),style:T?.suffix},H(),a);F=ae.createElement(R,ct({className:B,style:_e(_e({},Lh(e)?void 0:d),T?.affixWrapper),hidden:!Lh(e)&&S,onClick:D},E?.affixWrapper,{ref:V}),s&&ae.createElement("span",{className:ye("".concat(o,"-prefix"),M?.prefix),style:T?.prefix},s),y.cloneElement(i,{value:v,hidden:null}),G)}if(Lh(e)){var W="".concat(o,"-group"),K="".concat(W,"-addon"),X=ye("".concat(o,"-wrapper"),W,w?.wrapper),Y=ye("".concat(o,"-group-wrapper"),u,w?.group);return ae.createElement(P,{className:Y,style:d,hidden:S},ae.createElement(L,{className:X},l&&ae.createElement($,{className:K},l),y.cloneElement(F,{hidden:null}),c&&ae.createElement($,{className:K},c)))}return F},Ede=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","classes","classNames","styles"],Tde=y.forwardRef(function(t,e){var n=t.autoComplete,r=t.onChange,i=t.onFocus,o=t.onBlur,s=t.onPressEnter,a=t.onKeyDown,l=t.prefixCls,c=l===void 0?"rc-input":l,u=t.disabled,d=t.htmlSize,f=t.className,h=t.maxLength,g=t.suffix,x=t.showCount,b=t.type,v=b===void 0?"text":b,_=t.classes,S=t.classNames,w=t.styles,M=ln(t,Ede),E=ei(t.defaultValue,{value:t.value}),T=Ie(E,2),N=T[0],R=T[1],P=y.useState(!1),L=Ie(P,2),$=L[0],V=L[1],D=y.useRef(null),H=function(Y){D.current&&$z(D.current,Y)};y.useImperativeHandle(e,function(){return{focus:H,blur:function(){var Y;(Y=D.current)===null||Y===void 0||Y.blur()},setSelectionRange:function(Y,te,oe){var ie;(ie=D.current)===null||ie===void 0||ie.setSelectionRange(Y,te,oe)},select:function(){var Y;(Y=D.current)===null||Y===void 0||Y.select()},input:D.current}}),y.useEffect(function(){V(function(X){return X&&u?!1:X})},[u]);var F=function(Y){t.value===void 0&&R(Y.target.value),D.current&&Xg(D.current,Y,r)},k=function(Y){s&&Y.key==="Enter"&&s(Y),a?.(Y)},O=function(Y){V(!0),i?.(Y)},B=function(Y){V(!1),o?.(Y)},G=function(Y){R(""),H(),D.current&&Xg(D.current,Y,r)},W=function(){var Y=fi(t,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","classes","htmlSize","styles","classNames"]);return ae.createElement("input",ct({autoComplete:n},Y,{onChange:F,onFocus:O,onBlur:B,onKeyDown:k,className:ye(c,se({},"".concat(c,"-disabled"),u),S?.input),style:w?.input,ref:D,size:d,type:v}))},K=function(){var Y=Number(h)>0;if(g||x){var te=H_(N),oe=St(te).length,ie=nn(x)==="object"?x.formatter({value:te,count:oe,maxLength:h}):"".concat(oe).concat(Y?" / ".concat(h):"");return ae.createElement(ae.Fragment,null,!!x&&ae.createElement("span",{className:ye("".concat(c,"-show-count-suffix"),se({},"".concat(c,"-show-count-has-suffix"),!!g),S?.count),style:_e({},w?.count)},ie),g)}return null};return ae.createElement($E,ct({},M,{prefixCls:c,className:f,inputElement:W(),handleReset:G,value:H_(N),focused:$,triggerFocus:H,suffix:K(),disabled:u,classes:_,classNames:S,styles:w}))});function Mde(t,e){var n=y.useRef(null);function r(){try{var o=t.selectionStart,s=t.selectionEnd,a=t.value,l=a.substring(0,o),c=a.substring(s);n.current={start:o,end:s,value:a,beforeTxt:l,afterTxt:c}}catch{}}function i(){if(t&&n.current&&e)try{var o=t.value,s=n.current,a=s.beforeTxt,l=s.afterTxt,c=s.start,u=o.length;if(o.endsWith(l))u=o.length-n.current.afterTxt.length;else if(o.startsWith(a))u=a.length;else{var d=a[c-1],f=o.indexOf(d,c-1);f!==-1&&(u=f+1)}t.setSelectionRange(u,u)}catch(h){Pi(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(h.message))}}return[r,i]}var Rde=function(){var e=y.useState(!1),n=Ie(e,2),r=n[0],i=n[1];return sr(function(){i(C6())},[]),r},Ade=200,Pde=600;function Nde(t){var e=t.prefixCls,n=t.upNode,r=t.downNode,i=t.upDisabled,o=t.downDisabled,s=t.onStep,a=y.useRef(),l=y.useRef([]),c=y.useRef();c.current=s;var u=function(){clearTimeout(a.current)},d=function(S,w){S.preventDefault(),u(),c.current(w);function M(){c.current(w),a.current=setTimeout(M,Ade)}a.current=setTimeout(M,Pde)};y.useEffect(function(){return function(){u(),l.current.forEach(function(_){return jn.cancel(_)})}},[]);var f=Rde();if(f)return null;var h="".concat(e,"-handler"),g=ye(h,"".concat(h,"-up"),se({},"".concat(h,"-up-disabled"),i)),x=ye(h,"".concat(h,"-down"),se({},"".concat(h,"-down-disabled"),o)),b=function(){return l.current.push(jn(u))},v={unselectable:"on",role:"button",onMouseUp:b,onMouseLeave:b};return y.createElement("div",{className:"".concat(h,"-wrap")},y.createElement("span",ct({},v,{onMouseDown:function(S){d(S,!0)},"aria-label":"Increase Value","aria-disabled":i,className:g}),n||y.createElement("span",{unselectable:"on",className:"".concat(e,"-handler-up-inner")})),y.createElement("span",ct({},v,{onMouseDown:function(S){d(S,!1)},"aria-label":"Decrease Value","aria-disabled":o,className:x}),r||y.createElement("span",{unselectable:"on",className:"".concat(e,"-handler-down-inner")})))}function hI(t){var e=typeof t=="number"?D6(t):pf(t).fullStr,n=e.includes(".");return n?pf(e.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:t+"0"}const Ide=function(){var t=y.useRef(0),e=function(){jn.cancel(t.current)};return y.useEffect(function(){return e},[]),function(n){e(),t.current=jn(function(){n()})}};var Ode=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],Lde=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","classes","className","classNames"],pI=function(e,n){return e||n.isEmpty()?n.toString():n.toNumber()},mI=function(e){var n=Ua(e);return n.isInvalidate()?null:n},Dde=y.forwardRef(function(t,e){var n,r=t.prefixCls,i=r===void 0?"rc-input-number":r,o=t.className,s=t.style,a=t.min,l=t.max,c=t.step,u=c===void 0?1:c,d=t.defaultValue,f=t.value,h=t.disabled,g=t.readOnly,x=t.upHandler,b=t.downHandler,v=t.keyboard,_=t.controls,S=_===void 0?!0:_,w=t.classNames,M=t.stringMode,E=t.parser,T=t.formatter,N=t.precision,R=t.decimalSeparator,P=t.onChange,L=t.onInput,$=t.onPressEnter,V=t.onStep,D=ln(t,Ode),H="".concat(i,"-input"),F=y.useRef(null),k=y.useState(!1),O=Ie(k,2),B=O[0],G=O[1],W=y.useRef(!1),K=y.useRef(!1),X=y.useRef(!1),Y=y.useState(function(){return Ua(f??d)}),te=Ie(Y,2),oe=te[0],ie=te[1];function le(ce){f===void 0&&ie(ce)}var ve=y.useCallback(function(ce,Z){if(!Z)return N>=0?N:Math.max(ef(ce),ef(u))},[N,u]),me=y.useCallback(function(ce){var Z=String(ce);if(E)return E(Z);var Re=Z;return R&&(Re=Re.replace(R,".")),Re.replace(/[^\w.-]+/g,"")},[E,R]),we=y.useRef(""),Q=y.useCallback(function(ce,Z){if(T)return T(ce,{userTyping:Z,input:String(we.current)});var Re=typeof ce=="number"?D6(ce):ce;if(!Z){var Pe=ve(Re,Z);if(FE(Re)&&(R||Pe>=0)){var Je=R||".";Re=e5(Re,Je,Pe)}}return Re},[T,ve,R]),fe=y.useState(function(){var ce=d??f;return oe.isInvalidate()&&["string","number"].includes(nn(ce))?Number.isNaN(ce)?"":ce:Q(oe.toString(),!1)}),he=Ie(fe,2),Ee=he[0],ue=he[1];we.current=Ee;function ke(ce,Z){ue(Q(ce.isInvalidate()?ce.toString(!1):ce.toString(!Z),Z))}var ge=y.useMemo(function(){return mI(l)},[l,N]),j=y.useMemo(function(){return mI(a)},[a,N]),z=y.useMemo(function(){return!ge||!oe||oe.isInvalidate()?!1:ge.lessEquals(oe)},[ge,oe]),ee=y.useMemo(function(){return!j||!oe||oe.isInvalidate()?!1:oe.lessEquals(j)},[j,oe]),xe=Mde(F.current,B),Ne=Ie(xe,2),Ae=Ne[0],Fe=Ne[1],Oe=function(Z){return ge&&!Z.lessEquals(ge)?ge:j&&!j.lessEquals(Z)?j:null},We=function(Z){return!Oe(Z)},ht=function(Z,Re){var Pe=Z,Je=We(Pe)||Pe.isEmpty();if(!Pe.isEmpty()&&!Re&&(Pe=Oe(Pe)||Pe,Je=!0),!g&&!h&&Je){var ft=Pe.toString(),wt=ve(ft,Re);return wt>=0&&(Pe=Ua(e5(ft,".",wt)),We(Pe)||(Pe=Ua(e5(ft,".",wt,!0)))),Pe.equals(oe)||(le(Pe),P?.(Pe.isEmpty()?null:pI(M,Pe)),f===void 0&&ke(Pe,Re)),Pe}return oe},Ge=Ide(),Te=function ce(Z){if(Ae(),we.current=Z,ue(Z),!K.current){var Re=me(Z),Pe=Ua(Re);Pe.isNaN()||ht(Pe,!0)}L?.(Z),Ge(function(){var Je=Z;E||(Je=Z.replace(//g,".")),Je!==Z&&ce(Je)})},nt=function(){K.current=!0},at=function(){K.current=!1,Te(F.current.value)},rt=function(Z){Te(Z.target.value)},st=function(Z){var Re;if(!(Z&&z||!Z&&ee)){W.current=!1;var Pe=Ua(X.current?hI(u):u);Z||(Pe=Pe.negate());var Je=(oe||Ua(0)).add(Pe.toString()),ft=ht(Je,!1);V?.(pI(M,ft),{offset:X.current?hI(u):u,type:Z?"up":"down"}),(Re=F.current)===null||Re===void 0||Re.focus()}},Ze=function(Z){var Re=Ua(me(Ee)),Pe=Re;Re.isNaN()?Pe=ht(oe,Z):Pe=ht(Re,Z),f!==void 0?ke(oe,!1):Pe.isNaN()||ke(Pe,!1)},re=function(){W.current=!0},Ve=function(Z){var Re=Z.key,Pe=Z.shiftKey;W.current=!0,X.current=Pe,Re==="Enter"&&(K.current||(W.current=!1),Ze(!1),$?.(Z)),v!==!1&&!K.current&&["Up","ArrowUp","Down","ArrowDown"].includes(Re)&&(st(Re==="Up"||Re==="ArrowUp"),Z.preventDefault())},Qe=function(){W.current=!1,X.current=!1},lt=function(){Ze(!1),G(!1),W.current=!1};return Gp(function(){oe.isInvalidate()||ke(oe,!1)},[N]),Gp(function(){var ce=Ua(f);ie(ce);var Z=Ua(me(Ee));(!ce.equals(Z)||!W.current||T)&&ke(ce,W.current)},[f]),Gp(function(){T&&Fe()},[Ee]),y.createElement("div",{className:ye(i,w?.input,o,(n={},se(n,"".concat(i,"-focused"),B),se(n,"".concat(i,"-disabled"),h),se(n,"".concat(i,"-readonly"),g),se(n,"".concat(i,"-not-a-number"),oe.isNaN()),se(n,"".concat(i,"-out-of-range"),!oe.isInvalidate()&&!We(oe)),n)),style:s,onFocus:function(){G(!0)},onBlur:lt,onKeyDown:Ve,onKeyUp:Qe,onCompositionStart:nt,onCompositionEnd:at,onBeforeInput:re},S&&y.createElement(Nde,{prefixCls:i,upNode:x,downNode:b,upDisabled:z,downDisabled:ee,onStep:st}),y.createElement("div",{className:"".concat(H,"-wrap")},y.createElement("input",ct({autoComplete:"off",role:"spinbutton","aria-valuemin":a,"aria-valuemax":l,"aria-valuenow":oe.isInvalidate()?null:oe.toString(),step:u},D,{ref:jo(F,e),className:H,value:Ee,onChange:rt,disabled:h,readOnly:g}))))}),Uz=y.forwardRef(function(t,e){var n=t.disabled,r=t.style,i=t.prefixCls,o=t.value,s=t.prefix,a=t.suffix,l=t.addonBefore,c=t.addonAfter,u=t.classes,d=t.className,f=t.classNames,h=ln(t,Lde),g=y.useRef(null),x=function(v){g.current&&$z(g.current,v)};return y.createElement($E,{inputElement:y.createElement(Dde,ct({prefixCls:i,disabled:n,classNames:f,ref:jo(g,e)},h)),className:d,triggerFocus:x,prefixCls:i,value:o,disabled:n,style:r,prefix:s,suffix:a,addonAfter:c,addonBefore:l,classes:u,classNames:f,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"}})});Uz.displayName="InputNumber";const gI=(t,e)=>{let{componentCls:n,borderRadiusSM:r,borderRadiusLG:i}=t;const o=e==="lg"?i:r;return{[`&-${e}`]:{[`${n}-handler-wrap`]:{borderStartEndRadius:o,borderEndEndRadius:o},[`${n}-handler-up`]:{borderStartEndRadius:o},[`${n}-handler-down`]:{borderEndEndRadius:o}}}},Fde=t=>{const{componentCls:e,lineWidth:n,lineType:r,colorBorder:i,borderRadius:o,fontSizeLG:s,controlHeightLG:a,controlHeightSM:l,colorError:c,paddingInlineSM:u,colorTextDescription:d,motionDurationMid:f,handleHoverColor:h,paddingInline:g,paddingBlock:x,handleBg:b,handleActiveBg:v,colorTextDisabled:_,borderRadiusSM:S,borderRadiusLG:w,controlWidth:M,handleVisible:E,handleBorderColor:T}=t;return[{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},Vr(t)),M3(t)),N6(t,e)),{display:"inline-block",width:M,margin:0,padding:0,border:`${n}px ${r} ${i}`,borderRadius:o,"&-rtl":{direction:"rtl",[`${e}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:s,borderRadius:w,[`input${e}-input`]:{height:a-2*n}},"&-sm":{padding:0,borderRadius:S,[`input${e}-input`]:{height:l-2*n,padding:`0 ${u}px`}},"&:hover":Object.assign({},T3(t)),"&-focused":Object.assign({},J5(t)),"&-out-of-range":{[`${e}-input-wrap`]:{input:{color:c}}},"&-group":Object.assign(Object.assign(Object.assign({},Vr(t)),gz(t)),{"&-wrapper":{display:"inline-block",textAlign:"start",verticalAlign:"top",[`${e}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${e}-group-addon`]:{borderRadius:w,fontSize:t.fontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:S}},[`${e}-wrapper-disabled > ${e}-group-addon`]:Object.assign({},TE(t))}}),[`&-disabled ${e}-input`]:{cursor:"not-allowed"},[e]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},Vr(t)),{width:"100%",padding:`${x}px ${g}px`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:o,outline:0,transition:`all ${f} linear`,appearance:"textfield",fontSize:"inherit"}),pz(t.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})}})},{[e]:Object.assign(Object.assign(Object.assign({[`&:hover ${e}-handler-wrap, &-focused ${e}-handler-wrap`]:{opacity:1},[`${e}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:t.handleWidth,height:"100%",background:b,borderStartStartRadius:0,borderStartEndRadius:o,borderEndEndRadius:o,borderEndStartRadius:0,opacity:E===!0?1:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`opacity ${f} linear ${f}`,[`${e}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${e}-handler-up-inner,
              ${e}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:t.handleFontSize}}},[`${e}-handler`]:{height:"50%",overflow:"hidden",color:d,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${n}px ${r} ${T}`,transition:`all ${f} linear`,"&:active":{background:v},"&:hover":{height:"60%",[`
              ${e}-handler-up-inner,
              ${e}-handler-down-inner
            `]:{color:h}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},e0()),{color:d,transition:`all ${f} linear`,userSelect:"none"})},[`${e}-handler-up`]:{borderStartEndRadius:o},[`${e}-handler-down`]:{borderBlockStart:`${n}px ${r} ${T}`,borderEndEndRadius:o}},gI(t,"lg")),gI(t,"sm")),{"&-disabled, &-readonly":{[`${e}-handler-wrap`]:{display:"none"},[`${e}-input`]:{color:"inherit"}},[`
          ${e}-handler-up-disabled,
          ${e}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${e}-handler-up-disabled:hover &-handler-up-inner,
          ${e}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:_}})},{[`${e}-borderless`]:{borderColor:"transparent",boxShadow:"none",[`${e}-handler-down`]:{borderBlockStartWidth:0}}}]},$de=t=>{const{componentCls:e,paddingBlock:n,paddingInline:r,inputAffixPadding:i,controlWidth:o,borderRadiusLG:s,borderRadiusSM:a}=t;return{[`${e}-affix-wrapper`]:Object.assign(Object.assign(Object.assign({},M3(t)),N6(t,`${e}-affix-wrapper`)),{position:"relative",display:"inline-flex",width:o,padding:0,paddingInlineStart:r,"&-lg":{borderRadius:s},"&-sm":{borderRadius:a},[`&:not(${e}-affix-wrapper-disabled):hover`]:Object.assign(Object.assign({},T3(t)),{zIndex:1}),"&-focused, &:focus":{zIndex:1},[`&-disabled > ${e}-disabled`]:{background:"transparent"},[`> div${e}`]:{width:"100%",border:"none",outline:"none",[`&${e}-focused`]:{boxShadow:"none !important"}},[`input${e}-input`]:{padding:`${n}px 0`},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${e}-handler-wrap`]:{zIndex:2},[e]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:i},"&-suffix":{position:"absolute",insetBlockStart:0,insetInlineEnd:0,zIndex:1,height:"100%",marginInlineEnd:r,marginInlineStart:i}}})}},Ude=yr("InputNumber",t=>{const e=wn(t,RE(t));return[Fde(e),$de(e),S6(e)]},t=>Object.assign(Object.assign({},AE(t)),{controlWidth:90,handleWidth:t.controlHeightSM-t.lineWidth*2,handleFontSize:t.fontSize/2,handleVisible:"auto",handleActiveBg:t.colorFillAlter,handleBg:t.colorBgContainer,handleHoverColor:t.colorPrimary,handleBorderColor:t.colorBorder}));var Bde=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Bz=y.forwardRef((t,e)=>{const{getPrefixCls:n,direction:r}=y.useContext(Zt),i=y.useRef(null);y.useImperativeHandle(e,()=>i.current);const{className:o,rootClassName:s,size:a,disabled:l,prefixCls:c,addonBefore:u,addonAfter:d,prefix:f,bordered:h=!0,readOnly:g,status:x,controls:b}=t,v=Bde(t,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),_=n("input-number",c),[S,w]=Ude(_),{compactSize:M,compactItemClassnames:E}=t0(_,r);let T=y.createElement(_de,{className:`${_}-handler-up-inner`}),N=y.createElement(X5,{className:`${_}-handler-down-inner`});const R=typeof b=="boolean"?b:void 0;typeof b=="object"&&(T=typeof b.upIcon>"u"?T:y.createElement("span",{className:`${_}-handler-up-inner`},b.upIcon),N=typeof b.downIcon>"u"?N:y.createElement("span",{className:`${_}-handler-down-inner`},b.downIcon));const{hasFeedback:P,status:L,isFormItemInput:$,feedbackIcon:V}=y.useContext(Fc),D=M6(L,x),H=zs(W=>{var K;return(K=a??M)!==null&&K!==void 0?K:W}),F=y.useContext(Kf),k=l??F,O=ye({[`${_}-lg`]:H==="large",[`${_}-sm`]:H==="small",[`${_}-rtl`]:r==="rtl",[`${_}-borderless`]:!h,[`${_}-in-form-item`]:$},Il(_,D),E,w),B=`${_}-group`,G=y.createElement(Uz,Object.assign({ref:i,disabled:k,className:ye(o,s),upHandler:T,downHandler:N,prefixCls:_,readOnly:g,controls:R,prefix:f,suffix:P&&V,addonAfter:d&&y.createElement(mm,null,y.createElement(Ev,{override:!0,status:!0},d)),addonBefore:u&&y.createElement(mm,null,y.createElement(Ev,{override:!0,status:!0},u)),classNames:{input:O},classes:{affixWrapper:ye(Il(`${_}-affix-wrapper`,D,P),{[`${_}-affix-wrapper-sm`]:H==="small",[`${_}-affix-wrapper-lg`]:H==="large",[`${_}-affix-wrapper-rtl`]:r==="rtl",[`${_}-affix-wrapper-borderless`]:!h},w),wrapper:ye({[`${B}-rtl`]:r==="rtl",[`${_}-wrapper-disabled`]:k},w),group:ye({[`${_}-group-wrapper-sm`]:H==="small",[`${_}-group-wrapper-lg`]:H==="large",[`${_}-group-wrapper-rtl`]:r==="rtl"},Il(`${_}-group-wrapper`,D,P),w)}},v));return S(G)}),kz=Bz,kde=t=>y.createElement(id,{theme:{components:{InputNumber:{handleVisible:!0}}}},y.createElement(Bz,Object.assign({},t)));kz._InternalPanelDoNotUseOrYouWillBeFired=kde;const zde=kz,Vde=t=>{let{prefixCls:e,min:n=0,max:r=100,value:i,onChange:o,className:s,formatter:a}=t;const l=`${e}-steppers`,[c,u]=y.useState(i);return y.useEffect(()=>{Number.isNaN(i)||u(i)},[i]),ae.createElement(zde,{className:ye(l,s),min:n,max:r,value:c,formatter:a,size:"small",onChange:d=>{i||u(d||0),o?.(d)}})},mf=Vde,Hde=t=>{let{prefixCls:e,value:n,onChange:r}=t;const i=`${e}-alpha-input`,[o,s]=y.useState(Ro(n||"#000"));y.useEffect(()=>{n&&s(n)},[n]);const a=l=>{const c=o.toHsb();c.a=(l||0)/100;const u=Ro(c);n||s(u),r?.(u)};return ae.createElement(mf,{value:tx(o),prefixCls:e,formatter:l=>`${l}%`,className:i,onChange:a})},Gde=Hde,Wde=t=>{const{getPrefixCls:e,direction:n}=y.useContext(Zt),{prefixCls:r,className:i}=t,o=e("input-group",r),s=e("input"),[a,l]=PE(s),c=ye(o,{[`${o}-lg`]:t.size==="large",[`${o}-sm`]:t.size==="small",[`${o}-compact`]:t.compact,[`${o}-rtl`]:n==="rtl"},l,i),u=y.useContext(Fc),d=y.useMemo(()=>Object.assign(Object.assign({},u),{isFormItemInput:!1}),[u]);return a(y.createElement("span",{className:c,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onFocus:t.onFocus,onBlur:t.onBlur},y.createElement(Fc.Provider,{value:d},t.children)))},jde=Wde;function zz(t,e){const n=y.useRef([]),r=()=>{n.current.push(setTimeout(()=>{var i,o,s,a;!((i=t.current)===null||i===void 0)&&i.input&&((o=t.current)===null||o===void 0?void 0:o.input.getAttribute("type"))==="password"&&(!((s=t.current)===null||s===void 0)&&s.input.hasAttribute("value"))&&((a=t.current)===null||a===void 0||a.input.removeAttribute("value"))}))};return y.useEffect(()=>(e&&r(),()=>n.current.forEach(i=>{i&&clearTimeout(i)})),[]),r}function Xde(t){return!!(t.prefix||t.suffix||t.allowClear)}var qde=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Kde(t,e){if(!t)return;t.focus(e);const{cursor:n}=e||{};if(n){const r=t.value.length;switch(n){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(r,r);break;default:t.setSelectionRange(0,r);break}}}const UE=y.forwardRef((t,e)=>{var n;const{prefixCls:r,bordered:i=!0,status:o,size:s,disabled:a,onBlur:l,onFocus:c,suffix:u,allowClear:d,addonAfter:f,addonBefore:h,className:g,style:x,styles:b,rootClassName:v,onChange:_,classNames:S}=t,w=qde(t,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames"]),{getPrefixCls:M,direction:E,input:T}=ae.useContext(Zt),N=M("input",r),R=y.useRef(null),[P,L]=PE(N),{compactSize:$,compactItemClassnames:V}=t0(N,E),D=zs(le=>{var ve;return(ve=s??$)!==null&&ve!==void 0?ve:le}),H=ae.useContext(Kf),F=a??H,{status:k,hasFeedback:O,feedbackIcon:B}=y.useContext(Fc),G=M6(k,o),W=Xde(t)||!!O;y.useRef(W);const K=zz(R,!0),X=le=>{K(),l?.(le)},Y=le=>{K(),c?.(le)},te=le=>{K(),_?.(le)},oe=(O||u)&&ae.createElement(ae.Fragment,null,u,O&&B);let ie;return typeof d=="object"&&d?.clearIcon?ie=d:d&&(ie={clearIcon:ae.createElement(v3,null)}),P(ae.createElement(Tde,Object.assign({ref:jo(e,R),prefixCls:N,autoComplete:T?.autoComplete},w,{disabled:F,onBlur:X,onFocus:Y,style:Object.assign(Object.assign({},T?.style),x),styles:Object.assign(Object.assign({},T?.styles),b),suffix:oe,allowClear:ie,className:ye(g,v,V,T?.className),onChange:te,addonAfter:f&&ae.createElement(mm,null,ae.createElement(Ev,{override:!0,status:!0},f)),addonBefore:h&&ae.createElement(mm,null,ae.createElement(Ev,{override:!0,status:!0},h)),classNames:Object.assign(Object.assign(Object.assign({},S),T?.classNames),{input:ye({[`${N}-sm`]:D==="small",[`${N}-lg`]:D==="large",[`${N}-rtl`]:E==="rtl",[`${N}-borderless`]:!i},!W&&Il(N,G),S?.input,(n=T?.classNames)===null||n===void 0?void 0:n.input,L)}),classes:{affixWrapper:ye({[`${N}-affix-wrapper-sm`]:D==="small",[`${N}-affix-wrapper-lg`]:D==="large",[`${N}-affix-wrapper-rtl`]:E==="rtl",[`${N}-affix-wrapper-borderless`]:!i},Il(`${N}-affix-wrapper`,G,O),L),wrapper:ye({[`${N}-group-rtl`]:E==="rtl"},L),group:ye({[`${N}-group-wrapper-sm`]:D==="small",[`${N}-group-wrapper-lg`]:D==="large",[`${N}-group-wrapper-rtl`]:E==="rtl",[`${N}-group-wrapper-disabled`]:F},Il(`${N}-group-wrapper`,G,O),L)}})))});var Yde={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};const Zde=Yde;var Qde=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:Zde}))};const Jde=y.forwardRef(Qde);var efe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};const tfe=efe;var nfe=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:tfe}))};const Vz=y.forwardRef(nfe);var rfe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const ife=t=>t?y.createElement(Vz,null):y.createElement(Jde,null),ofe={click:"onClick",hover:"onMouseOver"},sfe=y.forwardRef((t,e)=>{const{visibilityToggle:n=!0}=t,r=typeof n=="object"&&n.visible!==void 0,[i,o]=y.useState(()=>r?n.visible:!1),s=y.useRef(null);y.useEffect(()=>{r&&o(n.visible)},[r,n]);const a=zz(s),l=()=>{const{disabled:M}=t;M||(i&&a(),o(E=>{var T;const N=!E;return typeof n=="object"&&((T=n.onVisibleChange)===null||T===void 0||T.call(n,N)),N}))},c=M=>{const{action:E="click",iconRender:T=ife}=t,N=ofe[E]||"",R=T(i),P={[N]:l,className:`${M}-icon`,key:"passwordIcon",onMouseDown:L=>{L.preventDefault()},onMouseUp:L=>{L.preventDefault()}};return y.cloneElement(y.isValidElement(R)?R:y.createElement("span",null,R),P)},{className:u,prefixCls:d,inputPrefixCls:f,size:h}=t,g=rfe(t,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:x}=y.useContext(Zt),b=x("input",f),v=x("input-password",d),_=n&&c(v),S=ye(v,u,{[`${v}-${h}`]:!!h}),w=Object.assign(Object.assign({},fi(g,["suffix","iconRender","visibilityToggle"])),{type:i?"text":"password",className:S,prefixCls:b,suffix:_});return h&&(w.size=h),y.createElement(UE,Object.assign({ref:jo(e,s)},w))}),afe=sfe;var lfe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const cfe=y.forwardRef((t,e)=>{const{prefixCls:n,inputPrefixCls:r,className:i,size:o,suffix:s,enterButton:a=!1,addonAfter:l,loading:c,disabled:u,onSearch:d,onChange:f,onCompositionStart:h,onCompositionEnd:g}=t,x=lfe(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:b,direction:v}=y.useContext(Zt),_=y.useRef(!1),S=b("input-search",n),w=b("input",r),{compactSize:M}=t0(S,v),E=zs(G=>{var W;return(W=o??M)!==null&&W!==void 0?W:G}),T=y.useRef(null),N=G=>{G&&G.target&&G.type==="click"&&d&&d(G.target.value,G,{source:"clear"}),f&&f(G)},R=G=>{var W;document.activeElement===((W=T.current)===null||W===void 0?void 0:W.input)&&G.preventDefault()},P=G=>{var W,K;d&&d((K=(W=T.current)===null||W===void 0?void 0:W.input)===null||K===void 0?void 0:K.value,G,{source:"input"})},L=G=>{_.current||c||P(G)},$=typeof a=="boolean"?y.createElement(Uk,null):null,V=`${S}-button`;let D;const H=a||{},F=H.type&&H.type.__ANT_BUTTON===!0;F||H.type==="button"?D=ji(H,Object.assign({onMouseDown:R,onClick:G=>{var W,K;(K=(W=H?.props)===null||W===void 0?void 0:W.onClick)===null||K===void 0||K.call(W,G),P(G)},key:"enterButton"},F?{className:V,size:E}:{})):D=y.createElement(da,{className:V,type:a?"primary":void 0,size:E,disabled:u,key:"enterButton",onMouseDown:R,onClick:P,loading:c,icon:$},a),l&&(D=[D,ji(l,{key:"addonAfter"})]);const k=ye(S,{[`${S}-rtl`]:v==="rtl",[`${S}-${E}`]:!!E,[`${S}-with-button`]:!!a},i),O=G=>{_.current=!0,h?.(G)},B=G=>{_.current=!1,g?.(G)};return y.createElement(UE,Object.assign({ref:jo(T,e),onPressEnter:L},x,{size:E,onCompositionStart:O,onCompositionEnd:B,prefixCls:w,addonAfter:D,suffix:s,onChange:N,className:k,disabled:u}))}),ufe=cfe;var dfe=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,ffe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],d8={},ta;function hfe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(e&&d8[n])return d8[n];var r=window.getComputedStyle(t),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),s=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),a=ffe.map(function(c){return"".concat(c,":").concat(r.getPropertyValue(c))}).join(";"),l={sizingStyle:a,paddingSize:o,borderSize:s,boxSizing:i};return e&&n&&(d8[n]=l),l}function pfe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;ta||(ta=document.createElement("textarea"),ta.setAttribute("tab-index","-1"),ta.setAttribute("aria-hidden","true"),document.body.appendChild(ta)),t.getAttribute("wrap")?ta.setAttribute("wrap",t.getAttribute("wrap")):ta.removeAttribute("wrap");var i=hfe(t,e),o=i.paddingSize,s=i.borderSize,a=i.boxSizing,l=i.sizingStyle;ta.setAttribute("style","".concat(l,";").concat(dfe)),ta.value=t.value||t.placeholder||"";var c=void 0,u=void 0,d,f=ta.scrollHeight;if(a==="border-box"?f+=s:a==="content-box"&&(f-=o),n!==null||r!==null){ta.value=" ";var h=ta.scrollHeight-o;n!==null&&(c=h*n,a==="border-box"&&(c=c+o+s),f=Math.max(c,f)),r!==null&&(u=h*r,a==="border-box"&&(u=u+o+s),d=f>u?"":"hidden",f=Math.min(u,f))}var g={height:f,overflowY:d,resize:"none"};return c&&(g.minHeight=c),u&&(g.maxHeight=u),g}var mfe=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],f8=0,h8=1,p8=2,gfe=y.forwardRef(function(t,e){var n=t,r=n.prefixCls;n.onPressEnter;var i=n.defaultValue,o=n.value,s=n.autoSize,a=n.onResize,l=n.className,c=n.style,u=n.disabled,d=n.onChange;n.onInternalAutoSize;var f=ln(n,mfe),h=ei(i,{value:o,postState:function(Y){return Y??""}}),g=Ie(h,2),x=g[0],b=g[1],v=function(Y){b(Y.target.value),d?.(Y)},_=y.useRef();y.useImperativeHandle(e,function(){return{textArea:_.current}});var S=y.useMemo(function(){return s&&nn(s)==="object"?[s.minRows,s.maxRows]:[]},[s]),w=Ie(S,2),M=w[0],E=w[1],T=!!s,N=function(){try{if(document.activeElement===_.current){var Y=_.current,te=Y.selectionStart,oe=Y.selectionEnd,ie=Y.scrollTop;_.current.setSelectionRange(te,oe),_.current.scrollTop=ie}}catch{}},R=y.useState(p8),P=Ie(R,2),L=P[0],$=P[1],V=y.useState(),D=Ie(V,2),H=D[0],F=D[1],k=function(){$(f8)};sr(function(){T&&k()},[o,M,E,T]),sr(function(){if(L===f8)$(h8);else if(L===h8){var X=pfe(_.current,!1,M,E);$(p8),F(X)}else N()},[L]);var O=y.useRef(),B=function(){jn.cancel(O.current)},G=function(Y){L===p8&&(a?.(Y),s&&(B(),O.current=jn(function(){k()})))};y.useEffect(function(){return B},[]);var W=T?H:null,K=_e(_e({},c),W);return(L===f8||L===h8)&&(K.overflowY="hidden",K.overflowX="hidden"),y.createElement(pa,{onResize:G,disabled:!(s||a)},y.createElement("textarea",ct({},f,{ref:_,style:K,className:ye(r,l,se({},"".concat(r,"-disabled"),u)),disabled:u,value:x,onChange:v})))}),vfe=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","classes","showCount","className","style","disabled","hidden","classNames","styles","onResize"];function Hz(t,e){return St(t||"").slice(0,e).join("")}function vI(t,e,n,r){var i=n;return t?i=Hz(n,r):St(e||"").length<n.length&&St(n||"").length>r&&(i=e),i}var yfe=ae.forwardRef(function(t,e){var n,r=t.defaultValue,i=t.value,o=t.onFocus,s=t.onBlur,a=t.onChange,l=t.allowClear,c=t.maxLength,u=t.onCompositionStart,d=t.onCompositionEnd,f=t.suffix,h=t.prefixCls,g=h===void 0?"rc-textarea":h,x=t.classes,b=t.showCount,v=t.className,_=t.style,S=t.disabled,w=t.hidden,M=t.classNames,E=t.styles,T=t.onResize,N=ln(t,vfe),R=ei(r,{value:i,defaultValue:r}),P=Ie(R,2),L=P[0],$=P[1],V=y.useRef(null),D=ae.useState(!1),H=Ie(D,2),F=H[0],k=H[1],O=ae.useState(!1),B=Ie(O,2),G=B[0],W=B[1],K=ae.useRef(),X=ae.useRef(0),Y=ae.useState(null),te=Ie(Y,2),oe=te[0],ie=te[1],le=function(){var Fe;(Fe=V.current)===null||Fe===void 0||Fe.textArea.focus()};y.useImperativeHandle(e,function(){return{resizableTextArea:V.current,focus:le,blur:function(){var Fe;(Fe=V.current)===null||Fe===void 0||Fe.textArea.blur()}}}),y.useEffect(function(){k(function(Ae){return!S&&Ae})},[S]);var ve=Number(c)>0,me=function(Fe){W(!0),K.current=L,X.current=Fe.currentTarget.selectionStart,u?.(Fe)},we=function(Fe){W(!1);var Oe=Fe.currentTarget.value;if(ve){var We,ht=X.current>=c+1||X.current===((We=K.current)===null||We===void 0?void 0:We.length);Oe=vI(ht,K.current,Oe,c)}Oe!==L&&($(Oe),Xg(Fe.currentTarget,Fe,a,Oe)),d?.(Fe)},Q=function(Fe){var Oe=Fe.target.value;if(!G&&ve){var We=Fe.target.selectionStart>=c+1||Fe.target.selectionStart===Oe.length||!Fe.target.selectionStart;Oe=vI(We,L,Oe,c)}$(Oe),Xg(Fe.currentTarget,Fe,a,Oe)},fe=function(Fe){var Oe=N.onPressEnter,We=N.onKeyDown;Fe.key==="Enter"&&Oe&&Oe(Fe),We?.(Fe)},he=function(Fe){k(!0),o?.(Fe)},Ee=function(Fe){k(!1),s?.(Fe)},ue=function(Fe){var Oe;$(""),le(),Xg((Oe=V.current)===null||Oe===void 0?void 0:Oe.textArea,Fe,a)},ke=H_(L);!G&&ve&&i==null&&(ke=Hz(ke,c));var ge=f,j;if(b){var z=St(ke).length;nn(b)==="object"?j=b.formatter({value:ke,count:z,maxLength:c}):j="".concat(z).concat(ve?" / ".concat(c):""),ge=ae.createElement(ae.Fragment,null,ge,ae.createElement("span",{className:ye("".concat(g,"-data-count"),M?.count),style:E?.count},j))}var ee=function(Fe){var Oe;T?.(Fe),(Oe=V.current)!==null&&Oe!==void 0&&Oe.textArea.style.height&&ie(!0)},xe=!N.autoSize&&!b&&!l,Ne=ae.createElement($E,{value:ke,allowClear:l,handleReset:ue,suffix:ge,prefixCls:g,classes:{affixWrapper:ye(x?.affixWrapper,(n={},se(n,"".concat(g,"-show-count"),b),se(n,"".concat(g,"-textarea-allow-clear"),l),n))},disabled:S,focused:F,className:v,style:_e(_e({},_),oe&&!xe?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof j=="string"?j:void 0}},hidden:w,inputElement:ae.createElement(gfe,ct({},N,{onKeyDown:fe,onChange:Q,onFocus:he,onBlur:Ee,onCompositionStart:me,onCompositionEnd:we,className:M?.textarea,style:_e(_e({},E?.textarea),{},{resize:_?.resize}),disabled:S,prefixCls:g,onResize:ee,ref:V}))});return Ne}),xfe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const bfe=y.forwardRef((t,e)=>{const{prefixCls:n,bordered:r=!0,size:i,disabled:o,status:s,allowClear:a,showCount:l,classNames:c,rootClassName:u,className:d}=t,f=xfe(t,["prefixCls","bordered","size","disabled","status","allowClear","showCount","classNames","rootClassName","className"]),{getPrefixCls:h,direction:g}=y.useContext(Zt),x=zs(i),b=y.useContext(Kf),v=o??b,{status:_,hasFeedback:S,feedbackIcon:w}=y.useContext(Fc),M=M6(_,s),E=y.useRef(null);y.useImperativeHandle(e,()=>{var L;return{resizableTextArea:(L=E.current)===null||L===void 0?void 0:L.resizableTextArea,focus:$=>{var V,D;Kde((D=(V=E.current)===null||V===void 0?void 0:V.resizableTextArea)===null||D===void 0?void 0:D.textArea,$)},blur:()=>{var $;return($=E.current)===null||$===void 0?void 0:$.blur()}}});const T=h("input",n);let N;typeof a=="object"&&a?.clearIcon?N=a:a&&(N={clearIcon:y.createElement(v3,null)});const[R,P]=PE(T);return R(y.createElement(yfe,Object.assign({},f,{disabled:v,allowClear:N,className:ye(d,u),classes:{affixWrapper:ye(`${T}-textarea-affix-wrapper`,{[`${T}-affix-wrapper-rtl`]:g==="rtl",[`${T}-affix-wrapper-borderless`]:!r,[`${T}-affix-wrapper-sm`]:x==="small",[`${T}-affix-wrapper-lg`]:x==="large",[`${T}-textarea-show-count`]:l},Il(`${T}-affix-wrapper`,M),P)},classNames:Object.assign(Object.assign({},c),{textarea:ye({[`${T}-borderless`]:!r,[`${T}-sm`]:x==="small",[`${T}-lg`]:x==="large"},Il(T,M),P,c?.textarea)}),prefixCls:T,suffix:S&&y.createElement("span",{className:`${T}-textarea-suffix`},w),showCount:l,ref:E})))}),Gz=bfe,R3=UE;R3.Group=jde;R3.Search=ufe;R3.TextArea=Gz;R3.Password=afe;const Sfe=R3,_fe=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,yI=t=>_fe.test(`#${t}`),wfe=t=>{let{prefixCls:e,value:n,onChange:r}=t;const i=`${e}-hex-input`,[o,s]=y.useState(n?.toHex());y.useEffect(()=>{const l=n?.toHex();yI(l)&&n&&s(Qy(l))},[n]);const a=l=>{const c=l.target.value;s(Qy(c)),yI(Qy(c,!0))&&r?.(Ro(c))};return ae.createElement(Sfe,{className:i,value:o,prefix:"#",onChange:a,size:"small"})},Cfe=wfe,Efe=t=>{let{prefixCls:e,value:n,onChange:r}=t;const i=`${e}-hsb-input`,[o,s]=y.useState(Ro(n||"#000"));y.useEffect(()=>{n&&s(n)},[n]);const a=(l,c)=>{const u=o.toHsb();u[c]=c==="h"?l:(l||0)/100;const d=Ro(u);n||s(d),r?.(d)};return ae.createElement("div",{className:i},ae.createElement(mf,{max:360,min:0,value:Number(o.toHsb().h),prefixCls:e,className:i,formatter:l=>Jy(l||0).toString(),onChange:l=>a(Number(l),"h")}),ae.createElement(mf,{max:100,min:0,value:Number(o.toHsb().s)*100,prefixCls:e,className:i,formatter:l=>`${Jy(l||0)}%`,onChange:l=>a(Number(l),"s")}),ae.createElement(mf,{max:100,min:0,value:Number(o.toHsb().b)*100,prefixCls:e,className:i,formatter:l=>`${Jy(l||0)}%`,onChange:l=>a(Number(l),"b")}))},Tfe=Efe,Mfe=t=>{let{prefixCls:e,value:n,onChange:r}=t;const i=`${e}-rgb-input`,[o,s]=y.useState(Ro(n||"#000"));y.useEffect(()=>{n&&s(n)},[n]);const a=(l,c)=>{const u=o.toRgb();u[c]=l||0;const d=Ro(u);n||s(d),r?.(d)};return ae.createElement("div",{className:i},ae.createElement(mf,{max:255,min:0,value:Number(o.toRgb().r),prefixCls:e,className:i,onChange:l=>a(Number(l),"r")}),ae.createElement(mf,{max:255,min:0,value:Number(o.toRgb().g),prefixCls:e,className:i,onChange:l=>a(Number(l),"g")}),ae.createElement(mf,{max:255,min:0,value:Number(o.toRgb().b),prefixCls:e,className:i,onChange:l=>a(Number(l),"b")}))},Rfe=Mfe,Afe=[bc.hex,bc.hsb,bc.rgb].map(t=>({value:t,label:t.toLocaleUpperCase()})),Pfe=t=>{const{prefixCls:e,format:n,value:r,disabledAlpha:i,onFormatChange:o,onChange:s}=t,[a,l]=ei(bc.hex,{value:n,onChange:o}),c=`${e}-input`,u=f=>{l(f)},d=y.useMemo(()=>{const f={value:r,prefixCls:e,onChange:s};switch(a){case bc.hsb:return ae.createElement(Tfe,Object.assign({},f));case bc.rgb:return ae.createElement(Rfe,Object.assign({},f));case bc.hex:default:return ae.createElement(Cfe,Object.assign({},f))}},[a,e,r,s]);return ae.createElement("div",{className:`${c}-container`},ae.createElement(w3,{value:a,bordered:!1,getPopupContainer:f=>f,popupMatchSelectWidth:68,placement:"bottomRight",onChange:u,className:`${e}-format-select`,size:"small",options:Afe}),ae.createElement("div",{className:c},d),!i&&ae.createElement(Gde,{prefixCls:e,value:r,onChange:s}))},Nfe=Pfe;var Ife=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Ofe=()=>{const t=y.useContext(Oz),{prefixCls:e,colorCleared:n,allowClear:r,value:i,disabledAlpha:o,onChange:s,onClear:a,onChangeComplete:l}=t,c=Ife(t,["prefixCls","colorCleared","allowClear","value","disabledAlpha","onChange","onClear","onChangeComplete"]);return ae.createElement(ae.Fragment,null,r&&ae.createElement(Dz,Object.assign({prefixCls:e,value:i,colorCleared:n,onChange:u=>{s?.(u),a?.()}},c)),ae.createElement(hde,{prefixCls:e,value:i?.toHsb(),disabledAlpha:o,onChange:(u,d)=>s?.(u,d,!0),onChangeComplete:l}),ae.createElement(Nfe,Object.assign({value:i,onChange:s,prefixCls:e,disabledAlpha:o},c)))},xI=Ofe,m8=t=>t.map(e=>(e.colors=e.colors.map(Ro),e)),Lfe=(t,e)=>{const{r:n,g:r,b:i,a:o}=t.toRgb(),s=new ex(t.toRgbString()).onBackground(e).toHsv();return o<=.5?s.v>.5:n*.299+r*.587+i*.114>192},Dfe=t=>{let{prefixCls:e,presets:n,value:r,onChange:i}=t;const[o]=g3("ColorPicker"),[,s]=Ea(),[a]=ei(m8(n),{value:m8(n),postState:m8}),l=`${e}-presets`,c=y.useMemo(()=>a.map(f=>`panel-${f.label}`),[a]),u=f=>{i?.(f)},d=a.map(f=>{var h;return{key:`panel-${f.label}`,label:ae.createElement("div",{className:`${l}-label`},f?.label),children:ae.createElement("div",{className:`${l}-items`},Array.isArray(f?.colors)&&((h=f.colors)===null||h===void 0?void 0:h.length)>0?f.colors.map((g,x)=>ae.createElement(LE,{key:`preset-${x}-${g.toHexString()}`,color:Ro(g).toRgbString(),prefixCls:e,className:ye(`${l}-color`,{[`${l}-color-checked`]:g.toHexString()===r?.toHexString(),[`${l}-color-bright`]:Lfe(g,s.colorBgElevated)}),onClick:()=>u(g)})):ae.createElement("span",{className:`${l}-empty`},o.presetEmpty))}});return ae.createElement("div",{className:l},ae.createElement(Que,{defaultActiveKey:c,ghost:!0,items:d}))},Ffe=Dfe,$fe=()=>{const{prefixCls:t,value:e,presets:n,onChange:r}=y.useContext(Lz);return Array.isArray(n)?ae.createElement(Ffe,{value:e,presets:n,prefixCls:t,onChange:r}):null},bI=$fe;var Ufe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Bfe=t=>{const{prefixCls:e,presets:n,panelRender:r,color:i,onChange:o,onClear:s}=t,a=Ufe(t,["prefixCls","presets","panelRender","color","onChange","onClear"]),l=`${e}-inner-content`,c=Object.assign({prefixCls:e,value:i,onChange:o,onClear:s},a),u=ae.useMemo(()=>({prefixCls:e,value:i,presets:n,onChange:o}),[e,i,n,o]),d=ae.createElement(ae.Fragment,null,ae.createElement(xI,null),Array.isArray(n)&&ae.createElement(OE,{className:`${l}-divider`}),ae.createElement(bI,null));return ae.createElement(pde,{value:c},ae.createElement(mde,{value:u},ae.createElement("div",{className:l},typeof r=="function"?r(d,{components:{Picker:xI,Presets:bI}}):d)))},kfe=Bfe;var zfe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Vfe=y.forwardRef((t,e)=>{const{color:n,prefixCls:r,open:i,colorCleared:o,disabled:s,format:a,className:l,showText:c}=t,u=zfe(t,["color","prefixCls","open","colorCleared","disabled","format","className","showText"]),d=`${r}-trigger`,f=y.useMemo(()=>o?ae.createElement(Dz,{prefixCls:r}):ae.createElement(LE,{prefixCls:r,color:n.toRgbString()}),[n,o,r]),h=()=>{const x=n.toHexString().toUpperCase(),b=tx(n);switch(a){case"rgb":return n.toRgbString();case"hsb":return n.toHsbString();case"hex":default:return b<100?`${x.slice(0,7)},${b}%`:x}},g=()=>{if(typeof c=="function")return c(n);if(c)return h()};return ae.createElement("div",Object.assign({ref:e,className:ye(d,l,{[`${d}-active`]:i,[`${d}-disabled`]:s})},u),f,c&&ae.createElement("div",{className:`${d}-text`},g()))}),Hfe=Vfe;function SI(t){return t!==void 0}const Gfe=(t,e)=>{const{defaultValue:n,value:r}=e,[i,o]=y.useState(()=>{let s;return SI(r)?s=r:SI(n)?s=n:s=t,Ro(s||"")});return y.useEffect(()=>{r&&o(Ro(r))},[r]),[i,o]},Wfe=Gfe,Wz=(t,e)=>({backgroundImage:`conic-gradient(${e} 0 25%, transparent 0 50%, ${e} 0 75%, transparent 0)`,backgroundSize:`${t} ${t}`}),jfe=(t,e)=>{const{componentCls:n,borderRadiusSM:r,colorPickerInsetShadow:i,lineWidth:o,colorFillSecondary:s}=t;return{[`${n}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:r,width:e,height:e,boxShadow:i},Wz("50%",t.colorFillSecondary)),{[`${n}-color-block-inner`]:{width:"100%",height:"100%",border:`${o}px solid ${s}`,borderRadius:"inherit"}})}},_I=jfe,Xfe=t=>{const{componentCls:e,antCls:n,fontSizeSM:r,lineHeightSM:i,colorPickerAlphaInputWidth:o,marginXXS:s,paddingXXS:a,controlHeightSM:l,marginXS:c,fontSizeIcon:u,paddingXS:d,colorTextPlaceholder:f,colorPickerInputNumberHandleWidth:h,lineWidth:g}=t;return{[`${e}-input-container`]:{display:"flex",[`${e}-steppers${n}-input-number`]:{fontSize:r,lineHeight:i,[`${n}-input-number-input`]:{paddingInlineStart:a,paddingInlineEnd:0},[`${n}-input-number-handler-wrap`]:{width:h}},[`${e}-steppers${e}-alpha-input`]:{flex:`0 0 ${o}px`,marginInlineStart:s},[`${e}-format-select${n}-select`]:{marginInlineEnd:c,width:"auto","&-single":{[`${n}-select-selector`]:{padding:0,border:0},[`${n}-select-arrow`]:{insetInlineEnd:0},[`${n}-select-selection-item`]:{paddingInlineEnd:u+s,fontSize:r,lineHeight:`${l}px`},[`${n}-select-item-option-content`]:{fontSize:r,lineHeight:i},[`${n}-select-dropdown`]:{[`${n}-select-item`]:{minHeight:"auto"}}}},[`${e}-input`]:{gap:s,alignItems:"center",flex:1,width:0,[`${e}-hsb-input,${e}-rgb-input`]:{display:"flex",gap:s,alignItems:"center"},[`${e}-steppers`]:{flex:1},[`${e}-hex-input${n}-input-affix-wrapper`]:{flex:1,padding:`0 ${d}px`,[`${n}-input`]:{fontSize:r,textTransform:"uppercase",lineHeight:`${l-2*g}px`},[`${n}-input-prefix`]:{color:f}}}}}},qfe=Xfe,Kfe=t=>{const{componentCls:e,controlHeightLG:n,borderRadiusSM:r,colorPickerInsetShadow:i,marginSM:o,colorBgElevated:s,colorFillSecondary:a,lineWidthBold:l,colorPickerHandlerSize:c,colorPickerHandlerSizeSM:u,colorPickerSliderHeight:d}=t;return{[`${e}-select`]:{[`${e}-palette`]:{minHeight:n*4,overflow:"hidden",borderRadius:r},[`${e}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:i,inset:0},marginBottom:o},[`${e}-handler`]:{width:c,height:c,border:`${l}px solid ${s}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${i}, 0 0 0 1px ${a}`,"&-sm":{width:u,height:u}},[`${e}-slider`]:{borderRadius:d/2,[`${e}-palette`]:{height:d},[`${e}-gradient`]:{borderRadius:d/2,boxShadow:i},"&-alpha":Wz(`${d}px`,t.colorFillSecondary),"&-hue":{marginBottom:o}},[`${e}-slider-container`]:{display:"flex",gap:o,marginBottom:o,[`${e}-slider-group`]:{flex:1,"&-disabled-alpha":{display:"flex",alignItems:"center",[`${e}-slider`]:{flex:1,marginBottom:0}}}}}},Yfe=Kfe,Zfe=t=>{const{componentCls:e,antCls:n,colorTextQuaternary:r,paddingXXS:i,colorPickerPresetColorSize:o,fontSizeSM:s,colorText:a,lineHeightSM:l,lineWidth:c,borderRadius:u,colorFill:d,colorWhite:f,marginXXS:h,paddingXS:g}=t;return{[`${e}-presets`]:{[`${n}-collapse-item > ${n}-collapse-header`]:{padding:0,[`${n}-collapse-expand-icon`]:{height:s*l,color:r,paddingInlineEnd:i}},[`${n}-collapse`]:{display:"flex",flexDirection:"column",gap:h},[`${n}-collapse-item > ${n}-collapse-content > ${n}-collapse-content-box`]:{padding:`${g}px 0`},"&-label":{fontSize:s,color:a,lineHeight:l},"&-items":{display:"flex",flexWrap:"wrap",gap:h*1.5,[`${e}-presets-color`]:{position:"relative",cursor:"pointer",width:o,height:o,"&::before":{content:'""',pointerEvents:"none",width:o+4*c,height:o+4*c,position:"absolute",top:-2*c,insetInlineStart:-2*c,borderRadius:u,border:`${c}px solid transparent`,transition:`border-color ${t.motionDurationMid} ${t.motionEaseInBack}`},"&:hover::before":{borderColor:d},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:o/13*5,height:o/13*8,border:`${t.lineWidthBold}px solid ${t.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${t.motionDurationFast} ${t.motionEaseInBack}, opacity ${t.motionDurationFast}`},[`&${e}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:f,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${t.motionDurationMid} ${t.motionEaseOutBack} ${t.motionDurationFast}`},[`&${e}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:s,color:r}}}},Qfe=Zfe,G_=t=>({boxShadow:`0 0 0 ${t.controlOutlineWidth}px ${t.controlOutline}`,borderInlineEndWidth:t.lineWidth,outline:0}),Jfe=t=>{const{componentCls:e}=t;return{"&-rtl":{[`${e}-presets-color`]:{"&::after":{direction:"ltr"}},[`${e}-clear`]:{"&::after":{direction:"ltr"}}}}},wI=(t,e,n)=>{const{componentCls:r,borderRadiusSM:i,lineWidth:o,colorSplit:s,red6:a}=t;return{[`${r}-clear`]:Object.assign(Object.assign({width:e,height:e,borderRadius:i,border:`${o}px solid ${s}`,position:"relative",cursor:"pointer",overflow:"hidden"},n),{"&::after":{content:'""',position:"absolute",insetInlineEnd:o,top:0,display:"block",width:40,height:2,transformOrigin:"right",transform:"rotate(-45deg)",backgroundColor:a}})}},ehe=t=>{const{componentCls:e,colorError:n,colorWarning:r,colorErrorBorderHover:i,colorWarningBorderHover:o,colorErrorOutline:s,colorWarningOutline:a}=t;return{[`&${e}-status-error`]:{borderColor:n,"&:hover":{borderColor:i},[`&${e}-trigger-active`]:Object.assign({},G_(wn(t,{controlOutline:s})))},[`&${e}-status-warning`]:{borderColor:r,"&:hover":{borderColor:o},[`&${e}-trigger-active`]:Object.assign({},G_(wn(t,{controlOutline:a})))}}},the=t=>{const{componentCls:e,controlHeightLG:n,controlHeightSM:r,controlHeight:i,controlHeightXS:o,borderRadius:s,borderRadiusSM:a,borderRadiusXS:l,borderRadiusLG:c,fontSizeLG:u}=t;return{[`&${e}-lg`]:{minWidth:n,height:n,borderRadius:c,[`${e}-color-block, ${e}-clear`]:{width:i,height:i,borderRadius:s},[`${e}-trigger-text`]:{fontSize:u}},[`&${e}-sm`]:{minWidth:r,height:r,borderRadius:a,[`${e}-color-block, ${e}-clear`]:{width:o,height:o,borderRadius:l}}}},nhe=t=>{const{componentCls:e,colorPickerWidth:n,colorPrimary:r,motionDurationMid:i,colorBgElevated:o,colorTextDisabled:s,colorText:a,colorBgContainerDisabled:l,borderRadius:c,marginXS:u,marginSM:d,controlHeight:f,controlHeightSM:h,colorBgTextActive:g,colorPickerPresetColorSize:x,colorPickerPreviewSize:b,lineWidth:v,colorBorder:_,paddingXXS:S,fontSize:w}=t;return[{[e]:Object.assign({[`${e}-inner-content`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"flex",flexDirection:"column",width:n,"&-divider":{margin:`${d}px 0 ${u}px`},[`${e}-panel`]:Object.assign({},Yfe(t))},_I(t,b)),qfe(t)),Qfe(t)),wI(t,x,{marginInlineStart:"auto",marginBottom:u})),"&-trigger":Object.assign(Object.assign(Object.assign(Object.assign({minWidth:f,height:f,borderRadius:c,border:`${v}px solid ${_}`,cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",transition:`all ${i}`,background:o,padding:S-v,[`${e}-trigger-text`]:{marginInlineStart:u,marginInlineEnd:u-(S-v),fontSize:w,color:a},"&-active":Object.assign(Object.assign({},G_(t)),{borderColor:r}),"&:hover":{borderColor:r},"&-disabled":{color:s,background:l,cursor:"not-allowed","&:hover":{borderColor:g},[`${e}-trigger-text`]:{color:s}}},wI(t,h)),_I(t,h)),ehe(t)),the(t))},Jfe(t))}]},rhe=yr("ColorPicker",t=>{const{colorTextQuaternary:e,marginSM:n}=t,r=8,i=wn(t,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:18,colorPickerInsetShadow:`inset 0 0 1px 0 ${e}`,colorPickerSliderHeight:r,colorPickerPreviewSize:r*2+n});return[nhe(i)]}),BE=t=>{const{value:e,defaultValue:n,format:r,defaultFormat:i,allowClear:o=!1,presets:s,children:a,trigger:l="click",open:c,disabled:u,placement:d="bottomLeft",arrow:f=!0,panelRender:h,showText:g,style:x,className:b,size:v,rootClassName:_,styles:S,disabledAlpha:w=!1,onFormatChange:M,onChange:E,onClear:T,onOpenChange:N,onChangeComplete:R,getPopupContainer:P,autoAdjustOverflow:L=!0,destroyTooltipOnHide:$}=t,{getPrefixCls:V,direction:D,colorPicker:H}=y.useContext(Zt),[,F]=Ea(),[k,O]=Wfe(F.colorPrimary,{value:e,defaultValue:n}),[B,G]=ei(!1,{value:c,postState:xe=>!u&&xe,onChange:N}),[W,K]=ei(r,{value:r,defaultValue:i,onChange:M}),[X,Y]=y.useState(!1),te=V("color-picker",vde),oe=y.useMemo(()=>tx(k)<100,[k]),{status:ie}=ae.useContext(Fc),le=zs(v),[ve,me]=rhe(te),we={[`${te}-rtl`]:D},Q=ye(_,we),fe=ye(Il(te,ie),{[`${te}-sm`]:le==="small",[`${te}-lg`]:le==="large"},H?.className,Q,b,me),he=ye(te,we),Ee=y.useRef(!0),ue=(xe,Ne,Ae)=>{let Fe=Ro(xe);(X||(e===null||!e&&n===null))&&(Y(!1),tx(k)===0&&Ne!=="alpha"&&(Fe=c8(Fe))),w&&oe&&(Fe=c8(Fe)),Ae?Ee.current=!1:R?.(Fe),O(Fe),E?.(Fe,Fe.toHexString())},ke=()=>{Y(!0),T?.()},ge=xe=>{Ee.current=!0;let Ne=Ro(xe);w&&oe&&(Ne=c8(xe)),R?.(Ne)},j={open:B,trigger:l,placement:d,arrow:f,rootClassName:_,getPopupContainer:P,autoAdjustOverflow:L,destroyTooltipOnHide:$},z={prefixCls:te,color:k,allowClear:o,colorCleared:X,disabled:u,disabledAlpha:w,presets:s,panelRender:h,format:W,onFormatChange:K,onChangeComplete:ge},ee=Object.assign(Object.assign({},H?.style),x);return ve(ae.createElement(iae,Object.assign({style:S?.popup,overlayInnerStyle:S?.popupOverlayInner,onOpenChange:xe=>{Ee.current&&!u&&G(xe)},content:ae.createElement(Ev,{override:!0,status:!0},ae.createElement(kfe,Object.assign({},z,{onChange:ue,onChangeComplete:ge,onClear:ke}))),overlayClassName:he},j),a||ae.createElement(Hfe,{open:B,className:fe,style:ee,color:e?Ro(e):k,prefixCls:te,disabled:u,colorCleared:X,showText:g,format:W})))},ihe=lE(BE,"color-picker",t=>t,t=>Object.assign(Object.assign({},t),{placement:"bottom",autoAdjustOverflow:!1}));BE._InternalPanelDoNotUseOrYouWillBeFired=ihe;const CI=BE;function EI(t){return["small","middle","large"].includes(t)}function TI(t){return t?typeof t=="number"&&!Number.isNaN(t):!1}const jz=ae.createContext({latestIndex:0}),ohe=jz.Provider,she=t=>{let{className:e,index:n,children:r,split:i,style:o}=t;const{latestIndex:s}=y.useContext(jz);return r==null?null:y.createElement(y.Fragment,null,y.createElement("div",{className:e,style:o},r),n<s&&i&&y.createElement("span",{className:`${e}-split`},i))},ahe=she;var lhe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const che=y.forwardRef((t,e)=>{var n,r;const{getPrefixCls:i,space:o,direction:s}=y.useContext(Zt),{size:a=o?.size||"small",align:l,className:c,rootClassName:u,children:d,direction:f="horizontal",prefixCls:h,split:g,style:x,wrap:b=!1,classNames:v,styles:_}=t,S=lhe(t,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[w,M]=Array.isArray(a)?a:[a,a],E=EI(M),T=EI(w),N=TI(M),R=TI(w),P=hs(d,{keepEmpty:!0}),L=l===void 0&&f==="horizontal"?"center":l,$=i("space",h),[V,D]=tk($),H=ye($,o?.className,D,`${$}-${f}`,{[`${$}-rtl`]:s==="rtl",[`${$}-align-${L}`]:L,[`${$}-gap-row-${M}`]:E,[`${$}-gap-col-${w}`]:T},c,u),F=ye(`${$}-item`,(n=v?.item)!==null&&n!==void 0?n:(r=o?.classNames)===null||r===void 0?void 0:r.item);let k=0;const O=P.map((W,K)=>{var X,Y;W!=null&&(k=K);const te=W&&W.key||`${F}-${K}`;return y.createElement(ahe,{className:F,key:te,index:K,split:g,style:(X=_?.item)!==null&&X!==void 0?X:(Y=o?.styles)===null||Y===void 0?void 0:Y.item},W)}),B=y.useMemo(()=>({latestIndex:k}),[k]);if(P.length===0)return null;const G={};return b&&(G.flexWrap="wrap"),!T&&R&&(G.columnGap=w),!E&&N&&(G.rowGap=M),V(y.createElement("div",Object.assign({ref:e,className:H,style:Object.assign(Object.assign(Object.assign({},G),o?.style),x)},S),y.createElement(ohe,{value:B},O)))}),Xz=che;Xz.Compact=ane;const Rv=Xz;var uhe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const qz=t=>{const{getPopupContainer:e,getPrefixCls:n,direction:r}=y.useContext(Zt),{prefixCls:i,type:o="default",danger:s,disabled:a,loading:l,onClick:c,htmlType:u,children:d,className:f,menu:h,arrow:g,autoFocus:x,overlay:b,trigger:v,align:_,open:S,onOpenChange:w,placement:M,getPopupContainer:E,href:T,icon:N=y.createElement(CE,null),title:R,buttonsRender:P=me=>me,mouseEnterDelay:L,mouseLeaveDelay:$,overlayClassName:V,overlayStyle:D,destroyPopupOnHide:H,dropdownRender:F}=t,k=uhe(t,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),O=n("dropdown",i),B=`${O}-button`,[G,W]=fz(O),K={menu:h,arrow:g,autoFocus:x,align:_,disabled:a,trigger:a?[]:v,onOpenChange:w,getPopupContainer:E||e,mouseEnterDelay:L,mouseLeaveDelay:$,overlayClassName:V,overlayStyle:D,destroyPopupOnHide:H,dropdownRender:F},{compactSize:X,compactItemClassnames:Y}=t0(O,r),te=ye(B,Y,f,W);"overlay"in t&&(K.overlay=b),"open"in t&&(K.open=S),"placement"in t?K.placement=M:K.placement=r==="rtl"?"bottomLeft":"bottomRight";const oe=y.createElement(da,{type:o,danger:s,disabled:a,loading:l,onClick:c,htmlType:u,href:T,title:R},d),ie=y.createElement(da,{type:o,danger:s,icon:N}),[le,ve]=P([oe,ie]);return G(y.createElement(Rv.Compact,Object.assign({className:te,size:X,block:!0},k),le,y.createElement(hz,Object.assign({},K),ve)))};qz.__ANT_BUTTON=!0;const dhe=qz,Kz=hz;Kz.Button=dhe;const MI=Kz;var fhe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};const hhe=fhe;var phe=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:hhe}))};const mhe=y.forwardRef(phe);function ghe(){const t=Object.assign({},arguments.length<=0?void 0:arguments[0]);for(let e=1;e<arguments.length;e++){const n=e<0||arguments.length<=e?void 0:arguments[e];n&&Object.keys(n).forEach(r=>{const i=n[r];i!==void 0&&(t[r]=i)})}return t}var vhe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"};const yhe=vhe;var xhe=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:yhe}))};const W_=y.forwardRef(xhe);var bhe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"};const She=bhe;var _he=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:She}))};const j_=y.forwardRef(_he);var zd={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40};const whe={items_per_page:"/",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5 ",next_5:" 5 ",prev_3:" 3 ",next_3:" 3 ",page_size:""};var Yz=function(t){zl(n,t);var e=Vl(n);function n(){var r;Si(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),r.state={goInputText:""},r.getValidValue=function(){var a=r.state.goInputText;return!a||Number.isNaN(a)?void 0:Number(a)},r.buildOptionText=function(a){return"".concat(a," ").concat(r.props.locale.items_per_page)},r.changeSize=function(a){r.props.changeSize(Number(a))},r.handleChange=function(a){r.setState({goInputText:a.target.value})},r.handleBlur=function(a){var l=r.props,c=l.goButton,u=l.quickGo,d=l.rootPrefixCls,f=r.state.goInputText;c||f===""||(r.setState({goInputText:""}),!(a.relatedTarget&&(a.relatedTarget.className.indexOf("".concat(d,"-item-link"))>=0||a.relatedTarget.className.indexOf("".concat(d,"-item"))>=0))&&u(r.getValidValue()))},r.go=function(a){var l=r.state.goInputText;l!==""&&(a.keyCode===zd.ENTER||a.type==="click")&&(r.setState({goInputText:""}),r.props.quickGo(r.getValidValue()))},r}return _i(n,[{key:"getPageSizeOptions",value:function(){var i=this.props,o=i.pageSize,s=i.pageSizeOptions;return s.some(function(a){return a.toString()===o.toString()})?s:s.concat([o.toString()]).sort(function(a,l){var c=Number.isNaN(Number(a))?0:Number(a),u=Number.isNaN(Number(l))?0:Number(l);return c-u})}},{key:"render",value:function(){var i=this,o=this.props,s=o.pageSize,a=o.locale,l=o.rootPrefixCls,c=o.changeSize,u=o.quickGo,d=o.goButton,f=o.selectComponentClass,h=o.buildOptionText,g=o.selectPrefixCls,x=o.disabled,b=this.state.goInputText,v="".concat(l,"-options"),_=f,S=null,w=null,M=null;if(!c&&!u)return null;var E=this.getPageSizeOptions();if(c&&_){var T=E.map(function(N,R){return ae.createElement(_.Option,{key:R,value:N.toString()},(h||i.buildOptionText)(N))});S=ae.createElement(_,{disabled:x,prefixCls:g,showSearch:!1,className:"".concat(v,"-size-changer"),optionLabelProp:"children",popupMatchSelectWidth:!1,value:(s||E[0]).toString(),onChange:this.changeSize,getPopupContainer:function(R){return R.parentNode},"aria-label":a.page_size,defaultOpen:!1},T)}return u&&(d&&(M=typeof d=="boolean"?ae.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:x,className:"".concat(v,"-quick-jumper-button")},a.jump_to_confirm):ae.createElement("span",{onClick:this.go,onKeyUp:this.go},d)),w=ae.createElement("div",{className:"".concat(v,"-quick-jumper")},a.jump_to,ae.createElement("input",{disabled:x,type:"text",value:b,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":a.page}),a.page,M)),ae.createElement("li",{className:"".concat(v)},S,w)}}]),n}(ae.Component);Yz.defaultProps={pageSizeOptions:["10","20","50","100"]};var rg=function(e){var n,r=e.rootPrefixCls,i=e.page,o=e.active,s=e.className,a=e.showTitle,l=e.onClick,c=e.onKeyPress,u=e.itemRender,d="".concat(r,"-item"),f=ye(d,"".concat(d,"-").concat(i),(n={},se(n,"".concat(d,"-active"),o),se(n,"".concat(d,"-disabled"),!i),se(n,e.className,s),n)),h=function(){l(i)},g=function(v){c(v,l,i)},x=u(i,"page",ae.createElement("a",{rel:"nofollow"},i));return x?ae.createElement("li",{title:a?i.toString():null,className:f,onClick:h,onKeyPress:g,tabIndex:0},x):null};function X_(){}function RI(t){var e=Number(t);return typeof e=="number"&&!Number.isNaN(e)&&isFinite(e)&&Math.floor(e)===e}var Che=function(e,n,r){return r};function tu(t,e,n){var r=typeof t>"u"?e.pageSize:t;return Math.floor((n.total-1)/r)+1}var Zz=function(t){zl(n,t);var e=Vl(n);function n(r){var i;Si(this,n),i=e.call(this,r),i.paginationNode=ae.createRef(),i.getJumpPrevPage=function(){return Math.max(1,i.state.current-(i.props.showLessItems?3:5))},i.getJumpNextPage=function(){return Math.min(tu(void 0,i.state,i.props),i.state.current+(i.props.showLessItems?3:5))},i.getItemIcon=function(c,u){var d=i.props.prefixCls,f=c||ae.createElement("button",{type:"button","aria-label":u,className:"".concat(d,"-item-link")});return typeof c=="function"&&(f=ae.createElement(c,_e({},i.props))),f},i.isValid=function(c){var u=i.props.total;return RI(c)&&c!==i.state.current&&RI(u)&&u>0},i.shouldDisplayQuickJumper=function(){var c=i.props,u=c.showQuickJumper,d=c.total,f=i.state.pageSize;return d<=f?!1:u},i.handleKeyDown=function(c){(c.keyCode===zd.ARROW_UP||c.keyCode===zd.ARROW_DOWN)&&c.preventDefault()},i.handleKeyUp=function(c){var u=i.getValidValue(c),d=i.state.currentInputValue;u!==d&&i.setState({currentInputValue:u}),c.keyCode===zd.ENTER?i.handleChange(u):c.keyCode===zd.ARROW_UP?i.handleChange(u-1):c.keyCode===zd.ARROW_DOWN&&i.handleChange(u+1)},i.handleBlur=function(c){var u=i.getValidValue(c);i.handleChange(u)},i.changePageSize=function(c){var u=i.state.current,d=tu(c,i.state,i.props);u=u>d?d:u,d===0&&(u=i.state.current),typeof c=="number"&&("pageSize"in i.props||i.setState({pageSize:c}),"current"in i.props||i.setState({current:u,currentInputValue:u})),i.props.onShowSizeChange(u,c),"onChange"in i.props&&i.props.onChange&&i.props.onChange(u,c)},i.handleChange=function(c){var u=i.props,d=u.disabled,f=u.onChange,h=i.state,g=h.pageSize,x=h.current,b=h.currentInputValue;if(i.isValid(c)&&!d){var v=tu(void 0,i.state,i.props),_=c;return c>v?_=v:c<1&&(_=1),"current"in i.props||i.setState({current:_}),_!==b&&i.setState({currentInputValue:_}),f(_,g),_}return x},i.prev=function(){i.hasPrev()&&i.handleChange(i.state.current-1)},i.next=function(){i.hasNext()&&i.handleChange(i.state.current+1)},i.jumpPrev=function(){i.handleChange(i.getJumpPrevPage())},i.jumpNext=function(){i.handleChange(i.getJumpNextPage())},i.hasPrev=function(){return i.state.current>1},i.hasNext=function(){return i.state.current<tu(void 0,i.state,i.props)},i.runIfEnter=function(c,u){if(c.key==="Enter"||c.charCode===13){for(var d=arguments.length,f=new Array(d>2?d-2:0),h=2;h<d;h++)f[h-2]=arguments[h];u.apply(void 0,f)}},i.runIfEnterPrev=function(c){i.runIfEnter(c,i.prev)},i.runIfEnterNext=function(c){i.runIfEnter(c,i.next)},i.runIfEnterJumpPrev=function(c){i.runIfEnter(c,i.jumpPrev)},i.runIfEnterJumpNext=function(c){i.runIfEnter(c,i.jumpNext)},i.handleGoTO=function(c){(c.keyCode===zd.ENTER||c.type==="click")&&i.handleChange(i.state.currentInputValue)},i.renderPrev=function(c){var u=i.props,d=u.prevIcon,f=u.itemRender,h=f(c,"prev",i.getItemIcon(d,"prev page")),g=!i.hasPrev();return y.isValidElement(h)?y.cloneElement(h,{disabled:g}):h},i.renderNext=function(c){var u=i.props,d=u.nextIcon,f=u.itemRender,h=f(c,"next",i.getItemIcon(d,"next page")),g=!i.hasNext();return y.isValidElement(h)?y.cloneElement(h,{disabled:g}):h};var o=r.onChange!==X_,s="current"in r;s&&!o&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var a=r.defaultCurrent;"current"in r&&(a=r.current);var l=r.defaultPageSize;return"pageSize"in r&&(l=r.pageSize),a=Math.min(a,tu(l,void 0,r)),i.state={current:a,currentInputValue:a,pageSize:l},i}return _i(n,[{key:"componentDidUpdate",value:function(i,o){var s=this.props.prefixCls;if(o.current!==this.state.current&&this.paginationNode.current){var a=this.paginationNode.current.querySelector(".".concat(s,"-item-").concat(o.current));if(a&&document.activeElement===a){var l;a==null||(l=a.blur)===null||l===void 0||l.call(a)}}}},{key:"getValidValue",value:function(i){var o=i.target.value,s=tu(void 0,this.state,this.props),a=this.state.currentInputValue,l;return o===""?l=o:Number.isNaN(Number(o))?l=a:o>=s?l=s:l=Number(o),l}},{key:"getShowSizeChanger",value:function(){var i=this.props,o=i.showSizeChanger,s=i.total,a=i.totalBoundaryShowSizeChanger;return typeof o<"u"?o:s>a}},{key:"render",value:function(){var i=this.props,o=i.prefixCls,s=i.className,a=i.style,l=i.disabled,c=i.hideOnSinglePage,u=i.total,d=i.locale,f=i.showQuickJumper,h=i.showLessItems,g=i.showTitle,x=i.showTotal,b=i.simple,v=i.itemRender,_=i.showPrevNextJumpers,S=i.jumpPrevIcon,w=i.jumpNextIcon,M=i.selectComponentClass,E=i.selectPrefixCls,T=i.pageSizeOptions,N=this.state,R=N.current,P=N.pageSize,L=N.currentInputValue;if(c===!0&&u<=P)return null;var $=tu(void 0,this.state,this.props),V=[],D=null,H=null,F=null,k=null,O=null,B=f&&f.goButton,G=h?1:2,W=R-1>0?R-1:0,K=R+1<$?R+1:$,X=pm(this.props,{aria:!0,data:!0}),Y=x&&ae.createElement("li",{className:"".concat(o,"-total-text")},x(u,[u===0?0:(R-1)*P+1,R*P>u?u:R*P]));if(b){B&&(typeof B=="boolean"?O=ae.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},d.jump_to_confirm):O=ae.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},B),O=ae.createElement("li",{title:g?"".concat(d.jump_to).concat(R,"/").concat($):null,className:"".concat(o,"-simple-pager")},O));var te=this.renderPrev(W);return ae.createElement("ul",ct({className:ye(o,"".concat(o,"-simple"),se({},"".concat(o,"-disabled"),l),s),style:a,ref:this.paginationNode},X),Y,te?ae.createElement("li",{title:g?d.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:ye("".concat(o,"-prev"),se({},"".concat(o,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},te):null,ae.createElement("li",{title:g?"".concat(R,"/").concat($):null,className:"".concat(o,"-simple-pager")},ae.createElement("input",{type:"text",value:L,disabled:l,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:3}),ae.createElement("span",{className:"".concat(o,"-slash")},"/"),$),ae.createElement("li",{title:g?d.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:ye("".concat(o,"-next"),se({},"".concat(o,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(K)),O)}if($<=3+G*2){var oe={locale:d,rootPrefixCls:o,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:g,itemRender:v};$||V.push(ae.createElement(rg,ct({},oe,{key:"noPager",page:1,className:"".concat(o,"-item-disabled")})));for(var ie=1;ie<=$;ie+=1){var le=R===ie;V.push(ae.createElement(rg,ct({},oe,{key:ie,page:ie,active:le})))}}else{var ve=h?d.prev_3:d.prev_5,me=h?d.next_3:d.next_5,we=v(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(S,"prev page")),Q=v(this.getJumpNextPage(),"jump-next",this.getItemIcon(w,"next page"));_&&(D=we?ae.createElement("li",{title:g?ve:null,key:"prev",onClick:this.jumpPrev,tabIndex:0,onKeyPress:this.runIfEnterJumpPrev,className:ye("".concat(o,"-jump-prev"),se({},"".concat(o,"-jump-prev-custom-icon"),!!S))},we):null,H=Q?ae.createElement("li",{title:g?me:null,key:"next",tabIndex:0,onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:ye("".concat(o,"-jump-next"),se({},"".concat(o,"-jump-next-custom-icon"),!!w))},Q):null),k=ae.createElement(rg,{locale:d,last:!0,rootPrefixCls:o,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:$,page:$,active:!1,showTitle:g,itemRender:v}),F=ae.createElement(rg,{locale:d,rootPrefixCls:o,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:g,itemRender:v});var fe=Math.max(1,R-G),he=Math.min(R+G,$);R-1<=G&&(he=1+G*2),$-R<=G&&(fe=$-G*2);for(var Ee=fe;Ee<=he;Ee+=1){var ue=R===Ee;V.push(ae.createElement(rg,{locale:d,rootPrefixCls:o,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:Ee,page:Ee,active:ue,showTitle:g,itemRender:v}))}R-1>=G*2&&R!==1+2&&(V[0]=y.cloneElement(V[0],{className:"".concat(o,"-item-after-jump-prev")}),V.unshift(D)),$-R>=G*2&&R!==$-2&&(V[V.length-1]=y.cloneElement(V[V.length-1],{className:"".concat(o,"-item-before-jump-next")}),V.push(H)),fe!==1&&V.unshift(F),he!==$&&V.push(k)}var ke=!this.hasPrev()||!$,ge=!this.hasNext()||!$,j=this.renderPrev(W),z=this.renderNext(K);return ae.createElement("ul",ct({className:ye(o,s,se({},"".concat(o,"-disabled"),l)),style:a,ref:this.paginationNode},X),Y,j?ae.createElement("li",{title:g?d.prev_page:null,onClick:this.prev,tabIndex:ke?null:0,onKeyPress:this.runIfEnterPrev,className:ye("".concat(o,"-prev"),se({},"".concat(o,"-disabled"),ke)),"aria-disabled":ke},j):null,V,z?ae.createElement("li",{title:g?d.next_page:null,onClick:this.next,tabIndex:ge?null:0,onKeyPress:this.runIfEnterNext,className:ye("".concat(o,"-next"),se({},"".concat(o,"-disabled"),ge)),"aria-disabled":ge},z):null,ae.createElement(Yz,{disabled:l,locale:d,rootPrefixCls:o,selectComponentClass:M,selectPrefixCls:E,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:R,pageSize:P,pageSizeOptions:T,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:B}))}}],[{key:"getDerivedStateFromProps",value:function(i,o){var s={};if("current"in i&&(s.current=i.current,i.current!==o.current&&(s.currentInputValue=s.current)),"pageSize"in i&&i.pageSize!==o.pageSize){var a=o.current,l=tu(i.pageSize,o,i);a=a>l?l:a,"current"in i||(s.current=a,s.currentInputValue=a),s.pageSize=i.pageSize}return s}}]),n}(ae.Component);Zz.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:X_,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:X_,locale:whe,style:{},itemRender:Che,totalBoundaryShowSizeChanger:50};const Qz=t=>y.createElement(w3,Object.assign({},t,{showSearch:!0,size:"small"})),Jz=t=>y.createElement(w3,Object.assign({},t,{showSearch:!0,size:"middle"}));Qz.Option=w3.Option;Jz.Option=w3.Option;const Ehe=t=>{const{componentCls:e}=t;return{[`${e}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}},[`&${e}-disabled`]:{cursor:"not-allowed",[`${e}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:t.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:t.colorBorder,backgroundColor:t.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:t.itemActiveBgDisabled},a:{color:t.itemActiveColorDisabled}}},[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${e}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${e}-simple-pager`]:{color:t.colorTextDisabled},[`${e}-jump-prev, ${e}-jump-next`]:{[`${e}-item-link-icon`]:{opacity:0},[`${e}-item-ellipsis`]:{opacity:1}}},[`&${e}-simple`]:{[`${e}-prev, ${e}-next`]:{[`&${e}-disabled ${e}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},The=t=>{const{componentCls:e}=t;return{[`&${e}-mini ${e}-total-text, &${e}-mini ${e}-simple-pager`]:{height:t.itemSizeSM,lineHeight:`${t.itemSizeSM}px`},[`&${e}-mini ${e}-item`]:{minWidth:t.itemSizeSM,height:t.itemSizeSM,margin:0,lineHeight:`${t.itemSizeSM-2}px`},[`&${e}-mini:not(${e}-disabled) ${e}-item:not(${e}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},[`&${e}-mini ${e}-prev, &${e}-mini ${e}-next`]:{minWidth:t.itemSizeSM,height:t.itemSizeSM,margin:0,lineHeight:`${t.itemSizeSM}px`},[`&${e}-mini:not(${e}-disabled)`]:{[`${e}-prev, ${e}-next`]:{[`&:hover ${e}-item-link`]:{backgroundColor:t.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:t.colorBgTextActive},[`&${e}-disabled:hover ${e}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${e}-mini ${e}-prev ${e}-item-link,
    &${e}-mini ${e}-next ${e}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:t.itemSizeSM,lineHeight:`${t.itemSizeSM}px`}},[`&${e}-mini ${e}-jump-prev, &${e}-mini ${e}-jump-next`]:{height:t.itemSizeSM,marginInlineEnd:0,lineHeight:`${t.itemSizeSM}px`},[`&${e}-mini ${e}-options`]:{marginInlineStart:t.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:t.miniOptionsSizeChangerTop},"&-quick-jumper":{height:t.itemSizeSM,lineHeight:`${t.itemSizeSM}px`,input:Object.assign(Object.assign({},ME(t)),{width:t.paginationMiniQuickJumperInputWidth,height:t.controlHeightSM})}}}},Mhe=t=>{const{componentCls:e}=t;return{[`
    &${e}-simple ${e}-prev,
    &${e}-simple ${e}-next
    `]:{height:t.itemSizeSM,lineHeight:`${t.itemSizeSM}px`,verticalAlign:"top",[`${e}-item-link`]:{height:t.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive},"&::after":{height:t.itemSizeSM,lineHeight:`${t.itemSizeSM}px`}}},[`&${e}-simple ${e}-simple-pager`]:{display:"inline-block",height:t.itemSizeSM,marginInlineEnd:t.marginXS,input:{boxSizing:"border-box",height:"100%",marginInlineEnd:t.marginXS,padding:`0 ${t.paginationItemPaddingInline}px`,textAlign:"center",backgroundColor:t.itemInputBg,border:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadius,outline:"none",transition:`border-color ${t.motionDurationMid}`,color:"inherit","&:hover":{borderColor:t.colorPrimary},"&:focus":{borderColor:t.colorPrimaryHover,boxShadow:`${t.inputOutlineOffset}px 0 ${t.controlOutlineWidth}px ${t.controlOutline}`},"&[disabled]":{color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,cursor:"not-allowed"}}}}},Rhe=t=>{const{componentCls:e}=t;return{[`${e}-jump-prev, ${e}-jump-next`]:{outline:0,[`${e}-item-container`]:{position:"relative",[`${e}-item-link-icon`]:{color:t.colorPrimary,fontSize:t.fontSizeSM,opacity:0,transition:`all ${t.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${e}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:t.colorTextDisabled,fontFamily:"Arial, Helvetica, sans-serif",letterSpacing:t.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:t.paginationEllipsisTextIndent,opacity:1,transition:`all ${t.motionDurationMid}`}},"&:hover":{[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}}},[`
    ${e}-prev,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{marginInlineEnd:t.marginXS},[`
    ${e}-prev,
    ${e}-next,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{display:"inline-block",minWidth:t.itemSize,height:t.itemSize,color:t.colorText,fontFamily:t.fontFamily,lineHeight:`${t.itemSize}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}`},[`${e}-prev, ${e}-next`]:{fontFamily:"Arial, Helvetica, sans-serif",outline:0,button:{color:t.colorText,cursor:"pointer",userSelect:"none"},[`${e}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:t.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${t.lineWidth}px ${t.lineType} transparent`,borderRadius:t.borderRadius,outline:"none",transition:`all ${t.motionDurationMid}`},[`&:hover ${e}-item-link`]:{backgroundColor:t.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:t.colorBgTextActive},[`&${e}-disabled:hover`]:{[`${e}-item-link`]:{backgroundColor:"transparent"}}},[`${e}-slash`]:{marginInlineEnd:t.paginationSlashMarginInlineEnd,marginInlineStart:t.paginationSlashMarginInlineStart},[`${e}-options`]:{display:"inline-block",marginInlineStart:t.margin,verticalAlign:"middle","&-size-changer.-select":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:t.controlHeight,marginInlineStart:t.marginXS,lineHeight:`${t.controlHeight}px`,verticalAlign:"top",input:Object.assign(Object.assign({},M3(t)),{width:t.controlHeightLG*1.25,height:t.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:t.marginXS,marginInlineEnd:t.marginXS})}}}},Ahe=t=>{const{componentCls:e}=t;return{[`${e}-item`]:{display:"inline-block",minWidth:t.itemSize,height:t.itemSize,marginInlineEnd:t.marginXS,fontFamily:t.fontFamily,lineHeight:`${t.itemSize-2}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:"transparent",border:`${t.lineWidth}px ${t.lineType} transparent`,borderRadius:t.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${t.paginationItemPaddingInline}px`,color:t.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${e}-item-active)`]:{"&:hover":{transition:`all ${t.motionDurationMid}`,backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},"&-active":{fontWeight:t.fontWeightStrong,backgroundColor:t.itemActiveBg,borderColor:t.colorPrimary,a:{color:t.colorPrimary},"&:hover":{borderColor:t.colorPrimaryHover},"&:hover a":{color:t.colorPrimaryHover}}}}},Phe=t=>{const{componentCls:e}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Vr(t)),{"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${e}-total-text`]:{display:"inline-block",height:t.itemSize,marginInlineEnd:t.marginXS,lineHeight:`${t.itemSize-2}px`,verticalAlign:"middle"}}),Ahe(t)),Rhe(t)),Mhe(t)),The(t)),Ehe(t)),{[`@media only screen and (max-width: ${t.screenLG}px)`]:{[`${e}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${t.screenSM}px)`]:{[`${e}-options`]:{display:"none"}}}),[`&${t.componentCls}-rtl`]:{direction:"rtl"}}},Nhe=t=>{const{componentCls:e}=t;return{[`${e}${e}-disabled:not(${e}-mini)`]:{"&, &:hover":{[`${e}-item-link`]:{borderColor:t.colorBorder}},"&:focus-visible":{[`${e}-item-link`]:{borderColor:t.colorBorder}},[`${e}-item, ${e}-item-link`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,[`&:hover:not(${e}-item-active)`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,a:{color:t.colorTextDisabled}},[`&${e}-item-active`]:{backgroundColor:t.itemActiveBgDisabled}},[`${e}-prev, ${e}-next`]:{"&:hover button":{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,color:t.colorTextDisabled},[`${e}-item-link`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder}}},[`${e}:not(${e}-mini)`]:{[`${e}-prev, ${e}-next`]:{"&:hover button":{borderColor:t.colorPrimaryHover,backgroundColor:t.itemBg},[`${e}-item-link`]:{backgroundColor:t.itemLinkBg,borderColor:t.colorBorder},[`&:hover ${e}-item-link`]:{borderColor:t.colorPrimary,backgroundColor:t.itemBg,color:t.colorPrimary},[`&${e}-disabled`]:{[`${e}-item-link`]:{borderColor:t.colorBorder,color:t.colorTextDisabled}}},[`${e}-item`]:{backgroundColor:t.itemBg,border:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,[`&:hover:not(${e}-item-active)`]:{borderColor:t.colorPrimary,backgroundColor:t.itemBg,a:{color:t.colorPrimary}},"&-active":{borderColor:t.colorPrimary}}}}},Ihe=t=>{const{componentCls:e}=t;return{[`${e}:not(${e}-disabled)`]:{[`${e}-item`]:Object.assign({},hm(t)),[`${e}-jump-prev, ${e}-jump-next`]:{"&:focus-visible":Object.assign({[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}},B5(t))},[`${e}-prev, ${e}-next`]:{[`&:focus-visible ${e}-item-link`]:Object.assign({},B5(t))}}}},Ohe=yr("Pagination",t=>{const e=wn(t,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:t.marginXXS/2,paginationMiniQuickJumperInputWidth:t.controlHeightLG*1.1,paginationItemPaddingInline:t.marginXXS*1.5,paginationEllipsisLetterSpacing:t.marginXXS/2,paginationSlashMarginInlineStart:t.marginXXS,paginationSlashMarginInlineEnd:t.marginSM,paginationEllipsisTextIndent:"0.13em"},RE(t),AE(t));return[Phe(e),Ihe(e),t.wireframe&&Nhe(e)]},t=>({itemBg:t.colorBgContainer,itemSize:t.controlHeight,itemSizeSM:t.controlHeightSM,itemActiveBg:t.colorBgContainer,itemLinkBg:t.colorBgContainer,itemActiveColorDisabled:t.colorTextDisabled,itemActiveBgDisabled:t.controlItemBgActiveDisabled,itemInputBg:t.colorBgContainer,miniOptionsSizeChangerTop:0}));var Lhe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Dhe=t=>{const{prefixCls:e,selectPrefixCls:n,className:r,rootClassName:i,style:o,size:s,locale:a,selectComponentClass:l,responsive:c,showSizeChanger:u}=t,d=Lhe(t,["prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","selectComponentClass","responsive","showSizeChanger"]),{xs:f}=Vk(c),{getPrefixCls:h,direction:g,pagination:x={}}=y.useContext(Zt),b=h("pagination",e),[v,_]=Ohe(b),S=u??x.showSizeChanger,w=y.useMemo(()=>{const $=y.createElement("span",{className:`${b}-item-ellipsis`},""),V=y.createElement("button",{className:`${b}-item-link`,type:"button",tabIndex:-1},g==="rtl"?y.createElement(K5,null):y.createElement(WN,null)),D=y.createElement("button",{className:`${b}-item-link`,type:"button",tabIndex:-1},g==="rtl"?y.createElement(WN,null):y.createElement(K5,null)),H=y.createElement("a",{className:`${b}-item-link`},y.createElement("div",{className:`${b}-item-container`},g==="rtl"?y.createElement(j_,{className:`${b}-item-link-icon`}):y.createElement(W_,{className:`${b}-item-link-icon`}),$)),F=y.createElement("a",{className:`${b}-item-link`},y.createElement("div",{className:`${b}-item-container`},g==="rtl"?y.createElement(W_,{className:`${b}-item-link-icon`}):y.createElement(j_,{className:`${b}-item-link-icon`}),$));return{prevIcon:V,nextIcon:D,jumpPrevIcon:H,jumpNextIcon:F}},[g,b]),[M]=g3("Pagination",pB),E=Object.assign(Object.assign({},M),a),T=zs(s),N=T==="small"||!!(f&&!T&&c),R=h("select",n),P=ye({[`${b}-mini`]:N,[`${b}-rtl`]:g==="rtl"},x?.className,r,i,_),L=Object.assign(Object.assign({},x?.style),o);return v(y.createElement(Zz,Object.assign({},w,d,{style:L,prefixCls:b,selectPrefixCls:R,className:P,selectComponentClass:l||(N?Qz:Jz),locale:E,showSizeChanger:S})))},Fhe=Dhe,$he=new Dn("antSpinMove",{to:{opacity:1}}),Uhe=new Dn("antRotate",{to:{transform:"rotate(405deg)"}}),Bhe=t=>({[`${t.componentCls}`]:Object.assign(Object.assign({},Vr(t)),{position:"absolute",display:"none",color:t.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${t.motionDurationSlow} ${t.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":{position:"relative",[`> div > ${t.componentCls}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:t.contentHeight,[`${t.componentCls}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-t.dotSize/2},[`${t.componentCls}-text`]:{position:"absolute",top:"50%",width:"100%",paddingTop:(t.dotSize-t.fontSize)/2+2,textShadow:`0 1px 2px ${t.colorBgContainer}`,fontSize:t.fontSize},[`&${t.componentCls}-show-text ${t.componentCls}-dot`]:{marginTop:-(t.dotSize/2)-10},"&-sm":{[`${t.componentCls}-dot`]:{margin:-t.dotSizeSM/2},[`${t.componentCls}-text`]:{paddingTop:(t.dotSizeSM-t.fontSize)/2+2},[`&${t.componentCls}-show-text ${t.componentCls}-dot`]:{marginTop:-(t.dotSizeSM/2)-10}},"&-lg":{[`${t.componentCls}-dot`]:{margin:-(t.dotSizeLG/2)},[`${t.componentCls}-text`]:{paddingTop:(t.dotSizeLG-t.fontSize)/2+2},[`&${t.componentCls}-show-text ${t.componentCls}-dot`]:{marginTop:-(t.dotSizeLG/2)-10}}},[`${t.componentCls}-container`]:{position:"relative",transition:`opacity ${t.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:t.colorBgContainer,opacity:0,transition:`all ${t.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${t.componentCls}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:t.spinDotDefault},[`${t.componentCls}-dot`]:{position:"relative",display:"inline-block",fontSize:t.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(t.dotSize-t.marginXXS/2)/2,height:(t.dotSize-t.marginXXS/2)/2,backgroundColor:t.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:$he,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:Uhe,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${t.componentCls}-dot`]:{fontSize:t.dotSizeSM,i:{width:(t.dotSizeSM-t.marginXXS/2)/2,height:(t.dotSizeSM-t.marginXXS/2)/2}},[`&-lg ${t.componentCls}-dot`]:{fontSize:t.dotSizeLG,i:{width:(t.dotSizeLG-t.marginXXS)/2,height:(t.dotSizeLG-t.marginXXS)/2}},[`&${t.componentCls}-show-text ${t.componentCls}-text`]:{display:"block"}})}),khe=yr("Spin",t=>{const e=wn(t,{spinDotDefault:t.colorTextDescription});return[Bhe(e)]},t=>({contentHeight:400,dotSize:t.controlHeightLG/2,dotSizeSM:t.controlHeightLG*.35,dotSizeLG:t.controlHeight}));var zhe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};let t5=null;function Vhe(t,e){const{indicator:n}=e,r=`${t}-dot`;return n===null?null:Sa(n)?ji(n,{className:ye(n.props.className,r)}):Sa(t5)?ji(t5,{className:ye(t5.props.className,r)}):y.createElement("span",{className:ye(r,`${t}-dot-spin`)},y.createElement("i",{className:`${t}-dot-item`,key:1}),y.createElement("i",{className:`${t}-dot-item`,key:2}),y.createElement("i",{className:`${t}-dot-item`,key:3}),y.createElement("i",{className:`${t}-dot-item`,key:4}))}function Hhe(t,e){return!!t&&!!e&&!isNaN(Number(e))}const Ghe=t=>{const{spinPrefixCls:e,spinning:n=!0,delay:r=0,className:i,rootClassName:o,size:s="default",tip:a,wrapperClassName:l,style:c,children:u,hashId:d}=t,f=zhe(t,["spinPrefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","hashId"]),[h,g]=y.useState(()=>n&&!Hhe(n,r));y.useEffect(()=>{if(n){const T=wue(r,()=>{g(!0)});return T(),()=>{var N;(N=T?.cancel)===null||N===void 0||N.call(T)}}g(!1)},[r,n]);const x=y.useMemo(()=>typeof u<"u",[u]),{direction:b,spin:v}=y.useContext(Zt),_=ye(e,v?.className,{[`${e}-sm`]:s==="small",[`${e}-lg`]:s==="large",[`${e}-spinning`]:h,[`${e}-show-text`]:!!a,[`${e}-rtl`]:b==="rtl"},i,o,d),S=ye(`${e}-container`,{[`${e}-blur`]:h}),w=fi(f,["indicator","prefixCls"]),M=Object.assign(Object.assign({},v?.style),c),E=y.createElement("div",Object.assign({},w,{style:M,className:_,"aria-live":"polite","aria-busy":h}),Vhe(e,t),a&&x?y.createElement("div",{className:`${e}-text`},a):null);return x?y.createElement("div",Object.assign({},w,{className:ye(`${e}-nested-loading`,l,d)}),h&&y.createElement("div",{key:"loading"},E),y.createElement("div",{className:S,key:"container"},u)):E},eV=t=>{const{prefixCls:e}=t,{getPrefixCls:n}=y.useContext(Zt),r=n("spin",e),[i,o]=khe(r),s=Object.assign(Object.assign({},t),{spinPrefixCls:r,hashId:o});return i(y.createElement(Ghe,Object.assign({},s)))};eV.setDefaultIndicator=t=>{t5=t};const Whe=eV,kE=ae.createContext({});kE.Consumer;var tV=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const jhe=t=>{var{prefixCls:e,className:n,avatar:r,title:i,description:o}=t,s=tV(t,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:a}=y.useContext(Zt),l=a("list",e),c=ye(`${l}-item-meta`,n),u=ae.createElement("div",{className:`${l}-item-meta-content`},i&&ae.createElement("h4",{className:`${l}-item-meta-title`},i),o&&ae.createElement("div",{className:`${l}-item-meta-description`},o));return ae.createElement("div",Object.assign({},s,{className:c}),r&&ae.createElement("div",{className:`${l}-item-meta-avatar`},r),(i||o)&&u)},Xhe=(t,e)=>{var{prefixCls:n,children:r,actions:i,extra:o,className:s,colStyle:a}=t,l=tV(t,["prefixCls","children","actions","extra","className","colStyle"]);const{grid:c,itemLayout:u}=y.useContext(kE),{getPrefixCls:d}=y.useContext(Zt),f=()=>{let _;return y.Children.forEach(r,S=>{typeof S=="string"&&(_=!0)}),_&&y.Children.count(r)>1},h=()=>u==="vertical"?!!o:!f(),g=d("list",n),x=i&&i.length>0&&ae.createElement("ul",{className:`${g}-item-action`,key:"actions"},i.map((_,S)=>ae.createElement("li",{key:`${g}-item-action-${S}`},_,S!==i.length-1&&ae.createElement("em",{className:`${g}-item-action-split`})))),b=c?"div":"li",v=ae.createElement(b,Object.assign({},l,c?{}:{ref:e},{className:ye(`${g}-item`,{[`${g}-item-no-flex`]:!h()},s)}),u==="vertical"&&o?[ae.createElement("div",{className:`${g}-item-main`,key:"content"},r,x),ae.createElement("div",{className:`${g}-item-extra`,key:"extra"},o)]:[r,x,ji(o,{key:"extra"})]);return c?ae.createElement(Wa,{ref:e,flex:1,style:a},v):v},nV=y.forwardRef(Xhe);nV.Meta=jhe;const qhe=nV,Khe=t=>{const{listBorderedCls:e,componentCls:n,paddingLG:r,margin:i,itemPaddingSM:o,itemPaddingLG:s,marginLG:a,borderRadiusLG:l}=t;return{[`${e}`]:{border:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,borderRadius:l,[`${n}-header,${n}-footer,${n}-item`]:{paddingInline:r},[`${n}-pagination`]:{margin:`${i}px ${a}px`}},[`${e}${n}-sm`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:o}},[`${e}${n}-lg`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:s}}}},Yhe=t=>{const{componentCls:e,screenSM:n,screenMD:r,marginLG:i,marginSM:o,margin:s}=t;return{[`@media screen and (max-width:${r})`]:{[`${e}`]:{[`${e}-item`]:{[`${e}-item-action`]:{marginInlineStart:i}}},[`${e}-vertical`]:{[`${e}-item`]:{[`${e}-item-extra`]:{marginInlineStart:i}}}},[`@media screen and (max-width: ${n})`]:{[`${e}`]:{[`${e}-item`]:{flexWrap:"wrap",[`${e}-action`]:{marginInlineStart:o}}},[`${e}-vertical`]:{[`${e}-item`]:{flexWrap:"wrap-reverse",[`${e}-item-main`]:{minWidth:t.contentWidth},[`${e}-item-extra`]:{margin:`auto auto ${s}px`}}}}}},Zhe=t=>{const{componentCls:e,antCls:n,controlHeight:r,minHeight:i,paddingSM:o,marginLG:s,padding:a,itemPadding:l,colorPrimary:c,itemPaddingSM:u,itemPaddingLG:d,paddingXS:f,margin:h,colorText:g,colorTextDescription:x,motionDurationSlow:b,lineWidth:v,headerBg:_,footerBg:S,emptyTextPadding:w,metaMarginBottom:M,avatarMarginRight:E,titleMarginBottom:T,descriptionFontSize:N}=t,R={};return["start","center","end"].forEach(P=>{R[`&-align-${P}`]={textAlign:P}}),{[`${e}`]:Object.assign(Object.assign({},Vr(t)),{position:"relative","*":{outline:"none"},[`${e}-header`]:{background:_},[`${e}-footer`]:{background:S},[`${e}-header, ${e}-footer`]:{paddingBlock:o},[`${e}-pagination`]:Object.assign(Object.assign({marginBlockStart:s},R),{[`${n}-pagination-options`]:{textAlign:"start"}}),[`${e}-spin`]:{minHeight:i,textAlign:"center"},[`${e}-items`]:{margin:0,padding:0,listStyle:"none"},[`${e}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:l,color:g,[`${e}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${e}-item-meta-avatar`]:{marginInlineEnd:E},[`${e}-item-meta-content`]:{flex:"1 0",width:0,color:g},[`${e}-item-meta-title`]:{margin:`0 0 ${t.marginXXS}px 0`,color:g,fontSize:t.fontSize,lineHeight:t.lineHeight,"> a":{color:g,transition:`all ${b}`,"&:hover":{color:c}}},[`${e}-item-meta-description`]:{color:x,fontSize:N,lineHeight:t.lineHeight}},[`${e}-item-action`]:{flex:"0 0 auto",marginInlineStart:t.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${f}px`,color:x,fontSize:t.fontSize,lineHeight:t.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${e}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:v,height:Math.ceil(t.fontSize*t.lineHeight)-t.marginXXS*2,transform:"translateY(-50%)",backgroundColor:t.colorSplit}}},[`${e}-empty`]:{padding:`${a}px 0`,color:x,fontSize:t.fontSizeSM,textAlign:"center"},[`${e}-empty-text`]:{padding:w,color:t.colorTextDisabled,fontSize:t.fontSize,textAlign:"center"},[`${e}-item-no-flex`]:{display:"block"}}),[`${e}-grid ${n}-col > ${e}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:h,paddingBlock:0,borderBlockEnd:"none"},[`${e}-vertical ${e}-item`]:{alignItems:"initial",[`${e}-item-main`]:{display:"block",flex:1},[`${e}-item-extra`]:{marginInlineStart:s},[`${e}-item-meta`]:{marginBlockEnd:M,[`${e}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:T,color:g,fontSize:t.fontSizeLG,lineHeight:t.lineHeightLG}},[`${e}-item-action`]:{marginBlockStart:a,marginInlineStart:"auto","> li":{padding:`0 ${a}px`,"&:first-child":{paddingInlineStart:0}}}},[`${e}-split ${e}-item`]:{borderBlockEnd:`${t.lineWidth}px ${t.lineType} ${t.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${e}-split ${e}-header`]:{borderBlockEnd:`${t.lineWidth}px ${t.lineType} ${t.colorSplit}`},[`${e}-split${e}-empty ${e}-footer`]:{borderTop:`${t.lineWidth}px ${t.lineType} ${t.colorSplit}`},[`${e}-loading ${e}-spin-nested-loading`]:{minHeight:r},[`${e}-split${e}-something-after-last-item ${n}-spin-container > ${e}-items > ${e}-item:last-child`]:{borderBlockEnd:`${t.lineWidth}px ${t.lineType} ${t.colorSplit}`},[`${e}-lg ${e}-item`]:{padding:d},[`${e}-sm ${e}-item`]:{padding:u},[`${e}:not(${e}-vertical)`]:{[`${e}-item-no-flex`]:{[`${e}-item-action`]:{float:"right"}}}}},Qhe=yr("List",t=>{const e=wn(t,{listBorderedCls:`${t.componentCls}-bordered`,minHeight:t.controlHeightLG});return[Zhe(e),Khe(e),Yhe(e)]},t=>({contentWidth:220,itemPadding:`${t.paddingContentVertical}px 0`,itemPaddingSM:`${t.paddingContentVerticalSM}px ${t.paddingContentHorizontal}px`,itemPaddingLG:`${t.paddingContentVerticalLG}px ${t.paddingContentHorizontalLG}px`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:t.padding,metaMarginBottom:t.padding,avatarMarginRight:t.padding,titleMarginBottom:t.paddingSM,descriptionFontSize:t.fontSize}));var Jhe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function q_(t){var e,{pagination:n=!1,prefixCls:r,bordered:i=!1,split:o=!0,className:s,rootClassName:a,style:l,children:c,itemLayout:u,loadMore:d,grid:f,dataSource:h=[],size:g,header:x,footer:b,loading:v=!1,rowKey:_,renderItem:S,locale:w}=t,M=Jhe(t,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]);const E=n&&typeof n=="object"?n:{},[T,N]=y.useState(E.defaultCurrent||1),[R,P]=y.useState(E.defaultPageSize||10),{getPrefixCls:L,renderEmpty:$,direction:V,list:D}=y.useContext(Zt),H={current:1,total:0},F=z=>(ee,xe)=>{var Ne;N(ee),P(xe),n&&n[z]&&((Ne=n?.[z])===null||Ne===void 0||Ne.call(n,ee,xe))},k=F("onChange"),O=F("onShowSizeChange"),B=(z,ee)=>{if(!S)return null;let xe;return typeof _=="function"?xe=_(z):_?xe=z[_]:xe=z.key,xe||(xe=`list-item-${ee}`),y.createElement(y.Fragment,{key:xe},S(z,ee))},G=()=>!!(d||n||b),W=L("list",r),[K,X]=Qhe(W);let Y=v;typeof Y=="boolean"&&(Y={spinning:Y});const te=Y&&Y.spinning,oe=zs(g);let ie="";switch(oe){case"large":ie="lg";break;case"small":ie="sm";break}const le=ye(W,{[`${W}-vertical`]:u==="vertical",[`${W}-${ie}`]:ie,[`${W}-split`]:o,[`${W}-bordered`]:i,[`${W}-loading`]:te,[`${W}-grid`]:!!f,[`${W}-something-after-last-item`]:G(),[`${W}-rtl`]:V==="rtl"},D?.className,s,a,X),ve=ghe(H,{total:h.length,current:T,pageSize:R},n||{}),me=Math.ceil(ve.total/ve.pageSize);ve.current>me&&(ve.current=me);const we=n?y.createElement("div",{className:ye(`${W}-pagination`,`${W}-pagination-align-${(e=ve?.align)!==null&&e!==void 0?e:"end"}`)},y.createElement(Fhe,Object.assign({},ve,{onChange:k,onShowSizeChange:O}))):null;let Q=St(h);n&&h.length>(ve.current-1)*ve.pageSize&&(Q=St(h).splice((ve.current-1)*ve.pageSize,ve.pageSize));const fe=Object.keys(f||{}).some(z=>["xs","sm","md","lg","xl","xxl"].includes(z)),he=Vk(fe),Ee=y.useMemo(()=>{for(let z=0;z<Pf.length;z+=1){const ee=Pf[z];if(he[ee])return ee}},[he]),ue=y.useMemo(()=>{if(!f)return;const z=Ee&&f[Ee]?f[Ee]:f.column;if(z)return{width:`${100/z}%`,maxWidth:`${100/z}%`}},[f?.column,Ee]);let ke=te&&y.createElement("div",{style:{minHeight:53}});if(Q.length>0){const z=Q.map((ee,xe)=>B(ee,xe));ke=f?y.createElement(hc,{gutter:f.gutter},y.Children.map(z,ee=>y.createElement("div",{key:ee?.key,style:ue},ee))):y.createElement("ul",{className:`${W}-items`},z)}else!c&&!te&&(ke=y.createElement("div",{className:`${W}-empty-text`},w&&w.emptyText||$?.("List")||y.createElement(Fk,{componentName:"List"})));const ge=ve.position||"bottom",j=y.useMemo(()=>({grid:f,itemLayout:u}),[JSON.stringify(f),u]);return K(y.createElement(kE.Provider,{value:j},y.createElement("div",Object.assign({style:Object.assign(Object.assign({},D?.style),l),className:le},M),(ge==="top"||ge==="both")&&we,x&&y.createElement("div",{className:`${W}-header`},x),y.createElement(Whe,Object.assign({},Y),ke,c),b&&y.createElement("div",{className:`${W}-footer`},b),d||(ge==="bottom"||ge==="both")&&we)))}q_.Item=qhe;let ra=null,tf=t=>t(),Av=[],nx={};function AI(){const{prefixCls:t,getContainer:e,duration:n,rtl:r,maxCount:i,top:o}=nx,s=t??zB().getPrefixCls("message"),a=e?.()||document.body;return{prefixCls:s,getContainer:()=>a,duration:n,rtl:r,maxCount:i,top:o}}const epe=y.forwardRef((t,e)=>{const[n,r]=y.useState(AI),[i,o]=QB(n),s=zB(),a=s.getRootPrefixCls(),l=s.getIconPrefixCls(),c=s.getTheme(),u=()=>{r(AI)};return y.useEffect(u,[]),y.useImperativeHandle(e,()=>{const d=Object.assign({},i);return Object.keys(d).forEach(f=>{d[f]=function(){return u(),i[f].apply(i,arguments)}}),{instance:d,sync:u}}),y.createElement(id,{prefixCls:a,iconPrefixCls:l,theme:c},o)});function F6(){if(!ra){const t=document.createDocumentFragment(),e={fragment:t};ra=e,tf(()=>{JB(y.createElement(epe,{ref:n=>{const{instance:r,sync:i}=n||{};Promise.resolve().then(()=>{!e.instance&&r&&(e.instance=r,e.sync=i,F6())})}}),t)});return}ra.instance&&(Av.forEach(t=>{const{type:e,skipped:n}=t;if(!n)switch(e){case"open":{tf(()=>{const r=ra.instance.open(Object.assign(Object.assign({},nx),t.config));r?.then(t.resolve),t.setCloseFn(r)});break}case"destroy":tf(()=>{ra?.instance.destroy(t.key)});break;default:tf(()=>{var r;const i=(r=ra.instance)[e].apply(r,St(t.args));i?.then(t.resolve),t.setCloseFn(i)})}}),Av=[])}function tpe(t){nx=Object.assign(Object.assign({},nx),t),tf(()=>{var e;(e=ra?.sync)===null||e===void 0||e.call(ra)})}function npe(t){const e=YC(n=>{let r;const i={type:"open",config:t,resolve:n,setCloseFn:o=>{r=o}};return Av.push(i),()=>{r?tf(()=>{r()}):i.skipped=!0}});return F6(),e}function rpe(t,e){const n=YC(r=>{let i;const o={type:t,args:e,resolve:r,setCloseFn:s=>{i=s}};return Av.push(o),()=>{i?tf(()=>{i()}):o.skipped=!0}});return F6(),n}function ipe(t){Av.push({type:"destroy",key:t}),F6()}const ope=["success","info","warning","error","loading"],spe={open:npe,destroy:ipe,config:tpe,useMessage:Ote,_InternalPanelDoNotUseOrYouWillBeFired:Ete},rV=spe;ope.forEach(t=>{rV[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return rpe(t,n)}});const ape=rV;var lpe={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},cpe=function(){var e=y.useRef([]),n=y.useRef(null);return y.useEffect(function(){var r=Date.now(),i=!1;e.current.forEach(function(o){if(o){i=!0;var s=o.style;s.transitionDuration=".3s, .3s, .3s, .06s",n.current&&r-n.current<100&&(s.transitionDuration="0s, 0s")}}),i&&(n.current=Date.now())}),e.current},PI=0,upe=uo();function dpe(){var t;return upe?(t=PI,PI+=1):t="TEST_OR_SSR",t}const fpe=function(t){var e=y.useState(),n=Ie(e,2),r=n[0],i=n[1];return y.useEffect(function(){i("rc_progress_".concat(dpe()))},[]),t||r};var NI=function(e){var n=e.bg,r=e.children;return y.createElement("div",{style:{width:"100%",height:"100%",background:n}},r)};function II(t,e){return Object.keys(t).map(function(n){var r=parseFloat(n),i="".concat(Math.floor(r*e),"%");return"".concat(t[n]," ").concat(i)})}var hpe=y.forwardRef(function(t,e){var n=t.prefixCls,r=t.color,i=t.gradientId,o=t.radius,s=t.style,a=t.ptg,l=t.strokeLinecap,c=t.strokeWidth,u=t.size,d=t.gapDegree,f=r&&nn(r)==="object",h=f?"#FFF":void 0,g=u/2,x=y.createElement("circle",{className:"".concat(n,"-circle-path"),r:o,cx:g,cy:g,stroke:h,strokeLinecap:l,strokeWidth:c,opacity:a===0?0:1,style:s,ref:e});if(!f)return x;var b="".concat(i,"-conic"),v=d?"".concat(180+d/2,"deg"):"0deg",_=II(r,(360-d)/360),S=II(r,1),w="conic-gradient(from ".concat(v,", ").concat(_.join(", "),")"),M="linear-gradient(to ".concat(d?"bottom":"top",", ").concat(S.join(", "),")");return y.createElement(y.Fragment,null,y.createElement("mask",{id:b},x),y.createElement("foreignObject",{x:0,y:0,width:u,height:u,mask:"url(#".concat(b,")")},y.createElement(NI,{bg:M},y.createElement(NI,{bg:w}))))}),Ag=100,g8=function(e,n,r,i,o,s,a,l,c,u){var d=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,f=r/100*360*((360-s)/360),h=s===0?0:{bottom:0,top:180,left:90,right:-90}[a],g=(100-i)/100*n;c==="round"&&i!==100&&(g+=u/2,g>=n&&(g=n-.01));var x=Ag/2;return{stroke:typeof l=="string"?l:void 0,strokeDasharray:"".concat(n,"px ").concat(e),strokeDashoffset:g+d,transform:"rotate(".concat(o+f+h,"deg)"),transformOrigin:"".concat(x,"px ").concat(x,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},ppe=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function OI(t){var e=t??[];return Array.isArray(e)?e:[e]}var mpe=function(e){var n=_e(_e({},lpe),e),r=n.id,i=n.prefixCls,o=n.steps,s=n.strokeWidth,a=n.trailWidth,l=n.gapDegree,c=l===void 0?0:l,u=n.gapPosition,d=n.trailColor,f=n.strokeLinecap,h=n.style,g=n.className,x=n.strokeColor,b=n.percent,v=ln(n,ppe),_=Ag/2,S=fpe(r),w="".concat(S,"-gradient"),M=_-s/2,E=Math.PI*2*M,T=c>0?90+c/2:-90,N=E*((360-c)/360),R=nn(o)==="object"?o:{count:o,space:2},P=R.count,L=R.space,$=OI(b),V=OI(x),D=V.find(function(W){return W&&nn(W)==="object"}),H=D&&nn(D)==="object",F=H?"butt":f,k=g8(E,N,0,100,T,c,u,d,F,s),O=cpe(),B=function(){var K=0;return $.map(function(X,Y){var te=V[Y]||V[V.length-1],oe=g8(E,N,K,X,T,c,u,te,F,s);return K+=X,y.createElement(hpe,{key:Y,color:te,ptg:X,radius:M,prefixCls:i,gradientId:w,style:oe,strokeLinecap:F,strokeWidth:s,gapDegree:c,ref:function(le){O[Y]=le},size:Ag})}).reverse()},G=function(){var K=Math.round(P*($[0]/100)),X=100/P,Y=0;return new Array(P).fill(null).map(function(te,oe){var ie=oe<=K-1?V[0]:d,le=ie&&nn(ie)==="object"?"url(#".concat(w,")"):void 0,ve=g8(E,N,Y,X,T,c,u,ie,"butt",s,L);return Y+=(N-ve.strokeDashoffset+L)*100/N,y.createElement("circle",{key:oe,className:"".concat(i,"-circle-path"),r:M,cx:_,cy:_,stroke:le,strokeWidth:s,opacity:1,style:ve,ref:function(we){O[oe]=we}})})};return y.createElement("svg",ct({className:ye("".concat(i,"-circle"),g),viewBox:"0 0 ".concat(Ag," ").concat(Ag),style:h,id:r,role:"presentation"},v),!P&&y.createElement("circle",{className:"".concat(i,"-circle-trail"),r:M,cx:_,cy:_,stroke:d,strokeLinecap:F,strokeWidth:a||s,style:k}),P?G():B())};function gf(t){return!t||t<0?0:t>100?100:t}function rx(t){let{success:e,successPercent:n}=t,r=n;return e&&"progress"in e&&(r=e.progress),e&&"percent"in e&&(r=e.percent),r}const gpe=t=>{let{percent:e,success:n,successPercent:r}=t;const i=gf(rx({success:n,successPercent:r}));return[i,gf(gf(e)-i)]},vpe=t=>{let{success:e={},strokeColor:n}=t;const{strokeColor:r}=e;return[r||Wp.green,n||null]},$6=(t,e,n)=>{var r,i,o,s;let a=-1,l=-1;if(e==="step"){const c=n.steps,u=n.strokeWidth;typeof t=="string"||typeof t>"u"?(a=t==="small"?2:14,l=u??8):typeof t=="number"?[a,l]=[t,t]:[a=14,l=8]=t,a*=c}else if(e==="line"){const c=n?.strokeWidth;typeof t=="string"||typeof t>"u"?l=c||(t==="small"?6:8):typeof t=="number"?[a,l]=[t,t]:[a=-1,l=8]=t}else(e==="circle"||e==="dashboard")&&(typeof t=="string"||typeof t>"u"?[a,l]=t==="small"?[60,60]:[120,120]:typeof t=="number"?[a,l]=[t,t]:(a=(i=(r=t[0])!==null&&r!==void 0?r:t[1])!==null&&i!==void 0?i:120,l=(s=(o=t[0])!==null&&o!==void 0?o:t[1])!==null&&s!==void 0?s:120));return[a,l]},ype=3,xpe=t=>ype/t*100,bpe=t=>{const{prefixCls:e,trailColor:n=null,strokeLinecap:r="round",gapPosition:i,gapDegree:o,width:s=120,type:a,children:l,success:c,size:u=s}=t,[d,f]=$6(u,"circle");let{strokeWidth:h}=t;h===void 0&&(h=Math.max(xpe(d),6));const g={width:d,height:f,fontSize:d*.15+6},x=y.useMemo(()=>{if(o||o===0)return o;if(a==="dashboard")return 75},[o,a]),b=i||a==="dashboard"&&"bottom"||void 0,v=Object.prototype.toString.call(t.strokeColor)==="[object Object]",_=vpe({success:c,strokeColor:t.strokeColor}),S=ye(`${e}-inner`,{[`${e}-circle-gradient`]:v}),w=y.createElement(mpe,{percent:gpe(t),strokeWidth:h,trailWidth:h,strokeColor:_,strokeLinecap:r,trailColor:n,prefixCls:e,gapDegree:x,gapPosition:b});return y.createElement("div",{className:S,style:g},d<=20?y.createElement($c,{title:l},y.createElement("span",null,w)):y.createElement(y.Fragment,null,w,l))},Spe=bpe;var _pe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const wpe=t=>{let e=[];return Object.keys(t).forEach(n=>{const r=parseFloat(n.replace(/%/g,""));isNaN(r)||e.push({key:r,value:t[n]})}),e=e.sort((n,r)=>n.key-r.key),e.map(n=>{let{key:r,value:i}=n;return`${i} ${r}%`}).join(", ")},Cpe=(t,e)=>{const{from:n=Wp.blue,to:r=Wp.blue,direction:i=e==="rtl"?"to left":"to right"}=t,o=_pe(t,["from","to","direction"]);if(Object.keys(o).length!==0){const s=wpe(o);return{backgroundImage:`linear-gradient(${i}, ${s})`}}return{backgroundImage:`linear-gradient(${i}, ${n}, ${r})`}},Epe=t=>{const{prefixCls:e,direction:n,percent:r,size:i,strokeWidth:o,strokeColor:s,strokeLinecap:a="round",children:l,trailColor:c=null,success:u}=t,d=s&&typeof s!="string"?Cpe(s,n):{backgroundColor:s},f=a==="square"||a==="butt"?0:void 0,h={backgroundColor:c||void 0,borderRadius:f},g=i??[-1,o||(i==="small"?6:8)],[x,b]=$6(g,"line",{strokeWidth:o}),v=Object.assign({width:`${gf(r)}%`,height:b,borderRadius:f},d),_=rx(t),S={width:`${gf(_)}%`,height:b,borderRadius:f,backgroundColor:u?.strokeColor},w={width:x<0?"100%":x,height:b};return y.createElement(y.Fragment,null,y.createElement("div",{className:`${e}-outer`,style:w},y.createElement("div",{className:`${e}-inner`,style:h},y.createElement("div",{className:`${e}-bg`,style:v}),_!==void 0?y.createElement("div",{className:`${e}-success-bg`,style:S}):null)),l)},Tpe=Epe,Mpe=t=>{const{size:e,steps:n,percent:r=0,strokeWidth:i=8,strokeColor:o,trailColor:s=null,prefixCls:a,children:l}=t,c=Math.round(n*(r/100)),d=e??[e==="small"?2:14,i],[f,h]=$6(d,"step",{steps:n,strokeWidth:i}),g=f/n,x=new Array(n);for(let b=0;b<n;b++){const v=Array.isArray(o)?o[b]:o;x[b]=y.createElement("div",{key:b,className:ye(`${a}-steps-item`,{[`${a}-steps-item-active`]:b<=c-1}),style:{backgroundColor:b<=c-1?v:s,width:g,height:h}})}return y.createElement("div",{className:`${a}-steps-outer`},x,l)},Rpe=Mpe,LI=t=>{const e=t?"100%":"-100%";return new Dn(`antProgress${t?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${e}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${e}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},Ape=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:Object.assign(Object.assign({},Vr(t)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:t.fontSize,marginInlineEnd:t.marginXS,marginBottom:t.marginXS},[`${e}-outer`]:{display:"inline-block",width:"100%"},[`&${e}-show-info`]:{[`${e}-outer`]:{marginInlineEnd:`calc(-2em - ${t.marginXS}px)`,paddingInlineEnd:`calc(2em + ${t.paddingXS}px)`}},[`${e}-inner`]:{position:"relative",display:"inline-block",width:"100%",overflow:"hidden",verticalAlign:"middle",backgroundColor:t.remainingColor,borderRadius:t.lineBorderRadius},[`${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.defaultColor}},[`${e}-success-bg, ${e}-bg`]:{position:"relative",backgroundColor:t.defaultColor,borderRadius:t.lineBorderRadius,transition:`all ${t.motionDurationSlow} ${t.motionEaseInOutCirc}`},[`${e}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:t.colorSuccess},[`${e}-text`]:{display:"inline-block",width:"2em",marginInlineStart:t.marginXS,color:t.colorText,lineHeight:1,whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:t.fontSize}},[`&${e}-status-active`]:{[`${e}-bg::before`]:{position:"absolute",inset:0,backgroundColor:t.colorBgContainer,borderRadius:t.lineBorderRadius,opacity:0,animationName:LI(),animationDuration:t.progressActiveMotionDuration,animationTimingFunction:t.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${e}-rtl${e}-status-active`]:{[`${e}-bg::before`]:{animationName:LI(!0)}},[`&${e}-status-exception`]:{[`${e}-bg`]:{backgroundColor:t.colorError},[`${e}-text`]:{color:t.colorError}},[`&${e}-status-exception ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.colorError}},[`&${e}-status-success`]:{[`${e}-bg`]:{backgroundColor:t.colorSuccess},[`${e}-text`]:{color:t.colorSuccess}},[`&${e}-status-success ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.colorSuccess}}})}},Ppe=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:{[`${e}-circle-trail`]:{stroke:t.remainingColor},[`&${e}-circle ${e}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${e}-circle ${e}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:t.circleTextColor,fontSize:t.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:`${t.fontSize/t.fontSizeSM}em`}},[`${e}-circle&-status-exception`]:{[`${e}-text`]:{color:t.colorError}},[`${e}-circle&-status-success`]:{[`${e}-text`]:{color:t.colorSuccess}}},[`${e}-inline-circle`]:{lineHeight:1,[`${e}-inner`]:{verticalAlign:"bottom"}}}},Npe=t=>{const{componentCls:e}=t;return{[e]:{[`${e}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:t.progressStepMinWidth,marginInlineEnd:t.progressStepMarginInlineEnd,backgroundColor:t.remainingColor,transition:`all ${t.motionDurationSlow}`,"&-active":{backgroundColor:t.defaultColor}}}}}},Ipe=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:{[`${e}-small&-line, ${e}-small&-line ${e}-text ${n}`]:{fontSize:t.fontSizeSM}}}},Ope=yr("Progress",t=>{const e=t.marginXXS/2,n=wn(t,{progressStepMarginInlineEnd:e,progressStepMinWidth:e,progressActiveMotionDuration:"2.4s"});return[Ape(n),Ppe(n),Npe(n),Ipe(n)]},t=>({circleTextColor:t.colorText,defaultColor:t.colorInfo,remainingColor:t.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em"}));var Lpe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Dpe=["normal","exception","active","success"],Fpe=y.forwardRef((t,e)=>{const{prefixCls:n,className:r,rootClassName:i,steps:o,strokeColor:s,percent:a=0,size:l="default",showInfo:c=!0,type:u="line",status:d,format:f,style:h}=t,g=Lpe(t,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style"]),x=y.useMemo(()=>{var $,V;const D=rx(t);return parseInt(D!==void 0?($=D??0)===null||$===void 0?void 0:$.toString():(V=a??0)===null||V===void 0?void 0:V.toString(),10)},[a,t.success,t.successPercent]),b=y.useMemo(()=>!Dpe.includes(d)&&x>=100?"success":d||"normal",[d,x]),{getPrefixCls:v,direction:_,progress:S}=y.useContext(Zt),w=v("progress",n),[M,E]=Ope(w),T=y.useMemo(()=>{if(!c)return null;const $=rx(t);let V;const D=f||(F=>`${F}%`),H=u==="line";return f||b!=="exception"&&b!=="success"?V=D(gf(a),gf($)):b==="exception"?V=H?y.createElement(v3,null):y.createElement(y3,null):b==="success"&&(V=H?y.createElement(jB,null):y.createElement(pE,null)),y.createElement("span",{className:`${w}-text`,title:typeof V=="string"?V:void 0},V)},[c,a,x,b,u,w,f]),N=Array.isArray(s)?s[0]:s,R=typeof s=="string"||Array.isArray(s)?s:void 0;let P;u==="line"?P=o?y.createElement(Rpe,Object.assign({},t,{strokeColor:R,prefixCls:w,steps:o}),T):y.createElement(Tpe,Object.assign({},t,{strokeColor:N,prefixCls:w,direction:_}),T):(u==="circle"||u==="dashboard")&&(P=y.createElement(Spe,Object.assign({},t,{strokeColor:N,prefixCls:w,progressStatus:b}),T));const L=ye(w,`${w}-status-${b}`,`${w}-${u==="dashboard"&&"circle"||o&&"steps"||u}`,{[`${w}-inline-circle`]:u==="circle"&&$6(l,"circle")[0]<=20,[`${w}-show-info`]:c,[`${w}-${l}`]:typeof l=="string",[`${w}-rtl`]:_==="rtl"},S?.className,r,i,E);return M(y.createElement("div",Object.assign({ref:e,style:Object.assign(Object.assign({},S?.style),h),className:L,role:"progressbar","aria-valuenow":x},fi(g,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),P))}),$pe=Fpe;var Upe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};const Bpe=Upe;var kpe=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:Bpe}))};const zpe=y.forwardRef(kpe);var Vpe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Hpe={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},Gpe=y.forwardRef((t,e)=>{const n=c=>{const{keyCode:u}=c;u===ot.ENTER&&c.preventDefault()},r=c=>{const{keyCode:u}=c,{onClick:d}=t;u===ot.ENTER&&d&&d()},{style:i,noStyle:o,disabled:s}=t,a=Vpe(t,["style","noStyle","disabled"]);let l={};return o||(l=Object.assign({},Hpe)),s&&(l.pointerEvents="none"),l=Object.assign(Object.assign({},l),i),y.createElement("div",Object.assign({role:"button",tabIndex:0,ref:e},a,{onKeyDown:n,onKeyUp:r,style:l}))}),DI=Gpe;var Wpe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};const jpe=Wpe;var Xpe=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:jpe}))};const qpe=y.forwardRef(Xpe);var Kpe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};const Ype=Kpe;var Zpe=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:Ype}))};const Qpe=y.forwardRef(Zpe);var Jpe=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],r=0;r<t.rangeCount;r++)n.push(t.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||n.forEach(function(i){t.addRange(i)}),e&&e.focus()}},eme=Jpe,FI={"text/plain":"Text","text/html":"Url",default:"Text"},tme="Copy to clipboard: #{key}, Enter";function nme(t){var e=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function rme(t,e){var n,r,i,o,s,a,l=!1;e||(e={}),n=e.debug||!1;try{i=eme(),o=document.createRange(),s=document.getSelection(),a=document.createElement("span"),a.textContent=t,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(u){if(u.stopPropagation(),e.format)if(u.preventDefault(),typeof u.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var d=FI[e.format]||FI.default;window.clipboardData.setData(d,t)}else u.clipboardData.clearData(),u.clipboardData.setData(e.format,t);e.onCopy&&(u.preventDefault(),e.onCopy(u.clipboardData))}),document.body.appendChild(a),o.selectNodeContents(a),s.addRange(o);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");l=!0}catch(u){n&&console.error("unable to copy using execCommand: ",u),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),l=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),r=nme("message"in e?e.message:tme),window.prompt(r,t)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(o):s.removeAllRanges()),a&&document.body.removeChild(a),i()}return l}var ime=rme;const ome=Km(ime);var sme={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"};const ame=sme;var lme=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:ame}))};const cme=y.forwardRef(lme),ume=(t,e,n,r)=>{const{titleMarginBottom:i,fontWeightStrong:o}=r;return{marginBottom:i,color:n,fontWeight:o,fontSize:t,lineHeight:e}},dme=t=>{const e=[1,2,3,4,5],n={};return e.forEach(r=>{n[`
      h${r}&,
      div&-h${r},
      div&-h${r} > textarea,
      h${r}
    `]=ume(t[`fontSizeHeading${r}`],t[`lineHeightHeading${r}`],t.colorTextHeading,t)}),n},fme=t=>{const{componentCls:e}=t;return{"a&, a":Object.assign(Object.assign({},EB(t)),{textDecoration:t.linkDecoration,"&:active, &:hover":{textDecoration:t.linkHoverDecoration},[`&[disabled], &${e}-disabled`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:t.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},hme=t=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:t.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:t.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:CJ[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:t.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),pme=t=>{const{componentCls:e,paddingSM:n}=t,r=n;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:-t.paddingSM,marginTop:-r,marginBottom:`calc(1em - ${r}px)`},[`${e}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:t.marginXS+2,insetBlockEnd:t.marginXS,color:t.colorTextDescription,fontWeight:"normal",fontSize:t.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},mme=t=>({"&-copy-success":{"\n    &,\n    &:hover,\n    &:focus":{color:t.colorSuccess}}}),gme=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-single-line":{whiteSpace:"nowrap"},"&-ellipsis-single-line":{overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),vme=t=>{const{componentCls:e,titleMarginTop:n}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.colorText,wordBreak:"break-word",lineHeight:t.lineHeight,[`&${e}-secondary`]:{color:t.colorTextDescription},[`&${e}-success`]:{color:t.colorSuccess},[`&${e}-warning`]:{color:t.colorWarning},[`&${e}-danger`]:{color:t.colorError,"a&:active, a&:focus":{color:t.colorErrorActive},"a&:hover":{color:t.colorErrorHover}},[`&${e}-disabled`]:{color:t.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},dme(t)),{[`
      & + h1${e},
      & + h2${e},
      & + h3${e},
      & + h4${e},
      & + h5${e}
      `]:{marginTop:n},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:n}}}),hme(t)),fme(t)),{[`
        ${e}-expand,
        ${e}-edit,
        ${e}-copy
      `]:Object.assign(Object.assign({},EB(t)),{marginInlineStart:t.marginXXS})}),pme(t)),mme(t)),gme()),{"&-rtl":{direction:"rtl"}})}},iV=yr("Typography",t=>[vme(t)],()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"})),yme=t=>{const{prefixCls:e,"aria-label":n,className:r,style:i,direction:o,maxLength:s,autoSize:a=!0,value:l,onSave:c,onCancel:u,onEnd:d,component:f,enterIcon:h=y.createElement(cme,null)}=t,g=y.useRef(null),x=y.useRef(!1),b=y.useRef(),[v,_]=y.useState(l);y.useEffect(()=>{_(l)},[l]),y.useEffect(()=>{if(g.current&&g.current.resizableTextArea){const{textArea:D}=g.current.resizableTextArea;D.focus();const{length:H}=D.value;D.setSelectionRange(H,H)}},[]);const S=D=>{let{target:H}=D;_(H.value.replace(/[\n\r]/g,""))},w=()=>{x.current=!0},M=()=>{x.current=!1},E=D=>{let{keyCode:H}=D;x.current||(b.current=H)},T=()=>{c(v.trim())},N=D=>{let{keyCode:H,ctrlKey:F,altKey:k,metaKey:O,shiftKey:B}=D;b.current===H&&!x.current&&!F&&!k&&!O&&!B&&(H===ot.ENTER?(T(),d?.()):H===ot.ESC&&u())},R=()=>{T()},P=f?`${e}-${f}`:"",[L,$]=iV(e),V=ye(e,`${e}-edit-content`,{[`${e}-rtl`]:o==="rtl"},r,P,$);return L(y.createElement("div",{className:V,style:i},y.createElement(Gz,{ref:g,maxLength:s,value:v,onChange:S,onKeyDown:E,onKeyUp:N,onCompositionStart:w,onCompositionEnd:M,onBlur:R,"aria-label":n,rows:1,autoSize:a}),h!==null?ji(h,{className:`${e}-edit-content-confirm`}):null))},xme=yme;var bme=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Sme=y.forwardRef((t,e)=>{const{prefixCls:n,component:r="article",className:i,rootClassName:o,setContentRef:s,children:a,direction:l,style:c}=t,u=bme(t,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:d,direction:f,typography:h}=y.useContext(Zt),g=l??f;let x=e;s&&(x=jo(e,s));const b=d("typography",n),[v,_]=iV(b),S=ye(b,h?.className,{[`${b}-rtl`]:g==="rtl"},i,o,_),w=Object.assign(Object.assign({},h?.style),c);return v(y.createElement(r,Object.assign({className:S,style:w,ref:x},u),a))}),oV=Sme;function v8(t,e){return y.useMemo(()=>{const n=!!t;return[n,Object.assign(Object.assign({},e),n&&typeof t=="object"?t:null)]},[t])}const _me=(t,e)=>{const n=y.useRef(!1);y.useEffect(()=>{n.current?t():n.current=!0},e)},wme=_me;function sV(t){const e=typeof t;return e==="string"||e==="number"}function Cme(t){let e=0;return t.forEach(n=>{sV(n)?e+=String(n).length:e+=1}),e}function y8(t,e){let n=0;const r=[];for(let i=0;i<t.length;i+=1){if(n===e)return r;const o=t[i],a=sV(o)?String(o).length:1,l=n+a;if(l>e){const c=e-n;return r.push(String(o).slice(0,c)),r}r.push(o),n=l}return t}const Eme=0,x2=1,$I=2,x8=3,b8=4,Tme=t=>{let{enabledMeasure:e,children:n,text:r,width:i,fontSize:o,rows:s,onEllipsis:a}=t;const[[l,c,u],d]=y.useState([0,0,0]),[f,h]=y.useState(0),[g,x]=y.useState(Eme),[b,v]=y.useState(0),_=y.useRef(null),S=y.useRef(null),w=y.useMemo(()=>hs(r),[r]),M=y.useMemo(()=>Cme(w),[w]),E=y.useMemo(()=>!e||g!==x8?f&&g!==b8&&e?n(y8(w,f),f<M):n(w,!1):n(y8(w,c),c<M),[e,g,n,w,c,M]);sr(()=>{e&&i&&o&&M&&(x(x2),d([0,Math.ceil(M/2),M]))},[e,i,o,r,M,s]),sr(()=>{var P;g===x2&&v(((P=_.current)===null||P===void 0?void 0:P.offsetHeight)||0)},[g]),sr(()=>{var P,L;if(b){if(g===x2){const $=((P=S.current)===null||P===void 0?void 0:P.offsetHeight)||0,V=s*b;$<=V?(x(b8),a(!1)):x($I)}else if(g===$I)if(l!==u){const $=((L=S.current)===null||L===void 0?void 0:L.offsetHeight)||0,V=s*b;let D=l,H=u;l===u-1?H=l:$<=V?D=c:H=c;const F=Math.ceil((D+H)/2);d([D,F,H])}else x(x8),h(c),a(!0)}},[g,l,u,s,b]);const T={width:i,whiteSpace:"normal",margin:0,padding:0},N=(P,L,$)=>y.createElement("span",{"aria-hidden":!0,ref:L,style:Object.assign({position:"fixed",display:"block",left:0,top:0,zIndex:-9999,visibility:"hidden",pointerEvents:"none",fontSize:Math.floor(o/2)*2},$)},P),R=(P,L)=>{const $=y8(w,P);return N(n($,!0),L,T)};return y.createElement(y.Fragment,null,E,e&&g!==x8&&g!==b8&&y.createElement(y.Fragment,null,N("lg",_,{wordBreak:"keep-all",whiteSpace:"nowrap"}),g===x2?N(n(w,!1),S,T):R(c,S)))},Mme=Tme,Rme=t=>{let{enabledEllipsis:e,isEllipsis:n,children:r,tooltipProps:i}=t;return!i?.title||!e?r:y.createElement($c,Object.assign({open:n?void 0:!1},i),r)},Ame=Rme;var Pme=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Nme(t,e){let{mark:n,code:r,underline:i,delete:o,strong:s,keyboard:a,italic:l}=t,c=e;function u(d,f){f&&(c=y.createElement(d,{},c))}return u("strong",s),u("u",i),u("del",o),u("code",r),u("mark",n),u("kbd",a),u("i",l),c}function b2(t,e,n){return t===!0||t===void 0?e:t||n&&e}function UI(t){return t===!1?[!1,!1]:Array.isArray(t)?t:[t]}const Ime="...",Ome=y.forwardRef((t,e)=>{var n,r,i;const{prefixCls:o,className:s,style:a,type:l,disabled:c,children:u,ellipsis:d,editable:f,copyable:h,component:g,title:x}=t,b=Pme(t,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:v,direction:_}=y.useContext(Zt),[S]=g3("Text"),w=y.useRef(null),M=y.useRef(null),E=v("typography",o),T=fi(b,["mark","code","delete","underline","strong","keyboard","italic"]),[N,R]=v8(f),[P,L]=ei(!1,{value:R.editing}),{triggerType:$=["icon"]}=R,V=ce=>{var Z;ce&&((Z=R.onStart)===null||Z===void 0||Z.call(R)),L(ce)};wme(()=>{var ce;P||(ce=M.current)===null||ce===void 0||ce.focus()},[P]);const D=ce=>{ce?.preventDefault(),V(!0)},H=ce=>{var Z;(Z=R.onChange)===null||Z===void 0||Z.call(R,ce),V(!1)},F=()=>{var ce;(ce=R.onCancel)===null||ce===void 0||ce.call(R),V(!1)},[k,O]=v8(h),[B,G]=y.useState(!1),W=y.useRef(null),K={};O.format&&(K.format=O.format);const X=()=>{W.current&&clearTimeout(W.current)},Y=ce=>{var Z;ce?.preventDefault(),ce?.stopPropagation(),ome(O.text||String(u)||"",K),G(!0),X(),W.current=setTimeout(()=>{G(!1)},3e3),(Z=O.onCopy)===null||Z===void 0||Z.call(O,ce)};y.useEffect(()=>X,[]);const[te,oe]=y.useState(!1),[ie,le]=y.useState(!1),[ve,me]=y.useState(!1),[we,Q]=y.useState(!1),[fe,he]=y.useState(!1),[Ee,ue]=y.useState(!0),[ke,ge]=v8(d,{expandable:!1}),j=ke&&!ve,{rows:z=1}=ge,ee=y.useMemo(()=>!j||ge.suffix!==void 0||ge.onEllipsis||ge.expandable||N||k,[j,ge,N,k]);sr(()=>{ke&&!ee&&(oe(lN("webkitLineClamp")),le(lN("textOverflow")))},[ee,ke]);const xe=y.useMemo(()=>ee?!1:z===1?ie:te,[ee,ie,te]),Ne=j&&(xe?fe:we),Ae=j&&z===1&&xe,Fe=j&&z>1&&xe,Oe=ce=>{var Z;me(!0),(Z=ge.onExpand)===null||Z===void 0||Z.call(ge,ce)},[We,ht]=y.useState(0),[Ge,Te]=y.useState(0),nt=(ce,Z)=>{let{offsetWidth:Re}=ce;var Pe;ht(Re),Te(parseInt((Pe=window.getComputedStyle)===null||Pe===void 0?void 0:Pe.call(window,Z).fontSize,10)||0)},at=ce=>{var Z;Q(ce),we!==ce&&((Z=ge.onEllipsis)===null||Z===void 0||Z.call(ge,ce))};y.useEffect(()=>{const ce=w.current;if(ke&&xe&&ce){const Z=Fe?ce.offsetHeight<ce.scrollHeight:ce.offsetWidth<ce.scrollWidth;fe!==Z&&he(Z)}},[ke,xe,u,Fe,Ee]),y.useEffect(()=>{const ce=w.current;if(typeof IntersectionObserver>"u"||!ce||!xe||!j)return;const Z=new IntersectionObserver(()=>{ue(!!ce.offsetParent)});return Z.observe(ce),()=>{Z.disconnect()}},[xe,j]);let rt={};ge.tooltip===!0?rt={title:(n=R.text)!==null&&n!==void 0?n:u}:y.isValidElement(ge.tooltip)?rt={title:ge.tooltip}:typeof ge.tooltip=="object"?rt=Object.assign({title:(r=R.text)!==null&&r!==void 0?r:u},ge.tooltip):rt={title:ge.tooltip};const st=y.useMemo(()=>{const ce=Z=>["string","number"].includes(typeof Z);if(!(!ke||xe)){if(ce(R.text))return R.text;if(ce(u))return u;if(ce(x))return x;if(ce(rt.title))return rt.title}},[ke,xe,x,rt.title,Ne]);if(P)return y.createElement(xme,{value:(i=R.text)!==null&&i!==void 0?i:typeof u=="string"?u:"",onSave:H,onCancel:F,onEnd:R.onEnd,prefixCls:E,className:s,style:a,direction:_,component:g,maxLength:R.maxLength,autoSize:R.autoSize,enterIcon:R.enterIcon});const Ze=()=>{const{expandable:ce,symbol:Z}=ge;if(!ce)return null;let Re;return Z?Re=Z:Re=S?.expand,y.createElement("a",{key:"expand",className:`${E}-expand`,onClick:Oe,"aria-label":S?.expand},Re)},re=()=>{if(!N)return;const{icon:ce,tooltip:Z}=R,Re=hs(Z)[0]||S?.edit,Pe=typeof Re=="string"?Re:"";return $.includes("icon")?y.createElement($c,{key:"edit",title:Z===!1?"":Re},y.createElement(DI,{ref:M,className:`${E}-edit`,onClick:D,"aria-label":Pe},ce||y.createElement(Qpe,{role:"button"}))):null},Ve=()=>{if(!k)return;const{tooltips:ce,icon:Z}=O,Re=UI(ce),Pe=UI(Z),Je=B?b2(Re[1],S?.copied):b2(Re[0],S?.copy),ft=B?S?.copied:S?.copy,wt=typeof Je=="string"?Je:ft;return y.createElement($c,{key:"copy",title:Je},y.createElement(DI,{className:ye(`${E}-copy`,B&&`${E}-copy-success`),onClick:Y,"aria-label":wt},B?b2(Pe[1],y.createElement(pE,null),!0):b2(Pe[0],y.createElement(qpe,null),!0)))},Qe=ce=>[ce&&Ze(),re(),Ve()],lt=ce=>[ce&&y.createElement("span",{"aria-hidden":!0,key:"ellipsis"},Ime),ge.suffix,Qe(ce)];return y.createElement(pa,{onResize:nt,disabled:!j||xe},ce=>y.createElement(Ame,{tooltipProps:rt,enabledEllipsis:j,isEllipsis:Ne},y.createElement(oV,Object.assign({className:ye({[`${E}-${l}`]:l,[`${E}-disabled`]:c,[`${E}-ellipsis`]:ke,[`${E}-single-line`]:j&&z===1,[`${E}-ellipsis-single-line`]:Ae,[`${E}-ellipsis-multiple-line`]:Fe},s),prefixCls:o,style:Object.assign(Object.assign({},a),{WebkitLineClamp:Fe?z:void 0}),component:g,ref:jo(ce,w,e),direction:_,onClick:$.includes("text")?D:void 0,"aria-label":st?.toString(),title:x},T),y.createElement(Mme,{enabledMeasure:j&&!xe,text:u,rows:z,width:We,fontSize:Ge,onEllipsis:at},(Z,Re)=>{let Pe=Z;return Z.length&&Re&&st&&(Pe=y.createElement("span",{key:"show-content","aria-hidden":!0},Pe)),Nme(t,y.createElement(y.Fragment,null,Pe,lt(Re)))}))))}),U6=Ome;var Lme=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Dme=y.forwardRef((t,e)=>{var{ellipsis:n,rel:r}=t,i=Lme(t,["ellipsis","rel"]);const o=Object.assign(Object.assign({},i),{rel:r===void 0&&i.target==="_blank"?"noopener noreferrer":r});return delete o.navigate,y.createElement(U6,Object.assign({},o,{ref:e,ellipsis:!!n,component:"a"}))}),Fme=Dme,$me=y.forwardRef((t,e)=>y.createElement(U6,Object.assign({ref:e},t,{component:"div"}))),Ume=$me;var Bme=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const kme=(t,e)=>{var{ellipsis:n}=t,r=Bme(t,["ellipsis"]);const i=y.useMemo(()=>n&&typeof n=="object"?fi(n,["expandable","rows"]):n,[n]);return y.createElement(U6,Object.assign({ref:e},r,{ellipsis:i,component:"span"}))},zme=y.forwardRef(kme);var Vme=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Hme=[1,2,3,4,5],Gme=y.forwardRef((t,e)=>{const{level:n=1}=t,r=Vme(t,["level"]);let i;return Hme.includes(n)?i=`h${n}`:i="h1",y.createElement(U6,Object.assign({ref:e},r,{component:i}))}),Wme=Gme,A3=oV;A3.Text=zme;A3.Link=Fme;A3.Title=Wme;A3.Paragraph=Ume;const BI=A3;function jme(t,e){var n="cannot ".concat(t.method," ").concat(t.action," ").concat(e.status,"'"),r=new Error(n);return r.status=e.status,r.method=t.method,r.url=t.action,r}function kI(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}function Xme(t){var e=new XMLHttpRequest;t.onProgress&&e.upload&&(e.upload.onprogress=function(o){o.total>0&&(o.percent=o.loaded/o.total*100),t.onProgress(o)});var n=new FormData;t.data&&Object.keys(t.data).forEach(function(i){var o=t.data[i];if(Array.isArray(o)){o.forEach(function(s){n.append("".concat(i,"[]"),s)});return}n.append(i,o)}),t.file instanceof Blob?n.append(t.filename,t.file,t.file.name):n.append(t.filename,t.file),e.onerror=function(o){t.onError(o)},e.onload=function(){return e.status<200||e.status>=300?t.onError(jme(t,e),kI(e)):t.onSuccess(kI(e),e)},e.open(t.method,t.action,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var r=t.headers||{};return r["X-Requested-With"]!==null&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach(function(i){r[i]!==null&&e.setRequestHeader(i,r[i])}),e.send(n),{abort:function(){e.abort()}}}var qme=+new Date,Kme=0;function S8(){return"rc-upload-".concat(qme,"-").concat(++Kme)}const _8=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=t.type||"",o=i.replace(/\/.*$/,"");return n.some(function(s){var a=s.trim();if(/^\*(\/\*)?$/.test(s))return!0;if(a.charAt(0)==="."){var l=r.toLowerCase(),c=a.toLowerCase(),u=[c];return(c===".jpg"||c===".jpeg")&&(u=[".jpg",".jpeg"]),u.some(function(d){return l.endsWith(d)})}return/\/\*$/.test(a)?o===a.replace(/\/.*$/,""):i===a?!0:/^\w+$/.test(a)?(Pi(!1,"Upload takes an invalidate 'accept' type '".concat(a,"'.Skip for check.")),!0):!1})}return!0};function Yme(t,e){var n=t.createReader(),r=[];function i(){n.readEntries(function(o){var s=Array.prototype.slice.apply(o);r=r.concat(s);var a=!s.length;a?e(r):i()})}i()}var Zme=function(e,n,r){var i=function o(s,a){s&&(s.path=a||"",s.isFile?s.file(function(l){r(l)&&(s.fullPath&&!l.webkitRelativePath&&(Object.defineProperties(l,{webkitRelativePath:{writable:!0}}),l.webkitRelativePath=s.fullPath.replace(/^\//,""),Object.defineProperties(l,{webkitRelativePath:{writable:!1}})),n([l]))}):s.isDirectory&&Yme(s,function(l){l.forEach(function(c){o(c,"".concat(a).concat(s.name,"/"))})}))};e.forEach(function(o){i(o.webkitGetAsEntry())})},Qme=["component","prefixCls","className","disabled","id","style","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave"],Jme=function(t){zl(n,t);var e=Vl(n);function n(){var r;Si(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),r.state={uid:S8()},r.reqs={},r.fileInput=void 0,r._isMounted=void 0,r.onChange=function(a){var l=r.props,c=l.accept,u=l.directory,d=a.target.files,f=St(d).filter(function(h){return!u||_8(h,c)});r.uploadFiles(f),r.reset()},r.onClick=function(a){var l=r.fileInput;if(l){var c=r.props,u=c.children,d=c.onClick;if(u&&u.type==="button"){var f=l.parentNode;f.focus(),f.querySelector("button").blur()}l.click(),d&&d(a)}},r.onKeyDown=function(a){a.key==="Enter"&&r.onClick(a)},r.onFileDrop=function(a){var l=r.props.multiple;if(a.preventDefault(),a.type!=="dragover")if(r.props.directory)Zme(Array.prototype.slice.call(a.dataTransfer.items),r.uploadFiles,function(u){return _8(u,r.props.accept)});else{var c=St(a.dataTransfer.files).filter(function(u){return _8(u,r.props.accept)});l===!1&&(c=c.slice(0,1)),r.uploadFiles(c)}},r.uploadFiles=function(a){var l=St(a),c=l.map(function(u){return u.uid=S8(),r.processFile(u,l)});Promise.all(c).then(function(u){var d=r.props.onBatchStart;d?.(u.map(function(f){var h=f.origin,g=f.parsedFile;return{file:h,parsedFile:g}})),u.filter(function(f){return f.parsedFile!==null}).forEach(function(f){r.post(f)})})},r.processFile=function(){var a=od(fo().mark(function l(c,u){var d,f,h,g,x,b,v,_,S;return fo().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(d=r.props.beforeUpload,f=c,!d){M.next=14;break}return M.prev=3,M.next=6,d(c,u);case 6:f=M.sent,M.next=12;break;case 9:M.prev=9,M.t0=M.catch(3),f=!1;case 12:if(f!==!1){M.next=14;break}return M.abrupt("return",{origin:c,parsedFile:null,action:null,data:null});case 14:if(h=r.props.action,typeof h!="function"){M.next=21;break}return M.next=18,h(c);case 18:g=M.sent,M.next=22;break;case 21:g=h;case 22:if(x=r.props.data,typeof x!="function"){M.next=29;break}return M.next=26,x(c);case 26:b=M.sent,M.next=30;break;case 29:b=x;case 30:return v=(nn(f)==="object"||typeof f=="string")&&f?f:c,v instanceof File?_=v:_=new File([v],c.name,{type:c.type}),S=_,S.uid=c.uid,M.abrupt("return",{origin:c,data:b,parsedFile:S,action:g});case 35:case"end":return M.stop()}},l,null,[[3,9]])}));return function(l,c){return a.apply(this,arguments)}}(),r.saveFileInput=function(a){r.fileInput=a},r}return _i(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(i){var o=this,s=i.data,a=i.origin,l=i.action,c=i.parsedFile;if(this._isMounted){var u=this.props,d=u.onStart,f=u.customRequest,h=u.name,g=u.headers,x=u.withCredentials,b=u.method,v=a.uid,_=f||Xme,S={action:l,filename:h,data:s,file:c,headers:g,withCredentials:x,method:b||"post",onProgress:function(M){var E=o.props.onProgress;E?.(M,c)},onSuccess:function(M,E){var T=o.props.onSuccess;T?.(M,c,E),delete o.reqs[v]},onError:function(M,E){var T=o.props.onError;T?.(M,E,c),delete o.reqs[v]}};d(a),this.reqs[v]=_(S)}}},{key:"reset",value:function(){this.setState({uid:S8()})}},{key:"abort",value:function(i){var o=this.reqs;if(i){var s=i.uid?i.uid:i;o[s]&&o[s].abort&&o[s].abort(),delete o[s]}else Object.keys(o).forEach(function(a){o[a]&&o[a].abort&&o[a].abort(),delete o[a]})}},{key:"render",value:function(){var i,o=this.props,s=o.component,a=o.prefixCls,l=o.className,c=o.disabled,u=o.id,d=o.style,f=o.multiple,h=o.accept,g=o.capture,x=o.children,b=o.directory,v=o.openFileDialogOnClick,_=o.onMouseEnter,S=o.onMouseLeave,w=ln(o,Qme),M=ye((i={},se(i,a,!0),se(i,"".concat(a,"-disabled"),c),se(i,l,l),i)),E=b?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},T=c?{}:{onClick:v?this.onClick:function(){},onKeyDown:v?this.onKeyDown:function(){},onMouseEnter:_,onMouseLeave:S,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:"0"};return ae.createElement(s,ct({},T,{className:M,role:"button",style:d}),ae.createElement("input",ct({},pm(w,{aria:!0,data:!0}),{id:u,disabled:c,type:"file",ref:this.saveFileInput,onClick:function(R){return R.stopPropagation()},key:this.state.uid,style:{display:"none"},accept:h},E,{multiple:f,onChange:this.onChange},g!=null?{capture:g}:{})),x)}}]),n}(y.Component);function w8(){}var K_=function(t){zl(n,t);var e=Vl(n);function n(){var r;Si(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),r.uploader=void 0,r.saveUploader=function(a){r.uploader=a},r}return _i(n,[{key:"abort",value:function(i){this.uploader.abort(i)}},{key:"render",value:function(){return ae.createElement(Jme,ct({},this.props,{ref:this.saveUploader}))}}]),n}(y.Component);K_.defaultProps={component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:w8,onError:w8,onSuccess:w8,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0};const e0e=t=>{const{componentCls:e,iconCls:n}=t;return{[`${e}-wrapper`]:{[`${e}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:t.colorFillAlter,border:`${t.lineWidth}px dashed ${t.colorBorder}`,borderRadius:t.borderRadiusLG,cursor:"pointer",transition:`border-color ${t.motionDurationSlow}`,[e]:{padding:`${t.padding}px 0`},[`${e}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none"},[`${e}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`&:not(${e}-disabled):hover`]:{borderColor:t.colorPrimaryHover},[`p${e}-drag-icon`]:{marginBottom:t.margin,[n]:{color:t.colorPrimary,fontSize:t.uploadThumbnailSize}},[`p${e}-text`]:{margin:`0 0 ${t.marginXXS}px`,color:t.colorTextHeading,fontSize:t.fontSizeLG},[`p${e}-hint`]:{color:t.colorTextDescription,fontSize:t.fontSize},[`&${e}-disabled`]:{cursor:"not-allowed",[`p${e}-drag-icon ${n},
            p${e}-text,
            p${e}-hint
          `]:{color:t.colorTextDisabled}}}}}},t0e=e0e,n0e=t=>{const{componentCls:e,antCls:n,iconCls:r,fontSize:i,lineHeight:o}=t,s=`${e}-list-item`,a=`${s}-actions`,l=`${s}-action`,c=Math.round(i*o);return{[`${e}-wrapper`]:{[`${e}-list`]:Object.assign(Object.assign({},Lc()),{lineHeight:t.lineHeight,[s]:{position:"relative",height:t.lineHeight*i,marginTop:t.marginXS,fontSize:i,display:"flex",alignItems:"center",transition:`background-color ${t.motionDurationSlow}`,"&:hover":{backgroundColor:t.controlItemBgHover},[`${s}-name`]:Object.assign(Object.assign({},Oc),{padding:`0 ${t.paddingXS}px`,lineHeight:o,flex:"auto",transition:`all ${t.motionDurationSlow}`}),[a]:{[l]:{opacity:0},[`${l}${n}-btn-sm`]:{height:c,border:0,lineHeight:1,"> span":{transform:"scale(1)"}},[`
              ${l}:focus-visible,
              &.picture ${l}
            `]:{opacity:1},[r]:{color:t.actionsColor,transition:`all ${t.motionDurationSlow}`},[`&:hover ${r}`]:{color:t.colorText}},[`${e}-icon ${r}`]:{color:t.colorTextDescription,fontSize:i},[`${s}-progress`]:{position:"absolute",bottom:-t.uploadProgressOffset,width:"100%",paddingInlineStart:i+t.paddingXS,fontSize:i,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${s}:hover ${l}`]:{opacity:1,color:t.colorText},[`${s}-error`]:{color:t.colorError,[`${s}-name, ${e}-icon ${r}`]:{color:t.colorError},[a]:{[`${r}, ${r}:hover`]:{color:t.colorError},[l]:{opacity:1}}},[`${e}-list-item-container`]:{transition:`opacity ${t.motionDurationSlow}, height ${t.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},r0e=n0e,zI=new Dn("uploadAnimateInlineIn",{from:{width:0,height:0,margin:0,padding:0,opacity:0}}),VI=new Dn("uploadAnimateInlineOut",{to:{width:0,height:0,margin:0,padding:0,opacity:0}}),i0e=t=>{const{componentCls:e}=t,n=`${e}-animate-inline`;return[{[`${e}-wrapper`]:{[`${n}-appear, ${n}-enter, ${n}-leave`]:{animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseInOutCirc,animationFillMode:"forwards"},[`${n}-appear, ${n}-enter`]:{animationName:zI},[`${n}-leave`]:{animationName:VI}}},{[`${e}-wrapper`]:Yre(t)},zI,VI]},o0e=i0e,s0e=t=>{const{componentCls:e,iconCls:n,uploadThumbnailSize:r,uploadProgressOffset:i}=t,o=`${e}-list`,s=`${o}-item`;return{[`${e}-wrapper`]:{[`
        ${o}${o}-picture,
        ${o}${o}-picture-card,
        ${o}${o}-picture-circle
      `]:{[s]:{position:"relative",height:r+t.lineWidth*2+t.paddingXS*2,padding:t.paddingXS,border:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusLG,"&:hover":{background:"transparent"},[`${s}-thumbnail`]:Object.assign(Object.assign({},Oc),{width:r,height:r,lineHeight:`${r+t.paddingSM}px`,textAlign:"center",flex:"none",[n]:{fontSize:t.fontSizeHeading2,color:t.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${s}-progress`]:{bottom:i,width:`calc(100% - ${t.paddingSM*2}px)`,marginTop:0,paddingInlineStart:r+t.paddingXS}},[`${s}-error`]:{borderColor:t.colorError,[`${s}-thumbnail ${n}`]:{[`svg path[fill='${l_[0]}']`]:{fill:t.colorErrorBg},[`svg path[fill='${l_.primary}']`]:{fill:t.colorError}}},[`${s}-uploading`]:{borderStyle:"dashed",[`${s}-name`]:{marginBottom:i}}},[`${o}${o}-picture-circle ${s}`]:{[`&, &::before, ${s}-thumbnail`]:{borderRadius:"50%"}}}}},a0e=t=>{const{componentCls:e,iconCls:n,fontSizeLG:r,colorTextLightSolid:i}=t,o=`${e}-list`,s=`${o}-item`,a=t.uploadPicCardSize;return{[`
      ${e}-wrapper${e}-picture-card-wrapper,
      ${e}-wrapper${e}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},Lc()),{display:"inline-block",width:"100%",[`${e}${e}-select`]:{width:a,height:a,marginInlineEnd:t.marginXS,marginBottom:t.marginXS,textAlign:"center",verticalAlign:"top",backgroundColor:t.colorFillAlter,border:`${t.lineWidth}px dashed ${t.colorBorder}`,borderRadius:t.borderRadiusLG,cursor:"pointer",transition:`border-color ${t.motionDurationSlow}`,[`> ${e}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${e}-disabled):hover`]:{borderColor:t.colorPrimary}},[`${o}${o}-picture-card, ${o}${o}-picture-circle`]:{[`${o}-item-container`]:{display:"inline-block",width:a,height:a,marginBlock:`0 ${t.marginXS}px`,marginInline:`0 ${t.marginXS}px`,verticalAlign:"top"},"&::after":{display:"none"},[s]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${t.paddingXS*2}px)`,height:`calc(100% - ${t.paddingXS*2}px)`,backgroundColor:t.colorBgMask,opacity:0,transition:`all ${t.motionDurationSlow}`,content:'" "'}},[`${s}:hover`]:{[`&::before, ${s}-actions`]:{opacity:1}},[`${s}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${t.motionDurationSlow}`,[`${n}-eye, ${n}-download, ${n}-delete`]:{zIndex:10,width:r,margin:`0 ${t.marginXXS}px`,fontSize:r,cursor:"pointer",transition:`all ${t.motionDurationSlow}`,svg:{verticalAlign:"baseline"}}},[`${s}-actions, ${s}-actions:hover`]:{[`${n}-eye, ${n}-download, ${n}-delete`]:{color:new ci(i).setAlpha(.65).toRgbString(),"&:hover":{color:i}}},[`${s}-thumbnail, ${s}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${s}-name`]:{display:"none",textAlign:"center"},[`${s}-file + ${s}-name`]:{position:"absolute",bottom:t.margin,display:"block",width:`calc(100% - ${t.paddingXS*2}px)`},[`${s}-uploading`]:{[`&${s}`]:{backgroundColor:t.colorFillAlter},[`&::before, ${n}-eye, ${n}-download, ${n}-delete`]:{display:"none"}},[`${s}-progress`]:{bottom:t.marginXL,width:`calc(100% - ${t.paddingXS*2}px)`,paddingInlineStart:0}}}),[`${e}-wrapper${e}-picture-circle-wrapper`]:{[`${e}${e}-select`]:{borderRadius:"50%"}}}},l0e=t=>{const{componentCls:e}=t;return{[`${e}-rtl`]:{direction:"rtl"}}},c0e=l0e,u0e=t=>{const{componentCls:e,colorTextDisabled:n}=t;return{[`${e}-wrapper`]:Object.assign(Object.assign({},Vr(t)),{[e]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${e}-select`]:{display:"inline-block"},[`${e}-disabled`]:{color:n,cursor:"not-allowed"}})}},d0e=yr("Upload",t=>{const{fontSizeHeading3:e,fontSize:n,lineHeight:r,lineWidth:i,controlHeightLG:o}=t,s=Math.round(n*r),a=wn(t,{uploadThumbnailSize:e*2,uploadProgressOffset:s/2+i,uploadPicCardSize:o*2.55});return[u0e(a),t0e(a),s0e(a),a0e(a),r0e(a),o0e(a),c0e(a),aE(a)]},t=>({actionsColor:t.colorTextDescription}));var f0e={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:n}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"};const h0e=f0e;var p0e=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:h0e}))};const m0e=y.forwardRef(p0e);var g0e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};const v0e=g0e;var y0e=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:v0e}))};const x0e=y.forwardRef(y0e);var b0e={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:n}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:n}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:n}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"};const S0e=b0e;var _0e=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:S0e}))};const w0e=y.forwardRef(_0e);function S2(t){return Object.assign(Object.assign({},t),{lastModified:t.lastModified,lastModifiedDate:t.lastModifiedDate,name:t.name,size:t.size,type:t.type,uid:t.uid,percent:0,originFileObj:t})}function _2(t,e){const n=St(e),r=n.findIndex(i=>{let{uid:o}=i;return o===t.uid});return r===-1?n.push(t):n[r]=t,n}function C8(t,e){const n=t.uid!==void 0?"uid":"name";return e.filter(r=>r[n]===t[n])[0]}function C0e(t,e){const n=t.uid!==void 0?"uid":"name",r=e.filter(i=>i[n]!==t[n]);return r.length===e.length?null:r}const E0e=function(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),r=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(r)||[""])[0]},aV=t=>t.indexOf("image/")===0,T0e=t=>{if(t.type&&!t.thumbUrl)return aV(t.type);const e=t.thumbUrl||t.url||"",n=E0e(e);return/^data:image\//.test(e)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(n)?!0:!(/^data:/.test(e)||n)},nu=200;function M0e(t){return new Promise(e=>{if(!t.type||!aV(t.type)){e("");return}const n=document.createElement("canvas");n.width=nu,n.height=nu,n.style.cssText=`position: fixed; left: 0; top: 0; width: ${nu}px; height: ${nu}px; z-index: 9999; display: none;`,document.body.appendChild(n);const r=n.getContext("2d"),i=new Image;if(i.onload=()=>{const{width:o,height:s}=i;let a=nu,l=nu,c=0,u=0;o>s?(l=s*(nu/o),u=-(l-a)/2):(a=o*(nu/s),c=-(a-l)/2),r.drawImage(i,c,u,a,l);const d=n.toDataURL();document.body.removeChild(n),window.URL.revokeObjectURL(i.src),e(d)},i.crossOrigin="anonymous",t.type.startsWith("image/svg+xml")){const o=new FileReader;o.onload=()=>{o.result&&(i.src=o.result)},o.readAsDataURL(t)}else if(t.type.startsWith("image/gif")){const o=new FileReader;o.onload=()=>{o.result&&e(o.result)},o.readAsDataURL(t)}else i.src=window.URL.createObjectURL(t)})}var R0e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};const A0e=R0e;var P0e=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:A0e}))};const N0e=y.forwardRef(P0e),I0e=y.forwardRef((t,e)=>{let{prefixCls:n,className:r,style:i,locale:o,listType:s,file:a,items:l,progress:c,iconRender:u,actionIconRender:d,itemRender:f,isImgUrl:h,showPreviewIcon:g,showRemoveIcon:x,showDownloadIcon:b,previewIcon:v,removeIcon:_,downloadIcon:S,onPreview:w,onDownload:M,onClose:E}=t;var T,N;const{status:R}=a,[P,L]=y.useState(R);y.useEffect(()=>{R!=="removed"&&L(R)},[R]);const[$,V]=y.useState(!1);y.useEffect(()=>{const we=setTimeout(()=>{V(!0)},300);return()=>{clearTimeout(we)}},[]);const D=u(a);let H=y.createElement("div",{className:`${n}-icon`},D);if(s==="picture"||s==="picture-card"||s==="picture-circle")if(P==="uploading"||!a.thumbUrl&&!a.url){const we=ye(`${n}-list-item-thumbnail`,{[`${n}-list-item-file`]:P!=="uploading"});H=y.createElement("div",{className:we},D)}else{const we=h?.(a)?y.createElement("img",{src:a.thumbUrl||a.url,alt:a.name,className:`${n}-list-item-image`,crossOrigin:a.crossOrigin}):D,Q=ye(`${n}-list-item-thumbnail`,{[`${n}-list-item-file`]:h&&!h(a)});H=y.createElement("a",{className:Q,onClick:fe=>w(a,fe),href:a.url||a.thumbUrl,target:"_blank",rel:"noopener noreferrer"},we)}const F=ye(`${n}-list-item`,`${n}-list-item-${P}`),k=typeof a.linkProps=="string"?JSON.parse(a.linkProps):a.linkProps,O=x?d((typeof _=="function"?_(a):_)||y.createElement(zpe,null),()=>E(a),n,o.removeFile):null,B=b&&P==="done"?d((typeof S=="function"?S(a):S)||y.createElement(N0e,null),()=>M(a),n,o.downloadFile):null,G=s!=="picture-card"&&s!=="picture-circle"&&y.createElement("span",{key:"download-delete",className:ye(`${n}-list-item-actions`,{picture:s==="picture"})},B,O),W=ye(`${n}-list-item-name`),K=a.url?[y.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:W,title:a.name},k,{href:a.url,onClick:we=>w(a,we)}),a.name),G]:[y.createElement("span",{key:"view",className:W,onClick:we=>w(a,we),title:a.name},a.name),G],X={pointerEvents:"none",opacity:.5},Y=g?y.createElement("a",{href:a.url||a.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:a.url||a.thumbUrl?void 0:X,onClick:we=>w(a,we),title:o.previewFile},typeof v=="function"?v(a):v||y.createElement(Vz,null)):null,te=(s==="picture-card"||s==="picture-circle")&&P!=="uploading"&&y.createElement("span",{className:`${n}-list-item-actions`},Y,P==="done"&&B,O),{getPrefixCls:oe}=y.useContext(Zt),ie=oe(),le=y.createElement("div",{className:F},H,K,te,$&&y.createElement(Hl,{motionName:`${ie}-fade`,visible:P==="uploading",motionDeadline:2e3},we=>{let{className:Q}=we;const fe="percent"in a?y.createElement($pe,Object.assign({},c,{type:"line",percent:a.percent,"aria-label":a["aria-label"],"aria-labelledby":a["aria-labelledby"]})):null;return y.createElement("div",{className:ye(`${n}-list-item-progress`,Q)},fe)})),ve=a.response&&typeof a.response=="string"?a.response:((T=a.error)===null||T===void 0?void 0:T.statusText)||((N=a.error)===null||N===void 0?void 0:N.message)||o.uploadError,me=P==="error"?y.createElement($c,{title:ve,getPopupContainer:we=>we.parentNode},le):le;return y.createElement("div",{className:ye(`${n}-list-item-container`,r),style:i,ref:e},f?f(me,a,l,{download:M.bind(null,a),preview:w.bind(null,a),remove:E.bind(null,a)}):me)}),O0e=I0e,L0e=(t,e)=>{const{listType:n="text",previewFile:r=M0e,onPreview:i,onDownload:o,onRemove:s,locale:a,iconRender:l,isImageUrl:c=T0e,prefixCls:u,items:d=[],showPreviewIcon:f=!0,showRemoveIcon:h=!0,showDownloadIcon:g=!1,removeIcon:x,previewIcon:b,downloadIcon:v,progress:_={size:[-1,2],showInfo:!1},appendAction:S,appendActionVisible:w=!0,itemRender:M,disabled:E}=t,T=zk(),[N,R]=y.useState(!1);y.useEffect(()=>{n!=="picture"&&n!=="picture-card"&&n!=="picture-circle"||(d||[]).forEach(X=>{typeof document>"u"||typeof window>"u"||!window.FileReader||!window.File||!(X.originFileObj instanceof File||X.originFileObj instanceof Blob)||X.thumbUrl!==void 0||(X.thumbUrl="",r&&r(X.originFileObj).then(Y=>{X.thumbUrl=Y||"",T()}))})},[n,d,r]),y.useEffect(()=>{R(!0)},[]);const P=(X,Y)=>{if(i)return Y?.preventDefault(),i(X)},L=X=>{typeof o=="function"?o(X):X.url&&window.open(X.url)},$=X=>{s?.(X)},V=X=>{if(l)return l(X,n);const Y=X.status==="uploading",te=c&&c(X)?y.createElement(w0e,null):y.createElement(m0e,null);let oe=Y?y.createElement(_v,null):y.createElement(x0e,null);return n==="picture"?oe=Y?y.createElement(_v,null):te:(n==="picture-card"||n==="picture-circle")&&(oe=Y?a.uploading:te),oe},D=(X,Y,te,oe)=>{const ie={type:"text",size:"small",title:oe,onClick:le=>{Y(),Sa(X)&&X.props.onClick&&X.props.onClick(le)},className:`${te}-list-item-action`,disabled:E};if(Sa(X)){const le=ji(X,Object.assign(Object.assign({},X.props),{onClick:()=>{}}));return y.createElement(da,Object.assign({},ie,{icon:le}))}return y.createElement(da,Object.assign({},ie),y.createElement("span",null,X))};y.useImperativeHandle(e,()=>({handlePreview:P,handleDownload:L}));const{getPrefixCls:H}=y.useContext(Zt),F=H("upload",u),k=H(),O=ye(`${F}-list`,`${F}-list-${n}`),B=St(d.map(X=>({key:X.uid,file:X})));let W={motionDeadline:2e3,motionName:`${F}-${n==="picture-card"||n==="picture-circle"?"animate-inline":"animate"}`,keys:B,motionAppear:N};const K=y.useMemo(()=>{const X=Object.assign({},ZC(k));return delete X.onAppearEnd,delete X.onEnterEnd,delete X.onLeaveEnd,X},[k]);return n!=="picture-card"&&n!=="picture-circle"&&(W=Object.assign(Object.assign({},K),W)),y.createElement("div",{className:O},y.createElement(UB,Object.assign({},W,{component:!1}),X=>{let{key:Y,file:te,className:oe,style:ie}=X;return y.createElement(O0e,{key:Y,locale:a,prefixCls:F,className:oe,style:ie,file:te,items:d,progress:_,listType:n,isImgUrl:c,showPreviewIcon:f,showRemoveIcon:h,showDownloadIcon:g,removeIcon:x,previewIcon:b,downloadIcon:v,iconRender:V,actionIconRender:D,itemRender:M,onPreview:P,onDownload:L,onClose:$})}),S&&y.createElement(Hl,Object.assign({},W,{visible:w,forceRender:!0}),X=>{let{className:Y,style:te}=X;return ji(S,oe=>({className:ye(oe.className,Y),style:Object.assign(Object.assign(Object.assign({},te),{pointerEvents:Y?"none":void 0}),oe.style)}))}))},D0e=y.forwardRef(L0e),F0e=D0e;var $0e=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Pg=`__LIST_IGNORE_${Date.now()}__`,U0e=(t,e)=>{const{fileList:n,defaultFileList:r,onRemove:i,showUploadList:o=!0,listType:s="text",onPreview:a,onDownload:l,onChange:c,onDrop:u,previewFile:d,disabled:f,locale:h,iconRender:g,isImageUrl:x,progress:b,prefixCls:v,className:_,type:S="select",children:w,style:M,itemRender:E,maxCount:T,data:N={},multiple:R=!1,action:P="",accept:L="",supportServerRender:$=!0,rootClassName:V}=t,D=y.useContext(Kf),H=f??D,[F,k]=ei(r||[],{value:n,postState:Ge=>Ge??[]}),[O,B]=y.useState("drop"),G=y.useRef(null);y.useMemo(()=>{const Ge=Date.now();(n||[]).forEach((Te,nt)=>{!Te.uid&&!Object.isFrozen(Te)&&(Te.uid=`__AUTO__${Ge}_${nt}__`)})},[n]);const W=(Ge,Te,nt)=>{let at=St(Te),rt=!1;T===1?at=at.slice(-1):T&&(rt=at.length>T,at=at.slice(0,T)),xa.flushSync(()=>{k(at)});const st={file:Ge,fileList:at};nt&&(st.event=nt),(!rt||at.some(Ze=>Ze.uid===Ge.uid))&&xa.flushSync(()=>{c?.(st)})},K=(Ge,Te)=>$0e(void 0,void 0,void 0,function*(){const{beforeUpload:nt,transformFile:at}=t;let rt=Ge;if(nt){const st=yield nt(Ge,Te);if(st===!1)return!1;if(delete Ge[Pg],st===Pg)return Object.defineProperty(Ge,Pg,{value:!0,configurable:!0}),!1;typeof st=="object"&&st&&(rt=st)}return at&&(rt=yield at(rt)),rt}),X=Ge=>{const Te=Ge.filter(rt=>!rt.file[Pg]);if(!Te.length)return;const nt=Te.map(rt=>S2(rt.file));let at=St(F);nt.forEach(rt=>{at=_2(rt,at)}),nt.forEach((rt,st)=>{let Ze=rt;if(Te[st].parsedFile)rt.status="uploading";else{const{originFileObj:re}=rt;let Ve;try{Ve=new File([re],re.name,{type:re.type})}catch{Ve=new Blob([re],{type:re.type}),Ve.name=re.name,Ve.lastModifiedDate=new Date,Ve.lastModified=new Date().getTime()}Ve.uid=rt.uid,Ze=Ve}W(Ze,at)})},Y=(Ge,Te,nt)=>{try{typeof Ge=="string"&&(Ge=JSON.parse(Ge))}catch{}if(!C8(Te,F))return;const at=S2(Te);at.status="done",at.percent=100,at.response=Ge,at.xhr=nt;const rt=_2(at,F);W(at,rt)},te=(Ge,Te)=>{if(!C8(Te,F))return;const nt=S2(Te);nt.status="uploading",nt.percent=Ge.percent;const at=_2(nt,F);W(nt,at,Ge)},oe=(Ge,Te,nt)=>{if(!C8(nt,F))return;const at=S2(nt);at.error=Ge,at.response=Te,at.status="error";const rt=_2(at,F);W(at,rt)},ie=Ge=>{let Te;Promise.resolve(typeof i=="function"?i(Ge):i).then(nt=>{var at;if(nt===!1)return;const rt=C0e(Ge,F);rt&&(Te=Object.assign(Object.assign({},Ge),{status:"removed"}),F?.forEach(st=>{const Ze=Te.uid!==void 0?"uid":"name";st[Ze]===Te[Ze]&&!Object.isFrozen(st)&&(st.status="removed")}),(at=G.current)===null||at===void 0||at.abort(Te),W(Te,rt))})},le=Ge=>{B(Ge.type),Ge.type==="drop"&&u?.(Ge)};y.useImperativeHandle(e,()=>({onBatchStart:X,onSuccess:Y,onProgress:te,onError:oe,fileList:F,upload:G.current}));const{getPrefixCls:ve,direction:me,upload:we}=y.useContext(Zt),Q=ve("upload",v),fe=Object.assign(Object.assign({onBatchStart:X,onError:oe,onProgress:te,onSuccess:Y},t),{data:N,multiple:R,action:P,accept:L,supportServerRender:$,prefixCls:Q,disabled:H,beforeUpload:K,onChange:void 0});delete fe.className,delete fe.style,(!w||H)&&delete fe.id;const[he,Ee]=d0e(Q),[ue]=g3("Upload",Rf.Upload),{showRemoveIcon:ke,showPreviewIcon:ge,showDownloadIcon:j,removeIcon:z,previewIcon:ee,downloadIcon:xe}=typeof o=="boolean"?{}:o,Ne=(Ge,Te)=>o?y.createElement(F0e,{prefixCls:Q,listType:s,items:F,previewFile:d,onPreview:a,onDownload:l,onRemove:ie,showRemoveIcon:!H&&ke,showPreviewIcon:ge,showDownloadIcon:j,removeIcon:z,previewIcon:ee,downloadIcon:xe,iconRender:g,locale:Object.assign(Object.assign({},ue),h),isImageUrl:x,progress:b,appendAction:Ge,appendActionVisible:Te,itemRender:E,disabled:H}):Ge,Ae=ye(`${Q}-wrapper`,_,V,Ee,we?.className,{[`${Q}-rtl`]:me==="rtl",[`${Q}-picture-card-wrapper`]:s==="picture-card",[`${Q}-picture-circle-wrapper`]:s==="picture-circle"}),Fe=Object.assign(Object.assign({},we?.style),M);if(S==="drag"){const Ge=ye(Ee,Q,`${Q}-drag`,{[`${Q}-drag-uploading`]:F.some(Te=>Te.status==="uploading"),[`${Q}-drag-hover`]:O==="dragover",[`${Q}-disabled`]:H,[`${Q}-rtl`]:me==="rtl"});return he(y.createElement("span",{className:Ae},y.createElement("div",{className:Ge,style:Fe,onDrop:le,onDragOver:le,onDragLeave:le},y.createElement(K_,Object.assign({},fe,{ref:G,className:`${Q}-btn`}),y.createElement("div",{className:`${Q}-drag-container`},w))),Ne()))}const Oe=ye(Q,`${Q}-select`,{[`${Q}-disabled`]:H}),ht=(Ge=>y.createElement("div",{className:Oe,style:Ge},y.createElement(K_,Object.assign({},fe,{ref:G}))))(w?void 0:{display:"none"});return he(s==="picture-card"||s==="picture-circle"?y.createElement("span",{className:Ae},Ne(ht,!!w)):y.createElement("span",{className:Ae},ht,Ne()))},B0e=y.forwardRef(U0e),lV=B0e;var k0e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const z0e=y.forwardRef((t,e)=>{var{style:n,height:r}=t,i=k0e(t,["style","height"]);return y.createElement(lV,Object.assign({ref:e},i,{type:"drag",style:Object.assign(Object.assign({},n),{height:r})}))}),V0e=z0e,zE=lV;zE.Dragger=V0e;zE.LIST_IGNORE=Pg;const H0e=zE;var Mo=function(){return Mo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Mo.apply(this,arguments)};function ix(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var G0e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},vm=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",VE=typeof window<"u"&&"HTMLElement"in window,W0e=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),B6=Object.freeze([]),ym=Object.freeze({});function j0e(t,e,n){return n===void 0&&(n=ym),t.theme!==n.theme&&t.theme||e||n.theme}var cV=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),X0e=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,q0e=/(^-|-$)/g;function HI(t){return t.replace(X0e,"-").replace(q0e,"")}var K0e=/(a)(d)/gi,GI=function(t){return String.fromCharCode(t+(t>25?39:97))};function Y_(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=GI(e%52)+n;return(GI(e%52)+n).replace(K0e,"$1-$2")}var E8,Mp=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},uV=function(t){return Mp(5381,t)};function Y0e(t){return Y_(uV(t)>>>0)}function Z0e(t){return t.displayName||t.name||"Component"}function T8(t){return typeof t=="string"&&!0}var dV=typeof Symbol=="function"&&Symbol.for,fV=dV?Symbol.for("react.memo"):60115,Q0e=dV?Symbol.for("react.forward_ref"):60112,J0e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ege={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},hV={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},tge=((E8={})[Q0e]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},E8[fV]=hV,E8);function WI(t){return("type"in(e=t)&&e.type.$$typeof)===fV?hV:"$$typeof"in t?tge[t.$$typeof]:J0e;var e}var nge=Object.defineProperty,rge=Object.getOwnPropertyNames,jI=Object.getOwnPropertySymbols,ige=Object.getOwnPropertyDescriptor,oge=Object.getPrototypeOf,XI=Object.prototype;function pV(t,e,n){if(typeof e!="string"){if(XI){var r=oge(e);r&&r!==XI&&pV(t,r,n)}var i=rge(e);jI&&(i=i.concat(jI(e)));for(var o=WI(t),s=WI(e),a=0;a<i.length;++a){var l=i[a];if(!(l in ege||n&&n[l]||s&&l in s||o&&l in o)){var c=ige(e,l);try{nge(t,l,c)}catch{}}}}return t}function Nf(t){return typeof t=="function"}function HE(t){return typeof t=="object"&&"styledComponentId"in t}function nf(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function qI(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function Pv(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Z_(t,e,n){if(n===void 0&&(n=!1),!n&&!Pv(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Z_(t[r],e[r]);else if(Pv(e))for(var r in e)t[r]=Z_(t[r],e[r]);return t}function GE(t,e){Object.defineProperty(t,"toString",{value:e})}function If(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var sge=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,o=i;e>=o;)if((o<<=1)<0)throw If(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var s=i;s<o;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(e+1),l=(s=0,n.length);s<l;s++)this.tag.insertRule(a,n[s])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var o=r;o<i;o++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),o=i+r,s=i;s<o;s++)n+="".concat(this.tag.getRule(s)).concat(`/*!sc*/
`);return n},t}(),n5=new Map,ox=new Map,M8=1,w2=function(t){if(n5.has(t))return n5.get(t);for(;ox.has(M8);)M8++;var e=M8++;return n5.set(t,e),ox.set(e,t),e},age=function(t,e){n5.set(t,e),ox.set(e,t)},lge="style[".concat(vm,"][").concat("data-styled-version",'="').concat("6.0.8",'"]'),cge=new RegExp("^".concat(vm,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),uge=function(t,e,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&t.registerName(e,r)},dge=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(`/*!sc*/
`),i=[],o=0,s=r.length;o<s;o++){var a=r[o].trim();if(a){var l=a.match(cge);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(age(u,c),uge(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function fge(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var mV=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(vm,"]")));return l[l.length-1]}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(vm,"active"),r.setAttribute("data-styled-version","6.0.8");var s=fge();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},hge=function(){function t(e){this.element=mV(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,o=r.length;i<o;i++){var s=r[i];if(s.ownerNode===n)return s}throw If(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),pge=function(){function t(e){this.element=mV(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),mge=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),KI=VE,gge={isServer:!VE,useCSSOMInjection:!W0e},gV=function(){function t(e,n,r){e===void 0&&(e=ym),n===void 0&&(n={});var i=this;this.options=Mo(Mo({},gge),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&VE&&KI&&(KI=!1,function(o){for(var s=document.querySelectorAll(lge),a=0,l=s.length;a<l;a++){var c=s[a];c&&c.getAttribute(vm)!=="active"&&(dge(o,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),GE(this,function(){return function(o){for(var s=o.getTag(),a=s.length,l="",c=function(d){var f=function(v){return ox.get(v)}(d);if(f===void 0)return"continue";var h=o.names.get(f),g=s.getGroup(d);if(h===void 0||g.length===0)return"continue";var x="".concat(vm,".g").concat(d,'[id="').concat(f,'"]'),b="";h!==void 0&&h.forEach(function(v){v.length>0&&(b+="".concat(v,","))}),l+="".concat(g).concat(x,'{content:"').concat(b,'"}').concat(`/*!sc*/
`)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return w2(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Mo(Mo({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new mge(i):r?new hge(i):new pge(i)}(this.options),new sge(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(w2(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(w2(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(w2(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),vge=/&/g,yge=/^\s*\/\/.*$/gm;function vV(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=vV(n.children,e)),n})}function xge(t){var e,n,r,i=t===void 0?ym:t,o=i.options,s=o===void 0?ym:o,a=i.plugins,l=a===void 0?B6:a,c=function(f,h,g){return g===n||g.startsWith(n)&&g.endsWith(n)&&g.replaceAll(n,"").length>0?".".concat(e):f},u=l.slice();u.push(function(f){f.type===u6&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(vge,n).replace(r,c))}),s.prefix&&u.push($Q),u.push(lB);var d=function(f,h,g,x){h===void 0&&(h=""),g===void 0&&(g=""),x===void 0&&(x="&"),e=x,n=h,r=new RegExp("\\".concat(n,"\\b"),"g");var b=f.replace(yge,""),v=sB(g||h?"".concat(g," ").concat(h," { ").concat(b," }"):b);s.namespace&&(v=vV(v,s.namespace));var _=[];return bv(v,DQ(u.concat(FQ(function(S){return _.push(S)})))),_};return d.hash=l.length?l.reduce(function(f,h){return h.name||If(15),Mp(f,h.name)},5381).toString():"",d}var bge=new gV,Q_=xge(),yV=ae.createContext({shouldForwardProp:void 0,styleSheet:bge,stylis:Q_});yV.Consumer;ae.createContext(void 0);function YI(){return y.useContext(yV)}var Sge=function(){function t(e,n){var r=this;this.inject=function(i,o){o===void 0&&(o=Q_);var s=r.name+o.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,o(r.rules,s,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,GE(this,function(){throw If(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Q_),this.name+e.hash},t}(),_ge=function(t){return t>="A"&&t<="Z"};function ZI(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;_ge(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var xV=function(t){return t==null||t===!1||t===""},bV=function(t){var e,n,r=[];for(var i in t){var o=t[i];t.hasOwnProperty(i)&&!xV(o)&&(Array.isArray(o)&&o.isCss||Nf(o)?r.push("".concat(ZI(i),":"),o,";"):Pv(o)?r.push.apply(r,ix(ix(["".concat(i," {")],bV(o),!1),["}"],!1)):r.push("".concat(ZI(i),": ").concat((e=i,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in G0e||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function vf(t,e,n,r){if(xV(t))return[];if(HE(t))return[".".concat(t.styledComponentId)];if(Nf(t)){if(!Nf(o=t)||o.prototype&&o.prototype.isReactComponent||!e)return[t];var i=t(e);return vf(i,e,n,r)}var o;return t instanceof Sge?n?(t.inject(n,r),[t.getName(r)]):[t]:Pv(t)?bV(t):Array.isArray(t)?Array.prototype.concat.apply(B6,t.map(function(s){return vf(s,e,n,r)})):[t.toString()]}function wge(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Nf(n)&&!HE(n))return!1}return!0}var Cge=uV("6.0.8"),Ege=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&wge(e),this.componentId=n,this.baseHash=Mp(Cge,n),this.baseStyle=r,gV.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=nf(i,this.staticRulesId);else{var o=qI(vf(this.rules,e,n,r)),s=Y_(Mp(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,s)){var a=r(o,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,a)}i=nf(i,s),this.staticRulesId=s}else{for(var l=Mp(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var f=qI(vf(d,e,n,r));l=Mp(l,f+u),c+=f}}if(c){var h=Y_(l>>>0);n.hasNameForId(this.componentId,h)||n.insertRules(this.componentId,h,r(c,".".concat(h),void 0,this.componentId)),i=nf(i,h)}}return i},t}(),sx=ae.createContext(void 0);sx.Consumer;function Tge(t){var e=ae.useContext(sx),n=y.useMemo(function(){return function(r,i){if(!r)throw If(14);if(Nf(r)){var o=r(i);return o}if(Array.isArray(r)||typeof r!="object")throw If(8);return i?Mo(Mo({},i),r):r}(t.theme,e)},[t.theme,e]);return t.children?ae.createElement(sx.Provider,{value:n},t.children):null}var R8={};function Mge(t,e,n){var r=HE(t),i=t,o=!T8(t),s=e.attrs,a=s===void 0?B6:s,l=e.componentId,c=l===void 0?function(S,w){var M=typeof S!="string"?"sc":HI(S);R8[M]=(R8[M]||0)+1;var E="".concat(M,"-").concat(Y0e("6.0.8"+M+R8[M]));return w?"".concat(w,"-").concat(E):E}(e.displayName,e.parentComponentId):l,u=e.displayName;u===void 0&&function(S){return T8(S)?"styled.".concat(S):"Styled(".concat(Z0e(S),")")}(t);var d=e.displayName&&e.componentId?"".concat(HI(e.displayName),"-").concat(e.componentId):e.componentId||c,f=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,h=e.shouldForwardProp;if(r&&i.shouldForwardProp){var g=i.shouldForwardProp;if(e.shouldForwardProp){var x=e.shouldForwardProp;h=function(S,w){return g(S,w)&&x(S,w)}}else h=g}var b=new Ege(n,d,r?i.componentStyle:void 0);function v(S,w){return function(M,E,T){var N=M.attrs,R=M.componentStyle,P=M.defaultProps,L=M.foldedComponentIds,$=M.styledComponentId,V=M.target,D=ae.useContext(sx),H=YI(),F=M.shouldForwardProp||H.shouldForwardProp,k=function(X,Y,te){for(var oe,ie=Mo(Mo({},Y),{className:void 0,theme:te}),le=0;le<X.length;le+=1){var ve=Nf(oe=X[le])?oe(ie):oe;for(var me in ve)ie[me]=me==="className"?nf(ie[me],ve[me]):me==="style"?Mo(Mo({},ie[me]),ve[me]):ve[me]}return Y.className&&(ie.className=nf(ie.className,Y.className)),ie}(N,E,j0e(E,D,P)||ym),O=k.as||V,B={};for(var G in k)k[G]===void 0||G[0]==="$"||G==="as"||G==="theme"||(G==="forwardedAs"?B.as=k.forwardedAs:F&&!F(G,O)||(B[G]=k[G]));var W=function(X,Y){var te=YI(),oe=X.generateAndInjectStyles(Y,te.styleSheet,te.stylis);return oe}(R,k),K=nf(L,$);return W&&(K+=" "+W),k.className&&(K+=" "+k.className),B[T8(O)&&!cV.has(O)?"class":"className"]=K,B.ref=T,y.createElement(O,B)}(_,S,w)}var _=ae.forwardRef(v);return _.attrs=f,_.componentStyle=b,_.shouldForwardProp=h,_.foldedComponentIds=r?nf(i.foldedComponentIds,i.styledComponentId):"",_.styledComponentId=d,_.target=r?i.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(S){this._foldedDefaultProps=r?function(w){for(var M=[],E=1;E<arguments.length;E++)M[E-1]=arguments[E];for(var T=0,N=M;T<N.length;T++)Z_(w,N[T],!0);return w}({},i.defaultProps,S):S}}),GE(_,function(){return".".concat(_.styledComponentId)}),o&&pV(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function QI(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var JI=function(t){return Object.assign(t,{isCss:!0})};function Rge(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Nf(t)||Pv(t)){var r=t;return JI(vf(QI(B6,ix([r],e,!0))))}var i=t;return e.length===0&&i.length===1&&typeof i[0]=="string"?vf(i):JI(vf(QI(i,e)))}function J_(t,e,n){if(n===void 0&&(n=ym),!e)throw If(1,e);var r=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t(e,n,Rge.apply(void 0,ix([i],o,!1)))};return r.attrs=function(i){return J_(t,e,Mo(Mo({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return J_(t,e,Mo(Mo({},n),i))},r}var SV=function(t){return J_(Mge,t)},Hn=SV;cV.forEach(function(t){Hn[t]=SV(t)});const Age=Hn.header`
  display: flex;
  align-items: center;
  height: 5rem;
  background-color: ${t=>t.theme.light?"#004b87":"#142c3f"};
  color: ${t=>t.theme.light?"#f5f5f5":"#9faee5"};
`,Pge=Hn.a`
  margin: 0 1rem;
  color: #eee;
  text-decoration: none;
  display: flex;
  align-items: center;
`,Nge=Hn.img`
  border: 1px solid #000000;
  filter: invert(100%);
  position: relative;
  width: 65px;
  height: 65px;
  color: #eee;
`,Ige=Hn.div`
  position: relative;
  left: 1.4rem;
  bottom: 0.2rem;
  font-family: 'Darumadrop One', cursive;
  font-size: 2.3rem;
`,Oge=Hn.nav`
  display: flex;
  position: absolute;
  right: 1rem;
  flex-direction: row;
  align-items: center;
  margin-right: 2rem;
  @media (max-width: 760px) {
    display: none;
  }
`,C2=Hn.button`
  font-family: 'Source Code Pro', monospace;
  font-size: 0.8rem;
  color: #000000;
  background-color: #f3f3f3;
  height: 2.7rem;
  width: 4.5rem;
  margin: 0 0.1rem;
  cursor: pointer;
`,E2=Hn(da)`
  color: #eeeeee;
  background-color: #00a9ce;
  height: 3.2rem;
  width: 8rem;
  margin: 0 0.2rem;
  cursor: pointer;
  @media (max-width: 760px) {
    margin-bottom: 0.2rem;
  }
`,Lge=Hn.button`
  display: inline;
  width: 2rem;
  height: 9rem;
  background: none;
  border: none;
  color: white;
  font-size: 2em;
  position: absolute;
  right: 2rem;
  cursor: pointer;
  @media (min-width: 760px) {
    display: none;
  }
`,Dge=Hn.nav`
  display: inline;
  flex-direction: column;
  align-items: center;
  width: 8.4rem;
  height: 15rem;
  position: absolute;
  top: 4.5rem;
  right: 1rem;
  margin-bottom: 1rem;
  @media (min-width: 760px) {
    display: none;
  }
`;function Fge(t){const{setCurThemeMode:e,setPage:n}=t,[r,i]=y.useState(!1);return qe.jsxs(Age,{children:[qe.jsxs(Pge,{href:"/",children:[qe.jsx(Nge,{src:"/physics.svg",alt:"Physics in the Browser Logo ",width:50,height:50}),qe.jsx(Ige,{children:"CFlowSim"})]}),qe.jsx(Lge,{onClick:()=>{i(o=>!o)},children:r?qe.jsx(qe.Fragment,{children:""}):qe.jsx(qe.Fragment,{children:""})}),qe.jsxs(Oge,{children:[qe.jsx(E2,{type:"primary",onClick:()=>{n(0)},children:"Simulations"}),qe.jsx(E2,{type:"primary",onClick:()=>{n(1)},children:"About"}),qe.jsx(C2,{onClick:()=>{e("light")},children:"Light"}),qe.jsx(C2,{onClick:()=>{e("dark")},children:"Dark"})]}),r?qe.jsxs(Dge,{children:[qe.jsx(E2,{type:"primary",onClick:()=>{n(0)},children:"Simulations"}),qe.jsx(E2,{type:"primary",onClick:()=>{n(1)},children:"About"}),qe.jsx(C2,{onClick:()=>{e("light")},children:"Light"}),qe.jsx(C2,{onClick:()=>{e("dark")},children:"Dark"})]}):qe.jsx(qe.Fragment,{})]})}var $ge={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"};const Uge=$ge;var Bge=function(e,n){return y.createElement(fr,ct({},e,{ref:n,icon:Uge}))};const kge=y.forwardRef(Bge);/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Yf="160",Vd={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Hd={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},WE=0,ax=1,jE=2,zge=3,_V=0,k6=1,qg=2,ka=3,nl=0,di=1,ko=2,Vge=2,Os=0,ma=1,Of=2,Lf=3,Df=4,z6=5,ns=100,V6=101,H6=102,lx=103,cx=104,G6=200,W6=201,j6=202,X6=203,xm=204,bm=205,q6=206,K6=207,Y6=208,Z6=209,Q6=210,wV=211,CV=212,EV=213,TV=214,J6=0,eb=1,tb=2,Ff=3,nb=4,rb=5,ib=6,ob=7,P3=0,MV=1,RV=2,Vo=0,XE=1,qE=2,KE=3,sb=4,AV=5,PV=6,ew="attached",NV="detached",ab=300,rl=301,Fl=302,ju=303,Xu=304,a0=306,$f=1e3,to=1001,Uf=1002,er=1003,qu=1004,Hge=1004,Cc=1005,Gge=1005,Fr=1006,lb=1007,Wge=1007,_a=1008,jge=1008,cs=1009,YE=1010,ZE=1011,l0=1012,c0=1013,Ns=1014,$r=1015,Za=1016,cb=1017,ub=1018,ga=1020,QE=1021,no=1023,JE=1024,eT=1025,Ls=1026,il=1027,Sm=1028,db=1029,fb=1030,hb=1031,pb=1033,yf=33776,Uu=33777,Bu=33778,ku=33779,Nv=35840,Iv=35841,Ov=35842,Lv=35843,mb=36196,_m=37492,wm=37496,Cm=37808,Em=37809,Tm=37810,Mm=37811,Rm=37812,Am=37813,Pm=37814,Nm=37815,Im=37816,Om=37817,Lm=37818,Dm=37819,Fm=37820,$m=37821,xf=36492,tw=36494,nw=36495,tT=36283,Dv=36284,Fv=36285,$v=36286,IV=2200,OV=2201,LV=2202,Uv=2300,Bv=2301,r5=2302,rf=2400,of=2401,kv=2402,gb=2500,nT=2501,Xge=0,qge=1,Kge=2,vb=3e3,Ec=3001,DV=3200,FV=3201,$l=0,rT=1,ro="",Wt="srgb",ps="srgb-linear",yb="display-p3",N3="display-p3-linear",zv="linear",Sr="srgb",Vv="rec709",Hv="p3",$V=0,xu=7680,UV=7681,BV=7682,kV=7683,zV=34055,VV=34056,HV=5386,GV=512,WV=513,jV=514,XV=515,qV=516,KV=517,YV=518,ux=519,xb=512,I3=513,bb=514,O3=515,Sb=516,_b=517,wb=518,Cb=519,Um=35044,Eb=35048,Yge=35040,Zge=35045,Qge=35049,Jge=35041,eve=35046,tve=35050,nve=35042,rve="100",rw="300 es",dx=1035,fa=2e3,Ku=2001;class Ta{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}const bo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let eO=1234567;const bf=Math.PI/180,Bm=180/Math.PI;function Ds(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(bo[t&255]+bo[t>>8&255]+bo[t>>16&255]+bo[t>>24&255]+"-"+bo[e&255]+bo[e>>8&255]+"-"+bo[e>>16&15|64]+bo[e>>24&255]+"-"+bo[n&63|128]+bo[n>>8&255]+"-"+bo[n>>16&255]+bo[n>>24&255]+bo[r&255]+bo[r>>8&255]+bo[r>>16&255]+bo[r>>24&255]).toLowerCase()}function Kr(t,e,n){return Math.max(e,Math.min(n,t))}function iT(t,e){return(t%e+e)%e}function ive(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function ove(t,e,n){return t!==e?(n-t)/(e-t):0}function Kg(t,e,n){return(1-n)*t+n*e}function sve(t,e,n,r){return Kg(t,e,1-Math.exp(-n*r))}function ave(t,e=1){return e-Math.abs(iT(t,e*2)-e)}function lve(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function cve(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function uve(t,e){return t+Math.floor(Math.random()*(e-t+1))}function dve(t,e){return t+Math.random()*(e-t)}function fve(t){return t*(.5-Math.random())}function hve(t){t!==void 0&&(eO=t);let e=eO+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function pve(t){return t*bf}function mve(t){return t*Bm}function iw(t){return(t&t-1)===0&&t!==0}function gve(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function fx(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function vve(t,e,n,r,i){const o=Math.cos,s=Math.sin,a=o(n/2),l=s(n/2),c=o((e+r)/2),u=s((e+r)/2),d=o((e-r)/2),f=s((e-r)/2),h=o((r-e)/2),g=s((r-e)/2);switch(i){case"XYX":t.set(a*u,l*d,l*f,a*c);break;case"YZY":t.set(l*f,a*u,l*d,a*c);break;case"ZXZ":t.set(l*d,l*f,a*u,a*c);break;case"XZX":t.set(a*u,l*g,l*h,a*c);break;case"YXY":t.set(l*h,a*u,l*g,a*c);break;case"ZYZ":t.set(l*g,l*h,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function rs(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Pn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const oT={DEG2RAD:bf,RAD2DEG:Bm,generateUUID:Ds,clamp:Kr,euclideanModulo:iT,mapLinear:ive,inverseLerp:ove,lerp:Kg,damp:sve,pingpong:ave,smoothstep:lve,smootherstep:cve,randInt:uve,randFloat:dve,randFloatSpread:fve,seededRandom:hve,degToRad:pve,radToDeg:mve,isPowerOfTwo:iw,ceilPowerOfTwo:gve,floorPowerOfTwo:fx,setQuaternionFromProperEuler:vve,normalize:Pn,denormalize:rs};class Xe{constructor(e=0,n=0){Xe.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Kr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Cn{constructor(e,n,r,i,o,s,a,l,c){Cn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,a,l,c)}set(e,n,r,i,o,s,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=o,u[5]=l,u[6]=r,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],h=r[5],g=r[8],x=i[0],b=i[3],v=i[6],_=i[1],S=i[4],w=i[7],M=i[2],E=i[5],T=i[8];return o[0]=s*x+a*_+l*M,o[3]=s*b+a*S+l*E,o[6]=s*v+a*w+l*T,o[1]=c*x+u*_+d*M,o[4]=c*b+u*S+d*E,o[7]=c*v+u*w+d*T,o[2]=f*x+h*_+g*M,o[5]=f*b+h*S+g*E,o[8]=f*v+h*w+g*T,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*s*u-n*a*c-r*o*u+r*a*l+i*o*c-i*s*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*s-a*c,f=a*l-u*o,h=c*o-s*l,g=n*d+r*f+i*h;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/g;return e[0]=d*x,e[1]=(i*c-u*r)*x,e[2]=(a*r-i*s)*x,e[3]=f*x,e[4]=(u*n-i*l)*x,e[5]=(i*o-a*n)*x,e[6]=h*x,e[7]=(r*l-c*n)*x,e[8]=(s*n-r*o)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,s,a){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*s+c*a)+s+e,-i*c,i*l,-i*(-c*s+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(A8.makeScale(e,n)),this}rotate(e){return this.premultiply(A8.makeRotation(-e)),this}translate(e,n){return this.premultiply(A8.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const A8=new Cn;function ZV(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const yve={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Rp(t,e){return new yve[t](e)}function Gv(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function sT(){const t=Gv("canvas");return t.style.display="block",t}const tO={};function Yg(t){t in tO||(tO[t]=!0,console.warn(t))}const nO=new Cn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),rO=new Cn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),T2={[ps]:{transfer:zv,primaries:Vv,toReference:t=>t,fromReference:t=>t},[Wt]:{transfer:Sr,primaries:Vv,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[N3]:{transfer:zv,primaries:Hv,toReference:t=>t.applyMatrix3(rO),fromReference:t=>t.applyMatrix3(nO)},[yb]:{transfer:Sr,primaries:Hv,toReference:t=>t.convertSRGBToLinear().applyMatrix3(rO),fromReference:t=>t.applyMatrix3(nO).convertLinearToSRGB()}},xve=new Set([ps,N3]),lr={enabled:!0,_workingColorSpace:ps,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!xve.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=T2[e].toReference,i=T2[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return T2[t].primaries},getTransfer:function(t){return t===ro?zv:T2[t].transfer}};function Kp(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function P8(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Dh;class aT{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Dh===void 0&&(Dh=Gv("canvas")),Dh.width=e.width,Dh.height=e.height;const r=Dh.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Dh}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Gv("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=Kp(o[s]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Kp(n[r]/255)*255):n[r]=Kp(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let bve=0;class sf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:bve++}),this.uuid=Ds(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)i[s].isDataTexture?o.push(N8(i[s].image)):o.push(N8(i[s]))}else o=N8(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function N8(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?aT.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Sve=0;class Hr extends Ta{constructor(e=Hr.DEFAULT_IMAGE,n=Hr.DEFAULT_MAPPING,r=to,i=to,o=Fr,s=_a,a=no,l=cs,c=Hr.DEFAULT_ANISOTROPY,u=ro){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Sve++}),this.uuid=Ds(),this.name="",this.source=new sf(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=s,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Xe(0,0),this.repeat=new Xe(1,1),this.center=new Xe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Cn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(Yg("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===Ec?Wt:ro),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ab)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case $f:e.x=e.x-Math.floor(e.x);break;case to:e.x=e.x<0?0:1;break;case Uf:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case $f:e.y=e.y-Math.floor(e.y);break;case to:e.y=e.y<0?0:1;break;case Uf:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Yg("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Wt?Ec:vb}set encoding(e){Yg("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Ec?Wt:ro}}Hr.DEFAULT_IMAGE=null;Hr.DEFAULT_MAPPING=ab;Hr.DEFAULT_ANISOTROPY=1;class En{constructor(e=0,n=0,r=0,i=1){En.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*n+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*n+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*n+s[7]*r+s[11]*i+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],g=l[9],x=l[2],b=l[6],v=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-x)<.01&&Math.abs(g-b)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+x)<.1&&Math.abs(g+b)<.1&&Math.abs(c+h+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const S=(c+1)/2,w=(h+1)/2,M=(v+1)/2,E=(u+f)/4,T=(d+x)/4,N=(g+b)/4;return S>w&&S>M?S<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(S),i=E/r,o=T/r):w>M?w<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(w),r=E/i,o=N/i):M<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(M),r=T/o,i=N/o),this.set(r,i,o,n),this}let _=Math.sqrt((b-g)*(b-g)+(d-x)*(d-x)+(f-u)*(f-u));return Math.abs(_)<.001&&(_=1),this.x=(b-g)/_,this.y=(d-x)/_,this.z=(f-u)/_,this.w=Math.acos((c+h+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class km extends Ta{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new En(0,0,e,n),this.scissorTest=!1,this.viewport=new En(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(Yg("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Ec?Wt:ro),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Fr,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new Hr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new sf(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ol extends km{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class L3 extends Hr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=er,this.minFilter=er,this.wrapR=to,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class _ve extends ol{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new L3(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class lT extends Hr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=er,this.minFilter=er,this.wrapR=to,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class wve extends ol{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new lT(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Cve extends ol{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const o=this.texture;this.texture=[];for(let s=0;s<r;s++)this.texture[s]=o.clone(),this.texture[s].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.texture.length;i<o;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class Ao{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,s,a){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const f=o[s+0],h=o[s+1],g=o[s+2],x=o[s+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(a===1){e[n+0]=f,e[n+1]=h,e[n+2]=g,e[n+3]=x;return}if(d!==x||l!==f||c!==h||u!==g){let b=1-a;const v=l*f+c*h+u*g+d*x,_=v>=0?1:-1,S=1-v*v;if(S>Number.EPSILON){const M=Math.sqrt(S),E=Math.atan2(M,v*_);b=Math.sin(b*E)/M,a=Math.sin(a*E)/M}const w=a*_;if(l=l*b+f*w,c=c*b+h*w,u=u*b+g*w,d=d*b+x*w,b===1-a){const M=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=M,c*=M,u*=M,d*=M}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,o,s){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=o[s],f=o[s+1],h=o[s+2],g=o[s+3];return e[n]=a*g+u*d+l*h-c*f,e[n+1]=l*g+u*f+c*d-a*h,e[n+2]=c*g+u*h+a*f-l*d,e[n+3]=u*g-a*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),d=a(o/2),f=l(r/2),h=l(i/2),g=l(o/2);switch(s){case"XYZ":this._x=f*u*d+c*h*g,this._y=c*h*d-f*u*g,this._z=c*u*g+f*h*d,this._w=c*u*d-f*h*g;break;case"YXZ":this._x=f*u*d+c*h*g,this._y=c*h*d-f*u*g,this._z=c*u*g-f*h*d,this._w=c*u*d+f*h*g;break;case"ZXY":this._x=f*u*d-c*h*g,this._y=c*h*d+f*u*g,this._z=c*u*g+f*h*d,this._w=c*u*d-f*h*g;break;case"ZYX":this._x=f*u*d-c*h*g,this._y=c*h*d+f*u*g,this._z=c*u*g-f*h*d,this._w=c*u*d+f*h*g;break;case"YZX":this._x=f*u*d+c*h*g,this._y=c*h*d+f*u*g,this._z=c*u*g-f*h*d,this._w=c*u*d-f*h*g;break;case"XZY":this._x=f*u*d-c*h*g,this._y=c*h*d-f*u*g,this._z=c*u*g+f*h*d,this._w=c*u*d+f*h*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],s=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=r+a+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(o-c)*h,this._z=(s-i)*h}else if(r>a&&r>d){const h=2*Math.sqrt(1+r-a-d);this._w=(u-l)/h,this._x=.25*h,this._y=(i+s)/h,this._z=(o+c)/h}else if(a>d){const h=2*Math.sqrt(1+a-r-d);this._w=(o-c)/h,this._x=(i+s)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-r-a);this._w=(s-i)/h,this._x=(o+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Kr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,s=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+s*a+i*c-o*l,this._y=i*u+s*l+o*a-r*c,this._z=o*u+s*c+r*l-i*a,this._w=s*u-r*a-i*l-o*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,s=this._w;let a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;const l=1-a*a;if(l<=Number.EPSILON){const h=1-n;return this._w=h*s+n*this._w,this._x=h*r+n*this._x,this._y=h*i+n*this._y,this._z=h*o+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=s*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=o*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(o),r*Math.cos(o),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class J{constructor(e=0,n=0,r=0){J.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(iO.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(iO.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,l=e.w,c=2*(s*i-a*r),u=2*(a*n-o*i),d=2*(o*r-s*n);return this.x=n+l*c+s*d-a*u,this.y=r+l*u+a*c-o*d,this.z=i+l*d+o*u-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,s=n.x,a=n.y,l=n.z;return this.x=i*l-o*a,this.y=o*s-r*l,this.z=r*a-i*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return I8.copy(this).projectOnVector(e),this.sub(I8)}reflect(e){return this.sub(I8.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Kr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const I8=new J,iO=new Ao;class Ho{constructor(e=new J(1/0,1/0,1/0),n=new J(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Oa.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Oa.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Oa.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let s=0,a=o.count;s<a;s++)e.isMesh===!0?e.getVertexPosition(s,Oa):Oa.fromBufferAttribute(o,s),Oa.applyMatrix4(e.matrixWorld),this.expandByPoint(Oa);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),M2.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),M2.copy(r.boundingBox)),M2.applyMatrix4(e.matrixWorld),this.union(M2)}const i=e.children;for(let o=0,s=i.length;o<s;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Oa),Oa.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ig),R2.subVectors(this.max,ig),Fh.subVectors(e.a,ig),$h.subVectors(e.b,ig),Uh.subVectors(e.c,ig),ru.subVectors($h,Fh),iu.subVectors(Uh,$h),Cd.subVectors(Fh,Uh);let n=[0,-ru.z,ru.y,0,-iu.z,iu.y,0,-Cd.z,Cd.y,ru.z,0,-ru.x,iu.z,0,-iu.x,Cd.z,0,-Cd.x,-ru.y,ru.x,0,-iu.y,iu.x,0,-Cd.y,Cd.x,0];return!O8(n,Fh,$h,Uh,R2)||(n=[1,0,0,0,1,0,0,0,1],!O8(n,Fh,$h,Uh,R2))?!1:(A2.crossVectors(ru,iu),n=[A2.x,A2.y,A2.z],O8(n,Fh,$h,Uh,R2))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Oa).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Oa).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ic[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ic[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ic[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ic[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ic[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ic[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ic[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ic[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ic),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ic=[new J,new J,new J,new J,new J,new J,new J,new J],Oa=new J,M2=new Ho,Fh=new J,$h=new J,Uh=new J,ru=new J,iu=new J,Cd=new J,ig=new J,R2=new J,A2=new J,Ed=new J;function O8(t,e,n,r,i){for(let o=0,s=t.length-3;o<=s;o+=3){Ed.fromArray(t,o);const a=i.x*Math.abs(Ed.x)+i.y*Math.abs(Ed.y)+i.z*Math.abs(Ed.z),l=e.dot(Ed),c=n.dot(Ed),u=r.dot(Ed);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const Eve=new Ho,og=new J,L8=new J;class Po{constructor(e=new J,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Eve.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;og.subVectors(e,this.center);const n=og.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(og,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(L8.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(og.copy(e.center).add(L8)),this.expandByPoint(og.copy(e.center).sub(L8))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const oc=new J,D8=new J,P2=new J,ou=new J,F8=new J,N2=new J,$8=new J;class Zf{constructor(e=new J,n=new J(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,oc)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=oc.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(oc.copy(this.origin).addScaledVector(this.direction,n),oc.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){D8.copy(e).add(n).multiplyScalar(.5),P2.copy(n).sub(e).normalize(),ou.copy(this.origin).sub(D8);const o=e.distanceTo(n)*.5,s=-this.direction.dot(P2),a=ou.dot(this.direction),l=-ou.dot(P2),c=ou.lengthSq(),u=Math.abs(1-s*s);let d,f,h,g;if(u>0)if(d=s*l-a,f=s*a-l,g=o*u,d>=0)if(f>=-g)if(f<=g){const x=1/u;d*=x,f*=x,h=d*(d+s*f+2*a)+f*(s*d+f+2*l)+c}else f=o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+c;else f=-o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+c;else f<=-g?(d=Math.max(0,-(-s*o+a)),f=d>0?-o:Math.min(Math.max(-o,-l),o),h=-d*d+f*(f+2*l)+c):f<=g?(d=0,f=Math.min(Math.max(-o,-l),o),h=f*(f+2*l)+c):(d=Math.max(0,-(s*o+a)),f=d>0?o:Math.min(Math.max(-o,-l),o),h=-d*d+f*(f+2*l)+c);else f=s>0?-o:o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(D8).addScaledVector(P2,f),h}intersectSphere(e,n){oc.subVectors(e.center,this.origin);const r=oc.dot(this.direction),i=oc.dot(oc)-r*r,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),a=r-s,l=r+s;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,s,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(o=(e.min.y-f.y)*u,s=(e.max.y-f.y)*u):(o=(e.max.y-f.y)*u,s=(e.min.y-f.y)*u),r>s||o>i||((o>r||isNaN(r))&&(r=o),(s<i||isNaN(i))&&(i=s),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,oc)!==null}intersectTriangle(e,n,r,i,o){F8.subVectors(n,e),N2.subVectors(r,e),$8.crossVectors(F8,N2);let s=this.direction.dot($8),a;if(s>0){if(i)return null;a=1}else if(s<0)a=-1,s=-s;else return null;ou.subVectors(this.origin,e);const l=a*this.direction.dot(N2.crossVectors(ou,N2));if(l<0)return null;const c=a*this.direction.dot(F8.cross(ou));if(c<0||l+c>s)return null;const u=-a*ou.dot($8);return u<0?null:this.at(u/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class cn{constructor(e,n,r,i,o,s,a,l,c,u,d,f,h,g,x,b){cn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,a,l,c,u,d,f,h,g,x,b)}set(e,n,r,i,o,s,a,l,c,u,d,f,h,g,x,b){const v=this.elements;return v[0]=e,v[4]=n,v[8]=r,v[12]=i,v[1]=o,v[5]=s,v[9]=a,v[13]=l,v[2]=c,v[6]=u,v[10]=d,v[14]=f,v[3]=h,v[7]=g,v[11]=x,v[15]=b,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new cn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Bh.setFromMatrixColumn(e,0).length(),o=1/Bh.setFromMatrixColumn(e,1).length(),s=1/Bh.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(o),d=Math.sin(o);if(e.order==="XYZ"){const f=s*u,h=s*d,g=a*u,x=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=h+g*c,n[5]=f-x*c,n[9]=-a*l,n[2]=x-f*c,n[6]=g+h*c,n[10]=s*l}else if(e.order==="YXZ"){const f=l*u,h=l*d,g=c*u,x=c*d;n[0]=f+x*a,n[4]=g*a-h,n[8]=s*c,n[1]=s*d,n[5]=s*u,n[9]=-a,n[2]=h*a-g,n[6]=x+f*a,n[10]=s*l}else if(e.order==="ZXY"){const f=l*u,h=l*d,g=c*u,x=c*d;n[0]=f-x*a,n[4]=-s*d,n[8]=g+h*a,n[1]=h+g*a,n[5]=s*u,n[9]=x-f*a,n[2]=-s*c,n[6]=a,n[10]=s*l}else if(e.order==="ZYX"){const f=s*u,h=s*d,g=a*u,x=a*d;n[0]=l*u,n[4]=g*c-h,n[8]=f*c+x,n[1]=l*d,n[5]=x*c+f,n[9]=h*c-g,n[2]=-c,n[6]=a*l,n[10]=s*l}else if(e.order==="YZX"){const f=s*l,h=s*c,g=a*l,x=a*c;n[0]=l*u,n[4]=x-f*d,n[8]=g*d+h,n[1]=d,n[5]=s*u,n[9]=-a*u,n[2]=-c*u,n[6]=h*d+g,n[10]=f-x*d}else if(e.order==="XZY"){const f=s*l,h=s*c,g=a*l,x=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+x,n[5]=s*u,n[9]=h*d-g,n[2]=g*d-h,n[6]=a*u,n[10]=x*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Tve,e,Mve)}lookAt(e,n,r){const i=this.elements;return ws.subVectors(e,n),ws.lengthSq()===0&&(ws.z=1),ws.normalize(),su.crossVectors(r,ws),su.lengthSq()===0&&(Math.abs(r.z)===1?ws.x+=1e-4:ws.z+=1e-4,ws.normalize(),su.crossVectors(r,ws)),su.normalize(),I2.crossVectors(ws,su),i[0]=su.x,i[4]=I2.x,i[8]=ws.x,i[1]=su.y,i[5]=I2.y,i[9]=ws.y,i[2]=su.z,i[6]=I2.z,i[10]=ws.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],h=r[13],g=r[2],x=r[6],b=r[10],v=r[14],_=r[3],S=r[7],w=r[11],M=r[15],E=i[0],T=i[4],N=i[8],R=i[12],P=i[1],L=i[5],$=i[9],V=i[13],D=i[2],H=i[6],F=i[10],k=i[14],O=i[3],B=i[7],G=i[11],W=i[15];return o[0]=s*E+a*P+l*D+c*O,o[4]=s*T+a*L+l*H+c*B,o[8]=s*N+a*$+l*F+c*G,o[12]=s*R+a*V+l*k+c*W,o[1]=u*E+d*P+f*D+h*O,o[5]=u*T+d*L+f*H+h*B,o[9]=u*N+d*$+f*F+h*G,o[13]=u*R+d*V+f*k+h*W,o[2]=g*E+x*P+b*D+v*O,o[6]=g*T+x*L+b*H+v*B,o[10]=g*N+x*$+b*F+v*G,o[14]=g*R+x*V+b*k+v*W,o[3]=_*E+S*P+w*D+M*O,o[7]=_*T+S*L+w*H+M*B,o[11]=_*N+S*$+w*F+M*G,o[15]=_*R+S*V+w*k+M*W,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14],g=e[3],x=e[7],b=e[11],v=e[15];return g*(+o*l*d-i*c*d-o*a*f+r*c*f+i*a*h-r*l*h)+x*(+n*l*h-n*c*f+o*s*f-i*s*h+i*c*u-o*l*u)+b*(+n*c*d-n*a*h-o*s*d+r*s*h+o*a*u-r*c*u)+v*(-i*a*u-n*l*d+n*a*f+i*s*d-r*s*f+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],g=e[12],x=e[13],b=e[14],v=e[15],_=d*b*c-x*f*c+x*l*h-a*b*h-d*l*v+a*f*v,S=g*f*c-u*b*c-g*l*h+s*b*h+u*l*v-s*f*v,w=u*x*c-g*d*c+g*a*h-s*x*h-u*a*v+s*d*v,M=g*d*l-u*x*l-g*a*f+s*x*f+u*a*b-s*d*b,E=n*_+r*S+i*w+o*M;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/E;return e[0]=_*T,e[1]=(x*f*o-d*b*o-x*i*h+r*b*h+d*i*v-r*f*v)*T,e[2]=(a*b*o-x*l*o+x*i*c-r*b*c-a*i*v+r*l*v)*T,e[3]=(d*l*o-a*f*o-d*i*c+r*f*c+a*i*h-r*l*h)*T,e[4]=S*T,e[5]=(u*b*o-g*f*o+g*i*h-n*b*h-u*i*v+n*f*v)*T,e[6]=(g*l*o-s*b*o-g*i*c+n*b*c+s*i*v-n*l*v)*T,e[7]=(s*f*o-u*l*o+u*i*c-n*f*c-s*i*h+n*l*h)*T,e[8]=w*T,e[9]=(g*d*o-u*x*o-g*r*h+n*x*h+u*r*v-n*d*v)*T,e[10]=(s*x*o-g*a*o+g*r*c-n*x*c-s*r*v+n*a*v)*T,e[11]=(u*a*o-s*d*o-u*r*c+n*d*c+s*r*h-n*a*h)*T,e[12]=M*T,e[13]=(u*x*i-g*d*i+g*r*f-n*x*f-u*r*b+n*d*b)*T,e[14]=(g*a*i-s*x*i-g*r*l+n*x*l+s*r*b-n*a*b)*T,e[15]=(s*d*i-u*a*i+u*r*l-n*d*l-s*r*f+n*a*f)*T,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,s=e.x,a=e.y,l=e.z,c=o*s,u=o*a;return this.set(c*s+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*s,0,c*l-i*a,u*l+i*s,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,s=n._y,a=n._z,l=n._w,c=o+o,u=s+s,d=a+a,f=o*c,h=o*u,g=o*d,x=s*u,b=s*d,v=a*d,_=l*c,S=l*u,w=l*d,M=r.x,E=r.y,T=r.z;return i[0]=(1-(x+v))*M,i[1]=(h+w)*M,i[2]=(g-S)*M,i[3]=0,i[4]=(h-w)*E,i[5]=(1-(f+v))*E,i[6]=(b+_)*E,i[7]=0,i[8]=(g+S)*T,i[9]=(b-_)*T,i[10]=(1-(f+x))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=Bh.set(i[0],i[1],i[2]).length();const s=Bh.set(i[4],i[5],i[6]).length(),a=Bh.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],La.copy(this);const c=1/o,u=1/s,d=1/a;return La.elements[0]*=c,La.elements[1]*=c,La.elements[2]*=c,La.elements[4]*=u,La.elements[5]*=u,La.elements[6]*=u,La.elements[8]*=d,La.elements[9]*=d,La.elements[10]*=d,n.setFromRotationMatrix(La),r.x=o,r.y=s,r.z=a,this}makePerspective(e,n,r,i,o,s,a=fa){const l=this.elements,c=2*o/(n-e),u=2*o/(r-i),d=(n+e)/(n-e),f=(r+i)/(r-i);let h,g;if(a===fa)h=-(s+o)/(s-o),g=-2*s*o/(s-o);else if(a===Ku)h=-s/(s-o),g=-s*o/(s-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,o,s,a=fa){const l=this.elements,c=1/(n-e),u=1/(r-i),d=1/(s-o),f=(n+e)*c,h=(r+i)*u;let g,x;if(a===fa)g=(s+o)*d,x=-2*d;else if(a===Ku)g=o*d,x=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=x,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Bh=new J,La=new cn,Tve=new J(0,0,0),Mve=new J(1,1,1),su=new J,I2=new J,ws=new J,oO=new cn,sO=new Ao;class D3{constructor(e=0,n=0,r=0,i=D3.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],s=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(Kr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Kr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(Kr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Kr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(Kr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-Kr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return oO.makeRotationFromQuaternion(e),this.setFromRotationMatrix(oO,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return sO.setFromEuler(this),this.setFromQuaternion(sO,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}D3.DEFAULT_ORDER="XYZ";class Sf{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Rve=0;const aO=new J,kh=new Ao,sc=new cn,O2=new J,sg=new J,Ave=new J,Pve=new Ao,lO=new J(1,0,0),cO=new J(0,1,0),uO=new J(0,0,1),Nve={type:"added"},Ive={type:"removed"};class tr extends Ta{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Rve++}),this.uuid=Ds(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=tr.DEFAULT_UP.clone();const e=new J,n=new D3,r=new Ao,i=new J(1,1,1);function o(){r.setFromEuler(n,!1)}function s(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new cn},normalMatrix:{value:new Cn}}),this.matrix=new cn,this.matrixWorld=new cn,this.matrixAutoUpdate=tr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=tr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Sf,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return kh.setFromAxisAngle(e,n),this.quaternion.multiply(kh),this}rotateOnWorldAxis(e,n){return kh.setFromAxisAngle(e,n),this.quaternion.premultiply(kh),this}rotateX(e){return this.rotateOnAxis(lO,e)}rotateY(e){return this.rotateOnAxis(cO,e)}rotateZ(e){return this.rotateOnAxis(uO,e)}translateOnAxis(e,n){return aO.copy(e).applyQuaternion(this.quaternion),this.position.add(aO.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(lO,e)}translateY(e){return this.translateOnAxis(cO,e)}translateZ(e){return this.translateOnAxis(uO,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(sc.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?O2.copy(e):O2.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),sg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?sc.lookAt(sg,O2,this.up):sc.lookAt(O2,sg,this.up),this.quaternion.setFromRotationMatrix(sc),i&&(sc.extractRotation(i.matrixWorld),kh.setFromRotationMatrix(sc),this.quaternion.premultiply(kh.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Nve)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Ive)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),sc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),sc.multiply(e.parent.matrixWorld)),e.applyMatrix4(sc),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sg,e,Ave),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sg,Pve,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const o=n[r];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let o=0,s=i.length;o<s;o++){const a=i[o];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];o(e.shapes,d)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(o(e.materials,this.material[l]));i.material=a}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(o(e.animations,l))}}if(n){const a=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),d=s(e.shapes),f=s(e.skeletons),h=s(e.animations),g=s(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),h.length>0&&(r.animations=h),g.length>0&&(r.nodes=g)}return r.object=i,r;function s(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}tr.DEFAULT_UP=new J(0,1,0);tr.DEFAULT_MATRIX_AUTO_UPDATE=!0;tr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Da=new J,ac=new J,U8=new J,lc=new J,zh=new J,Vh=new J,dO=new J,B8=new J,k8=new J,z8=new J;let L2=!1;class ts{constructor(e=new J,n=new J,r=new J){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Da.subVectors(e,n),i.cross(Da);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){Da.subVectors(i,n),ac.subVectors(r,n),U8.subVectors(e,n);const s=Da.dot(Da),a=Da.dot(ac),l=Da.dot(U8),c=ac.dot(ac),u=ac.dot(U8),d=s*c-a*a;if(d===0)return o.set(0,0,0),null;const f=1/d,h=(c*l-a*u)*f,g=(s*u-a*l)*f;return o.set(1-h-g,g,h)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,lc)===null?!1:lc.x>=0&&lc.y>=0&&lc.x+lc.y<=1}static getUV(e,n,r,i,o,s,a,l){return L2===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),L2=!0),this.getInterpolation(e,n,r,i,o,s,a,l)}static getInterpolation(e,n,r,i,o,s,a,l){return this.getBarycoord(e,n,r,i,lc)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,lc.x),l.addScaledVector(s,lc.y),l.addScaledVector(a,lc.z),l)}static isFrontFacing(e,n,r,i){return Da.subVectors(r,n),ac.subVectors(e,n),Da.cross(ac).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Da.subVectors(this.c,this.b),ac.subVectors(this.a,this.b),Da.cross(ac).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ts.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ts.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,o){return L2===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),L2=!0),ts.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}getInterpolation(e,n,r,i,o){return ts.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return ts.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ts.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let s,a;zh.subVectors(i,r),Vh.subVectors(o,r),B8.subVectors(e,r);const l=zh.dot(B8),c=Vh.dot(B8);if(l<=0&&c<=0)return n.copy(r);k8.subVectors(e,i);const u=zh.dot(k8),d=Vh.dot(k8);if(u>=0&&d<=u)return n.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return s=l/(l-u),n.copy(r).addScaledVector(zh,s);z8.subVectors(e,o);const h=zh.dot(z8),g=Vh.dot(z8);if(g>=0&&h<=g)return n.copy(o);const x=h*c-l*g;if(x<=0&&c>=0&&g<=0)return a=c/(c-g),n.copy(r).addScaledVector(Vh,a);const b=u*g-h*d;if(b<=0&&d-u>=0&&h-g>=0)return dO.subVectors(o,i),a=(d-u)/(d-u+(h-g)),n.copy(i).addScaledVector(dO,a);const v=1/(b+x+f);return s=x*v,a=f*v,n.copy(r).addScaledVector(zh,s).addScaledVector(Vh,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const QV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},au={h:0,s:0,l:0},D2={h:0,s:0,l:0};function V8(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Tt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Wt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,lr.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=lr.workingColorSpace){return this.r=e,this.g=n,this.b=r,lr.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=lr.workingColorSpace){if(e=iT(e,1),n=Kr(n,0,1),r=Kr(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,s=2*r-o;this.r=V8(s,o,e+1/3),this.g=V8(s,o,e),this.b=V8(s,o,e-1/3)}return lr.toWorkingColorSpace(this,i),this}setStyle(e,n=Wt){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const s=i[1],a=i[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Wt){const r=QV[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Kp(e.r),this.g=Kp(e.g),this.b=Kp(e.b),this}copyLinearToSRGB(e){return this.r=P8(e.r),this.g=P8(e.g),this.b=P8(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Wt){return lr.fromWorkingColorSpace(So.copy(this),e),Math.round(Kr(So.r*255,0,255))*65536+Math.round(Kr(So.g*255,0,255))*256+Math.round(Kr(So.b*255,0,255))}getHexString(e=Wt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=lr.workingColorSpace){lr.fromWorkingColorSpace(So.copy(this),n);const r=So.r,i=So.g,o=So.b,s=Math.max(r,i,o),a=Math.min(r,i,o);let l,c;const u=(a+s)/2;if(a===s)l=0,c=0;else{const d=s-a;switch(c=u<=.5?d/(s+a):d/(2-s-a),s){case r:l=(i-o)/d+(i<o?6:0);break;case i:l=(o-r)/d+2;break;case o:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=lr.workingColorSpace){return lr.fromWorkingColorSpace(So.copy(this),n),e.r=So.r,e.g=So.g,e.b=So.b,e}getStyle(e=Wt){lr.fromWorkingColorSpace(So.copy(this),e);const n=So.r,r=So.g,i=So.b;return e!==Wt?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(au),this.setHSL(au.h+e,au.s+n,au.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(au),e.getHSL(D2);const r=Kg(au.h,D2.h,n),i=Kg(au.s,D2.s,n),o=Kg(au.l,D2.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const So=new Tt;Tt.NAMES=QV;let Ove=0;class qi extends Ta{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Ove++}),this.uuid=Ds(),this.name="",this.type="Material",this.blending=ma,this.side=nl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=xm,this.blendDst=bm,this.blendEquation=ns,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Tt(0,0,0),this.blendAlpha=0,this.depthFunc=Ff,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=ux,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=xu,this.stencilZFail=xu,this.stencilZPass=xu,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==ma&&(r.blending=this.blending),this.side!==nl&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==xm&&(r.blendSrc=this.blendSrc),this.blendDst!==bm&&(r.blendDst=this.blendDst),this.blendEquation!==ns&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Ff&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==ux&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==xu&&(r.stencilFail=this.stencilFail),this.stencilZFail!==xu&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==xu&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const s=[];for(const a in o){const l=o[a];delete l.metadata,s.push(l)}return s}if(n){const o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class zc extends qi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Tt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=P3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const vc=Lve();function Lve(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,o[l]=c|u}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:s,offsetTable:a}}function Zo(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Kr(t,-65504,65504),vc.floatView[0]=t;const e=vc.uint32View[0],n=e>>23&511;return vc.baseTable[n]+((e&8388607)>>vc.shiftTable[n])}function Ng(t){const e=t>>10;return vc.uint32View[0]=vc.mantissaTable[vc.offsetTable[e]+(t&1023)]+vc.exponentTable[e],vc.floatView[0]}const Dve={toHalfFloat:Zo,fromHalfFloat:Ng},mi=new J,F2=new Xe;class ur{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Um,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=$r,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)F2.fromBufferAttribute(this,n),F2.applyMatrix3(e),this.setXY(n,F2.x,F2.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)mi.fromBufferAttribute(this,n),mi.applyMatrix3(e),this.setXYZ(n,mi.x,mi.y,mi.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)mi.fromBufferAttribute(this,n),mi.applyMatrix4(e),this.setXYZ(n,mi.x,mi.y,mi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)mi.fromBufferAttribute(this,n),mi.applyNormalMatrix(e),this.setXYZ(n,mi.x,mi.y,mi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)mi.fromBufferAttribute(this,n),mi.transformDirection(e),this.setXYZ(n,mi.x,mi.y,mi.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=rs(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Pn(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=rs(n,this.array)),n}setX(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=rs(n,this.array)),n}setY(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=rs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=rs(n,this.array)),n}setW(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array),o=Pn(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Um&&(e.usage=this.usage),e}}class Fve extends ur{constructor(e,n,r){super(new Int8Array(e),n,r)}}class $ve extends ur{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Uve extends ur{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class Bve extends ur{constructor(e,n,r){super(new Int16Array(e),n,r)}}class Tb extends ur{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class kve extends ur{constructor(e,n,r){super(new Int32Array(e),n,r)}}class Mb extends ur{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class cT extends ur{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Ng(this.array[e*this.itemSize]);return this.normalized&&(n=rs(n,this.array)),n}setX(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize]=Zo(n),this}getY(e){let n=Ng(this.array[e*this.itemSize+1]);return this.normalized&&(n=rs(n,this.array)),n}setY(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize+1]=Zo(n),this}getZ(e){let n=Ng(this.array[e*this.itemSize+2]);return this.normalized&&(n=rs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize+2]=Zo(n),this}getW(e){let n=Ng(this.array[e*this.itemSize+3]);return this.normalized&&(n=rs(n,this.array)),n}setW(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize+3]=Zo(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array)),this.array[e+0]=Zo(n),this.array[e+1]=Zo(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array)),this.array[e+0]=Zo(n),this.array[e+1]=Zo(r),this.array[e+2]=Zo(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array),o=Pn(o,this.array)),this.array[e+0]=Zo(n),this.array[e+1]=Zo(r),this.array[e+2]=Zo(i),this.array[e+3]=Zo(o),this}}class Gt extends ur{constructor(e,n,r){super(new Float32Array(e),n,r)}}class zve extends ur{constructor(e,n,r){super(new Float64Array(e),n,r)}}let Vve=0;const na=new cn,H8=new tr,Hh=new J,Cs=new Ho,ag=new Ho,$i=new J;class Mn extends Ta{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Vve++}),this.uuid=Ds(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(ZV(e)?Mb:Tb)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Cn().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return na.makeRotationFromQuaternion(e),this.applyMatrix4(na),this}rotateX(e){return na.makeRotationX(e),this.applyMatrix4(na),this}rotateY(e){return na.makeRotationY(e),this.applyMatrix4(na),this}rotateZ(e){return na.makeRotationZ(e),this.applyMatrix4(na),this}translate(e,n,r){return na.makeTranslation(e,n,r),this.applyMatrix4(na),this}scale(e,n,r){return na.makeScale(e,n,r),this.applyMatrix4(na),this}lookAt(e){return H8.lookAt(e),H8.updateMatrix(),this.applyMatrix4(H8.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Hh).negate(),this.translate(Hh.x,Hh.y,Hh.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Gt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ho);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new J(-1/0,-1/0,-1/0),new J(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];Cs.setFromBufferAttribute(o),this.morphTargetsRelative?($i.addVectors(this.boundingBox.min,Cs.min),this.boundingBox.expandByPoint($i),$i.addVectors(this.boundingBox.max,Cs.max),this.boundingBox.expandByPoint($i)):(this.boundingBox.expandByPoint(Cs.min),this.boundingBox.expandByPoint(Cs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Po);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new J,1/0);return}if(e){const r=this.boundingSphere.center;if(Cs.setFromBufferAttribute(e),n)for(let o=0,s=n.length;o<s;o++){const a=n[o];ag.setFromBufferAttribute(a),this.morphTargetsRelative?($i.addVectors(Cs.min,ag.min),Cs.expandByPoint($i),$i.addVectors(Cs.max,ag.max),Cs.expandByPoint($i)):(Cs.expandByPoint(ag.min),Cs.expandByPoint(ag.max))}Cs.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)$i.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared($i));if(n)for(let o=0,s=n.length;o<s;o++){const a=n[o],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)$i.fromBufferAttribute(a,c),l&&(Hh.fromBufferAttribute(e,c),$i.add(Hh)),i=Math.max(i,r.distanceToSquared($i))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,o=n.normal.array,s=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ur(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let P=0;P<a;P++)c[P]=new J,u[P]=new J;const d=new J,f=new J,h=new J,g=new Xe,x=new Xe,b=new Xe,v=new J,_=new J;function S(P,L,$){d.fromArray(i,P*3),f.fromArray(i,L*3),h.fromArray(i,$*3),g.fromArray(s,P*2),x.fromArray(s,L*2),b.fromArray(s,$*2),f.sub(d),h.sub(d),x.sub(g),b.sub(g);const V=1/(x.x*b.y-b.x*x.y);isFinite(V)&&(v.copy(f).multiplyScalar(b.y).addScaledVector(h,-x.y).multiplyScalar(V),_.copy(h).multiplyScalar(x.x).addScaledVector(f,-b.x).multiplyScalar(V),c[P].add(v),c[L].add(v),c[$].add(v),u[P].add(_),u[L].add(_),u[$].add(_))}let w=this.groups;w.length===0&&(w=[{start:0,count:r.length}]);for(let P=0,L=w.length;P<L;++P){const $=w[P],V=$.start,D=$.count;for(let H=V,F=V+D;H<F;H+=3)S(r[H+0],r[H+1],r[H+2])}const M=new J,E=new J,T=new J,N=new J;function R(P){T.fromArray(o,P*3),N.copy(T);const L=c[P];M.copy(L),M.sub(T.multiplyScalar(T.dot(L))).normalize(),E.crossVectors(N,L);const V=E.dot(u[P])<0?-1:1;l[P*4]=M.x,l[P*4+1]=M.y,l[P*4+2]=M.z,l[P*4+3]=V}for(let P=0,L=w.length;P<L;++P){const $=w[P],V=$.start,D=$.count;for(let H=V,F=V+D;H<F;H+=3)R(r[H+0]),R(r[H+1]),R(r[H+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new ur(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,h=r.count;f<h;f++)r.setXYZ(f,0,0,0);const i=new J,o=new J,s=new J,a=new J,l=new J,c=new J,u=new J,d=new J;if(e)for(let f=0,h=e.count;f<h;f+=3){const g=e.getX(f+0),x=e.getX(f+1),b=e.getX(f+2);i.fromBufferAttribute(n,g),o.fromBufferAttribute(n,x),s.fromBufferAttribute(n,b),u.subVectors(s,o),d.subVectors(i,o),u.cross(d),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,x),c.fromBufferAttribute(r,b),a.add(u),l.add(u),c.add(u),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(b,c.x,c.y,c.z)}else for(let f=0,h=n.count;f<h;f+=3)i.fromBufferAttribute(n,f+0),o.fromBufferAttribute(n,f+1),s.fromBufferAttribute(n,f+2),u.subVectors(s,o),d.subVectors(i,o),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)$i.fromBufferAttribute(e,n),$i.normalize(),e.setXYZ(n,$i.x,$i.y,$i.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,f=new c.constructor(l.length*u);let h=0,g=0;for(let x=0,b=l.length;x<b;x++){a.isInterleavedBufferAttribute?h=l[x]*a.data.stride+a.offset:h=l[x]*u;for(let v=0;v<u;v++)f[g++]=c[h++]}return new ur(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Mn,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const o=this.morphAttributes;for(const a in o){const l=[],c=o[a];for(let u=0,d=c.length;u<d;u++){const f=c[u],h=e(f,r);l.push(h)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,l=s.length;a<l;a++){const c=s[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const o=e.morphAttributes;for(const c in o){const u=[],d=o[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const d=s[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const fO=new cn,Td=new Zf,$2=new Po,hO=new J,Gh=new J,Wh=new J,jh=new J,G8=new J,U2=new J,B2=new Xe,k2=new Xe,z2=new Xe,pO=new J,mO=new J,gO=new J,V2=new J,H2=new J;class Zr extends tr{constructor(e=new Mn,n=new zc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,s=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(o&&a){U2.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const u=a[l],d=o[l];u!==0&&(G8.fromBufferAttribute(d,e),s?U2.addScaledVector(G8,u):U2.addScaledVector(G8.sub(n),u))}n.add(U2)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),$2.copy(r.boundingSphere),$2.applyMatrix4(o),Td.copy(e.ray).recast(e.near),!($2.containsPoint(Td.origin)===!1&&(Td.intersectSphere($2,hO)===null||Td.origin.distanceToSquared(hO)>(e.far-e.near)**2))&&(fO.copy(o).invert(),Td.copy(e.ray).applyMatrix4(fO),!(r.boundingBox!==null&&Td.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Td)))}_computeIntersections(e,n,r){let i;const o=this.geometry,s=this.material,a=o.index,l=o.attributes.position,c=o.attributes.uv,u=o.attributes.uv1,d=o.attributes.normal,f=o.groups,h=o.drawRange;if(a!==null)if(Array.isArray(s))for(let g=0,x=f.length;g<x;g++){const b=f[g],v=s[b.materialIndex],_=Math.max(b.start,h.start),S=Math.min(a.count,Math.min(b.start+b.count,h.start+h.count));for(let w=_,M=S;w<M;w+=3){const E=a.getX(w),T=a.getX(w+1),N=a.getX(w+2);i=G2(this,v,e,r,c,u,d,E,T,N),i&&(i.faceIndex=Math.floor(w/3),i.face.materialIndex=b.materialIndex,n.push(i))}}else{const g=Math.max(0,h.start),x=Math.min(a.count,h.start+h.count);for(let b=g,v=x;b<v;b+=3){const _=a.getX(b),S=a.getX(b+1),w=a.getX(b+2);i=G2(this,s,e,r,c,u,d,_,S,w),i&&(i.faceIndex=Math.floor(b/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(s))for(let g=0,x=f.length;g<x;g++){const b=f[g],v=s[b.materialIndex],_=Math.max(b.start,h.start),S=Math.min(l.count,Math.min(b.start+b.count,h.start+h.count));for(let w=_,M=S;w<M;w+=3){const E=w,T=w+1,N=w+2;i=G2(this,v,e,r,c,u,d,E,T,N),i&&(i.faceIndex=Math.floor(w/3),i.face.materialIndex=b.materialIndex,n.push(i))}}else{const g=Math.max(0,h.start),x=Math.min(l.count,h.start+h.count);for(let b=g,v=x;b<v;b+=3){const _=b,S=b+1,w=b+2;i=G2(this,s,e,r,c,u,d,_,S,w),i&&(i.faceIndex=Math.floor(b/3),n.push(i))}}}}function Hve(t,e,n,r,i,o,s,a){let l;if(e.side===di?l=r.intersectTriangle(s,o,i,!0,a):l=r.intersectTriangle(i,o,s,e.side===nl,a),l===null)return null;H2.copy(a),H2.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(H2);return c<n.near||c>n.far?null:{distance:c,point:H2.clone(),object:t}}function G2(t,e,n,r,i,o,s,a,l,c){t.getVertexPosition(a,Gh),t.getVertexPosition(l,Wh),t.getVertexPosition(c,jh);const u=Hve(t,e,n,r,Gh,Wh,jh,V2);if(u){i&&(B2.fromBufferAttribute(i,a),k2.fromBufferAttribute(i,l),z2.fromBufferAttribute(i,c),u.uv=ts.getInterpolation(V2,Gh,Wh,jh,B2,k2,z2,new Xe)),o&&(B2.fromBufferAttribute(o,a),k2.fromBufferAttribute(o,l),z2.fromBufferAttribute(o,c),u.uv1=ts.getInterpolation(V2,Gh,Wh,jh,B2,k2,z2,new Xe),u.uv2=u.uv1),s&&(pO.fromBufferAttribute(s,a),mO.fromBufferAttribute(s,l),gO.fromBufferAttribute(s,c),u.normal=ts.getInterpolation(V2,Gh,Wh,jh,pO,mO,gO,new J),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new J,materialIndex:0};ts.getNormal(Gh,Wh,jh,d.normal),u.face=d}return u}class sd extends Mn{constructor(e=1,n=1,r=1,i=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};const a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const l=[],c=[],u=[],d=[];let f=0,h=0;g("z","y","x",-1,-1,r,n,e,s,o,0),g("z","y","x",1,-1,r,n,-e,s,o,1),g("x","z","y",1,1,e,r,n,i,s,2),g("x","z","y",1,-1,e,r,-n,i,s,3),g("x","y","z",1,-1,e,n,r,i,o,4),g("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new Gt(c,3)),this.setAttribute("normal",new Gt(u,3)),this.setAttribute("uv",new Gt(d,2));function g(x,b,v,_,S,w,M,E,T,N,R){const P=w/T,L=M/N,$=w/2,V=M/2,D=E/2,H=T+1,F=N+1;let k=0,O=0;const B=new J;for(let G=0;G<F;G++){const W=G*L-V;for(let K=0;K<H;K++){const X=K*P-$;B[x]=X*_,B[b]=W*S,B[v]=D,c.push(B.x,B.y,B.z),B[x]=0,B[b]=0,B[v]=E>0?1:-1,u.push(B.x,B.y,B.z),d.push(K/T),d.push(1-G/N),k+=1}}for(let G=0;G<N;G++)for(let W=0;W<T;W++){const K=f+W+H*G,X=f+W+H*(G+1),Y=f+(W+1)+H*(G+1),te=f+(W+1)+H*G;l.push(K,X,te),l.push(X,Y,te),O+=6}a.addGroup(h,O,R),h+=O,f+=k}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sd(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function zm(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function $o(t){const e={};for(let n=0;n<t.length;n++){const r=zm(t[n]);for(const i in r)e[i]=r[i]}return e}function Gve(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function JV(t){return t.getRenderTarget()===null?t.outputColorSpace:lr.workingColorSpace}const uT={clone:zm,merge:$o};var Wve=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,jve=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class $s extends qi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Wve,this.fragmentShader=jve,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=zm(e.uniforms),this.uniformsGroups=Gve(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?n.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[i]={type:"m4",value:s.toArray()}:n.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class F3 extends tr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new cn,this.projectionMatrix=new cn,this.projectionMatrixInverse=new cn,this.coordinateSystem=fa}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Yr extends F3{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Bm*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(bf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Bm*2*Math.atan(Math.tan(bf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,o,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(bf*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;o+=s.offsetX*i/l,n-=s.offsetY*r/c,i*=s.width/l,r*=s.height/c}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Xh=-90,qh=1;class dT extends tr{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Yr(Xh,qh,e,n);i.layers=this.layers,this.add(i);const o=new Yr(Xh,qh,e,n);o.layers=this.layers,this.add(o);const s=new Yr(Xh,qh,e,n);s.layers=this.layers,this.add(s);const a=new Yr(Xh,qh,e,n);a.layers=this.layers,this.add(a);const l=new Yr(Xh,qh,e,n);l.layers=this.layers,this.add(l);const c=new Yr(Xh,qh,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,s,a,l]=n;for(const c of n)this.remove(c);if(e===fa)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Ku)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,s,a,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,s),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(d,f,h),e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class u0 extends Hr{constructor(e,n,r,i,o,s,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:rl,super(e,n,r,i,o,s,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class fT extends ol{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(Yg("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Ec?Wt:ro),this.texture=new u0(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Fr}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new sd(5,5,5),o=new $s({name:"CubemapFromEquirect",uniforms:zm(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:di,blending:Os});o.uniforms.tEquirect.value=n;const s=new Zr(i,o),a=n.minFilter;return n.minFilter===_a&&(n.minFilter=Fr),new dT(1,10,this).update(e,s),n.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,r,i);e.setRenderTarget(o)}}const W8=new J,Xve=new J,qve=new Cn;class pc{constructor(e=new J(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=W8.subVectors(r,n).cross(Xve.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(W8),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||qve.getNormalMatrix(e),i=this.coplanarPoint(W8).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Md=new Po,W2=new J;class d0{constructor(e=new pc,n=new pc,r=new pc,i=new pc,o=new pc,s=new pc){this.planes=[e,n,r,i,o,s]}set(e,n,r,i,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=fa){const r=this.planes,i=e.elements,o=i[0],s=i[1],a=i[2],l=i[3],c=i[4],u=i[5],d=i[6],f=i[7],h=i[8],g=i[9],x=i[10],b=i[11],v=i[12],_=i[13],S=i[14],w=i[15];if(r[0].setComponents(l-o,f-c,b-h,w-v).normalize(),r[1].setComponents(l+o,f+c,b+h,w+v).normalize(),r[2].setComponents(l+s,f+u,b+g,w+_).normalize(),r[3].setComponents(l-s,f-u,b-g,w-_).normalize(),r[4].setComponents(l-a,f-d,b-x,w-S).normalize(),n===fa)r[5].setComponents(l+a,f+d,b+x,w+S).normalize();else if(n===Ku)r[5].setComponents(a,d,x,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Md.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Md.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Md)}intersectsSprite(e){return Md.center.set(0,0,0),Md.radius=.7071067811865476,Md.applyMatrix4(e.matrixWorld),this.intersectsSphere(Md)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(W2.x=i.normal.x>0?e.max.x:e.min.x,W2.y=i.normal.y>0?e.max.y:e.min.y,W2.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(W2)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function eH(){let t=null,e=!1,n=null,r=null;function i(o,s){n(o,s),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function Kve(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,u){const d=c.array,f=c.usage,h=d.byteLength,g=t.createBuffer();t.bindBuffer(u,g),t.bufferData(u,d,f),c.onUploadCallback();let x;if(d instanceof Float32Array)x=t.FLOAT;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)x=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else x=t.UNSIGNED_SHORT;else if(d instanceof Int16Array)x=t.SHORT;else if(d instanceof Uint32Array)x=t.UNSIGNED_INT;else if(d instanceof Int32Array)x=t.INT;else if(d instanceof Int8Array)x=t.BYTE;else if(d instanceof Uint8Array)x=t.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)x=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:g,type:x,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version,size:h}}function o(c,u,d){const f=u.array,h=u._updateRange,g=u.updateRanges;if(t.bindBuffer(d,c),h.count===-1&&g.length===0&&t.bufferSubData(d,0,f),g.length!==0){for(let x=0,b=g.length;x<b;x++){const v=g[x];n?t.bufferSubData(d,v.start*f.BYTES_PER_ELEMENT,f,v.start,v.count):t.bufferSubData(d,v.start*f.BYTES_PER_ELEMENT,f.subarray(v.start,v.start+v.count))}u.clearUpdateRanges()}h.count!==-1&&(n?t.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f,h.offset,h.count):t.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f.subarray(h.offset,h.offset+h.count)),h.count=-1),u.onUploadCallback()}function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(t.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const f=r.get(c);(!f||f.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);if(d===void 0)r.set(c,i(c,u));else if(d.version<c.version){if(d.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");o(d.buffer,c,u),d.version=c.version}}return{get:s,remove:a,update:l}}class $3 extends Mn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,s=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,d=e/a,f=n/l,h=[],g=[],x=[],b=[];for(let v=0;v<u;v++){const _=v*f-s;for(let S=0;S<c;S++){const w=S*d-o;g.push(w,-_,0),x.push(0,0,1),b.push(S/a),b.push(1-v/l)}}for(let v=0;v<l;v++)for(let _=0;_<a;_++){const S=_+c*v,w=_+c*(v+1),M=_+1+c*(v+1),E=_+1+c*v;h.push(S,w,E),h.push(w,M,E)}this.setIndex(h),this.setAttribute("position",new Gt(g,3)),this.setAttribute("normal",new Gt(x,3)),this.setAttribute("uv",new Gt(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $3(e.width,e.height,e.widthSegments,e.heightSegments)}}var Yve=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Zve=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Qve=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Jve=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,e3e=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,t3e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,n3e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,r3e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,i3e=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,o3e=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,s3e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,a3e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,l3e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,c3e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,u3e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,d3e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,f3e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,h3e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,p3e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,m3e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,g3e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,v3e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,y3e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,x3e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,b3e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,S3e=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,_3e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,w3e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,C3e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,E3e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,T3e="gl_FragColor = linearToOutputTexel( gl_FragColor );",M3e=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,R3e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,A3e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,P3e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,N3e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,I3e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,O3e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,L3e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,D3e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,F3e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,$3e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,U3e=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,B3e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,k3e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,z3e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,V3e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,H3e=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,G3e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,W3e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,j3e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,X3e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,q3e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,K3e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Y3e=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Z3e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Q3e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,J3e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,e1e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,t1e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,n1e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,r1e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,i1e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,o1e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,s1e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,a1e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,l1e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,c1e=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,u1e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,d1e=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,f1e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,h1e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,p1e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,m1e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,g1e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,v1e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,y1e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,x1e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,b1e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,S1e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,_1e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,w1e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,C1e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,E1e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,T1e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,M1e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,R1e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,A1e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,P1e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,N1e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,I1e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,O1e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,L1e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,D1e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,F1e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,$1e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,U1e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,B1e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,k1e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,z1e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,V1e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,H1e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,G1e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,W1e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,j1e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,X1e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,q1e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const K1e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Y1e=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Z1e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Q1e=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,J1e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,e2e=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,t2e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,n2e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,r2e=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,i2e=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,o2e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,s2e=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,a2e=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,l2e=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,c2e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,u2e=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,d2e=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,f2e=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,h2e=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,p2e=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,m2e=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,g2e=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,v2e=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,y2e=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,x2e=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,b2e=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,S2e=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_2e=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,w2e=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,C2e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,E2e=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,T2e=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,M2e=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,R2e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,An={alphahash_fragment:Yve,alphahash_pars_fragment:Zve,alphamap_fragment:Qve,alphamap_pars_fragment:Jve,alphatest_fragment:e3e,alphatest_pars_fragment:t3e,aomap_fragment:n3e,aomap_pars_fragment:r3e,batching_pars_vertex:i3e,batching_vertex:o3e,begin_vertex:s3e,beginnormal_vertex:a3e,bsdfs:l3e,iridescence_fragment:c3e,bumpmap_pars_fragment:u3e,clipping_planes_fragment:d3e,clipping_planes_pars_fragment:f3e,clipping_planes_pars_vertex:h3e,clipping_planes_vertex:p3e,color_fragment:m3e,color_pars_fragment:g3e,color_pars_vertex:v3e,color_vertex:y3e,common:x3e,cube_uv_reflection_fragment:b3e,defaultnormal_vertex:S3e,displacementmap_pars_vertex:_3e,displacementmap_vertex:w3e,emissivemap_fragment:C3e,emissivemap_pars_fragment:E3e,colorspace_fragment:T3e,colorspace_pars_fragment:M3e,envmap_fragment:R3e,envmap_common_pars_fragment:A3e,envmap_pars_fragment:P3e,envmap_pars_vertex:N3e,envmap_physical_pars_fragment:H3e,envmap_vertex:I3e,fog_vertex:O3e,fog_pars_vertex:L3e,fog_fragment:D3e,fog_pars_fragment:F3e,gradientmap_pars_fragment:$3e,lightmap_fragment:U3e,lightmap_pars_fragment:B3e,lights_lambert_fragment:k3e,lights_lambert_pars_fragment:z3e,lights_pars_begin:V3e,lights_toon_fragment:G3e,lights_toon_pars_fragment:W3e,lights_phong_fragment:j3e,lights_phong_pars_fragment:X3e,lights_physical_fragment:q3e,lights_physical_pars_fragment:K3e,lights_fragment_begin:Y3e,lights_fragment_maps:Z3e,lights_fragment_end:Q3e,logdepthbuf_fragment:J3e,logdepthbuf_pars_fragment:e1e,logdepthbuf_pars_vertex:t1e,logdepthbuf_vertex:n1e,map_fragment:r1e,map_pars_fragment:i1e,map_particle_fragment:o1e,map_particle_pars_fragment:s1e,metalnessmap_fragment:a1e,metalnessmap_pars_fragment:l1e,morphcolor_vertex:c1e,morphnormal_vertex:u1e,morphtarget_pars_vertex:d1e,morphtarget_vertex:f1e,normal_fragment_begin:h1e,normal_fragment_maps:p1e,normal_pars_fragment:m1e,normal_pars_vertex:g1e,normal_vertex:v1e,normalmap_pars_fragment:y1e,clearcoat_normal_fragment_begin:x1e,clearcoat_normal_fragment_maps:b1e,clearcoat_pars_fragment:S1e,iridescence_pars_fragment:_1e,opaque_fragment:w1e,packing:C1e,premultiplied_alpha_fragment:E1e,project_vertex:T1e,dithering_fragment:M1e,dithering_pars_fragment:R1e,roughnessmap_fragment:A1e,roughnessmap_pars_fragment:P1e,shadowmap_pars_fragment:N1e,shadowmap_pars_vertex:I1e,shadowmap_vertex:O1e,shadowmask_pars_fragment:L1e,skinbase_vertex:D1e,skinning_pars_vertex:F1e,skinning_vertex:$1e,skinnormal_vertex:U1e,specularmap_fragment:B1e,specularmap_pars_fragment:k1e,tonemapping_fragment:z1e,tonemapping_pars_fragment:V1e,transmission_fragment:H1e,transmission_pars_fragment:G1e,uv_pars_fragment:W1e,uv_pars_vertex:j1e,uv_vertex:X1e,worldpos_vertex:q1e,background_vert:K1e,background_frag:Y1e,backgroundCube_vert:Z1e,backgroundCube_frag:Q1e,cube_vert:J1e,cube_frag:e2e,depth_vert:t2e,depth_frag:n2e,distanceRGBA_vert:r2e,distanceRGBA_frag:i2e,equirect_vert:o2e,equirect_frag:s2e,linedashed_vert:a2e,linedashed_frag:l2e,meshbasic_vert:c2e,meshbasic_frag:u2e,meshlambert_vert:d2e,meshlambert_frag:f2e,meshmatcap_vert:h2e,meshmatcap_frag:p2e,meshnormal_vert:m2e,meshnormal_frag:g2e,meshphong_vert:v2e,meshphong_frag:y2e,meshphysical_vert:x2e,meshphysical_frag:b2e,meshtoon_vert:S2e,meshtoon_frag:_2e,points_vert:w2e,points_frag:C2e,shadow_vert:E2e,shadow_frag:T2e,sprite_vert:M2e,sprite_frag:R2e},Et={common:{diffuse:{value:new Tt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Cn},alphaMap:{value:null},alphaMapTransform:{value:new Cn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Cn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Cn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Cn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Cn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Cn},normalScale:{value:new Xe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Cn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Cn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Cn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Cn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Tt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Tt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Cn},alphaTest:{value:0},uvTransform:{value:new Cn}},sprite:{diffuse:{value:new Tt(16777215)},opacity:{value:1},center:{value:new Xe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Cn},alphaMap:{value:null},alphaMapTransform:{value:new Cn},alphaTest:{value:0}}},ja={basic:{uniforms:$o([Et.common,Et.specularmap,Et.envmap,Et.aomap,Et.lightmap,Et.fog]),vertexShader:An.meshbasic_vert,fragmentShader:An.meshbasic_frag},lambert:{uniforms:$o([Et.common,Et.specularmap,Et.envmap,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.fog,Et.lights,{emissive:{value:new Tt(0)}}]),vertexShader:An.meshlambert_vert,fragmentShader:An.meshlambert_frag},phong:{uniforms:$o([Et.common,Et.specularmap,Et.envmap,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.fog,Et.lights,{emissive:{value:new Tt(0)},specular:{value:new Tt(1118481)},shininess:{value:30}}]),vertexShader:An.meshphong_vert,fragmentShader:An.meshphong_frag},standard:{uniforms:$o([Et.common,Et.envmap,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.roughnessmap,Et.metalnessmap,Et.fog,Et.lights,{emissive:{value:new Tt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:An.meshphysical_vert,fragmentShader:An.meshphysical_frag},toon:{uniforms:$o([Et.common,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.gradientmap,Et.fog,Et.lights,{emissive:{value:new Tt(0)}}]),vertexShader:An.meshtoon_vert,fragmentShader:An.meshtoon_frag},matcap:{uniforms:$o([Et.common,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.fog,{matcap:{value:null}}]),vertexShader:An.meshmatcap_vert,fragmentShader:An.meshmatcap_frag},points:{uniforms:$o([Et.points,Et.fog]),vertexShader:An.points_vert,fragmentShader:An.points_frag},dashed:{uniforms:$o([Et.common,Et.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:An.linedashed_vert,fragmentShader:An.linedashed_frag},depth:{uniforms:$o([Et.common,Et.displacementmap]),vertexShader:An.depth_vert,fragmentShader:An.depth_frag},normal:{uniforms:$o([Et.common,Et.bumpmap,Et.normalmap,Et.displacementmap,{opacity:{value:1}}]),vertexShader:An.meshnormal_vert,fragmentShader:An.meshnormal_frag},sprite:{uniforms:$o([Et.sprite,Et.fog]),vertexShader:An.sprite_vert,fragmentShader:An.sprite_frag},background:{uniforms:{uvTransform:{value:new Cn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:An.background_vert,fragmentShader:An.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:An.backgroundCube_vert,fragmentShader:An.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:An.cube_vert,fragmentShader:An.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:An.equirect_vert,fragmentShader:An.equirect_frag},distanceRGBA:{uniforms:$o([Et.common,Et.displacementmap,{referencePosition:{value:new J},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:An.distanceRGBA_vert,fragmentShader:An.distanceRGBA_frag},shadow:{uniforms:$o([Et.lights,Et.fog,{color:{value:new Tt(0)},opacity:{value:1}}]),vertexShader:An.shadow_vert,fragmentShader:An.shadow_frag}};ja.physical={uniforms:$o([ja.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Cn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Cn},clearcoatNormalScale:{value:new Xe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Cn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Cn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Cn},sheen:{value:0},sheenColor:{value:new Tt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Cn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Cn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Cn},transmissionSamplerSize:{value:new Xe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Cn},attenuationDistance:{value:0},attenuationColor:{value:new Tt(0)},specularColor:{value:new Tt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Cn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Cn},anisotropyVector:{value:new Xe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Cn}}]),vertexShader:An.meshphysical_vert,fragmentShader:An.meshphysical_frag};const j2={r:0,b:0,g:0};function A2e(t,e,n,r,i,o,s){const a=new Tt(0);let l=o===!0?0:1,c,u,d=null,f=0,h=null;function g(b,v){let _=!1,S=v.isScene===!0?v.background:null;S&&S.isTexture&&(S=(v.backgroundBlurriness>0?n:e).get(S)),S===null?x(a,l):S&&S.isColor&&(x(S,1),_=!0);const w=t.xr.getEnvironmentBlendMode();w==="additive"?r.buffers.color.setClear(0,0,0,1,s):w==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(t.autoClear||_)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),S&&(S.isCubeTexture||S.mapping===a0)?(u===void 0&&(u=new Zr(new sd(1,1,1),new $s({name:"BackgroundCubeMaterial",uniforms:zm(ja.backgroundCube.uniforms),vertexShader:ja.backgroundCube.vertexShader,fragmentShader:ja.backgroundCube.fragmentShader,side:di,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(M,E,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=S,u.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=lr.getTransfer(S.colorSpace)!==Sr,(d!==S||f!==S.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,d=S,f=S.version,h=t.toneMapping),u.layers.enableAll(),b.unshift(u,u.geometry,u.material,0,0,null)):S&&S.isTexture&&(c===void 0&&(c=new Zr(new $3(2,2),new $s({name:"BackgroundMaterial",uniforms:zm(ja.background.uniforms),vertexShader:ja.background.vertexShader,fragmentShader:ja.background.fragmentShader,side:nl,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=lr.getTransfer(S.colorSpace)!==Sr,S.matrixAutoUpdate===!0&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(d!==S||f!==S.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,d=S,f=S.version,h=t.toneMapping),c.layers.enableAll(),b.unshift(c,c.geometry,c.material,0,0,null))}function x(b,v){b.getRGB(j2,JV(t)),r.buffers.color.setClear(j2.r,j2.g,j2.b,v,s)}return{getClearColor:function(){return a},setClearColor:function(b,v=1){a.set(b),l=v,x(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(b){l=b,x(a,l)},render:g}}function P2e(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),s=r.isWebGL2||o!==null,a={},l=b(null);let c=l,u=!1;function d(D,H,F,k,O){let B=!1;if(s){const G=x(k,F,H);c!==G&&(c=G,h(c.object)),B=v(D,k,F,O),B&&_(D,k,F,O)}else{const G=H.wireframe===!0;(c.geometry!==k.id||c.program!==F.id||c.wireframe!==G)&&(c.geometry=k.id,c.program=F.id,c.wireframe=G,B=!0)}O!==null&&n.update(O,t.ELEMENT_ARRAY_BUFFER),(B||u)&&(u=!1,N(D,H,F,k),O!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(O).buffer))}function f(){return r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function h(D){return r.isWebGL2?t.bindVertexArray(D):o.bindVertexArrayOES(D)}function g(D){return r.isWebGL2?t.deleteVertexArray(D):o.deleteVertexArrayOES(D)}function x(D,H,F){const k=F.wireframe===!0;let O=a[D.id];O===void 0&&(O={},a[D.id]=O);let B=O[H.id];B===void 0&&(B={},O[H.id]=B);let G=B[k];return G===void 0&&(G=b(f()),B[k]=G),G}function b(D){const H=[],F=[],k=[];for(let O=0;O<i;O++)H[O]=0,F[O]=0,k[O]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:H,enabledAttributes:F,attributeDivisors:k,object:D,attributes:{},index:null}}function v(D,H,F,k){const O=c.attributes,B=H.attributes;let G=0;const W=F.getAttributes();for(const K in W)if(W[K].location>=0){const Y=O[K];let te=B[K];if(te===void 0&&(K==="instanceMatrix"&&D.instanceMatrix&&(te=D.instanceMatrix),K==="instanceColor"&&D.instanceColor&&(te=D.instanceColor)),Y===void 0||Y.attribute!==te||te&&Y.data!==te.data)return!0;G++}return c.attributesNum!==G||c.index!==k}function _(D,H,F,k){const O={},B=H.attributes;let G=0;const W=F.getAttributes();for(const K in W)if(W[K].location>=0){let Y=B[K];Y===void 0&&(K==="instanceMatrix"&&D.instanceMatrix&&(Y=D.instanceMatrix),K==="instanceColor"&&D.instanceColor&&(Y=D.instanceColor));const te={};te.attribute=Y,Y&&Y.data&&(te.data=Y.data),O[K]=te,G++}c.attributes=O,c.attributesNum=G,c.index=k}function S(){const D=c.newAttributes;for(let H=0,F=D.length;H<F;H++)D[H]=0}function w(D){M(D,0)}function M(D,H){const F=c.newAttributes,k=c.enabledAttributes,O=c.attributeDivisors;F[D]=1,k[D]===0&&(t.enableVertexAttribArray(D),k[D]=1),O[D]!==H&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](D,H),O[D]=H)}function E(){const D=c.newAttributes,H=c.enabledAttributes;for(let F=0,k=H.length;F<k;F++)H[F]!==D[F]&&(t.disableVertexAttribArray(F),H[F]=0)}function T(D,H,F,k,O,B,G){G===!0?t.vertexAttribIPointer(D,H,F,O,B):t.vertexAttribPointer(D,H,F,k,O,B)}function N(D,H,F,k){if(r.isWebGL2===!1&&(D.isInstancedMesh||k.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const O=k.attributes,B=F.getAttributes(),G=H.defaultAttributeValues;for(const W in B){const K=B[W];if(K.location>=0){let X=O[W];if(X===void 0&&(W==="instanceMatrix"&&D.instanceMatrix&&(X=D.instanceMatrix),W==="instanceColor"&&D.instanceColor&&(X=D.instanceColor)),X!==void 0){const Y=X.normalized,te=X.itemSize,oe=n.get(X);if(oe===void 0)continue;const ie=oe.buffer,le=oe.type,ve=oe.bytesPerElement,me=r.isWebGL2===!0&&(le===t.INT||le===t.UNSIGNED_INT||X.gpuType===c0);if(X.isInterleavedBufferAttribute){const we=X.data,Q=we.stride,fe=X.offset;if(we.isInstancedInterleavedBuffer){for(let he=0;he<K.locationSize;he++)M(K.location+he,we.meshPerAttribute);D.isInstancedMesh!==!0&&k._maxInstanceCount===void 0&&(k._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let he=0;he<K.locationSize;he++)w(K.location+he);t.bindBuffer(t.ARRAY_BUFFER,ie);for(let he=0;he<K.locationSize;he++)T(K.location+he,te/K.locationSize,le,Y,Q*ve,(fe+te/K.locationSize*he)*ve,me)}else{if(X.isInstancedBufferAttribute){for(let we=0;we<K.locationSize;we++)M(K.location+we,X.meshPerAttribute);D.isInstancedMesh!==!0&&k._maxInstanceCount===void 0&&(k._maxInstanceCount=X.meshPerAttribute*X.count)}else for(let we=0;we<K.locationSize;we++)w(K.location+we);t.bindBuffer(t.ARRAY_BUFFER,ie);for(let we=0;we<K.locationSize;we++)T(K.location+we,te/K.locationSize,le,Y,te*ve,te/K.locationSize*we*ve,me)}}else if(G!==void 0){const Y=G[W];if(Y!==void 0)switch(Y.length){case 2:t.vertexAttrib2fv(K.location,Y);break;case 3:t.vertexAttrib3fv(K.location,Y);break;case 4:t.vertexAttrib4fv(K.location,Y);break;default:t.vertexAttrib1fv(K.location,Y)}}}}E()}function R(){$();for(const D in a){const H=a[D];for(const F in H){const k=H[F];for(const O in k)g(k[O].object),delete k[O];delete H[F]}delete a[D]}}function P(D){if(a[D.id]===void 0)return;const H=a[D.id];for(const F in H){const k=H[F];for(const O in k)g(k[O].object),delete k[O];delete H[F]}delete a[D.id]}function L(D){for(const H in a){const F=a[H];if(F[D.id]===void 0)continue;const k=F[D.id];for(const O in k)g(k[O].object),delete k[O];delete F[D.id]}}function $(){V(),u=!0,c!==l&&(c=l,h(c.object))}function V(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:$,resetDefaultState:V,dispose:R,releaseStatesOfGeometry:P,releaseStatesOfProgram:L,initAttributes:S,enableAttribute:w,disableUnusedAttributes:E}}function N2e(t,e,n,r){const i=r.isWebGL2;let o;function s(u){o=u}function a(u,d){t.drawArrays(o,u,d),n.update(d,o,1)}function l(u,d,f){if(f===0)return;let h,g;if(i)h=t,g="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[g](o,u,d,f),n.update(d,o,f)}function c(u,d,f){if(f===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let g=0;g<f;g++)this.render(u[g],d[g]);else{h.multiDrawArraysWEBGL(o,u,0,d,0,f);let g=0;for(let x=0;x<f;x++)g+=d[x];n.update(g,o,1)}}this.setMode=s,this.render=a,this.renderInstances=l,this.renderMultiDraw=c}function I2e(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(T){if(T==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=o(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=s||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,d=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),f=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_TEXTURE_SIZE),g=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),x=t.getParameter(t.MAX_VERTEX_ATTRIBS),b=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),v=t.getParameter(t.MAX_VARYING_VECTORS),_=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),S=f>0,w=s||e.has("OES_texture_float"),M=S&&w,E=s?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:o,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:g,maxAttributes:x,maxVertexUniforms:b,maxVaryings:v,maxFragmentUniforms:_,vertexTextures:S,floatFragmentTextures:w,floatVertexTextures:M,maxSamples:E}}function O2e(t){const e=this;let n=null,r=0,i=!1,o=!1;const s=new pc,a=new Cn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const h=d.length!==0||f||r!==0||i;return i=f,r=d.length,h},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(d,f){n=u(d,f,0)},this.setState=function(d,f,h){const g=d.clippingPlanes,x=d.clipIntersection,b=d.clipShadows,v=t.get(d);if(!i||g===null||g.length===0||o&&!b)o?u(null):c();else{const _=o?0:r,S=_*4;let w=v.clippingState||null;l.value=w,w=u(g,f,S,h);for(let M=0;M!==S;++M)w[M]=n[M];v.clippingState=w,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,f,h,g){const x=d!==null?d.length:0;let b=null;if(x!==0){if(b=l.value,g!==!0||b===null){const v=h+x*4,_=f.matrixWorldInverse;a.getNormalMatrix(_),(b===null||b.length<v)&&(b=new Float32Array(v));for(let S=0,w=h;S!==x;++S,w+=4)s.copy(d[S]).applyMatrix4(_,a),s.normal.toArray(b,w),b[w+3]=s.constant}l.value=b,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,b}}function L2e(t){let e=new WeakMap;function n(s,a){return a===ju?s.mapping=rl:a===Xu&&(s.mapping=Fl),s}function r(s){if(s&&s.isTexture){const a=s.mapping;if(a===ju||a===Xu)if(e.has(s)){const l=e.get(s).texture;return n(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new fT(l.height/2);return c.fromEquirectangularTexture(t,s),e.set(s,c),s.addEventListener("dispose",i),n(c.texture,s.mapping)}else return null}}return s}function i(s){const a=s.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class Ml extends F3{constructor(e=-1,n=1,r=1,i=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,s=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Ap=4,vO=[.125,.215,.35,.446,.526,.582],jd=20,j8=new Ml,yO=new Tt;let X8=null,q8=0,K8=0;const Gd=(1+Math.sqrt(5))/2,Kh=1/Gd,xO=[new J(1,1,1),new J(-1,1,1),new J(1,1,-1),new J(-1,1,-1),new J(0,Gd,Kh),new J(0,Gd,-Kh),new J(Kh,0,Gd),new J(-Kh,0,Gd),new J(Gd,Kh,0),new J(-Gd,Kh,0)];class ow{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){X8=this._renderer.getRenderTarget(),q8=this._renderer.getActiveCubeFace(),K8=this._renderer.getActiveMipmapLevel(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_O(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=SO(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(X8,q8,K8),e.scissorTest=!1,X2(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===rl||e.mapping===Fl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),X8=this._renderer.getRenderTarget(),q8=this._renderer.getActiveCubeFace(),K8=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Fr,minFilter:Fr,generateMipmaps:!1,type:Za,format:no,colorSpace:ps,depthBuffer:!1},i=bO(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=bO(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=D2e(o)),this._blurMaterial=F2e(o,e,n)}return i}_compileMaterial(e){const n=new Zr(this._lodPlanes[0],e);this._renderer.compile(n,j8)}_sceneToCubeUV(e,n,r,i){const a=new Yr(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(yO),u.toneMapping=Vo,u.autoClear=!1;const h=new zc({name:"PMREM.Background",side:di,depthWrite:!1,depthTest:!1}),g=new Zr(new sd,h);let x=!1;const b=e.background;b?b.isColor&&(h.color.copy(b),e.background=null,x=!0):(h.color.copy(yO),x=!0);for(let v=0;v<6;v++){const _=v%3;_===0?(a.up.set(0,l[v],0),a.lookAt(c[v],0,0)):_===1?(a.up.set(0,0,l[v]),a.lookAt(0,c[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,c[v]));const S=this._cubeSize;X2(i,_*S,v>2?S:0,S,S),u.setRenderTarget(i),x&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=b}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===rl||e.mapping===Fl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=_O()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=SO());const o=i?this._cubemapMaterial:this._equirectMaterial,s=new Zr(this._lodPlanes[0],o),a=o.uniforms;a.envMap.value=e;const l=this._cubeSize;X2(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(s,j8)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),s=xO[(i-1)%xO.length];this._blur(e,i-1,i,o,s)}n.autoClear=r}_blur(e,n,r,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,s,a){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new Zr(this._lodPlanes[i],c),f=c.uniforms,h=this._sizeLods[r]-1,g=isFinite(o)?Math.PI/(2*h):2*Math.PI/(2*jd-1),x=o/g,b=isFinite(o)?1+Math.floor(u*x):jd;b>jd&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${b} samples when the maximum is set to ${jd}`);const v=[];let _=0;for(let T=0;T<jd;++T){const N=T/x,R=Math.exp(-N*N/2);v.push(R),T===0?_+=R:T<b&&(_+=2*R)}for(let T=0;T<v.length;T++)v[T]=v[T]/_;f.envMap.value=e.texture,f.samples.value=b,f.weights.value=v,f.latitudinal.value=s==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:S}=this;f.dTheta.value=g,f.mipInt.value=S-r;const w=this._sizeLods[i],M=3*w*(i>S-Ap?i-S+Ap:0),E=4*(this._cubeSize-w);X2(n,M,E,3*w,2*w),l.setRenderTarget(n),l.render(d,j8)}}function D2e(t){const e=[],n=[],r=[];let i=t;const o=t-Ap+1+vO.length;for(let s=0;s<o;s++){const a=Math.pow(2,i);n.push(a);let l=1/a;s>t-Ap?l=vO[s-t+Ap-1]:s===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,g=6,x=3,b=2,v=1,_=new Float32Array(x*g*h),S=new Float32Array(b*g*h),w=new Float32Array(v*g*h);for(let E=0;E<h;E++){const T=E%3*2/3-1,N=E>2?0:-1,R=[T,N,0,T+2/3,N,0,T+2/3,N+1,0,T,N,0,T+2/3,N+1,0,T,N+1,0];_.set(R,x*g*E),S.set(f,b*g*E);const P=[E,E,E,E,E,E];w.set(P,v*g*E)}const M=new Mn;M.setAttribute("position",new ur(_,x)),M.setAttribute("uv",new ur(S,b)),M.setAttribute("faceIndex",new ur(w,v)),e.push(M),i>Ap&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function bO(t,e,n){const r=new ol(t,e,n);return r.texture.mapping=a0,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function X2(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function F2e(t,e,n){const r=new Float32Array(jd),i=new J(0,1,0);return new $s({name:"SphericalGaussianBlur",defines:{n:jd,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:hT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Os,depthTest:!1,depthWrite:!1})}function SO(){return new $s({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:hT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Os,depthTest:!1,depthWrite:!1})}function _O(){return new $s({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:hT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Os,depthTest:!1,depthWrite:!1})}function hT(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function $2e(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===ju||l===Xu,u=l===rl||l===Fl;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return n===null&&(n=new ow(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&i(d)){n===null&&(n=new ow(t));const f=c?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,f),a.addEventListener("dispose",o),f.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function o(a){const l=a.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:s}}function U2e(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function B2e(t,e,n,r){const i={},o=new WeakMap;function s(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const g in f.attributes)e.remove(f.attributes[g]);for(const g in f.morphAttributes){const x=f.morphAttributes[g];for(let b=0,v=x.length;b<v;b++)e.remove(x[b])}f.removeEventListener("dispose",s),delete i[f.id];const h=o.get(f);h&&(e.remove(h),o.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(d,f){return i[f.id]===!0||(f.addEventListener("dispose",s),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const g in f)e.update(f[g],t.ARRAY_BUFFER);const h=d.morphAttributes;for(const g in h){const x=h[g];for(let b=0,v=x.length;b<v;b++)e.update(x[b],t.ARRAY_BUFFER)}}function c(d){const f=[],h=d.index,g=d.attributes.position;let x=0;if(h!==null){const _=h.array;x=h.version;for(let S=0,w=_.length;S<w;S+=3){const M=_[S+0],E=_[S+1],T=_[S+2];f.push(M,E,E,T,T,M)}}else if(g!==void 0){const _=g.array;x=g.version;for(let S=0,w=_.length/3-1;S<w;S+=3){const M=S+0,E=S+1,T=S+2;f.push(M,E,E,T,T,M)}}else return;const b=new(ZV(f)?Mb:Tb)(f,1);b.version=x;const v=o.get(d);v&&e.remove(v),o.set(d,b)}function u(d){const f=o.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return o.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function k2e(t,e,n,r){const i=r.isWebGL2;let o;function s(h){o=h}let a,l;function c(h){a=h.type,l=h.bytesPerElement}function u(h,g){t.drawElements(o,g,a,h*l),n.update(g,o,1)}function d(h,g,x){if(x===0)return;let b,v;if(i)b=t,v="drawElementsInstanced";else if(b=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",b===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}b[v](o,g,a,h*l,x),n.update(g,o,x)}function f(h,g,x){if(x===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let v=0;v<x;v++)this.render(h[v]/l,g[v]);else{b.multiDrawElementsWEBGL(o,g,0,a,h,0,x);let v=0;for(let _=0;_<x;_++)v+=g[_];n.update(v,o,1)}}this.setMode=s,this.setIndex=c,this.render=u,this.renderInstances=d,this.renderMultiDraw=f}function z2e(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,a){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=a*(o/3);break;case t.LINES:n.lines+=a*(o/2);break;case t.LINE_STRIP:n.lines+=a*(o-1);break;case t.LINE_LOOP:n.lines+=a*o;break;case t.POINTS:n.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function V2e(t,e){return t[0]-e[0]}function H2e(t,e){return Math.abs(e[1])-Math.abs(t[1])}function G2e(t,e,n){const r={},i=new Float32Array(8),o=new WeakMap,s=new En,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,d){const f=c.morphTargetInfluences;if(e.isWebGL2===!0){const h=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,g=h!==void 0?h.length:0;let x=o.get(u);if(x===void 0||x.count!==g){let D=function(){$.dispose(),o.delete(u),u.removeEventListener("dispose",D)};x!==void 0&&x.texture.dispose();const _=u.morphAttributes.position!==void 0,S=u.morphAttributes.normal!==void 0,w=u.morphAttributes.color!==void 0,M=u.morphAttributes.position||[],E=u.morphAttributes.normal||[],T=u.morphAttributes.color||[];let N=0;_===!0&&(N=1),S===!0&&(N=2),w===!0&&(N=3);let R=u.attributes.position.count*N,P=1;R>e.maxTextureSize&&(P=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const L=new Float32Array(R*P*4*g),$=new L3(L,R,P,g);$.type=$r,$.needsUpdate=!0;const V=N*4;for(let H=0;H<g;H++){const F=M[H],k=E[H],O=T[H],B=R*P*4*H;for(let G=0;G<F.count;G++){const W=G*V;_===!0&&(s.fromBufferAttribute(F,G),L[B+W+0]=s.x,L[B+W+1]=s.y,L[B+W+2]=s.z,L[B+W+3]=0),S===!0&&(s.fromBufferAttribute(k,G),L[B+W+4]=s.x,L[B+W+5]=s.y,L[B+W+6]=s.z,L[B+W+7]=0),w===!0&&(s.fromBufferAttribute(O,G),L[B+W+8]=s.x,L[B+W+9]=s.y,L[B+W+10]=s.z,L[B+W+11]=O.itemSize===4?s.w:1)}}x={count:g,texture:$,size:new Xe(R,P)},o.set(u,x),u.addEventListener("dispose",D)}let b=0;for(let _=0;_<f.length;_++)b+=f[_];const v=u.morphTargetsRelative?1:1-b;d.getUniforms().setValue(t,"morphTargetBaseInfluence",v),d.getUniforms().setValue(t,"morphTargetInfluences",f),d.getUniforms().setValue(t,"morphTargetsTexture",x.texture,n),d.getUniforms().setValue(t,"morphTargetsTextureSize",x.size)}else{const h=f===void 0?0:f.length;let g=r[u.id];if(g===void 0||g.length!==h){g=[];for(let S=0;S<h;S++)g[S]=[S,0];r[u.id]=g}for(let S=0;S<h;S++){const w=g[S];w[0]=S,w[1]=f[S]}g.sort(H2e);for(let S=0;S<8;S++)S<h&&g[S][1]?(a[S][0]=g[S][0],a[S][1]=g[S][1]):(a[S][0]=Number.MAX_SAFE_INTEGER,a[S][1]=0);a.sort(V2e);const x=u.morphAttributes.position,b=u.morphAttributes.normal;let v=0;for(let S=0;S<8;S++){const w=a[S],M=w[0],E=w[1];M!==Number.MAX_SAFE_INTEGER&&E?(x&&u.getAttribute("morphTarget"+S)!==x[M]&&u.setAttribute("morphTarget"+S,x[M]),b&&u.getAttribute("morphNormal"+S)!==b[M]&&u.setAttribute("morphNormal"+S,b[M]),i[S]=E,v+=E):(x&&u.hasAttribute("morphTarget"+S)===!0&&u.deleteAttribute("morphTarget"+S),b&&u.hasAttribute("morphNormal"+S)===!0&&u.deleteAttribute("morphNormal"+S),i[S]=0)}const _=u.morphTargetsRelative?1:1-v;d.getUniforms().setValue(t,"morphTargetBaseInfluence",_),d.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function W2e(t,e,n,r){let i=new WeakMap;function o(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return d}function s(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:s}}class ad extends Hr{constructor(e,n,r,i,o,s,a,l,c,u){if(u=u!==void 0?u:Ls,u!==Ls&&u!==il)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Ls&&(r=Ns),r===void 0&&u===il&&(r=ga),super(null,i,o,s,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:er,this.minFilter=l!==void 0?l:er,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const tH=new Hr,nH=new ad(1,1);nH.compareFunction=O3;const rH=new L3,iH=new lT,oH=new u0,wO=[],CO=[],EO=new Float32Array(16),TO=new Float32Array(9),MO=new Float32Array(4);function f0(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=wO[i];if(o===void 0&&(o=new Float32Array(i),wO[i]=o),e!==0){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=n,t[s].toArray(o,a)}return o}function Ii(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Oi(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function Rb(t,e){let n=CO[e];n===void 0&&(n=new Int32Array(e),CO[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function j2e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function X2e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ii(n,e))return;t.uniform2fv(this.addr,e),Oi(n,e)}}function q2e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Ii(n,e))return;t.uniform3fv(this.addr,e),Oi(n,e)}}function K2e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ii(n,e))return;t.uniform4fv(this.addr,e),Oi(n,e)}}function Y2e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ii(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Oi(n,e)}else{if(Ii(n,r))return;MO.set(r),t.uniformMatrix2fv(this.addr,!1,MO),Oi(n,r)}}function Z2e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ii(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Oi(n,e)}else{if(Ii(n,r))return;TO.set(r),t.uniformMatrix3fv(this.addr,!1,TO),Oi(n,r)}}function Q2e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ii(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Oi(n,e)}else{if(Ii(n,r))return;EO.set(r),t.uniformMatrix4fv(this.addr,!1,EO),Oi(n,r)}}function J2e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function eye(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ii(n,e))return;t.uniform2iv(this.addr,e),Oi(n,e)}}function tye(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ii(n,e))return;t.uniform3iv(this.addr,e),Oi(n,e)}}function nye(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ii(n,e))return;t.uniform4iv(this.addr,e),Oi(n,e)}}function rye(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function iye(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ii(n,e))return;t.uniform2uiv(this.addr,e),Oi(n,e)}}function oye(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ii(n,e))return;t.uniform3uiv(this.addr,e),Oi(n,e)}}function sye(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ii(n,e))return;t.uniform4uiv(this.addr,e),Oi(n,e)}}function aye(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const o=this.type===t.SAMPLER_2D_SHADOW?nH:tH;n.setTexture2D(e||o,i)}function lye(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||iH,i)}function cye(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||oH,i)}function uye(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||rH,i)}function dye(t){switch(t){case 5126:return j2e;case 35664:return X2e;case 35665:return q2e;case 35666:return K2e;case 35674:return Y2e;case 35675:return Z2e;case 35676:return Q2e;case 5124:case 35670:return J2e;case 35667:case 35671:return eye;case 35668:case 35672:return tye;case 35669:case 35673:return nye;case 5125:return rye;case 36294:return iye;case 36295:return oye;case 36296:return sye;case 35678:case 36198:case 36298:case 36306:case 35682:return aye;case 35679:case 36299:case 36307:return lye;case 35680:case 36300:case 36308:case 36293:return cye;case 36289:case 36303:case 36311:case 36292:return uye}}function fye(t,e){t.uniform1fv(this.addr,e)}function hye(t,e){const n=f0(e,this.size,2);t.uniform2fv(this.addr,n)}function pye(t,e){const n=f0(e,this.size,3);t.uniform3fv(this.addr,n)}function mye(t,e){const n=f0(e,this.size,4);t.uniform4fv(this.addr,n)}function gye(t,e){const n=f0(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function vye(t,e){const n=f0(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function yye(t,e){const n=f0(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function xye(t,e){t.uniform1iv(this.addr,e)}function bye(t,e){t.uniform2iv(this.addr,e)}function Sye(t,e){t.uniform3iv(this.addr,e)}function _ye(t,e){t.uniform4iv(this.addr,e)}function wye(t,e){t.uniform1uiv(this.addr,e)}function Cye(t,e){t.uniform2uiv(this.addr,e)}function Eye(t,e){t.uniform3uiv(this.addr,e)}function Tye(t,e){t.uniform4uiv(this.addr,e)}function Mye(t,e,n){const r=this.cache,i=e.length,o=Rb(n,i);Ii(r,o)||(t.uniform1iv(this.addr,o),Oi(r,o));for(let s=0;s!==i;++s)n.setTexture2D(e[s]||tH,o[s])}function Rye(t,e,n){const r=this.cache,i=e.length,o=Rb(n,i);Ii(r,o)||(t.uniform1iv(this.addr,o),Oi(r,o));for(let s=0;s!==i;++s)n.setTexture3D(e[s]||iH,o[s])}function Aye(t,e,n){const r=this.cache,i=e.length,o=Rb(n,i);Ii(r,o)||(t.uniform1iv(this.addr,o),Oi(r,o));for(let s=0;s!==i;++s)n.setTextureCube(e[s]||oH,o[s])}function Pye(t,e,n){const r=this.cache,i=e.length,o=Rb(n,i);Ii(r,o)||(t.uniform1iv(this.addr,o),Oi(r,o));for(let s=0;s!==i;++s)n.setTexture2DArray(e[s]||rH,o[s])}function Nye(t){switch(t){case 5126:return fye;case 35664:return hye;case 35665:return pye;case 35666:return mye;case 35674:return gye;case 35675:return vye;case 35676:return yye;case 5124:case 35670:return xye;case 35667:case 35671:return bye;case 35668:case 35672:return Sye;case 35669:case 35673:return _ye;case 5125:return wye;case 36294:return Cye;case 36295:return Eye;case 36296:return Tye;case 35678:case 36198:case 36298:case 36306:case 35682:return Mye;case 35679:case 36299:case 36307:return Rye;case 35680:case 36300:case 36308:case 36293:return Aye;case 36289:case 36303:case 36311:case 36292:return Pye}}class Iye{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=dye(n.type)}}class Oye{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Nye(n.type)}}class Lye{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,s=i.length;o!==s;++o){const a=i[o];a.setValue(e,n[a.id],r)}}}const Y8=/(\w+)(\])?(\[|\.)?/g;function RO(t,e){t.seq.push(e),t.map[e.id]=e}function Dye(t,e,n){const r=t.name,i=r.length;for(Y8.lastIndex=0;;){const o=Y8.exec(r),s=Y8.lastIndex;let a=o[1];const l=o[2]==="]",c=o[3];if(l&&(a=a|0),c===void 0||c==="["&&s+2===i){RO(n,c===void 0?new Iye(a,t,e):new Oye(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new Lye(a),RO(n,d)),n=d}}}class i5{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),s=e.getUniformLocation(n,o.name);Dye(o,s,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,s=n.length;o!==s;++o){const a=n[o],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const s=e[i];s.id in n&&r.push(s)}return r}}function AO(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Fye=37297;let $ye=0;function Uye(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let s=i;s<o;s++){const a=s+1;r.push(`${a===e?">":" "} ${a}: ${n[s]}`)}return r.join(`
`)}function Bye(t){const e=lr.getPrimaries(lr.workingColorSpace),n=lr.getPrimaries(t);let r;switch(e===n?r="":e===Hv&&n===Vv?r="LinearDisplayP3ToLinearSRGB":e===Vv&&n===Hv&&(r="LinearSRGBToLinearDisplayP3"),t){case ps:case N3:return[r,"LinearTransferOETF"];case Wt:case yb:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function PO(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const s=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+Uye(t.getShaderSource(e),s)}else return i}function kye(t,e){const n=Bye(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function zye(t,e){let n;switch(e){case XE:n="Linear";break;case qE:n="Reinhard";break;case KE:n="OptimizedCineon";break;case sb:n="ACESFilmic";break;case PV:n="AgX";break;case AV:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Vye(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Pp).join(`
`)}function Hye(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(Pp).join(`
`)}function Gye(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Wye(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),s=o.name;let a=1;o.type===t.FLOAT_MAT2&&(a=2),o.type===t.FLOAT_MAT3&&(a=3),o.type===t.FLOAT_MAT4&&(a=4),n[s]={type:o.type,location:t.getAttribLocation(e,s),locationSize:a}}return n}function Pp(t){return t!==""}function NO(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function IO(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const jye=/^[ \t]*#include +<([\w\d./]+)>/gm;function sw(t){return t.replace(jye,qye)}const Xye=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function qye(t,e){let n=An[e];if(n===void 0){const r=Xye.get(e);if(r!==void 0)n=An[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return sw(n)}const Kye=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function OO(t){return t.replace(Kye,Yye)}function Yye(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function LO(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Zye(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===k6?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===qg?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ka&&(e="SHADOWMAP_TYPE_VSM"),e}function Qye(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case rl:case Fl:e="ENVMAP_TYPE_CUBE";break;case a0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Jye(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Fl:e="ENVMAP_MODE_REFRACTION";break}return e}function e5e(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case P3:e="ENVMAP_BLENDING_MULTIPLY";break;case MV:e="ENVMAP_BLENDING_MIX";break;case RV:e="ENVMAP_BLENDING_ADD";break}return e}function t5e(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function n5e(t,e,n,r){const i=t.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const l=Zye(n),c=Qye(n),u=Jye(n),d=e5e(n),f=t5e(n),h=n.isWebGL2?"":Vye(n),g=Hye(n),x=Gye(o),b=i.createProgram();let v,_,S=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(Pp).join(`
`),v.length>0&&(v+=`
`),_=[h,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(Pp).join(`
`),_.length>0&&(_+=`
`)):(v=[LO(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Pp).join(`
`),_=[h,LO(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Vo?"#define TONE_MAPPING":"",n.toneMapping!==Vo?An.tonemapping_pars_fragment:"",n.toneMapping!==Vo?zye("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",An.colorspace_pars_fragment,kye("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Pp).join(`
`)),s=sw(s),s=NO(s,n),s=IO(s,n),a=sw(a),a=NO(a,n),a=IO(a,n),s=OO(s),a=OO(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,v=[g,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,_=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===rw?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===rw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const w=S+v+s,M=S+_+a,E=AO(i,i.VERTEX_SHADER,w),T=AO(i,i.FRAGMENT_SHADER,M);i.attachShader(b,E),i.attachShader(b,T),n.index0AttributeName!==void 0?i.bindAttribLocation(b,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(b,0,"position"),i.linkProgram(b);function N($){if(t.debug.checkShaderErrors){const V=i.getProgramInfoLog(b).trim(),D=i.getShaderInfoLog(E).trim(),H=i.getShaderInfoLog(T).trim();let F=!0,k=!0;if(i.getProgramParameter(b,i.LINK_STATUS)===!1)if(F=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,b,E,T);else{const O=PO(i,E,"vertex"),B=PO(i,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(b,i.VALIDATE_STATUS)+`

Program Info Log: `+V+`
`+O+`
`+B)}else V!==""?console.warn("THREE.WebGLProgram: Program Info Log:",V):(D===""||H==="")&&(k=!1);k&&($.diagnostics={runnable:F,programLog:V,vertexShader:{log:D,prefix:v},fragmentShader:{log:H,prefix:_}})}i.deleteShader(E),i.deleteShader(T),R=new i5(i,b),P=Wye(i,b)}let R;this.getUniforms=function(){return R===void 0&&N(this),R};let P;this.getAttributes=function(){return P===void 0&&N(this),P};let L=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return L===!1&&(L=i.getProgramParameter(b,Fye)),L},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(b),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=$ye++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=E,this.fragmentShader=T,this}let r5e=0;class i5e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new o5e(e),n.set(e,r)),r}}class o5e{constructor(e){this.id=r5e++,this.code=e,this.usedTimes=0}}function s5e(t,e,n,r,i,o,s){const a=new Sf,l=new i5e,c=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,f=i.vertexTextures;let h=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(R){return R===0?"uv":`uv${R}`}function b(R,P,L,$,V){const D=$.fog,H=V.geometry,F=R.isMeshStandardMaterial?$.environment:null,k=(R.isMeshStandardMaterial?n:e).get(R.envMap||F),O=k&&k.mapping===a0?k.image.height:null,B=g[R.type];R.precision!==null&&(h=i.getMaxPrecision(R.precision),h!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",h,"instead."));const G=H.morphAttributes.position||H.morphAttributes.normal||H.morphAttributes.color,W=G!==void 0?G.length:0;let K=0;H.morphAttributes.position!==void 0&&(K=1),H.morphAttributes.normal!==void 0&&(K=2),H.morphAttributes.color!==void 0&&(K=3);let X,Y,te,oe;if(B){const dt=ja[B];X=dt.vertexShader,Y=dt.fragmentShader}else X=R.vertexShader,Y=R.fragmentShader,l.update(R),te=l.getVertexShaderID(R),oe=l.getFragmentShaderID(R);const ie=t.getRenderTarget(),le=V.isInstancedMesh===!0,ve=V.isBatchedMesh===!0,me=!!R.map,we=!!R.matcap,Q=!!k,fe=!!R.aoMap,he=!!R.lightMap,Ee=!!R.bumpMap,ue=!!R.normalMap,ke=!!R.displacementMap,ge=!!R.emissiveMap,j=!!R.metalnessMap,z=!!R.roughnessMap,ee=R.anisotropy>0,xe=R.clearcoat>0,Ne=R.iridescence>0,Ae=R.sheen>0,Fe=R.transmission>0,Oe=ee&&!!R.anisotropyMap,We=xe&&!!R.clearcoatMap,ht=xe&&!!R.clearcoatNormalMap,Ge=xe&&!!R.clearcoatRoughnessMap,Te=Ne&&!!R.iridescenceMap,nt=Ne&&!!R.iridescenceThicknessMap,at=Ae&&!!R.sheenColorMap,rt=Ae&&!!R.sheenRoughnessMap,st=!!R.specularMap,Ze=!!R.specularColorMap,re=!!R.specularIntensityMap,Ve=Fe&&!!R.transmissionMap,Qe=Fe&&!!R.thicknessMap,lt=!!R.gradientMap,ce=!!R.alphaMap,Z=R.alphaTest>0,Re=!!R.alphaHash,Pe=!!R.extensions,Je=!!H.attributes.uv1,ft=!!H.attributes.uv2,wt=!!H.attributes.uv3;let mt=Vo;return R.toneMapped&&(ie===null||ie.isXRRenderTarget===!0)&&(mt=t.toneMapping),{isWebGL2:u,shaderID:B,shaderType:R.type,shaderName:R.name,vertexShader:X,fragmentShader:Y,defines:R.defines,customVertexShaderID:te,customFragmentShaderID:oe,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:h,batching:ve,instancing:le,instancingColor:le&&V.instanceColor!==null,supportsVertexTextures:f,outputColorSpace:ie===null?t.outputColorSpace:ie.isXRRenderTarget===!0?ie.texture.colorSpace:ps,map:me,matcap:we,envMap:Q,envMapMode:Q&&k.mapping,envMapCubeUVHeight:O,aoMap:fe,lightMap:he,bumpMap:Ee,normalMap:ue,displacementMap:f&&ke,emissiveMap:ge,normalMapObjectSpace:ue&&R.normalMapType===rT,normalMapTangentSpace:ue&&R.normalMapType===$l,metalnessMap:j,roughnessMap:z,anisotropy:ee,anisotropyMap:Oe,clearcoat:xe,clearcoatMap:We,clearcoatNormalMap:ht,clearcoatRoughnessMap:Ge,iridescence:Ne,iridescenceMap:Te,iridescenceThicknessMap:nt,sheen:Ae,sheenColorMap:at,sheenRoughnessMap:rt,specularMap:st,specularColorMap:Ze,specularIntensityMap:re,transmission:Fe,transmissionMap:Ve,thicknessMap:Qe,gradientMap:lt,opaque:R.transparent===!1&&R.blending===ma,alphaMap:ce,alphaTest:Z,alphaHash:Re,combine:R.combine,mapUv:me&&x(R.map.channel),aoMapUv:fe&&x(R.aoMap.channel),lightMapUv:he&&x(R.lightMap.channel),bumpMapUv:Ee&&x(R.bumpMap.channel),normalMapUv:ue&&x(R.normalMap.channel),displacementMapUv:ke&&x(R.displacementMap.channel),emissiveMapUv:ge&&x(R.emissiveMap.channel),metalnessMapUv:j&&x(R.metalnessMap.channel),roughnessMapUv:z&&x(R.roughnessMap.channel),anisotropyMapUv:Oe&&x(R.anisotropyMap.channel),clearcoatMapUv:We&&x(R.clearcoatMap.channel),clearcoatNormalMapUv:ht&&x(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ge&&x(R.clearcoatRoughnessMap.channel),iridescenceMapUv:Te&&x(R.iridescenceMap.channel),iridescenceThicknessMapUv:nt&&x(R.iridescenceThicknessMap.channel),sheenColorMapUv:at&&x(R.sheenColorMap.channel),sheenRoughnessMapUv:rt&&x(R.sheenRoughnessMap.channel),specularMapUv:st&&x(R.specularMap.channel),specularColorMapUv:Ze&&x(R.specularColorMap.channel),specularIntensityMapUv:re&&x(R.specularIntensityMap.channel),transmissionMapUv:Ve&&x(R.transmissionMap.channel),thicknessMapUv:Qe&&x(R.thicknessMap.channel),alphaMapUv:ce&&x(R.alphaMap.channel),vertexTangents:!!H.attributes.tangent&&(ue||ee),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!H.attributes.color&&H.attributes.color.itemSize===4,vertexUv1s:Je,vertexUv2s:ft,vertexUv3s:wt,pointsUvs:V.isPoints===!0&&!!H.attributes.uv&&(me||ce),fog:!!D,useFog:R.fog===!0,fogExp2:D&&D.isFogExp2,flatShading:R.flatShading===!0,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:V.isSkinnedMesh===!0,morphTargets:H.morphAttributes.position!==void 0,morphNormals:H.morphAttributes.normal!==void 0,morphColors:H.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:K,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numLightProbes:P.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:R.dithering,shadowMapEnabled:t.shadowMap.enabled&&L.length>0,shadowMapType:t.shadowMap.type,toneMapping:mt,useLegacyLights:t._useLegacyLights,decodeVideoTexture:me&&R.map.isVideoTexture===!0&&lr.getTransfer(R.map.colorSpace)===Sr,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===ko,flipSided:R.side===di,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionDerivatives:Pe&&R.extensions.derivatives===!0,extensionFragDepth:Pe&&R.extensions.fragDepth===!0,extensionDrawBuffers:Pe&&R.extensions.drawBuffers===!0,extensionShaderTextureLOD:Pe&&R.extensions.shaderTextureLOD===!0,extensionClipCullDistance:Pe&&R.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:R.customProgramCacheKey()}}function v(R){const P=[];if(R.shaderID?P.push(R.shaderID):(P.push(R.customVertexShaderID),P.push(R.customFragmentShaderID)),R.defines!==void 0)for(const L in R.defines)P.push(L),P.push(R.defines[L]);return R.isRawShaderMaterial===!1&&(_(P,R),S(P,R),P.push(t.outputColorSpace)),P.push(R.customProgramCacheKey),P.join()}function _(R,P){R.push(P.precision),R.push(P.outputColorSpace),R.push(P.envMapMode),R.push(P.envMapCubeUVHeight),R.push(P.mapUv),R.push(P.alphaMapUv),R.push(P.lightMapUv),R.push(P.aoMapUv),R.push(P.bumpMapUv),R.push(P.normalMapUv),R.push(P.displacementMapUv),R.push(P.emissiveMapUv),R.push(P.metalnessMapUv),R.push(P.roughnessMapUv),R.push(P.anisotropyMapUv),R.push(P.clearcoatMapUv),R.push(P.clearcoatNormalMapUv),R.push(P.clearcoatRoughnessMapUv),R.push(P.iridescenceMapUv),R.push(P.iridescenceThicknessMapUv),R.push(P.sheenColorMapUv),R.push(P.sheenRoughnessMapUv),R.push(P.specularMapUv),R.push(P.specularColorMapUv),R.push(P.specularIntensityMapUv),R.push(P.transmissionMapUv),R.push(P.thicknessMapUv),R.push(P.combine),R.push(P.fogExp2),R.push(P.sizeAttenuation),R.push(P.morphTargetsCount),R.push(P.morphAttributeCount),R.push(P.numDirLights),R.push(P.numPointLights),R.push(P.numSpotLights),R.push(P.numSpotLightMaps),R.push(P.numHemiLights),R.push(P.numRectAreaLights),R.push(P.numDirLightShadows),R.push(P.numPointLightShadows),R.push(P.numSpotLightShadows),R.push(P.numSpotLightShadowsWithMaps),R.push(P.numLightProbes),R.push(P.shadowMapType),R.push(P.toneMapping),R.push(P.numClippingPlanes),R.push(P.numClipIntersection),R.push(P.depthPacking)}function S(R,P){a.disableAll(),P.isWebGL2&&a.enable(0),P.supportsVertexTextures&&a.enable(1),P.instancing&&a.enable(2),P.instancingColor&&a.enable(3),P.matcap&&a.enable(4),P.envMap&&a.enable(5),P.normalMapObjectSpace&&a.enable(6),P.normalMapTangentSpace&&a.enable(7),P.clearcoat&&a.enable(8),P.iridescence&&a.enable(9),P.alphaTest&&a.enable(10),P.vertexColors&&a.enable(11),P.vertexAlphas&&a.enable(12),P.vertexUv1s&&a.enable(13),P.vertexUv2s&&a.enable(14),P.vertexUv3s&&a.enable(15),P.vertexTangents&&a.enable(16),P.anisotropy&&a.enable(17),P.alphaHash&&a.enable(18),P.batching&&a.enable(19),R.push(a.mask),a.disableAll(),P.fog&&a.enable(0),P.useFog&&a.enable(1),P.flatShading&&a.enable(2),P.logarithmicDepthBuffer&&a.enable(3),P.skinning&&a.enable(4),P.morphTargets&&a.enable(5),P.morphNormals&&a.enable(6),P.morphColors&&a.enable(7),P.premultipliedAlpha&&a.enable(8),P.shadowMapEnabled&&a.enable(9),P.useLegacyLights&&a.enable(10),P.doubleSided&&a.enable(11),P.flipSided&&a.enable(12),P.useDepthPacking&&a.enable(13),P.dithering&&a.enable(14),P.transmission&&a.enable(15),P.sheen&&a.enable(16),P.opaque&&a.enable(17),P.pointsUvs&&a.enable(18),P.decodeVideoTexture&&a.enable(19),R.push(a.mask)}function w(R){const P=g[R.type];let L;if(P){const $=ja[P];L=uT.clone($.uniforms)}else L=R.uniforms;return L}function M(R,P){let L;for(let $=0,V=c.length;$<V;$++){const D=c[$];if(D.cacheKey===P){L=D,++L.usedTimes;break}}return L===void 0&&(L=new n5e(t,P,R,o),c.push(L)),L}function E(R){if(--R.usedTimes===0){const P=c.indexOf(R);c[P]=c[c.length-1],c.pop(),R.destroy()}}function T(R){l.remove(R)}function N(){l.dispose()}return{getParameters:b,getProgramCacheKey:v,getUniforms:w,acquireProgram:M,releaseProgram:E,releaseShaderCache:T,programs:c,dispose:N}}function a5e(){let t=new WeakMap;function e(o){let s=t.get(o);return s===void 0&&(s={},t.set(o,s)),s}function n(o){t.delete(o)}function r(o,s,a){t.get(o)[s]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function l5e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function DO(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function FO(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function s(d,f,h,g,x,b){let v=t[e];return v===void 0?(v={id:d.id,object:d,geometry:f,material:h,groupOrder:g,renderOrder:d.renderOrder,z:x,group:b},t[e]=v):(v.id=d.id,v.object=d,v.geometry=f,v.material=h,v.groupOrder=g,v.renderOrder=d.renderOrder,v.z=x,v.group=b),e++,v}function a(d,f,h,g,x,b){const v=s(d,f,h,g,x,b);h.transmission>0?r.push(v):h.transparent===!0?i.push(v):n.push(v)}function l(d,f,h,g,x,b){const v=s(d,f,h,g,x,b);h.transmission>0?r.unshift(v):h.transparent===!0?i.unshift(v):n.unshift(v)}function c(d,f){n.length>1&&n.sort(d||l5e),r.length>1&&r.sort(f||DO),i.length>1&&i.sort(f||DO)}function u(){for(let d=e,f=t.length;d<f;d++){const h=t[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:a,unshift:l,finish:u,sort:c}}function c5e(){let t=new WeakMap;function e(r,i){const o=t.get(r);let s;return o===void 0?(s=new FO,t.set(r,[s])):i>=o.length?(s=new FO,o.push(s)):s=o[i],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function u5e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new J,color:new Tt};break;case"SpotLight":n={position:new J,direction:new J,color:new Tt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new J,color:new Tt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new J,skyColor:new Tt,groundColor:new Tt};break;case"RectAreaLight":n={color:new Tt,position:new J,halfWidth:new J,halfHeight:new J};break}return t[e.id]=n,n}}}function d5e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xe};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xe};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xe,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let f5e=0;function h5e(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function p5e(t,e){const n=new u5e,r=d5e(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new J);const o=new J,s=new cn,a=new cn;function l(u,d){let f=0,h=0,g=0;for(let $=0;$<9;$++)i.probe[$].set(0,0,0);let x=0,b=0,v=0,_=0,S=0,w=0,M=0,E=0,T=0,N=0,R=0;u.sort(h5e);const P=d===!0?Math.PI:1;for(let $=0,V=u.length;$<V;$++){const D=u[$],H=D.color,F=D.intensity,k=D.distance,O=D.shadow&&D.shadow.map?D.shadow.map.texture:null;if(D.isAmbientLight)f+=H.r*F*P,h+=H.g*F*P,g+=H.b*F*P;else if(D.isLightProbe){for(let B=0;B<9;B++)i.probe[B].addScaledVector(D.sh.coefficients[B],F);R++}else if(D.isDirectionalLight){const B=n.get(D);if(B.color.copy(D.color).multiplyScalar(D.intensity*P),D.castShadow){const G=D.shadow,W=r.get(D);W.shadowBias=G.bias,W.shadowNormalBias=G.normalBias,W.shadowRadius=G.radius,W.shadowMapSize=G.mapSize,i.directionalShadow[x]=W,i.directionalShadowMap[x]=O,i.directionalShadowMatrix[x]=D.shadow.matrix,w++}i.directional[x]=B,x++}else if(D.isSpotLight){const B=n.get(D);B.position.setFromMatrixPosition(D.matrixWorld),B.color.copy(H).multiplyScalar(F*P),B.distance=k,B.coneCos=Math.cos(D.angle),B.penumbraCos=Math.cos(D.angle*(1-D.penumbra)),B.decay=D.decay,i.spot[v]=B;const G=D.shadow;if(D.map&&(i.spotLightMap[T]=D.map,T++,G.updateMatrices(D),D.castShadow&&N++),i.spotLightMatrix[v]=G.matrix,D.castShadow){const W=r.get(D);W.shadowBias=G.bias,W.shadowNormalBias=G.normalBias,W.shadowRadius=G.radius,W.shadowMapSize=G.mapSize,i.spotShadow[v]=W,i.spotShadowMap[v]=O,E++}v++}else if(D.isRectAreaLight){const B=n.get(D);B.color.copy(H).multiplyScalar(F),B.halfWidth.set(D.width*.5,0,0),B.halfHeight.set(0,D.height*.5,0),i.rectArea[_]=B,_++}else if(D.isPointLight){const B=n.get(D);if(B.color.copy(D.color).multiplyScalar(D.intensity*P),B.distance=D.distance,B.decay=D.decay,D.castShadow){const G=D.shadow,W=r.get(D);W.shadowBias=G.bias,W.shadowNormalBias=G.normalBias,W.shadowRadius=G.radius,W.shadowMapSize=G.mapSize,W.shadowCameraNear=G.camera.near,W.shadowCameraFar=G.camera.far,i.pointShadow[b]=W,i.pointShadowMap[b]=O,i.pointShadowMatrix[b]=D.shadow.matrix,M++}i.point[b]=B,b++}else if(D.isHemisphereLight){const B=n.get(D);B.skyColor.copy(D.color).multiplyScalar(F*P),B.groundColor.copy(D.groundColor).multiplyScalar(F*P),i.hemi[S]=B,S++}}_>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Et.LTC_FLOAT_1,i.rectAreaLTC2=Et.LTC_FLOAT_2):(i.rectAreaLTC1=Et.LTC_HALF_1,i.rectAreaLTC2=Et.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Et.LTC_FLOAT_1,i.rectAreaLTC2=Et.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Et.LTC_HALF_1,i.rectAreaLTC2=Et.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=f,i.ambient[1]=h,i.ambient[2]=g;const L=i.hash;(L.directionalLength!==x||L.pointLength!==b||L.spotLength!==v||L.rectAreaLength!==_||L.hemiLength!==S||L.numDirectionalShadows!==w||L.numPointShadows!==M||L.numSpotShadows!==E||L.numSpotMaps!==T||L.numLightProbes!==R)&&(i.directional.length=x,i.spot.length=v,i.rectArea.length=_,i.point.length=b,i.hemi.length=S,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=M,i.pointShadowMap.length=M,i.spotShadow.length=E,i.spotShadowMap.length=E,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=M,i.spotLightMatrix.length=E+T-N,i.spotLightMap.length=T,i.numSpotLightShadowsWithMaps=N,i.numLightProbes=R,L.directionalLength=x,L.pointLength=b,L.spotLength=v,L.rectAreaLength=_,L.hemiLength=S,L.numDirectionalShadows=w,L.numPointShadows=M,L.numSpotShadows=E,L.numSpotMaps=T,L.numLightProbes=R,i.version=f5e++)}function c(u,d){let f=0,h=0,g=0,x=0,b=0;const v=d.matrixWorldInverse;for(let _=0,S=u.length;_<S;_++){const w=u[_];if(w.isDirectionalLight){const M=i.directional[f];M.direction.setFromMatrixPosition(w.matrixWorld),o.setFromMatrixPosition(w.target.matrixWorld),M.direction.sub(o),M.direction.transformDirection(v),f++}else if(w.isSpotLight){const M=i.spot[g];M.position.setFromMatrixPosition(w.matrixWorld),M.position.applyMatrix4(v),M.direction.setFromMatrixPosition(w.matrixWorld),o.setFromMatrixPosition(w.target.matrixWorld),M.direction.sub(o),M.direction.transformDirection(v),g++}else if(w.isRectAreaLight){const M=i.rectArea[x];M.position.setFromMatrixPosition(w.matrixWorld),M.position.applyMatrix4(v),a.identity(),s.copy(w.matrixWorld),s.premultiply(v),a.extractRotation(s),M.halfWidth.set(w.width*.5,0,0),M.halfHeight.set(0,w.height*.5,0),M.halfWidth.applyMatrix4(a),M.halfHeight.applyMatrix4(a),x++}else if(w.isPointLight){const M=i.point[h];M.position.setFromMatrixPosition(w.matrixWorld),M.position.applyMatrix4(v),h++}else if(w.isHemisphereLight){const M=i.hemi[b];M.direction.setFromMatrixPosition(w.matrixWorld),M.direction.transformDirection(v),b++}}}return{setup:l,setupView:c,state:i}}function $O(t,e){const n=new p5e(t,e),r=[],i=[];function o(){r.length=0,i.length=0}function s(d){r.push(d)}function a(d){i.push(d)}function l(d){n.setup(r,d)}function c(d){n.setupView(r,d)}return{init:o,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:s,pushShadow:a}}function m5e(t,e){let n=new WeakMap;function r(o,s=0){const a=n.get(o);let l;return a===void 0?(l=new $O(t,e),n.set(o,[l])):s>=a.length?(l=new $O(t,e),a.push(l)):l=a[s],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class pT extends qi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=DV,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class mT extends qi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const g5e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,v5e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function y5e(t,e,n){let r=new d0;const i=new Xe,o=new Xe,s=new En,a=new pT({depthPacking:FV}),l=new mT,c={},u=n.maxTextureSize,d={[nl]:di,[di]:nl,[ko]:ko},f=new $s({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Xe},radius:{value:4}},vertexShader:g5e,fragmentShader:v5e}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const g=new Mn;g.setAttribute("position",new ur(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new Zr(g,f),b=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=k6;let v=this.type;this.render=function(E,T,N){if(b.enabled===!1||b.autoUpdate===!1&&b.needsUpdate===!1||E.length===0)return;const R=t.getRenderTarget(),P=t.getActiveCubeFace(),L=t.getActiveMipmapLevel(),$=t.state;$.setBlending(Os),$.buffers.color.setClear(1,1,1,1),$.buffers.depth.setTest(!0),$.setScissorTest(!1);const V=v!==ka&&this.type===ka,D=v===ka&&this.type!==ka;for(let H=0,F=E.length;H<F;H++){const k=E[H],O=k.shadow;if(O===void 0){console.warn("THREE.WebGLShadowMap:",k,"has no shadow.");continue}if(O.autoUpdate===!1&&O.needsUpdate===!1)continue;i.copy(O.mapSize);const B=O.getFrameExtents();if(i.multiply(B),o.copy(O.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/B.x),i.x=o.x*B.x,O.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/B.y),i.y=o.y*B.y,O.mapSize.y=o.y)),O.map===null||V===!0||D===!0){const W=this.type!==ka?{minFilter:er,magFilter:er}:{};O.map!==null&&O.map.dispose(),O.map=new ol(i.x,i.y,W),O.map.texture.name=k.name+".shadowMap",O.camera.updateProjectionMatrix()}t.setRenderTarget(O.map),t.clear();const G=O.getViewportCount();for(let W=0;W<G;W++){const K=O.getViewport(W);s.set(o.x*K.x,o.y*K.y,o.x*K.z,o.y*K.w),$.viewport(s),O.updateMatrices(k,W),r=O.getFrustum(),w(T,N,O.camera,k,this.type)}O.isPointLightShadow!==!0&&this.type===ka&&_(O,N),O.needsUpdate=!1}v=this.type,b.needsUpdate=!1,t.setRenderTarget(R,P,L)};function _(E,T){const N=e.update(x);f.defines.VSM_SAMPLES!==E.blurSamples&&(f.defines.VSM_SAMPLES=E.blurSamples,h.defines.VSM_SAMPLES=E.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new ol(i.x,i.y)),f.uniforms.shadow_pass.value=E.map.texture,f.uniforms.resolution.value=E.mapSize,f.uniforms.radius.value=E.radius,t.setRenderTarget(E.mapPass),t.clear(),t.renderBufferDirect(T,null,N,f,x,null),h.uniforms.shadow_pass.value=E.mapPass.texture,h.uniforms.resolution.value=E.mapSize,h.uniforms.radius.value=E.radius,t.setRenderTarget(E.map),t.clear(),t.renderBufferDirect(T,null,N,h,x,null)}function S(E,T,N,R){let P=null;const L=N.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(L!==void 0)P=L;else if(P=N.isPointLight===!0?l:a,t.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const $=P.uuid,V=T.uuid;let D=c[$];D===void 0&&(D={},c[$]=D);let H=D[V];H===void 0&&(H=P.clone(),D[V]=H,T.addEventListener("dispose",M)),P=H}if(P.visible=T.visible,P.wireframe=T.wireframe,R===ka?P.side=T.shadowSide!==null?T.shadowSide:T.side:P.side=T.shadowSide!==null?T.shadowSide:d[T.side],P.alphaMap=T.alphaMap,P.alphaTest=T.alphaTest,P.map=T.map,P.clipShadows=T.clipShadows,P.clippingPlanes=T.clippingPlanes,P.clipIntersection=T.clipIntersection,P.displacementMap=T.displacementMap,P.displacementScale=T.displacementScale,P.displacementBias=T.displacementBias,P.wireframeLinewidth=T.wireframeLinewidth,P.linewidth=T.linewidth,N.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const $=t.properties.get(P);$.light=N}return P}function w(E,T,N,R,P){if(E.visible===!1)return;if(E.layers.test(T.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&P===ka)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(N.matrixWorldInverse,E.matrixWorld);const V=e.update(E),D=E.material;if(Array.isArray(D)){const H=V.groups;for(let F=0,k=H.length;F<k;F++){const O=H[F],B=D[O.materialIndex];if(B&&B.visible){const G=S(E,B,R,P);E.onBeforeShadow(t,E,T,N,V,G,O),t.renderBufferDirect(N,null,V,G,E,O),E.onAfterShadow(t,E,T,N,V,G,O)}}}else if(D.visible){const H=S(E,D,R,P);E.onBeforeShadow(t,E,T,N,V,H,null),t.renderBufferDirect(N,null,V,H,E,null),E.onAfterShadow(t,E,T,N,V,H,null)}}const $=E.children;for(let V=0,D=$.length;V<D;V++)w($[V],T,N,R,P)}function M(E){E.target.removeEventListener("dispose",M);for(const N in c){const R=c[N],P=E.target.uuid;P in R&&(R[P].dispose(),delete R[P])}}}function x5e(t,e,n){const r=n.isWebGL2;function i(){let Z=!1;const Re=new En;let Pe=null;const Je=new En(0,0,0,0);return{setMask:function(ft){Pe!==ft&&!Z&&(t.colorMask(ft,ft,ft,ft),Pe=ft)},setLocked:function(ft){Z=ft},setClear:function(ft,wt,mt,Ye,dt){dt===!0&&(ft*=Ye,wt*=Ye,mt*=Ye),Re.set(ft,wt,mt,Ye),Je.equals(Re)===!1&&(t.clearColor(ft,wt,mt,Ye),Je.copy(Re))},reset:function(){Z=!1,Pe=null,Je.set(-1,0,0,0)}}}function o(){let Z=!1,Re=null,Pe=null,Je=null;return{setTest:function(ft){ft?ve(t.DEPTH_TEST):me(t.DEPTH_TEST)},setMask:function(ft){Re!==ft&&!Z&&(t.depthMask(ft),Re=ft)},setFunc:function(ft){if(Pe!==ft){switch(ft){case J6:t.depthFunc(t.NEVER);break;case eb:t.depthFunc(t.ALWAYS);break;case tb:t.depthFunc(t.LESS);break;case Ff:t.depthFunc(t.LEQUAL);break;case nb:t.depthFunc(t.EQUAL);break;case rb:t.depthFunc(t.GEQUAL);break;case ib:t.depthFunc(t.GREATER);break;case ob:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Pe=ft}},setLocked:function(ft){Z=ft},setClear:function(ft){Je!==ft&&(t.clearDepth(ft),Je=ft)},reset:function(){Z=!1,Re=null,Pe=null,Je=null}}}function s(){let Z=!1,Re=null,Pe=null,Je=null,ft=null,wt=null,mt=null,Ye=null,dt=null;return{setTest:function(it){Z||(it?ve(t.STENCIL_TEST):me(t.STENCIL_TEST))},setMask:function(it){Re!==it&&!Z&&(t.stencilMask(it),Re=it)},setFunc:function(it,gt,sn){(Pe!==it||Je!==gt||ft!==sn)&&(t.stencilFunc(it,gt,sn),Pe=it,Je=gt,ft=sn)},setOp:function(it,gt,sn){(wt!==it||mt!==gt||Ye!==sn)&&(t.stencilOp(it,gt,sn),wt=it,mt=gt,Ye=sn)},setLocked:function(it){Z=it},setClear:function(it){dt!==it&&(t.clearStencil(it),dt=it)},reset:function(){Z=!1,Re=null,Pe=null,Je=null,ft=null,wt=null,mt=null,Ye=null,dt=null}}}const a=new i,l=new o,c=new s,u=new WeakMap,d=new WeakMap;let f={},h={},g=new WeakMap,x=[],b=null,v=!1,_=null,S=null,w=null,M=null,E=null,T=null,N=null,R=new Tt(0,0,0),P=0,L=!1,$=null,V=null,D=null,H=null,F=null;const k=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let O=!1,B=0;const G=t.getParameter(t.VERSION);G.indexOf("WebGL")!==-1?(B=parseFloat(/^WebGL (\d)/.exec(G)[1]),O=B>=1):G.indexOf("OpenGL ES")!==-1&&(B=parseFloat(/^OpenGL ES (\d)/.exec(G)[1]),O=B>=2);let W=null,K={};const X=t.getParameter(t.SCISSOR_BOX),Y=t.getParameter(t.VIEWPORT),te=new En().fromArray(X),oe=new En().fromArray(Y);function ie(Z,Re,Pe,Je){const ft=new Uint8Array(4),wt=t.createTexture();t.bindTexture(Z,wt),t.texParameteri(Z,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Z,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let mt=0;mt<Pe;mt++)r&&(Z===t.TEXTURE_3D||Z===t.TEXTURE_2D_ARRAY)?t.texImage3D(Re,0,t.RGBA,1,1,Je,0,t.RGBA,t.UNSIGNED_BYTE,ft):t.texImage2D(Re+mt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,ft);return wt}const le={};le[t.TEXTURE_2D]=ie(t.TEXTURE_2D,t.TEXTURE_2D,1),le[t.TEXTURE_CUBE_MAP]=ie(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(le[t.TEXTURE_2D_ARRAY]=ie(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),le[t.TEXTURE_3D]=ie(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ve(t.DEPTH_TEST),l.setFunc(Ff),ge(!1),j(ax),ve(t.CULL_FACE),ue(Os);function ve(Z){f[Z]!==!0&&(t.enable(Z),f[Z]=!0)}function me(Z){f[Z]!==!1&&(t.disable(Z),f[Z]=!1)}function we(Z,Re){return h[Z]!==Re?(t.bindFramebuffer(Z,Re),h[Z]=Re,r&&(Z===t.DRAW_FRAMEBUFFER&&(h[t.FRAMEBUFFER]=Re),Z===t.FRAMEBUFFER&&(h[t.DRAW_FRAMEBUFFER]=Re)),!0):!1}function Q(Z,Re){let Pe=x,Je=!1;if(Z)if(Pe=g.get(Re),Pe===void 0&&(Pe=[],g.set(Re,Pe)),Z.isWebGLMultipleRenderTargets){const ft=Z.texture;if(Pe.length!==ft.length||Pe[0]!==t.COLOR_ATTACHMENT0){for(let wt=0,mt=ft.length;wt<mt;wt++)Pe[wt]=t.COLOR_ATTACHMENT0+wt;Pe.length=ft.length,Je=!0}}else Pe[0]!==t.COLOR_ATTACHMENT0&&(Pe[0]=t.COLOR_ATTACHMENT0,Je=!0);else Pe[0]!==t.BACK&&(Pe[0]=t.BACK,Je=!0);Je&&(n.isWebGL2?t.drawBuffers(Pe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Pe))}function fe(Z){return b!==Z?(t.useProgram(Z),b=Z,!0):!1}const he={[ns]:t.FUNC_ADD,[V6]:t.FUNC_SUBTRACT,[H6]:t.FUNC_REVERSE_SUBTRACT};if(r)he[lx]=t.MIN,he[cx]=t.MAX;else{const Z=e.get("EXT_blend_minmax");Z!==null&&(he[lx]=Z.MIN_EXT,he[cx]=Z.MAX_EXT)}const Ee={[G6]:t.ZERO,[W6]:t.ONE,[j6]:t.SRC_COLOR,[xm]:t.SRC_ALPHA,[Q6]:t.SRC_ALPHA_SATURATE,[Y6]:t.DST_COLOR,[q6]:t.DST_ALPHA,[X6]:t.ONE_MINUS_SRC_COLOR,[bm]:t.ONE_MINUS_SRC_ALPHA,[Z6]:t.ONE_MINUS_DST_COLOR,[K6]:t.ONE_MINUS_DST_ALPHA,[wV]:t.CONSTANT_COLOR,[CV]:t.ONE_MINUS_CONSTANT_COLOR,[EV]:t.CONSTANT_ALPHA,[TV]:t.ONE_MINUS_CONSTANT_ALPHA};function ue(Z,Re,Pe,Je,ft,wt,mt,Ye,dt,it){if(Z===Os){v===!0&&(me(t.BLEND),v=!1);return}if(v===!1&&(ve(t.BLEND),v=!0),Z!==z6){if(Z!==_||it!==L){if((S!==ns||E!==ns)&&(t.blendEquation(t.FUNC_ADD),S=ns,E=ns),it)switch(Z){case ma:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Of:t.blendFunc(t.ONE,t.ONE);break;case Lf:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Df:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}else switch(Z){case ma:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Of:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case Lf:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Df:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}w=null,M=null,T=null,N=null,R.set(0,0,0),P=0,_=Z,L=it}return}ft=ft||Re,wt=wt||Pe,mt=mt||Je,(Re!==S||ft!==E)&&(t.blendEquationSeparate(he[Re],he[ft]),S=Re,E=ft),(Pe!==w||Je!==M||wt!==T||mt!==N)&&(t.blendFuncSeparate(Ee[Pe],Ee[Je],Ee[wt],Ee[mt]),w=Pe,M=Je,T=wt,N=mt),(Ye.equals(R)===!1||dt!==P)&&(t.blendColor(Ye.r,Ye.g,Ye.b,dt),R.copy(Ye),P=dt),_=Z,L=!1}function ke(Z,Re){Z.side===ko?me(t.CULL_FACE):ve(t.CULL_FACE);let Pe=Z.side===di;Re&&(Pe=!Pe),ge(Pe),Z.blending===ma&&Z.transparent===!1?ue(Os):ue(Z.blending,Z.blendEquation,Z.blendSrc,Z.blendDst,Z.blendEquationAlpha,Z.blendSrcAlpha,Z.blendDstAlpha,Z.blendColor,Z.blendAlpha,Z.premultipliedAlpha),l.setFunc(Z.depthFunc),l.setTest(Z.depthTest),l.setMask(Z.depthWrite),a.setMask(Z.colorWrite);const Je=Z.stencilWrite;c.setTest(Je),Je&&(c.setMask(Z.stencilWriteMask),c.setFunc(Z.stencilFunc,Z.stencilRef,Z.stencilFuncMask),c.setOp(Z.stencilFail,Z.stencilZFail,Z.stencilZPass)),ee(Z.polygonOffset,Z.polygonOffsetFactor,Z.polygonOffsetUnits),Z.alphaToCoverage===!0?ve(t.SAMPLE_ALPHA_TO_COVERAGE):me(t.SAMPLE_ALPHA_TO_COVERAGE)}function ge(Z){$!==Z&&(Z?t.frontFace(t.CW):t.frontFace(t.CCW),$=Z)}function j(Z){Z!==WE?(ve(t.CULL_FACE),Z!==V&&(Z===ax?t.cullFace(t.BACK):Z===jE?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):me(t.CULL_FACE),V=Z}function z(Z){Z!==D&&(O&&t.lineWidth(Z),D=Z)}function ee(Z,Re,Pe){Z?(ve(t.POLYGON_OFFSET_FILL),(H!==Re||F!==Pe)&&(t.polygonOffset(Re,Pe),H=Re,F=Pe)):me(t.POLYGON_OFFSET_FILL)}function xe(Z){Z?ve(t.SCISSOR_TEST):me(t.SCISSOR_TEST)}function Ne(Z){Z===void 0&&(Z=t.TEXTURE0+k-1),W!==Z&&(t.activeTexture(Z),W=Z)}function Ae(Z,Re,Pe){Pe===void 0&&(W===null?Pe=t.TEXTURE0+k-1:Pe=W);let Je=K[Pe];Je===void 0&&(Je={type:void 0,texture:void 0},K[Pe]=Je),(Je.type!==Z||Je.texture!==Re)&&(W!==Pe&&(t.activeTexture(Pe),W=Pe),t.bindTexture(Z,Re||le[Z]),Je.type=Z,Je.texture=Re)}function Fe(){const Z=K[W];Z!==void 0&&Z.type!==void 0&&(t.bindTexture(Z.type,null),Z.type=void 0,Z.texture=void 0)}function Oe(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function We(){try{t.compressedTexImage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ht(){try{t.texSubImage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ge(){try{t.texSubImage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Te(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function nt(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function at(){try{t.texStorage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function rt(){try{t.texStorage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function st(){try{t.texImage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ze(){try{t.texImage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function re(Z){te.equals(Z)===!1&&(t.scissor(Z.x,Z.y,Z.z,Z.w),te.copy(Z))}function Ve(Z){oe.equals(Z)===!1&&(t.viewport(Z.x,Z.y,Z.z,Z.w),oe.copy(Z))}function Qe(Z,Re){let Pe=d.get(Re);Pe===void 0&&(Pe=new WeakMap,d.set(Re,Pe));let Je=Pe.get(Z);Je===void 0&&(Je=t.getUniformBlockIndex(Re,Z.name),Pe.set(Z,Je))}function lt(Z,Re){const Je=d.get(Re).get(Z);u.get(Re)!==Je&&(t.uniformBlockBinding(Re,Je,Z.__bindingPointIndex),u.set(Re,Je))}function ce(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},W=null,K={},h={},g=new WeakMap,x=[],b=null,v=!1,_=null,S=null,w=null,M=null,E=null,T=null,N=null,R=new Tt(0,0,0),P=0,L=!1,$=null,V=null,D=null,H=null,F=null,te.set(0,0,t.canvas.width,t.canvas.height),oe.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:ve,disable:me,bindFramebuffer:we,drawBuffers:Q,useProgram:fe,setBlending:ue,setMaterial:ke,setFlipSided:ge,setCullFace:j,setLineWidth:z,setPolygonOffset:ee,setScissorTest:xe,activeTexture:Ne,bindTexture:Ae,unbindTexture:Fe,compressedTexImage2D:Oe,compressedTexImage3D:We,texImage2D:st,texImage3D:Ze,updateUBOMapping:Qe,uniformBlockBinding:lt,texStorage2D:at,texStorage3D:rt,texSubImage2D:ht,texSubImage3D:Ge,compressedTexSubImage2D:Te,compressedTexSubImage3D:nt,scissor:re,viewport:Ve,reset:ce}}function b5e(t,e,n,r,i,o,s){const a=i.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new WeakMap;let d;const f=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(j,z){return h?new OffscreenCanvas(j,z):Gv("canvas")}function x(j,z,ee,xe){let Ne=1;if((j.width>xe||j.height>xe)&&(Ne=xe/Math.max(j.width,j.height)),Ne<1||z===!0)if(typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&j instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&j instanceof ImageBitmap){const Ae=z?fx:Math.floor,Fe=Ae(Ne*j.width),Oe=Ae(Ne*j.height);d===void 0&&(d=g(Fe,Oe));const We=ee?g(Fe,Oe):d;return We.width=Fe,We.height=Oe,We.getContext("2d").drawImage(j,0,0,Fe,Oe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+j.width+"x"+j.height+") to ("+Fe+"x"+Oe+")."),We}else return"data"in j&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+j.width+"x"+j.height+")."),j;return j}function b(j){return iw(j.width)&&iw(j.height)}function v(j){return a?!1:j.wrapS!==to||j.wrapT!==to||j.minFilter!==er&&j.minFilter!==Fr}function _(j,z){return j.generateMipmaps&&z&&j.minFilter!==er&&j.minFilter!==Fr}function S(j){t.generateMipmap(j)}function w(j,z,ee,xe,Ne=!1){if(a===!1)return z;if(j!==null){if(t[j]!==void 0)return t[j];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+j+"'")}let Ae=z;if(z===t.RED&&(ee===t.FLOAT&&(Ae=t.R32F),ee===t.HALF_FLOAT&&(Ae=t.R16F),ee===t.UNSIGNED_BYTE&&(Ae=t.R8)),z===t.RED_INTEGER&&(ee===t.UNSIGNED_BYTE&&(Ae=t.R8UI),ee===t.UNSIGNED_SHORT&&(Ae=t.R16UI),ee===t.UNSIGNED_INT&&(Ae=t.R32UI),ee===t.BYTE&&(Ae=t.R8I),ee===t.SHORT&&(Ae=t.R16I),ee===t.INT&&(Ae=t.R32I)),z===t.RG&&(ee===t.FLOAT&&(Ae=t.RG32F),ee===t.HALF_FLOAT&&(Ae=t.RG16F),ee===t.UNSIGNED_BYTE&&(Ae=t.RG8)),z===t.RGBA){const Fe=Ne?zv:lr.getTransfer(xe);ee===t.FLOAT&&(Ae=t.RGBA32F),ee===t.HALF_FLOAT&&(Ae=t.RGBA16F),ee===t.UNSIGNED_BYTE&&(Ae=Fe===Sr?t.SRGB8_ALPHA8:t.RGBA8),ee===t.UNSIGNED_SHORT_4_4_4_4&&(Ae=t.RGBA4),ee===t.UNSIGNED_SHORT_5_5_5_1&&(Ae=t.RGB5_A1)}return(Ae===t.R16F||Ae===t.R32F||Ae===t.RG16F||Ae===t.RG32F||Ae===t.RGBA16F||Ae===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ae}function M(j,z,ee){return _(j,ee)===!0||j.isFramebufferTexture&&j.minFilter!==er&&j.minFilter!==Fr?Math.log2(Math.max(z.width,z.height))+1:j.mipmaps!==void 0&&j.mipmaps.length>0?j.mipmaps.length:j.isCompressedTexture&&Array.isArray(j.image)?z.mipmaps.length:1}function E(j){return j===er||j===qu||j===Cc?t.NEAREST:t.LINEAR}function T(j){const z=j.target;z.removeEventListener("dispose",T),R(z),z.isVideoTexture&&u.delete(z)}function N(j){const z=j.target;z.removeEventListener("dispose",N),L(z)}function R(j){const z=r.get(j);if(z.__webglInit===void 0)return;const ee=j.source,xe=f.get(ee);if(xe){const Ne=xe[z.__cacheKey];Ne.usedTimes--,Ne.usedTimes===0&&P(j),Object.keys(xe).length===0&&f.delete(ee)}r.remove(j)}function P(j){const z=r.get(j);t.deleteTexture(z.__webglTexture);const ee=j.source,xe=f.get(ee);delete xe[z.__cacheKey],s.memory.textures--}function L(j){const z=j.texture,ee=r.get(j),xe=r.get(z);if(xe.__webglTexture!==void 0&&(t.deleteTexture(xe.__webglTexture),s.memory.textures--),j.depthTexture&&j.depthTexture.dispose(),j.isWebGLCubeRenderTarget)for(let Ne=0;Ne<6;Ne++){if(Array.isArray(ee.__webglFramebuffer[Ne]))for(let Ae=0;Ae<ee.__webglFramebuffer[Ne].length;Ae++)t.deleteFramebuffer(ee.__webglFramebuffer[Ne][Ae]);else t.deleteFramebuffer(ee.__webglFramebuffer[Ne]);ee.__webglDepthbuffer&&t.deleteRenderbuffer(ee.__webglDepthbuffer[Ne])}else{if(Array.isArray(ee.__webglFramebuffer))for(let Ne=0;Ne<ee.__webglFramebuffer.length;Ne++)t.deleteFramebuffer(ee.__webglFramebuffer[Ne]);else t.deleteFramebuffer(ee.__webglFramebuffer);if(ee.__webglDepthbuffer&&t.deleteRenderbuffer(ee.__webglDepthbuffer),ee.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ee.__webglMultisampledFramebuffer),ee.__webglColorRenderbuffer)for(let Ne=0;Ne<ee.__webglColorRenderbuffer.length;Ne++)ee.__webglColorRenderbuffer[Ne]&&t.deleteRenderbuffer(ee.__webglColorRenderbuffer[Ne]);ee.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ee.__webglDepthRenderbuffer)}if(j.isWebGLMultipleRenderTargets)for(let Ne=0,Ae=z.length;Ne<Ae;Ne++){const Fe=r.get(z[Ne]);Fe.__webglTexture&&(t.deleteTexture(Fe.__webglTexture),s.memory.textures--),r.remove(z[Ne])}r.remove(z),r.remove(j)}let $=0;function V(){$=0}function D(){const j=$;return j>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+j+" texture units while this GPU supports only "+i.maxTextures),$+=1,j}function H(j){const z=[];return z.push(j.wrapS),z.push(j.wrapT),z.push(j.wrapR||0),z.push(j.magFilter),z.push(j.minFilter),z.push(j.anisotropy),z.push(j.internalFormat),z.push(j.format),z.push(j.type),z.push(j.generateMipmaps),z.push(j.premultiplyAlpha),z.push(j.flipY),z.push(j.unpackAlignment),z.push(j.colorSpace),z.join()}function F(j,z){const ee=r.get(j);if(j.isVideoTexture&&ke(j),j.isRenderTargetTexture===!1&&j.version>0&&ee.__version!==j.version){const xe=j.image;if(xe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(xe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{te(ee,j,z);return}}n.bindTexture(t.TEXTURE_2D,ee.__webglTexture,t.TEXTURE0+z)}function k(j,z){const ee=r.get(j);if(j.version>0&&ee.__version!==j.version){te(ee,j,z);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ee.__webglTexture,t.TEXTURE0+z)}function O(j,z){const ee=r.get(j);if(j.version>0&&ee.__version!==j.version){te(ee,j,z);return}n.bindTexture(t.TEXTURE_3D,ee.__webglTexture,t.TEXTURE0+z)}function B(j,z){const ee=r.get(j);if(j.version>0&&ee.__version!==j.version){oe(ee,j,z);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ee.__webglTexture,t.TEXTURE0+z)}const G={[$f]:t.REPEAT,[to]:t.CLAMP_TO_EDGE,[Uf]:t.MIRRORED_REPEAT},W={[er]:t.NEAREST,[qu]:t.NEAREST_MIPMAP_NEAREST,[Cc]:t.NEAREST_MIPMAP_LINEAR,[Fr]:t.LINEAR,[lb]:t.LINEAR_MIPMAP_NEAREST,[_a]:t.LINEAR_MIPMAP_LINEAR},K={[xb]:t.NEVER,[Cb]:t.ALWAYS,[I3]:t.LESS,[O3]:t.LEQUAL,[bb]:t.EQUAL,[wb]:t.GEQUAL,[Sb]:t.GREATER,[_b]:t.NOTEQUAL};function X(j,z,ee){if(ee?(t.texParameteri(j,t.TEXTURE_WRAP_S,G[z.wrapS]),t.texParameteri(j,t.TEXTURE_WRAP_T,G[z.wrapT]),(j===t.TEXTURE_3D||j===t.TEXTURE_2D_ARRAY)&&t.texParameteri(j,t.TEXTURE_WRAP_R,G[z.wrapR]),t.texParameteri(j,t.TEXTURE_MAG_FILTER,W[z.magFilter]),t.texParameteri(j,t.TEXTURE_MIN_FILTER,W[z.minFilter])):(t.texParameteri(j,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(j,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(j===t.TEXTURE_3D||j===t.TEXTURE_2D_ARRAY)&&t.texParameteri(j,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(z.wrapS!==to||z.wrapT!==to)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(j,t.TEXTURE_MAG_FILTER,E(z.magFilter)),t.texParameteri(j,t.TEXTURE_MIN_FILTER,E(z.minFilter)),z.minFilter!==er&&z.minFilter!==Fr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),z.compareFunction&&(t.texParameteri(j,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(j,t.TEXTURE_COMPARE_FUNC,K[z.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const xe=e.get("EXT_texture_filter_anisotropic");if(z.magFilter===er||z.minFilter!==Cc&&z.minFilter!==_a||z.type===$r&&e.has("OES_texture_float_linear")===!1||a===!1&&z.type===Za&&e.has("OES_texture_half_float_linear")===!1)return;(z.anisotropy>1||r.get(z).__currentAnisotropy)&&(t.texParameterf(j,xe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(z.anisotropy,i.getMaxAnisotropy())),r.get(z).__currentAnisotropy=z.anisotropy)}}function Y(j,z){let ee=!1;j.__webglInit===void 0&&(j.__webglInit=!0,z.addEventListener("dispose",T));const xe=z.source;let Ne=f.get(xe);Ne===void 0&&(Ne={},f.set(xe,Ne));const Ae=H(z);if(Ae!==j.__cacheKey){Ne[Ae]===void 0&&(Ne[Ae]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,ee=!0),Ne[Ae].usedTimes++;const Fe=Ne[j.__cacheKey];Fe!==void 0&&(Ne[j.__cacheKey].usedTimes--,Fe.usedTimes===0&&P(z)),j.__cacheKey=Ae,j.__webglTexture=Ne[Ae].texture}return ee}function te(j,z,ee){let xe=t.TEXTURE_2D;(z.isDataArrayTexture||z.isCompressedArrayTexture)&&(xe=t.TEXTURE_2D_ARRAY),z.isData3DTexture&&(xe=t.TEXTURE_3D);const Ne=Y(j,z),Ae=z.source;n.bindTexture(xe,j.__webglTexture,t.TEXTURE0+ee);const Fe=r.get(Ae);if(Ae.version!==Fe.__version||Ne===!0){n.activeTexture(t.TEXTURE0+ee);const Oe=lr.getPrimaries(lr.workingColorSpace),We=z.colorSpace===ro?null:lr.getPrimaries(z.colorSpace),ht=z.colorSpace===ro||Oe===We?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,z.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,z.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,z.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ht);const Ge=v(z)&&b(z.image)===!1;let Te=x(z.image,Ge,!1,i.maxTextureSize);Te=ge(z,Te);const nt=b(Te)||a,at=o.convert(z.format,z.colorSpace);let rt=o.convert(z.type),st=w(z.internalFormat,at,rt,z.colorSpace,z.isVideoTexture);X(xe,z,nt);let Ze;const re=z.mipmaps,Ve=a&&z.isVideoTexture!==!0&&st!==mb,Qe=Fe.__version===void 0||Ne===!0,lt=M(z,Te,nt);if(z.isDepthTexture)st=t.DEPTH_COMPONENT,a?z.type===$r?st=t.DEPTH_COMPONENT32F:z.type===Ns?st=t.DEPTH_COMPONENT24:z.type===ga?st=t.DEPTH24_STENCIL8:st=t.DEPTH_COMPONENT16:z.type===$r&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),z.format===Ls&&st===t.DEPTH_COMPONENT&&z.type!==l0&&z.type!==Ns&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),z.type=Ns,rt=o.convert(z.type)),z.format===il&&st===t.DEPTH_COMPONENT&&(st=t.DEPTH_STENCIL,z.type!==ga&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),z.type=ga,rt=o.convert(z.type))),Qe&&(Ve?n.texStorage2D(t.TEXTURE_2D,1,st,Te.width,Te.height):n.texImage2D(t.TEXTURE_2D,0,st,Te.width,Te.height,0,at,rt,null));else if(z.isDataTexture)if(re.length>0&&nt){Ve&&Qe&&n.texStorage2D(t.TEXTURE_2D,lt,st,re[0].width,re[0].height);for(let ce=0,Z=re.length;ce<Z;ce++)Ze=re[ce],Ve?n.texSubImage2D(t.TEXTURE_2D,ce,0,0,Ze.width,Ze.height,at,rt,Ze.data):n.texImage2D(t.TEXTURE_2D,ce,st,Ze.width,Ze.height,0,at,rt,Ze.data);z.generateMipmaps=!1}else Ve?(Qe&&n.texStorage2D(t.TEXTURE_2D,lt,st,Te.width,Te.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Te.width,Te.height,at,rt,Te.data)):n.texImage2D(t.TEXTURE_2D,0,st,Te.width,Te.height,0,at,rt,Te.data);else if(z.isCompressedTexture)if(z.isCompressedArrayTexture){Ve&&Qe&&n.texStorage3D(t.TEXTURE_2D_ARRAY,lt,st,re[0].width,re[0].height,Te.depth);for(let ce=0,Z=re.length;ce<Z;ce++)Ze=re[ce],z.format!==no?at!==null?Ve?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ce,0,0,0,Ze.width,Ze.height,Te.depth,at,Ze.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ce,st,Ze.width,Ze.height,Te.depth,0,Ze.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ve?n.texSubImage3D(t.TEXTURE_2D_ARRAY,ce,0,0,0,Ze.width,Ze.height,Te.depth,at,rt,Ze.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ce,st,Ze.width,Ze.height,Te.depth,0,at,rt,Ze.data)}else{Ve&&Qe&&n.texStorage2D(t.TEXTURE_2D,lt,st,re[0].width,re[0].height);for(let ce=0,Z=re.length;ce<Z;ce++)Ze=re[ce],z.format!==no?at!==null?Ve?n.compressedTexSubImage2D(t.TEXTURE_2D,ce,0,0,Ze.width,Ze.height,at,Ze.data):n.compressedTexImage2D(t.TEXTURE_2D,ce,st,Ze.width,Ze.height,0,Ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ve?n.texSubImage2D(t.TEXTURE_2D,ce,0,0,Ze.width,Ze.height,at,rt,Ze.data):n.texImage2D(t.TEXTURE_2D,ce,st,Ze.width,Ze.height,0,at,rt,Ze.data)}else if(z.isDataArrayTexture)Ve?(Qe&&n.texStorage3D(t.TEXTURE_2D_ARRAY,lt,st,Te.width,Te.height,Te.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Te.width,Te.height,Te.depth,at,rt,Te.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,st,Te.width,Te.height,Te.depth,0,at,rt,Te.data);else if(z.isData3DTexture)Ve?(Qe&&n.texStorage3D(t.TEXTURE_3D,lt,st,Te.width,Te.height,Te.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Te.width,Te.height,Te.depth,at,rt,Te.data)):n.texImage3D(t.TEXTURE_3D,0,st,Te.width,Te.height,Te.depth,0,at,rt,Te.data);else if(z.isFramebufferTexture){if(Qe)if(Ve)n.texStorage2D(t.TEXTURE_2D,lt,st,Te.width,Te.height);else{let ce=Te.width,Z=Te.height;for(let Re=0;Re<lt;Re++)n.texImage2D(t.TEXTURE_2D,Re,st,ce,Z,0,at,rt,null),ce>>=1,Z>>=1}}else if(re.length>0&&nt){Ve&&Qe&&n.texStorage2D(t.TEXTURE_2D,lt,st,re[0].width,re[0].height);for(let ce=0,Z=re.length;ce<Z;ce++)Ze=re[ce],Ve?n.texSubImage2D(t.TEXTURE_2D,ce,0,0,at,rt,Ze):n.texImage2D(t.TEXTURE_2D,ce,st,at,rt,Ze);z.generateMipmaps=!1}else Ve?(Qe&&n.texStorage2D(t.TEXTURE_2D,lt,st,Te.width,Te.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,at,rt,Te)):n.texImage2D(t.TEXTURE_2D,0,st,at,rt,Te);_(z,nt)&&S(xe),Fe.__version=Ae.version,z.onUpdate&&z.onUpdate(z)}j.__version=z.version}function oe(j,z,ee){if(z.image.length!==6)return;const xe=Y(j,z),Ne=z.source;n.bindTexture(t.TEXTURE_CUBE_MAP,j.__webglTexture,t.TEXTURE0+ee);const Ae=r.get(Ne);if(Ne.version!==Ae.__version||xe===!0){n.activeTexture(t.TEXTURE0+ee);const Fe=lr.getPrimaries(lr.workingColorSpace),Oe=z.colorSpace===ro?null:lr.getPrimaries(z.colorSpace),We=z.colorSpace===ro||Fe===Oe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,z.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,z.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,z.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,We);const ht=z.isCompressedTexture||z.image[0].isCompressedTexture,Ge=z.image[0]&&z.image[0].isDataTexture,Te=[];for(let ce=0;ce<6;ce++)!ht&&!Ge?Te[ce]=x(z.image[ce],!1,!0,i.maxCubemapSize):Te[ce]=Ge?z.image[ce].image:z.image[ce],Te[ce]=ge(z,Te[ce]);const nt=Te[0],at=b(nt)||a,rt=o.convert(z.format,z.colorSpace),st=o.convert(z.type),Ze=w(z.internalFormat,rt,st,z.colorSpace),re=a&&z.isVideoTexture!==!0,Ve=Ae.__version===void 0||xe===!0;let Qe=M(z,nt,at);X(t.TEXTURE_CUBE_MAP,z,at);let lt;if(ht){re&&Ve&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Qe,Ze,nt.width,nt.height);for(let ce=0;ce<6;ce++){lt=Te[ce].mipmaps;for(let Z=0;Z<lt.length;Z++){const Re=lt[Z];z.format!==no?rt!==null?re?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Z,0,0,Re.width,Re.height,rt,Re.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Z,Ze,Re.width,Re.height,0,Re.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):re?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Z,0,0,Re.width,Re.height,rt,st,Re.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Z,Ze,Re.width,Re.height,0,rt,st,Re.data)}}}else{lt=z.mipmaps,re&&Ve&&(lt.length>0&&Qe++,n.texStorage2D(t.TEXTURE_CUBE_MAP,Qe,Ze,Te[0].width,Te[0].height));for(let ce=0;ce<6;ce++)if(Ge){re?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,0,0,0,Te[ce].width,Te[ce].height,rt,st,Te[ce].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,0,Ze,Te[ce].width,Te[ce].height,0,rt,st,Te[ce].data);for(let Z=0;Z<lt.length;Z++){const Pe=lt[Z].image[ce].image;re?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Z+1,0,0,Pe.width,Pe.height,rt,st,Pe.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Z+1,Ze,Pe.width,Pe.height,0,rt,st,Pe.data)}}else{re?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,0,0,0,rt,st,Te[ce]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,0,Ze,rt,st,Te[ce]);for(let Z=0;Z<lt.length;Z++){const Re=lt[Z];re?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Z+1,0,0,rt,st,Re.image[ce]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Z+1,Ze,rt,st,Re.image[ce])}}}_(z,at)&&S(t.TEXTURE_CUBE_MAP),Ae.__version=Ne.version,z.onUpdate&&z.onUpdate(z)}j.__version=z.version}function ie(j,z,ee,xe,Ne,Ae){const Fe=o.convert(ee.format,ee.colorSpace),Oe=o.convert(ee.type),We=w(ee.internalFormat,Fe,Oe,ee.colorSpace);if(!r.get(z).__hasExternalTextures){const Ge=Math.max(1,z.width>>Ae),Te=Math.max(1,z.height>>Ae);Ne===t.TEXTURE_3D||Ne===t.TEXTURE_2D_ARRAY?n.texImage3D(Ne,Ae,We,Ge,Te,z.depth,0,Fe,Oe,null):n.texImage2D(Ne,Ae,We,Ge,Te,0,Fe,Oe,null)}n.bindFramebuffer(t.FRAMEBUFFER,j),ue(z)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,xe,Ne,r.get(ee).__webglTexture,0,Ee(z)):(Ne===t.TEXTURE_2D||Ne>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ne<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,xe,Ne,r.get(ee).__webglTexture,Ae),n.bindFramebuffer(t.FRAMEBUFFER,null)}function le(j,z,ee){if(t.bindRenderbuffer(t.RENDERBUFFER,j),z.depthBuffer&&!z.stencilBuffer){let xe=a===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(ee||ue(z)){const Ne=z.depthTexture;Ne&&Ne.isDepthTexture&&(Ne.type===$r?xe=t.DEPTH_COMPONENT32F:Ne.type===Ns&&(xe=t.DEPTH_COMPONENT24));const Ae=Ee(z);ue(z)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ae,xe,z.width,z.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Ae,xe,z.width,z.height)}else t.renderbufferStorage(t.RENDERBUFFER,xe,z.width,z.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,j)}else if(z.depthBuffer&&z.stencilBuffer){const xe=Ee(z);ee&&ue(z)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,xe,t.DEPTH24_STENCIL8,z.width,z.height):ue(z)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,xe,t.DEPTH24_STENCIL8,z.width,z.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,z.width,z.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,j)}else{const xe=z.isWebGLMultipleRenderTargets===!0?z.texture:[z.texture];for(let Ne=0;Ne<xe.length;Ne++){const Ae=xe[Ne],Fe=o.convert(Ae.format,Ae.colorSpace),Oe=o.convert(Ae.type),We=w(Ae.internalFormat,Fe,Oe,Ae.colorSpace),ht=Ee(z);ee&&ue(z)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ht,We,z.width,z.height):ue(z)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ht,We,z.width,z.height):t.renderbufferStorage(t.RENDERBUFFER,We,z.width,z.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ve(j,z){if(z&&z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,j),!(z.depthTexture&&z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(z.depthTexture).__webglTexture||z.depthTexture.image.width!==z.width||z.depthTexture.image.height!==z.height)&&(z.depthTexture.image.width=z.width,z.depthTexture.image.height=z.height,z.depthTexture.needsUpdate=!0),F(z.depthTexture,0);const xe=r.get(z.depthTexture).__webglTexture,Ne=Ee(z);if(z.depthTexture.format===Ls)ue(z)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,xe,0,Ne):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,xe,0);else if(z.depthTexture.format===il)ue(z)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,xe,0,Ne):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,xe,0);else throw new Error("Unknown depthTexture format")}function me(j){const z=r.get(j),ee=j.isWebGLCubeRenderTarget===!0;if(j.depthTexture&&!z.__autoAllocateDepthBuffer){if(ee)throw new Error("target.depthTexture not supported in Cube render targets");ve(z.__webglFramebuffer,j)}else if(ee){z.__webglDepthbuffer=[];for(let xe=0;xe<6;xe++)n.bindFramebuffer(t.FRAMEBUFFER,z.__webglFramebuffer[xe]),z.__webglDepthbuffer[xe]=t.createRenderbuffer(),le(z.__webglDepthbuffer[xe],j,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,z.__webglFramebuffer),z.__webglDepthbuffer=t.createRenderbuffer(),le(z.__webglDepthbuffer,j,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function we(j,z,ee){const xe=r.get(j);z!==void 0&&ie(xe.__webglFramebuffer,j,j.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ee!==void 0&&me(j)}function Q(j){const z=j.texture,ee=r.get(j),xe=r.get(z);j.addEventListener("dispose",N),j.isWebGLMultipleRenderTargets!==!0&&(xe.__webglTexture===void 0&&(xe.__webglTexture=t.createTexture()),xe.__version=z.version,s.memory.textures++);const Ne=j.isWebGLCubeRenderTarget===!0,Ae=j.isWebGLMultipleRenderTargets===!0,Fe=b(j)||a;if(Ne){ee.__webglFramebuffer=[];for(let Oe=0;Oe<6;Oe++)if(a&&z.mipmaps&&z.mipmaps.length>0){ee.__webglFramebuffer[Oe]=[];for(let We=0;We<z.mipmaps.length;We++)ee.__webglFramebuffer[Oe][We]=t.createFramebuffer()}else ee.__webglFramebuffer[Oe]=t.createFramebuffer()}else{if(a&&z.mipmaps&&z.mipmaps.length>0){ee.__webglFramebuffer=[];for(let Oe=0;Oe<z.mipmaps.length;Oe++)ee.__webglFramebuffer[Oe]=t.createFramebuffer()}else ee.__webglFramebuffer=t.createFramebuffer();if(Ae)if(i.drawBuffers){const Oe=j.texture;for(let We=0,ht=Oe.length;We<ht;We++){const Ge=r.get(Oe[We]);Ge.__webglTexture===void 0&&(Ge.__webglTexture=t.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&j.samples>0&&ue(j)===!1){const Oe=Ae?z:[z];ee.__webglMultisampledFramebuffer=t.createFramebuffer(),ee.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ee.__webglMultisampledFramebuffer);for(let We=0;We<Oe.length;We++){const ht=Oe[We];ee.__webglColorRenderbuffer[We]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ee.__webglColorRenderbuffer[We]);const Ge=o.convert(ht.format,ht.colorSpace),Te=o.convert(ht.type),nt=w(ht.internalFormat,Ge,Te,ht.colorSpace,j.isXRRenderTarget===!0),at=Ee(j);t.renderbufferStorageMultisample(t.RENDERBUFFER,at,nt,j.width,j.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+We,t.RENDERBUFFER,ee.__webglColorRenderbuffer[We])}t.bindRenderbuffer(t.RENDERBUFFER,null),j.depthBuffer&&(ee.__webglDepthRenderbuffer=t.createRenderbuffer(),le(ee.__webglDepthRenderbuffer,j,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Ne){n.bindTexture(t.TEXTURE_CUBE_MAP,xe.__webglTexture),X(t.TEXTURE_CUBE_MAP,z,Fe);for(let Oe=0;Oe<6;Oe++)if(a&&z.mipmaps&&z.mipmaps.length>0)for(let We=0;We<z.mipmaps.length;We++)ie(ee.__webglFramebuffer[Oe][We],j,z,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Oe,We);else ie(ee.__webglFramebuffer[Oe],j,z,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Oe,0);_(z,Fe)&&S(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ae){const Oe=j.texture;for(let We=0,ht=Oe.length;We<ht;We++){const Ge=Oe[We],Te=r.get(Ge);n.bindTexture(t.TEXTURE_2D,Te.__webglTexture),X(t.TEXTURE_2D,Ge,Fe),ie(ee.__webglFramebuffer,j,Ge,t.COLOR_ATTACHMENT0+We,t.TEXTURE_2D,0),_(Ge,Fe)&&S(t.TEXTURE_2D)}n.unbindTexture()}else{let Oe=t.TEXTURE_2D;if((j.isWebGL3DRenderTarget||j.isWebGLArrayRenderTarget)&&(a?Oe=j.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Oe,xe.__webglTexture),X(Oe,z,Fe),a&&z.mipmaps&&z.mipmaps.length>0)for(let We=0;We<z.mipmaps.length;We++)ie(ee.__webglFramebuffer[We],j,z,t.COLOR_ATTACHMENT0,Oe,We);else ie(ee.__webglFramebuffer,j,z,t.COLOR_ATTACHMENT0,Oe,0);_(z,Fe)&&S(Oe),n.unbindTexture()}j.depthBuffer&&me(j)}function fe(j){const z=b(j)||a,ee=j.isWebGLMultipleRenderTargets===!0?j.texture:[j.texture];for(let xe=0,Ne=ee.length;xe<Ne;xe++){const Ae=ee[xe];if(_(Ae,z)){const Fe=j.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Oe=r.get(Ae).__webglTexture;n.bindTexture(Fe,Oe),S(Fe),n.unbindTexture()}}}function he(j){if(a&&j.samples>0&&ue(j)===!1){const z=j.isWebGLMultipleRenderTargets?j.texture:[j.texture],ee=j.width,xe=j.height;let Ne=t.COLOR_BUFFER_BIT;const Ae=[],Fe=j.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Oe=r.get(j),We=j.isWebGLMultipleRenderTargets===!0;if(We)for(let ht=0;ht<z.length;ht++)n.bindFramebuffer(t.FRAMEBUFFER,Oe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ht,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Oe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ht,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Oe.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Oe.__webglFramebuffer);for(let ht=0;ht<z.length;ht++){Ae.push(t.COLOR_ATTACHMENT0+ht),j.depthBuffer&&Ae.push(Fe);const Ge=Oe.__ignoreDepthValues!==void 0?Oe.__ignoreDepthValues:!1;if(Ge===!1&&(j.depthBuffer&&(Ne|=t.DEPTH_BUFFER_BIT),j.stencilBuffer&&(Ne|=t.STENCIL_BUFFER_BIT)),We&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Oe.__webglColorRenderbuffer[ht]),Ge===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[Fe]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Fe])),We){const Te=r.get(z[ht]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Te,0)}t.blitFramebuffer(0,0,ee,xe,0,0,ee,xe,Ne,t.NEAREST),c&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ae)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),We)for(let ht=0;ht<z.length;ht++){n.bindFramebuffer(t.FRAMEBUFFER,Oe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ht,t.RENDERBUFFER,Oe.__webglColorRenderbuffer[ht]);const Ge=r.get(z[ht]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Oe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ht,t.TEXTURE_2D,Ge,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Oe.__webglMultisampledFramebuffer)}}function Ee(j){return Math.min(i.maxSamples,j.samples)}function ue(j){const z=r.get(j);return a&&j.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&z.__useRenderToTexture!==!1}function ke(j){const z=s.render.frame;u.get(j)!==z&&(u.set(j,z),j.update())}function ge(j,z){const ee=j.colorSpace,xe=j.format,Ne=j.type;return j.isCompressedTexture===!0||j.isVideoTexture===!0||j.format===dx||ee!==ps&&ee!==ro&&(lr.getTransfer(ee)===Sr?a===!1?e.has("EXT_sRGB")===!0&&xe===no?(j.format=dx,j.minFilter=Fr,j.generateMipmaps=!1):z=aT.sRGBToLinear(z):(xe!==no||Ne!==cs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ee)),z}this.allocateTextureUnit=D,this.resetTextureUnits=V,this.setTexture2D=F,this.setTexture2DArray=k,this.setTexture3D=O,this.setTextureCube=B,this.rebindTextures=we,this.setupRenderTarget=Q,this.updateRenderTargetMipmap=fe,this.updateMultisampleRenderTarget=he,this.setupDepthRenderbuffer=me,this.setupFrameBufferTexture=ie,this.useMultisampledRTT=ue}function sH(t,e,n){const r=n.isWebGL2;function i(o,s=ro){let a;const l=lr.getTransfer(s);if(o===cs)return t.UNSIGNED_BYTE;if(o===cb)return t.UNSIGNED_SHORT_4_4_4_4;if(o===ub)return t.UNSIGNED_SHORT_5_5_5_1;if(o===YE)return t.BYTE;if(o===ZE)return t.SHORT;if(o===l0)return t.UNSIGNED_SHORT;if(o===c0)return t.INT;if(o===Ns)return t.UNSIGNED_INT;if(o===$r)return t.FLOAT;if(o===Za)return r?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(o===QE)return t.ALPHA;if(o===no)return t.RGBA;if(o===JE)return t.LUMINANCE;if(o===eT)return t.LUMINANCE_ALPHA;if(o===Ls)return t.DEPTH_COMPONENT;if(o===il)return t.DEPTH_STENCIL;if(o===dx)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(o===Sm)return t.RED;if(o===db)return t.RED_INTEGER;if(o===fb)return t.RG;if(o===hb)return t.RG_INTEGER;if(o===pb)return t.RGBA_INTEGER;if(o===yf||o===Uu||o===Bu||o===ku)if(l===Sr)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(o===yf)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===Uu)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===Bu)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===ku)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(o===yf)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===Uu)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===Bu)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===ku)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===Nv||o===Iv||o===Ov||o===Lv)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(o===Nv)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===Iv)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===Ov)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===Lv)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===mb)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===_m||o===wm)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(o===_m)return l===Sr?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(o===wm)return l===Sr?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===Cm||o===Em||o===Tm||o===Mm||o===Rm||o===Am||o===Pm||o===Nm||o===Im||o===Om||o===Lm||o===Dm||o===Fm||o===$m)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(o===Cm)return l===Sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===Em)return l===Sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===Tm)return l===Sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===Mm)return l===Sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===Rm)return l===Sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===Am)return l===Sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===Pm)return l===Sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===Nm)return l===Sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===Im)return l===Sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===Om)return l===Sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===Lm)return l===Sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===Dm)return l===Sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===Fm)return l===Sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===$m)return l===Sr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===xf||o===tw||o===nw)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(o===xf)return l===Sr?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(o===tw)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(o===nw)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(o===tT||o===Dv||o===Fv||o===$v)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(o===xf)return a.COMPRESSED_RED_RGTC1_EXT;if(o===Dv)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===Fv)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===$v)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===ga?r?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[o]!==void 0?t[o]:null}return{convert:i}}class aH extends Yr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Np extends tr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const S5e={type:"move"};class Z8{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Np,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Np,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new J,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new J),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Np,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new J,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new J),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,s=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const x of e.hand.values()){const b=n.getJointPose(x,r),v=this._getHandJoint(c,x);b!==null&&(v.matrix.fromArray(b.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=b.radius),v.visible=b!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),h=.02,g=.005;c.inputState.pinching&&f>h+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(S5e)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Np;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class _5e extends Ta{constructor(e,n){super();const r=this;let i=null,o=1,s=null,a="local-floor",l=1,c=null,u=null,d=null,f=null,h=null,g=null;const x=n.getContextAttributes();let b=null,v=null;const _=[],S=[],w=new Xe;let M=null;const E=new Yr;E.layers.enable(1),E.viewport=new En;const T=new Yr;T.layers.enable(2),T.viewport=new En;const N=[E,T],R=new aH;R.layers.enable(1),R.layers.enable(2);let P=null,L=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(X){let Y=_[X];return Y===void 0&&(Y=new Z8,_[X]=Y),Y.getTargetRaySpace()},this.getControllerGrip=function(X){let Y=_[X];return Y===void 0&&(Y=new Z8,_[X]=Y),Y.getGripSpace()},this.getHand=function(X){let Y=_[X];return Y===void 0&&(Y=new Z8,_[X]=Y),Y.getHandSpace()};function $(X){const Y=S.indexOf(X.inputSource);if(Y===-1)return;const te=_[Y];te!==void 0&&(te.update(X.inputSource,X.frame,c||s),te.dispatchEvent({type:X.type,data:X.inputSource}))}function V(){i.removeEventListener("select",$),i.removeEventListener("selectstart",$),i.removeEventListener("selectend",$),i.removeEventListener("squeeze",$),i.removeEventListener("squeezestart",$),i.removeEventListener("squeezeend",$),i.removeEventListener("end",V),i.removeEventListener("inputsourceschange",D);for(let X=0;X<_.length;X++){const Y=S[X];Y!==null&&(S[X]=null,_[X].disconnect(Y))}P=null,L=null,e.setRenderTarget(b),h=null,f=null,d=null,i=null,v=null,K.stop(),r.isPresenting=!1,e.setPixelRatio(M),e.setSize(w.width,w.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(X){o=X,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(X){a=X,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(X){c=X},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return d},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(X){if(i=X,i!==null){if(b=e.getRenderTarget(),i.addEventListener("select",$),i.addEventListener("selectstart",$),i.addEventListener("selectend",$),i.addEventListener("squeeze",$),i.addEventListener("squeezestart",$),i.addEventListener("squeezeend",$),i.addEventListener("end",V),i.addEventListener("inputsourceschange",D),x.xrCompatible!==!0&&await n.makeXRCompatible(),M=e.getPixelRatio(),e.getSize(w),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Y={antialias:i.renderState.layers===void 0?x.antialias:!0,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:o};h=new XRWebGLLayer(i,n,Y),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),v=new ol(h.framebufferWidth,h.framebufferHeight,{format:no,type:cs,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})}else{let Y=null,te=null,oe=null;x.depth&&(oe=x.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Y=x.stencil?il:Ls,te=x.stencil?ga:Ns);const ie={colorFormat:n.RGBA8,depthFormat:oe,scaleFactor:o};d=new XRWebGLBinding(i,n),f=d.createProjectionLayer(ie),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),v=new ol(f.textureWidth,f.textureHeight,{format:no,type:cs,depthTexture:new ad(f.textureWidth,f.textureHeight,te,void 0,void 0,void 0,void 0,void 0,void 0,Y),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0});const le=e.properties.get(v);le.__ignoreDepthValues=f.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await i.requestReferenceSpace(a),K.setContext(i),K.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function D(X){for(let Y=0;Y<X.removed.length;Y++){const te=X.removed[Y],oe=S.indexOf(te);oe>=0&&(S[oe]=null,_[oe].disconnect(te))}for(let Y=0;Y<X.added.length;Y++){const te=X.added[Y];let oe=S.indexOf(te);if(oe===-1){for(let le=0;le<_.length;le++)if(le>=S.length){S.push(te),oe=le;break}else if(S[le]===null){S[le]=te,oe=le;break}if(oe===-1)break}const ie=_[oe];ie&&ie.connect(te)}}const H=new J,F=new J;function k(X,Y,te){H.setFromMatrixPosition(Y.matrixWorld),F.setFromMatrixPosition(te.matrixWorld);const oe=H.distanceTo(F),ie=Y.projectionMatrix.elements,le=te.projectionMatrix.elements,ve=ie[14]/(ie[10]-1),me=ie[14]/(ie[10]+1),we=(ie[9]+1)/ie[5],Q=(ie[9]-1)/ie[5],fe=(ie[8]-1)/ie[0],he=(le[8]+1)/le[0],Ee=ve*fe,ue=ve*he,ke=oe/(-fe+he),ge=ke*-fe;Y.matrixWorld.decompose(X.position,X.quaternion,X.scale),X.translateX(ge),X.translateZ(ke),X.matrixWorld.compose(X.position,X.quaternion,X.scale),X.matrixWorldInverse.copy(X.matrixWorld).invert();const j=ve+ke,z=me+ke,ee=Ee-ge,xe=ue+(oe-ge),Ne=we*me/z*j,Ae=Q*me/z*j;X.projectionMatrix.makePerspective(ee,xe,Ne,Ae,j,z),X.projectionMatrixInverse.copy(X.projectionMatrix).invert()}function O(X,Y){Y===null?X.matrixWorld.copy(X.matrix):X.matrixWorld.multiplyMatrices(Y.matrixWorld,X.matrix),X.matrixWorldInverse.copy(X.matrixWorld).invert()}this.updateCamera=function(X){if(i===null)return;R.near=T.near=E.near=X.near,R.far=T.far=E.far=X.far,(P!==R.near||L!==R.far)&&(i.updateRenderState({depthNear:R.near,depthFar:R.far}),P=R.near,L=R.far);const Y=X.parent,te=R.cameras;O(R,Y);for(let oe=0;oe<te.length;oe++)O(te[oe],Y);te.length===2?k(R,E,T):R.projectionMatrix.copy(E.projectionMatrix),B(X,R,Y)};function B(X,Y,te){te===null?X.matrix.copy(Y.matrixWorld):(X.matrix.copy(te.matrixWorld),X.matrix.invert(),X.matrix.multiply(Y.matrixWorld)),X.matrix.decompose(X.position,X.quaternion,X.scale),X.updateMatrixWorld(!0),X.projectionMatrix.copy(Y.projectionMatrix),X.projectionMatrixInverse.copy(Y.projectionMatrixInverse),X.isPerspectiveCamera&&(X.fov=Bm*2*Math.atan(1/X.projectionMatrix.elements[5]),X.zoom=1)}this.getCamera=function(){return R},this.getFoveation=function(){if(!(f===null&&h===null))return l},this.setFoveation=function(X){l=X,f!==null&&(f.fixedFoveation=X),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=X)};let G=null;function W(X,Y){if(u=Y.getViewerPose(c||s),g=Y,u!==null){const te=u.views;h!==null&&(e.setRenderTargetFramebuffer(v,h.framebuffer),e.setRenderTarget(v));let oe=!1;te.length!==R.cameras.length&&(R.cameras.length=0,oe=!0);for(let ie=0;ie<te.length;ie++){const le=te[ie];let ve=null;if(h!==null)ve=h.getViewport(le);else{const we=d.getViewSubImage(f,le);ve=we.viewport,ie===0&&(e.setRenderTargetTextures(v,we.colorTexture,f.ignoreDepthValues?void 0:we.depthStencilTexture),e.setRenderTarget(v))}let me=N[ie];me===void 0&&(me=new Yr,me.layers.enable(ie),me.viewport=new En,N[ie]=me),me.matrix.fromArray(le.transform.matrix),me.matrix.decompose(me.position,me.quaternion,me.scale),me.projectionMatrix.fromArray(le.projectionMatrix),me.projectionMatrixInverse.copy(me.projectionMatrix).invert(),me.viewport.set(ve.x,ve.y,ve.width,ve.height),ie===0&&(R.matrix.copy(me.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),oe===!0&&R.cameras.push(me)}}for(let te=0;te<_.length;te++){const oe=S[te],ie=_[te];oe!==null&&ie!==void 0&&ie.update(oe,Y,c||s)}G&&G(X,Y),Y.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Y}),g=null}const K=new eH;K.setAnimationLoop(W),this.setAnimationLoop=function(X){G=X},this.dispose=function(){}}}function w5e(t,e){function n(b,v){b.matrixAutoUpdate===!0&&b.updateMatrix(),v.value.copy(b.matrix)}function r(b,v){v.color.getRGB(b.fogColor.value,JV(t)),v.isFog?(b.fogNear.value=v.near,b.fogFar.value=v.far):v.isFogExp2&&(b.fogDensity.value=v.density)}function i(b,v,_,S,w){v.isMeshBasicMaterial||v.isMeshLambertMaterial?o(b,v):v.isMeshToonMaterial?(o(b,v),d(b,v)):v.isMeshPhongMaterial?(o(b,v),u(b,v)):v.isMeshStandardMaterial?(o(b,v),f(b,v),v.isMeshPhysicalMaterial&&h(b,v,w)):v.isMeshMatcapMaterial?(o(b,v),g(b,v)):v.isMeshDepthMaterial?o(b,v):v.isMeshDistanceMaterial?(o(b,v),x(b,v)):v.isMeshNormalMaterial?o(b,v):v.isLineBasicMaterial?(s(b,v),v.isLineDashedMaterial&&a(b,v)):v.isPointsMaterial?l(b,v,_,S):v.isSpriteMaterial?c(b,v):v.isShadowMaterial?(b.color.value.copy(v.color),b.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function o(b,v){b.opacity.value=v.opacity,v.color&&b.diffuse.value.copy(v.color),v.emissive&&b.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(b.map.value=v.map,n(v.map,b.mapTransform)),v.alphaMap&&(b.alphaMap.value=v.alphaMap,n(v.alphaMap,b.alphaMapTransform)),v.bumpMap&&(b.bumpMap.value=v.bumpMap,n(v.bumpMap,b.bumpMapTransform),b.bumpScale.value=v.bumpScale,v.side===di&&(b.bumpScale.value*=-1)),v.normalMap&&(b.normalMap.value=v.normalMap,n(v.normalMap,b.normalMapTransform),b.normalScale.value.copy(v.normalScale),v.side===di&&b.normalScale.value.negate()),v.displacementMap&&(b.displacementMap.value=v.displacementMap,n(v.displacementMap,b.displacementMapTransform),b.displacementScale.value=v.displacementScale,b.displacementBias.value=v.displacementBias),v.emissiveMap&&(b.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,b.emissiveMapTransform)),v.specularMap&&(b.specularMap.value=v.specularMap,n(v.specularMap,b.specularMapTransform)),v.alphaTest>0&&(b.alphaTest.value=v.alphaTest);const _=e.get(v).envMap;if(_&&(b.envMap.value=_,b.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,b.reflectivity.value=v.reflectivity,b.ior.value=v.ior,b.refractionRatio.value=v.refractionRatio),v.lightMap){b.lightMap.value=v.lightMap;const S=t._useLegacyLights===!0?Math.PI:1;b.lightMapIntensity.value=v.lightMapIntensity*S,n(v.lightMap,b.lightMapTransform)}v.aoMap&&(b.aoMap.value=v.aoMap,b.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,b.aoMapTransform))}function s(b,v){b.diffuse.value.copy(v.color),b.opacity.value=v.opacity,v.map&&(b.map.value=v.map,n(v.map,b.mapTransform))}function a(b,v){b.dashSize.value=v.dashSize,b.totalSize.value=v.dashSize+v.gapSize,b.scale.value=v.scale}function l(b,v,_,S){b.diffuse.value.copy(v.color),b.opacity.value=v.opacity,b.size.value=v.size*_,b.scale.value=S*.5,v.map&&(b.map.value=v.map,n(v.map,b.uvTransform)),v.alphaMap&&(b.alphaMap.value=v.alphaMap,n(v.alphaMap,b.alphaMapTransform)),v.alphaTest>0&&(b.alphaTest.value=v.alphaTest)}function c(b,v){b.diffuse.value.copy(v.color),b.opacity.value=v.opacity,b.rotation.value=v.rotation,v.map&&(b.map.value=v.map,n(v.map,b.mapTransform)),v.alphaMap&&(b.alphaMap.value=v.alphaMap,n(v.alphaMap,b.alphaMapTransform)),v.alphaTest>0&&(b.alphaTest.value=v.alphaTest)}function u(b,v){b.specular.value.copy(v.specular),b.shininess.value=Math.max(v.shininess,1e-4)}function d(b,v){v.gradientMap&&(b.gradientMap.value=v.gradientMap)}function f(b,v){b.metalness.value=v.metalness,v.metalnessMap&&(b.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,b.metalnessMapTransform)),b.roughness.value=v.roughness,v.roughnessMap&&(b.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,b.roughnessMapTransform)),e.get(v).envMap&&(b.envMapIntensity.value=v.envMapIntensity)}function h(b,v,_){b.ior.value=v.ior,v.sheen>0&&(b.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),b.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(b.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,b.sheenColorMapTransform)),v.sheenRoughnessMap&&(b.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,b.sheenRoughnessMapTransform))),v.clearcoat>0&&(b.clearcoat.value=v.clearcoat,b.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(b.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,b.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(b.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,b.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(b.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,b.clearcoatNormalMapTransform),b.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===di&&b.clearcoatNormalScale.value.negate())),v.iridescence>0&&(b.iridescence.value=v.iridescence,b.iridescenceIOR.value=v.iridescenceIOR,b.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],b.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(b.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,b.iridescenceMapTransform)),v.iridescenceThicknessMap&&(b.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,b.iridescenceThicknessMapTransform))),v.transmission>0&&(b.transmission.value=v.transmission,b.transmissionSamplerMap.value=_.texture,b.transmissionSamplerSize.value.set(_.width,_.height),v.transmissionMap&&(b.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,b.transmissionMapTransform)),b.thickness.value=v.thickness,v.thicknessMap&&(b.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,b.thicknessMapTransform)),b.attenuationDistance.value=v.attenuationDistance,b.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(b.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(b.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,b.anisotropyMapTransform))),b.specularIntensity.value=v.specularIntensity,b.specularColor.value.copy(v.specularColor),v.specularColorMap&&(b.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,b.specularColorMapTransform)),v.specularIntensityMap&&(b.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,b.specularIntensityMapTransform))}function g(b,v){v.matcap&&(b.matcap.value=v.matcap)}function x(b,v){const _=e.get(v).light;b.referencePosition.value.setFromMatrixPosition(_.matrixWorld),b.nearDistance.value=_.shadow.camera.near,b.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function C5e(t,e,n,r){let i={},o={},s=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(_,S){const w=S.program;r.uniformBlockBinding(_,w)}function c(_,S){let w=i[_.id];w===void 0&&(g(_),w=u(_),i[_.id]=w,_.addEventListener("dispose",b));const M=S.program;r.updateUBOMapping(_,M);const E=e.render.frame;o[_.id]!==E&&(f(_),o[_.id]=E)}function u(_){const S=d();_.__bindingPointIndex=S;const w=t.createBuffer(),M=_.__size,E=_.usage;return t.bindBuffer(t.UNIFORM_BUFFER,w),t.bufferData(t.UNIFORM_BUFFER,M,E),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,S,w),w}function d(){for(let _=0;_<a;_++)if(s.indexOf(_)===-1)return s.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(_){const S=i[_.id],w=_.uniforms,M=_.__cache;t.bindBuffer(t.UNIFORM_BUFFER,S);for(let E=0,T=w.length;E<T;E++){const N=Array.isArray(w[E])?w[E]:[w[E]];for(let R=0,P=N.length;R<P;R++){const L=N[R];if(h(L,E,R,M)===!0){const $=L.__offset,V=Array.isArray(L.value)?L.value:[L.value];let D=0;for(let H=0;H<V.length;H++){const F=V[H],k=x(F);typeof F=="number"||typeof F=="boolean"?(L.__data[0]=F,t.bufferSubData(t.UNIFORM_BUFFER,$+D,L.__data)):F.isMatrix3?(L.__data[0]=F.elements[0],L.__data[1]=F.elements[1],L.__data[2]=F.elements[2],L.__data[3]=0,L.__data[4]=F.elements[3],L.__data[5]=F.elements[4],L.__data[6]=F.elements[5],L.__data[7]=0,L.__data[8]=F.elements[6],L.__data[9]=F.elements[7],L.__data[10]=F.elements[8],L.__data[11]=0):(F.toArray(L.__data,D),D+=k.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,$,L.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(_,S,w,M){const E=_.value,T=S+"_"+w;if(M[T]===void 0)return typeof E=="number"||typeof E=="boolean"?M[T]=E:M[T]=E.clone(),!0;{const N=M[T];if(typeof E=="number"||typeof E=="boolean"){if(N!==E)return M[T]=E,!0}else if(N.equals(E)===!1)return N.copy(E),!0}return!1}function g(_){const S=_.uniforms;let w=0;const M=16;for(let T=0,N=S.length;T<N;T++){const R=Array.isArray(S[T])?S[T]:[S[T]];for(let P=0,L=R.length;P<L;P++){const $=R[P],V=Array.isArray($.value)?$.value:[$.value];for(let D=0,H=V.length;D<H;D++){const F=V[D],k=x(F),O=w%M;O!==0&&M-O<k.boundary&&(w+=M-O),$.__data=new Float32Array(k.storage/Float32Array.BYTES_PER_ELEMENT),$.__offset=w,w+=k.storage}}}const E=w%M;return E>0&&(w+=M-E),_.__size=w,_.__cache={},this}function x(_){const S={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(S.boundary=4,S.storage=4):_.isVector2?(S.boundary=8,S.storage=8):_.isVector3||_.isColor?(S.boundary=16,S.storage=12):_.isVector4?(S.boundary=16,S.storage=16):_.isMatrix3?(S.boundary=48,S.storage=48):_.isMatrix4?(S.boundary=64,S.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),S}function b(_){const S=_.target;S.removeEventListener("dispose",b);const w=s.indexOf(S.__bindingPointIndex);s.splice(w,1),t.deleteBuffer(i[S.id]),delete i[S.id],delete o[S.id]}function v(){for(const _ in i)t.deleteBuffer(i[_]);s=[],i={},o={}}return{bind:l,update:c,dispose:v}}class gT{constructor(e={}){const{canvas:n=sT(),context:r=null,depth:i=!0,stencil:o=!0,alpha:s=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let f;r!==null?f=r.getContextAttributes().alpha:f=s;const h=new Uint32Array(4),g=new Int32Array(4);let x=null,b=null;const v=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Wt,this._useLegacyLights=!1,this.toneMapping=Vo,this.toneMappingExposure=1;const S=this;let w=!1,M=0,E=0,T=null,N=-1,R=null;const P=new En,L=new En;let $=null;const V=new Tt(0);let D=0,H=n.width,F=n.height,k=1,O=null,B=null;const G=new En(0,0,H,F),W=new En(0,0,H,F);let K=!1;const X=new d0;let Y=!1,te=!1,oe=null;const ie=new cn,le=new Xe,ve=new J,me={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function we(){return T===null?k:1}let Q=r;function fe(q,de){for(let Se=0;Se<q.length;Se++){const De=q[Se],$e=n.getContext(De,de);if($e!==null)return $e}return null}try{const q={alpha:!0,depth:i,stencil:o,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Yf}`),n.addEventListener("webglcontextlost",ce,!1),n.addEventListener("webglcontextrestored",Z,!1),n.addEventListener("webglcontextcreationerror",Re,!1),Q===null){const de=["webgl2","webgl","experimental-webgl"];if(S.isWebGL1Renderer===!0&&de.shift(),Q=fe(de,q),Q===null)throw fe(de)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Q instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Q.getShaderPrecisionFormat===void 0&&(Q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(q){throw console.error("THREE.WebGLRenderer: "+q.message),q}let he,Ee,ue,ke,ge,j,z,ee,xe,Ne,Ae,Fe,Oe,We,ht,Ge,Te,nt,at,rt,st,Ze,re,Ve;function Qe(){he=new U2e(Q),Ee=new I2e(Q,he,e),he.init(Ee),Ze=new sH(Q,he,Ee),ue=new x5e(Q,he,Ee),ke=new z2e(Q),ge=new a5e,j=new b5e(Q,he,ue,ge,Ee,Ze,ke),z=new L2e(S),ee=new $2e(S),xe=new Kve(Q,Ee),re=new P2e(Q,he,xe,Ee),Ne=new B2e(Q,xe,ke,re),Ae=new W2e(Q,Ne,xe,ke),at=new G2e(Q,Ee,j),Ge=new O2e(ge),Fe=new s5e(S,z,ee,he,Ee,re,Ge),Oe=new w5e(S,ge),We=new c5e,ht=new m5e(he,Ee),nt=new A2e(S,z,ee,ue,Ae,f,l),Te=new y5e(S,Ae,Ee),Ve=new C5e(Q,ke,Ee,ue),rt=new N2e(Q,he,ke,Ee),st=new k2e(Q,he,ke,Ee),ke.programs=Fe.programs,S.capabilities=Ee,S.extensions=he,S.properties=ge,S.renderLists=We,S.shadowMap=Te,S.state=ue,S.info=ke}Qe();const lt=new _5e(S,Q);this.xr=lt,this.getContext=function(){return Q},this.getContextAttributes=function(){return Q.getContextAttributes()},this.forceContextLoss=function(){const q=he.get("WEBGL_lose_context");q&&q.loseContext()},this.forceContextRestore=function(){const q=he.get("WEBGL_lose_context");q&&q.restoreContext()},this.getPixelRatio=function(){return k},this.setPixelRatio=function(q){q!==void 0&&(k=q,this.setSize(H,F,!1))},this.getSize=function(q){return q.set(H,F)},this.setSize=function(q,de,Se=!0){if(lt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}H=q,F=de,n.width=Math.floor(q*k),n.height=Math.floor(de*k),Se===!0&&(n.style.width=q+"px",n.style.height=de+"px"),this.setViewport(0,0,q,de)},this.getDrawingBufferSize=function(q){return q.set(H*k,F*k).floor()},this.setDrawingBufferSize=function(q,de,Se){H=q,F=de,k=Se,n.width=Math.floor(q*Se),n.height=Math.floor(de*Se),this.setViewport(0,0,q,de)},this.getCurrentViewport=function(q){return q.copy(P)},this.getViewport=function(q){return q.copy(G)},this.setViewport=function(q,de,Se,De){q.isVector4?G.set(q.x,q.y,q.z,q.w):G.set(q,de,Se,De),ue.viewport(P.copy(G).multiplyScalar(k).floor())},this.getScissor=function(q){return q.copy(W)},this.setScissor=function(q,de,Se,De){q.isVector4?W.set(q.x,q.y,q.z,q.w):W.set(q,de,Se,De),ue.scissor(L.copy(W).multiplyScalar(k).floor())},this.getScissorTest=function(){return K},this.setScissorTest=function(q){ue.setScissorTest(K=q)},this.setOpaqueSort=function(q){O=q},this.setTransparentSort=function(q){B=q},this.getClearColor=function(q){return q.copy(nt.getClearColor())},this.setClearColor=function(){nt.setClearColor.apply(nt,arguments)},this.getClearAlpha=function(){return nt.getClearAlpha()},this.setClearAlpha=function(){nt.setClearAlpha.apply(nt,arguments)},this.clear=function(q=!0,de=!0,Se=!0){let De=0;if(q){let $e=!1;if(T!==null){const _t=T.texture.format;$e=_t===pb||_t===hb||_t===db}if($e){const _t=T.texture.type,Nt=_t===cs||_t===Ns||_t===l0||_t===ga||_t===cb||_t===ub,zt=nt.getClearColor(),$t=nt.getClearAlpha(),qt=zt.r,en=zt.g,Xt=zt.b;Nt?(h[0]=qt,h[1]=en,h[2]=Xt,h[3]=$t,Q.clearBufferuiv(Q.COLOR,0,h)):(g[0]=qt,g[1]=en,g[2]=Xt,g[3]=$t,Q.clearBufferiv(Q.COLOR,0,g))}else De|=Q.COLOR_BUFFER_BIT}de&&(De|=Q.DEPTH_BUFFER_BIT),Se&&(De|=Q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Q.clear(De)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",ce,!1),n.removeEventListener("webglcontextrestored",Z,!1),n.removeEventListener("webglcontextcreationerror",Re,!1),We.dispose(),ht.dispose(),ge.dispose(),z.dispose(),ee.dispose(),Ae.dispose(),re.dispose(),Ve.dispose(),Fe.dispose(),lt.dispose(),lt.removeEventListener("sessionstart",dt),lt.removeEventListener("sessionend",it),oe&&(oe.dispose(),oe=null),gt.stop()};function ce(q){q.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function Z(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const q=ke.autoReset,de=Te.enabled,Se=Te.autoUpdate,De=Te.needsUpdate,$e=Te.type;Qe(),ke.autoReset=q,Te.enabled=de,Te.autoUpdate=Se,Te.needsUpdate=De,Te.type=$e}function Re(q){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",q.statusMessage)}function Pe(q){const de=q.target;de.removeEventListener("dispose",Pe),Je(de)}function Je(q){ft(q),ge.remove(q)}function ft(q){const de=ge.get(q).programs;de!==void 0&&(de.forEach(function(Se){Fe.releaseProgram(Se)}),q.isShaderMaterial&&Fe.releaseShaderCache(q))}this.renderBufferDirect=function(q,de,Se,De,$e,_t){de===null&&(de=me);const Nt=$e.isMesh&&$e.matrixWorld.determinant()<0,zt=vn(q,de,Se,De,$e);ue.setMaterial(De,Nt);let $t=Se.index,qt=1;if(De.wireframe===!0){if($t=Ne.getWireframeAttribute(Se),$t===void 0)return;qt=2}const en=Se.drawRange,Xt=Se.attributes.position;let Ln=en.start*qt,hr=(en.start+en.count)*qt;_t!==null&&(Ln=Math.max(Ln,_t.start*qt),hr=Math.min(hr,(_t.start+_t.count)*qt)),$t!==null?(Ln=Math.max(Ln,0),hr=Math.min(hr,$t.count)):Xt!=null&&(Ln=Math.max(Ln,0),hr=Math.min(hr,Xt.count));const Fn=hr-Ln;if(Fn<0||Fn===1/0)return;re.setup($e,De,zt,Se,$t);let nr,Vt=rt;if($t!==null&&(nr=xe.get($t),Vt=st,Vt.setIndex(nr)),$e.isMesh)De.wireframe===!0?(ue.setLineWidth(De.wireframeLinewidth*we()),Vt.setMode(Q.LINES)):Vt.setMode(Q.TRIANGLES);else if($e.isLine){let Rt=De.linewidth;Rt===void 0&&(Rt=1),ue.setLineWidth(Rt*we()),$e.isLineSegments?Vt.setMode(Q.LINES):$e.isLineLoop?Vt.setMode(Q.LINE_LOOP):Vt.setMode(Q.LINE_STRIP)}else $e.isPoints?Vt.setMode(Q.POINTS):$e.isSprite&&Vt.setMode(Q.TRIANGLES);if($e.isBatchedMesh)Vt.renderMultiDraw($e._multiDrawStarts,$e._multiDrawCounts,$e._multiDrawCount);else if($e.isInstancedMesh)Vt.renderInstances(Ln,Fn,$e.count);else if(Se.isInstancedBufferGeometry){const Rt=Se._maxInstanceCount!==void 0?Se._maxInstanceCount:1/0,Nr=Math.min(Se.instanceCount,Rt);Vt.renderInstances(Ln,Fn,Nr)}else Vt.render(Ln,Fn)};function wt(q,de,Se){q.transparent===!0&&q.side===ko&&q.forceSinglePass===!1?(q.side=di,q.needsUpdate=!0,dn(q,de,Se),q.side=nl,q.needsUpdate=!0,dn(q,de,Se),q.side=ko):dn(q,de,Se)}this.compile=function(q,de,Se=null){Se===null&&(Se=q),b=ht.get(Se),b.init(),_.push(b),Se.traverseVisible(function($e){$e.isLight&&$e.layers.test(de.layers)&&(b.pushLight($e),$e.castShadow&&b.pushShadow($e))}),q!==Se&&q.traverseVisible(function($e){$e.isLight&&$e.layers.test(de.layers)&&(b.pushLight($e),$e.castShadow&&b.pushShadow($e))}),b.setupLights(S._useLegacyLights);const De=new Set;return q.traverse(function($e){const _t=$e.material;if(_t)if(Array.isArray(_t))for(let Nt=0;Nt<_t.length;Nt++){const zt=_t[Nt];wt(zt,Se,$e),De.add(zt)}else wt(_t,Se,$e),De.add(_t)}),_.pop(),b=null,De},this.compileAsync=function(q,de,Se=null){const De=this.compile(q,de,Se);return new Promise($e=>{function _t(){if(De.forEach(function(Nt){ge.get(Nt).currentProgram.isReady()&&De.delete(Nt)}),De.size===0){$e(q);return}setTimeout(_t,10)}he.get("KHR_parallel_shader_compile")!==null?_t():setTimeout(_t,10)})};let mt=null;function Ye(q){mt&&mt(q)}function dt(){gt.stop()}function it(){gt.start()}const gt=new eH;gt.setAnimationLoop(Ye),typeof self<"u"&&gt.setContext(self),this.setAnimationLoop=function(q){mt=q,lt.setAnimationLoop(q),q===null?gt.stop():gt.start()},lt.addEventListener("sessionstart",dt),lt.addEventListener("sessionend",it),this.render=function(q,de){if(de!==void 0&&de.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;q.matrixWorldAutoUpdate===!0&&q.updateMatrixWorld(),de.parent===null&&de.matrixWorldAutoUpdate===!0&&de.updateMatrixWorld(),lt.enabled===!0&&lt.isPresenting===!0&&(lt.cameraAutoUpdate===!0&&lt.updateCamera(de),de=lt.getCamera()),q.isScene===!0&&q.onBeforeRender(S,q,de,T),b=ht.get(q,_.length),b.init(),_.push(b),ie.multiplyMatrices(de.projectionMatrix,de.matrixWorldInverse),X.setFromProjectionMatrix(ie),te=this.localClippingEnabled,Y=Ge.init(this.clippingPlanes,te),x=We.get(q,v.length),x.init(),v.push(x),sn(q,de,0,S.sortObjects),x.finish(),S.sortObjects===!0&&x.sort(O,B),this.info.render.frame++,Y===!0&&Ge.beginShadows();const Se=b.state.shadowsArray;if(Te.render(Se,q,de),Y===!0&&Ge.endShadows(),this.info.autoReset===!0&&this.info.reset(),nt.render(x,q),b.setupLights(S._useLegacyLights),de.isArrayCamera){const De=de.cameras;for(let $e=0,_t=De.length;$e<_t;$e++){const Nt=De[$e];gn(x,q,Nt,Nt.viewport)}}else gn(x,q,de);T!==null&&(j.updateMultisampleRenderTarget(T),j.updateRenderTargetMipmap(T)),q.isScene===!0&&q.onAfterRender(S,q,de),re.resetDefaultState(),N=-1,R=null,_.pop(),_.length>0?b=_[_.length-1]:b=null,v.pop(),v.length>0?x=v[v.length-1]:x=null};function sn(q,de,Se,De){if(q.visible===!1)return;if(q.layers.test(de.layers)){if(q.isGroup)Se=q.renderOrder;else if(q.isLOD)q.autoUpdate===!0&&q.update(de);else if(q.isLight)b.pushLight(q),q.castShadow&&b.pushShadow(q);else if(q.isSprite){if(!q.frustumCulled||X.intersectsSprite(q)){De&&ve.setFromMatrixPosition(q.matrixWorld).applyMatrix4(ie);const Nt=Ae.update(q),zt=q.material;zt.visible&&x.push(q,Nt,zt,Se,ve.z,null)}}else if((q.isMesh||q.isLine||q.isPoints)&&(!q.frustumCulled||X.intersectsObject(q))){const Nt=Ae.update(q),zt=q.material;if(De&&(q.boundingSphere!==void 0?(q.boundingSphere===null&&q.computeBoundingSphere(),ve.copy(q.boundingSphere.center)):(Nt.boundingSphere===null&&Nt.computeBoundingSphere(),ve.copy(Nt.boundingSphere.center)),ve.applyMatrix4(q.matrixWorld).applyMatrix4(ie)),Array.isArray(zt)){const $t=Nt.groups;for(let qt=0,en=$t.length;qt<en;qt++){const Xt=$t[qt],Ln=zt[Xt.materialIndex];Ln&&Ln.visible&&x.push(q,Nt,Ln,Se,ve.z,Xt)}}else zt.visible&&x.push(q,Nt,zt,Se,ve.z,null)}}const _t=q.children;for(let Nt=0,zt=_t.length;Nt<zt;Nt++)sn(_t[Nt],de,Se,De)}function gn(q,de,Se,De){const $e=q.opaque,_t=q.transmissive,Nt=q.transparent;b.setupLightsView(Se),Y===!0&&Ge.setGlobalState(S.clippingPlanes,Se),_t.length>0&&Zn($e,_t,de,Se),De&&ue.viewport(P.copy(De)),$e.length>0&&Xn($e,de,Se),_t.length>0&&Xn(_t,de,Se),Nt.length>0&&Xn(Nt,de,Se),ue.buffers.depth.setTest(!0),ue.buffers.depth.setMask(!0),ue.buffers.color.setMask(!0),ue.setPolygonOffset(!1)}function Zn(q,de,Se,De){if((Se.isScene===!0?Se.overrideMaterial:null)!==null)return;const _t=Ee.isWebGL2;oe===null&&(oe=new ol(1,1,{generateMipmaps:!0,type:he.has("EXT_color_buffer_half_float")?Za:cs,minFilter:_a,samples:_t?4:0})),S.getDrawingBufferSize(le),_t?oe.setSize(le.x,le.y):oe.setSize(fx(le.x),fx(le.y));const Nt=S.getRenderTarget();S.setRenderTarget(oe),S.getClearColor(V),D=S.getClearAlpha(),D<1&&S.setClearColor(16777215,.5),S.clear();const zt=S.toneMapping;S.toneMapping=Vo,Xn(q,Se,De),j.updateMultisampleRenderTarget(oe),j.updateRenderTargetMipmap(oe);let $t=!1;for(let qt=0,en=de.length;qt<en;qt++){const Xt=de[qt],Ln=Xt.object,hr=Xt.geometry,Fn=Xt.material,nr=Xt.group;if(Fn.side===ko&&Ln.layers.test(De.layers)){const Vt=Fn.side;Fn.side=di,Fn.needsUpdate=!0,Wn(Ln,Se,De,hr,Fn,nr),Fn.side=Vt,Fn.needsUpdate=!0,$t=!0}}$t===!0&&(j.updateMultisampleRenderTarget(oe),j.updateRenderTargetMipmap(oe)),S.setRenderTarget(Nt),S.setClearColor(V,D),S.toneMapping=zt}function Xn(q,de,Se){const De=de.isScene===!0?de.overrideMaterial:null;for(let $e=0,_t=q.length;$e<_t;$e++){const Nt=q[$e],zt=Nt.object,$t=Nt.geometry,qt=De===null?Nt.material:De,en=Nt.group;zt.layers.test(Se.layers)&&Wn(zt,de,Se,$t,qt,en)}}function Wn(q,de,Se,De,$e,_t){q.onBeforeRender(S,de,Se,De,$e,_t),q.modelViewMatrix.multiplyMatrices(Se.matrixWorldInverse,q.matrixWorld),q.normalMatrix.getNormalMatrix(q.modelViewMatrix),$e.onBeforeRender(S,de,Se,De,q,_t),$e.transparent===!0&&$e.side===ko&&$e.forceSinglePass===!1?($e.side=di,$e.needsUpdate=!0,S.renderBufferDirect(Se,de,De,$e,q,_t),$e.side=nl,$e.needsUpdate=!0,S.renderBufferDirect(Se,de,De,$e,q,_t),$e.side=ko):S.renderBufferDirect(Se,de,De,$e,q,_t),q.onAfterRender(S,de,Se,De,$e,_t)}function dn(q,de,Se){de.isScene!==!0&&(de=me);const De=ge.get(q),$e=b.state.lights,_t=b.state.shadowsArray,Nt=$e.state.version,zt=Fe.getParameters(q,$e.state,_t,de,Se),$t=Fe.getProgramCacheKey(zt);let qt=De.programs;De.environment=q.isMeshStandardMaterial?de.environment:null,De.fog=de.fog,De.envMap=(q.isMeshStandardMaterial?ee:z).get(q.envMap||De.environment),qt===void 0&&(q.addEventListener("dispose",Pe),qt=new Map,De.programs=qt);let en=qt.get($t);if(en!==void 0){if(De.currentProgram===en&&De.lightsStateVersion===Nt)return Pr(q,zt),en}else zt.uniforms=Fe.getUniforms(q),q.onBuild(Se,zt,S),q.onBeforeCompile(zt,S),en=Fe.acquireProgram(zt,$t),qt.set($t,en),De.uniforms=zt.uniforms;const Xt=De.uniforms;return(!q.isShaderMaterial&&!q.isRawShaderMaterial||q.clipping===!0)&&(Xt.clippingPlanes=Ge.uniform),Pr(q,zt),De.needsLights=Ct(q),De.lightsStateVersion=Nt,De.needsLights&&(Xt.ambientLightColor.value=$e.state.ambient,Xt.lightProbe.value=$e.state.probe,Xt.directionalLights.value=$e.state.directional,Xt.directionalLightShadows.value=$e.state.directionalShadow,Xt.spotLights.value=$e.state.spot,Xt.spotLightShadows.value=$e.state.spotShadow,Xt.rectAreaLights.value=$e.state.rectArea,Xt.ltc_1.value=$e.state.rectAreaLTC1,Xt.ltc_2.value=$e.state.rectAreaLTC2,Xt.pointLights.value=$e.state.point,Xt.pointLightShadows.value=$e.state.pointShadow,Xt.hemisphereLights.value=$e.state.hemi,Xt.directionalShadowMap.value=$e.state.directionalShadowMap,Xt.directionalShadowMatrix.value=$e.state.directionalShadowMatrix,Xt.spotShadowMap.value=$e.state.spotShadowMap,Xt.spotLightMatrix.value=$e.state.spotLightMatrix,Xt.spotLightMap.value=$e.state.spotLightMap,Xt.pointShadowMap.value=$e.state.pointShadowMap,Xt.pointShadowMatrix.value=$e.state.pointShadowMatrix),De.currentProgram=en,De.uniformsList=null,en}function ar(q){if(q.uniformsList===null){const de=q.currentProgram.getUniforms();q.uniformsList=i5.seqWithValue(de.seq,q.uniforms)}return q.uniformsList}function Pr(q,de){const Se=ge.get(q);Se.outputColorSpace=de.outputColorSpace,Se.batching=de.batching,Se.instancing=de.instancing,Se.instancingColor=de.instancingColor,Se.skinning=de.skinning,Se.morphTargets=de.morphTargets,Se.morphNormals=de.morphNormals,Se.morphColors=de.morphColors,Se.morphTargetsCount=de.morphTargetsCount,Se.numClippingPlanes=de.numClippingPlanes,Se.numIntersection=de.numClipIntersection,Se.vertexAlphas=de.vertexAlphas,Se.vertexTangents=de.vertexTangents,Se.toneMapping=de.toneMapping}function vn(q,de,Se,De,$e){de.isScene!==!0&&(de=me),j.resetTextureUnits();const _t=de.fog,Nt=De.isMeshStandardMaterial?de.environment:null,zt=T===null?S.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:ps,$t=(De.isMeshStandardMaterial?ee:z).get(De.envMap||Nt),qt=De.vertexColors===!0&&!!Se.attributes.color&&Se.attributes.color.itemSize===4,en=!!Se.attributes.tangent&&(!!De.normalMap||De.anisotropy>0),Xt=!!Se.morphAttributes.position,Ln=!!Se.morphAttributes.normal,hr=!!Se.morphAttributes.color;let Fn=Vo;De.toneMapped&&(T===null||T.isXRRenderTarget===!0)&&(Fn=S.toneMapping);const nr=Se.morphAttributes.position||Se.morphAttributes.normal||Se.morphAttributes.color,Vt=nr!==void 0?nr.length:0,Rt=ge.get(De),Nr=b.state.lights;if(Y===!0&&(te===!0||q!==R)){const Gn=q===R&&De.id===N;Ge.setState(De,q,Gn)}let rn=!1;De.version===Rt.__version?(Rt.needsLights&&Rt.lightsStateVersion!==Nr.state.version||Rt.outputColorSpace!==zt||$e.isBatchedMesh&&Rt.batching===!1||!$e.isBatchedMesh&&Rt.batching===!0||$e.isInstancedMesh&&Rt.instancing===!1||!$e.isInstancedMesh&&Rt.instancing===!0||$e.isSkinnedMesh&&Rt.skinning===!1||!$e.isSkinnedMesh&&Rt.skinning===!0||$e.isInstancedMesh&&Rt.instancingColor===!0&&$e.instanceColor===null||$e.isInstancedMesh&&Rt.instancingColor===!1&&$e.instanceColor!==null||Rt.envMap!==$t||De.fog===!0&&Rt.fog!==_t||Rt.numClippingPlanes!==void 0&&(Rt.numClippingPlanes!==Ge.numPlanes||Rt.numIntersection!==Ge.numIntersection)||Rt.vertexAlphas!==qt||Rt.vertexTangents!==en||Rt.morphTargets!==Xt||Rt.morphNormals!==Ln||Rt.morphColors!==hr||Rt.toneMapping!==Fn||Ee.isWebGL2===!0&&Rt.morphTargetsCount!==Vt)&&(rn=!0):(rn=!0,Rt.__version=De.version);let Lt=Rt.currentProgram;rn===!0&&(Lt=dn(De,de,$e));let Kt=!1,Qt=!1,Dt=!1;const It=Lt.getUniforms(),xn=Rt.uniforms;if(ue.useProgram(Lt.program)&&(Kt=!0,Qt=!0,Dt=!0),De.id!==N&&(N=De.id,Qt=!0),Kt||R!==q){It.setValue(Q,"projectionMatrix",q.projectionMatrix),It.setValue(Q,"viewMatrix",q.matrixWorldInverse);const Gn=It.map.cameraPosition;Gn!==void 0&&Gn.setValue(Q,ve.setFromMatrixPosition(q.matrixWorld)),Ee.logarithmicDepthBuffer&&It.setValue(Q,"logDepthBufFC",2/(Math.log(q.far+1)/Math.LN2)),(De.isMeshPhongMaterial||De.isMeshToonMaterial||De.isMeshLambertMaterial||De.isMeshBasicMaterial||De.isMeshStandardMaterial||De.isShaderMaterial)&&It.setValue(Q,"isOrthographic",q.isOrthographicCamera===!0),R!==q&&(R=q,Qt=!0,Dt=!0)}if($e.isSkinnedMesh){It.setOptional(Q,$e,"bindMatrix"),It.setOptional(Q,$e,"bindMatrixInverse");const Gn=$e.skeleton;Gn&&(Ee.floatVertexTextures?(Gn.boneTexture===null&&Gn.computeBoneTexture(),It.setValue(Q,"boneTexture",Gn.boneTexture,j)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}$e.isBatchedMesh&&(It.setOptional(Q,$e,"batchingTexture"),It.setValue(Q,"batchingTexture",$e._matricesTexture,j));const $n=Se.morphAttributes;if(($n.position!==void 0||$n.normal!==void 0||$n.color!==void 0&&Ee.isWebGL2===!0)&&at.update($e,Se,Lt),(Qt||Rt.receiveShadow!==$e.receiveShadow)&&(Rt.receiveShadow=$e.receiveShadow,It.setValue(Q,"receiveShadow",$e.receiveShadow)),De.isMeshGouraudMaterial&&De.envMap!==null&&(xn.envMap.value=$t,xn.flipEnvMap.value=$t.isCubeTexture&&$t.isRenderTargetTexture===!1?-1:1),Qt&&(It.setValue(Q,"toneMappingExposure",S.toneMappingExposure),Rt.needsLights&&an(xn,Dt),_t&&De.fog===!0&&Oe.refreshFogUniforms(xn,_t),Oe.refreshMaterialUniforms(xn,De,k,F,oe),i5.upload(Q,ar(Rt),xn,j)),De.isShaderMaterial&&De.uniformsNeedUpdate===!0&&(i5.upload(Q,ar(Rt),xn,j),De.uniformsNeedUpdate=!1),De.isSpriteMaterial&&It.setValue(Q,"center",$e.center),It.setValue(Q,"modelViewMatrix",$e.modelViewMatrix),It.setValue(Q,"normalMatrix",$e.normalMatrix),It.setValue(Q,"modelMatrix",$e.matrixWorld),De.isShaderMaterial||De.isRawShaderMaterial){const Gn=De.uniformsGroups;for(let xr=0,br=Gn.length;xr<br;xr++)if(Ee.isWebGL2){const Ki=Gn[xr];Ve.update(Ki,Lt),Ve.bind(Ki,Lt)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Lt}function an(q,de){q.ambientLightColor.needsUpdate=de,q.lightProbe.needsUpdate=de,q.directionalLights.needsUpdate=de,q.directionalLightShadows.needsUpdate=de,q.pointLights.needsUpdate=de,q.pointLightShadows.needsUpdate=de,q.spotLights.needsUpdate=de,q.spotLightShadows.needsUpdate=de,q.rectAreaLights.needsUpdate=de,q.hemisphereLights.needsUpdate=de}function Ct(q){return q.isMeshLambertMaterial||q.isMeshToonMaterial||q.isMeshPhongMaterial||q.isMeshStandardMaterial||q.isShadowMaterial||q.isShaderMaterial&&q.lights===!0}this.getActiveCubeFace=function(){return M},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(q,de,Se){ge.get(q.texture).__webglTexture=de,ge.get(q.depthTexture).__webglTexture=Se;const De=ge.get(q);De.__hasExternalTextures=!0,De.__hasExternalTextures&&(De.__autoAllocateDepthBuffer=Se===void 0,De.__autoAllocateDepthBuffer||he.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),De.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(q,de){const Se=ge.get(q);Se.__webglFramebuffer=de,Se.__useDefaultFramebuffer=de===void 0},this.setRenderTarget=function(q,de=0,Se=0){T=q,M=de,E=Se;let De=!0,$e=null,_t=!1,Nt=!1;if(q){const $t=ge.get(q);$t.__useDefaultFramebuffer!==void 0?(ue.bindFramebuffer(Q.FRAMEBUFFER,null),De=!1):$t.__webglFramebuffer===void 0?j.setupRenderTarget(q):$t.__hasExternalTextures&&j.rebindTextures(q,ge.get(q.texture).__webglTexture,ge.get(q.depthTexture).__webglTexture);const qt=q.texture;(qt.isData3DTexture||qt.isDataArrayTexture||qt.isCompressedArrayTexture)&&(Nt=!0);const en=ge.get(q).__webglFramebuffer;q.isWebGLCubeRenderTarget?(Array.isArray(en[de])?$e=en[de][Se]:$e=en[de],_t=!0):Ee.isWebGL2&&q.samples>0&&j.useMultisampledRTT(q)===!1?$e=ge.get(q).__webglMultisampledFramebuffer:Array.isArray(en)?$e=en[Se]:$e=en,P.copy(q.viewport),L.copy(q.scissor),$=q.scissorTest}else P.copy(G).multiplyScalar(k).floor(),L.copy(W).multiplyScalar(k).floor(),$=K;if(ue.bindFramebuffer(Q.FRAMEBUFFER,$e)&&Ee.drawBuffers&&De&&ue.drawBuffers(q,$e),ue.viewport(P),ue.scissor(L),ue.setScissorTest($),_t){const $t=ge.get(q.texture);Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_CUBE_MAP_POSITIVE_X+de,$t.__webglTexture,Se)}else if(Nt){const $t=ge.get(q.texture),qt=de||0;Q.framebufferTextureLayer(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,$t.__webglTexture,Se||0,qt)}N=-1},this.readRenderTargetPixels=function(q,de,Se,De,$e,_t,Nt){if(!(q&&q.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let zt=ge.get(q).__webglFramebuffer;if(q.isWebGLCubeRenderTarget&&Nt!==void 0&&(zt=zt[Nt]),zt){ue.bindFramebuffer(Q.FRAMEBUFFER,zt);try{const $t=q.texture,qt=$t.format,en=$t.type;if(qt!==no&&Ze.convert(qt)!==Q.getParameter(Q.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Xt=en===Za&&(he.has("EXT_color_buffer_half_float")||Ee.isWebGL2&&he.has("EXT_color_buffer_float"));if(en!==cs&&Ze.convert(en)!==Q.getParameter(Q.IMPLEMENTATION_COLOR_READ_TYPE)&&!(en===$r&&(Ee.isWebGL2||he.has("OES_texture_float")||he.has("WEBGL_color_buffer_float")))&&!Xt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}de>=0&&de<=q.width-De&&Se>=0&&Se<=q.height-$e&&Q.readPixels(de,Se,De,$e,Ze.convert(qt),Ze.convert(en),_t)}finally{const $t=T!==null?ge.get(T).__webglFramebuffer:null;ue.bindFramebuffer(Q.FRAMEBUFFER,$t)}}},this.copyFramebufferToTexture=function(q,de,Se=0){const De=Math.pow(2,-Se),$e=Math.floor(de.image.width*De),_t=Math.floor(de.image.height*De);j.setTexture2D(de,0),Q.copyTexSubImage2D(Q.TEXTURE_2D,Se,0,0,q.x,q.y,$e,_t),ue.unbindTexture()},this.copyTextureToTexture=function(q,de,Se,De=0){const $e=de.image.width,_t=de.image.height,Nt=Ze.convert(Se.format),zt=Ze.convert(Se.type);j.setTexture2D(Se,0),Q.pixelStorei(Q.UNPACK_FLIP_Y_WEBGL,Se.flipY),Q.pixelStorei(Q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Se.premultiplyAlpha),Q.pixelStorei(Q.UNPACK_ALIGNMENT,Se.unpackAlignment),de.isDataTexture?Q.texSubImage2D(Q.TEXTURE_2D,De,q.x,q.y,$e,_t,Nt,zt,de.image.data):de.isCompressedTexture?Q.compressedTexSubImage2D(Q.TEXTURE_2D,De,q.x,q.y,de.mipmaps[0].width,de.mipmaps[0].height,Nt,de.mipmaps[0].data):Q.texSubImage2D(Q.TEXTURE_2D,De,q.x,q.y,Nt,zt,de.image),De===0&&Se.generateMipmaps&&Q.generateMipmap(Q.TEXTURE_2D),ue.unbindTexture()},this.copyTextureToTexture3D=function(q,de,Se,De,$e=0){if(S.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const _t=q.max.x-q.min.x+1,Nt=q.max.y-q.min.y+1,zt=q.max.z-q.min.z+1,$t=Ze.convert(De.format),qt=Ze.convert(De.type);let en;if(De.isData3DTexture)j.setTexture3D(De,0),en=Q.TEXTURE_3D;else if(De.isDataArrayTexture||De.isCompressedArrayTexture)j.setTexture2DArray(De,0),en=Q.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Q.pixelStorei(Q.UNPACK_FLIP_Y_WEBGL,De.flipY),Q.pixelStorei(Q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,De.premultiplyAlpha),Q.pixelStorei(Q.UNPACK_ALIGNMENT,De.unpackAlignment);const Xt=Q.getParameter(Q.UNPACK_ROW_LENGTH),Ln=Q.getParameter(Q.UNPACK_IMAGE_HEIGHT),hr=Q.getParameter(Q.UNPACK_SKIP_PIXELS),Fn=Q.getParameter(Q.UNPACK_SKIP_ROWS),nr=Q.getParameter(Q.UNPACK_SKIP_IMAGES),Vt=Se.isCompressedTexture?Se.mipmaps[$e]:Se.image;Q.pixelStorei(Q.UNPACK_ROW_LENGTH,Vt.width),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,Vt.height),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,q.min.x),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,q.min.y),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,q.min.z),Se.isDataTexture||Se.isData3DTexture?Q.texSubImage3D(en,$e,de.x,de.y,de.z,_t,Nt,zt,$t,qt,Vt.data):Se.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Q.compressedTexSubImage3D(en,$e,de.x,de.y,de.z,_t,Nt,zt,$t,Vt.data)):Q.texSubImage3D(en,$e,de.x,de.y,de.z,_t,Nt,zt,$t,qt,Vt),Q.pixelStorei(Q.UNPACK_ROW_LENGTH,Xt),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,Ln),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,hr),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,Fn),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,nr),$e===0&&De.generateMipmaps&&Q.generateMipmap(en),ue.unbindTexture()},this.initTexture=function(q){q.isCubeTexture?j.setTextureCube(q,0):q.isData3DTexture?j.setTexture3D(q,0):q.isDataArrayTexture||q.isCompressedArrayTexture?j.setTexture2DArray(q,0):j.setTexture2D(q,0),ue.unbindTexture()},this.resetState=function(){M=0,E=0,T=null,ue.reset(),re.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return fa}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===yb?"display-p3":"srgb",n.unpackColorSpace=lr.workingColorSpace===N3?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Wt?Ec:vb}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Ec?Wt:ps}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class lH extends gT{}lH.prototype.isWebGL1Renderer=!0;class Ab{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Tt(e),this.density=n}clone(){return new Ab(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Pb{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Tt(e),this.near=n,this.far=r}clone(){return new Pb(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Vm extends tr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class U3{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Um,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Ds()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ds()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ds()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Fo=new J;class Yu{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Fo.fromBufferAttribute(this,n),Fo.applyMatrix4(e),this.setXYZ(n,Fo.x,Fo.y,Fo.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Fo.fromBufferAttribute(this,n),Fo.applyNormalMatrix(e),this.setXYZ(n,Fo.x,Fo.y,Fo.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Fo.fromBufferAttribute(this,n),Fo.transformDirection(e),this.setXYZ(n,Fo.x,Fo.y,Fo.z);return this}setX(e,n){return this.normalized&&(n=Pn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Pn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Pn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Pn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=rs(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=rs(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=rs(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=rs(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array),o=Pn(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new ur(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Yu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Nb extends qi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Tt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Yh;const lg=new J,Zh=new J,Qh=new J,Jh=new Xe,cg=new Xe,cH=new cn,q2=new J,ug=new J,K2=new J,UO=new Xe,Q8=new Xe,BO=new Xe;class uH extends tr{constructor(e=new Nb){if(super(),this.isSprite=!0,this.type="Sprite",Yh===void 0){Yh=new Mn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new U3(n,5);Yh.setIndex([0,1,2,0,2,3]),Yh.setAttribute("position",new Yu(r,3,0,!1)),Yh.setAttribute("uv",new Yu(r,2,3,!1))}this.geometry=Yh,this.material=e,this.center=new Xe(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Zh.setFromMatrixScale(this.matrixWorld),cH.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Qh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Zh.multiplyScalar(-Qh.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const s=this.center;Y2(q2.set(-.5,-.5,0),Qh,s,Zh,i,o),Y2(ug.set(.5,-.5,0),Qh,s,Zh,i,o),Y2(K2.set(.5,.5,0),Qh,s,Zh,i,o),UO.set(0,0),Q8.set(1,0),BO.set(1,1);let a=e.ray.intersectTriangle(q2,ug,K2,!1,lg);if(a===null&&(Y2(ug.set(-.5,.5,0),Qh,s,Zh,i,o),Q8.set(0,1),a=e.ray.intersectTriangle(q2,K2,ug,!1,lg),a===null))return;const l=e.ray.origin.distanceTo(lg);l<e.near||l>e.far||n.push({distance:l,point:lg.clone(),uv:ts.getInterpolation(lg,q2,ug,K2,UO,Q8,BO,new Xe),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Y2(t,e,n,r,i,o){Jh.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(cg.x=o*Jh.x-i*Jh.y,cg.y=i*Jh.x+o*Jh.y):cg.copy(Jh),t.copy(e),t.x+=cg.x,t.y+=cg.y,t.applyMatrix4(cH)}const Z2=new J,kO=new J;class dH extends tr{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const o=n[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let o;for(o=0;o<i.length&&!(n<i[o].distance);o++);return i.splice(o,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),e<o)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Z2.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Z2);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Z2.setFromMatrixPosition(e.matrixWorld),kO.setFromMatrixPosition(this.matrixWorld);const r=Z2.distanceTo(kO)/e.zoom;n[0].object.visible=!0;let i,o;for(i=1,o=n.length;i<o;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),r>=s)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const s=r[i];n.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return n}}const zO=new J,VO=new En,HO=new En,E5e=new J,GO=new cn,Q2=new J,J8=new Po,WO=new cn,e7=new Zf;class fH extends Zr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=ew,this.bindMatrix=new cn,this.bindMatrixInverse=new cn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ho),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Q2),this.boundingBox.expandByPoint(Q2)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Po),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Q2),this.boundingSphere.expandByPoint(Q2)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),J8.copy(this.boundingSphere),J8.applyMatrix4(i),e.ray.intersectsSphere(J8)!==!1&&(WO.copy(i).invert(),e7.copy(e.ray).applyMatrix4(WO),!(this.boundingBox!==null&&e7.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,e7)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new En,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===ew?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===NV?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;VO.fromBufferAttribute(i.attributes.skinIndex,e),HO.fromBufferAttribute(i.attributes.skinWeight,e),zO.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const s=HO.getComponent(o);if(s!==0){const a=VO.getComponent(o);GO.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(E5e.copy(zO).applyMatrix4(GO),s)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class vT extends tr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Tc extends Hr{constructor(e=null,n=1,r=1,i,o,s,a,l,c=er,u=er,d,f){super(null,s,a,l,c,u,i,o,d,f),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const jO=new cn,T5e=new cn;class Ib{constructor(e=[],n=[]){this.uuid=Ds(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new cn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new cn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,s=e.length;o<s;o++){const a=e[o]?e[o].matrixWorld:T5e;jO.multiplyMatrices(a,n[o]),jO.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Ib(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Tc(n,e,e,no,$r);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let s=n[o];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),s=new vT),this.bones.push(s),this.boneInverses.push(new cn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const s=n[i];e.bones.push(s.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Hm extends ur{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ep=new cn,XO=new cn,J2=[],qO=new Ho,M5e=new cn,dg=new Zr,fg=new Po;class hH extends Zr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Hm(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,M5e)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Ho),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,ep),qO.copy(e.boundingBox).applyMatrix4(ep),this.boundingBox.union(qO)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Po),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,ep),fg.copy(e.boundingSphere).applyMatrix4(ep),this.boundingSphere.union(fg)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(dg.geometry=this.geometry,dg.material=this.material,dg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),fg.copy(this.boundingSphere),fg.applyMatrix4(r),e.ray.intersectsSphere(fg)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,ep),XO.multiplyMatrices(r,ep),dg.matrixWorld=XO,dg.raycast(e,J2);for(let s=0,a=J2.length;s<a;s++){const l=J2[s];l.instanceId=o,l.object=this,n.push(l)}J2.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Hm(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function R5e(t,e){return t.z-e.z}function A5e(t,e){return e.z-t.z}class P5e{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const o=r[this.index];i.push(o),this.index++,o.start=e.start,o.count=e.count,o.z=n}reset(){this.list.length=0,this.index=0}}const tp="batchId",lu=new cn,KO=new cn,N5e=new cn,YO=new cn,t7=new d0,ey=new Ho,Rd=new Po,hg=new J,n7=new P5e,_o=new Zr,ty=[];function I5e(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let o=0;o<i;o++)for(let s=0;s<r;s++)e.setComponent(o+n,s,t.getComponent(o,s))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class pH extends Zr{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new Mn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Tc(n,e,e,no,$r);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,o=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:c,itemSize:u,normalized:d}=l,f=new c.constructor(r*u),h=new l.constructor(f,u,d);h.setUsage(l.usage),n.setAttribute(a,h)}if(e.getIndex()!==null){const a=r>65536?new Uint32Array(o):new Uint16Array(o);n.setIndex(new ur(a,1))}const s=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(tp,new ur(s,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(tp))throw new Error(`BatchedMesh: Geometry cannot use attribute "${tp}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===tp)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),o=n.getAttribute(r);if(i.itemSize!==o.itemSize||i.normalized!==o.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ho);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,lu),this.getBoundingBoxAt(i,ey).applyMatrix4(lu),n.union(ey))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Po);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,lu),this.getBoundingSphereAt(i,Rd).applyMatrix4(lu),n.union(Rd))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let o=null;const s=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(o=s[s.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,o===null?i.vertexStart=0:i.vertexStart=o.vertexStart+o.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(r===-1?i.indexCount=c.count:i.indexCount=r,o===null?i.indexStart=0:i.indexStart=o.indexStart+o.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const d=this._visibility,f=this._active,h=this._matricesTexture,g=this._matricesTexture.image.data;d.push(!0),f.push(!0);const x=this._geometryCount;this._geometryCount++,N5e.toArray(g,x*16),h.needsUpdate=!0,s.push(i),a.push({start:u?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Ho,sphereInitialized:!1,sphere:new Po});const b=this.geometry.getAttribute(tp);for(let v=0;v<i.vertexCount;v++)b.setX(i.vertexStart+v,x);return b.needsUpdate=!0,this.setGeometryAt(x,e),x}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,o=r.getIndex(),s=n.getIndex(),a=this._reservedRanges[e];if(i&&s.count>a.indexCount||n.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const h in r.attributes){if(h===tp)continue;const g=n.getAttribute(h),x=r.getAttribute(h);I5e(g,x,l);const b=g.itemSize;for(let v=g.count,_=c;v<_;v++){const S=l+v;for(let w=0;w<b;w++)x.setComponent(S,w,0)}x.needsUpdate=!0}if(i){const h=a.indexStart;for(let g=0;g<s.count;g++)o.setX(h+g,l+s.getX(g));for(let g=s.count,x=a.indexCount;g<x;g++)o.setX(h+g,l);o.needsUpdate=!0}const u=this._bounds[e];n.boundingBox!==null?(u.box.copy(n.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,n.boundingSphere!==null?(u.sphere.copy(n.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const d=this._drawRanges[e],f=n.getAttribute("position");return d.count=i?s.count:f.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],o=i.box,s=this.geometry;if(i.boxInitialized===!1){o.makeEmpty();const a=s.index,l=s.attributes.position,c=this._drawRanges[e];for(let u=c.start,d=c.start+c.count;u<d;u++){let f=u;a&&(f=a.getX(f)),o.expandByPoint(hg.fromBufferAttribute(l,f))}i.boxInitialized=!0}return n.copy(o),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],o=i.sphere,s=this.geometry;if(i.sphereInitialized===!1){o.makeEmpty(),this.getBoundingBoxAt(e,ey),ey.getCenter(o.center);const a=s.index,l=s.attributes.position,c=this._drawRanges[e];let u=0;for(let d=c.start,f=c.start+c.count;d<f;d++){let h=d;a&&(h=a.getX(h)),hg.fromBufferAttribute(l,h),u=Math.max(u,o.center.distanceToSquared(hg))}o.radius=Math.sqrt(u),i.sphereInitialized=!0}return n.copy(o),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,o=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?this:(n.toArray(o,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,o=this._geometryCount;return e>=o||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,o=this._drawRanges,s=this._geometryCount,a=this.matrixWorld,l=this.geometry;_o.material=this.material,_o.geometry.index=l.index,_o.geometry.attributes=l.attributes,_o.geometry.boundingBox===null&&(_o.geometry.boundingBox=new Ho),_o.geometry.boundingSphere===null&&(_o.geometry.boundingSphere=new Po);for(let c=0;c<s;c++){if(!r[c]||!i[c])continue;const u=o[c];_o.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(c,_o.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,_o.geometry.boundingBox),this.getBoundingSphereAt(c,_o.geometry.boundingSphere),_o.raycast(e,ty);for(let d=0,f=ty.length;d<f;d++){const h=ty[d];h.object=this,h.batchId=c,n.push(h)}ty.length=0}_o.material=null,_o.geometry.index=null,_o.geometry.attributes={},_o.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=i.getIndex(),a=s===null?1:s.array.BYTES_PER_ELEMENT,l=this._visibility,c=this._multiDrawStarts,u=this._multiDrawCounts,d=this._drawRanges,f=this.perObjectFrustumCulled;f&&(YO.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),t7.setFromProjectionMatrix(YO,e.isWebGPURenderer?Ku:fa));let h=0;if(this.sortObjects){KO.copy(this.matrixWorld).invert(),hg.setFromMatrixPosition(r.matrixWorld).applyMatrix4(KO);for(let b=0,v=l.length;b<v;b++)if(l[b]){this.getMatrixAt(b,lu),this.getBoundingSphereAt(b,Rd).applyMatrix4(lu);let _=!1;if(f&&(_=!t7.intersectsSphere(Rd)),!_){const S=hg.distanceTo(Rd.center);n7.push(d[b],S)}}const g=n7.list,x=this.customSort;x===null?g.sort(o.transparent?A5e:R5e):x.call(this,g,r);for(let b=0,v=g.length;b<v;b++){const _=g[b];c[h]=_.start*a,u[h]=_.count,h++}n7.reset()}else for(let g=0,x=l.length;g<x;g++)if(l[g]){let b=!1;if(f&&(this.getMatrixAt(g,lu),this.getBoundingSphereAt(g,Rd).applyMatrix4(lu),b=!t7.intersectsSphere(Rd)),!b){const v=d[g];c[h]=v.start*a,u[h]=v.count,h++}}this._multiDrawCount=h,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,o,s){this.onBeforeRender(e,null,i,o,s)}}class Io extends qi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Tt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const ZO=new J,QO=new J,JO=new cn,r7=new Zf,ny=new Po;class Zu extends tr{constructor(e=new Mn,n=new Io){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)ZO.fromBufferAttribute(n,i-1),QO.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=ZO.distanceTo(QO);e.setAttribute("lineDistance",new Gt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ny.copy(r.boundingSphere),ny.applyMatrix4(i),ny.radius+=o,e.ray.intersectsSphere(ny)===!1)return;JO.copy(i).invert(),r7.copy(e.ray).applyMatrix4(JO);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new J,u=new J,d=new J,f=new J,h=this.isLineSegments?2:1,g=r.index,b=r.attributes.position;if(g!==null){const v=Math.max(0,s.start),_=Math.min(g.count,s.start+s.count);for(let S=v,w=_-1;S<w;S+=h){const M=g.getX(S),E=g.getX(S+1);if(c.fromBufferAttribute(b,M),u.fromBufferAttribute(b,E),r7.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const N=e.ray.origin.distanceTo(f);N<e.near||N>e.far||n.push({distance:N,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,s.start),_=Math.min(b.count,s.start+s.count);for(let S=v,w=_-1;S<w;S+=h){if(c.fromBufferAttribute(b,S),u.fromBufferAttribute(b,S+1),r7.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(f);E<e.near||E>e.far||n.push({distance:E,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}const eL=new J,tL=new J;class Gl extends Zu{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)eL.fromBufferAttribute(n,i),tL.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+eL.distanceTo(tL);e.setAttribute("lineDistance",new Gt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class mH extends Zu{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class B3 extends qi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Tt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const nL=new cn,aw=new Zf,ry=new Po,iy=new J;class gH extends tr{constructor(e=new Mn,n=new B3){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ry.copy(r.boundingSphere),ry.applyMatrix4(i),ry.radius+=o,e.ray.intersectsSphere(ry)===!1)return;nL.copy(i).invert(),aw.copy(e.ray).applyMatrix4(nL);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,d=r.attributes.position;if(c!==null){const f=Math.max(0,s.start),h=Math.min(c.count,s.start+s.count);for(let g=f,x=h;g<x;g++){const b=c.getX(g);iy.fromBufferAttribute(d,b),rL(iy,b,l,i,e,n,this)}}else{const f=Math.max(0,s.start),h=Math.min(d.count,s.start+s.count);for(let g=f,x=h;g<x;g++)iy.fromBufferAttribute(d,g),rL(iy,g,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}function rL(t,e,n,r,i,o,s){const a=aw.distanceSqToPoint(t);if(a<n){const l=new J;aw.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:s})}}class O5e extends Hr{constructor(e,n,r,i,o,s,a,l,c){super(e,n,r,i,o,s,a,l,c),this.isVideoTexture=!0,this.minFilter=s!==void 0?s:Fr,this.magFilter=o!==void 0?o:Fr,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class yT extends Hr{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=er,this.minFilter=er,this.generateMipmaps=!1,this.needsUpdate=!0}}class Ob extends Hr{constructor(e,n,r,i,o,s,a,l,c,u,d,f){super(null,s,a,l,c,u,i,o,d,f),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class L5e extends Ob{constructor(e,n,r,i,o,s){super(e,n,r,o,s),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=to}}class D5e extends Ob{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,rl),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class F5e extends Hr{constructor(e,n,r,i,o,s,a,l,c){super(e,n,r,i,o,s,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ll{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const o=r.length;let s;n?s=n:s=e*r[o-1];let a=0,l=o-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-s,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===s)return i/(o-1);const u=r[i],f=r[i+1]-u,h=(s-u)/f;return(i+h)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const s=this.getPoint(i),a=this.getPoint(o),l=n||(s.isVector2?new Xe:new J);return l.copy(a).sub(s).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new J,i=[],o=[],s=[],a=new J,l=new cn;for(let h=0;h<=e;h++){const g=h/e;i[h]=this.getTangentAt(g,new J)}o[0]=new J,s[0]=new J;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),d=Math.abs(i[0].y),f=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),f<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],a),s[0].crossVectors(i[0],o[0]);for(let h=1;h<=e;h++){if(o[h]=o[h-1].clone(),s[h]=s[h-1].clone(),a.crossVectors(i[h-1],i[h]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(Kr(i[h-1].dot(i[h]),-1,1));o[h].applyMatrix4(l.makeRotationAxis(a,g))}s[h].crossVectors(i[h],o[h])}if(n===!0){let h=Math.acos(Kr(o[0].dot(o[e]),-1,1));h/=e,i[0].dot(a.crossVectors(o[0],o[e]))>0&&(h=-h);for(let g=1;g<=e;g++)o[g].applyMatrix4(l.makeRotationAxis(i[g],h*g)),s[g].crossVectors(i[g],o[g])}return{tangents:i,normals:o,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Lb extends ll{constructor(e=0,n=0,r=1,i=1,o=0,s=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=s,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new Xe,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const s=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(s?o=0:o=i),this.aClockwise===!0&&!s&&(o===i?o=-i:o=o-i);const a=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,h=c-this.aY;l=f*u-h*d+this.aX,c=f*d+h*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class vH extends Lb{constructor(e,n,r,i,o,s){super(e,n,r,r,i,o,s),this.isArcCurve=!0,this.type="ArcCurve"}}function xT(){let t=0,e=0,n=0,r=0;function i(o,s,a,l){t=o,e=a,n=-3*o+3*s-2*a-l,r=2*o-2*s+a+l}return{initCatmullRom:function(o,s,a,l,c){i(s,a,c*(a-o),c*(l-s))},initNonuniformCatmullRom:function(o,s,a,l,c,u,d){let f=(s-o)/c-(a-o)/(c+u)+(a-s)/u,h=(a-s)/u-(l-s)/(u+d)+(l-a)/d;f*=u,h*=u,i(s,a,f,h)},calc:function(o){const s=o*o,a=s*o;return t+e*o+n*s+r*a}}}const oy=new J,i7=new xT,o7=new xT,s7=new xT;class yH extends ll{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new J){const r=n,i=this.points,o=i.length,s=(o-(this.closed?0:1))*e;let a=Math.floor(s),l=s-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/o)+1)*o:l===0&&a===o-1&&(a=o-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%o]:(oy.subVectors(i[0],i[1]).add(i[0]),c=oy);const d=i[a%o],f=i[(a+1)%o];if(this.closed||a+2<o?u=i[(a+2)%o]:(oy.subVectors(i[o-1],i[o-2]).add(i[o-1]),u=oy),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(d),h),x=Math.pow(d.distanceToSquared(f),h),b=Math.pow(f.distanceToSquared(u),h);x<1e-4&&(x=1),g<1e-4&&(g=x),b<1e-4&&(b=x),i7.initNonuniformCatmullRom(c.x,d.x,f.x,u.x,g,x,b),o7.initNonuniformCatmullRom(c.y,d.y,f.y,u.y,g,x,b),s7.initNonuniformCatmullRom(c.z,d.z,f.z,u.z,g,x,b)}else this.curveType==="catmullrom"&&(i7.initCatmullRom(c.x,d.x,f.x,u.x,this.tension),o7.initCatmullRom(c.y,d.y,f.y,u.y,this.tension),s7.initCatmullRom(c.z,d.z,f.z,u.z,this.tension));return r.set(i7.calc(l),o7.calc(l),s7.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new J().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function iL(t,e,n,r,i){const o=(r-e)*.5,s=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+o+s)*l+(-3*n+3*r-2*o-s)*a+o*t+n}function $5e(t,e){const n=1-t;return n*n*e}function U5e(t,e){return 2*(1-t)*t*e}function B5e(t,e){return t*t*e}function Zg(t,e,n,r){return $5e(t,e)+U5e(t,n)+B5e(t,r)}function k5e(t,e){const n=1-t;return n*n*n*e}function z5e(t,e){const n=1-t;return 3*n*n*t*e}function V5e(t,e){return 3*(1-t)*t*t*e}function H5e(t,e){return t*t*t*e}function Qg(t,e,n,r,i){return k5e(t,e)+z5e(t,n)+V5e(t,r)+H5e(t,i)}class bT extends ll{constructor(e=new Xe,n=new Xe,r=new Xe,i=new Xe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Xe){const r=n,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(Qg(e,i.x,o.x,s.x,a.x),Qg(e,i.y,o.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class xH extends ll{constructor(e=new J,n=new J,r=new J,i=new J){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new J){const r=n,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(Qg(e,i.x,o.x,s.x,a.x),Qg(e,i.y,o.y,s.y,a.y),Qg(e,i.z,o.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ST extends ll{constructor(e=new Xe,n=new Xe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Xe){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Xe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bH extends ll{constructor(e=new J,n=new J){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new J){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new J){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _T extends ll{constructor(e=new Xe,n=new Xe,r=new Xe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Xe){const r=n,i=this.v0,o=this.v1,s=this.v2;return r.set(Zg(e,i.x,o.x,s.x),Zg(e,i.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wT extends ll{constructor(e=new J,n=new J,r=new J){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new J){const r=n,i=this.v0,o=this.v1,s=this.v2;return r.set(Zg(e,i.x,o.x,s.x),Zg(e,i.y,o.y,s.y),Zg(e,i.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class CT extends ll{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Xe){const r=n,i=this.points,o=(i.length-1)*e,s=Math.floor(o),a=o-s,l=i[s===0?s:s-1],c=i[s],u=i[s>i.length-2?i.length-1:s+1],d=i[s>i.length-3?i.length-1:s+2];return r.set(iL(a,l.x,c.x,u.x,d.x),iL(a,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Xe().fromArray(i))}return this}}var hx=Object.freeze({__proto__:null,ArcCurve:vH,CatmullRomCurve3:yH,CubicBezierCurve:bT,CubicBezierCurve3:xH,EllipseCurve:Lb,LineCurve:ST,LineCurve3:bH,QuadraticBezierCurve:_T,QuadraticBezierCurve3:wT,SplineCurve:CT});class SH extends ll{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new hx[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const s=i[o]-r,a=this.curves[o],l=a.getLength(),c=l===0?0:1-s/l;return a.getPointAt(c,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const s=o[i],a=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new hx[i.type]().fromJSON(i))}return this}}let Wv=class extends SH{constructor(e){super(),this.type="Path",this.currentPoint=new Xe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new ST(this.currentPoint.clone(),new Xe(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new _T(this.currentPoint.clone(),new Xe(e,n),new Xe(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,s){const a=new bT(this.currentPoint.clone(),new Xe(e,n),new Xe(r,i),new Xe(o,s));return this.curves.push(a),this.currentPoint.set(o,s),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new CT(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,s){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,o,s),this}absarc(e,n,r,i,o,s){return this.absellipse(e,n,r,r,i,o,s),this}ellipse(e,n,r,i,o,s,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,o,s,a,l),this}absellipse(e,n,r,i,o,s,a,l){const c=new Lb(e,n,r,i,o,s,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class k3 extends Mn{constructor(e=[new Xe(0,-.5),new Xe(.5,0),new Xe(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Kr(i,0,Math.PI*2);const o=[],s=[],a=[],l=[],c=[],u=1/n,d=new J,f=new Xe,h=new J,g=new J,x=new J;let b=0,v=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:b=e[_+1].x-e[_].x,v=e[_+1].y-e[_].y,h.x=v*1,h.y=-b,h.z=v*0,x.copy(h),h.normalize(),l.push(h.x,h.y,h.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:b=e[_+1].x-e[_].x,v=e[_+1].y-e[_].y,h.x=v*1,h.y=-b,h.z=v*0,g.copy(h),h.x+=x.x,h.y+=x.y,h.z+=x.z,h.normalize(),l.push(h.x,h.y,h.z),x.copy(g)}for(let _=0;_<=n;_++){const S=r+_*u*i,w=Math.sin(S),M=Math.cos(S);for(let E=0;E<=e.length-1;E++){d.x=e[E].x*w,d.y=e[E].y,d.z=e[E].x*M,s.push(d.x,d.y,d.z),f.x=_/n,f.y=E/(e.length-1),a.push(f.x,f.y);const T=l[3*E+0]*w,N=l[3*E+1],R=l[3*E+0]*M;c.push(T,N,R)}}for(let _=0;_<n;_++)for(let S=0;S<e.length-1;S++){const w=S+_*e.length,M=w,E=w+e.length,T=w+e.length+1,N=w+1;o.push(M,E,N),o.push(T,N,E)}this.setIndex(o),this.setAttribute("position",new Gt(s,3)),this.setAttribute("uv",new Gt(a,2)),this.setAttribute("normal",new Gt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new k3(e.points,e.segments,e.phiStart,e.phiLength)}}class Db extends k3{constructor(e=1,n=1,r=4,i=8){const o=new Wv;o.absarc(0,-n/2,e,Math.PI*1.5,0),o.absarc(0,n/2,e,0,Math.PI*.5),super(o.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new Db(e.radius,e.length,e.capSegments,e.radialSegments)}}class Fb extends Mn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],s=[],a=[],l=[],c=new J,u=new Xe;s.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=n;d++,f+=3){const h=r+d/n*i;c.x=e*Math.cos(h),c.y=e*Math.sin(h),s.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(s[f]/e+1)/2,u.y=(s[f+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)o.push(d,d+1,0);this.setIndex(o),this.setAttribute("position",new Gt(s,3)),this.setAttribute("normal",new Gt(a,3)),this.setAttribute("uv",new Gt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fb(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class h0 extends Mn{constructor(e=1,n=1,r=1,i=32,o=1,s=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),o=Math.floor(o);const u=[],d=[],f=[],h=[];let g=0;const x=[],b=r/2;let v=0;_(),s===!1&&(e>0&&S(!0),n>0&&S(!1)),this.setIndex(u),this.setAttribute("position",new Gt(d,3)),this.setAttribute("normal",new Gt(f,3)),this.setAttribute("uv",new Gt(h,2));function _(){const w=new J,M=new J;let E=0;const T=(n-e)/r;for(let N=0;N<=o;N++){const R=[],P=N/o,L=P*(n-e)+e;for(let $=0;$<=i;$++){const V=$/i,D=V*l+a,H=Math.sin(D),F=Math.cos(D);M.x=L*H,M.y=-P*r+b,M.z=L*F,d.push(M.x,M.y,M.z),w.set(H,T,F).normalize(),f.push(w.x,w.y,w.z),h.push(V,1-P),R.push(g++)}x.push(R)}for(let N=0;N<i;N++)for(let R=0;R<o;R++){const P=x[R][N],L=x[R+1][N],$=x[R+1][N+1],V=x[R][N+1];u.push(P,L,V),u.push(L,$,V),E+=6}c.addGroup(v,E,0),v+=E}function S(w){const M=g,E=new Xe,T=new J;let N=0;const R=w===!0?e:n,P=w===!0?1:-1;for(let $=1;$<=i;$++)d.push(0,b*P,0),f.push(0,P,0),h.push(.5,.5),g++;const L=g;for(let $=0;$<=i;$++){const D=$/i*l+a,H=Math.cos(D),F=Math.sin(D);T.x=R*F,T.y=b*P,T.z=R*H,d.push(T.x,T.y,T.z),f.push(0,P,0),E.x=H*.5+.5,E.y=F*.5*P+.5,h.push(E.x,E.y),g++}for(let $=0;$<i;$++){const V=M+$,D=L+$;w===!0?u.push(D,D+1,V):u.push(D+1,D,V),N+=3}c.addGroup(v,N,w===!0?1:2),v+=N}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new h0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class $b extends h0{constructor(e=1,n=1,r=32,i=1,o=!1,s=0,a=Math.PI*2){super(0,e,n,r,i,o,s,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:a}}static fromJSON(e){return new $b(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ld extends Mn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],s=[];a(i),c(r),u(),this.setAttribute("position",new Gt(o,3)),this.setAttribute("normal",new Gt(o.slice(),3)),this.setAttribute("uv",new Gt(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const S=new J,w=new J,M=new J;for(let E=0;E<n.length;E+=3)h(n[E+0],S),h(n[E+1],w),h(n[E+2],M),l(S,w,M,_)}function l(_,S,w,M){const E=M+1,T=[];for(let N=0;N<=E;N++){T[N]=[];const R=_.clone().lerp(w,N/E),P=S.clone().lerp(w,N/E),L=E-N;for(let $=0;$<=L;$++)$===0&&N===E?T[N][$]=R:T[N][$]=R.clone().lerp(P,$/L)}for(let N=0;N<E;N++)for(let R=0;R<2*(E-N)-1;R++){const P=Math.floor(R/2);R%2===0?(f(T[N][P+1]),f(T[N+1][P]),f(T[N][P])):(f(T[N][P+1]),f(T[N+1][P+1]),f(T[N+1][P]))}}function c(_){const S=new J;for(let w=0;w<o.length;w+=3)S.x=o[w+0],S.y=o[w+1],S.z=o[w+2],S.normalize().multiplyScalar(_),o[w+0]=S.x,o[w+1]=S.y,o[w+2]=S.z}function u(){const _=new J;for(let S=0;S<o.length;S+=3){_.x=o[S+0],_.y=o[S+1],_.z=o[S+2];const w=b(_)/2/Math.PI+.5,M=v(_)/Math.PI+.5;s.push(w,1-M)}g(),d()}function d(){for(let _=0;_<s.length;_+=6){const S=s[_+0],w=s[_+2],M=s[_+4],E=Math.max(S,w,M),T=Math.min(S,w,M);E>.9&&T<.1&&(S<.2&&(s[_+0]+=1),w<.2&&(s[_+2]+=1),M<.2&&(s[_+4]+=1))}}function f(_){o.push(_.x,_.y,_.z)}function h(_,S){const w=_*3;S.x=e[w+0],S.y=e[w+1],S.z=e[w+2]}function g(){const _=new J,S=new J,w=new J,M=new J,E=new Xe,T=new Xe,N=new Xe;for(let R=0,P=0;R<o.length;R+=9,P+=6){_.set(o[R+0],o[R+1],o[R+2]),S.set(o[R+3],o[R+4],o[R+5]),w.set(o[R+6],o[R+7],o[R+8]),E.set(s[P+0],s[P+1]),T.set(s[P+2],s[P+3]),N.set(s[P+4],s[P+5]),M.copy(_).add(S).add(w).divideScalar(3);const L=b(M);x(E,P+0,_,L),x(T,P+2,S,L),x(N,P+4,w,L)}}function x(_,S,w,M){M<0&&_.x===1&&(s[S]=_.x-1),w.x===0&&w.z===0&&(s[S]=M/2/Math.PI+.5)}function b(_){return Math.atan2(_.z,-_.x)}function v(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ld(e.vertices,e.indices,e.radius,e.details)}}class Ub extends ld{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,s,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Ub(e.radius,e.detail)}}const sy=new J,ay=new J,a7=new J,ly=new ts;class _H extends Mn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),o=Math.cos(bf*n),s=e.getIndex(),a=e.getAttribute("position"),l=s?s.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),f={},h=[];for(let g=0;g<l;g+=3){s?(c[0]=s.getX(g),c[1]=s.getX(g+1),c[2]=s.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:x,b,c:v}=ly;if(x.fromBufferAttribute(a,c[0]),b.fromBufferAttribute(a,c[1]),v.fromBufferAttribute(a,c[2]),ly.getNormal(a7),d[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,d[1]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,d[2]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let _=0;_<3;_++){const S=(_+1)%3,w=d[_],M=d[S],E=ly[u[_]],T=ly[u[S]],N=`${w}_${M}`,R=`${M}_${w}`;R in f&&f[R]?(a7.dot(f[R].normal)<=o&&(h.push(E.x,E.y,E.z),h.push(T.x,T.y,T.z)),f[R]=null):N in f||(f[N]={index0:c[_],index1:c[S],normal:a7.clone()})}}for(const g in f)if(f[g]){const{index0:x,index1:b}=f[g];sy.fromBufferAttribute(a,x),ay.fromBufferAttribute(a,b),h.push(sy.x,sy.y,sy.z),h.push(ay.x,ay.y,ay.z)}this.setAttribute("position",new Gt(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class _f extends Wv{constructor(e){super(e),this.uuid=Ds(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Wv().fromJSON(i))}return this}}const G5e={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=wH(t,0,i,n,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,c,u,d,f,h;if(r&&(o=K5e(t,e,o,n)),t.length>80*n){a=c=t[0],l=u=t[1];for(let g=n;g<i;g+=n)d=t[g],f=t[g+1],d<a&&(a=d),f<l&&(l=f),d>c&&(c=d),f>u&&(u=f);h=Math.max(c-a,u-l),h=h!==0?32767/h:0}return jv(o,s,n,a,l,h,0),s}};function wH(t,e,n,r,i){let o,s;if(i===sxe(t,e,n,r)>0)for(o=e;o<n;o+=r)s=oL(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=oL(o,t[o],t[o+1],s);return s&&Bb(s,s.next)&&(qv(s),s=s.next),s}function Bf(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Bb(n,n.next)||kr(n.prev,n,n.next)===0)){if(qv(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function jv(t,e,n,r,i,o,s){if(!t)return;!s&&o&&exe(t,r,i,o);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,o?j5e(t,r,i,o):W5e(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),qv(t),t=c.next,a=c.next;continue}if(t=c,t===a){s?s===1?(t=X5e(Bf(t),e,n),jv(t,e,n,r,i,o,2)):s===2&&q5e(t,e,n,r,i,o):jv(Bf(t),e,n,r,i,o,1);break}}}function W5e(t){const e=t.prev,n=t,r=t.next;if(kr(e,n,r)>=0)return!1;const i=e.x,o=n.x,s=r.x,a=e.y,l=n.y,c=r.y,u=i<o?i<s?i:s:o<s?o:s,d=a<l?a<c?a:c:l<c?l:c,f=i>o?i>s?i:s:o>s?o:s,h=a>l?a>c?a:c:l>c?l:c;let g=r.next;for(;g!==e;){if(g.x>=u&&g.x<=f&&g.y>=d&&g.y<=h&&Ip(i,a,o,l,s,c,g.x,g.y)&&kr(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function j5e(t,e,n,r){const i=t.prev,o=t,s=t.next;if(kr(i,o,s)>=0)return!1;const a=i.x,l=o.x,c=s.x,u=i.y,d=o.y,f=s.y,h=a<l?a<c?a:c:l<c?l:c,g=u<d?u<f?u:f:d<f?d:f,x=a>l?a>c?a:c:l>c?l:c,b=u>d?u>f?u:f:d>f?d:f,v=lw(h,g,e,n,r),_=lw(x,b,e,n,r);let S=t.prevZ,w=t.nextZ;for(;S&&S.z>=v&&w&&w.z<=_;){if(S.x>=h&&S.x<=x&&S.y>=g&&S.y<=b&&S!==i&&S!==s&&Ip(a,u,l,d,c,f,S.x,S.y)&&kr(S.prev,S,S.next)>=0||(S=S.prevZ,w.x>=h&&w.x<=x&&w.y>=g&&w.y<=b&&w!==i&&w!==s&&Ip(a,u,l,d,c,f,w.x,w.y)&&kr(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;S&&S.z>=v;){if(S.x>=h&&S.x<=x&&S.y>=g&&S.y<=b&&S!==i&&S!==s&&Ip(a,u,l,d,c,f,S.x,S.y)&&kr(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;w&&w.z<=_;){if(w.x>=h&&w.x<=x&&w.y>=g&&w.y<=b&&w!==i&&w!==s&&Ip(a,u,l,d,c,f,w.x,w.y)&&kr(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function X5e(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!Bb(i,o)&&CH(i,r,r.next,o)&&Xv(i,o)&&Xv(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),qv(r),qv(r.next),r=t=o),r=r.next}while(r!==t);return Bf(r)}function q5e(t,e,n,r,i,o){let s=t;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&rxe(s,a)){let l=EH(s,a);s=Bf(s,s.next),l=Bf(l,l.next),jv(s,e,n,r,i,o,0),jv(l,e,n,r,i,o,0);return}a=a.next}s=s.next}while(s!==t)}function K5e(t,e,n,r){const i=[];let o,s,a,l,c;for(o=0,s=e.length;o<s;o++)a=e[o]*r,l=o<s-1?e[o+1]*r:t.length,c=wH(t,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(nxe(c));for(i.sort(Y5e),o=0;o<i.length;o++)n=Z5e(i[o],n);return n}function Y5e(t,e){return t.x-e.x}function Z5e(t,e){const n=Q5e(t,e);if(!n)return e;const r=EH(n,t);return Bf(r,r.next),Bf(n,n.next)}function Q5e(t,e){let n=e,r=-1/0,i;const o=t.x,s=t.y;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){const f=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=o&&f>r&&(r=f,i=n.x<n.next.x?n:n.next,f===o))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,d;n=i;do o>=n.x&&n.x>=l&&o!==n.x&&Ip(s<c?o:r,s,l,c,s<c?r:o,s,n.x,n.y)&&(d=Math.abs(s-n.y)/(o-n.x),Xv(n,t)&&(d<u||d===u&&(n.x>i.x||n.x===i.x&&J5e(i,n)))&&(i=n,u=d)),n=n.next;while(n!==a);return i}function J5e(t,e){return kr(t.prev,t,e.prev)<0&&kr(e.next,t,t.next)<0}function exe(t,e,n,r){let i=t;do i.z===0&&(i.z=lw(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,txe(i)}function txe(t){let e,n,r,i,o,s,a,l,c=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(s>1);return t}function lw(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function nxe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Ip(t,e,n,r,i,o,s,a){return(i-s)*(e-a)>=(t-s)*(o-a)&&(t-s)*(r-a)>=(n-s)*(e-a)&&(n-s)*(o-a)>=(i-s)*(r-a)}function rxe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!ixe(t,e)&&(Xv(t,e)&&Xv(e,t)&&oxe(t,e)&&(kr(t.prev,t,e.prev)||kr(t,e.prev,e))||Bb(t,e)&&kr(t.prev,t,t.next)>0&&kr(e.prev,e,e.next)>0)}function kr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Bb(t,e){return t.x===e.x&&t.y===e.y}function CH(t,e,n,r){const i=uy(kr(t,e,n)),o=uy(kr(t,e,r)),s=uy(kr(n,r,t)),a=uy(kr(n,r,e));return!!(i!==o&&s!==a||i===0&&cy(t,n,e)||o===0&&cy(t,r,e)||s===0&&cy(n,t,r)||a===0&&cy(n,e,r))}function cy(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function uy(t){return t>0?1:t<0?-1:0}function ixe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&CH(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Xv(t,e){return kr(t.prev,t,t.next)<0?kr(t,e,t.next)>=0&&kr(t,t.prev,e)>=0:kr(t,e,t.prev)<0||kr(t,t.next,e)<0}function oxe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function EH(t,e){const n=new cw(t.i,t.x,t.y),r=new cw(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function oL(t,e,n,r){const i=new cw(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function qv(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function cw(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function sxe(t,e,n,r){let i=0;for(let o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}class Ol{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return Ol.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];sL(e),aL(r,e);let s=e.length;n.forEach(sL);for(let l=0;l<n.length;l++)i.push(s),s+=n[l].length,aL(r,n[l]);const a=G5e.triangulate(r,i);for(let l=0;l<a.length;l+=3)o.push(a.slice(l,l+3));return o}}function sL(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function aL(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class kb extends Mn{constructor(e=new _f([new Xe(.5,.5),new Xe(-.5,.5),new Xe(-.5,-.5),new Xe(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];s(c)}this.setAttribute("position",new Gt(i,3)),this.setAttribute("uv",new Gt(o,2)),this.computeVertexNormals();function s(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,h=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:h-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,b=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,_=n.UVGenerator!==void 0?n.UVGenerator:axe;let S,w=!1,M,E,T,N;v&&(S=v.getSpacedPoints(u),w=!0,f=!1,M=v.computeFrenetFrames(u,!1),E=new J,T=new J,N=new J),f||(b=0,h=0,g=0,x=0);const R=a.extractPoints(c);let P=R.shape;const L=R.holes;if(!Ol.isClockWise(P)){P=P.reverse();for(let Q=0,fe=L.length;Q<fe;Q++){const he=L[Q];Ol.isClockWise(he)&&(L[Q]=he.reverse())}}const V=Ol.triangulateShape(P,L),D=P;for(let Q=0,fe=L.length;Q<fe;Q++){const he=L[Q];P=P.concat(he)}function H(Q,fe,he){return fe||console.error("THREE.ExtrudeGeometry: vec does not exist"),Q.clone().addScaledVector(fe,he)}const F=P.length,k=V.length;function O(Q,fe,he){let Ee,ue,ke;const ge=Q.x-fe.x,j=Q.y-fe.y,z=he.x-Q.x,ee=he.y-Q.y,xe=ge*ge+j*j,Ne=ge*ee-j*z;if(Math.abs(Ne)>Number.EPSILON){const Ae=Math.sqrt(xe),Fe=Math.sqrt(z*z+ee*ee),Oe=fe.x-j/Ae,We=fe.y+ge/Ae,ht=he.x-ee/Fe,Ge=he.y+z/Fe,Te=((ht-Oe)*ee-(Ge-We)*z)/(ge*ee-j*z);Ee=Oe+ge*Te-Q.x,ue=We+j*Te-Q.y;const nt=Ee*Ee+ue*ue;if(nt<=2)return new Xe(Ee,ue);ke=Math.sqrt(nt/2)}else{let Ae=!1;ge>Number.EPSILON?z>Number.EPSILON&&(Ae=!0):ge<-Number.EPSILON?z<-Number.EPSILON&&(Ae=!0):Math.sign(j)===Math.sign(ee)&&(Ae=!0),Ae?(Ee=-j,ue=ge,ke=Math.sqrt(xe)):(Ee=ge,ue=j,ke=Math.sqrt(xe/2))}return new Xe(Ee/ke,ue/ke)}const B=[];for(let Q=0,fe=D.length,he=fe-1,Ee=Q+1;Q<fe;Q++,he++,Ee++)he===fe&&(he=0),Ee===fe&&(Ee=0),B[Q]=O(D[Q],D[he],D[Ee]);const G=[];let W,K=B.concat();for(let Q=0,fe=L.length;Q<fe;Q++){const he=L[Q];W=[];for(let Ee=0,ue=he.length,ke=ue-1,ge=Ee+1;Ee<ue;Ee++,ke++,ge++)ke===ue&&(ke=0),ge===ue&&(ge=0),W[Ee]=O(he[Ee],he[ke],he[ge]);G.push(W),K=K.concat(W)}for(let Q=0;Q<b;Q++){const fe=Q/b,he=h*Math.cos(fe*Math.PI/2),Ee=g*Math.sin(fe*Math.PI/2)+x;for(let ue=0,ke=D.length;ue<ke;ue++){const ge=H(D[ue],B[ue],Ee);ie(ge.x,ge.y,-he)}for(let ue=0,ke=L.length;ue<ke;ue++){const ge=L[ue];W=G[ue];for(let j=0,z=ge.length;j<z;j++){const ee=H(ge[j],W[j],Ee);ie(ee.x,ee.y,-he)}}}const X=g+x;for(let Q=0;Q<F;Q++){const fe=f?H(P[Q],K[Q],X):P[Q];w?(T.copy(M.normals[0]).multiplyScalar(fe.x),E.copy(M.binormals[0]).multiplyScalar(fe.y),N.copy(S[0]).add(T).add(E),ie(N.x,N.y,N.z)):ie(fe.x,fe.y,0)}for(let Q=1;Q<=u;Q++)for(let fe=0;fe<F;fe++){const he=f?H(P[fe],K[fe],X):P[fe];w?(T.copy(M.normals[Q]).multiplyScalar(he.x),E.copy(M.binormals[Q]).multiplyScalar(he.y),N.copy(S[Q]).add(T).add(E),ie(N.x,N.y,N.z)):ie(he.x,he.y,d/u*Q)}for(let Q=b-1;Q>=0;Q--){const fe=Q/b,he=h*Math.cos(fe*Math.PI/2),Ee=g*Math.sin(fe*Math.PI/2)+x;for(let ue=0,ke=D.length;ue<ke;ue++){const ge=H(D[ue],B[ue],Ee);ie(ge.x,ge.y,d+he)}for(let ue=0,ke=L.length;ue<ke;ue++){const ge=L[ue];W=G[ue];for(let j=0,z=ge.length;j<z;j++){const ee=H(ge[j],W[j],Ee);w?ie(ee.x,ee.y+S[u-1].y,S[u-1].x+he):ie(ee.x,ee.y,d+he)}}}Y(),te();function Y(){const Q=i.length/3;if(f){let fe=0,he=F*fe;for(let Ee=0;Ee<k;Ee++){const ue=V[Ee];le(ue[2]+he,ue[1]+he,ue[0]+he)}fe=u+b*2,he=F*fe;for(let Ee=0;Ee<k;Ee++){const ue=V[Ee];le(ue[0]+he,ue[1]+he,ue[2]+he)}}else{for(let fe=0;fe<k;fe++){const he=V[fe];le(he[2],he[1],he[0])}for(let fe=0;fe<k;fe++){const he=V[fe];le(he[0]+F*u,he[1]+F*u,he[2]+F*u)}}r.addGroup(Q,i.length/3-Q,0)}function te(){const Q=i.length/3;let fe=0;oe(D,fe),fe+=D.length;for(let he=0,Ee=L.length;he<Ee;he++){const ue=L[he];oe(ue,fe),fe+=ue.length}r.addGroup(Q,i.length/3-Q,1)}function oe(Q,fe){let he=Q.length;for(;--he>=0;){const Ee=he;let ue=he-1;ue<0&&(ue=Q.length-1);for(let ke=0,ge=u+b*2;ke<ge;ke++){const j=F*ke,z=F*(ke+1),ee=fe+Ee+j,xe=fe+ue+j,Ne=fe+ue+z,Ae=fe+Ee+z;ve(ee,xe,Ne,Ae)}}}function ie(Q,fe,he){l.push(Q),l.push(fe),l.push(he)}function le(Q,fe,he){me(Q),me(fe),me(he);const Ee=i.length/3,ue=_.generateTopUV(r,i,Ee-3,Ee-2,Ee-1);we(ue[0]),we(ue[1]),we(ue[2])}function ve(Q,fe,he,Ee){me(Q),me(fe),me(Ee),me(fe),me(he),me(Ee);const ue=i.length/3,ke=_.generateSideWallUV(r,i,ue-6,ue-3,ue-2,ue-1);we(ke[0]),we(ke[1]),we(ke[3]),we(ke[1]),we(ke[2]),we(ke[3])}function me(Q){i.push(l[Q*3+0]),i.push(l[Q*3+1]),i.push(l[Q*3+2])}function we(Q){o.push(Q.x),o.push(Q.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return lxe(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,s=e.shapes.length;o<s;o++){const a=n[e.shapes[o]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new hx[i.type]().fromJSON(i)),new kb(r,e.options)}}const axe={generateTopUV:function(t,e,n,r,i){const o=e[n*3],s=e[n*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Xe(o,s),new Xe(a,l),new Xe(c,u)]},generateSideWallUV:function(t,e,n,r,i,o){const s=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],f=e[i*3],h=e[i*3+1],g=e[i*3+2],x=e[o*3],b=e[o*3+1],v=e[o*3+2];return Math.abs(a-u)<Math.abs(s-c)?[new Xe(s,1-l),new Xe(c,1-d),new Xe(f,1-g),new Xe(x,1-v)]:[new Xe(a,1-l),new Xe(u,1-d),new Xe(h,1-g),new Xe(b,1-v)]}};function lxe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class zb extends ld{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new zb(e.radius,e.detail)}}class z3 extends ld{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new z3(e.radius,e.detail)}}class Vb extends Mn{constructor(e=.5,n=1,r=32,i=1,o=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let d=e;const f=(n-e)/i,h=new J,g=new Xe;for(let x=0;x<=i;x++){for(let b=0;b<=r;b++){const v=o+b/r*s;h.x=d*Math.cos(v),h.y=d*Math.sin(v),l.push(h.x,h.y,h.z),c.push(0,0,1),g.x=(h.x/n+1)/2,g.y=(h.y/n+1)/2,u.push(g.x,g.y)}d+=f}for(let x=0;x<i;x++){const b=x*(r+1);for(let v=0;v<r;v++){const _=v+b,S=_,w=_+r+1,M=_+r+2,E=_+1;a.push(S,w,E),a.push(w,M,E)}}this.setIndex(a),this.setAttribute("position",new Gt(l,3)),this.setAttribute("normal",new Gt(c,3)),this.setAttribute("uv",new Gt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vb(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Hb extends Mn{constructor(e=new _f([new Xe(0,.5),new Xe(-.5,-.5),new Xe(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],s=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Gt(i,3)),this.setAttribute("normal",new Gt(o,3)),this.setAttribute("uv",new Gt(s,2));function c(u){const d=i.length/3,f=u.extractPoints(n);let h=f.shape;const g=f.holes;Ol.isClockWise(h)===!1&&(h=h.reverse());for(let b=0,v=g.length;b<v;b++){const _=g[b];Ol.isClockWise(_)===!0&&(g[b]=_.reverse())}const x=Ol.triangulateShape(h,g);for(let b=0,v=g.length;b<v;b++){const _=g[b];h=h.concat(_)}for(let b=0,v=h.length;b<v;b++){const _=h[b];i.push(_.x,_.y,0),o.push(0,0,1),s.push(_.x,_.y)}for(let b=0,v=x.length;b<v;b++){const _=x[b],S=_[0]+d,w=_[1]+d,M=_[2]+d;r.push(S,w,M),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return cxe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const s=n[e.shapes[i]];r.push(s)}return new Hb(r,e.curveSegments)}}function cxe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class p0 extends Mn{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,s=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:s,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(s+a,Math.PI);let c=0;const u=[],d=new J,f=new J,h=[],g=[],x=[],b=[];for(let v=0;v<=r;v++){const _=[],S=v/r;let w=0;v===0&&s===0?w=.5/n:v===r&&l===Math.PI&&(w=-.5/n);for(let M=0;M<=n;M++){const E=M/n;d.x=-e*Math.cos(i+E*o)*Math.sin(s+S*a),d.y=e*Math.cos(s+S*a),d.z=e*Math.sin(i+E*o)*Math.sin(s+S*a),g.push(d.x,d.y,d.z),f.copy(d).normalize(),x.push(f.x,f.y,f.z),b.push(E+w,1-S),_.push(c++)}u.push(_)}for(let v=0;v<r;v++)for(let _=0;_<n;_++){const S=u[v][_+1],w=u[v][_],M=u[v+1][_],E=u[v+1][_+1];(v!==0||s>0)&&h.push(S,w,E),(v!==r-1||l<Math.PI)&&h.push(w,M,E)}this.setIndex(h),this.setAttribute("position",new Gt(g,3)),this.setAttribute("normal",new Gt(x,3)),this.setAttribute("uv",new Gt(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new p0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Gb extends ld{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Gb(e.radius,e.detail)}}class Wb extends Mn{constructor(e=1,n=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const s=[],a=[],l=[],c=[],u=new J,d=new J,f=new J;for(let h=0;h<=r;h++)for(let g=0;g<=i;g++){const x=g/i*o,b=h/r*Math.PI*2;d.x=(e+n*Math.cos(b))*Math.cos(x),d.y=(e+n*Math.cos(b))*Math.sin(x),d.z=n*Math.sin(b),a.push(d.x,d.y,d.z),u.x=e*Math.cos(x),u.y=e*Math.sin(x),f.subVectors(d,u).normalize(),l.push(f.x,f.y,f.z),c.push(g/i),c.push(h/r)}for(let h=1;h<=r;h++)for(let g=1;g<=i;g++){const x=(i+1)*h+g-1,b=(i+1)*(h-1)+g-1,v=(i+1)*(h-1)+g,_=(i+1)*h+g;s.push(x,b,_),s.push(b,v,_)}this.setIndex(s),this.setAttribute("position",new Gt(a,3)),this.setAttribute("normal",new Gt(l,3)),this.setAttribute("uv",new Gt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wb(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class jb extends Mn{constructor(e=1,n=.4,r=64,i=8,o=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:s},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],d=new J,f=new J,h=new J,g=new J,x=new J,b=new J,v=new J;for(let S=0;S<=r;++S){const w=S/r*o*Math.PI*2;_(w,o,s,e,h),_(w+.01,o,s,e,g),b.subVectors(g,h),v.addVectors(g,h),x.crossVectors(b,v),v.crossVectors(x,b),x.normalize(),v.normalize();for(let M=0;M<=i;++M){const E=M/i*Math.PI*2,T=-n*Math.cos(E),N=n*Math.sin(E);d.x=h.x+(T*v.x+N*x.x),d.y=h.y+(T*v.y+N*x.y),d.z=h.z+(T*v.z+N*x.z),l.push(d.x,d.y,d.z),f.subVectors(d,h).normalize(),c.push(f.x,f.y,f.z),u.push(S/r),u.push(M/i)}}for(let S=1;S<=r;S++)for(let w=1;w<=i;w++){const M=(i+1)*(S-1)+(w-1),E=(i+1)*S+(w-1),T=(i+1)*S+w,N=(i+1)*(S-1)+w;a.push(M,E,N),a.push(E,T,N)}this.setIndex(a),this.setAttribute("position",new Gt(l,3)),this.setAttribute("normal",new Gt(c,3)),this.setAttribute("uv",new Gt(u,2));function _(S,w,M,E,T){const N=Math.cos(S),R=Math.sin(S),P=M/w*S,L=Math.cos(P);T.x=E*(2+L)*.5*N,T.y=E*(2+L)*R*.5,T.z=E*Math.sin(P)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jb(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Xb extends Mn{constructor(e=new wT(new J(-1,-1,0),new J(-1,1,0),new J(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const s=e.computeFrenetFrames(n,o);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const a=new J,l=new J,c=new Xe;let u=new J;const d=[],f=[],h=[],g=[];x(),this.setIndex(g),this.setAttribute("position",new Gt(d,3)),this.setAttribute("normal",new Gt(f,3)),this.setAttribute("uv",new Gt(h,2));function x(){for(let S=0;S<n;S++)b(S);b(o===!1?n:0),_(),v()}function b(S){u=e.getPointAt(S/n,u);const w=s.normals[S],M=s.binormals[S];for(let E=0;E<=i;E++){const T=E/i*Math.PI*2,N=Math.sin(T),R=-Math.cos(T);l.x=R*w.x+N*M.x,l.y=R*w.y+N*M.y,l.z=R*w.z+N*M.z,l.normalize(),f.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,d.push(a.x,a.y,a.z)}}function v(){for(let S=1;S<=n;S++)for(let w=1;w<=i;w++){const M=(i+1)*(S-1)+(w-1),E=(i+1)*S+(w-1),T=(i+1)*S+w,N=(i+1)*(S-1)+w;g.push(M,E,N),g.push(E,T,N)}}function _(){for(let S=0;S<=n;S++)for(let w=0;w<=i;w++)c.x=S/n,c.y=w/i,h.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Xb(new hx[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class TH extends Mn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new J,o=new J;if(e.index!==null){const s=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],f=d.start,h=d.count;for(let g=f,x=f+h;g<x;g+=3)for(let b=0;b<3;b++){const v=a.getX(g+b),_=a.getX(g+(b+1)%3);i.fromBufferAttribute(s,v),o.fromBufferAttribute(s,_),lL(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const s=e.attributes.position;for(let a=0,l=s.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;i.fromBufferAttribute(s,u),o.fromBufferAttribute(s,d),lL(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new Gt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function lL(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var cL=Object.freeze({__proto__:null,BoxGeometry:sd,CapsuleGeometry:Db,CircleGeometry:Fb,ConeGeometry:$b,CylinderGeometry:h0,DodecahedronGeometry:Ub,EdgesGeometry:_H,ExtrudeGeometry:kb,IcosahedronGeometry:zb,LatheGeometry:k3,OctahedronGeometry:z3,PlaneGeometry:$3,PolyhedronGeometry:ld,RingGeometry:Vb,ShapeGeometry:Hb,SphereGeometry:p0,TetrahedronGeometry:Gb,TorusGeometry:Wb,TorusKnotGeometry:jb,TubeGeometry:Xb,WireframeGeometry:TH});class MH extends qi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Tt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class RH extends $s{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class qb extends qi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Tt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$l,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ET extends qb{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Xe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Kr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Tt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Tt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Tt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class TT extends qi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Tt(16777215),this.specular=new Tt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$l,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=P3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class AH extends qi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Tt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$l,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class MT extends qi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$l,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class RT extends qi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Tt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$l,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=P3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class PH extends qi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Tt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$l,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Kb extends Io{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function af(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function NH(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function IH(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function uw(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,s=0;s!==r;++o){const a=n[o]*e;for(let l=0;l!==e;++l)i[s++]=t[a+l]}return i}function AT(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let s=o[r];if(s!==void 0)if(Array.isArray(s))do s=o[r],s!==void 0&&(e.push(o.time),n.push.apply(n,s)),o=t[i++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[r],s!==void 0&&(e.push(o.time),s.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do s=o[r],s!==void 0&&(e.push(o.time),n.push(s)),o=t[i++];while(o!==void 0)}function uxe(t,e,n,r,i=30){const o=t.clone();o.name=e;const s=[];for(let l=0;l<o.tracks.length;++l){const c=o.tracks[l],u=c.getValueSize(),d=[],f=[];for(let h=0;h<c.times.length;++h){const g=c.times[h]*i;if(!(g<n||g>=r)){d.push(c.times[h]);for(let x=0;x<u;++x)f.push(c.values[h*u+x])}}d.length!==0&&(c.times=af(d,c.times.constructor),c.values=af(f,c.values.constructor),s.push(c))}o.tracks=s;let a=1/0;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o}function dxe(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let s=0;s<i;++s){const a=n.tracks[s],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let f=0;const h=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);const g=a.times.length-1;let x;if(o<=a.times[0]){const v=u,_=d-u;x=a.values.slice(v,_)}else if(o>=a.times[g]){const v=g*d+u,_=v+d-u;x=a.values.slice(v,_)}else{const v=a.createInterpolant(),_=u,S=d-u;v.evaluate(o),x=v.resultBuffer.slice(_,S)}l==="quaternion"&&new Ao().fromArray(x).normalize().conjugate().toArray(x);const b=c.times.length;for(let v=0;v<b;++v){const _=v*h+f;if(l==="quaternion")Ao.multiplyQuaternionsFlat(c.values,_,x,0,c.values,_);else{const S=h-f*2;for(let w=0;w<S;++w)c.values[_+w]-=x[w]}}}return t.blendMode=nT,t}const fxe={convertArray:af,isTypedArray:NH,getKeyframeOrder:IH,sortedArray:uw,flattenJSON:AT,subclip:uxe,makeClipAdditive:dxe};class V3{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(o=i,i=n[++r],e<i)break t}s=n.length;break n}if(!(e>=o)){const a=n[1];e<a&&(r=2,o=a);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=o,o=n[--r-1],e>=o)break t}s=r,r=0;break n}break e}for(;r<s;){const a=r+s>>>1;e<n[a]?s=a:r=a+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let s=0;s!==i;++s)n[s]=r[o+s];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class OH extends V3{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:rf,endingEnd:rf}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,s=e+1,a=i[o],l=i[s];if(a===void 0)switch(this.getSettings_().endingStart){case of:o=e,a=2*n-r;break;case kv:o=i.length-2,a=n+i[o]-i[o+1];break;default:o=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case of:s=e,l=2*r-n;break;case kv:s=1,l=r+i[1]-i[0];break;default:s=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-r),this._offsetPrev=o*u,this._offsetNext=s*u}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,h=this._weightNext,g=(r-n)/(i-n),x=g*g,b=x*g,v=-f*b+2*f*x-f*g,_=(1+f)*b+(-1.5-2*f)*x+(-.5+f)*g+1,S=(-1-h)*b+(1.5+h)*x+.5*g,w=h*b-h*x;for(let M=0;M!==a;++M)o[M]=v*s[u+M]+_*s[c+M]+S*s[l+M]+w*s[d+M];return o}}class PT extends V3{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-n)/(i-n),d=1-u;for(let f=0;f!==a;++f)o[f]=s[c+f]*d+s[l+f]*u;return o}}class LH extends V3{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class cl{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=af(n,this.TimeBufferType),this.values=af(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:af(e.times,Array),values:af(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new LH(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new PT(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new OH(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Uv:n=this.InterpolantFactoryMethodDiscrete;break;case Bv:n=this.InterpolantFactoryMethodLinear;break;case r5:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Uv;case this.InterpolantFactoryMethodLinear:return Bv;case this.InterpolantFactoryMethodSmooth:return r5}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,s=i-1;for(;o!==i&&r[o]<e;)++o;for(;s!==-1&&r[s]>n;)--s;if(++s,o!==0||s!==i){o>=s&&(s=Math.max(s,1),o=s-1);const a=this.getValueSize();this.times=r.slice(o,s),this.values=this.values.slice(o*a,s*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,s),e=!1;break}s=l}if(i!==void 0&&NH(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===r5,o=e.length-1;let s=1;for(let a=1;a<o;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const d=a*r,f=d-r,h=d+r;for(let g=0;g!==r;++g){const x=n[d+g];if(x!==n[f+g]||x!==n[h+g]){l=!0;break}}}if(l){if(a!==s){e[s]=e[a];const d=a*r,f=s*r;for(let h=0;h!==r;++h)n[f+h]=n[d+h]}++s}}if(o>0){e[s]=e[o];for(let a=o*r,l=s*r,c=0;c!==r;++c)n[l+c]=n[a+c];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=n.slice(0,s*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}cl.prototype.TimeBufferType=Float32Array;cl.prototype.ValueBufferType=Float32Array;cl.prototype.DefaultInterpolation=Bv;class Qf extends cl{}Qf.prototype.ValueTypeName="bool";Qf.prototype.ValueBufferType=Array;Qf.prototype.DefaultInterpolation=Uv;Qf.prototype.InterpolantFactoryMethodLinear=void 0;Qf.prototype.InterpolantFactoryMethodSmooth=void 0;class NT extends cl{}NT.prototype.ValueTypeName="color";class Kv extends cl{}Kv.prototype.ValueTypeName="number";class DH extends V3{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let c=e*a;for(let u=c+a;c!==u;c+=4)Ao.slerpFlat(o,0,s,c-a,s,c,l);return o}}class m0 extends cl{InterpolantFactoryMethodLinear(e){return new DH(this.times,this.values,this.getValueSize(),e)}}m0.prototype.ValueTypeName="quaternion";m0.prototype.DefaultInterpolation=Bv;m0.prototype.InterpolantFactoryMethodSmooth=void 0;class Jf extends cl{}Jf.prototype.ValueTypeName="string";Jf.prototype.ValueBufferType=Array;Jf.prototype.DefaultInterpolation=Uv;Jf.prototype.InterpolantFactoryMethodLinear=void 0;Jf.prototype.InterpolantFactoryMethodSmooth=void 0;class Yv extends cl{}Yv.prototype.ValueTypeName="vector";class Zv{constructor(e,n=-1,r,i=gb){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Ds(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,a=r.length;s!==a;++s)n.push(pxe(r[s]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,s=r.length;o!==s;++o)n.push(cl.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,s=[];for(let a=0;a<o;a++){let l=[],c=[];l.push((a+o-1)%o,a,(a+1)%o),c.push(0,1,0);const u=IH(l);l=uw(l,1,u),c=uw(c,1,u),!i&&l[0]===0&&(l.push(o),c.push(c[0])),s.push(new Kv(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/r))}return new this(e,-1,s)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(o);if(u&&u.length>1){const d=u[1];let f=i[d];f||(i[d]=f=[]),f.push(c)}}const s=[];for(const a in i)s.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return s}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,f,h,g,x){if(h.length!==0){const b=[],v=[];AT(h,b,v,g),b.length!==0&&x.push(new d(f,b,v))}},i=[],o=e.name||"default",s=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const h={};let g;for(g=0;g<f.length;g++)if(f[g].morphTargets)for(let x=0;x<f[g].morphTargets.length;x++)h[f[g].morphTargets[x]]=-1;for(const x in h){const b=[],v=[];for(let _=0;_!==f[g].morphTargets.length;++_){const S=f[g];b.push(S.time),v.push(S.morphTarget===x?1:0)}i.push(new Kv(".morphTargetInfluence["+x+"]",b,v))}l=h.length*s}else{const h=".bones["+n[d].name+"]";r(Yv,h+".position",f,"pos",i),r(m0,h+".quaternion",f,"rot",i),r(Yv,h+".scale",f,"scl",i)}}return i.length===0?null:new this(o,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function hxe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Kv;case"vector":case"vector2":case"vector3":case"vector4":return Yv;case"color":return NT;case"quaternion":return m0;case"bool":case"boolean":return Qf;case"string":return Jf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function pxe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=hxe(t.type);if(t.times===void 0){const n=[],r=[];AT(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Sc={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class IT{constructor(e,n,r){const i=this;let o=!1,s=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){a++,o===!1&&i.onStart!==void 0&&i.onStart(u,s,a),o=!0},this.itemEnd=function(u){s++,i.onProgress!==void 0&&i.onProgress(u,s,a),s===a&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],g=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return g}return null}}}const FH=new IT;class gs{constructor(e){this.manager=e!==void 0?e:FH,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}gs.DEFAULT_MATERIAL_NAME="__DEFAULT";const cc={};class mxe extends Error{constructor(e,n){super(e),this.response=n}}class Uc extends gs{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Sc.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(cc[e]!==void 0){cc[e].push({onLoad:n,onProgress:r,onError:i});return}cc[e]=[],cc[e].push({onLoad:n,onProgress:r,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=cc[e],d=c.body.getReader(),f=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),h=f?parseInt(f):0,g=h!==0;let x=0;const b=new ReadableStream({start(v){_();function _(){d.read().then(({done:S,value:w})=>{if(S)v.close();else{x+=w.byteLength;const M=new ProgressEvent("progress",{lengthComputable:g,loaded:x,total:h});for(let E=0,T=u.length;E<T;E++){const N=u[E];N.onProgress&&N.onProgress(M)}v.enqueue(w),_()}})}}});return new Response(b)}else throw new mxe(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),f=d&&d[1]?d[1].toLowerCase():void 0,h=new TextDecoder(f);return c.arrayBuffer().then(g=>h.decode(g))}}}).then(c=>{Sc.add(e,c);const u=cc[e];delete cc[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onLoad&&h.onLoad(c)}}).catch(c=>{const u=cc[e];if(u===void 0)throw this.manager.itemError(e),c;delete cc[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onError&&h.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class gxe extends gs{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new Uc(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{n(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Zv.parse(e[r]);n.push(i)}return n}}class vxe extends gs{constructor(e){super(e)}load(e,n,r,i){const o=this,s=[],a=new Ob,l=new Uc(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let c=0;function u(d){l.load(e[d],function(f){const h=o.parse(f,!0);s[d]={width:h.width,height:h.height,format:h.format,mipmaps:h.mipmaps},c+=1,c===6&&(h.mipmapCount===1&&(a.minFilter=Fr),a.image=s,a.format=h.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let d=0,f=e.length;d<f;++d)u(d);else l.load(e,function(d){const f=o.parse(d,!0);if(f.isCubemap){const h=f.mipmaps.length/f.mipmapCount;for(let g=0;g<h;g++){s[g]={mipmaps:[]};for(let x=0;x<f.mipmapCount;x++)s[g].mipmaps.push(f.mipmaps[g*f.mipmapCount+x]),s[g].format=f.format,s[g].width=f.width,s[g].height=f.height}a.image=s}else a.image.width=f.width,a.image.height=f.height,a.mipmaps=f.mipmaps;f.mipmapCount===1&&(a.minFilter=Fr),a.format=f.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class Qv extends gs{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=Sc.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s;const a=Gv("img");function l(){u(),Sc.add(e,this),n&&n(this),o.manager.itemEnd(e)}function c(d){u(),i&&i(d),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}}class yxe extends gs{constructor(e){super(e)}load(e,n,r,i){const o=new u0;o.colorSpace=Wt;const s=new Qv(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function l(c){s.load(e[c],function(u){o.images[c]=u,a++,a===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return o}}class xxe extends gs{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new Tc,a=new Uc(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(o.withCredentials),a.load(e,function(l){let c;try{c=o.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:to,s.wrapT=c.wrapT!==void 0?c.wrapT:to,s.magFilter=c.magFilter!==void 0?c.magFilter:Fr,s.minFilter=c.minFilter!==void 0?c.minFilter:Fr,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?s.colorSpace=c.colorSpace:c.encoding!==void 0&&(s.encoding=c.encoding),c.flipY!==void 0&&(s.flipY=c.flipY),c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=_a),c.mipmapCount===1&&(s.minFilter=Fr),c.generateMipmaps!==void 0&&(s.generateMipmaps=c.generateMipmaps),s.needsUpdate=!0,n&&n(s,c)},r,i),s}}class bxe extends gs{constructor(e){super(e)}load(e,n,r,i){const o=new Hr,s=new Qv(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class cd extends tr{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Tt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class OT extends cd{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(tr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Tt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const l7=new cn,uL=new J,dL=new J;class LT{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Xe(512,512),this.map=null,this.mapPass=null,this.matrix=new cn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new d0,this._frameExtents=new Xe(1,1),this._viewportCount=1,this._viewports=[new En(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;uL.setFromMatrixPosition(e.matrixWorld),n.position.copy(uL),dL.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(dL),n.updateMatrixWorld(),l7.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(l7),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(l7)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Sxe extends LT{constructor(){super(new Yr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Bm*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Yb extends cd{constructor(e,n,r=0,i=Math.PI/3,o=0,s=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(tr.DEFAULT_UP),this.updateMatrix(),this.target=new tr,this.distance=r,this.angle=i,this.penumbra=o,this.decay=s,this.map=null,this.shadow=new Sxe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const fL=new cn,pg=new J,c7=new J;class _xe extends LT{constructor(){super(new Yr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Xe(4,2),this._viewportCount=6,this._viewports=[new En(2,1,1,1),new En(0,1,1,1),new En(3,1,1,1),new En(1,1,1,1),new En(3,0,1,1),new En(1,0,1,1)],this._cubeDirections=[new J(1,0,0),new J(-1,0,0),new J(0,0,1),new J(0,0,-1),new J(0,1,0),new J(0,-1,0)],this._cubeUps=[new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,0,1),new J(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),pg.setFromMatrixPosition(e.matrixWorld),r.position.copy(pg),c7.copy(r.position),c7.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(c7),r.updateMatrixWorld(),i.makeTranslation(-pg.x,-pg.y,-pg.z),fL.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(fL)}}class DT extends cd{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new _xe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class wxe extends LT{constructor(){super(new Ml(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class FT extends cd{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(tr.DEFAULT_UP),this.updateMatrix(),this.target=new tr,this.shadow=new wxe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class $T extends cd{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class $H extends cd{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class UH{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new J)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.282095),n.addScaledVector(s[1],.488603*i),n.addScaledVector(s[2],.488603*o),n.addScaledVector(s[3],.488603*r),n.addScaledVector(s[4],1.092548*(r*i)),n.addScaledVector(s[5],1.092548*(i*o)),n.addScaledVector(s[6],.315392*(3*o*o-1)),n.addScaledVector(s[7],1.092548*(r*o)),n.addScaledVector(s[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.886227),n.addScaledVector(s[1],2*.511664*i),n.addScaledVector(s[2],2*.511664*o),n.addScaledVector(s[3],2*.511664*r),n.addScaledVector(s[4],2*.429043*r*i),n.addScaledVector(s[5],2*.429043*i*o),n.addScaledVector(s[6],.743125*o*o-.247708),n.addScaledVector(s[7],2*.429043*r*o),n.addScaledVector(s[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class BH extends cd{constructor(e=new UH,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class g0 extends gs{constructor(e){super(e),this.textures={}}load(e,n,r,i){const o=this,s=new Uc(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{n(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}const i=g0.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Tt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const s=e.uniforms[o];switch(i.uniforms[o]={},s.type){case"t":i.uniforms[o].value=r(s.value);break;case"c":i.uniforms[o].value=new Tt().setHex(s.value);break;case"v2":i.uniforms[o].value=new Xe().fromArray(s.value);break;case"v3":i.uniforms[o].value=new J().fromArray(s.value);break;case"v4":i.uniforms[o].value=new En().fromArray(s.value);break;case"m3":i.uniforms[o].value=new Cn().fromArray(s.value);break;case"m4":i.uniforms[o].value=new cn().fromArray(s.value);break;default:i.uniforms[o].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new Xe().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Xe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:MH,SpriteMaterial:Nb,RawShaderMaterial:RH,ShaderMaterial:$s,PointsMaterial:B3,MeshPhysicalMaterial:ET,MeshStandardMaterial:qb,MeshPhongMaterial:TT,MeshToonMaterial:AH,MeshNormalMaterial:MT,MeshLambertMaterial:RT,MeshDepthMaterial:pT,MeshDistanceMaterial:mT,MeshBasicMaterial:zc,MeshMatcapMaterial:PH,LineDashedMaterial:Kb,LineBasicMaterial:Io,Material:qi};return new n[e]}}class dw{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class kH extends Mn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class zH extends gs{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new Uc(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{n(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(h,g){if(n[g]!==void 0)return n[g];const b=h.interleavedBuffers[g],v=o(h,b.buffer),_=Rp(b.type,v),S=new U3(_,b.stride);return S.uuid=b.uuid,n[g]=S,S}function o(h,g){if(r[g]!==void 0)return r[g];const b=h.arrayBuffers[g],v=new Uint32Array(b).buffer;return r[g]=v,v}const s=e.isInstancedBufferGeometry?new kH:new Mn,a=e.data.index;if(a!==void 0){const h=Rp(a.type,a.array);s.setIndex(new ur(h,1))}const l=e.data.attributes;for(const h in l){const g=l[h];let x;if(g.isInterleavedBufferAttribute){const b=i(e.data,g.data);x=new Yu(b,g.itemSize,g.offset,g.normalized)}else{const b=Rp(g.type,g.array),v=g.isInstancedBufferAttribute?Hm:ur;x=new v(b,g.itemSize,g.normalized)}g.name!==void 0&&(x.name=g.name),g.usage!==void 0&&x.setUsage(g.usage),s.setAttribute(h,x)}const c=e.data.morphAttributes;if(c)for(const h in c){const g=c[h],x=[];for(let b=0,v=g.length;b<v;b++){const _=g[b];let S;if(_.isInterleavedBufferAttribute){const w=i(e.data,_.data);S=new Yu(w,_.itemSize,_.offset,_.normalized)}else{const w=Rp(_.type,_.array);S=new ur(w,_.itemSize,_.normalized)}_.name!==void 0&&(S.name=_.name),x.push(S)}s.morphAttributes[h]=x}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let h=0,g=d.length;h!==g;++h){const x=d[h];s.addGroup(x.start,x.count,x.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const h=new J;f.center!==void 0&&h.fromArray(f.center),s.boundingSphere=new Po(h,f.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class Cxe extends gs{constructor(e){super(e)}load(e,n,r,i){const o=this,s=this.path===""?dw.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new Uc(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?dw.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new Uc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const s=await o.loadAsync(e,n),a=JSON.parse(s),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,o,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let d=!1;for(const f in s)if(s[f].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,o),a=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,i,a,s,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new _f().fromJSON(e[r]);n[o.uuid]=o}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=new Ib().fromJSON(e[o],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new zH;for(let o=0,s=e.length;o<s;o++){let a;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in cL?a=cL[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const o=new g0;o.setTextures(n);for(let s=0,a=e.length;s<a;s++){const l=e[s];r[l.uuid]===void 0&&(r[l.uuid]=o.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=Zv.parse(i);n[o.uuid]=o}return n}parseImages(e,n){const r=this,i={};let o;function s(l){return r.manager.itemStart(l),o.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return s(u)}else return l.data?{data:Rp(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new IT(n);o=new Qv(l),o.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],f=d.url;if(Array.isArray(f)){const h=[];for(let g=0,x=f.length;g<x;g++){const b=f[g],v=a(b);v!==null&&(v instanceof HTMLImageElement?h.push(v):h.push(new Tc(v.data,v.width,v.height)))}i[d.uuid]=new sf(h)}else{const h=a(d.url);i[d.uuid]=new sf(h)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function o(s){if(typeof s=="string"){const a=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return s.data?{data:Rp(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new Qv(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,a=e.length;s<a;s++){const l=e[s],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d],g=await o(h);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new Tc(g.data,g.width,g.height)))}r[l.uuid]=new sf(u)}else{const u=await o(l.url);r[l.uuid]=new sf(u)}}}return r}parseTextures(e,n){function r(o,s){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),s[o])}const i={};if(e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=e[o];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let u;Array.isArray(c)?(u=new u0,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Tc:u=new Hr,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,Exe)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],hL),u.wrapT=r(a.wrap[1],hL)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,pL)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,pL)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,n,r,i,o){let s;function a(f){return n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),n[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const h=[];for(let g=0,x=f.length;g<x;g++){const b=f[g];r[b]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",b),h.push(r[b])}return h}return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),r[f]}}function c(f){return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),i[f]}let u,d;switch(e.type){case"Scene":s=new Vm,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Tt(e.background):s.background=c(e.background)),e.environment!==void 0&&(s.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new Pb(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new Ab(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":s=new Yr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Ml(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new $T(e.color,e.intensity);break;case"DirectionalLight":s=new FT(e.color,e.intensity);break;case"PointLight":s=new DT(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new $H(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new Yb(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new OT(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new BH().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),s=new fH(u,d),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),s=new Zr(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const f=e.count,h=e.instanceMatrix,g=e.instanceColor;s=new hH(u,d,f),s.instanceMatrix=new Hm(new Float32Array(h.array),16),g!==void 0&&(s.instanceColor=new Hm(new Float32Array(g.array),g.itemSize));break;case"BatchedMesh":u=a(e.geometry),d=l(e.material),s=new pH(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,d),s.geometry=u,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._visibility=e.visibility,s._active=e.active,s._bounds=e.bounds.map(x=>{const b=new Ho;b.min.fromArray(x.boxMin),b.max.fromArray(x.boxMax);const v=new Po;return v.radius=x.sphereRadius,v.center.fromArray(x.sphereCenter),{boxInitialized:x.boxInitialized,box:b,sphereInitialized:x.sphereInitialized,sphere:v}}),s._maxGeometryCount=e.maxGeometryCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._geometryCount=e.geometryCount,s._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":s=new dH;break;case"Line":s=new Zu(a(e.geometry),l(e.material));break;case"LineLoop":s=new mH(a(e.geometry),l(e.material));break;case"LineSegments":s=new Gl(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new gH(a(e.geometry),l(e.material));break;case"Sprite":s=new uH(l(e.material));break;case"Group":s=new Np;break;case"Bone":s=new vT;break;default:s=new tr}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let h=0;h<f.length;h++)s.add(this.parseObject(f[h],n,r,i,o))}if(e.animations!==void 0){const f=e.animations;for(let h=0;h<f.length;h++){const g=f[h];s.animations.push(o[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const f=e.levels;for(let h=0;h<f.length;h++){const g=f[h],x=s.getObjectByProperty("uuid",g.object);x!==void 0&&s.addLevel(x,g.distance,g.hysteresis)}}return s}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Exe={UVMapping:ab,CubeReflectionMapping:rl,CubeRefractionMapping:Fl,EquirectangularReflectionMapping:ju,EquirectangularRefractionMapping:Xu,CubeUVReflectionMapping:a0},hL={RepeatWrapping:$f,ClampToEdgeWrapping:to,MirroredRepeatWrapping:Uf},pL={NearestFilter:er,NearestMipmapNearestFilter:qu,NearestMipmapLinearFilter:Cc,LinearFilter:Fr,LinearMipmapNearestFilter:lb,LinearMipmapLinearFilter:_a};class Txe extends gs{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=Sc.get(e);if(s!==void 0){if(o.manager.itemStart(e),s.then){s.then(c=>{n&&n(c),o.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(c){return Sc.add(e,c),n&&n(c),o.manager.itemEnd(e),c}).catch(function(c){i&&i(c),Sc.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});Sc.add(e,l),o.manager.itemStart(e)}}let dy;class UT{static getContext(){return dy===void 0&&(dy=new(window.AudioContext||window.webkitAudioContext)),dy}static setContext(e){dy=e}}class Mxe extends gs{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new Uc(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{const c=l.slice(0);UT.getContext().decodeAudioData(c,function(d){n(d)}).catch(a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),o.manager.itemError(e)}}}const mL=new cn,gL=new cn,Ad=new cn;class Rxe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Yr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Yr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Ad.copy(e.projectionMatrix);const i=n.eyeSep/2,o=i*n.near/n.focus,s=n.near*Math.tan(bf*n.fov*.5)/n.zoom;let a,l;gL.elements[12]=-i,mL.elements[12]=i,a=-s*n.aspect+o,l=s*n.aspect+o,Ad.elements[0]=2*n.near/(l-a),Ad.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Ad),a=-s*n.aspect-o,l=s*n.aspect-o,Ad.elements[0]=2*n.near/(l-a),Ad.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Ad)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(gL),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(mL)}}class BT{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=vL(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=vL();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function vL(){return(typeof performance>"u"?Date:performance).now()}const Pd=new J,yL=new Ao,Axe=new J,Nd=new J;class Pxe extends tr{constructor(){super(),this.type="AudioListener",this.context=UT.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new BT}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Pd,yL,Axe),Nd.set(0,0,-1).applyQuaternion(yL),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Pd.x,i),n.positionY.linearRampToValueAtTime(Pd.y,i),n.positionZ.linearRampToValueAtTime(Pd.z,i),n.forwardX.linearRampToValueAtTime(Nd.x,i),n.forwardY.linearRampToValueAtTime(Nd.y,i),n.forwardZ.linearRampToValueAtTime(Nd.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Pd.x,Pd.y,Pd.z),n.setOrientation(Nd.x,Nd.y,Nd.z,r.x,r.y,r.z)}}class VH extends tr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Id=new J,xL=new Ao,Nxe=new J,Od=new J;class Ixe extends VH{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Id,xL,Nxe),Od.set(0,0,1).applyQuaternion(xL);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Id.x,r),n.positionY.linearRampToValueAtTime(Id.y,r),n.positionZ.linearRampToValueAtTime(Id.z,r),n.orientationX.linearRampToValueAtTime(Od.x,r),n.orientationY.linearRampToValueAtTime(Od.y,r),n.orientationZ.linearRampToValueAtTime(Od.z,r)}else n.setPosition(Id.x,Id.y,Id.z),n.setOrientation(Od.x,Od.y,Od.z)}}class Oxe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class HH{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,s;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let a=0;a!==i;++a)r[o+a]=r[a];s=n}else{s+=n;const a=n/s;this._mixBufferRegion(r,o,0,a,i)}this.cumulativeWeight=s}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-o,n)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,s=i;o!==s;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let s=0;s!==o;++s)e[n+s]=e[r+s]}_slerp(e,n,r,i){Ao.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const s=this._workIndex*o;Ao.multiplyQuaternionsFlat(e,s,e,n,e,r),Ao.slerpFlat(e,n,e,n,e,s,i)}_lerp(e,n,r,i,o){const s=1-i;for(let a=0;a!==o;++a){const l=n+a;e[l]=e[l]*s+e[r+a]*i}}_lerpAdditive(e,n,r,i,o){for(let s=0;s!==o;++s){const a=n+s;e[a]=e[a]+e[r+s]*i}}}const kT="\\[\\]\\.:\\/",Lxe=new RegExp("["+kT+"]","g"),zT="[^"+kT+"]",Dxe="[^"+kT.replace("\\.","")+"]",Fxe=/((?:WC+[\/:])*)/.source.replace("WC",zT),$xe=/(WCOD+)?/.source.replace("WCOD",Dxe),Uxe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",zT),Bxe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",zT),kxe=new RegExp("^"+Fxe+$xe+Uxe+Bxe+"$"),zxe=["material","materials","bones","map"];class Vxe{constructor(e,n,r){const i=r||Kn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Kn{constructor(e,n,r){this.path=n,this.parsedPath=r||Kn.parseTrackName(n),this.node=Kn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Kn.Composite(e,n,r):new Kn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Lxe,"")}static parseTrackName(e){const n=kxe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);zxe.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let s=0;s<o.length;s++){const a=o[s];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=Kn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const s=e[i];if(s===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=o}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Kn.Composite=Vxe;Kn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Kn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Kn.prototype.GetterByBindingType=[Kn.prototype._getValue_direct,Kn.prototype._getValue_array,Kn.prototype._getValue_arrayElement,Kn.prototype._getValue_toArray];Kn.prototype.SetterByBindingTypeAndVersioning=[[Kn.prototype._setValue_direct,Kn.prototype._setValue_direct_setNeedsUpdate,Kn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Kn.prototype._setValue_array,Kn.prototype._setValue_array_setNeedsUpdate,Kn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Kn.prototype._setValue_arrayElement,Kn.prototype._setValue_arrayElement_setNeedsUpdate,Kn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Kn.prototype._setValue_fromArray,Kn.prototype._setValue_fromArray_setNeedsUpdate,Kn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Hxe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ds(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,s=o.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const f=arguments[u],h=f.uuid;let g=n[h];if(g===void 0){g=l++,n[h]=g,e.push(f);for(let x=0,b=s;x!==b;++x)o[x].push(new Kn(f,r[x],i[x]))}else if(g<c){a=e[g];const x=--c,b=e[x];n[b.uuid]=g,e[g]=b,n[h]=x,e[x]=f;for(let v=0,_=s;v!==_;++v){const S=o[v],w=S[x];let M=S[g];S[g]=w,M===void 0&&(M=new Kn(f,r[v],i[v])),S[x]=M}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){const l=arguments[s],c=l.uuid,u=n[c];if(u!==void 0&&u>=o){const d=o++,f=e[d];n[f.uuid]=u,e[u]=f,n[c]=d,e[d]=l;for(let h=0,g=i;h!==g;++h){const x=r[h],b=x[d],v=x[u];x[u]=b,x[d]=v}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,s=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=n[u];if(d!==void 0)if(delete n[u],d<o){const f=--o,h=e[f],g=--s,x=e[g];n[h.uuid]=d,e[d]=h,n[x.uuid]=f,e[f]=x,e.pop();for(let b=0,v=i;b!==v;++b){const _=r[b],S=_[f],w=_[g];_[d]=S,_[f]=w,_.pop()}}else{const f=--s,h=e[f];f>0&&(n[h.uuid]=d),e[d]=h,e.pop();for(let g=0,x=i;g!==x;++g){const b=r[g];b[d]=b[f],b.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const s=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);i=o.length,r[e]=i,s.push(e),a.push(n),o.push(d);for(let f=u,h=l.length;f!==h;++f){const g=l[f];d[f]=new Kn(g,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,s=this._bindings,a=s.length-1,l=s[a],c=e[a];n[c]=r,s[r]=l,s.pop(),o[r]=o[a],o.pop(),i[r]=i[a],i.pop()}}}class GH{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,s=o.length,a=new Array(s),l={endingStart:rf,endingEnd:rf};for(let c=0;c!==s;++c){const u=o[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=OV,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,o=e._clip.duration,s=o/i,a=i/o;e.warp(1,s,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,s=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=o,l[1]=o+r,c[0]=e/s,c[1]=n/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const s=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case nT:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(s),c[u].accumulateAdditive(a);break;case gb:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(s),c[u].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const s=r===LV;if(e===0)return o===-1?i:s&&(o&1)===1?n-i:i;if(r===IV){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,o+=Math.abs(a);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(s&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=of,i.endingEnd=of):(e?i.endingStart=this.zeroSlopeAtStart?of:rf:i.endingStart=kv,n?i.endingEnd=this.zeroSlopeAtEnd?of:rf:i.endingEnd=kv)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,l=s.sampleValues;return a[0]=o,l[0]=n,a[1]=o+e,l[1]=r,this}}const Gxe=new Float32Array(1);class Wxe extends Ta{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,s=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==o;++d){const f=i[d],h=f.name;let g=u[h];if(g!==void 0)++g.referenceCount,s[d]=g;else{if(g=s[d],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,h));continue}const x=n&&n._propertyBindings[d].binding.parsedPath;g=new HH(Kn.create(r,h,x),f.ValueTypeName,f.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,h),s[d]=g}a[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let s=o[n];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=s;else{const a=s.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,s=this._actionsByClip,a=s[o],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete s[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let s=i[n];s===void 0&&(s={},i[n]=s),s[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,s=this._bindingsByRootAndName,a=s[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[o],Object.keys(a).length===0&&delete s[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new PT(new Float32Array(2),new Float32Array(2),1,Gxe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let s=typeof e=="string"?Zv.findByName(i,e):e;const a=s!==null?s.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(s!==null?r=s.blendMode:r=gb),l!==void 0){const d=l.actionByRoot[o];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;const u=new GH(this,s,n,r);return this._bindAction(u,c),this._addInactiveAction(u,a,o),u}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?Zv.findByName(r,e):e,s=o?o.uuid:e,a=this._actionsByClip[s];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,o,s);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(s);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const s=o.knownActions;for(let a=0,l=s.length;a!==l;++a){const c=s[a];this._deactivateAction(c);const u=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,n[u]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const s in r){const a=r[s].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const s in o){const a=o[s];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}let jxe=class WH{constructor(e){this.value=e}clone(){return new WH(this.value.clone===void 0?this.value:this.value.clone())}},Xxe=0,qxe=class extends Ta{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Xxe++}),this.name="",this.usage=Um,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const o=Array.isArray(n[r])?n[r]:[n[r]];for(let s=0;s<o.length;s++)this.uniforms.push(o[s].clone())}return this}clone(){return new this.constructor().copy(this)}};class jH extends U3{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Kxe{constructor(e,n,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class XH{constructor(e,n,r=0,i=1/0){this.ray=new Zf(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Sf,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return fw(e,this,r,n),r.sort(bL),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)fw(e[i],this,r,n);return r.sort(bL),r}}function bL(t,e){return t.distance-e.distance}function fw(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let o=0,s=i.length;o<s;o++)fw(i[o],e,n,!0)}}class hw{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Kr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Yxe{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const SL=new Xe;class Zxe{constructor(e=new Xe(1/0,1/0),n=new Xe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=SL.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,SL).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _L=new J,fy=new J;class Qxe{constructor(e=new J,n=new J){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){_L.subVectors(e,this.start),fy.subVectors(this.end,this.start);const r=fy.dot(fy);let o=fy.dot(_L)/r;return n&&(o=Kr(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const wL=new J;class Jxe extends tr{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Mn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,a=1,l=32;s<l;s++,a++){const c=s/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new Gt(i,3));const o=new Io({fog:!1,toneMapped:!1});this.cone=new Gl(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),wL.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(wL),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const cu=new J,hy=new cn,u7=new cn;class e6e extends Gl{constructor(e){const n=qH(e),r=new Mn,i=[],o=[],s=new Tt(0,0,1),a=new Tt(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(s.r,s.g,s.b),o.push(a.r,a.g,a.b))}r.setAttribute("position",new Gt(i,3)),r.setAttribute("color",new Gt(o,3));const l=new Io({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");u7.copy(this.root.matrixWorld).invert();for(let o=0,s=0;o<n.length;o++){const a=n[o];a.parent&&a.parent.isBone&&(hy.multiplyMatrices(u7,a.matrixWorld),cu.setFromMatrixPosition(hy),i.setXYZ(s,cu.x,cu.y,cu.z),hy.multiplyMatrices(u7,a.parent.matrixWorld),cu.setFromMatrixPosition(hy),i.setXYZ(s+1,cu.x,cu.y,cu.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function qH(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,qH(t.children[n]));return e}class t6e extends Zr{constructor(e,n,r){const i=new p0(n,4,2),o=new zc({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const n6e=new J,CL=new Tt,EL=new Tt;class r6e extends tr{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new z3(n);i.rotateY(Math.PI*.5),this.material=new zc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),s=new Float32Array(o.count*3);i.setAttribute("color",new ur(s,3)),this.add(new Zr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");CL.copy(this.light.color),EL.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?CL:EL;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(n6e.setFromMatrixPosition(this.light.matrixWorld).negate())}}class i6e extends Gl{constructor(e=10,n=10,r=4473924,i=8947848){r=new Tt(r),i=new Tt(i);const o=n/2,s=e/n,a=e/2,l=[],c=[];for(let f=0,h=0,g=-a;f<=n;f++,g+=s){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const x=f===o?r:i;x.toArray(c,h),h+=3,x.toArray(c,h),h+=3,x.toArray(c,h),h+=3,x.toArray(c,h),h+=3}const u=new Mn;u.setAttribute("position",new Gt(l,3)),u.setAttribute("color",new Gt(c,3));const d=new Io({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class o6e extends Gl{constructor(e=10,n=16,r=8,i=64,o=4473924,s=8947848){o=new Tt(o),s=new Tt(s);const a=[],l=[];if(n>1)for(let d=0;d<n;d++){const f=d/n*(Math.PI*2),h=Math.sin(f)*e,g=Math.cos(f)*e;a.push(0,0,0),a.push(h,0,g);const x=d&1?o:s;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let d=0;d<r;d++){const f=d&1?o:s,h=e-e/r*d;for(let g=0;g<i;g++){let x=g/i*(Math.PI*2),b=Math.sin(x)*h,v=Math.cos(x)*h;a.push(b,0,v),l.push(f.r,f.g,f.b),x=(g+1)/i*(Math.PI*2),b=Math.sin(x)*h,v=Math.cos(x)*h,a.push(b,0,v),l.push(f.r,f.g,f.b)}}const c=new Mn;c.setAttribute("position",new Gt(a,3)),c.setAttribute("color",new Gt(l,3));const u=new Io({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const TL=new J,py=new J,ML=new J;class s6e extends tr{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Mn;i.setAttribute("position",new Gt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new Io({fog:!1,toneMapped:!1});this.lightPlane=new Zu(i,o),this.add(this.lightPlane),i=new Mn,i.setAttribute("position",new Gt([0,0,0,0,0,1],3)),this.targetLine=new Zu(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),TL.setFromMatrixPosition(this.light.matrixWorld),py.setFromMatrixPosition(this.light.target.matrixWorld),ML.subVectors(py,TL),this.lightPlane.lookAt(py),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(py),this.targetLine.scale.z=ML.length()}}const my=new J,Xr=new F3;class a6e extends Gl{constructor(e){const n=new Mn,r=new Io({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],s={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,x){l(g),l(x)}function l(g){i.push(0,0,0),o.push(0,0,0),s[g]===void 0&&(s[g]=[]),s[g].push(i.length/3-1)}n.setAttribute("position",new Gt(i,3)),n.setAttribute("color",new Gt(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const c=new Tt(16755200),u=new Tt(16711680),d=new Tt(43775),f=new Tt(16777215),h=new Tt(3355443);this.setColors(c,u,d,f,h)}setColors(e,n,r,i,o){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,o.r,o.g,o.b),a.setXYZ(41,o.r,o.g,o.b),a.setXYZ(42,o.r,o.g,o.b),a.setXYZ(43,o.r,o.g,o.b),a.setXYZ(44,o.r,o.g,o.b),a.setXYZ(45,o.r,o.g,o.b),a.setXYZ(46,o.r,o.g,o.b),a.setXYZ(47,o.r,o.g,o.b),a.setXYZ(48,o.r,o.g,o.b),a.setXYZ(49,o.r,o.g,o.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Xr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),oi("c",n,e,Xr,0,0,-1),oi("t",n,e,Xr,0,0,1),oi("n1",n,e,Xr,-r,-i,-1),oi("n2",n,e,Xr,r,-i,-1),oi("n3",n,e,Xr,-r,i,-1),oi("n4",n,e,Xr,r,i,-1),oi("f1",n,e,Xr,-r,-i,1),oi("f2",n,e,Xr,r,-i,1),oi("f3",n,e,Xr,-r,i,1),oi("f4",n,e,Xr,r,i,1),oi("u1",n,e,Xr,r*.7,i*1.1,-1),oi("u2",n,e,Xr,-r*.7,i*1.1,-1),oi("u3",n,e,Xr,0,i*2,-1),oi("cf1",n,e,Xr,-r,0,1),oi("cf2",n,e,Xr,r,0,1),oi("cf3",n,e,Xr,0,-i,1),oi("cf4",n,e,Xr,0,i,1),oi("cn1",n,e,Xr,-r,0,-1),oi("cn2",n,e,Xr,r,0,-1),oi("cn3",n,e,Xr,0,-i,-1),oi("cn4",n,e,Xr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function oi(t,e,n,r,i,o,s){my.set(i,o,s).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],my.x,my.y,my.z)}}const gy=new Ho;class l6e extends Gl{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new Mn;o.setIndex(new ur(r,1)),o.setAttribute("position",new ur(i,3)),super(o,new Io({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&gy.setFromObject(this.object),gy.isEmpty())return;const n=gy.min,r=gy.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class c6e extends Gl{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Mn;o.setIndex(new ur(r,1)),o.setAttribute("position",new Gt(i,3)),super(o,new Io({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class u6e extends Zu{constructor(e,n=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new Mn;s.setAttribute("position",new Gt(o,3)),s.computeBoundingSphere(),super(s,new Io({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Mn;l.setAttribute("position",new Gt(a,3)),l.computeBoundingSphere(),this.add(new Zr(l,new zc({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const RL=new J;let vy,d7;class d6e extends tr{constructor(e=new J(0,0,1),n=new J(0,0,0),r=1,i=16776960,o=r*.2,s=o*.2){super(),this.type="ArrowHelper",vy===void 0&&(vy=new Mn,vy.setAttribute("position",new Gt([0,0,0,0,1,0],3)),d7=new h0(0,.5,1,5,1),d7.translate(0,-.5,0)),this.position.copy(n),this.line=new Zu(vy,new Io({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Zr(d7,new zc({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{RL.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(RL,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class f6e extends Gl{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Mn;i.setAttribute("position",new Gt(n,3)),i.setAttribute("color",new Gt(r,3));const o=new Io({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){const i=new Tt,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class h6e{constructor(){this.type="ShapePath",this.color=new Tt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Wv,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,s){return this.currentPath.bezierCurveTo(e,n,r,i,o,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(v){const _=[];for(let S=0,w=v.length;S<w;S++){const M=v[S],E=new _f;E.curves=M.curves,_.push(E)}return _}function r(v,_){const S=_.length;let w=!1;for(let M=S-1,E=0;E<S;M=E++){let T=_[M],N=_[E],R=N.x-T.x,P=N.y-T.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(T=_[E],R=-R,N=_[M],P=-P),v.y<T.y||v.y>N.y)continue;if(v.y===T.y){if(v.x===T.x)return!0}else{const L=P*(v.x-T.x)-R*(v.y-T.y);if(L===0)return!0;if(L<0)continue;w=!w}}else{if(v.y!==T.y)continue;if(N.x<=v.x&&v.x<=T.x||T.x<=v.x&&v.x<=N.x)return!0}}return w}const i=Ol.isClockWise,o=this.subPaths;if(o.length===0)return[];let s,a,l;const c=[];if(o.length===1)return a=o[0],l=new _f,l.curves=a.curves,c.push(l),c;let u=!i(o[0].getPoints());u=e?!u:u;const d=[],f=[];let h=[],g=0,x;f[g]=void 0,h[g]=[];for(let v=0,_=o.length;v<_;v++)a=o[v],x=a.getPoints(),s=i(x),s=e?!s:s,s?(!u&&f[g]&&g++,f[g]={s:new _f,p:x},f[g].s.curves=a.curves,u&&g++,h[g]=[]):h[g].push({h:a,p:x[0]});if(!f[0])return n(o);if(f.length>1){let v=!1,_=0;for(let S=0,w=f.length;S<w;S++)d[S]=[];for(let S=0,w=f.length;S<w;S++){const M=h[S];for(let E=0;E<M.length;E++){const T=M[E];let N=!0;for(let R=0;R<f.length;R++)r(T.p,f[R].p)&&(S!==R&&_++,N?(N=!1,d[R].push(T)):v=!0);N&&d[S].push(T)}}_>0&&v===!1&&(h=d)}let b;for(let v=0,_=f.length;v<_;v++){l=f[v].s,c.push(l),b=h[v];for(let S=0,w=b.length;S<w;S++)l.holes.push(b[S].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Yf}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Yf);const p6e=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:sb,AddEquation:ns,AddOperation:RV,AdditiveAnimationBlendMode:nT,AdditiveBlending:Of,AgXToneMapping:PV,AlphaFormat:QE,AlwaysCompare:Cb,AlwaysDepth:eb,AlwaysStencilFunc:ux,AmbientLight:$T,AnimationAction:GH,AnimationClip:Zv,AnimationLoader:gxe,AnimationMixer:Wxe,AnimationObjectGroup:Hxe,AnimationUtils:fxe,ArcCurve:vH,ArrayCamera:aH,ArrowHelper:d6e,AttachedBindMode:ew,Audio:VH,AudioAnalyser:Oxe,AudioContext:UT,AudioListener:Pxe,AudioLoader:Mxe,AxesHelper:f6e,BackSide:di,BasicDepthPacking:DV,BasicShadowMap:_V,BatchedMesh:pH,Bone:vT,BooleanKeyframeTrack:Qf,Box2:Zxe,Box3:Ho,Box3Helper:c6e,BoxGeometry:sd,BoxHelper:l6e,BufferAttribute:ur,BufferGeometry:Mn,BufferGeometryLoader:zH,ByteType:YE,Cache:Sc,Camera:F3,CameraHelper:a6e,CanvasTexture:F5e,CapsuleGeometry:Db,CatmullRomCurve3:yH,CineonToneMapping:KE,CircleGeometry:Fb,ClampToEdgeWrapping:to,Clock:BT,Color:Tt,ColorKeyframeTrack:NT,ColorManagement:lr,CompressedArrayTexture:L5e,CompressedCubeTexture:D5e,CompressedTexture:Ob,CompressedTextureLoader:vxe,ConeGeometry:$b,ConstantAlphaFactor:EV,ConstantColorFactor:wV,CubeCamera:dT,CubeReflectionMapping:rl,CubeRefractionMapping:Fl,CubeTexture:u0,CubeTextureLoader:yxe,CubeUVReflectionMapping:a0,CubicBezierCurve:bT,CubicBezierCurve3:xH,CubicInterpolant:OH,CullFaceBack:ax,CullFaceFront:jE,CullFaceFrontBack:zge,CullFaceNone:WE,Curve:ll,CurvePath:SH,CustomBlending:z6,CustomToneMapping:AV,CylinderGeometry:h0,Cylindrical:Yxe,Data3DTexture:lT,DataArrayTexture:L3,DataTexture:Tc,DataTextureLoader:xxe,DataUtils:Dve,DecrementStencilOp:kV,DecrementWrapStencilOp:VV,DefaultLoadingManager:FH,DepthFormat:Ls,DepthStencilFormat:il,DepthTexture:ad,DetachedBindMode:NV,DirectionalLight:FT,DirectionalLightHelper:s6e,DiscreteInterpolant:LH,DisplayP3ColorSpace:yb,DodecahedronGeometry:Ub,DoubleSide:ko,DstAlphaFactor:q6,DstColorFactor:Y6,DynamicCopyUsage:tve,DynamicDrawUsage:Eb,DynamicReadUsage:Qge,EdgesGeometry:_H,EllipseCurve:Lb,EqualCompare:bb,EqualDepth:nb,EqualStencilFunc:jV,EquirectangularReflectionMapping:ju,EquirectangularRefractionMapping:Xu,Euler:D3,EventDispatcher:Ta,ExtrudeGeometry:kb,FileLoader:Uc,Float16BufferAttribute:cT,Float32BufferAttribute:Gt,Float64BufferAttribute:zve,FloatType:$r,Fog:Pb,FogExp2:Ab,FramebufferTexture:yT,FrontSide:nl,Frustum:d0,GLBufferAttribute:Kxe,GLSL1:rve,GLSL3:rw,GreaterCompare:Sb,GreaterDepth:ib,GreaterEqualCompare:wb,GreaterEqualDepth:rb,GreaterEqualStencilFunc:YV,GreaterStencilFunc:qV,GridHelper:i6e,Group:Np,HalfFloatType:Za,HemisphereLight:OT,HemisphereLightHelper:r6e,IcosahedronGeometry:zb,ImageBitmapLoader:Txe,ImageLoader:Qv,ImageUtils:aT,IncrementStencilOp:BV,IncrementWrapStencilOp:zV,InstancedBufferAttribute:Hm,InstancedBufferGeometry:kH,InstancedInterleavedBuffer:jH,InstancedMesh:hH,Int16BufferAttribute:Bve,Int32BufferAttribute:kve,Int8BufferAttribute:Fve,IntType:c0,InterleavedBuffer:U3,InterleavedBufferAttribute:Yu,Interpolant:V3,InterpolateDiscrete:Uv,InterpolateLinear:Bv,InterpolateSmooth:r5,InvertStencilOp:HV,KeepStencilOp:xu,KeyframeTrack:cl,LOD:dH,LatheGeometry:k3,Layers:Sf,LessCompare:I3,LessDepth:tb,LessEqualCompare:O3,LessEqualDepth:Ff,LessEqualStencilFunc:XV,LessStencilFunc:WV,Light:cd,LightProbe:BH,Line:Zu,Line3:Qxe,LineBasicMaterial:Io,LineCurve:ST,LineCurve3:bH,LineDashedMaterial:Kb,LineLoop:mH,LineSegments:Gl,LinearDisplayP3ColorSpace:N3,LinearEncoding:vb,LinearFilter:Fr,LinearInterpolant:PT,LinearMipMapLinearFilter:jge,LinearMipMapNearestFilter:Wge,LinearMipmapLinearFilter:_a,LinearMipmapNearestFilter:lb,LinearSRGBColorSpace:ps,LinearToneMapping:XE,LinearTransfer:zv,Loader:gs,LoaderUtils:dw,LoadingManager:IT,LoopOnce:IV,LoopPingPong:LV,LoopRepeat:OV,LuminanceAlphaFormat:eT,LuminanceFormat:JE,MOUSE:Vd,Material:qi,MaterialLoader:g0,MathUtils:oT,Matrix3:Cn,Matrix4:cn,MaxEquation:cx,Mesh:Zr,MeshBasicMaterial:zc,MeshDepthMaterial:pT,MeshDistanceMaterial:mT,MeshLambertMaterial:RT,MeshMatcapMaterial:PH,MeshNormalMaterial:MT,MeshPhongMaterial:TT,MeshPhysicalMaterial:ET,MeshStandardMaterial:qb,MeshToonMaterial:AH,MinEquation:lx,MirroredRepeatWrapping:Uf,MixOperation:MV,MultiplyBlending:Df,MultiplyOperation:P3,NearestFilter:er,NearestMipMapLinearFilter:Gge,NearestMipMapNearestFilter:Hge,NearestMipmapLinearFilter:Cc,NearestMipmapNearestFilter:qu,NeverCompare:xb,NeverDepth:J6,NeverStencilFunc:GV,NoBlending:Os,NoColorSpace:ro,NoToneMapping:Vo,NormalAnimationBlendMode:gb,NormalBlending:ma,NotEqualCompare:_b,NotEqualDepth:ob,NotEqualStencilFunc:KV,NumberKeyframeTrack:Kv,Object3D:tr,ObjectLoader:Cxe,ObjectSpaceNormalMap:rT,OctahedronGeometry:z3,OneFactor:W6,OneMinusConstantAlphaFactor:TV,OneMinusConstantColorFactor:CV,OneMinusDstAlphaFactor:K6,OneMinusDstColorFactor:Z6,OneMinusSrcAlphaFactor:bm,OneMinusSrcColorFactor:X6,OrthographicCamera:Ml,P3Primaries:Hv,PCFShadowMap:k6,PCFSoftShadowMap:qg,PMREMGenerator:ow,Path:Wv,PerspectiveCamera:Yr,Plane:pc,PlaneGeometry:$3,PlaneHelper:u6e,PointLight:DT,PointLightHelper:t6e,Points:gH,PointsMaterial:B3,PolarGridHelper:o6e,PolyhedronGeometry:ld,PositionalAudio:Ixe,PropertyBinding:Kn,PropertyMixer:HH,QuadraticBezierCurve:_T,QuadraticBezierCurve3:wT,Quaternion:Ao,QuaternionKeyframeTrack:m0,QuaternionLinearInterpolant:DH,RED_GREEN_RGTC2_Format:Fv,RED_RGTC1_Format:tT,REVISION:Yf,RGBADepthPacking:FV,RGBAFormat:no,RGBAIntegerFormat:pb,RGBA_ASTC_10x10_Format:Dm,RGBA_ASTC_10x5_Format:Im,RGBA_ASTC_10x6_Format:Om,RGBA_ASTC_10x8_Format:Lm,RGBA_ASTC_12x10_Format:Fm,RGBA_ASTC_12x12_Format:$m,RGBA_ASTC_4x4_Format:Cm,RGBA_ASTC_5x4_Format:Em,RGBA_ASTC_5x5_Format:Tm,RGBA_ASTC_6x5_Format:Mm,RGBA_ASTC_6x6_Format:Rm,RGBA_ASTC_8x5_Format:Am,RGBA_ASTC_8x6_Format:Pm,RGBA_ASTC_8x8_Format:Nm,RGBA_BPTC_Format:xf,RGBA_ETC2_EAC_Format:wm,RGBA_PVRTC_2BPPV1_Format:Lv,RGBA_PVRTC_4BPPV1_Format:Ov,RGBA_S3TC_DXT1_Format:Uu,RGBA_S3TC_DXT3_Format:Bu,RGBA_S3TC_DXT5_Format:ku,RGB_BPTC_SIGNED_Format:tw,RGB_BPTC_UNSIGNED_Format:nw,RGB_ETC1_Format:mb,RGB_ETC2_Format:_m,RGB_PVRTC_2BPPV1_Format:Iv,RGB_PVRTC_4BPPV1_Format:Nv,RGB_S3TC_DXT1_Format:yf,RGFormat:fb,RGIntegerFormat:hb,RawShaderMaterial:RH,Ray:Zf,Raycaster:XH,Rec709Primaries:Vv,RectAreaLight:$H,RedFormat:Sm,RedIntegerFormat:db,ReinhardToneMapping:qE,RenderTarget:km,RepeatWrapping:$f,ReplaceStencilOp:UV,ReverseSubtractEquation:H6,RingGeometry:Vb,SIGNED_RED_GREEN_RGTC2_Format:$v,SIGNED_RED_RGTC1_Format:Dv,SRGBColorSpace:Wt,SRGBTransfer:Sr,Scene:Vm,ShaderChunk:An,ShaderLib:ja,ShaderMaterial:$s,ShadowMaterial:MH,Shape:_f,ShapeGeometry:Hb,ShapePath:h6e,ShapeUtils:Ol,ShortType:ZE,Skeleton:Ib,SkeletonHelper:e6e,SkinnedMesh:fH,Source:sf,Sphere:Po,SphereGeometry:p0,Spherical:hw,SphericalHarmonics3:UH,SplineCurve:CT,SpotLight:Yb,SpotLightHelper:Jxe,Sprite:uH,SpriteMaterial:Nb,SrcAlphaFactor:xm,SrcAlphaSaturateFactor:Q6,SrcColorFactor:j6,StaticCopyUsage:eve,StaticDrawUsage:Um,StaticReadUsage:Zge,StereoCamera:Rxe,StreamCopyUsage:nve,StreamDrawUsage:Yge,StreamReadUsage:Jge,StringKeyframeTrack:Jf,SubtractEquation:V6,SubtractiveBlending:Lf,TOUCH:Hd,TangentSpaceNormalMap:$l,TetrahedronGeometry:Gb,Texture:Hr,TextureLoader:bxe,TorusGeometry:Wb,TorusKnotGeometry:jb,Triangle:ts,TriangleFanDrawMode:Kge,TriangleStripDrawMode:qge,TrianglesDrawMode:Xge,TubeGeometry:Xb,TwoPassDoubleSide:Vge,UVMapping:ab,Uint16BufferAttribute:Tb,Uint32BufferAttribute:Mb,Uint8BufferAttribute:$ve,Uint8ClampedBufferAttribute:Uve,Uniform:jxe,UniformsGroup:qxe,UniformsLib:Et,UniformsUtils:uT,UnsignedByteType:cs,UnsignedInt248Type:ga,UnsignedIntType:Ns,UnsignedShort4444Type:cb,UnsignedShort5551Type:ub,UnsignedShortType:l0,VSMShadowMap:ka,Vector2:Xe,Vector3:J,Vector4:En,VectorKeyframeTrack:Yv,VideoTexture:O5e,WebGL1Renderer:lH,WebGL3DRenderTarget:wve,WebGLArrayRenderTarget:_ve,WebGLCoordinateSystem:fa,WebGLCubeRenderTarget:fT,WebGLMultipleRenderTargets:Cve,WebGLRenderTarget:ol,WebGLRenderer:gT,WebGLUtils:sH,WebGPUCoordinateSystem:Ku,WireframeGeometry:TH,WrapAroundEnding:kv,ZeroCurvatureEnding:rf,ZeroFactor:G6,ZeroSlopeEnding:of,ZeroStencilOp:$V,_SRGBAFormat:dx,createCanvasElement:sT,sRGBEncoding:Ec},Symbol.toStringTag,{value:"Module"})),m6e=Hn.button`
  border-radius: 20px;
  height: 35px;
  width: 100%;
  padding: 10px 20px 7px 20px;
  background-color: #d9d9d9;
  color: #464646;
  font-size: 14px;
  border: none;
  cursor: pointer;
`;function np(t){return qe.jsx(m6e,{onClick:t.onClick,children:t.label})}const g6e=Hn.div`
  align-items: center;
  height: 100%;
  display: flex;
  font-weight: bold;
`,v6e=Hn($c)`
  .ant-tooltip-inner {
    font-weight: normal;
    color: #cfcfcf;
  }
`;function px(t){const e=[];return t.tooltip!==void 0&&e.push(qe.jsx(v6e,{children:qe.jsx($c,{placement:"right",title:t.tooltip,getPopupContainer:n=>n,children:qe.jsx(mhe,{})})})),qe.jsxs(g6e,{children:[t.title,"",e]})}const y6e=Hn.div`
  width: 22rem;
  height: calc(100% - 5rem);

  font-size: 2rem;
  position: absolute;
  display: flex;

  text-align: left;

  @media (max-width: 760px) {
    display: none;
  }
  z-index: 1;
`,x6e=Hn(Rv)`
  background-color: #797979;
  color: #fff;

  width: 20rem;
  height: calc(100% - 25px);

  font-size: 2rem;
  position: absolute;
  left: ${t=>t.isHidden?"-20rem":"0"};
  display: flex;

  text-align: left;

  border-top-right-radius: 20px;
  border-bottom-right-radius: 20px;

  padding: 12px;

  @media (max-width: 760px) {
    display: none;
  }
  visibility: ${t=>t.isHidden?"hidden":"visible"};
  transition:
    left 0.5s linear,
    visibility 0.5s linear;
`,b6e=Hn.span`
  font-family: 'Roboto', sans-serif;
  font-size: 2rem;

  @media (max-width: 760px) {
    display: none;
  }
`,S6e=Hn(Sue)`
  font-family: 'Roboto', sans-serif;
  background-color: #797979;
  text-align: left;
  font-size: 1rem;
  color: #ffffff;
`,_6e=Hn.button`
  position: absolute;
  top: 0.5rem;
  left: ${t=>t.isHidden?"0.5rem":"22.5rem"};
  width: 2.75rem;
  height: 2.75rem;
  border-radius: 50%;
  background-color: #d9d9d9;
  color: #464646;
  font-size: 16px;
  border: none;
  cursor: pointer;
  z-index: 100;
  transition: left 0.5s linear;
`,AL=Hn.a`
  font-family: 'Roboto', sans-serif;
  font-size: 1rem;
  color: #000000;
`;function w6e(t){const e=t.isVisible,n=t.setVisible;return qe.jsx(_6e,{isHidden:!e,onClick:()=>{n(!e)},children:e?qe.jsx(W_,{}):qe.jsx(j_,{})})}const PL=({key:t})=>{ape.info(`Click on item ${t}`)},NL=[{label:"1st menu item",key:"1"},{label:"2nd menu item",key:"2"},{label:"3rd menu item",key:"3"}];function C6e(t){const[e,n]=y.useState(!0),r=["large","small"],[i,o]=y.useState(1),s=t.setParams,[a,l]=y.useState(t.params.renderHeightMap),[c,u]=y.useState(t.params.isCameraControlMode);return y.useEffect(()=>{s(d=>({...d,renderHeightMap:a,isCameraControlMode:c}))},[a,c,s]),qe.jsxs(y6e,{isHidden:!e,children:[qe.jsx(w6e,{isVisible:e,setVisible:n}),qe.jsxs(x6e,{direction:"vertical",size:r,isHidden:!e,children:[qe.jsx(hc,{justify:"end"}),qe.jsx(b6e,{children:"Parameters"}),qe.jsxs(hc,{gutter:16,children:[qe.jsx(Wa,{className:"gutter-row",span:12,children:qe.jsx(np,{label:"Easy mode",onClick:()=>{o(0)}})}),qe.jsx(Wa,{className:"gutter-row",span:12,children:qe.jsx(np,{label:"Expert mode",onClick:()=>{o(1)}})})]}),i===0&&qe.jsx(qe.Fragment,{}),i===1&&qe.jsx(qe.Fragment,{}),qe.jsx(E6e,{params:t.params,setParams:t.setParams}),qe.jsx(hc,{gutter:16,children:qe.jsx(px,{title:"Rendering mode"})}),qe.jsxs(hc,{gutter:16,children:[qe.jsx(Wa,{className:"gutter-row",span:12,children:qe.jsx(np,{label:"Flat surface",onClick:()=>{u(!1),l(!1)}})}),qe.jsx(Wa,{className:"gutter-row",span:12,children:qe.jsx(np,{label:"Height map",onClick:()=>{l(!0)}})})]}),qe.jsx(hc,{gutter:16,style:a?{}:{display:"none"},children:qe.jsx(px,{title:"Current Control"})}),qe.jsxs(hc,{gutter:16,style:a?{}:{display:"none"},children:[qe.jsx(Wa,{className:"gutter-row",span:12,children:qe.jsx(np,{label:"Apply force",onClick:()=>{u(!1)}})}),qe.jsx(Wa,{className:"gutter-row",span:12,children:qe.jsx(np,{label:"Spin camera",onClick:()=>{u(!0)}})})]}),qe.jsx(MI,{menu:{items:NL,onClick:PL},children:qe.jsx(AL,{onClick:d=>{d.preventDefault()},children:qe.jsxs(Rv,{children:["Choose Model",qe.jsx(X5,{})]})})}),qe.jsx(MI,{menu:{items:NL,onClick:PL},children:qe.jsx(AL,{onClick:d=>{d.preventDefault()},children:qe.jsxs(Rv,{children:["Choose Initial State",qe.jsx(X5,{})]})})})]})]})}function E6e(t){const e=t.setParams,n=t.params.densityLowColour.getHexString(),r=t.params.densityHighColour.getHexString(),[i,o]=y.useState("#"+n),[s,a]=y.useState("#"+r),l=y.useMemo(()=>typeof i=="string"?i:i.toHexString(),[i]),c=y.useMemo(()=>typeof s=="string"?s:s.toHexString(),[s]);return y.useEffect(()=>{e(u=>({...u,densityLowColour:new Tt(l),densityHighColour:new Tt(c)}))},[l,c,e]),qe.jsxs(S6e,{title:"Simulation Colour",children:[qe.jsxs(hc,{justify:"start",gutter:16,children:[qe.jsx(Wa,{className:"gutter-row",span:12,children:qe.jsx(px,{title:"Low",tooltip:"The colour to shade points of low density"})}),qe.jsx(Wa,{className:"gutter-row",span:12,children:qe.jsx(CI,{value:i,onChange:o})})]}),qe.jsxs(hc,{justify:"start",gutter:16,children:[qe.jsx(Wa,{className:"gutter-row",span:12,children:qe.jsx(px,{title:"High",tooltip:"The colour to shade points of high density"})}),qe.jsx(Wa,{className:"gutter-row",span:12,children:qe.jsx(CI,{value:s,onChange:a})})]})]})}var Mc=(t=>(t[t.INIT=0]="INIT",t[t.START=1]="START",t[t.PAUSE=2]="PAUSE",t[t.DESERIALIZE=3]="DESERIALIZE",t[t.UPDATE_FORCE=4]="UPDATE_FORCE",t[t.SERIALIZE=5]="SERIALIZE",t))(Mc||{});const T6e=Hn(Rv)`
  position: absolute;
  bottom: 1rem;
  right: 1rem;
  z-index: 100;
  display: flex;
`,M6e=Hn(da)`
  position: absolute;
  bottom: 4rem;
  right: 11rem;
  color: #eeeeee;
  background-color: #555555;
  height: 3.2rem;
  width: 8rem;
  margin: 0 0.2rem;
  cursor: pointer;
  @media (max-width: 760px) {
    margin-bottom: 0.2rem;
  }
`,R6e=Hn(da)`
  position: absolute;
  bottom: 4rem;
  right: 2rem;
  color: #eeeeee;
  background-color: #555555;
  height: 3.2rem;
  width: 8rem;
  margin: 0 0.2rem;
  cursor: pointer;
  @media (max-width: 760px) {
    margin-bottom: 0.2rem;
  }
`;function A6e(t){const{modelSaveSubs:e,worker:n,setRestorePopupVisible:r}=t;y.useEffect(()=>(e.includes(i)||e.push(i),()=>{const o=e.findIndex(s=>s===i);o!==-1&&e.splice(o,1)}),[e]);function i(o){const s=`${o.modelType}@${o.time}.json`,a=JSON.stringify(o),l=new Blob([a],{type:"application/json"}),c=URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download=s,u.style.display="none",document.body.appendChild(u),u.click(),URL.revokeObjectURL(c),document.body.removeChild(u),console.log("wrote a save to "+s,o)}return qe.jsxs(qe.Fragment,{children:[qe.jsx(M6e,{onClick:()=>{n.postMessage({func:Mc.SERIALIZE})},children:"Save Model"}),qe.jsx(R6e,{onClick:()=>{r(!0)},children:"Restore Model"}),qe.jsxs(T6e,{size:"small",direction:"horizontal",children:[qe.jsx(da,{onClick:()=>{n.postMessage({func:Mc.START})},children:"Play"}),qe.jsx(da,{onClick:()=>{n.postMessage({func:Mc.PAUSE})},children:"Pause"}),qe.jsx(da,{onClick:()=>{},children:"Stop"}),qe.jsx(da,{onClick:()=>{n.terminate()},children:"TERMINATE"})]})]})}var KH={exports:{}},eh={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */eh.ConcurrentRoot=1;eh.ContinuousEventPriority=4;eh.DefaultEventPriority=16;eh.DiscreteEventPriority=1;eh.IdleEventPriority=536870912;eh.LegacyRoot=0;KH.exports=eh;var Op=KH.exports;function P6e(t){let e;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const f=e;e=u?d:Object.assign({},e,d),n.forEach(h=>h(e,f))}},i=()=>e,o=(c,u=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=u(e);function h(){const g=u(e);if(!d(f,g)){const x=f;c(f=g,x)}}return n.add(h),()=>n.delete(h)},l={setState:r,getState:i,subscribe:(c,u,d)=>u||d?o(c,u,d):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const N6e=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),IL=N6e?y.useEffect:y.useLayoutEffect;function I6e(t){const e=typeof t=="function"?P6e(t):t,n=(r=e.getState,i=Object.is)=>{const[,o]=y.useReducer(b=>b+1,0),s=e.getState(),a=y.useRef(s),l=y.useRef(r),c=y.useRef(i),u=y.useRef(!1),d=y.useRef();d.current===void 0&&(d.current=r(s));let f,h=!1;(a.current!==s||l.current!==r||c.current!==i||u.current)&&(f=r(s),h=!i(d.current,f)),IL(()=>{h&&(d.current=f),a.current=s,l.current=r,c.current=i,u.current=!1});const g=y.useRef(s);IL(()=>{const b=()=>{try{const _=e.getState(),S=l.current(_);c.current(d.current,S)||(a.current=_,d.current=S,o())}catch{u.current=!0,o()}},v=e.subscribe(b);return e.getState()!==g.current&&b(),v},[]);const x=h?f:d.current;return y.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var YH={exports:{}},ZH={exports:{}},QH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,B){var G=O.length;O.push(B);e:for(;0<G;){var W=G-1>>>1,K=O[W];if(0<i(K,B))O[W]=B,O[G]=K,G=W;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var B=O[0],G=O.pop();if(G!==B){O[0]=G;e:for(var W=0,K=O.length,X=K>>>1;W<X;){var Y=2*(W+1)-1,te=O[Y],oe=Y+1,ie=O[oe];if(0>i(te,G))oe<K&&0>i(ie,te)?(O[W]=ie,O[oe]=G,W=oe):(O[W]=te,O[Y]=G,W=Y);else if(oe<K&&0>i(ie,G))O[W]=ie,O[oe]=G,W=oe;else break e}}return B}function i(O,B){var G=O.sortIndex-B.sortIndex;return G!==0?G:O.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,g=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(O){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=O)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function w(O){if(x=!1,S(O),!g)if(n(l)!==null)g=!0,F(M);else{var B=n(c);B!==null&&k(w,B.startTime-O)}}function M(O,B){g=!1,x&&(x=!1,v(N),N=-1),h=!0;var G=f;try{for(S(B),d=n(l);d!==null&&(!(d.expirationTime>B)||O&&!L());){var W=d.callback;if(typeof W=="function"){d.callback=null,f=d.priorityLevel;var K=W(d.expirationTime<=B);B=t.unstable_now(),typeof K=="function"?d.callback=K:d===n(l)&&r(l),S(B)}else r(l);d=n(l)}if(d!==null)var X=!0;else{var Y=n(c);Y!==null&&k(w,Y.startTime-B),X=!1}return X}finally{d=null,f=G,h=!1}}var E=!1,T=null,N=-1,R=5,P=-1;function L(){return!(t.unstable_now()-P<R)}function $(){if(T!==null){var O=t.unstable_now();P=O;var B=!0;try{B=T(!0,O)}finally{B?V():(E=!1,T=null)}}else E=!1}var V;if(typeof _=="function")V=function(){_($)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,H=D.port2;D.port1.onmessage=$,V=function(){H.postMessage(null)}}else V=function(){b($,0)};function F(O){T=O,E||(E=!0,V())}function k(O,B){N=b(function(){O(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,F(M))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var G=f;f=B;try{return O()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,B){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var G=f;f=O;try{return B()}finally{f=G}},t.unstable_scheduleCallback=function(O,B,G){var W=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?W+G:W):G=W,O){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=G+K,O={id:u++,callback:B,priorityLevel:O,startTime:G,expirationTime:K,sortIndex:-1},G>W?(O.sortIndex=G,e(c,O),n(l)===null&&O===n(c)&&(x?(v(N),N=-1):x=!0,k(w,G-W))):(O.sortIndex=K,e(l,O),g||h||(g=!0,F(M))),O},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(O){var B=f;return function(){var G=f;f=B;try{return O.apply(this,arguments)}finally{f=G}}}})(QH);ZH.exports=QH;var pw=ZH.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O6e=function(e){var n={},r=y,i=pw,o=Object.assign;function s(p){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+p,C=1;C<arguments.length;C++)m+="&args[]="+encodeURIComponent(arguments[C]);return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),g=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),M=Symbol.iterator;function E(p){return p===null||typeof p!="object"?null:(p=M&&p[M]||p["@@iterator"],typeof p=="function"?p:null)}function T(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case u:return"Fragment";case c:return"Portal";case f:return"Profiler";case d:return"StrictMode";case b:return"Suspense";case v:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case g:return(p.displayName||"Context")+".Consumer";case h:return(p._context.displayName||"Context")+".Provider";case x:var m=p.render;return p=p.displayName,p||(p=m.displayName||m.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case _:return m=p.displayName||null,m!==null?m:T(p.type)||"Memo";case S:m=p._payload,p=p._init;try{return T(p(m))}catch{}}return null}function N(p){var m=p.type;switch(p.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=m.render,p=p.displayName||p.name||"",m.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T(m);case 8:return m===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function R(p){var m=p,C=p;if(p.alternate)for(;m.return;)m=m.return;else{p=m;do m=p,m.flags&4098&&(C=m.return),p=m.return;while(p)}return m.tag===3?C:null}function P(p){if(R(p)!==p)throw Error(s(188))}function L(p){var m=p.alternate;if(!m){if(m=R(p),m===null)throw Error(s(188));return m!==p?null:p}for(var C=p,A=m;;){var I=C.return;if(I===null)break;var U=I.alternate;if(U===null){if(A=I.return,A!==null){C=A;continue}break}if(I.child===U.child){for(U=I.child;U;){if(U===C)return P(I),p;if(U===A)return P(I),m;U=U.sibling}throw Error(s(188))}if(C.return!==A.return)C=I,A=U;else{for(var ne=!1,Ce=I.child;Ce;){if(Ce===C){ne=!0,C=I,A=U;break}if(Ce===A){ne=!0,A=I,C=U;break}Ce=Ce.sibling}if(!ne){for(Ce=U.child;Ce;){if(Ce===C){ne=!0,C=U,A=I;break}if(Ce===A){ne=!0,A=U,C=I;break}Ce=Ce.sibling}if(!ne)throw Error(s(189))}}if(C.alternate!==A)throw Error(s(190))}if(C.tag!==3)throw Error(s(188));return C.stateNode.current===C?p:m}function $(p){return p=L(p),p!==null?V(p):null}function V(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var m=V(p);if(m!==null)return m;p=p.sibling}return null}function D(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){if(p.tag!==4){var m=D(p);if(m!==null)return m}p=p.sibling}return null}var H=Array.isArray,F=e.getPublicInstance,k=e.getRootHostContext,O=e.getChildHostContext,B=e.prepareForCommit,G=e.resetAfterCommit,W=e.createInstance,K=e.appendInitialChild,X=e.finalizeInitialChildren,Y=e.prepareUpdate,te=e.shouldSetTextContent,oe=e.createTextInstance,ie=e.scheduleTimeout,le=e.cancelTimeout,ve=e.noTimeout,me=e.isPrimaryRenderer,we=e.supportsMutation,Q=e.supportsPersistence,fe=e.supportsHydration,he=e.getInstanceFromNode,Ee=e.preparePortalMount,ue=e.getCurrentEventPriority,ke=e.detachDeletedInstance,ge=e.supportsMicrotasks,j=e.scheduleMicrotask,z=e.supportsTestSelectors,ee=e.findFiberRoot,xe=e.getBoundingRect,Ne=e.getTextContent,Ae=e.isHiddenSubtree,Fe=e.matchAccessibilityRole,Oe=e.setFocusIfFocusable,We=e.setupIntersectionObserver,ht=e.appendChild,Ge=e.appendChildToContainer,Te=e.commitTextUpdate,nt=e.commitMount,at=e.commitUpdate,rt=e.insertBefore,st=e.insertInContainerBefore,Ze=e.removeChild,re=e.removeChildFromContainer,Ve=e.resetTextContent,Qe=e.hideInstance,lt=e.hideTextInstance,ce=e.unhideInstance,Z=e.unhideTextInstance,Re=e.clearContainer,Pe=e.cloneInstance,Je=e.createContainerChildSet,ft=e.appendChildToContainerChildSet,wt=e.finalizeContainerChildren,mt=e.replaceContainerChildren,Ye=e.cloneHiddenInstance,dt=e.cloneHiddenTextInstance,it=e.canHydrateInstance,gt=e.canHydrateTextInstance,sn=e.canHydrateSuspenseInstance,gn=e.isSuspenseInstancePending,Zn=e.isSuspenseInstanceFallback,Xn=e.registerSuspenseInstanceRetry,Wn=e.getNextHydratableSibling,dn=e.getFirstHydratableChild,ar=e.getFirstHydratableChildWithinContainer,Pr=e.getFirstHydratableChildWithinSuspenseInstance,vn=e.hydrateInstance,an=e.hydrateTextInstance,Ct=e.hydrateSuspenseInstance,q=e.getNextHydratableInstanceAfterSuspenseInstance,de=e.commitHydratedContainer,Se=e.commitHydratedSuspenseInstance,De=e.clearSuspenseBoundary,$e=e.clearSuspenseBoundaryFromContainer,_t=e.shouldDeleteUnhydratedTailInstances,Nt=e.didNotMatchHydratedContainerTextInstance,zt=e.didNotMatchHydratedTextInstance,$t;function qt(p){if($t===void 0)try{throw Error()}catch(C){var m=C.stack.trim().match(/\n( *(at )?)/);$t=m&&m[1]||""}return`
`+$t+p}var en=!1;function Xt(p,m){if(!p||en)return"";en=!0;var C=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(bt){var A=bt}Reflect.construct(p,[],m)}else{try{m.call()}catch(bt){A=bt}p.call(m.prototype)}else{try{throw Error()}catch(bt){A=bt}p()}}catch(bt){if(bt&&A&&typeof bt.stack=="string"){for(var I=bt.stack.split(`
`),U=A.stack.split(`
`),ne=I.length-1,Ce=U.length-1;1<=ne&&0<=Ce&&I[ne]!==U[Ce];)Ce--;for(;1<=ne&&0<=Ce;ne--,Ce--)if(I[ne]!==U[Ce]){if(ne!==1||Ce!==1)do if(ne--,Ce--,0>Ce||I[ne]!==U[Ce]){var et=`
`+I[ne].replace(" at new "," at ");return p.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",p.displayName)),et}while(1<=ne&&0<=Ce);break}}}finally{en=!1,Error.prepareStackTrace=C}return(p=p?p.displayName||p.name:"")?qt(p):""}var Ln=Object.prototype.hasOwnProperty,hr=[],Fn=-1;function nr(p){return{current:p}}function Vt(p){0>Fn||(p.current=hr[Fn],hr[Fn]=null,Fn--)}function Rt(p,m){Fn++,hr[Fn]=p.current,p.current=m}var Nr={},rn=nr(Nr),Lt=nr(!1),Kt=Nr;function Qt(p,m){var C=p.type.contextTypes;if(!C)return Nr;var A=p.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===m)return A.__reactInternalMemoizedMaskedChildContext;var I={},U;for(U in C)I[U]=m[U];return A&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=m,p.__reactInternalMemoizedMaskedChildContext=I),I}function Dt(p){return p=p.childContextTypes,p!=null}function It(){Vt(Lt),Vt(rn)}function xn(p,m,C){if(rn.current!==Nr)throw Error(s(168));Rt(rn,m),Rt(Lt,C)}function $n(p,m,C){var A=p.stateNode;if(m=m.childContextTypes,typeof A.getChildContext!="function")return C;A=A.getChildContext();for(var I in A)if(!(I in m))throw Error(s(108,N(p)||"Unknown",I));return o({},C,A)}function Gn(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Nr,Kt=rn.current,Rt(rn,p),Rt(Lt,Lt.current),!0}function xr(p,m,C){var A=p.stateNode;if(!A)throw Error(s(169));C?(p=$n(p,m,Kt),A.__reactInternalMemoizedMergedChildContext=p,Vt(Lt),Vt(rn),Rt(rn,p)):Vt(Lt),Rt(Lt,C)}var br=Math.clz32?Math.clz32:w0,Ki=Math.log,jl=Math.LN2;function w0(p){return p>>>=0,p===0?32:31-(Ki(p)/jl|0)|0}var Hc=64,Yi=4194304;function Oo(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function Xl(p,m){var C=p.pendingLanes;if(C===0)return 0;var A=0,I=p.suspendedLanes,U=p.pingedLanes,ne=C&268435455;if(ne!==0){var Ce=ne&~I;Ce!==0?A=Oo(Ce):(U&=ne,U!==0&&(A=Oo(U)))}else ne=C&~I,ne!==0?A=Oo(ne):U!==0&&(A=Oo(U));if(A===0)return 0;if(m!==0&&m!==A&&!(m&I)&&(I=A&-A,U=m&-m,I>=U||I===16&&(U&4194240)!==0))return m;if(A&4&&(A|=C&16),m=p.entangledLanes,m!==0)for(p=p.entanglements,m&=A;0<m;)C=31-br(m),I=1<<C,A|=p[C],m&=~I;return A}function ql(p,m){switch(p){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fl(p,m){for(var C=p.suspendedLanes,A=p.pingedLanes,I=p.expirationTimes,U=p.pendingLanes;0<U;){var ne=31-br(U),Ce=1<<ne,et=I[ne];et===-1?(!(Ce&C)||Ce&A)&&(I[ne]=ql(Ce,m)):et<=m&&(p.expiredLanes|=Ce),U&=~Ce}}function Kl(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function hl(p){for(var m=[],C=0;31>C;C++)m.push(p);return m}function pl(p,m,C){p.pendingLanes|=m,m!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,m=31-br(m),p[m]=C}function C0(p,m){var C=p.pendingLanes&~m;p.pendingLanes=m,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=m,p.mutableReadLanes&=m,p.entangledLanes&=m,m=p.entanglements;var A=p.eventTimes;for(p=p.expirationTimes;0<C;){var I=31-br(C),U=1<<I;m[I]=0,A[I]=-1,p[I]=-1,C&=~U}}function pd(p,m){var C=p.entangledLanes|=m;for(p=p.entanglements;C;){var A=31-br(C),I=1<<A;I&m|p[A]&m&&(p[A]|=m),C&=~I}}var Un=0;function oh(p){return p&=-p,1<p?4<p?p&268435455?16:536870912:4:1}var Ut=i.unstable_scheduleCallback,bn=i.unstable_cancelCallback,Ir=i.unstable_shouldYield,ri=i.unstable_requestPaint,Rn=i.unstable_now,Gc=i.unstable_ImmediatePriority,E0=i.unstable_UserBlockingPriority,sh=i.unstable_NormalPriority,ah=i.unstable_IdlePriority,t1=null,ml=null;function XX(p){if(ml&&typeof ml.onCommitFiberRoot=="function")try{ml.onCommitFiberRoot(t1,p,void 0,(p.current.flags&128)===128)}catch{}}function qX(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var gl=typeof Object.is=="function"?Object.is:qX,Yl=null,n1=!1,uS=!1;function TM(p){Yl===null?Yl=[p]:Yl.push(p)}function KX(p){n1=!0,TM(p)}function vl(){if(!uS&&Yl!==null){uS=!0;var p=0,m=Un;try{var C=Yl;for(Un=1;p<C.length;p++){var A=C[p];do A=A(!0);while(A!==null)}Yl=null,n1=!1}catch(I){throw Yl!==null&&(Yl=Yl.slice(p+1)),Ut(Gc,vl),I}finally{Un=m,uS=!1}}return null}var YX=a.ReactCurrentBatchConfig;function r1(p,m){if(gl(p,m))return!0;if(typeof p!="object"||p===null||typeof m!="object"||m===null)return!1;var C=Object.keys(p),A=Object.keys(m);if(C.length!==A.length)return!1;for(A=0;A<C.length;A++){var I=C[A];if(!Ln.call(m,I)||!gl(p[I],m[I]))return!1}return!0}function ZX(p){switch(p.tag){case 5:return qt(p.type);case 16:return qt("Lazy");case 13:return qt("Suspense");case 19:return qt("SuspenseList");case 0:case 2:case 15:return p=Xt(p.type,!1),p;case 11:return p=Xt(p.type.render,!1),p;case 1:return p=Xt(p.type,!0),p;default:return""}}function Pa(p,m){if(p&&p.defaultProps){m=o({},m),p=p.defaultProps;for(var C in p)m[C]===void 0&&(m[C]=p[C]);return m}return m}var i1=nr(null),o1=null,lh=null,dS=null;function fS(){dS=lh=o1=null}function MM(p,m,C){me?(Rt(i1,m._currentValue),m._currentValue=C):(Rt(i1,m._currentValue2),m._currentValue2=C)}function hS(p){var m=i1.current;Vt(i1),me?p._currentValue=m:p._currentValue2=m}function pS(p,m,C){for(;p!==null;){var A=p.alternate;if((p.childLanes&m)!==m?(p.childLanes|=m,A!==null&&(A.childLanes|=m)):A!==null&&(A.childLanes&m)!==m&&(A.childLanes|=m),p===C)break;p=p.return}}function ch(p,m){o1=p,dS=lh=null,p=p.dependencies,p!==null&&p.firstContext!==null&&(p.lanes&m&&(xs=!0),p.firstContext=null)}function Ws(p){var m=me?p._currentValue:p._currentValue2;if(dS!==p)if(p={context:p,memoizedValue:m,next:null},lh===null){if(o1===null)throw Error(s(308));lh=p,o1.dependencies={lanes:0,firstContext:p}}else lh=lh.next=p;return m}var yl=null,Wc=!1;function mS(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RM(p,m){p=p.updateQueue,m.updateQueue===p&&(m.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Zl(p,m){return{eventTime:p,lane:m,tag:0,payload:null,callback:null,next:null}}function jc(p,m){var C=p.updateQueue;C!==null&&(C=C.shared,hi!==null&&p.mode&1&&!(On&2)?(p=C.interleaved,p===null?(m.next=m,yl===null?yl=[C]:yl.push(C)):(m.next=p.next,p.next=m),C.interleaved=m):(p=C.pending,p===null?m.next=m:(m.next=p.next,p.next=m),C.pending=m))}function s1(p,m,C){if(m=m.updateQueue,m!==null&&(m=m.shared,(C&4194240)!==0)){var A=m.lanes;A&=p.pendingLanes,C|=A,m.lanes=C,pd(p,C)}}function AM(p,m){var C=p.updateQueue,A=p.alternate;if(A!==null&&(A=A.updateQueue,C===A)){var I=null,U=null;if(C=C.firstBaseUpdate,C!==null){do{var ne={eventTime:C.eventTime,lane:C.lane,tag:C.tag,payload:C.payload,callback:C.callback,next:null};U===null?I=U=ne:U=U.next=ne,C=C.next}while(C!==null);U===null?I=U=m:U=U.next=m}else I=U=m;C={baseState:A.baseState,firstBaseUpdate:I,lastBaseUpdate:U,shared:A.shared,effects:A.effects},p.updateQueue=C;return}p=C.lastBaseUpdate,p===null?C.firstBaseUpdate=m:p.next=m,C.lastBaseUpdate=m}function a1(p,m,C,A){var I=p.updateQueue;Wc=!1;var U=I.firstBaseUpdate,ne=I.lastBaseUpdate,Ce=I.shared.pending;if(Ce!==null){I.shared.pending=null;var et=Ce,bt=et.next;et.next=null,ne===null?U=bt:ne.next=bt,ne=et;var Bt=p.alternate;Bt!==null&&(Bt=Bt.updateQueue,Ce=Bt.lastBaseUpdate,Ce!==ne&&(Ce===null?Bt.firstBaseUpdate=bt:Ce.next=bt,Bt.lastBaseUpdate=et))}if(U!==null){var Sn=I.baseState;ne=0,Bt=bt=et=null,Ce=U;do{var on=Ce.lane,gr=Ce.eventTime;if((A&on)===on){Bt!==null&&(Bt=Bt.next={eventTime:gr,lane:0,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null});e:{var Jt=p,vo=Ce;switch(on=m,gr=C,vo.tag){case 1:if(Jt=vo.payload,typeof Jt=="function"){Sn=Jt.call(gr,Sn,on);break e}Sn=Jt;break e;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=vo.payload,on=typeof Jt=="function"?Jt.call(gr,Sn,on):Jt,on==null)break e;Sn=o({},Sn,on);break e;case 2:Wc=!0}}Ce.callback!==null&&Ce.lane!==0&&(p.flags|=64,on=I.effects,on===null?I.effects=[Ce]:on.push(Ce))}else gr={eventTime:gr,lane:on,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null},Bt===null?(bt=Bt=gr,et=Sn):Bt=Bt.next=gr,ne|=on;if(Ce=Ce.next,Ce===null){if(Ce=I.shared.pending,Ce===null)break;on=Ce,Ce=on.next,on.next=null,I.lastBaseUpdate=on,I.shared.pending=null}}while(1);if(Bt===null&&(et=Sn),I.baseState=et,I.firstBaseUpdate=bt,I.lastBaseUpdate=Bt,m=I.shared.interleaved,m!==null){I=m;do ne|=I.lane,I=I.next;while(I!==m)}else U===null&&(I.shared.lanes=0);yh|=ne,p.lanes=ne,p.memoizedState=Sn}}function PM(p,m,C){if(p=m.effects,m.effects=null,p!==null)for(m=0;m<p.length;m++){var A=p[m],I=A.callback;if(I!==null){if(A.callback=null,A=C,typeof I!="function")throw Error(s(191,I));I.call(A)}}}var NM=new r.Component().refs;function gS(p,m,C,A){m=p.memoizedState,C=C(A,m),C=C==null?m:o({},m,C),p.memoizedState=C,p.lanes===0&&(p.updateQueue.baseState=C)}var l1={isMounted:function(p){return(p=p._reactInternals)?R(p)===p:!1},enqueueSetState:function(p,m,C){p=p._reactInternals;var A=Do(),I=Kc(p),U=Zl(A,I);U.payload=m,C!=null&&(U.callback=C),jc(p,U),m=Ys(p,I,A),m!==null&&s1(m,p,I)},enqueueReplaceState:function(p,m,C){p=p._reactInternals;var A=Do(),I=Kc(p),U=Zl(A,I);U.tag=1,U.payload=m,C!=null&&(U.callback=C),jc(p,U),m=Ys(p,I,A),m!==null&&s1(m,p,I)},enqueueForceUpdate:function(p,m){p=p._reactInternals;var C=Do(),A=Kc(p),I=Zl(C,A);I.tag=2,m!=null&&(I.callback=m),jc(p,I),m=Ys(p,A,C),m!==null&&s1(m,p,A)}};function IM(p,m,C,A,I,U,ne){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(A,U,ne):m.prototype&&m.prototype.isPureReactComponent?!r1(C,A)||!r1(I,U):!0}function OM(p,m,C){var A=!1,I=Nr,U=m.contextType;return typeof U=="object"&&U!==null?U=Ws(U):(I=Dt(m)?Kt:rn.current,A=m.contextTypes,U=(A=A!=null)?Qt(p,I):Nr),m=new m(C,U),p.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=l1,p.stateNode=m,m._reactInternals=p,A&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=I,p.__reactInternalMemoizedMaskedChildContext=U),m}function LM(p,m,C,A){p=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(C,A),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(C,A),m.state!==p&&l1.enqueueReplaceState(m,m.state,null)}function vS(p,m,C,A){var I=p.stateNode;I.props=C,I.state=p.memoizedState,I.refs=NM,mS(p);var U=m.contextType;typeof U=="object"&&U!==null?I.context=Ws(U):(U=Dt(m)?Kt:rn.current,I.context=Qt(p,U)),I.state=p.memoizedState,U=m.getDerivedStateFromProps,typeof U=="function"&&(gS(p,m,U,C),I.state=p.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(m=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),m!==I.state&&l1.enqueueReplaceState(I,I.state,null),a1(p,C,I,A),I.state=p.memoizedState),typeof I.componentDidMount=="function"&&(p.flags|=4194308)}var uh=[],dh=0,c1=null,u1=0,js=[],Xs=0,md=null,Ql=1,Jl="";function gd(p,m){uh[dh++]=u1,uh[dh++]=c1,c1=p,u1=m}function DM(p,m,C){js[Xs++]=Ql,js[Xs++]=Jl,js[Xs++]=md,md=p;var A=Ql;p=Jl;var I=32-br(A)-1;A&=~(1<<I),C+=1;var U=32-br(m)+I;if(30<U){var ne=I-I%5;U=(A&(1<<ne)-1).toString(32),A>>=ne,I-=ne,Ql=1<<32-br(m)+I|C<<I|A,Jl=U+p}else Ql=1<<U|C<<I|A,Jl=p}function yS(p){p.return!==null&&(gd(p,1),DM(p,1,0))}function xS(p){for(;p===c1;)c1=uh[--dh],uh[dh]=null,u1=uh[--dh],uh[dh]=null;for(;p===md;)md=js[--Xs],js[Xs]=null,Jl=js[--Xs],js[Xs]=null,Ql=js[--Xs],js[Xs]=null}var vs=null,ys=null,Or=!1,T0=!1,Na=null;function FM(p,m){var C=Zs(5,null,null,0);C.elementType="DELETED",C.stateNode=m,C.return=p,m=p.deletions,m===null?(p.deletions=[C],p.flags|=16):m.push(C)}function $M(p,m){switch(p.tag){case 5:return m=it(m,p.type,p.pendingProps),m!==null?(p.stateNode=m,vs=p,ys=dn(m),!0):!1;case 6:return m=gt(m,p.pendingProps),m!==null?(p.stateNode=m,vs=p,ys=null,!0):!1;case 13:if(m=sn(m),m!==null){var C=md!==null?{id:Ql,overflow:Jl}:null;return p.memoizedState={dehydrated:m,treeContext:C,retryLane:1073741824},C=Zs(18,null,null,0),C.stateNode=m,C.return=p,p.child=C,vs=p,ys=null,!0}return!1;default:return!1}}function bS(p){return(p.mode&1)!==0&&(p.flags&128)===0}function SS(p){if(Or){var m=ys;if(m){var C=m;if(!$M(p,m)){if(bS(p))throw Error(s(418));m=Wn(C);var A=vs;m&&$M(p,m)?FM(A,C):(p.flags=p.flags&-4097|2,Or=!1,vs=p)}}else{if(bS(p))throw Error(s(418));p.flags=p.flags&-4097|2,Or=!1,vs=p}}}function UM(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;vs=p}function M0(p){if(!fe||p!==vs)return!1;if(!Or)return UM(p),Or=!0,!1;if(p.tag!==3&&(p.tag!==5||_t(p.type)&&!te(p.type,p.memoizedProps))){var m=ys;if(m){if(bS(p)){for(p=ys;p;)p=Wn(p);throw Error(s(418))}for(;m;)FM(p,m),m=Wn(m)}}if(UM(p),p.tag===13){if(!fe)throw Error(s(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));ys=q(p)}else ys=vs?Wn(p.stateNode):null;return!0}function fh(){fe&&(ys=vs=null,T0=Or=!1)}function _S(p){Na===null?Na=[p]:Na.push(p)}function R0(p,m,C){if(p=C.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(C._owner){if(C=C._owner,C){if(C.tag!==1)throw Error(s(309));var A=C.stateNode}if(!A)throw Error(s(147,p));var I=A,U=""+p;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===U?m.ref:(m=function(ne){var Ce=I.refs;Ce===NM&&(Ce=I.refs={}),ne===null?delete Ce[U]:Ce[U]=ne},m._stringRef=U,m)}if(typeof p!="string")throw Error(s(284));if(!C._owner)throw Error(s(290,p))}return p}function d1(p,m){throw p=Object.prototype.toString.call(m),Error(s(31,p==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":p))}function BM(p){var m=p._init;return m(p._payload)}function kM(p){function m(Ue,Me){if(p){var je=Ue.deletions;je===null?(Ue.deletions=[Me],Ue.flags|=16):je.push(Me)}}function C(Ue,Me){if(!p)return null;for(;Me!==null;)m(Ue,Me),Me=Me.sibling;return null}function A(Ue,Me){for(Ue=new Map;Me!==null;)Me.key!==null?Ue.set(Me.key,Me):Ue.set(Me.index,Me),Me=Me.sibling;return Ue}function I(Ue,Me){return Ue=Zc(Ue,Me),Ue.index=0,Ue.sibling=null,Ue}function U(Ue,Me,je){return Ue.index=je,p?(je=Ue.alternate,je!==null?(je=je.index,je<Me?(Ue.flags|=2,Me):je):(Ue.flags|=2,Me)):(Ue.flags|=1048576,Me)}function ne(Ue){return p&&Ue.alternate===null&&(Ue.flags|=2),Ue}function Ce(Ue,Me,je,Ot){return Me===null||Me.tag!==6?(Me=o4(je,Ue.mode,Ot),Me.return=Ue,Me):(Me=I(Me,je),Me.return=Ue,Me)}function et(Ue,Me,je,Ot){var Yt=je.type;return Yt===u?Bt(Ue,Me,je.props.children,Ot,je.key):Me!==null&&(Me.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===S&&BM(Yt)===Me.type)?(Ot=I(Me,je.props),Ot.ref=R0(Ue,Me,je),Ot.return=Ue,Ot):(Ot=V1(je.type,je.key,je.props,null,Ue.mode,Ot),Ot.ref=R0(Ue,Me,je),Ot.return=Ue,Ot)}function bt(Ue,Me,je,Ot){return Me===null||Me.tag!==4||Me.stateNode.containerInfo!==je.containerInfo||Me.stateNode.implementation!==je.implementation?(Me=s4(je,Ue.mode,Ot),Me.return=Ue,Me):(Me=I(Me,je.children||[]),Me.return=Ue,Me)}function Bt(Ue,Me,je,Ot,Yt){return Me===null||Me.tag!==7?(Me=wd(je,Ue.mode,Ot,Yt),Me.return=Ue,Me):(Me=I(Me,je),Me.return=Ue,Me)}function Sn(Ue,Me,je){if(typeof Me=="string"&&Me!==""||typeof Me=="number")return Me=o4(""+Me,Ue.mode,je),Me.return=Ue,Me;if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case l:return je=V1(Me.type,Me.key,Me.props,null,Ue.mode,je),je.ref=R0(Ue,null,Me),je.return=Ue,je;case c:return Me=s4(Me,Ue.mode,je),Me.return=Ue,Me;case S:var Ot=Me._init;return Sn(Ue,Ot(Me._payload),je)}if(H(Me)||E(Me))return Me=wd(Me,Ue.mode,je,null),Me.return=Ue,Me;d1(Ue,Me)}return null}function on(Ue,Me,je,Ot){var Yt=Me!==null?Me.key:null;if(typeof je=="string"&&je!==""||typeof je=="number")return Yt!==null?null:Ce(Ue,Me,""+je,Ot);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case l:return je.key===Yt?et(Ue,Me,je,Ot):null;case c:return je.key===Yt?bt(Ue,Me,je,Ot):null;case S:return Yt=je._init,on(Ue,Me,Yt(je._payload),Ot)}if(H(je)||E(je))return Yt!==null?null:Bt(Ue,Me,je,Ot,null);d1(Ue,je)}return null}function gr(Ue,Me,je,Ot,Yt){if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number")return Ue=Ue.get(je)||null,Ce(Me,Ue,""+Ot,Yt);if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case l:return Ue=Ue.get(Ot.key===null?je:Ot.key)||null,et(Me,Ue,Ot,Yt);case c:return Ue=Ue.get(Ot.key===null?je:Ot.key)||null,bt(Me,Ue,Ot,Yt);case S:var Nn=Ot._init;return gr(Ue,Me,je,Nn(Ot._payload),Yt)}if(H(Ot)||E(Ot))return Ue=Ue.get(je)||null,Bt(Me,Ue,Ot,Yt,null);d1(Me,Ot)}return null}function Jt(Ue,Me,je,Ot){for(var Yt=null,Nn=null,_n=Me,Qn=Me=0,Fi=null;_n!==null&&Qn<je.length;Qn++){_n.index>Qn?(Fi=_n,_n=null):Fi=_n.sibling;var Jn=on(Ue,_n,je[Qn],Ot);if(Jn===null){_n===null&&(_n=Fi);break}p&&_n&&Jn.alternate===null&&m(Ue,_n),Me=U(Jn,Me,Qn),Nn===null?Yt=Jn:Nn.sibling=Jn,Nn=Jn,_n=Fi}if(Qn===je.length)return C(Ue,_n),Or&&gd(Ue,Qn),Yt;if(_n===null){for(;Qn<je.length;Qn++)_n=Sn(Ue,je[Qn],Ot),_n!==null&&(Me=U(_n,Me,Qn),Nn===null?Yt=_n:Nn.sibling=_n,Nn=_n);return Or&&gd(Ue,Qn),Yt}for(_n=A(Ue,_n);Qn<je.length;Qn++)Fi=gr(_n,Ue,Qn,je[Qn],Ot),Fi!==null&&(p&&Fi.alternate!==null&&_n.delete(Fi.key===null?Qn:Fi.key),Me=U(Fi,Me,Qn),Nn===null?Yt=Fi:Nn.sibling=Fi,Nn=Fi);return p&&_n.forEach(function(Qc){return m(Ue,Qc)}),Or&&gd(Ue,Qn),Yt}function vo(Ue,Me,je,Ot){var Yt=E(je);if(typeof Yt!="function")throw Error(s(150));if(je=Yt.call(je),je==null)throw Error(s(151));for(var Nn=Yt=null,_n=Me,Qn=Me=0,Fi=null,Jn=je.next();_n!==null&&!Jn.done;Qn++,Jn=je.next()){_n.index>Qn?(Fi=_n,_n=null):Fi=_n.sibling;var Qc=on(Ue,_n,Jn.value,Ot);if(Qc===null){_n===null&&(_n=Fi);break}p&&_n&&Qc.alternate===null&&m(Ue,_n),Me=U(Qc,Me,Qn),Nn===null?Yt=Qc:Nn.sibling=Qc,Nn=Qc,_n=Fi}if(Jn.done)return C(Ue,_n),Or&&gd(Ue,Qn),Yt;if(_n===null){for(;!Jn.done;Qn++,Jn=je.next())Jn=Sn(Ue,Jn.value,Ot),Jn!==null&&(Me=U(Jn,Me,Qn),Nn===null?Yt=Jn:Nn.sibling=Jn,Nn=Jn);return Or&&gd(Ue,Qn),Yt}for(_n=A(Ue,_n);!Jn.done;Qn++,Jn=je.next())Jn=gr(_n,Ue,Qn,Jn.value,Ot),Jn!==null&&(p&&Jn.alternate!==null&&_n.delete(Jn.key===null?Qn:Jn.key),Me=U(Jn,Me,Qn),Nn===null?Yt=Jn:Nn.sibling=Jn,Nn=Jn);return p&&_n.forEach(function(Mq){return m(Ue,Mq)}),Or&&gd(Ue,Qn),Yt}function Qs(Ue,Me,je,Ot){if(typeof je=="object"&&je!==null&&je.type===u&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case l:e:{for(var Yt=je.key,Nn=Me;Nn!==null;){if(Nn.key===Yt){if(Yt=je.type,Yt===u){if(Nn.tag===7){C(Ue,Nn.sibling),Me=I(Nn,je.props.children),Me.return=Ue,Ue=Me;break e}}else if(Nn.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===S&&BM(Yt)===Nn.type){C(Ue,Nn.sibling),Me=I(Nn,je.props),Me.ref=R0(Ue,Nn,je),Me.return=Ue,Ue=Me;break e}C(Ue,Nn);break}else m(Ue,Nn);Nn=Nn.sibling}je.type===u?(Me=wd(je.props.children,Ue.mode,Ot,je.key),Me.return=Ue,Ue=Me):(Ot=V1(je.type,je.key,je.props,null,Ue.mode,Ot),Ot.ref=R0(Ue,Me,je),Ot.return=Ue,Ue=Ot)}return ne(Ue);case c:e:{for(Nn=je.key;Me!==null;){if(Me.key===Nn)if(Me.tag===4&&Me.stateNode.containerInfo===je.containerInfo&&Me.stateNode.implementation===je.implementation){C(Ue,Me.sibling),Me=I(Me,je.children||[]),Me.return=Ue,Ue=Me;break e}else{C(Ue,Me);break}else m(Ue,Me);Me=Me.sibling}Me=s4(je,Ue.mode,Ot),Me.return=Ue,Ue=Me}return ne(Ue);case S:return Nn=je._init,Qs(Ue,Me,Nn(je._payload),Ot)}if(H(je))return Jt(Ue,Me,je,Ot);if(E(je))return vo(Ue,Me,je,Ot);d1(Ue,je)}return typeof je=="string"&&je!==""||typeof je=="number"?(je=""+je,Me!==null&&Me.tag===6?(C(Ue,Me.sibling),Me=I(Me,je),Me.return=Ue,Ue=Me):(C(Ue,Me),Me=o4(je,Ue.mode,Ot),Me.return=Ue,Ue=Me),ne(Ue)):C(Ue,Me)}return Qs}var hh=kM(!0),zM=kM(!1),A0={},qs=nr(A0),P0=nr(A0),ph=nr(A0);function xl(p){if(p===A0)throw Error(s(174));return p}function wS(p,m){Rt(ph,m),Rt(P0,p),Rt(qs,A0),p=k(m),Vt(qs),Rt(qs,p)}function mh(){Vt(qs),Vt(P0),Vt(ph)}function VM(p){var m=xl(ph.current),C=xl(qs.current);m=O(C,p.type,m),C!==m&&(Rt(P0,p),Rt(qs,m))}function CS(p){P0.current===p&&(Vt(qs),Vt(P0))}var Ur=nr(0);function f1(p){for(var m=p;m!==null;){if(m.tag===13){var C=m.memoizedState;if(C!==null&&(C=C.dehydrated,C===null||gn(C)||Zn(C)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(m.flags&128)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var ES=[];function TS(){for(var p=0;p<ES.length;p++){var m=ES[p];me?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}ES.length=0}var h1=a.ReactCurrentDispatcher,Ks=a.ReactCurrentBatchConfig,gh=0,jr=null,po=null,Di=null,p1=!1,N0=!1,I0=0,QX=0;function mo(){throw Error(s(321))}function MS(p,m){if(m===null)return!1;for(var C=0;C<m.length&&C<p.length;C++)if(!gl(p[C],m[C]))return!1;return!0}function RS(p,m,C,A,I,U){if(gh=U,jr=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,h1.current=p===null||p.memoizedState===null?nq:rq,p=C(A,I),N0){U=0;do{if(N0=!1,I0=0,25<=U)throw Error(s(301));U+=1,Di=po=null,m.updateQueue=null,h1.current=iq,p=C(A,I)}while(N0)}if(h1.current=x1,m=po!==null&&po.next!==null,gh=0,Di=po=jr=null,p1=!1,m)throw Error(s(300));return p}function AS(){var p=I0!==0;return I0=0,p}function ec(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Di===null?jr.memoizedState=Di=p:Di=Di.next=p,Di}function bl(){if(po===null){var p=jr.alternate;p=p!==null?p.memoizedState:null}else p=po.next;var m=Di===null?jr.memoizedState:Di.next;if(m!==null)Di=m,po=p;else{if(p===null)throw Error(s(310));po=p,p={memoizedState:po.memoizedState,baseState:po.baseState,baseQueue:po.baseQueue,queue:po.queue,next:null},Di===null?jr.memoizedState=Di=p:Di=Di.next=p}return Di}function vd(p,m){return typeof m=="function"?m(p):m}function m1(p){var m=bl(),C=m.queue;if(C===null)throw Error(s(311));C.lastRenderedReducer=p;var A=po,I=A.baseQueue,U=C.pending;if(U!==null){if(I!==null){var ne=I.next;I.next=U.next,U.next=ne}A.baseQueue=I=U,C.pending=null}if(I!==null){U=I.next,A=A.baseState;var Ce=ne=null,et=null,bt=U;do{var Bt=bt.lane;if((gh&Bt)===Bt)et!==null&&(et=et.next={lane:0,action:bt.action,hasEagerState:bt.hasEagerState,eagerState:bt.eagerState,next:null}),A=bt.hasEagerState?bt.eagerState:p(A,bt.action);else{var Sn={lane:Bt,action:bt.action,hasEagerState:bt.hasEagerState,eagerState:bt.eagerState,next:null};et===null?(Ce=et=Sn,ne=A):et=et.next=Sn,jr.lanes|=Bt,yh|=Bt}bt=bt.next}while(bt!==null&&bt!==U);et===null?ne=A:et.next=Ce,gl(A,m.memoizedState)||(xs=!0),m.memoizedState=A,m.baseState=ne,m.baseQueue=et,C.lastRenderedState=A}if(p=C.interleaved,p!==null){I=p;do U=I.lane,jr.lanes|=U,yh|=U,I=I.next;while(I!==p)}else I===null&&(C.lanes=0);return[m.memoizedState,C.dispatch]}function g1(p){var m=bl(),C=m.queue;if(C===null)throw Error(s(311));C.lastRenderedReducer=p;var A=C.dispatch,I=C.pending,U=m.memoizedState;if(I!==null){C.pending=null;var ne=I=I.next;do U=p(U,ne.action),ne=ne.next;while(ne!==I);gl(U,m.memoizedState)||(xs=!0),m.memoizedState=U,m.baseQueue===null&&(m.baseState=U),C.lastRenderedState=U}return[U,A]}function HM(){}function GM(p,m){var C=jr,A=bl(),I=m(),U=!gl(A.memoizedState,I);if(U&&(A.memoizedState=I,xs=!0),A=A.queue,L0(XM.bind(null,C,A,p),[p]),A.getSnapshot!==m||U||Di!==null&&Di.memoizedState.tag&1){if(C.flags|=2048,O0(9,jM.bind(null,C,A,I,m),void 0,null),hi===null)throw Error(s(349));gh&30||WM(C,m,I)}return I}function WM(p,m,C){p.flags|=16384,p={getSnapshot:m,value:C},m=jr.updateQueue,m===null?(m={lastEffect:null,stores:null},jr.updateQueue=m,m.stores=[p]):(C=m.stores,C===null?m.stores=[p]:C.push(p))}function jM(p,m,C,A){m.value=C,m.getSnapshot=A,qM(m)&&Ys(p,1,-1)}function XM(p,m,C){return C(function(){qM(m)&&Ys(p,1,-1)})}function qM(p){var m=p.getSnapshot;p=p.value;try{var C=m();return!gl(p,C)}catch{return!0}}function PS(p){var m=ec();return typeof p=="function"&&(p=p()),m.memoizedState=m.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vd,lastRenderedState:p},m.queue=p,p=p.dispatch=tq.bind(null,jr,p),[m.memoizedState,p]}function O0(p,m,C,A){return p={tag:p,create:m,destroy:C,deps:A,next:null},m=jr.updateQueue,m===null?(m={lastEffect:null,stores:null},jr.updateQueue=m,m.lastEffect=p.next=p):(C=m.lastEffect,C===null?m.lastEffect=p.next=p:(A=C.next,C.next=p,p.next=A,m.lastEffect=p)),p}function KM(){return bl().memoizedState}function v1(p,m,C,A){var I=ec();jr.flags|=p,I.memoizedState=O0(1|m,C,void 0,A===void 0?null:A)}function y1(p,m,C,A){var I=bl();A=A===void 0?null:A;var U=void 0;if(po!==null){var ne=po.memoizedState;if(U=ne.destroy,A!==null&&MS(A,ne.deps)){I.memoizedState=O0(m,C,U,A);return}}jr.flags|=p,I.memoizedState=O0(1|m,C,U,A)}function NS(p,m){return v1(8390656,8,p,m)}function L0(p,m){return y1(2048,8,p,m)}function YM(p,m){return y1(4,2,p,m)}function ZM(p,m){return y1(4,4,p,m)}function QM(p,m){if(typeof m=="function")return p=p(),m(p),function(){m(null)};if(m!=null)return p=p(),m.current=p,function(){m.current=null}}function JM(p,m,C){return C=C!=null?C.concat([p]):null,y1(4,4,QM.bind(null,m,p),C)}function IS(){}function eR(p,m){var C=bl();m=m===void 0?null:m;var A=C.memoizedState;return A!==null&&m!==null&&MS(m,A[1])?A[0]:(C.memoizedState=[p,m],p)}function tR(p,m){var C=bl();m=m===void 0?null:m;var A=C.memoizedState;return A!==null&&m!==null&&MS(m,A[1])?A[0]:(p=p(),C.memoizedState=[p,m],p)}function JX(p,m){var C=Un;Un=C!==0&&4>C?C:4,p(!0);var A=Ks.transition;Ks.transition={};try{p(!1),m()}finally{Un=C,Ks.transition=A}}function nR(){return bl().memoizedState}function eq(p,m,C){var A=Kc(p);C={lane:A,action:C,hasEagerState:!1,eagerState:null,next:null},rR(p)?iR(m,C):(oR(p,m,C),C=Do(),p=Ys(p,A,C),p!==null&&sR(p,m,A))}function tq(p,m,C){var A=Kc(p),I={lane:A,action:C,hasEagerState:!1,eagerState:null,next:null};if(rR(p))iR(m,I);else{oR(p,m,I);var U=p.alternate;if(p.lanes===0&&(U===null||U.lanes===0)&&(U=m.lastRenderedReducer,U!==null))try{var ne=m.lastRenderedState,Ce=U(ne,C);if(I.hasEagerState=!0,I.eagerState=Ce,gl(Ce,ne))return}catch{}finally{}C=Do(),p=Ys(p,A,C),p!==null&&sR(p,m,A)}}function rR(p){var m=p.alternate;return p===jr||m!==null&&m===jr}function iR(p,m){N0=p1=!0;var C=p.pending;C===null?m.next=m:(m.next=C.next,C.next=m),p.pending=m}function oR(p,m,C){hi!==null&&p.mode&1&&!(On&2)?(p=m.interleaved,p===null?(C.next=C,yl===null?yl=[m]:yl.push(m)):(C.next=p.next,p.next=C),m.interleaved=C):(p=m.pending,p===null?C.next=C:(C.next=p.next,p.next=C),m.pending=C)}function sR(p,m,C){if(C&4194240){var A=m.lanes;A&=p.pendingLanes,C|=A,m.lanes=C,pd(p,C)}}var x1={readContext:Ws,useCallback:mo,useContext:mo,useEffect:mo,useImperativeHandle:mo,useInsertionEffect:mo,useLayoutEffect:mo,useMemo:mo,useReducer:mo,useRef:mo,useState:mo,useDebugValue:mo,useDeferredValue:mo,useTransition:mo,useMutableSource:mo,useSyncExternalStore:mo,useId:mo,unstable_isNewReconciler:!1},nq={readContext:Ws,useCallback:function(p,m){return ec().memoizedState=[p,m===void 0?null:m],p},useContext:Ws,useEffect:NS,useImperativeHandle:function(p,m,C){return C=C!=null?C.concat([p]):null,v1(4194308,4,QM.bind(null,m,p),C)},useLayoutEffect:function(p,m){return v1(4194308,4,p,m)},useInsertionEffect:function(p,m){return v1(4,2,p,m)},useMemo:function(p,m){var C=ec();return m=m===void 0?null:m,p=p(),C.memoizedState=[p,m],p},useReducer:function(p,m,C){var A=ec();return m=C!==void 0?C(m):m,A.memoizedState=A.baseState=m,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:m},A.queue=p,p=p.dispatch=eq.bind(null,jr,p),[A.memoizedState,p]},useRef:function(p){var m=ec();return p={current:p},m.memoizedState=p},useState:PS,useDebugValue:IS,useDeferredValue:function(p){var m=PS(p),C=m[0],A=m[1];return NS(function(){var I=Ks.transition;Ks.transition={};try{A(p)}finally{Ks.transition=I}},[p]),C},useTransition:function(){var p=PS(!1),m=p[0];return p=JX.bind(null,p[1]),ec().memoizedState=p,[m,p]},useMutableSource:function(){},useSyncExternalStore:function(p,m,C){var A=jr,I=ec();if(Or){if(C===void 0)throw Error(s(407));C=C()}else{if(C=m(),hi===null)throw Error(s(349));gh&30||WM(A,m,C)}I.memoizedState=C;var U={value:C,getSnapshot:m};return I.queue=U,NS(XM.bind(null,A,U,p),[p]),A.flags|=2048,O0(9,jM.bind(null,A,U,C,m),void 0,null),C},useId:function(){var p=ec(),m=hi.identifierPrefix;if(Or){var C=Jl,A=Ql;C=(A&~(1<<32-br(A)-1)).toString(32)+C,m=":"+m+"R"+C,C=I0++,0<C&&(m+="H"+C.toString(32)),m+=":"}else C=QX++,m=":"+m+"r"+C.toString(32)+":";return p.memoizedState=m},unstable_isNewReconciler:!1},rq={readContext:Ws,useCallback:eR,useContext:Ws,useEffect:L0,useImperativeHandle:JM,useInsertionEffect:YM,useLayoutEffect:ZM,useMemo:tR,useReducer:m1,useRef:KM,useState:function(){return m1(vd)},useDebugValue:IS,useDeferredValue:function(p){var m=m1(vd),C=m[0],A=m[1];return L0(function(){var I=Ks.transition;Ks.transition={};try{A(p)}finally{Ks.transition=I}},[p]),C},useTransition:function(){var p=m1(vd)[0],m=bl().memoizedState;return[p,m]},useMutableSource:HM,useSyncExternalStore:GM,useId:nR,unstable_isNewReconciler:!1},iq={readContext:Ws,useCallback:eR,useContext:Ws,useEffect:L0,useImperativeHandle:JM,useInsertionEffect:YM,useLayoutEffect:ZM,useMemo:tR,useReducer:g1,useRef:KM,useState:function(){return g1(vd)},useDebugValue:IS,useDeferredValue:function(p){var m=g1(vd),C=m[0],A=m[1];return L0(function(){var I=Ks.transition;Ks.transition={};try{A(p)}finally{Ks.transition=I}},[p]),C},useTransition:function(){var p=g1(vd)[0],m=bl().memoizedState;return[p,m]},useMutableSource:HM,useSyncExternalStore:GM,useId:nR,unstable_isNewReconciler:!1};function OS(p,m){try{var C="",A=m;do C+=ZX(A),A=A.return;while(A);var I=C}catch(U){I=`
Error generating stack: `+U.message+`
`+U.stack}return{value:p,source:m,stack:I}}function LS(p,m){try{console.error(m.value)}catch(C){setTimeout(function(){throw C})}}var oq=typeof WeakMap=="function"?WeakMap:Map;function aR(p,m,C){C=Zl(-1,C),C.tag=3,C.payload={element:null};var A=m.value;return C.callback=function(){D1||(D1=!0,QS=A),LS(p,m)},C}function lR(p,m,C){C=Zl(-1,C),C.tag=3;var A=p.type.getDerivedStateFromError;if(typeof A=="function"){var I=m.value;C.payload=function(){return A(I)},C.callback=function(){LS(p,m)}}var U=p.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(C.callback=function(){LS(p,m),typeof A!="function"&&(Xc===null?Xc=new Set([this]):Xc.add(this));var ne=m.stack;this.componentDidCatch(m.value,{componentStack:ne!==null?ne:""})}),C}function cR(p,m,C){var A=p.pingCache;if(A===null){A=p.pingCache=new oq;var I=new Set;A.set(m,I)}else I=A.get(m),I===void 0&&(I=new Set,A.set(m,I));I.has(C)||(I.add(C),p=xq.bind(null,p,m,C),m.then(p,p))}function uR(p){do{var m;if((m=p.tag===13)&&(m=p.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return p;p=p.return}while(p!==null);return null}function dR(p,m,C,A,I){return p.mode&1?(p.flags|=65536,p.lanes=I,p):(p===m?p.flags|=65536:(p.flags|=128,C.flags|=131072,C.flags&=-52805,C.tag===1&&(C.alternate===null?C.tag=17:(m=Zl(-1,1),m.tag=2,jc(C,m))),C.lanes|=1),p)}function Sl(p){p.flags|=4}function fR(p,m){if(p!==null&&p.child===m.child)return!0;if(m.flags&16)return!1;for(p=m.child;p!==null;){if(p.flags&12854||p.subtreeFlags&12854)return!1;p=p.sibling}return!0}var D0,F0,b1,S1;if(we)D0=function(p,m){for(var C=m.child;C!==null;){if(C.tag===5||C.tag===6)K(p,C.stateNode);else if(C.tag!==4&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===m)break;for(;C.sibling===null;){if(C.return===null||C.return===m)return;C=C.return}C.sibling.return=C.return,C=C.sibling}},F0=function(){},b1=function(p,m,C,A,I){if(p=p.memoizedProps,p!==A){var U=m.stateNode,ne=xl(qs.current);C=Y(U,C,p,A,I,ne),(m.updateQueue=C)&&Sl(m)}},S1=function(p,m,C,A){C!==A&&Sl(m)};else if(Q){D0=function(p,m,C,A){for(var I=m.child;I!==null;){if(I.tag===5){var U=I.stateNode;C&&A&&(U=Ye(U,I.type,I.memoizedProps,I)),K(p,U)}else if(I.tag===6)U=I.stateNode,C&&A&&(U=dt(U,I.memoizedProps,I)),K(p,U);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)U=I.child,U!==null&&(U.return=I),D0(p,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===m)break;for(;I.sibling===null;){if(I.return===null||I.return===m)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};var hR=function(p,m,C,A){for(var I=m.child;I!==null;){if(I.tag===5){var U=I.stateNode;C&&A&&(U=Ye(U,I.type,I.memoizedProps,I)),ft(p,U)}else if(I.tag===6)U=I.stateNode,C&&A&&(U=dt(U,I.memoizedProps,I)),ft(p,U);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)U=I.child,U!==null&&(U.return=I),hR(p,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===m)break;for(;I.sibling===null;){if(I.return===null||I.return===m)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};F0=function(p,m){var C=m.stateNode;if(!fR(p,m)){p=C.containerInfo;var A=Je(p);hR(A,m,!1,!1),C.pendingChildren=A,Sl(m),wt(p,A)}},b1=function(p,m,C,A,I){var U=p.stateNode,ne=p.memoizedProps;if((p=fR(p,m))&&ne===A)m.stateNode=U;else{var Ce=m.stateNode,et=xl(qs.current),bt=null;ne!==A&&(bt=Y(Ce,C,ne,A,I,et)),p&&bt===null?m.stateNode=U:(U=Pe(U,bt,C,ne,A,m,p,Ce),X(U,C,A,I,et)&&Sl(m),m.stateNode=U,p?Sl(m):D0(U,m,!1,!1))}},S1=function(p,m,C,A){C!==A?(p=xl(ph.current),C=xl(qs.current),m.stateNode=oe(A,p,C,m),Sl(m)):m.stateNode=p.stateNode}}else F0=function(){},b1=function(){},S1=function(){};function $0(p,m){if(!Or)switch(p.tailMode){case"hidden":m=p.tail;for(var C=null;m!==null;)m.alternate!==null&&(C=m),m=m.sibling;C===null?p.tail=null:C.sibling=null;break;case"collapsed":C=p.tail;for(var A=null;C!==null;)C.alternate!==null&&(A=C),C=C.sibling;A===null?m||p.tail===null?p.tail=null:p.tail.sibling=null:A.sibling=null}}function go(p){var m=p.alternate!==null&&p.alternate.child===p.child,C=0,A=0;if(m)for(var I=p.child;I!==null;)C|=I.lanes|I.childLanes,A|=I.subtreeFlags&14680064,A|=I.flags&14680064,I.return=p,I=I.sibling;else for(I=p.child;I!==null;)C|=I.lanes|I.childLanes,A|=I.subtreeFlags,A|=I.flags,I.return=p,I=I.sibling;return p.subtreeFlags|=A,p.childLanes=C,m}function sq(p,m,C){var A=m.pendingProps;switch(xS(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return go(m),null;case 1:return Dt(m.type)&&It(),go(m),null;case 3:return A=m.stateNode,mh(),Vt(Lt),Vt(rn),TS(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(p===null||p.child===null)&&(M0(m)?Sl(m):p===null||p.memoizedState.isDehydrated&&!(m.flags&256)||(m.flags|=1024,Na!==null&&(t4(Na),Na=null))),F0(p,m),go(m),null;case 5:CS(m),C=xl(ph.current);var I=m.type;if(p!==null&&m.stateNode!=null)b1(p,m,I,A,C),p.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!A){if(m.stateNode===null)throw Error(s(166));return go(m),null}if(p=xl(qs.current),M0(m)){if(!fe)throw Error(s(175));p=vn(m.stateNode,m.type,m.memoizedProps,C,p,m,!T0),m.updateQueue=p,p!==null&&Sl(m)}else{var U=W(I,A,C,p,m);D0(U,m,!1,!1),m.stateNode=U,X(U,I,A,C,p)&&Sl(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return go(m),null;case 6:if(p&&m.stateNode!=null)S1(p,m,p.memoizedProps,A);else{if(typeof A!="string"&&m.stateNode===null)throw Error(s(166));if(p=xl(ph.current),C=xl(qs.current),M0(m)){if(!fe)throw Error(s(176));if(p=m.stateNode,A=m.memoizedProps,(C=an(p,A,m,!T0))&&(I=vs,I!==null))switch(U=(I.mode&1)!==0,I.tag){case 3:Nt(I.stateNode.containerInfo,p,A,U);break;case 5:zt(I.type,I.memoizedProps,I.stateNode,p,A,U)}C&&Sl(m)}else m.stateNode=oe(A,p,C,m)}return go(m),null;case 13:if(Vt(Ur),A=m.memoizedState,Or&&ys!==null&&m.mode&1&&!(m.flags&128)){for(p=ys;p;)p=Wn(p);return fh(),m.flags|=98560,m}if(A!==null&&A.dehydrated!==null){if(A=M0(m),p===null){if(!A)throw Error(s(318));if(!fe)throw Error(s(344));if(p=m.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));Ct(p,m)}else fh(),!(m.flags&128)&&(m.memoizedState=null),m.flags|=4;return go(m),null}return Na!==null&&(t4(Na),Na=null),m.flags&128?(m.lanes=C,m):(A=A!==null,C=!1,p===null?M0(m):C=p.memoizedState!==null,A&&!C&&(m.child.flags|=8192,m.mode&1&&(p===null||Ur.current&1?Ci===0&&(Ci=3):r4())),m.updateQueue!==null&&(m.flags|=4),go(m),null);case 4:return mh(),F0(p,m),p===null&&Ee(m.stateNode.containerInfo),go(m),null;case 10:return hS(m.type._context),go(m),null;case 17:return Dt(m.type)&&It(),go(m),null;case 19:if(Vt(Ur),I=m.memoizedState,I===null)return go(m),null;if(A=(m.flags&128)!==0,U=I.rendering,U===null)if(A)$0(I,!1);else{if(Ci!==0||p!==null&&p.flags&128)for(p=m.child;p!==null;){if(U=f1(p),U!==null){for(m.flags|=128,$0(I,!1),p=U.updateQueue,p!==null&&(m.updateQueue=p,m.flags|=4),m.subtreeFlags=0,p=C,A=m.child;A!==null;)C=A,I=p,C.flags&=14680066,U=C.alternate,U===null?(C.childLanes=0,C.lanes=I,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=U.childLanes,C.lanes=U.lanes,C.child=U.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=U.memoizedProps,C.memoizedState=U.memoizedState,C.updateQueue=U.updateQueue,C.type=U.type,I=U.dependencies,C.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),A=A.sibling;return Rt(Ur,Ur.current&1|2),m.child}p=p.sibling}I.tail!==null&&Rn()>ZS&&(m.flags|=128,A=!0,$0(I,!1),m.lanes=4194304)}else{if(!A)if(p=f1(U),p!==null){if(m.flags|=128,A=!0,p=p.updateQueue,p!==null&&(m.updateQueue=p,m.flags|=4),$0(I,!0),I.tail===null&&I.tailMode==="hidden"&&!U.alternate&&!Or)return go(m),null}else 2*Rn()-I.renderingStartTime>ZS&&C!==1073741824&&(m.flags|=128,A=!0,$0(I,!1),m.lanes=4194304);I.isBackwards?(U.sibling=m.child,m.child=U):(p=I.last,p!==null?p.sibling=U:m.child=U,I.last=U)}return I.tail!==null?(m=I.tail,I.rendering=m,I.tail=m.sibling,I.renderingStartTime=Rn(),m.sibling=null,p=Ur.current,Rt(Ur,A?p&1|2:p&1),m):(go(m),null);case 22:case 23:return n4(),A=m.memoizedState!==null,p!==null&&p.memoizedState!==null!==A&&(m.flags|=8192),A&&m.mode&1?bs&1073741824&&(go(m),we&&m.subtreeFlags&6&&(m.flags|=8192)):go(m),null;case 24:return null;case 25:return null}throw Error(s(156,m.tag))}var aq=a.ReactCurrentOwner,xs=!1;function Lo(p,m,C,A){m.child=p===null?zM(m,null,C,A):hh(m,p.child,C,A)}function pR(p,m,C,A,I){C=C.render;var U=m.ref;return ch(m,I),A=RS(p,m,C,A,U,I),C=AS(),p!==null&&!xs?(m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~I,tc(p,m,I)):(Or&&C&&yS(m),m.flags|=1,Lo(p,m,A,I),m.child)}function mR(p,m,C,A,I){if(p===null){var U=C.type;return typeof U=="function"&&!i4(U)&&U.defaultProps===void 0&&C.compare===null&&C.defaultProps===void 0?(m.tag=15,m.type=U,gR(p,m,U,A,I)):(p=V1(C.type,null,A,m,m.mode,I),p.ref=m.ref,p.return=m,m.child=p)}if(U=p.child,!(p.lanes&I)){var ne=U.memoizedProps;if(C=C.compare,C=C!==null?C:r1,C(ne,A)&&p.ref===m.ref)return tc(p,m,I)}return m.flags|=1,p=Zc(U,A),p.ref=m.ref,p.return=m,m.child=p}function gR(p,m,C,A,I){if(p!==null&&r1(p.memoizedProps,A)&&p.ref===m.ref)if(xs=!1,(p.lanes&I)!==0)p.flags&131072&&(xs=!0);else return m.lanes=p.lanes,tc(p,m,I);return DS(p,m,C,A,I)}function vR(p,m,C){var A=m.pendingProps,I=A.children,U=p!==null?p.memoizedState:null;if(A.mode==="hidden")if(!(m.mode&1))m.memoizedState={baseLanes:0,cachePool:null},Rt(vh,bs),bs|=C;else if(C&1073741824)m.memoizedState={baseLanes:0,cachePool:null},A=U!==null?U.baseLanes:C,Rt(vh,bs),bs|=A;else return p=U!==null?U.baseLanes|C:C,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:p,cachePool:null},m.updateQueue=null,Rt(vh,bs),bs|=p,null;else U!==null?(A=U.baseLanes|C,m.memoizedState=null):A=C,Rt(vh,bs),bs|=A;return Lo(p,m,I,C),m.child}function yR(p,m){var C=m.ref;(p===null&&C!==null||p!==null&&p.ref!==C)&&(m.flags|=512,m.flags|=2097152)}function DS(p,m,C,A,I){var U=Dt(C)?Kt:rn.current;return U=Qt(m,U),ch(m,I),C=RS(p,m,C,A,U,I),A=AS(),p!==null&&!xs?(m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~I,tc(p,m,I)):(Or&&A&&yS(m),m.flags|=1,Lo(p,m,C,I),m.child)}function xR(p,m,C,A,I){if(Dt(C)){var U=!0;Gn(m)}else U=!1;if(ch(m,I),m.stateNode===null)p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),OM(m,C,A),vS(m,C,A,I),A=!0;else if(p===null){var ne=m.stateNode,Ce=m.memoizedProps;ne.props=Ce;var et=ne.context,bt=C.contextType;typeof bt=="object"&&bt!==null?bt=Ws(bt):(bt=Dt(C)?Kt:rn.current,bt=Qt(m,bt));var Bt=C.getDerivedStateFromProps,Sn=typeof Bt=="function"||typeof ne.getSnapshotBeforeUpdate=="function";Sn||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(Ce!==A||et!==bt)&&LM(m,ne,A,bt),Wc=!1;var on=m.memoizedState;ne.state=on,a1(m,A,ne,I),et=m.memoizedState,Ce!==A||on!==et||Lt.current||Wc?(typeof Bt=="function"&&(gS(m,C,Bt,A),et=m.memoizedState),(Ce=Wc||IM(m,C,Ce,A,on,et,bt))?(Sn||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount()),typeof ne.componentDidMount=="function"&&(m.flags|=4194308)):(typeof ne.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=A,m.memoizedState=et),ne.props=A,ne.state=et,ne.context=bt,A=Ce):(typeof ne.componentDidMount=="function"&&(m.flags|=4194308),A=!1)}else{ne=m.stateNode,RM(p,m),Ce=m.memoizedProps,bt=m.type===m.elementType?Ce:Pa(m.type,Ce),ne.props=bt,Sn=m.pendingProps,on=ne.context,et=C.contextType,typeof et=="object"&&et!==null?et=Ws(et):(et=Dt(C)?Kt:rn.current,et=Qt(m,et));var gr=C.getDerivedStateFromProps;(Bt=typeof gr=="function"||typeof ne.getSnapshotBeforeUpdate=="function")||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(Ce!==Sn||on!==et)&&LM(m,ne,A,et),Wc=!1,on=m.memoizedState,ne.state=on,a1(m,A,ne,I);var Jt=m.memoizedState;Ce!==Sn||on!==Jt||Lt.current||Wc?(typeof gr=="function"&&(gS(m,C,gr,A),Jt=m.memoizedState),(bt=Wc||IM(m,C,bt,A,on,Jt,et)||!1)?(Bt||typeof ne.UNSAFE_componentWillUpdate!="function"&&typeof ne.componentWillUpdate!="function"||(typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate(A,Jt,et),typeof ne.UNSAFE_componentWillUpdate=="function"&&ne.UNSAFE_componentWillUpdate(A,Jt,et)),typeof ne.componentDidUpdate=="function"&&(m.flags|=4),typeof ne.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof ne.componentDidUpdate!="function"||Ce===p.memoizedProps&&on===p.memoizedState||(m.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||Ce===p.memoizedProps&&on===p.memoizedState||(m.flags|=1024),m.memoizedProps=A,m.memoizedState=Jt),ne.props=A,ne.state=Jt,ne.context=et,A=bt):(typeof ne.componentDidUpdate!="function"||Ce===p.memoizedProps&&on===p.memoizedState||(m.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||Ce===p.memoizedProps&&on===p.memoizedState||(m.flags|=1024),A=!1)}return FS(p,m,C,A,U,I)}function FS(p,m,C,A,I,U){yR(p,m);var ne=(m.flags&128)!==0;if(!A&&!ne)return I&&xr(m,C,!1),tc(p,m,U);A=m.stateNode,aq.current=m;var Ce=ne&&typeof C.getDerivedStateFromError!="function"?null:A.render();return m.flags|=1,p!==null&&ne?(m.child=hh(m,p.child,null,U),m.child=hh(m,null,Ce,U)):Lo(p,m,Ce,U),m.memoizedState=A.state,I&&xr(m,C,!0),m.child}function bR(p){var m=p.stateNode;m.pendingContext?xn(p,m.pendingContext,m.pendingContext!==m.context):m.context&&xn(p,m.context,!1),wS(p,m.containerInfo)}function SR(p,m,C,A,I){return fh(),_S(I),m.flags|=256,Lo(p,m,C,A),m.child}var _1={dehydrated:null,treeContext:null,retryLane:0};function w1(p){return{baseLanes:p,cachePool:null}}function _R(p,m,C){var A=m.pendingProps,I=Ur.current,U=!1,ne=(m.flags&128)!==0,Ce;if((Ce=ne)||(Ce=p!==null&&p.memoizedState===null?!1:(I&2)!==0),Ce?(U=!0,m.flags&=-129):(p===null||p.memoizedState!==null)&&(I|=1),Rt(Ur,I&1),p===null)return SS(m),p=m.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?(m.mode&1?Zn(p)?m.lanes=8:m.lanes=1073741824:m.lanes=1,null):(I=A.children,p=A.fallback,U?(A=m.mode,U=m.child,I={mode:"hidden",children:I},!(A&1)&&U!==null?(U.childLanes=0,U.pendingProps=I):U=H1(I,A,0,null),p=wd(p,A,C,null),U.return=m,p.return=m,U.sibling=p,m.child=U,m.child.memoizedState=w1(C),m.memoizedState=_1,p):$S(m,I));if(I=p.memoizedState,I!==null){if(Ce=I.dehydrated,Ce!==null){if(ne)return m.flags&256?(m.flags&=-257,C1(p,m,C,Error(s(422)))):m.memoizedState!==null?(m.child=p.child,m.flags|=128,null):(U=A.fallback,I=m.mode,A=H1({mode:"visible",children:A.children},I,0,null),U=wd(U,I,C,null),U.flags|=2,A.return=m,U.return=m,A.sibling=U,m.child=A,m.mode&1&&hh(m,p.child,null,C),m.child.memoizedState=w1(C),m.memoizedState=_1,U);if(!(m.mode&1))m=C1(p,m,C,null);else if(Zn(Ce))m=C1(p,m,C,Error(s(419)));else if(A=(C&p.childLanes)!==0,xs||A){if(A=hi,A!==null){switch(C&-C){case 4:U=2;break;case 16:U=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:U=32;break;case 536870912:U=268435456;break;default:U=0}A=U&(A.suspendedLanes|C)?0:U,A!==0&&A!==I.retryLane&&(I.retryLane=A,Ys(p,A,-1))}r4(),m=C1(p,m,C,Error(s(421)))}else gn(Ce)?(m.flags|=128,m.child=p.child,m=bq.bind(null,p),Xn(Ce,m),m=null):(C=I.treeContext,fe&&(ys=Pr(Ce),vs=m,Or=!0,Na=null,T0=!1,C!==null&&(js[Xs++]=Ql,js[Xs++]=Jl,js[Xs++]=md,Ql=C.id,Jl=C.overflow,md=m)),m=$S(m,m.pendingProps.children),m.flags|=4096);return m}return U?(A=CR(p,m,A.children,A.fallback,C),U=m.child,I=p.child.memoizedState,U.memoizedState=I===null?w1(C):{baseLanes:I.baseLanes|C,cachePool:null},U.childLanes=p.childLanes&~C,m.memoizedState=_1,A):(C=wR(p,m,A.children,C),m.memoizedState=null,C)}return U?(A=CR(p,m,A.children,A.fallback,C),U=m.child,I=p.child.memoizedState,U.memoizedState=I===null?w1(C):{baseLanes:I.baseLanes|C,cachePool:null},U.childLanes=p.childLanes&~C,m.memoizedState=_1,A):(C=wR(p,m,A.children,C),m.memoizedState=null,C)}function $S(p,m){return m=H1({mode:"visible",children:m},p.mode,0,null),m.return=p,p.child=m}function wR(p,m,C,A){var I=p.child;return p=I.sibling,C=Zc(I,{mode:"visible",children:C}),!(m.mode&1)&&(C.lanes=A),C.return=m,C.sibling=null,p!==null&&(A=m.deletions,A===null?(m.deletions=[p],m.flags|=16):A.push(p)),m.child=C}function CR(p,m,C,A,I){var U=m.mode;p=p.child;var ne=p.sibling,Ce={mode:"hidden",children:C};return!(U&1)&&m.child!==p?(C=m.child,C.childLanes=0,C.pendingProps=Ce,m.deletions=null):(C=Zc(p,Ce),C.subtreeFlags=p.subtreeFlags&14680064),ne!==null?A=Zc(ne,A):(A=wd(A,U,I,null),A.flags|=2),A.return=m,C.return=m,C.sibling=A,m.child=C,A}function C1(p,m,C,A){return A!==null&&_S(A),hh(m,p.child,null,C),p=$S(m,m.pendingProps.children),p.flags|=2,m.memoizedState=null,p}function ER(p,m,C){p.lanes|=m;var A=p.alternate;A!==null&&(A.lanes|=m),pS(p.return,m,C)}function US(p,m,C,A,I){var U=p.memoizedState;U===null?p.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:A,tail:C,tailMode:I}:(U.isBackwards=m,U.rendering=null,U.renderingStartTime=0,U.last=A,U.tail=C,U.tailMode=I)}function TR(p,m,C){var A=m.pendingProps,I=A.revealOrder,U=A.tail;if(Lo(p,m,A.children,C),A=Ur.current,A&2)A=A&1|2,m.flags|=128;else{if(p!==null&&p.flags&128)e:for(p=m.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&ER(p,C,m);else if(p.tag===19)ER(p,C,m);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===m)break e;for(;p.sibling===null;){if(p.return===null||p.return===m)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}A&=1}if(Rt(Ur,A),!(m.mode&1))m.memoizedState=null;else switch(I){case"forwards":for(C=m.child,I=null;C!==null;)p=C.alternate,p!==null&&f1(p)===null&&(I=C),C=C.sibling;C=I,C===null?(I=m.child,m.child=null):(I=C.sibling,C.sibling=null),US(m,!1,I,C,U);break;case"backwards":for(C=null,I=m.child,m.child=null;I!==null;){if(p=I.alternate,p!==null&&f1(p)===null){m.child=I;break}p=I.sibling,I.sibling=C,C=I,I=p}US(m,!0,C,null,U);break;case"together":US(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function tc(p,m,C){if(p!==null&&(m.dependencies=p.dependencies),yh|=m.lanes,!(C&m.childLanes))return null;if(p!==null&&m.child!==p.child)throw Error(s(153));if(m.child!==null){for(p=m.child,C=Zc(p,p.pendingProps),m.child=C,C.return=m;p.sibling!==null;)p=p.sibling,C=C.sibling=Zc(p,p.pendingProps),C.return=m;C.sibling=null}return m.child}function lq(p,m,C){switch(m.tag){case 3:bR(m),fh();break;case 5:VM(m);break;case 1:Dt(m.type)&&Gn(m);break;case 4:wS(m,m.stateNode.containerInfo);break;case 10:MM(m,m.type._context,m.memoizedProps.value);break;case 13:var A=m.memoizedState;if(A!==null)return A.dehydrated!==null?(Rt(Ur,Ur.current&1),m.flags|=128,null):C&m.child.childLanes?_R(p,m,C):(Rt(Ur,Ur.current&1),p=tc(p,m,C),p!==null?p.sibling:null);Rt(Ur,Ur.current&1);break;case 19:if(A=(C&m.childLanes)!==0,p.flags&128){if(A)return TR(p,m,C);m.flags|=128}var I=m.memoizedState;if(I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),Rt(Ur,Ur.current),A)break;return null;case 22:case 23:return m.lanes=0,vR(p,m,C)}return tc(p,m,C)}function cq(p,m){switch(xS(m),m.tag){case 1:return Dt(m.type)&&It(),p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 3:return mh(),Vt(Lt),Vt(rn),TS(),p=m.flags,p&65536&&!(p&128)?(m.flags=p&-65537|128,m):null;case 5:return CS(m),null;case 13:if(Vt(Ur),p=m.memoizedState,p!==null&&p.dehydrated!==null){if(m.alternate===null)throw Error(s(340));fh()}return p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 19:return Vt(Ur),null;case 4:return mh(),null;case 10:return hS(m.type._context),null;case 22:case 23:return n4(),null;case 24:return null;default:return null}}var E1=!1,yd=!1,uq=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function T1(p,m){var C=p.ref;if(C!==null)if(typeof C=="function")try{C(null)}catch(A){Yo(p,m,A)}else C.current=null}function BS(p,m,C){try{C()}catch(A){Yo(p,m,A)}}var MR=!1;function dq(p,m){for(B(p.containerInfo),Pt=m;Pt!==null;)if(p=Pt,m=p.child,(p.subtreeFlags&1028)!==0&&m!==null)m.return=p,Pt=m;else for(;Pt!==null;){p=Pt;try{var C=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var A=C.memoizedProps,I=C.memoizedState,U=p.stateNode,ne=U.getSnapshotBeforeUpdate(p.elementType===p.type?A:Pa(p.type,A),I);U.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:we&&Re(p.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Ce){Yo(p,p.return,Ce)}if(m=p.sibling,m!==null){m.return=p.return,Pt=m;break}Pt=p.return}return C=MR,MR=!1,C}function xd(p,m,C){var A=m.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var I=A=A.next;do{if((I.tag&p)===p){var U=I.destroy;I.destroy=void 0,U!==void 0&&BS(m,C,U)}I=I.next}while(I!==A)}}function U0(p,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var C=m=m.next;do{if((C.tag&p)===p){var A=C.create;C.destroy=A()}C=C.next}while(C!==m)}}function kS(p){var m=p.ref;if(m!==null){var C=p.stateNode;switch(p.tag){case 5:p=F(C);break;default:p=C}typeof m=="function"?m(p):m.current=p}}function RR(p,m,C){if(ml&&typeof ml.onCommitFiberUnmount=="function")try{ml.onCommitFiberUnmount(t1,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:if(p=m.updateQueue,p!==null&&(p=p.lastEffect,p!==null)){var A=p=p.next;do{var I=A,U=I.destroy;I=I.tag,U!==void 0&&(I&2||I&4)&&BS(m,C,U),A=A.next}while(A!==p)}break;case 1:if(T1(m,C),p=m.stateNode,typeof p.componentWillUnmount=="function")try{p.props=m.memoizedProps,p.state=m.memoizedState,p.componentWillUnmount()}catch(ne){Yo(m,C,ne)}break;case 5:T1(m,C);break;case 4:we?LR(p,m,C):Q&&Q&&(m=m.stateNode.containerInfo,C=Je(m),mt(m,C))}}function AR(p,m,C){for(var A=m;;)if(RR(p,A,C),A.child===null||we&&A.tag===4){if(A===m)break;for(;A.sibling===null;){if(A.return===null||A.return===m)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function PR(p){var m=p.alternate;m!==null&&(p.alternate=null,PR(m)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(m=p.stateNode,m!==null&&ke(m)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function NR(p){return p.tag===5||p.tag===3||p.tag===4}function IR(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||NR(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function OR(p){if(we){e:{for(var m=p.return;m!==null;){if(NR(m))break e;m=m.return}throw Error(s(160))}var C=m;switch(C.tag){case 5:m=C.stateNode,C.flags&32&&(Ve(m),C.flags&=-33),C=IR(p),VS(p,C,m);break;case 3:case 4:m=C.stateNode.containerInfo,C=IR(p),zS(p,C,m);break;default:throw Error(s(161))}}}function zS(p,m,C){var A=p.tag;if(A===5||A===6)p=p.stateNode,m?st(C,p,m):Ge(C,p);else if(A!==4&&(p=p.child,p!==null))for(zS(p,m,C),p=p.sibling;p!==null;)zS(p,m,C),p=p.sibling}function VS(p,m,C){var A=p.tag;if(A===5||A===6)p=p.stateNode,m?rt(C,p,m):ht(C,p);else if(A!==4&&(p=p.child,p!==null))for(VS(p,m,C),p=p.sibling;p!==null;)VS(p,m,C),p=p.sibling}function LR(p,m,C){for(var A=m,I=!1,U,ne;;){if(!I){I=A.return;e:for(;;){if(I===null)throw Error(s(160));switch(U=I.stateNode,I.tag){case 5:ne=!1;break e;case 3:U=U.containerInfo,ne=!0;break e;case 4:U=U.containerInfo,ne=!0;break e}I=I.return}I=!0}if(A.tag===5||A.tag===6)AR(p,A,C),ne?re(U,A.stateNode):Ze(U,A.stateNode);else if(A.tag===18)ne?$e(U,A.stateNode):De(U,A.stateNode);else if(A.tag===4){if(A.child!==null){U=A.stateNode.containerInfo,ne=!0,A.child.return=A,A=A.child;continue}}else if(RR(p,A,C),A.child!==null){A.child.return=A,A=A.child;continue}if(A===m)break;for(;A.sibling===null;){if(A.return===null||A.return===m)return;A=A.return,A.tag===4&&(I=!1)}A.sibling.return=A.return,A=A.sibling}}function HS(p,m){if(we){switch(m.tag){case 0:case 11:case 14:case 15:xd(3,m,m.return),U0(3,m),xd(5,m,m.return);return;case 1:return;case 5:var C=m.stateNode;if(C!=null){var A=m.memoizedProps;p=p!==null?p.memoizedProps:A;var I=m.type,U=m.updateQueue;m.updateQueue=null,U!==null&&at(C,U,I,p,A,m)}return;case 6:if(m.stateNode===null)throw Error(s(162));C=m.memoizedProps,Te(m.stateNode,p!==null?p.memoizedProps:C,C);return;case 3:fe&&p!==null&&p.memoizedState.isDehydrated&&de(m.stateNode.containerInfo);return;case 12:return;case 13:M1(m);return;case 19:M1(m);return;case 17:return}throw Error(s(163))}switch(m.tag){case 0:case 11:case 14:case 15:xd(3,m,m.return),U0(3,m),xd(5,m,m.return);return;case 12:return;case 13:M1(m);return;case 19:M1(m);return;case 3:fe&&p!==null&&p.memoizedState.isDehydrated&&de(m.stateNode.containerInfo);break;case 22:case 23:return}e:if(Q){switch(m.tag){case 1:case 5:case 6:break e;case 3:case 4:m=m.stateNode,mt(m.containerInfo,m.pendingChildren);break e}throw Error(s(163))}}function M1(p){var m=p.updateQueue;if(m!==null){p.updateQueue=null;var C=p.stateNode;C===null&&(C=p.stateNode=new uq),m.forEach(function(A){var I=Sq.bind(null,p,A);C.has(A)||(C.add(A),A.then(I,I))})}}function fq(p,m){for(Pt=m;Pt!==null;){m=Pt;var C=m.deletions;if(C!==null)for(var A=0;A<C.length;A++){var I=C[A];try{var U=p;we?LR(U,I,m):AR(U,I,m);var ne=I.alternate;ne!==null&&(ne.return=null),I.return=null}catch(Yt){Yo(I,m,Yt)}}if(C=m.child,m.subtreeFlags&12854&&C!==null)C.return=m,Pt=C;else for(;Pt!==null;){m=Pt;try{var Ce=m.flags;if(Ce&32&&we&&Ve(m.stateNode),Ce&512){var et=m.alternate;if(et!==null){var bt=et.ref;bt!==null&&(typeof bt=="function"?bt(null):bt.current=null)}}if(Ce&8192)switch(m.tag){case 13:if(m.memoizedState!==null){var Bt=m.alternate;(Bt===null||Bt.memoizedState===null)&&(YS=Rn())}break;case 22:var Sn=m.memoizedState!==null,on=m.alternate,gr=on!==null&&on.memoizedState!==null;if(C=m,we){e:if(A=C,I=Sn,U=null,we)for(var Jt=A;;){if(Jt.tag===5){if(U===null){U=Jt;var vo=Jt.stateNode;I?Qe(vo):ce(Jt.stateNode,Jt.memoizedProps)}}else if(Jt.tag===6){if(U===null){var Qs=Jt.stateNode;I?lt(Qs):Z(Qs,Jt.memoizedProps)}}else if((Jt.tag!==22&&Jt.tag!==23||Jt.memoizedState===null||Jt===A)&&Jt.child!==null){Jt.child.return=Jt,Jt=Jt.child;continue}if(Jt===A)break;for(;Jt.sibling===null;){if(Jt.return===null||Jt.return===A)break e;U===Jt&&(U=null),Jt=Jt.return}U===Jt&&(U=null),Jt.sibling.return=Jt.return,Jt=Jt.sibling}}if(Sn&&!gr&&C.mode&1){Pt=C;for(var Ue=C.child;Ue!==null;){for(C=Pt=Ue;Pt!==null;){A=Pt;var Me=A.child;switch(A.tag){case 0:case 11:case 14:case 15:xd(4,A,A.return);break;case 1:T1(A,A.return);var je=A.stateNode;if(typeof je.componentWillUnmount=="function"){var Ot=A.return;try{je.props=A.memoizedProps,je.state=A.memoizedState,je.componentWillUnmount()}catch(Yt){Yo(A,Ot,Yt)}}break;case 5:T1(A,A.return);break;case 22:if(A.memoizedState!==null){$R(C);continue}}Me!==null?(Me.return=A,Pt=Me):$R(C)}Ue=Ue.sibling}}}switch(Ce&4102){case 2:OR(m),m.flags&=-3;break;case 6:OR(m),m.flags&=-3,HS(m.alternate,m);break;case 4096:m.flags&=-4097;break;case 4100:m.flags&=-4097,HS(m.alternate,m);break;case 4:HS(m.alternate,m)}}catch(Yt){Yo(m,m.return,Yt)}if(C=m.sibling,C!==null){C.return=m.return,Pt=C;break}Pt=m.return}}}function hq(p,m,C){Pt=p,DR(p)}function DR(p,m,C){for(var A=(p.mode&1)!==0;Pt!==null;){var I=Pt,U=I.child;if(I.tag===22&&A){var ne=I.memoizedState!==null||E1;if(!ne){var Ce=I.alternate,et=Ce!==null&&Ce.memoizedState!==null||yd;Ce=E1;var bt=yd;if(E1=ne,(yd=et)&&!bt)for(Pt=I;Pt!==null;)ne=Pt,et=ne.child,ne.tag===22&&ne.memoizedState!==null?UR(I):et!==null?(et.return=ne,Pt=et):UR(I);for(;U!==null;)Pt=U,DR(U),U=U.sibling;Pt=I,E1=Ce,yd=bt}FR(p)}else I.subtreeFlags&8772&&U!==null?(U.return=I,Pt=U):FR(p)}}function FR(p){for(;Pt!==null;){var m=Pt;if(m.flags&8772){var C=m.alternate;try{if(m.flags&8772)switch(m.tag){case 0:case 11:case 15:yd||U0(5,m);break;case 1:var A=m.stateNode;if(m.flags&4&&!yd)if(C===null)A.componentDidMount();else{var I=m.elementType===m.type?C.memoizedProps:Pa(m.type,C.memoizedProps);A.componentDidUpdate(I,C.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var U=m.updateQueue;U!==null&&PM(m,U,A);break;case 3:var ne=m.updateQueue;if(ne!==null){if(C=null,m.child!==null)switch(m.child.tag){case 5:C=F(m.child.stateNode);break;case 1:C=m.child.stateNode}PM(m,ne,C)}break;case 5:var Ce=m.stateNode;C===null&&m.flags&4&&nt(Ce,m.type,m.memoizedProps,m);break;case 6:break;case 4:break;case 12:break;case 13:if(fe&&m.memoizedState===null){var et=m.alternate;if(et!==null){var bt=et.memoizedState;if(bt!==null){var Bt=bt.dehydrated;Bt!==null&&Se(Bt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(s(163))}yd||m.flags&512&&kS(m)}catch(Sn){Yo(m,m.return,Sn)}}if(m===p){Pt=null;break}if(C=m.sibling,C!==null){C.return=m.return,Pt=C;break}Pt=m.return}}function $R(p){for(;Pt!==null;){var m=Pt;if(m===p){Pt=null;break}var C=m.sibling;if(C!==null){C.return=m.return,Pt=C;break}Pt=m.return}}function UR(p){for(;Pt!==null;){var m=Pt;try{switch(m.tag){case 0:case 11:case 15:var C=m.return;try{U0(4,m)}catch(et){Yo(m,C,et)}break;case 1:var A=m.stateNode;if(typeof A.componentDidMount=="function"){var I=m.return;try{A.componentDidMount()}catch(et){Yo(m,I,et)}}var U=m.return;try{kS(m)}catch(et){Yo(m,U,et)}break;case 5:var ne=m.return;try{kS(m)}catch(et){Yo(m,ne,et)}}}catch(et){Yo(m,m.return,et)}if(m===p){Pt=null;break}var Ce=m.sibling;if(Ce!==null){Ce.return=m.return,Pt=Ce;break}Pt=m.return}}var R1=0,A1=1,P1=2,N1=3,I1=4;if(typeof Symbol=="function"&&Symbol.for){var B0=Symbol.for;R1=B0("selector.component"),A1=B0("selector.has_pseudo_class"),P1=B0("selector.role"),N1=B0("selector.test_id"),I1=B0("selector.text")}function GS(p){var m=he(p);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(s(364));return m}if(p=ee(p),p===null)throw Error(s(362));return p.stateNode.current}function WS(p,m){switch(m.$$typeof){case R1:if(p.type===m.value)return!0;break;case A1:e:{m=m.value,p=[p,0];for(var C=0;C<p.length;){var A=p[C++],I=p[C++],U=m[I];if(A.tag!==5||!Ae(A)){for(;U!=null&&WS(A,U);)I++,U=m[I];if(I===m.length){m=!0;break e}else for(A=A.child;A!==null;)p.push(A,I),A=A.sibling}}m=!1}return m;case P1:if(p.tag===5&&Fe(p.stateNode,m.value))return!0;break;case I1:if((p.tag===5||p.tag===6)&&(p=Ne(p),p!==null&&0<=p.indexOf(m.value)))return!0;break;case N1:if(p.tag===5&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function jS(p){switch(p.$$typeof){case R1:return"<"+(T(p.value)||"Unknown")+">";case A1:return":has("+(jS(p)||"")+")";case P1:return'[role="'+p.value+'"]';case I1:return'"'+p.value+'"';case N1:return'[data-testname="'+p.value+'"]';default:throw Error(s(365))}}function BR(p,m){var C=[];p=[p,0];for(var A=0;A<p.length;){var I=p[A++],U=p[A++],ne=m[U];if(I.tag!==5||!Ae(I)){for(;ne!=null&&WS(I,ne);)U++,ne=m[U];if(U===m.length)C.push(I);else for(I=I.child;I!==null;)p.push(I,U),I=I.sibling}}return C}function XS(p,m){if(!z)throw Error(s(363));p=GS(p),p=BR(p,m),m=[],p=Array.from(p);for(var C=0;C<p.length;){var A=p[C++];if(A.tag===5)Ae(A)||m.push(A.stateNode);else for(A=A.child;A!==null;)p.push(A),A=A.sibling}return m}var pq=Math.ceil,O1=a.ReactCurrentDispatcher,qS=a.ReactCurrentOwner,ii=a.ReactCurrentBatchConfig,On=0,hi=null,pi=null,Zi=0,bs=0,vh=nr(0),Ci=0,k0=null,yh=0,L1=0,KS=0,z0=null,qo=null,YS=0,ZS=1/0;function xh(){ZS=Rn()+500}var D1=!1,QS=null,Xc=null,F1=!1,qc=null,$1=0,V0=0,JS=null,U1=-1,B1=0;function Do(){return On&6?Rn():U1!==-1?U1:U1=Rn()}function Kc(p){return p.mode&1?On&2&&Zi!==0?Zi&-Zi:YX.transition!==null?(B1===0&&(p=Hc,Hc<<=1,!(Hc&4194240)&&(Hc=64),B1=p),B1):(p=Un,p!==0?p:ue()):1}function Ys(p,m,C){if(50<V0)throw V0=0,JS=null,Error(s(185));var A=k1(p,m);return A===null?null:(pl(A,m,C),(!(On&2)||A!==hi)&&(A===hi&&(!(On&2)&&(L1|=m),Ci===4&&Yc(A,Zi)),Ko(A,C),m===1&&On===0&&!(p.mode&1)&&(xh(),n1&&vl())),A)}function k1(p,m){p.lanes|=m;var C=p.alternate;for(C!==null&&(C.lanes|=m),C=p,p=p.return;p!==null;)p.childLanes|=m,C=p.alternate,C!==null&&(C.childLanes|=m),C=p,p=p.return;return C.tag===3?C.stateNode:null}function Ko(p,m){var C=p.callbackNode;fl(p,m);var A=Xl(p,p===hi?Zi:0);if(A===0)C!==null&&bn(C),p.callbackNode=null,p.callbackPriority=0;else if(m=A&-A,p.callbackPriority!==m){if(C!=null&&bn(C),m===1)p.tag===0?KX(zR.bind(null,p)):TM(zR.bind(null,p)),ge?j(function(){On===0&&vl()}):Ut(Gc,vl),C=null;else{switch(oh(A)){case 1:C=Gc;break;case 4:C=E0;break;case 16:C=sh;break;case 536870912:C=ah;break;default:C=sh}C=YR(C,kR.bind(null,p))}p.callbackPriority=m,p.callbackNode=C}}function kR(p,m){if(U1=-1,B1=0,On&6)throw Error(s(327));var C=p.callbackNode;if(_d()&&p.callbackNode!==C)return null;var A=Xl(p,p===hi?Zi:0);if(A===0)return null;if(A&30||A&p.expiredLanes||m)m=z1(p,A);else{m=A;var I=On;On|=2;var U=GR();(hi!==p||Zi!==m)&&(xh(),bd(p,m));do try{vq();break}catch(Ce){HR(p,Ce)}while(1);fS(),O1.current=U,On=I,pi!==null?m=0:(hi=null,Zi=0,m=Ci)}if(m!==0){if(m===2&&(I=Kl(p),I!==0&&(A=I,m=e4(p,I))),m===1)throw C=k0,bd(p,0),Yc(p,A),Ko(p,Rn()),C;if(m===6)Yc(p,A);else{if(I=p.current.alternate,!(A&30)&&!mq(I)&&(m=z1(p,A),m===2&&(U=Kl(p),U!==0&&(A=U,m=e4(p,U))),m===1))throw C=k0,bd(p,0),Yc(p,A),Ko(p,Rn()),C;switch(p.finishedWork=I,p.finishedLanes=A,m){case 0:case 1:throw Error(s(345));case 2:Sd(p,qo);break;case 3:if(Yc(p,A),(A&130023424)===A&&(m=YS+500-Rn(),10<m)){if(Xl(p,0)!==0)break;if(I=p.suspendedLanes,(I&A)!==A){Do(),p.pingedLanes|=p.suspendedLanes&I;break}p.timeoutHandle=ie(Sd.bind(null,p,qo),m);break}Sd(p,qo);break;case 4:if(Yc(p,A),(A&4194240)===A)break;for(m=p.eventTimes,I=-1;0<A;){var ne=31-br(A);U=1<<ne,ne=m[ne],ne>I&&(I=ne),A&=~U}if(A=I,A=Rn()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*pq(A/1960))-A,10<A){p.timeoutHandle=ie(Sd.bind(null,p,qo),A);break}Sd(p,qo);break;case 5:Sd(p,qo);break;default:throw Error(s(329))}}}return Ko(p,Rn()),p.callbackNode===C?kR.bind(null,p):null}function e4(p,m){var C=z0;return p.current.memoizedState.isDehydrated&&(bd(p,m).flags|=256),p=z1(p,m),p!==2&&(m=qo,qo=C,m!==null&&t4(m)),p}function t4(p){qo===null?qo=p:qo.push.apply(qo,p)}function mq(p){for(var m=p;;){if(m.flags&16384){var C=m.updateQueue;if(C!==null&&(C=C.stores,C!==null))for(var A=0;A<C.length;A++){var I=C[A],U=I.getSnapshot;I=I.value;try{if(!gl(U(),I))return!1}catch{return!1}}}if(C=m.child,m.subtreeFlags&16384&&C!==null)C.return=m,m=C;else{if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Yc(p,m){for(m&=~KS,m&=~L1,p.suspendedLanes|=m,p.pingedLanes&=~m,p=p.expirationTimes;0<m;){var C=31-br(m),A=1<<C;p[C]=-1,m&=~A}}function zR(p){if(On&6)throw Error(s(327));_d();var m=Xl(p,0);if(!(m&1))return Ko(p,Rn()),null;var C=z1(p,m);if(p.tag!==0&&C===2){var A=Kl(p);A!==0&&(m=A,C=e4(p,A))}if(C===1)throw C=k0,bd(p,0),Yc(p,m),Ko(p,Rn()),C;if(C===6)throw Error(s(345));return p.finishedWork=p.current.alternate,p.finishedLanes=m,Sd(p,qo),Ko(p,Rn()),null}function VR(p){qc!==null&&qc.tag===0&&!(On&6)&&_d();var m=On;On|=1;var C=ii.transition,A=Un;try{if(ii.transition=null,Un=1,p)return p()}finally{Un=A,ii.transition=C,On=m,!(On&6)&&vl()}}function n4(){bs=vh.current,Vt(vh)}function bd(p,m){p.finishedWork=null,p.finishedLanes=0;var C=p.timeoutHandle;if(C!==ve&&(p.timeoutHandle=ve,le(C)),pi!==null)for(C=pi.return;C!==null;){var A=C;switch(xS(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&It();break;case 3:mh(),Vt(Lt),Vt(rn),TS();break;case 5:CS(A);break;case 4:mh();break;case 13:Vt(Ur);break;case 19:Vt(Ur);break;case 10:hS(A.type._context);break;case 22:case 23:n4()}C=C.return}if(hi=p,pi=p=Zc(p.current,null),Zi=bs=m,Ci=0,k0=null,KS=L1=yh=0,qo=z0=null,yl!==null){for(m=0;m<yl.length;m++)if(C=yl[m],A=C.interleaved,A!==null){C.interleaved=null;var I=A.next,U=C.pending;if(U!==null){var ne=U.next;U.next=I,A.next=ne}C.pending=A}yl=null}return p}function HR(p,m){do{var C=pi;try{if(fS(),h1.current=x1,p1){for(var A=jr.memoizedState;A!==null;){var I=A.queue;I!==null&&(I.pending=null),A=A.next}p1=!1}if(gh=0,Di=po=jr=null,N0=!1,I0=0,qS.current=null,C===null||C.return===null){Ci=1,k0=m,pi=null;break}e:{var U=p,ne=C.return,Ce=C,et=m;if(m=Zi,Ce.flags|=32768,et!==null&&typeof et=="object"&&typeof et.then=="function"){var bt=et,Bt=Ce,Sn=Bt.tag;if(!(Bt.mode&1)&&(Sn===0||Sn===11||Sn===15)){var on=Bt.alternate;on?(Bt.updateQueue=on.updateQueue,Bt.memoizedState=on.memoizedState,Bt.lanes=on.lanes):(Bt.updateQueue=null,Bt.memoizedState=null)}var gr=uR(ne);if(gr!==null){gr.flags&=-257,dR(gr,ne,Ce,U,m),gr.mode&1&&cR(U,bt,m),m=gr,et=bt;var Jt=m.updateQueue;if(Jt===null){var vo=new Set;vo.add(et),m.updateQueue=vo}else Jt.add(et);break e}else{if(!(m&1)){cR(U,bt,m),r4();break e}et=Error(s(426))}}else if(Or&&Ce.mode&1){var Qs=uR(ne);if(Qs!==null){!(Qs.flags&65536)&&(Qs.flags|=256),dR(Qs,ne,Ce,U,m),_S(et);break e}}U=et,Ci!==4&&(Ci=2),z0===null?z0=[U]:z0.push(U),et=OS(et,Ce),Ce=ne;do{switch(Ce.tag){case 3:Ce.flags|=65536,m&=-m,Ce.lanes|=m;var Ue=aR(Ce,et,m);AM(Ce,Ue);break e;case 1:U=et;var Me=Ce.type,je=Ce.stateNode;if(!(Ce.flags&128)&&(typeof Me.getDerivedStateFromError=="function"||je!==null&&typeof je.componentDidCatch=="function"&&(Xc===null||!Xc.has(je)))){Ce.flags|=65536,m&=-m,Ce.lanes|=m;var Ot=lR(Ce,U,m);AM(Ce,Ot);break e}}Ce=Ce.return}while(Ce!==null)}jR(C)}catch(Yt){m=Yt,pi===C&&C!==null&&(pi=C=C.return);continue}break}while(1)}function GR(){var p=O1.current;return O1.current=x1,p===null?x1:p}function r4(){(Ci===0||Ci===3||Ci===2)&&(Ci=4),hi===null||!(yh&268435455)&&!(L1&268435455)||Yc(hi,Zi)}function z1(p,m){var C=On;On|=2;var A=GR();hi===p&&Zi===m||bd(p,m);do try{gq();break}catch(I){HR(p,I)}while(1);if(fS(),On=C,O1.current=A,pi!==null)throw Error(s(261));return hi=null,Zi=0,Ci}function gq(){for(;pi!==null;)WR(pi)}function vq(){for(;pi!==null&&!Ir();)WR(pi)}function WR(p){var m=KR(p.alternate,p,bs);p.memoizedProps=p.pendingProps,m===null?jR(p):pi=m,qS.current=null}function jR(p){var m=p;do{var C=m.alternate;if(p=m.return,m.flags&32768){if(C=cq(C,m),C!==null){C.flags&=32767,pi=C;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{Ci=6,pi=null;return}}else if(C=sq(C,m,bs),C!==null){pi=C;return}if(m=m.sibling,m!==null){pi=m;return}pi=m=p}while(m!==null);Ci===0&&(Ci=5)}function Sd(p,m){var C=Un,A=ii.transition;try{ii.transition=null,Un=1,yq(p,m,C)}finally{ii.transition=A,Un=C}return null}function yq(p,m,C){do _d();while(qc!==null);if(On&6)throw Error(s(327));var A=p.finishedWork,I=p.finishedLanes;if(A===null)return null;if(p.finishedWork=null,p.finishedLanes=0,A===p.current)throw Error(s(177));p.callbackNode=null,p.callbackPriority=0;var U=A.lanes|A.childLanes;if(C0(p,U),p===hi&&(pi=hi=null,Zi=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||F1||(F1=!0,YR(sh,function(){return _d(),null})),U=(A.flags&15990)!==0,A.subtreeFlags&15990||U){U=ii.transition,ii.transition=null;var ne=Un;Un=1;var Ce=On;On|=4,qS.current=null,dq(p,A),fq(p,A),G(p.containerInfo),p.current=A,hq(A),ri(),On=Ce,Un=ne,ii.transition=U}else p.current=A;if(F1&&(F1=!1,qc=p,$1=I),U=p.pendingLanes,U===0&&(Xc=null),XX(A.stateNode),Ko(p,Rn()),m!==null)for(C=p.onRecoverableError,A=0;A<m.length;A++)C(m[A]);if(D1)throw D1=!1,p=QS,QS=null,p;return $1&1&&p.tag!==0&&_d(),U=p.pendingLanes,U&1?p===JS?V0++:(V0=0,JS=p):V0=0,vl(),null}function _d(){if(qc!==null){var p=oh($1),m=ii.transition,C=Un;try{if(ii.transition=null,Un=16>p?16:p,qc===null)var A=!1;else{if(p=qc,qc=null,$1=0,On&6)throw Error(s(331));var I=On;for(On|=4,Pt=p.current;Pt!==null;){var U=Pt,ne=U.child;if(Pt.flags&16){var Ce=U.deletions;if(Ce!==null){for(var et=0;et<Ce.length;et++){var bt=Ce[et];for(Pt=bt;Pt!==null;){var Bt=Pt;switch(Bt.tag){case 0:case 11:case 15:xd(8,Bt,U)}var Sn=Bt.child;if(Sn!==null)Sn.return=Bt,Pt=Sn;else for(;Pt!==null;){Bt=Pt;var on=Bt.sibling,gr=Bt.return;if(PR(Bt),Bt===bt){Pt=null;break}if(on!==null){on.return=gr,Pt=on;break}Pt=gr}}}var Jt=U.alternate;if(Jt!==null){var vo=Jt.child;if(vo!==null){Jt.child=null;do{var Qs=vo.sibling;vo.sibling=null,vo=Qs}while(vo!==null)}}Pt=U}}if(U.subtreeFlags&2064&&ne!==null)ne.return=U,Pt=ne;else e:for(;Pt!==null;){if(U=Pt,U.flags&2048)switch(U.tag){case 0:case 11:case 15:xd(9,U,U.return)}var Ue=U.sibling;if(Ue!==null){Ue.return=U.return,Pt=Ue;break e}Pt=U.return}}var Me=p.current;for(Pt=Me;Pt!==null;){ne=Pt;var je=ne.child;if(ne.subtreeFlags&2064&&je!==null)je.return=ne,Pt=je;else e:for(ne=Me;Pt!==null;){if(Ce=Pt,Ce.flags&2048)try{switch(Ce.tag){case 0:case 11:case 15:U0(9,Ce)}}catch(Yt){Yo(Ce,Ce.return,Yt)}if(Ce===ne){Pt=null;break e}var Ot=Ce.sibling;if(Ot!==null){Ot.return=Ce.return,Pt=Ot;break e}Pt=Ce.return}}if(On=I,vl(),ml&&typeof ml.onPostCommitFiberRoot=="function")try{ml.onPostCommitFiberRoot(t1,p)}catch{}A=!0}return A}finally{Un=C,ii.transition=m}}return!1}function XR(p,m,C){m=OS(C,m),m=aR(p,m,1),jc(p,m),m=Do(),p=k1(p,1),p!==null&&(pl(p,1,m),Ko(p,m))}function Yo(p,m,C){if(p.tag===3)XR(p,p,C);else for(;m!==null;){if(m.tag===3){XR(m,p,C);break}else if(m.tag===1){var A=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Xc===null||!Xc.has(A))){p=OS(C,p),p=lR(m,p,1),jc(m,p),p=Do(),m=k1(m,1),m!==null&&(pl(m,1,p),Ko(m,p));break}}m=m.return}}function xq(p,m,C){var A=p.pingCache;A!==null&&A.delete(m),m=Do(),p.pingedLanes|=p.suspendedLanes&C,hi===p&&(Zi&C)===C&&(Ci===4||Ci===3&&(Zi&130023424)===Zi&&500>Rn()-YS?bd(p,0):KS|=C),Ko(p,m)}function qR(p,m){m===0&&(p.mode&1?(m=Yi,Yi<<=1,!(Yi&130023424)&&(Yi=4194304)):m=1);var C=Do();p=k1(p,m),p!==null&&(pl(p,m,C),Ko(p,C))}function bq(p){var m=p.memoizedState,C=0;m!==null&&(C=m.retryLane),qR(p,C)}function Sq(p,m){var C=0;switch(p.tag){case 13:var A=p.stateNode,I=p.memoizedState;I!==null&&(C=I.retryLane);break;case 19:A=p.stateNode;break;default:throw Error(s(314))}A!==null&&A.delete(m),qR(p,C)}var KR;KR=function(p,m,C){if(p!==null)if(p.memoizedProps!==m.pendingProps||Lt.current)xs=!0;else{if(!(p.lanes&C)&&!(m.flags&128))return xs=!1,lq(p,m,C);xs=!!(p.flags&131072)}else xs=!1,Or&&m.flags&1048576&&DM(m,u1,m.index);switch(m.lanes=0,m.tag){case 2:var A=m.type;p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),p=m.pendingProps;var I=Qt(m,rn.current);ch(m,C),I=RS(null,m,A,p,I,C);var U=AS();return m.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Dt(A)?(U=!0,Gn(m)):U=!1,m.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,mS(m),I.updater=l1,m.stateNode=I,I._reactInternals=m,vS(m,A,p,C),m=FS(null,m,A,!0,U,C)):(m.tag=0,Or&&U&&yS(m),Lo(null,m,I,C),m=m.child),m;case 16:A=m.elementType;e:{switch(p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),p=m.pendingProps,I=A._init,A=I(A._payload),m.type=A,I=m.tag=wq(A),p=Pa(A,p),I){case 0:m=DS(null,m,A,p,C);break e;case 1:m=xR(null,m,A,p,C);break e;case 11:m=pR(null,m,A,p,C);break e;case 14:m=mR(null,m,A,Pa(A.type,p),C);break e}throw Error(s(306,A,""))}return m;case 0:return A=m.type,I=m.pendingProps,I=m.elementType===A?I:Pa(A,I),DS(p,m,A,I,C);case 1:return A=m.type,I=m.pendingProps,I=m.elementType===A?I:Pa(A,I),xR(p,m,A,I,C);case 3:e:{if(bR(m),p===null)throw Error(s(387));A=m.pendingProps,U=m.memoizedState,I=U.element,RM(p,m),a1(m,A,null,C);var ne=m.memoizedState;if(A=ne.element,fe&&U.isDehydrated)if(U={element:A,isDehydrated:!1,cache:ne.cache,transitions:ne.transitions},m.updateQueue.baseState=U,m.memoizedState=U,m.flags&256){I=Error(s(423)),m=SR(p,m,A,C,I);break e}else if(A!==I){I=Error(s(424)),m=SR(p,m,A,C,I);break e}else for(fe&&(ys=ar(m.stateNode.containerInfo),vs=m,Or=!0,Na=null,T0=!1),C=zM(m,null,A,C),m.child=C;C;)C.flags=C.flags&-3|4096,C=C.sibling;else{if(fh(),A===I){m=tc(p,m,C);break e}Lo(p,m,A,C)}m=m.child}return m;case 5:return VM(m),p===null&&SS(m),A=m.type,I=m.pendingProps,U=p!==null?p.memoizedProps:null,ne=I.children,te(A,I)?ne=null:U!==null&&te(A,U)&&(m.flags|=32),yR(p,m),Lo(p,m,ne,C),m.child;case 6:return p===null&&SS(m),null;case 13:return _R(p,m,C);case 4:return wS(m,m.stateNode.containerInfo),A=m.pendingProps,p===null?m.child=hh(m,null,A,C):Lo(p,m,A,C),m.child;case 11:return A=m.type,I=m.pendingProps,I=m.elementType===A?I:Pa(A,I),pR(p,m,A,I,C);case 7:return Lo(p,m,m.pendingProps,C),m.child;case 8:return Lo(p,m,m.pendingProps.children,C),m.child;case 12:return Lo(p,m,m.pendingProps.children,C),m.child;case 10:e:{if(A=m.type._context,I=m.pendingProps,U=m.memoizedProps,ne=I.value,MM(m,A,ne),U!==null)if(gl(U.value,ne)){if(U.children===I.children&&!Lt.current){m=tc(p,m,C);break e}}else for(U=m.child,U!==null&&(U.return=m);U!==null;){var Ce=U.dependencies;if(Ce!==null){ne=U.child;for(var et=Ce.firstContext;et!==null;){if(et.context===A){if(U.tag===1){et=Zl(-1,C&-C),et.tag=2;var bt=U.updateQueue;if(bt!==null){bt=bt.shared;var Bt=bt.pending;Bt===null?et.next=et:(et.next=Bt.next,Bt.next=et),bt.pending=et}}U.lanes|=C,et=U.alternate,et!==null&&(et.lanes|=C),pS(U.return,C,m),Ce.lanes|=C;break}et=et.next}}else if(U.tag===10)ne=U.type===m.type?null:U.child;else if(U.tag===18){if(ne=U.return,ne===null)throw Error(s(341));ne.lanes|=C,Ce=ne.alternate,Ce!==null&&(Ce.lanes|=C),pS(ne,C,m),ne=U.sibling}else ne=U.child;if(ne!==null)ne.return=U;else for(ne=U;ne!==null;){if(ne===m){ne=null;break}if(U=ne.sibling,U!==null){U.return=ne.return,ne=U;break}ne=ne.return}U=ne}Lo(p,m,I.children,C),m=m.child}return m;case 9:return I=m.type,A=m.pendingProps.children,ch(m,C),I=Ws(I),A=A(I),m.flags|=1,Lo(p,m,A,C),m.child;case 14:return A=m.type,I=Pa(A,m.pendingProps),I=Pa(A.type,I),mR(p,m,A,I,C);case 15:return gR(p,m,m.type,m.pendingProps,C);case 17:return A=m.type,I=m.pendingProps,I=m.elementType===A?I:Pa(A,I),p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,Dt(A)?(p=!0,Gn(m)):p=!1,ch(m,C),OM(m,A,I),vS(m,A,I,C),FS(null,m,A,!0,p,C);case 19:return TR(p,m,C);case 22:return vR(p,m,C)}throw Error(s(156,m.tag))};function YR(p,m){return Ut(p,m)}function _q(p,m,C,A){this.tag=p,this.key=C,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zs(p,m,C,A){return new _q(p,m,C,A)}function i4(p){return p=p.prototype,!(!p||!p.isReactComponent)}function wq(p){if(typeof p=="function")return i4(p)?1:0;if(p!=null){if(p=p.$$typeof,p===x)return 11;if(p===_)return 14}return 2}function Zc(p,m){var C=p.alternate;return C===null?(C=Zs(p.tag,m,p.key,p.mode),C.elementType=p.elementType,C.type=p.type,C.stateNode=p.stateNode,C.alternate=p,p.alternate=C):(C.pendingProps=m,C.type=p.type,C.flags=0,C.subtreeFlags=0,C.deletions=null),C.flags=p.flags&14680064,C.childLanes=p.childLanes,C.lanes=p.lanes,C.child=p.child,C.memoizedProps=p.memoizedProps,C.memoizedState=p.memoizedState,C.updateQueue=p.updateQueue,m=p.dependencies,C.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},C.sibling=p.sibling,C.index=p.index,C.ref=p.ref,C}function V1(p,m,C,A,I,U){var ne=2;if(A=p,typeof p=="function")i4(p)&&(ne=1);else if(typeof p=="string")ne=5;else e:switch(p){case u:return wd(C.children,I,U,m);case d:ne=8,I|=8;break;case f:return p=Zs(12,C,m,I|2),p.elementType=f,p.lanes=U,p;case b:return p=Zs(13,C,m,I),p.elementType=b,p.lanes=U,p;case v:return p=Zs(19,C,m,I),p.elementType=v,p.lanes=U,p;case w:return H1(C,I,U,m);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case h:ne=10;break e;case g:ne=9;break e;case x:ne=11;break e;case _:ne=14;break e;case S:ne=16,A=null;break e}throw Error(s(130,p==null?p:typeof p,""))}return m=Zs(ne,C,m,I),m.elementType=p,m.type=A,m.lanes=U,m}function wd(p,m,C,A){return p=Zs(7,p,A,m),p.lanes=C,p}function H1(p,m,C,A){return p=Zs(22,p,A,m),p.elementType=w,p.lanes=C,p.stateNode={},p}function o4(p,m,C){return p=Zs(6,p,null,m),p.lanes=C,p}function s4(p,m,C){return m=Zs(4,p.children!==null?p.children:[],p.key,m),m.lanes=C,m.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},m}function Cq(p,m,C,A,I){this.tag=m,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ve,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hl(0),this.expirationTimes=hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hl(0),this.identifierPrefix=A,this.onRecoverableError=I,fe&&(this.mutableSourceEagerHydrationData=null)}function ZR(p,m,C,A,I,U,ne,Ce,et){return p=new Cq(p,m,C,Ce,et),m===1?(m=1,U===!0&&(m|=8)):m=0,U=Zs(3,null,null,m),p.current=U,U.stateNode=p,U.memoizedState={element:A,isDehydrated:C,cache:null,transitions:null},mS(U),p}function QR(p){if(!p)return Nr;p=p._reactInternals;e:{if(R(p)!==p||p.tag!==1)throw Error(s(170));var m=p;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Dt(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(s(171))}if(p.tag===1){var C=p.type;if(Dt(C))return $n(p,C,m)}return m}function JR(p){var m=p._reactInternals;if(m===void 0)throw typeof p.render=="function"?Error(s(188)):(p=Object.keys(p).join(","),Error(s(268,p)));return p=$(m),p===null?null:p.stateNode}function eA(p,m){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var C=p.retryLane;p.retryLane=C!==0&&C<m?C:m}}function a4(p,m){eA(p,m),(p=p.alternate)&&eA(p,m)}function Eq(p){return p=$(p),p===null?null:p.stateNode}function Tq(){return null}return n.attemptContinuousHydration=function(p){if(p.tag===13){var m=Do();Ys(p,134217728,m),a4(p,134217728)}},n.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13){var m=Do(),C=Kc(p);Ys(p,C,m),a4(p,C)}},n.attemptSynchronousHydration=function(p){switch(p.tag){case 3:var m=p.stateNode;if(m.current.memoizedState.isDehydrated){var C=Oo(m.pendingLanes);C!==0&&(pd(m,C|1),Ko(m,Rn()),!(On&6)&&(xh(),vl()))}break;case 13:var A=Do();VR(function(){return Ys(p,1,A)}),a4(p,1)}},n.batchedUpdates=function(p,m){var C=On;On|=1;try{return p(m)}finally{On=C,On===0&&(xh(),n1&&vl())}},n.createComponentSelector=function(p){return{$$typeof:R1,value:p}},n.createContainer=function(p,m,C,A,I,U,ne){return ZR(p,m,!1,null,C,A,I,U,ne)},n.createHasPseudoClassSelector=function(p){return{$$typeof:A1,value:p}},n.createHydrationContainer=function(p,m,C,A,I,U,ne,Ce,et){return p=ZR(C,A,!0,p,I,U,ne,Ce,et),p.context=QR(null),C=p.current,A=Do(),I=Kc(C),U=Zl(A,I),U.callback=m??null,jc(C,U),p.current.lanes=I,pl(p,I,A),Ko(p,A),p},n.createPortal=function(p,m,C){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:A==null?null:""+A,children:p,containerInfo:m,implementation:C}},n.createRoleSelector=function(p){return{$$typeof:P1,value:p}},n.createTestNameSelector=function(p){return{$$typeof:N1,value:p}},n.createTextSelector=function(p){return{$$typeof:I1,value:p}},n.deferredUpdates=function(p){var m=Un,C=ii.transition;try{return ii.transition=null,Un=16,p()}finally{Un=m,ii.transition=C}},n.discreteUpdates=function(p,m,C,A,I){var U=Un,ne=ii.transition;try{return ii.transition=null,Un=1,p(m,C,A,I)}finally{Un=U,ii.transition=ne,On===0&&xh()}},n.findAllNodes=XS,n.findBoundingRects=function(p,m){if(!z)throw Error(s(363));m=XS(p,m),p=[];for(var C=0;C<m.length;C++)p.push(xe(m[C]));for(m=p.length-1;0<m;m--){C=p[m];for(var A=C.x,I=A+C.width,U=C.y,ne=U+C.height,Ce=m-1;0<=Ce;Ce--)if(m!==Ce){var et=p[Ce],bt=et.x,Bt=bt+et.width,Sn=et.y,on=Sn+et.height;if(A>=bt&&U>=Sn&&I<=Bt&&ne<=on){p.splice(m,1);break}else if(A!==bt||C.width!==et.width||on<U||Sn>ne){if(!(U!==Sn||C.height!==et.height||Bt<A||bt>I)){bt>A&&(et.width+=bt-A,et.x=A),Bt<I&&(et.width=I-bt),p.splice(m,1);break}}else{Sn>U&&(et.height+=Sn-U,et.y=U),on<ne&&(et.height=ne-Sn),p.splice(m,1);break}}}return p},n.findHostInstance=JR,n.findHostInstanceWithNoPortals=function(p){return p=L(p),p=p!==null?D(p):null,p===null?null:p.stateNode},n.findHostInstanceWithWarning=function(p){return JR(p)},n.flushControlled=function(p){var m=On;On|=1;var C=ii.transition,A=Un;try{ii.transition=null,Un=1,p()}finally{Un=A,ii.transition=C,On=m,On===0&&(xh(),vl())}},n.flushPassiveEffects=_d,n.flushSync=VR,n.focusWithin=function(p,m){if(!z)throw Error(s(363));for(p=GS(p),m=BR(p,m),m=Array.from(m),p=0;p<m.length;){var C=m[p++];if(!Ae(C)){if(C.tag===5&&Oe(C.stateNode))return!0;for(C=C.child;C!==null;)m.push(C),C=C.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Un},n.getFindAllNodesFailureDescription=function(p,m){if(!z)throw Error(s(363));var C=0,A=[];p=[GS(p),0];for(var I=0;I<p.length;){var U=p[I++],ne=p[I++],Ce=m[ne];if((U.tag!==5||!Ae(U))&&(WS(U,Ce)&&(A.push(jS(Ce)),ne++,ne>C&&(C=ne)),ne<m.length))for(U=U.child;U!==null;)p.push(U,ne),U=U.sibling}if(C<m.length){for(p=[];C<m.length;C++)p.push(jS(m[C]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},n.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return F(p.child.stateNode);default:return p.child.stateNode}},n.injectIntoDevTools=function(p){if(p={bundleType:p.bundleType,version:p.version,rendererPackageName:p.rendererPackageName,rendererConfig:p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:Eq,findFiberByHostInstance:p.findFiberByHostInstance||Tq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)p=!0;else{try{t1=m.inject(p),ml=m}catch{}p=!!m.checkDCE}}return p},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(p,m,C,A){if(!z)throw Error(s(363));p=XS(p,m);var I=We(p,C,A).disconnect;return{disconnect:function(){I()}}},n.registerMutableSourceForHydration=function(p,m){var C=m._getVersion;C=C(m._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[m,C]:p.mutableSourceEagerHydrationData.push(m,C)},n.runWithPriority=function(p,m){var C=Un;try{return Un=p,m()}finally{Un=C}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(p,m,C,A){var I=m.current,U=Do(),ne=Kc(I);return C=QR(C),m.context===null?m.context=C:m.pendingContext=C,m=Zl(U,ne),m.payload={element:p},A=A===void 0?null:A,A!==null&&(m.callback=A),jc(I,m),p=Ys(I,ne,U),p!==null&&s1(p,I,ne),ne},n};YH.exports=O6e;var L6e=YH.exports;const D6e=Km(L6e),VT={},F6e=t=>void Object.assign(VT,t);function $6e(t,e){function n(u,{args:d=[],attach:f,...h},g){let x=`${u[0].toUpperCase()}${u.slice(1)}`,b;if(u==="primitive"){if(h.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=h.object;b=cp(v,{type:u,root:g,attach:f,primitive:!0})}else{const v=VT[x];if(!v)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");b=cp(new v(...d),{type:u,root:g,attach:f,memoizedProps:{args:d}})}return b.__r3f.attach===void 0&&(b instanceof Mn?b.__r3f.attach="geometry":b instanceof qi&&(b.__r3f.attach="material")),x!=="inject"&&p7(b,h),b}function r(u,d){let f=!1;if(d){var h,g;(h=d.__r3f)!=null&&h.attach?h7(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),f=!0),f||(g=u.__r3f)==null||g.objects.push(d),d.__r3f||cp(d,{}),d.__r3f.parent=u,gw(d),up(d)}}function i(u,d,f){let h=!1;if(d){var g,x;if((g=d.__r3f)!=null&&g.attach)h7(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"});const b=u.children.filter(_=>_!==d),v=b.indexOf(f);u.children=[...b.slice(0,v),d,...b.slice(v)],h=!0}h||(x=u.__r3f)==null||x.objects.push(d),d.__r3f||cp(d,{}),d.__r3f.parent=u,gw(d),up(d)}}function o(u,d,f=!1){u&&[...u].forEach(h=>s(d,h,f))}function s(u,d,f){if(d){var h,g,x;if(d.__r3f&&(d.__r3f.parent=null),(h=u.__r3f)!=null&&h.objects&&(u.__r3f.objects=u.__r3f.objects.filter(w=>w!==d)),(g=d.__r3f)!=null&&g.attach)$L(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var b;u.remove(d),(b=d.__r3f)!=null&&b.root&&W6e(d.__r3f.root,d)}const _=(x=d.__r3f)==null?void 0:x.primitive,S=!_&&(f===void 0?d.dispose!==null:f);if(!_){var v;o((v=d.__r3f)==null?void 0:v.objects,d,S),o(d.children,d,S)}if(delete d.__r3f,S&&d.dispose&&d.type!=="Scene"){const w=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?pw.unstable_scheduleCallback(pw.unstable_IdlePriority,w):w()}up(u)}}function a(u,d,f,h){var g;const x=(g=u.__r3f)==null?void 0:g.parent;if(!x)return;const b=n(d,f,u.__r3f.root);if(u.children){for(const v of u.children)v.__r3f&&r(b,v);u.children=u.children.filter(v=>!v.__r3f)}u.__r3f.objects.forEach(v=>r(b,v)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||s(x,u),b.parent&&(b.__r3f.autoRemovedBeforeAppend=!0),r(x,b),b.raycast&&b.__r3f.eventCount&&b.__r3f.root.getState().internal.interaction.push(b),[h,h.alternate].forEach(v=>{v!==null&&(v.stateNode=b,v.ref&&(typeof v.ref=="function"?v.ref(b):v.ref.current=b))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:D6e({createInstance:n,removeChild:s,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const f=u.getState().scene;f.__r3f&&(f.__r3f.root=u,r(f,d))},removeChildFromContainer:(u,d)=>{d&&s(u.getState().scene,d)},insertInContainerBefore:(u,d,f)=>{if(!d||!f)return;const h=u.getState().scene;h.__r3f&&i(h,d,f)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;return!!((d=u?.__r3f)!=null?d:{}).handlers},prepareUpdate(u,d,f,h){var g;if(((g=u?.__r3f)!=null?g:{}).primitive&&h.object&&h.object!==u)return[!0];{const{args:b=[],children:v,..._}=h,{args:S=[],children:w,...M}=f;if(!Array.isArray(b))throw new Error("R3F: the args prop must be an array!");if(b.some((T,N)=>T!==S[N]))return[!0];const E=oG(u,_,M,!0);return E.changes.length?[!1,E]:null}},commitUpdate(u,[d,f],h,g,x,b){d?a(u,h,x,b):p7(u,f)},commitMount(u,d,f,h){var g;const x=(g=u.__r3f)!=null?g:{};u.raycast&&x.handlers&&x.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>cp(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:f,parent:h}=(d=u.__r3f)!=null?d:{};f&&h&&$L(h,u,f),u.isObject3D&&(u.visible=!1),up(u)},unhideInstance(u,d){var f;const{attach:h,parent:g}=(f=u.__r3f)!=null?f:{};h&&g&&h7(g,u,h),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),up(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Op.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Lr.fun(performance.now)?performance.now:Lr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Lr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Lr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:p7}}var OL,LL;const f7=t=>"colorSpace"in t||"outputColorSpace"in t,JH=()=>{var t;return(t=VT.ColorManagement)!=null?t:null},eG=t=>t&&t.isOrthographicCamera,U6e=t=>t&&t.hasOwnProperty("current"),H3=typeof window<"u"&&((OL=window.document)!=null&&OL.createElement||((LL=window.navigator)==null?void 0:LL.product)==="ReactNative")?y.useLayoutEffect:y.useEffect;function tG(t){const e=y.useRef(t);return H3(()=>void(e.current=t),[t]),e}function B6e({set:t}){return H3(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class nG extends y.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}nG.getDerivedStateFromError=()=>({error:!0});const rG="__default",DL=new Map,k6e=t=>t&&!!t.memoized&&!!t.changes;function iG(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const mg=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},Lr={obj:t=>t===Object(t)&&!Lr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Lr.str(t)||Lr.num(t))return t===e;const o=Lr.obj(t);if(o&&r==="reference")return t===e;const s=Lr.arr(t);if(s&&n==="reference")return t===e;if((s||o)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(o&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!Lr.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(Lr.und(a)){if(s&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function z6e(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function cp(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function mw(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((o,s)=>o[s],t),{target:n,key:i}}else return{target:n,key:e}}const FL=/-\d+$/;function h7(t,e,n){if(Lr.str(n)){if(FL.test(n)){const o=n.replace(FL,""),{target:s,key:a}=mw(t,o);Array.isArray(s[a])||(s[a]=[])}const{target:r,key:i}=mw(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function $L(t,e,n){var r,i;if(Lr.str(n)){const{target:o,key:s}=mw(t,n),a=e.__r3f.previousAttach;a===void 0?delete o[s]:o[s]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function oG(t,{children:e,key:n,ref:r,...i},{children:o,key:s,ref:a,...l}={},c=!1){var u;const d=(u=t?.__r3f)!=null?u:{},f=Object.entries(i),h=[];if(c){const x=Object.keys(l);for(let b=0;b<x.length;b++)i.hasOwnProperty(x[b])||f.unshift([x[b],rG+"remove"])}f.forEach(([x,b])=>{var v;if((v=t.__r3f)!=null&&v.primitive&&x==="object"||Lr.equ(b,l[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return h.push([x,b,!0,[]]);let _=[];x.includes("-")&&(_=x.split("-")),h.push([x,b,!1,_]);for(const S in i){const w=i[S];S.startsWith(`${x}-`)&&h.push([S,w,!1,S.split("-")])}});const g={...i};return d.memoizedProps&&d.memoizedProps.args&&(g.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(g.attach=d.memoizedProps.attach),{memoized:g,changes:h}}const V6e=typeof process<"u"&&!1;function p7(t,e){var n,r,i;const o=(n=t.__r3f)!=null?n:{},s=o.root,a=(r=s==null||s.getState==null?void 0:s.getState())!=null?r:{},{memoized:l,changes:c}=k6e(e)?e:oG(t,e),u=o.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let f=0;f<c.length;f++){let[h,g,x,b]=c[f];if(f7(t)){const w="srgb",M="srgb-linear";h==="encoding"?(h="colorSpace",g=g===3001?w:M):h==="outputEncoding"&&(h="outputColorSpace",g=g===3001?w:M)}let v=t,_=v[h];if(b.length&&(_=b.reduce((S,w)=>S[w],t),!(_&&_.set))){const[S,...w]=b.reverse();v=w.reverse().reduce((M,E)=>M[E],t),h=S}if(g===rG+"remove")if(v.constructor){let S=DL.get(v.constructor);S||(S=new v.constructor,DL.set(v.constructor,S)),g=S[h]}else g=0;if(x)g?o.handlers[h]=g:delete o.handlers[h],o.eventCount=Object.keys(o.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof Sf)){if(Array.isArray(g))_.fromArray?_.fromArray(g):_.set(...g);else if(_.copy&&g&&g.constructor&&(V6e?_.constructor.name===g.constructor.name:_.constructor===g.constructor))_.copy(g);else if(g!==void 0){const S=_ instanceof Tt;!S&&_.setScalar?_.setScalar(g):_ instanceof Sf&&g instanceof Sf?_.mask=g.mask:_.set(g),!JH()&&!a.linear&&S&&_.convertSRGBToLinear()}}else if(v[h]=g,v[h]instanceof Hr&&v[h].format===no&&v[h].type===cs){const S=v[h];f7(S)&&f7(a.gl)?S.colorSpace=a.gl.outputColorSpace:S.encoding=a.gl.outputEncoding}up(t)}if(o.parent&&a.internal&&t.raycast&&u!==o.eventCount){const f=a.internal.interaction.indexOf(t);f>-1&&a.internal.interaction.splice(f,1),o.eventCount&&a.internal.interaction.push(t)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=t.__r3f)!=null&&i.parent&&gw(t),t}function up(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function gw(t){t.onUpdate==null||t.onUpdate(t)}function H6e(t,e){t.manual||(eG(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function yy(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function G6e(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Op.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Op.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Op.ContinuousEventPriority;default:return Op.DefaultEventPriority}}function sG(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function W6e(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{sG(n.capturedMap,e,r,i)})}function j6e(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),d=new Set,f=[],h=c?c(u.internal.interaction):u.internal.interaction;for(let v=0;v<h.length;v++){const _=mg(h[v]);_&&(_.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function g(v){const _=mg(v);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var S;_.events.compute==null||_.events.compute(l,_,(S=_.previousRoot)==null?void 0:S.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(v,!0):[]}let x=h.flatMap(g).sort((v,_)=>{const S=mg(v.object),w=mg(_.object);return!S||!w?v.distance-_.distance:w.events.priority-S.events.priority||v.distance-_.distance}).filter(v=>{const _=yy(v);return d.has(_)?!1:(d.add(_),!0)});u.events.filter&&(x=u.events.filter(x,u));for(const v of x){let _=v.object;for(;_;){var b;(b=_.__r3f)!=null&&b.eventCount&&f.push({...v,eventObject:_}),_=_.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let v of u.internal.capturedMap.get(l.pointerId).values())d.has(yy(v.intersection))||f.push(v.intersection);return f}function i(l,c,u,d){const f=t.getState();if(l.length){const h={stopped:!1};for(const g of l){const x=mg(g.object)||f,{raycaster:b,pointer:v,camera:_,internal:S}=x,w=new J(v.x,v.y,0).unproject(_),M=P=>{var L,$;return(L=($=S.capturedMap.get(P))==null?void 0:$.has(g.eventObject))!=null?L:!1},E=P=>{const L={intersection:g,target:c.target};S.capturedMap.has(P)?S.capturedMap.get(P).set(g.eventObject,L):S.capturedMap.set(P,new Map([[g.eventObject,L]])),c.target.setPointerCapture(P)},T=P=>{const L=S.capturedMap.get(P);L&&sG(S.capturedMap,g.eventObject,L,P)};let N={};for(let P in c){let L=c[P];typeof L!="function"&&(N[P]=L)}let R={...g,...N,pointer:v,intersections:l,stopped:h.stopped,delta:u,unprojectedPoint:w,ray:b.ray,camera:_,stopPropagation(){const P="pointerId"in c&&S.capturedMap.get(c.pointerId);if((!P||P.has(g.eventObject))&&(R.stopped=h.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(L=>L.eventObject===g.eventObject))){const L=l.slice(0,l.indexOf(g));o([...L,g])}},target:{hasPointerCapture:M,setPointerCapture:E,releasePointerCapture:T},currentTarget:{hasPointerCapture:M,setPointerCapture:E,releasePointerCapture:T},nativeEvent:c};if(d(R),h.stopped===!0)break}}return l}function o(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const f=u.eventObject.__r3f,h=f?.handlers;if(c.hovered.delete(yy(u)),f!=null&&f.eventCount){const g={...u,intersections:l};h.onPointerOut==null||h.onPointerOut(g),h.onPointerLeave==null||h.onPointerLeave(g)}}}function s(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),o([]))})}}return function(u){const{onPointerMissed:d,internal:f}=t.getState();f.lastEvent.current=u;const h=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",b=r(u,h?n:void 0),v=g?e(u):0;l==="onPointerDown"&&(f.initialClick=[u.offsetX,u.offsetY],f.initialHits=b.map(S=>S.eventObject)),g&&!b.length&&v<=2&&(s(u,f.interaction),d&&d(u)),h&&o(b);function _(S){const w=S.eventObject,M=w.__r3f,E=M?.handlers;if(M!=null&&M.eventCount)if(h){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const T=yy(S),N=f.hovered.get(T);N?N.stopped&&S.stopPropagation():(f.hovered.set(T,S),E.onPointerOver==null||E.onPointerOver(S),E.onPointerEnter==null||E.onPointerEnter(S))}E.onPointerMove==null||E.onPointerMove(S)}else{const T=E[l];T?(!g||f.initialHits.includes(w))&&(s(u,f.interaction.filter(N=>!f.initialHits.includes(N))),T(S)):g&&f.initialHits.includes(w)&&s(u,f.interaction.filter(N=>!f.initialHits.includes(N)))}}i(b,u,v,_)}}return{handlePointer:a}}const aG=t=>!!(t!=null&&t.render),lG=y.createContext(null),X6e=(t,e)=>{const n=I6e((a,l)=>{const c=new J,u=new J,d=new J;function f(v=l().camera,_=u,S=l().size){const{width:w,height:M,top:E,left:T}=S,N=w/M;_ instanceof J?d.copy(_):d.set(..._);const R=v.getWorldPosition(c).distanceTo(d);if(eG(v))return{width:w/v.zoom,height:M/v.zoom,top:E,left:T,factor:1,distance:R,aspect:N};{const P=v.fov*Math.PI/180,L=2*Math.tan(P/2)*R,$=L*(w/M);return{width:$,height:L,top:E,left:T,factor:w/$,distance:R,aspect:N}}}let h;const g=v=>a(_=>({performance:{..._.performance,current:v}})),x=new Xe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>t(l(),v),advance:(v,_)=>e(v,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new BT,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();h&&clearTimeout(h),v.performance.current!==v.performance.min&&g(v.performance.min),h=setTimeout(()=>g(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:v=>a(_=>({..._,events:{..._.events,...v}})),setSize:(v,_,S,w,M)=>{const E=l().camera,T={width:v,height:_,top:w||0,left:M||0,updateStyle:S};a(N=>({size:T,viewport:{...N.viewport,...f(E,u,T)}}))},setDpr:v=>a(_=>{const S=iG(v);return{viewport:{..._.viewport,dpr:S,initialDpr:_.viewport.initialDpr||S}}}),setFrameloop:(v="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,v!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:y.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,_,S)=>{const w=l().internal;return w.priority=w.priority+(_>0?1:0),w.subscribers.push({ref:v,priority:_,store:S}),w.subscribers=w.subscribers.sort((M,E)=>M.priority-E.priority),()=>{const M=l().internal;M!=null&&M.subscribers&&(M.priority=M.priority-(_>0?1:0),M.subscribers=M.subscribers.filter(E=>E.ref!==v))}}}}}),r=n.getState();let i=r.size,o=r.viewport.dpr,s=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:d}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==o){var f;i=l,o=c.dpr,H6e(a,l),u.setPixelRatio(c.dpr);const h=(f=l.updateStyle)!=null?f:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,h)}a!==s&&(s=a,d(h=>({viewport:{...h.viewport,...h.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let xy,q6e=new Set,K6e=new Set,Y6e=new Set;function m7(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function gg(t,e){switch(t){case"before":return m7(q6e,e);case"after":return m7(K6e,e);case"tail":return m7(Y6e,e)}}let g7,v7;function y7(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),g7=e.internal.subscribers,xy=0;xy<g7.length;xy++)v7=g7[xy],v7.ref.current(v7.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Z6e(t){let e=!1,n,r,i;function o(l){r=requestAnimationFrame(o),e=!0,n=0,gg("before",l);for(const u of t.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(n+=y7(l,i))}if(gg("after",l),n===0)return gg("tail",l),e=!1,cancelAnimationFrame(r)}function s(l,c=1){var u;if(!l)return t.forEach(d=>s(d.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(o)))}function a(l,c=!0,u,d){if(c&&gg("before",l),u)y7(l,u,d);else for(const f of t.values())y7(l,f.store.getState());c&&gg("after",l)}return{loop:o,invalidate:s,advance:a}}function cG(){const t=y.useContext(lG);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function uu(t=n=>n,e){return cG()(t,e)}function uG(t,e=0){const n=cG(),r=n.getState().internal.subscribe,i=tG(t);return H3(()=>r(i,e,n),[e,r,n]),null}const Gm=new Map,{invalidate:UL,advance:BL}=Z6e(Gm),{reconciler:mx,applyProps:rp}=$6e(Gm,G6e),ip={objects:"shallow",strict:!1},Q6e=(t,e)=>{const n=typeof t=="function"?t(e):t;return aG(n)?n:new gT({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function J6e(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:o,left:s,updateStyle:a=n}=e;return{width:r,height:i,top:o,left:s,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:o,left:s}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:o,left:s,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function ebe(t){const e=Gm.get(t),n=e?.fiber,r=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||X6e(UL,BL),s=n||mx.createContainer(o,Op.ConcurrentRoot,null,!1,null,"",i,null);e||Gm.set(t,{fiber:s,store:o});let a,l=!1,c;return{configure(u={}){let{gl:d,size:f,scene:h,events:g,onCreated:x,shadows:b=!1,linear:v=!1,flat:_=!1,legacy:S=!1,orthographic:w=!1,frameloop:M="always",dpr:E=[1,2],performance:T,raycaster:N,camera:R,onPointerMissed:P}=u,L=o.getState(),$=L.gl;L.gl||L.set({gl:$=Q6e(d,t)});let V=L.raycaster;V||L.set({raycaster:V=new XH});const{params:D,...H}=N||{};if(Lr.equ(H,V,ip)||rp(V,{...H}),Lr.equ(D,V.params,ip)||rp(V,{params:{...V.params,...D}}),!L.camera||L.camera===c&&!Lr.equ(c,R,ip)){c=R;const K=R instanceof F3,X=K?R:w?new Ml(0,0,0,0,.1,1e3):new Yr(75,0,.1,1e3);K||(X.position.z=5,R&&rp(X,R),!L.camera&&!(R!=null&&R.rotation)&&X.lookAt(0,0,0)),L.set({camera:X}),V.camera=X}if(!L.scene){let K;h instanceof Vm?K=h:(K=new Vm,h&&rp(K,h)),L.set({scene:cp(K)})}if(!L.xr){var F;const K=(te,oe)=>{const ie=o.getState();ie.frameloop!=="never"&&BL(te,!0,ie,oe)},X=()=>{const te=o.getState();te.gl.xr.enabled=te.gl.xr.isPresenting,te.gl.xr.setAnimationLoop(te.gl.xr.isPresenting?K:null),te.gl.xr.isPresenting||UL(te)},Y={connect(){const te=o.getState().gl;te.xr.addEventListener("sessionstart",X),te.xr.addEventListener("sessionend",X)},disconnect(){const te=o.getState().gl;te.xr.removeEventListener("sessionstart",X),te.xr.removeEventListener("sessionend",X)}};typeof((F=$.xr)==null?void 0:F.addEventListener)=="function"&&Y.connect(),L.set({xr:Y})}if($.shadowMap){const K=$.shadowMap.enabled,X=$.shadowMap.type;if($.shadowMap.enabled=!!b,Lr.boo(b))$.shadowMap.type=qg;else if(Lr.str(b)){var k;const Y={basic:_V,percentage:k6,soft:qg,variance:ka};$.shadowMap.type=(k=Y[b])!=null?k:qg}else Lr.obj(b)&&Object.assign($.shadowMap,b);(K!==$.shadowMap.enabled||X!==$.shadowMap.type)&&($.shadowMap.needsUpdate=!0)}const O=JH();O&&("enabled"in O?O.enabled=!S:"legacyMode"in O&&(O.legacyMode=S)),rp($,{outputEncoding:v?3e3:3001,toneMapping:_?Vo:sb}),L.legacy!==S&&L.set(()=>({legacy:S})),L.linear!==v&&L.set(()=>({linear:v})),L.flat!==_&&L.set(()=>({flat:_})),d&&!Lr.fun(d)&&!aG(d)&&!Lr.equ(d,$,ip)&&rp($,d),g&&!L.events.handlers&&L.set({events:g(o)});const W=J6e(t,f);return Lr.equ(W,L.size,ip)||L.setSize(W.width,W.height,W.updateStyle,W.top,W.left),E&&L.viewport.dpr!==iG(E)&&L.setDpr(E),L.frameloop!==M&&L.setFrameloop(M),L.onPointerMissed||L.set({onPointerMissed:P}),T&&!Lr.equ(T,L.performance,ip)&&L.set(K=>({performance:{...K.performance,...T}})),a=x,l=!0,this},render(u){return l||this.configure(),mx.updateContainer(y.createElement(tbe,{store:o,children:u,onCreated:a,rootElement:t}),s,null,()=>{}),o},unmount(){dG(t)}}}function tbe({store:t,children:e,onCreated:n,rootElement:r}){return H3(()=>{const i=t.getState();i.set(o=>({internal:{...o.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),y.createElement(lG.Provider,{value:t},e)}function dG(t,e){const n=Gm.get(t),r=n?.fiber;if(r){const i=n?.store.getState();i&&(i.internal.active=!1),mx.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,s,a,l;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(s=o.renderLists)==null||s.dispose==null||s.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),z6e(i),Gm.delete(t),e&&e(t)}catch{}},500)})}}mx.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:y.version});function vw(t,e,n){var r,i,o,s,a;e==null&&(e=100);function l(){var u=Date.now()-s;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(o,i),o=i=null))}var c=function(){o=this,i=arguments,s=Date.now();var u=n&&!r;return r||(r=setTimeout(l,e)),u&&(a=t.apply(o,i),o=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}vw.debounce=vw;var nbe=vw;const kL=Km(nbe);function rbe(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const o=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=y.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=y.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,d=y.useRef(!1);y.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[f,h,g]=y.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:S,top:w,width:M,height:E,bottom:T,right:N,x:R,y:P}=l.current.element.getBoundingClientRect(),L={left:S,top:w,width:M,height:E,bottom:T,right:N,x:R,y:P};l.current.element instanceof HTMLElement&&i&&(L.height=l.current.element.offsetHeight,L.width=l.current.element.offsetWidth),Object.freeze(L),d.current&&!abe(l.current.lastBounds,L)&&a(l.current.lastBounds=L)};return[_,u?kL(_,u):_,c?kL(_,c):_]},[a,i,c,u]);function x(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function b(){l.current.element&&(l.current.resizeObserver=new o(g),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",g,{capture:!0,passive:!0})))}const v=_=>{!_||_===l.current.element||(x(),l.current.element=_,l.current.scrollContainers=fG(_),b())};return obe(g,!!n),ibe(h),y.useEffect(()=>{x(),b()},[n,g,h]),y.useEffect(()=>x,[]),[v,s,f]}function ibe(t){y.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function obe(t,e){y.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function fG(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...fG(t.parentElement)]}const sbe=["x","y","top","bottom","left","right","width","height"],abe=(t,e)=>sbe.every(n=>t[n]===e[n]);var lbe=Object.defineProperty,cbe=Object.defineProperties,ube=Object.getOwnPropertyDescriptors,zL=Object.getOwnPropertySymbols,dbe=Object.prototype.hasOwnProperty,fbe=Object.prototype.propertyIsEnumerable,VL=(t,e,n)=>e in t?lbe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,HL=(t,e)=>{for(var n in e||(e={}))dbe.call(e,n)&&VL(t,n,e[n]);if(zL)for(var n of zL(e))fbe.call(e,n)&&VL(t,n,e[n]);return t},hbe=(t,e)=>cbe(t,ube(e));function hG(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=hG(r,e,n);if(i)return i;r=e?null:r.sibling}}function pG(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const HT=pG(y.createContext(null));class mG extends y.Component{render(){return y.createElement(HT.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:GL,ReactCurrentDispatcher:WL}=y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function pbe(){const t=y.useContext(HT);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=y.useId();return y.useMemo(()=>{for(const r of[GL?.current,t,t?.alternate]){if(!r)continue;const i=hG(r,!1,o=>{let s=o.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[t,e])}function mbe(){var t,e;const n=pbe(),[r]=y.useState(()=>new Map);r.clear();let i=n;for(;i;){const o=(t=i.type)==null?void 0:t._context;o&&o!==HT&&!r.has(o)&&r.set(o,(e=WL?.current)==null?void 0:e.readContext(pG(o))),i=i.return}return r}function gbe(){const t=mbe();return y.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>y.createElement(e,null,y.createElement(n.Provider,hbe(HL({},r),{value:t.get(n)}))),e=>y.createElement(mG,HL({},e))),[t])}const x7={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function vbe(t){const{handlePointer:e}=j6e(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(x7).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:o}=t.getState();o.disconnect==null||o.disconnect(),i(s=>({events:{...s.events,connected:n}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([s,a])=>{const[l,c]=x7[s];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,s])=>{if(r&&r.connected instanceof HTMLElement){const[a]=x7[o];r.connected.removeEventListener(a,s)}}),n(o=>({events:{...o.events,connected:void 0}}))}}}}const ybe=y.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:o,events:s=vbe,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:f,orthographic:h,frameloop:g,dpr:x,performance:b,raycaster:v,camera:_,scene:S,onPointerMissed:w,onCreated:M,...E},T){y.useMemo(()=>F6e(p6e),[]);const N=gbe(),[R,P]=rbe({scroll:!0,debounce:{scroll:50,resize:0},...r}),L=y.useRef(null),$=y.useRef(null);y.useImperativeHandle(T,()=>L.current);const V=tG(w),[D,H]=y.useState(!1),[F,k]=y.useState(!1);if(D)throw D;if(F)throw F;const O=y.useRef(null);H3(()=>{const G=L.current;P.width>0&&P.height>0&&G&&(O.current||(O.current=ebe(G)),O.current.configure({gl:o,events:s,shadows:c,linear:u,flat:d,legacy:f,orthographic:h,frameloop:g,dpr:x,performance:b,raycaster:v,camera:_,scene:S,size:P,onPointerMissed:(...W)=>V.current==null?void 0:V.current(...W),onCreated:W=>{W.events.connect==null||W.events.connect(a?U6e(a)?a.current:a:$.current),l&&W.setEvents({compute:(K,X)=>{const Y=K[l+"X"],te=K[l+"Y"];X.pointer.set(Y/X.size.width*2-1,-(te/X.size.height)*2+1),X.raycaster.setFromCamera(X.pointer,X.camera)}}),M?.(W)}}),O.current.render(y.createElement(N,null,y.createElement(nG,{set:k},y.createElement(y.Suspense,{fallback:y.createElement(B6e,{set:H})},e)))))}),y.useEffect(()=>{const G=L.current;if(G)return()=>dG(G)},[]);const B=a?"none":"auto";return y.createElement("div",ct({ref:$,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:B,...i}},E),y.createElement("div",{ref:R,style:{width:"100%",height:"100%"}},y.createElement("canvas",{ref:L,style:{display:"block"}},n)))}),xbe=y.forwardRef(function(e,n){return y.createElement(mG,null,y.createElement(ybe,ct({},e,{ref:n})))});var bbe=`varying lowp vec4 vColor;

uniform sampler2D density;
uniform vec3 hiCol;
uniform vec3 lowCol;

vec4 getColourFromDensity(float density)
{
  return vec4(mix(lowCol, hiCol, density), 1.0);
}

vec2 getCoordFromPoint(vec3 pos)
{
  float x = ((pos.x + (\${width} / 2.0)) / \${width});
  float y = ((-pos.y + (\${height} / 2.0)) / \${height});
  return vec2(x, y);
}

void main(void)
{
  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

  highp vec2 vTextureCoord = getCoordFromPoint(position);
  vColor = getColourFromDensity(texture2D(density, vTextureCoord).r);
}`,Sbe=`varying lowp vec4 vColor;

uniform sampler2D density;
uniform vec3 hiCol;
uniform vec3 lowCol;

vec4 getColourFromDensity(float density)
{
  return vec4(mix(lowCol, hiCol, density), 1.0);
}

vec2 getCoordFromPoint(vec3 pos)
{
  float x = ((pos.x + (\${width} / 2.0)) / \${width});
  float y = ((-pos.y + (\${height} / 2.0)) / \${height});
  return vec2(x, y);
}

void main(void)
{
  highp vec2 vTextureCoord = getCoordFromPoint(position);
  vColor = getColourFromDensity(texture2D(density, vTextureCoord).r);

	vec3 changedPosition = position;
  changedPosition.z = texture2D(density, vTextureCoord).r;

  gl_Position = projectionMatrix * modelViewMatrix * vec4( changedPosition, 1.0 );
}`,_be=`varying lowp vec4 vColor;

void main(void) {
  gl_FragColor = vColor;
}`;window.GPUShaderStage===void 0&&(window.GPUShaderStage={VERTEX:1,FRAGMENT:2,COMPUTE:4});let gG=!1;navigator.gpu!==void 0&&await navigator.gpu.requestAdapter()!==null&&(gG=!0);class wbe{static isAvailable(){return gG}static getErrorMessage(){const e='Your browser does not support <a href="https://gpuweb.github.io/gpuweb/" style="color:blue">WebGPU</a> yet',n=document.createElement("div");return n.id="webgpumessage",n.style.fontFamily="monospace",n.style.fontSize="13px",n.style.fontWeight="normal",n.style.textAlign="center",n.style.background="#fff",n.style.color="#000",n.style.padding="1.5em",n.style.maxWidth="400px",n.style.margin="5em auto 0",n.innerHTML=e,n}}const vG=wbe;class Cbe{constructor(e,n){this.nodes=e,this.info=n,this.animationLoop=null,this.requestId=null,this._init()}_init(){const e=(n,r)=>{this.requestId=self.requestAnimationFrame(e),this.nodes.nodeFrame.update(),this.info.frame=this.nodes.nodeFrame.frameId,this.animationLoop!==null&&this.animationLoop(n,r)};e()}dispose(){self.cancelAnimationFrame(this.requestId)}setAnimationLoop(e){this.animationLoop=e}}const Ebe=Cbe;class kf{constructor(){this.weakMap=new WeakMap}get(e){if(Array.isArray(e)){let n=this.weakMap;for(let r=0;r<e.length;r++)if(n=n.get(e[r]),n===void 0)return;return n.get(e[e.length-1])}else return super.get(e)}set(e,n){if(Array.isArray(e)){let r=this.weakMap;for(let i=0;i<e.length;i++){const o=e[i];r.has(o)===!1&&r.set(o,new WeakMap),r=r.get(o)}return r.set(e[e.length-1],n)}else return super.set(e,n)}delete(e){if(Array.isArray(e)){let n=this.weakMap;for(let r=0;r<e.length;r++)if(n=n.get(e[r]),n===void 0)return!1;return n.delete(e[e.length-1])}else return super.delete(e)}dispose(){this.weakMap.clear()}}let Tbe=0;class Mbe{constructor(e,n,r,i,o,s,a,l,c){this._nodes=e,this._geometries=n,this.id=Tbe++,this.renderer=r,this.object=i,this.material=o,this.scene=s,this.camera=a,this.lightsNode=l,this.context=c,this.geometry=i.geometry,this.version=o.version,this.attributes=null,this.pipeline=null,this.vertexBuffers=null,this.initialNodesCacheKey=this.getNodesCacheKey(),this.initialCacheKey=this.getCacheKey(),this._nodeBuilderState=null,this._bindings=null,this.onDispose=null,this.isRenderObject=!0,this.onMaterialDispose=()=>{this.dispose()},this.material.addEventListener("dispose",this.onMaterialDispose)}getNodeBuilderState(){return this._nodeBuilderState||(this._nodeBuilderState=this._nodes.getForRender(this))}getBindings(){return this._bindings||(this._bindings=this.getNodeBuilderState().createBindings())}getIndex(){return this._geometries.getIndex(this)}getChainArray(){return[this.object,this.material,this.context,this.lightsNode]}getAttributes(){if(this.attributes!==null)return this.attributes;const e=this.getNodeBuilderState().nodeAttributes,n=this.geometry,r=[],i=new Set;for(const o of e){const s=o.node&&o.node.attribute?o.node.attribute:n.getAttribute(o.name);r.push(s);const a=s.isInterleavedBufferAttribute?s.data:s;i.add(a)}return this.attributes=r,this.vertexBuffers=Array.from(i.values()),r}getVertexBuffers(){return this.vertexBuffers===null&&this.getAttributes(),this.vertexBuffers}getMaterialCacheKey(){const{object:e,material:n}=this;let r=n.customProgramCacheKey();for(const i in n){if(/^(is[A-Z])|^(visible|version|uuid|name|opacity|userData)$/.test(i))continue;let o=n[i];if(o!==null){const s=typeof o;s==="number"?o=o!==0?"1":"0":s==="object"&&(o="{}")}r+=o+","}return e.skeleton&&(r+=e.skeleton.uuid+","),e.morphTargetInfluences&&(r+=e.morphTargetInfluences.length+","),r}get needsUpdate(){return this.initialNodesCacheKey!==this.getNodesCacheKey()}getNodesCacheKey(){return this._nodes.getCacheKey(this.scene,this.lightsNode)}getCacheKey(){return this.getMaterialCacheKey()+","+this.getNodesCacheKey()}dispose(){this.material.removeEventListener("dispose",this.onMaterialDispose),this.onDispose()}}class Rbe{constructor(e,n,r,i,o,s){this.renderer=e,this.nodes=n,this.geometries=r,this.pipelines=i,this.bindings=o,this.info=s,this.chainMaps={}}get(e,n,r,i,o,s,a){const l=this.getChainMap(a),c=[e,n,s,o];let u=l.get(c);return u===void 0?(u=this.createRenderObject(this.nodes,this.geometries,this.renderer,e,n,r,i,o,s,a),l.set(c,u)):(u.version!==n.version||u.needsUpdate)&&(u.initialCacheKey!==u.getCacheKey()?(u.dispose(),u=this.get(e,n,r,i,o,s,a)):u.version=n.version),u}getChainMap(e="default"){return this.chainMaps[e]||(this.chainMaps[e]=new kf)}dispose(){this.chainMaps={}}createRenderObject(e,n,r,i,o,s,a,l,c,u){const d=this.getChainMap(u),f=new Mbe(e,n,r,i,o,s,a,l,c);return f.onDispose=()=>{this.pipelines.delete(f),this.bindings.delete(f),this.nodes.delete(f),d.delete(f.getChainArray())},f}}const Abe=Rbe;class Pbe{constructor(){this.data=new WeakMap}get(e){let n=this.data.get(e);return n===void 0&&(n={},this.data.set(e,n)),n}delete(e){let n;return this.data.has(e)&&(n=this.data.get(e),this.data.delete(e)),n}has(e){return this.data.has(e)}dispose(){this.data.clear()}}const th=Pbe,Yp={VERTEX:1,INDEX:2,STORAGE:4},_u=16,Nbe=211,Ibe=212;class Obe extends th{constructor(e){super(),this.backend=e}delete(e){super.delete(e)!==void 0&&this.backend.destroyAttribute(e)}update(e,n){const r=this.get(e);if(r.version===void 0)n===Yp.VERTEX?this.backend.createAttribute(e):n===Yp.INDEX?this.backend.createIndexAttribute(e):n===Yp.STORAGE&&this.backend.createStorageAttribute(e),r.version=this._getBufferAttribute(e).version;else{const i=this._getBufferAttribute(e);(r.version<i.version||i.usage===Eb)&&(this.backend.updateAttribute(e),r.version=i.version)}}_getBufferAttribute(e){return e.isInterleavedBufferAttribute&&(e=e.data),e}}const Lbe=Obe;function Dbe(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function yG(t){return t.index!==null?t.index.version:t.attributes.position.version}function jL(t){const e=[],n=t.index,r=t.attributes.position;if(n!==null){const o=n.array;for(let s=0,a=o.length;s<a;s+=3){const l=o[s+0],c=o[s+1],u=o[s+2];e.push(l,c,c,u,u,l)}}else{const o=r.array;for(let s=0,a=o.length/3-1;s<a;s+=3){const l=s+0,c=s+1,u=s+2;e.push(l,c,c,u,u,l)}}const i=new(Dbe(e)?Mb:Tb)(e,1);return i.version=yG(t),i}class Fbe extends th{constructor(e,n){super(),this.attributes=e,this.info=n,this.wireframes=new WeakMap,this.attributeCall=new WeakMap}has(e){const n=e.geometry;return super.has(n)&&this.get(n).initialized===!0}updateForRender(e){this.has(e)===!1&&this.initGeometry(e),this.updateAttributes(e)}initGeometry(e){const n=e.geometry,r=this.get(n);r.initialized=!0,this.info.memory.geometries++;const i=()=>{this.info.memory.geometries--;const o=n.index,s=e.getAttributes();o!==null&&this.attributes.delete(o);for(const l of s)this.attributes.delete(l);const a=this.wireframes.get(n);a!==void 0&&this.attributes.delete(a),n.removeEventListener("dispose",i)};n.addEventListener("dispose",i)}updateAttributes(e){const n=e.getAttributes();for(const i of n)this.updateAttribute(i,Yp.VERTEX);const r=this.getIndex(e);r!==null&&this.updateAttribute(r,Yp.INDEX)}updateAttribute(e,n){const r=this.info.render.calls;this.attributeCall.get(e)!==r&&(this.attributes.update(e,n),this.attributeCall.set(e,r))}getIndex(e){const{geometry:n,material:r}=e;let i=n.index;if(r.wireframe===!0){const o=this.wireframes;let s=o.get(n);s===void 0?(s=jL(n),o.set(n,s)):s.version!==yG(n)&&(this.attributes.delete(s),s=jL(n),o.set(n,s)),i=s}return i}}const $be=Fbe;class Ube{constructor(){this.autoReset=!0,this.frame=0,this.calls=0,this.render={calls:0,drawCalls:0,triangles:0,points:0,lines:0},this.compute={calls:0},this.memory={geometries:0,textures:0}}update(e,n,r){this.render.drawCalls++,e.isMesh||e.isSprite?this.render.triangles+=r*(n/3):e.isPoints?this.render.points+=r*n:e.isLineSegments?this.render.lines+=r*(n/2):e.isLine?this.render.lines+=r*(n-1):console.error("THREE.WebGPUInfo: Unknown object type.")}reset(){this.render.drawCalls=0,this.render.triangles=0,this.render.points=0,this.render.lines=0}dispose(){this.reset(),this.calls=0,this.render.calls=0,this.compute.calls=0,this.memory.geometries=0,this.memory.textures=0}}const Bbe=Ube;class kbe{constructor(e){this.cacheKey=e,this.usedTimes=0}}const xG=kbe;class zbe extends xG{constructor(e,n,r){super(e),this.vertexProgram=n,this.fragmentProgram=r}}const Vbe=zbe;class Hbe extends xG{constructor(e,n){super(e),this.computeProgram=n,this.isComputePipeline=!0}}const Gbe=Hbe;let Wbe=0;class jbe{constructor(e,n){this.id=Wbe++,this.code=e,this.stage=n,this.usedTimes=0}}const b7=jbe;class Xbe extends th{constructor(e,n){super(),this.backend=e,this.nodes=n,this.bindings=null,this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}getForCompute(e,n){const{backend:r}=this,i=this.get(e);if(this._needsComputeUpdate(e)){const o=i.pipeline;o&&(o.usedTimes--,o.computeProgram.usedTimes--);const s=this.nodes.getForCompute(e);let a=this.programs.compute.get(s.computeShader);a===void 0&&(o&&o.computeProgram.usedTimes===0&&this._releaseProgram(o.computeProgram),a=new b7(s.computeShader,"compute"),this.programs.compute.set(s.computeShader,a),r.createProgram(a));const l=this._getComputeCacheKey(e,a);let c=this.caches.get(l);c===void 0&&(o&&o.usedTimes===0&&this._releasePipeline(e),c=this._getComputePipeline(e,a,l,n)),c.usedTimes++,a.usedTimes++,i.version=e.version,i.pipeline=c}return i.pipeline}getForRender(e){const{backend:n}=this,r=this.get(e);if(this._needsRenderUpdate(e)){const i=r.pipeline;i&&(i.usedTimes--,i.vertexProgram.usedTimes--,i.fragmentProgram.usedTimes--);const o=e.getNodeBuilderState();let s=this.programs.vertex.get(o.vertexShader);s===void 0&&(i&&i.vertexProgram.usedTimes===0&&this._releaseProgram(i.vertexProgram),s=new b7(o.vertexShader,"vertex"),this.programs.vertex.set(o.vertexShader,s),n.createProgram(s));let a=this.programs.fragment.get(o.fragmentShader);a===void 0&&(i&&i.fragmentProgram.usedTimes===0&&this._releaseProgram(i.fragmentProgram),a=new b7(o.fragmentShader,"fragment"),this.programs.fragment.set(o.fragmentShader,a),n.createProgram(a));const l=this._getRenderCacheKey(e,s,a);let c=this.caches.get(l);c===void 0?(i&&i.usedTimes===0&&this._releasePipeline(i),c=this._getRenderPipeline(e,s,a,l)):e.pipeline=c,c.usedTimes++,s.usedTimes++,a.usedTimes++,r.pipeline=c}return r.pipeline}delete(e){const n=this.get(e).pipeline;n&&(n.usedTimes--,n.usedTimes===0&&this._releasePipeline(n),n.isComputePipeline?(n.computeProgram.usedTimes--,n.computeProgram.usedTimes===0&&this._releaseProgram(n.computeProgram)):(n.fragmentProgram.usedTimes--,n.vertexProgram.usedTimes--,n.vertexProgram.usedTimes===0&&this._releaseProgram(n.vertexProgram),n.fragmentProgram.usedTimes===0&&this._releaseProgram(n.fragmentProgram))),super.delete(e)}dispose(){super.dispose(),this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}updateForRender(e){this.getForRender(e)}_getComputePipeline(e,n,r,i){r=r||this._getComputeCacheKey(e,n);let o=this.caches.get(r);return o===void 0&&(o=new Gbe(r,n),this.caches.set(r,o),this.backend.createComputePipeline(o,i)),o}_getRenderPipeline(e,n,r,i){i=i||this._getRenderCacheKey(e,n,r);let o=this.caches.get(i);return o===void 0&&(o=new Vbe(i,n,r),this.caches.set(i,o),e.pipeline=o,this.backend.createRenderPipeline(e)),o}_getComputeCacheKey(e,n){return e.id+","+n.id}_getRenderCacheKey(e,n,r){return n.id+","+r.id+","+this.backend.getRenderCacheKey(e)}_releasePipeline(e){this.caches.delete(e.cacheKey)}_releaseProgram(e){const n=e.code,r=e.stage;this.programs[r].delete(n)}_needsComputeUpdate(e){const n=this.get(e);return n.pipeline===void 0||n.version!==e.version}_needsRenderUpdate(e){return this.get(e).pipeline===void 0||this.backend.needsRenderUpdate(e)}}const qbe=Xbe;class Kbe extends th{constructor(e,n,r,i,o,s){super(),this.backend=e,this.textures=r,this.pipelines=o,this.attributes=i,this.nodes=n,this.info=s,this.pipelines.bindings=this}getForRender(e){const n=e.getBindings(),r=this.get(e);return r.bindings!==n&&(r.bindings=n,this._init(n),this.backend.createBindings(n)),r.bindings}getForCompute(e){const n=this.get(e);if(n.bindings===void 0){const i=this.nodes.getForCompute(e).bindings.compute;n.bindings=i,this._init(i),this.backend.createBindings(i)}return n.bindings}updateForCompute(e){this._update(e,this.getForCompute(e))}updateForRender(e){this._update(e,this.getForRender(e))}_init(e){for(const n of e)if(n.isSampledTexture)this.textures.updateTexture(n.texture);else if(n.isStorageBuffer){const r=n.attribute;this.attributes.update(r,Yp.STORAGE)}}_update(e,n){const{backend:r}=this;let i=!1;for(const o of n)if(!(o.isNodeUniformsGroup&&!this.nodes.updateGroup(o))){if(o.isUniformBuffer)o.update()&&r.updateBinding(o);else if(o.isSampledTexture){const s=o.texture;if(o.needsBindingsUpdate&&(i=!0),o.update()&&this.textures.updateTexture(o.texture),s.isStorageTexture===!0){const l=this.get(s);o.store===!0?l.needsMipmap=!0:s.generateMipmaps===!0&&this.textures.needsMipmaps(s)&&l.needsMipmap===!0&&(this.backend.generateMipmaps(s),l.needsMipmap=!1)}}}if(i===!0){const o=this.pipelines.getForRender(e);this.backend.updateBindings(n,o)}}}const Ybe=Kbe,XL={VERTEX:"vertex",FRAGMENT:"fragment"},mr={NONE:"none",FRAME:"frame",RENDER:"render",OBJECT:"object"},Zbe=["fragment","vertex"],qL=["setup","analyze","generate"],Qbe=[...Zbe,"compute"],GT=["x","y","z","w"];function bG(t){let e="{";t.isNode===!0&&(e+=t.id);for(const{property:n,childNode:r}of gx(t))e+=","+n.slice(0,-4)+":"+r.getCacheKey();return e+="}",e}function*gx(t,e=!1){for(const n in t){if(n.startsWith("_")===!0)continue;const r=t[n];if(Array.isArray(r)===!0)for(let i=0;i<r.length;i++){const o=r[i];o&&(o.isNode===!0||e&&typeof o.toJSON=="function")&&(yield{property:n,index:i,childNode:o})}else if(r&&r.isNode===!0)yield{property:n,childNode:r};else if(typeof r=="object")for(const i in r){const o=r[i];o&&(o.isNode===!0||e&&typeof o.toJSON=="function")&&(yield{property:n,index:i,childNode:o})}}}function lf(t){if(t==null)return null;const e=typeof t;return t.isNode===!0?"node":e==="number"?"float":e==="boolean"?"bool":e==="string"?"string":e==="function"?"shader":t.isVector2===!0?"vec2":t.isVector3===!0?"vec3":t.isVector4===!0?"vec4":t.isMatrix3===!0?"mat3":t.isMatrix4===!0?"mat4":t.isColor===!0?"color":t instanceof ArrayBuffer?"ArrayBuffer":null}function SG(t,...e){const n=t?t.slice(-4):void 0;return e.length===1&&(n==="vec2"?e=[e[0],e[0]]:n==="vec3"?e=[e[0],e[0],e[0]]:n==="vec4"&&(e=[e[0],e[0],e[0],e[0]])),t==="color"?new Tt(...e):n==="vec2"?new Xe(...e):n==="vec3"?new J(...e):n==="vec4"?new En(...e):n==="mat3"?new Cn(...e):n==="mat4"?new cn(...e):t==="bool"?e[0]||!1:t==="float"||t==="int"||t==="uint"?e[0]||0:t==="string"?e[0]||"":t==="ArrayBuffer"?wG(e[0]):null}function _G(t){let e="";const n=new Uint8Array(t);for(let r=0;r<n.length;r++)e+=String.fromCharCode(n[r]);return btoa(e)}function wG(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0)).buffer}const KL=new Map;let Jbe=0;class tn extends Ta{constructor(e=null){super(),this.nodeType=e,this.updateType=mr.NONE,this.updateBeforeType=mr.NONE,this.uuid=oT.generateUUID(),this.isNode=!0,Object.defineProperty(this,"id",{value:Jbe++})}get type(){return this.constructor.type}getSelf(){return this.self||this}updateReference(){return this}isGlobal(){return!1}*getChildren(){for(const{childNode:e}of gx(this))yield e}dispose(){this.dispatchEvent({type:"dispose"})}traverse(e){e(this);for(const n of this.getChildren())n.traverse(e)}getCacheKey(){return bG(this)}getHash(){return this.uuid}getUpdateType(){return this.updateType}getUpdateBeforeType(){return this.updateBeforeType}getNodeType(e){const n=e.getNodeProperties(this);return n.outputNode?n.outputNode.getNodeType(e):this.nodeType}getShared(e){const n=this.getHash(e);return e.getNodeFromHash(n)||this}setup(e){const n=e.getNodeProperties(this);for(const r of this.getChildren())n["_node"+r.id]=r;return null}construct(e){return console.warn("THREE.Node: construct() is deprecated. Use setup() instead."),this.setup(e)}analyze(e){const n=e.getDataFromNode(this);if(n.dependenciesCount=n.dependenciesCount===void 0?1:n.dependenciesCount+1,n.dependenciesCount===1){const r=e.getNodeProperties(this);for(const i of Object.values(r))i&&i.isNode===!0&&i.build(e)}}generate(e,n){const{outputNode:r}=e.getNodeProperties(this);if(r&&r.isNode===!0)return r.build(e,n)}updateBefore(){console.warn("Abstract function.")}update(){console.warn("Abstract function.")}build(e,n=null){const r=this.getShared(e);if(this!==r)return r.build(e,n);e.addNode(this),e.addChain(this);let i=null;const o=e.getBuildStage();if(o==="setup"){const s=e.getNodeProperties(this);if(s.initialized!==!0||e.context.tempRead===!1){const a=e.stack.nodes.length;s.initialized=!0,s.outputNode=this.setup(e),s.outputNode!==null&&e.stack.nodes.length!==a&&(s.outputNode=e.stack);for(const l of Object.values(s))l&&l.isNode===!0&&l.build(e)}}else if(o==="analyze")this.analyze(e);else if(o==="generate")if(this.generate.length===1){const a=this.getNodeType(e),l=e.getDataFromNode(this);i=l.snippet,i===void 0&&(i=this.generate(e)||"",l.snippet=i),i=e.format(i,a,n)}else i=this.generate(e,n)||"";return e.removeChain(this),i}getSerializeChildren(){return gx(this)}serialize(e){const n=this.getSerializeChildren(),r={};for(const{property:i,index:o,childNode:s}of n)o!==void 0?(r[i]===void 0&&(r[i]=Number.isInteger(o)?[]:{}),r[i][o]=s.toJSON(e.meta).uuid):r[i]=s.toJSON(e.meta).uuid;Object.keys(r).length>0&&(e.inputNodes=r)}deserialize(e){if(e.inputNodes!==void 0){const n=e.meta.nodes;for(const r in e.inputNodes)if(Array.isArray(e.inputNodes[r])){const i=[];for(const o of e.inputNodes[r])i.push(n[o]);this[r]=i}else if(typeof e.inputNodes[r]=="object"){const i={};for(const o in e.inputNodes[r]){const s=e.inputNodes[r][o];i[o]=n[s]}this[r]=i}else{const i=e.inputNodes[r];this[r]=n[i]}}}toJSON(e){const{uuid:n,type:r}=this,i=e===void 0||typeof e=="string";i&&(e={textures:{},images:{},nodes:{}});let o=e.nodes[n];o===void 0&&(o={uuid:n,type:r,meta:e,metadata:{version:4.6,type:"Node",generator:"Node.toJSON"}},i!==!0&&(e.nodes[o.uuid]=o),this.serialize(o),delete o.meta);function s(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}if(i){const a=s(e.textures),l=s(e.images),c=s(e.nodes);a.length>0&&(o.textures=a),l.length>0&&(o.images=l),c.length>0&&(o.nodes=c)}return o}}function ut(t,e){if(typeof e!="function"||!t)throw new Error(`Node class ${t} is not a class`);if(KL.has(t)){console.warn(`Redefinition of node class ${t}`);return}KL.set(t,e),e.type=t}class Zb extends tn{constructor(e,n=null){super(n),this.isInputNode=!0,this.value=e,this.precision=null}getNodeType(){return this.nodeType===null?lf(this.value):this.nodeType}getInputType(e){return this.getNodeType(e)}setPrecision(e){return this.precision=e,this}serialize(e){super.serialize(e),e.value=this.value,this.value&&this.value.toArray&&(e.value=this.value.toArray()),e.valueType=lf(this.value),e.nodeType=this.nodeType,e.valueType==="ArrayBuffer"&&(e.value=_G(e.value)),e.precision=this.precision}deserialize(e){super.deserialize(e),this.nodeType=e.nodeType,this.value=Array.isArray(e.value)?SG(e.valueType,...e.value):e.value,this.precision=e.precision||null,this.value&&this.value.fromArray&&(this.value=this.value.fromArray(e.value))}generate(){console.warn("Abstract function.")}}ut("InputNode",Zb);class WT extends tn{constructor(e,n=!1){super("string"),this.name=e,this.version=0,this.shared=n,this.isUniformGroup=!0}set needsUpdate(e){e===!0&&this.version++}}const eSe=t=>new WT(t),CG=t=>new WT(t,!0),tSe=CG("frame"),nSe=CG("render"),EG=eSe("object");ut("UniformGroupNode",WT);class jT extends tn{constructor(e,n){super(),this.node=e,this.indexNode=n,this.isArrayElementNode=!0}getNodeType(e){return this.node.getNodeType(e)}generate(e){const n=this.node.build(e),r=this.indexNode.build(e,"uint");return`${n}[ ${r} ]`}}ut("ArrayElementNode",jT);class XT extends tn{constructor(e,n){super(),this.node=e,this.convertTo=n}getNodeType(e){const n=this.node.getNodeType(e);let r=null;for(const i of this.convertTo.split("|"))(r===null||e.getTypeLength(n)===e.getTypeLength(i))&&(r=i);return r}serialize(e){super.serialize(e),e.convertTo=this.convertTo}deserialize(e){super.deserialize(e),this.convertTo=e.convertTo}generate(e,n){const r=this.node,i=this.getNodeType(e),o=r.build(e,i);return e.format(o,i,n)}}ut("ConvertNode",XT);class Wr extends tn{constructor(e){super(e),this.isTempNode=!0}hasDependencies(e){return e.getDataFromNode(this).dependenciesCount>1}build(e,n){if(e.getBuildStage()==="generate"){const i=e.getVectorType(this.getNodeType(e,n)),o=e.getDataFromNode(this);if(e.context.tempRead!==!1&&o.propertyName!==void 0)return e.format(o.propertyName,i,n);if(e.context.tempWrite!==!1&&i!=="void"&&n!=="void"&&this.hasDependencies(e)){const s=super.build(e,i),a=e.getVarFromNode(this,null,i),l=e.getPropertyName(a);return e.addLineFlowCode(`${l} = ${s}`),o.snippet=s,o.propertyName=l,e.format(o.propertyName,i,n)}}return super.build(e,n)}}ut("TempNode",Wr);class TG extends Wr{constructor(e=[],n=null){super(n),this.nodes=e}getNodeType(e){return this.nodeType!==null?e.getVectorType(this.nodeType):e.getTypeFromLength(this.nodes.reduce((n,r)=>n+e.getTypeLength(r.getNodeType(e)),0))}generate(e,n){const r=this.getNodeType(e),i=this.nodes,o=e.getPrimitiveType(r),s=[];for(const l of i){let c=l.build(e);const u=e.getPrimitiveType(l.getNodeType(e));u!==o&&(c=e.format(c,u,o)),s.push(c)}const a=`${e.getType(r)}( ${s.join(", ")} )`;return e.format(a,r,n)}}ut("JoinNode",TG);const rSe=GT.join("");class yw extends tn{constructor(e,n="x"){super(),this.node=e,this.components=n,this.isSplitNode=!0}getVectorLength(){let e=this.components.length;for(const n of this.components)e=Math.max(GT.indexOf(n)+1,e);return e}getPrimitiveType(e){return e.getPrimitiveType(this.node.getNodeType(e))}getNodeType(e){return e.getTypeFromLength(this.components.length,this.getPrimitiveType(e))}generate(e,n){const r=this.node,i=e.getTypeLength(r.getNodeType(e));let o=null;if(i>1){let s=null;this.getVectorLength()>=i&&(s=e.getTypeFromLength(this.getVectorLength(),this.getPrimitiveType(e)));const l=r.build(e,s);this.components.length===i&&this.components===rSe.slice(0,this.components.length)?o=e.format(l,s,n):o=e.format(`${l}.${this.components}`,this.getNodeType(e),n)}else o=r.build(e,n);return o}serialize(e){super.serialize(e),e.components=this.components}deserialize(e){super.deserialize(e),this.components=e.components}}ut("SplitNode",yw);class MG extends Wr{constructor(e,n,r){super(),this.sourceNode=e,this.components=n,this.targetNode=r}getNodeType(e){return this.sourceNode.getNodeType(e)}generate(e){const{sourceNode:n,components:r,targetNode:i}=this,o=this.getNodeType(e),s=e.getTypeFromLength(r.length),a=i.build(e,s),l=n.build(e,o),c=e.getTypeLength(o),u=[];for(let d=0;d<c;d++){const f=GT[d];f===r[0]?(u.push(a),d+=r.length-1):u.push(l+"."+f)}return`${e.getType(o)}( ${u.join(", ")} )`}}ut("SetNode",MG);class Ma extends Zb{constructor(e,n=null){super(e,n),this.isConstNode=!0}generateConst(e){return e.generateConst(this.getNodeType(e),this.value)}generate(e,n){const r=this.getNodeType(e);return e.format(this.generateConst(e),r,n)}}ut("ConstNode",Ma);let Wm=null;const Lp=new Map;function Be(t,e){if(Lp.has(t)){console.warn(`Redefinition of node element ${t}`);return}if(typeof e!="function")throw new Error(`Node element ${t} is not a function`);Lp.set(t,e)}const YL=t=>t.replace(/r|s/g,"x").replace(/g|t/g,"y").replace(/b|p/g,"z").replace(/a|q/g,"w"),RG={setup(t,e){const n=e.shift();return t(eS(n),...e)},get(t,e,n){if(typeof e=="string"&&t[e]===void 0){if(t.isStackNode!==!0&&e==="assign")return(...r)=>(Wm.assign(n,...r),n);if(Lp.has(e)){const r=Lp.get(e);return t.isStackNode?(...i)=>n.add(r(...i)):(...i)=>r(n,...i)}else{if(e==="self")return t;if(e.endsWith("Assign")&&Lp.has(e.slice(0,e.length-6))){const r=Lp.get(e.slice(0,e.length-6));return t.isStackNode?(...i)=>n.assign(i[0],r(...i)):(...i)=>n.assign(r(n,...i))}else{if(/^[xyzwrgbastpq]{1,4}$/.test(e)===!0)return e=YL(e),jt(new yw(n,e));if(/^set[XYZWRGBASTPQ]{1,4}$/.test(e)===!0)return e=YL(e.slice(3).toLowerCase()),e=e.split("").sort().join(""),r=>jt(new MG(t,e,r));if(e==="width"||e==="height"||e==="depth")return e==="width"?e="x":e==="height"?e="y":e==="depth"&&(e="z"),jt(new yw(t,e));if(/^\d+$/.test(e)===!0)return jt(new jT(n,new Ma(Number(e),"uint")))}}}return Reflect.get(t,e,n)},set(t,e,n,r){return typeof e=="string"&&t[e]===void 0&&(/^[xyzwrgbastpq]{1,4}$/.test(e)===!0||e==="width"||e==="height"||e==="depth"||/^\d+$/.test(e)===!0)?(r[e].assign(n),!0):Reflect.set(t,e,n,r)}},S7=new WeakMap,ZL=new WeakMap,iSe=function(t,e=null){const n=lf(t);if(n==="node"){let r=S7.get(t);return r===void 0&&(r=new Proxy(t,RG),S7.set(t,r),S7.set(r,r)),r}else{if(e===null&&(n==="float"||n==="boolean")||n&&n!=="shader"&&n!=="string")return jt(xw(t,e));if(n==="shader")return pt(t)}return t},oSe=function(t,e=null){for(const n in t)t[n]=jt(t[n],e);return t},sSe=function(t,e=null){const n=t.length;for(let r=0;r<n;r++)t[r]=jt(t[r],e);return t},aSe=function(t,e=null,n=null,r=null){const i=o=>jt(r!==null?Object.assign(o,r):o);return e===null?(...o)=>i(new t(...Zp(o))):n!==null?(n=jt(n),(...o)=>i(new t(e,...Zp(o),n))):(...o)=>i(new t(e,...Zp(o)))},lSe=function(t,...e){return jt(new t(...Zp(e)))};class cSe extends tn{constructor(e,n){super(),this.shaderNode=e,this.inputNodes=n}getNodeType(e){const{outputNode:n}=e.getNodeProperties(this);return n?n.getNodeType(e):super.getNodeType(e)}call(e){const{shaderNode:n,inputNodes:r}=this;if(n.layout){let s=ZL.get(e.constructor);s===void 0&&(s=new WeakMap,ZL.set(e.constructor,s));let a=s.get(n);return a===void 0&&(a=jt(e.buildFunctionNode(n)),s.set(n,a)),e.currentFunctionNode!==null&&e.currentFunctionNode.includes.push(a),jt(a.call(r))}const i=n.jsFunc,o=r!==null?i(r,e.stack,e):i(e.stack,e);return jt(o)}setup(e){return e.addStack(),e.stack.outputNode=this.call(e),e.removeStack()}generate(e,n){const{outputNode:r}=e.getNodeProperties(this);return r===null?this.call(e).build(e,n):super.generate(e,n)}}class uSe extends tn{constructor(e){super(),this.jsFunc=e,this.layout=null}get isArrayInput(){return/^\(\s+?\[/.test(this.jsFunc.toString())}setLayout(e){return this.layout=e,this}call(e=null){return eS(e),jt(new cSe(this,e))}setup(){return this.call()}}const dSe=[!1,!0],fSe=[0,1,2,3],hSe=[-1,-2],AG=[.5,1.5,1/3,1e-6,1e6,Math.PI,Math.PI*2,1/Math.PI,2/Math.PI,1/(Math.PI*2),Math.PI/2],qT=new Map;for(const t of dSe)qT.set(t,new Ma(t));const KT=new Map;for(const t of fSe)KT.set(t,new Ma(t,"uint"));const YT=new Map([...KT].map(t=>new Ma(t.value,"int")));for(const t of hSe)YT.set(t,new Ma(t,"int"));const Qb=new Map([...YT].map(t=>new Ma(t.value)));for(const t of AG)Qb.set(t,new Ma(t));for(const t of AG)Qb.set(-t,new Ma(-t));const Jb={bool:qT,uint:KT,ints:YT,float:Qb},QL=new Map([...qT,...Qb]),xw=(t,e)=>QL.has(t)?QL.get(t):t.isNode===!0?t:new Ma(t,e),pSe=t=>{try{return t.getNodeType()}catch{return}},Ar=function(t,e=null){return(...n)=>{if((n.length===0||!["bool","float","int","uint"].includes(t)&&n.every(i=>typeof i!="object"))&&(n=[SG(t,...n)]),n.length===1&&e!==null&&e.has(n[0]))return jt(e.get(n[0]));if(n.length===1){const i=xw(n[0],t);return pSe(i)===t?jt(i):jt(new XT(i,t))}const r=n.map(i=>xw(i));return jt(new TG(r,t))}},mSe=t=>t!=null?t.nodeType||t.convertTo||(typeof t=="string"?t:null):null;function Jg(t){return new Proxy(new uSe(t),RG)}const jt=(t,e=null)=>iSe(t,e),eS=(t,e=null)=>new oSe(t,e),Zp=(t,e=null)=>new sSe(t,e),He=(...t)=>new aSe(...t),xt=(...t)=>new lSe(...t),pt=t=>{const e=new Jg(t),n=(...r)=>{let i;return eS(r),r[0]&&r[0].isNode?i=[...r]:i=r[0],e.call(i)};return n.shaderNode=e,n.setLayout=r=>(e.setLayout(r),n),n};ut("ShaderNode",Jg);const vx=t=>{Wm=t},PG=()=>Wm,_r=(...t)=>Wm.if(...t);function gSe(t){return Wm&&Wm.add(t),t}Be("append",gSe);const vSe=new Ar("color"),be=new Ar("float",Jb.float),pe=new Ar("int",Jb.int),Mt=new Ar("uint",Jb.uint),zf=new Ar("bool",Jb.bool),un=new Ar("vec2"),NG=new Ar("ivec2"),ySe=new Ar("uvec2"),xSe=new Ar("bvec2"),tt=new Ar("vec3"),bSe=new Ar("ivec3"),G3=new Ar("uvec3"),IG=new Ar("bvec3"),kn=new Ar("vec4"),SSe=new Ar("ivec4"),_Se=new Ar("uvec4"),wSe=new Ar("bvec4"),jm=new Ar("mat3"),CSe=new Ar("imat3"),ESe=new Ar("umat3"),TSe=new Ar("bmat3"),OG=new Ar("mat4"),MSe=new Ar("imat4"),RSe=new Ar("umat4"),ASe=new Ar("bmat4"),PSe=(t="")=>jt(new Ma(t,"string")),NSe=t=>jt(new Ma(t,"ArrayBuffer"));Be("color",vSe);Be("float",be);Be("int",pe);Be("uint",Mt);Be("bool",zf);Be("vec2",un);Be("ivec2",NG);Be("uvec2",ySe);Be("bvec2",xSe);Be("vec3",tt);Be("ivec3",bSe);Be("uvec3",G3);Be("bvec3",IG);Be("vec4",kn);Be("ivec4",SSe);Be("uvec4",_Se);Be("bvec4",wSe);Be("mat3",jm);Be("imat3",CSe);Be("umat3",ESe);Be("bmat3",TSe);Be("mat4",OG);Be("imat4",MSe);Be("umat4",RSe);Be("bmat4",ASe);Be("string",PSe);Be("arrayBuffer",NSe);const ISe=He(jT),OSe=(t,e)=>jt(new XT(jt(t),e));Be("element",ISe);Be("convert",OSe);class ud extends Zb{constructor(e,n=null){super(e,n),this.isUniformNode=!0,this.groupNode=EG}setGroup(e){return this.groupNode=e,this}getGroup(){return this.groupNode}getUniformHash(e){return this.getHash(e)}generate(e,n){const r=this.getNodeType(e),i=this.getUniformHash(e);let o=e.getNodeFromHash(i);o===void 0&&(e.setHashNode(this,i),o=this);const s=o.getInputType(e),a=e.getUniformFromNode(o,s,e.shaderStage,e.context.label),l=e.getPropertyName(a);return e.context.label!==void 0&&delete e.context.label,e.format(l,r,n)}}const ui=(t,e)=>{const n=mSe(e||t),r=t&&t.isNode===!0?t.node&&t.node.value||t.value:t;return jt(new ud(r,n))};ut("UniformNode",ud);class LSe extends ud{constructor(e=[]){super(),this.isArrayUniformNode=!0,this.nodes=e}getNodeType(e){return this.nodes[0].getNodeType(e)}}ut("ArrayUniformNode",LSe);class LG extends Wr{constructor(e,n){super(),this.targetNode=e,this.sourceNode=n}hasDependencies(){return!1}getNodeType(e,n){return n!=="void"?this.targetNode.getNodeType(e):"void"}generate(e,n){const r=this.targetNode,i=this.sourceNode,o=r.getNodeType(e),s=r.build(e),a=i.build(e,o),l=`${s} = ${a}`;if(n==="void"){e.addLineFlowCode(l);return}else return i.getNodeType(e)==="void"?(e.addLineFlowCode(l),s):e.format(l,o,n)}}const DSe=He(LG);ut("AssignNode",LG);Be("assign",DSe);class DG extends tn{constructor(e,n=null){super(),this.node=e,this.name=n,this.isVaryingNode=!0}isGlobal(){return!0}getHash(e){return this.name||super.getHash(e)}getNodeType(e){return this.node.getNodeType(e)}generate(e){const{name:n,node:r}=this,i=this.getNodeType(e),o=e.getVaryingFromNode(this,n,i);o.needsInterpolation||(o.needsInterpolation=e.shaderStage==="fragment");const s=e.getPropertyName(o,XL.VERTEX);return e.flowNodeFromShaderStage(XL.VERTEX,r,i,s),e.getPropertyName(o)}}const li=He(DG);Be("varying",li);ut("VaryingNode",DG);class ZT extends tn{constructor(e,n=null){super(n),this._attributeName=e}isGlobal(){return!0}getHash(e){return this.getAttributeName(e)}getNodeType(e){let n=super.getNodeType(e);if(n===null){const r=this.getAttributeName(e);if(e.hasGeometryAttribute(r)){const i=e.geometry.getAttribute(r);n=e.getTypeFromAttribute(i)}else n="float"}return n}setAttributeName(e){return this._attributeName=e,this}getAttributeName(){return this._attributeName}generate(e){const n=this.getAttributeName(e),r=this.getNodeType(e);if(e.hasGeometryAttribute(n)===!0){const o=e.geometry.getAttribute(n),s=e.getTypeFromAttribute(o),a=e.getAttribute(n,s);return e.shaderStage==="vertex"?e.format(a.name,s,r):li(this).build(e,r)}else return console.warn(`AttributeNode: Attribute "${n}" not found.`),e.generateConst(r)}}const Bo=(t,e)=>jt(new ZT(t,e));ut("AttributeNode",ZT);class FG extends tn{constructor(e,n){super(),this.isBypassNode=!0,this.outputNode=e,this.callNode=n}getNodeType(e){return this.outputNode.getNodeType(e)}generate(e){const n=this.callNode.build(e,"void");return n!==""&&e.addLineFlowCode(n),this.outputNode.build(e)}}const $G=He(FG);Be("bypass",$G);ut("BypassNode",FG);let FSe=0;class UG{constructor(){this.id=FSe++,this.nodesData=new WeakMap}getNodeData(e){return this.nodesData.get(e)}setNodeData(e,n){this.nodesData.set(e,n)}}class BG extends tn{constructor(e,n=new UG){super(),this.isCacheNode=!0,this.node=e,this.cache=n}getNodeType(e){return this.node.getNodeType(e)}build(e,...n){const r=e.getCache(),i=this.cache||e.globalCache;e.setCache(i);const o=this.node.build(e,...n);return e.setCache(r),o}}const yx=He(BG),$Se=t=>yx(t,null);Be("cache",yx);Be("globalCache",$Se);ut("CacheNode",BG);class QT extends tn{constructor(e,n={}){super(),this.isContextNode=!0,this.node=e,this.context=n}getNodeType(e){return this.node.getNodeType(e)}setup(e){const n=e.getContext();e.setContext({...e.context,...this.context});const r=this.node.build(e);return e.setContext(n),r}generate(e,n){const r=e.getContext();e.setContext({...e.context,...this.context});const i=this.node.build(e,n);return e.setContext(r),i}}const Ll=He(QT),kG=(t,e)=>Ll(t,{label:e});Be("context",Ll);Be("label",kG);ut("ContextNode",QT);class Ul extends tn{constructor(e){super("uint"),this.scope=e,this.isInstanceIndexNode=!0}generate(e){const n=this.getNodeType(e),r=this.scope;let i;if(r===Ul.VERTEX)i=e.getVertexIndex();else if(r===Ul.INSTANCE)i=e.getInstanceIndex();else throw new Error("THREE.IndexNode: Unknown scope: "+r);let o;return e.shaderStage==="vertex"||e.shaderStage==="compute"?o=i:o=li(this).build(e,n),o}}Ul.VERTEX="vertex";Ul.INSTANCE="instance";const USe=xt(Ul,Ul.VERTEX),BSe=xt(Ul,Ul.INSTANCE);ut("IndexNode",Ul);class zG{start(){}finish(){}direct(){}indirectDiffuse(){}indirectSpecular(){}ambientOcclusion(){}}class VG extends tn{constructor(e,n=null){super(),this.node=e,this.name=n,this.isVarNode=!0}isGlobal(){return!0}getHash(e){return this.name||super.getHash(e)}getNodeType(e){return this.node.getNodeType(e)}generate(e){const{node:n,name:r}=this,i=e.getVarFromNode(this,r,e.getVectorType(this.getNodeType(e))),o=e.getPropertyName(i),s=n.build(e,i.type);return e.addLineFlowCode(`${o} = ${s}`),o}}const Jv=He(VG);Be("temp",Jv);Be("toVar",(...t)=>Jv(...t).append());ut("VarNode",VG);class JL{constructor(e,n,r=null){this.isNodeAttribute=!0,this.name=e,this.type=n,this.node=r}}class kSe{constructor(e,n,r,i=void 0){this.isNodeUniform=!0,this.name=e,this.type=n,this.node=r.getSelf(),this.needsUpdate=i}get value(){return this.node.value}set value(e){this.node.value=e}get id(){return this.node.id}get groupNode(){return this.node.groupNode}}class HG{constructor(e,n){this.isNodeVar=!0,this.name=e,this.type=n}}class zSe extends HG{constructor(e,n){super(e,n),this.needsInterpolation=!1,this.isNodeVarying=!0}}class VSe{constructor(e,n,r=""){this.name=e,this.type=n,this.code=r,Object.defineProperty(this,"isNodeCode",{value:!0})}}class HSe{constructor(){this.keywords=[],this.nodes=[],this.keywordsCallback={}}getNode(e){let n=this.nodes[e];return n===void 0&&this.keywordsCallback[e]!==void 0&&(n=this.keywordsCallback[e](e),this.nodes[e]=n),n}addKeyword(e,n){return this.keywords.push(e),this.keywordsCallback[e]=n,this}parse(e){const n=this.keywords,r=new RegExp(`\\b${n.join("\\b|\\b")}\\b`,"g"),i=e.match(r),o=[];if(i!==null)for(const s of i){const a=this.getNode(s);a!==void 0&&o.indexOf(a)===-1&&o.push(a)}return o}include(e,n){const r=this.parse(n);for(const i of r)i.build(e)}}class wi extends tn{constructor(e,n=null,r=!1){super(e),this.name=n,this.varying=r,this.isPropertyNode=!0}getHash(e){return this.name||super.getHash(e)}isGlobal(){return!0}generate(e){let n;return this.varying===!0?(n=e.getVaryingFromNode(this,this.name),n.needsInterpolation=!0):n=e.getVarFromNode(this,this.name),e.getPropertyName(n)}}const ca=(t,e)=>jt(new wi(t,e)),du=(t,e)=>jt(new wi(t,e,!0)),To=xt(wi,"vec4","DiffuseColor"),ev=xt(wi,"float","Roughness"),GSe=xt(wi,"float","Metalness"),bw=xt(wi,"float","Clearcoat"),xx=xt(wi,"float","ClearcoatRoughness"),Dp=xt(wi,"vec3","Sheen"),JT=xt(wi,"float","SheenRoughness"),eM=xt(wi,"float","Iridescence"),GG=xt(wi,"float","IridescenceIOR"),WG=xt(wi,"float","IridescenceThickness"),mc=xt(wi,"color","SpecularColor"),Sw=xt(wi,"float","Shininess"),WSe=xt(wi,"vec4","Output"),Qp=xt(wi,"float","dashSize"),bx=xt(wi,"float","gapSize");xt(wi,"float","pointWidth");ut("PropertyNode",wi);class _w extends wi{constructor(e,n=null){super(e,n),this.isParameterNode=!0}getHash(){return this.uuid}generate(){return this.name}}ut("ParameterNode",_w);class wu extends tn{constructor(e="",n=[],r=""){super("code"),this.isCodeNode=!0,this.code=e,this.language=r,this.includes=n}setIncludes(e){return this.includes=e,this}getIncludes(){return this.includes}generate(e){const n=this.getIncludes(e);for(const i of n)i.build(e);const r=e.getCodeFromNode(this,this.getNodeType(e));return r.code=this.code,r.code}serialize(e){super.serialize(e),e.code=this.code,e.language=this.language}deserialize(e){super.deserialize(e),this.code=e.code,this.language=e.language}}He(wu);ut("CodeNode",wu);class jG extends wu{constructor(e="",n=[],r=""){super(e,n,r),this.keywords={}}getNodeType(e){return this.getNodeFunction(e).type}getInputs(e){return this.getNodeFunction(e).inputs}getNodeFunction(e){const n=e.getDataFromNode(this);let r=n.nodeFunction;return r===void 0&&(r=e.parser.parseFunction(this.code),n.nodeFunction=r),r}generate(e,n){super.generate(e);const r=this.getNodeFunction(e),i=r.name,o=r.type,s=e.getCodeFromNode(this,o);i!==""&&(s.name=i);const a=e.getPropertyName(s);let l=this.getNodeFunction(e).getCode(a);const c=this.keywords,u=Object.keys(c);if(u.length>0)for(const d of u){const f=new RegExp(`\\b${d}\\b`,"g"),h=c[d].build(e,"property");l=l.replace(f,h)}return s.code=l+`
`,n==="property"?a:e.format(`${a}()`,o,n)}}ut("FunctionNode",jG);class XG extends ZT{constructor(e=0){super(null,"vec2"),this.isUVNode=!0,this.index=e}getAttributeName(){const e=this.index;return"uv"+(e>0?e:"")}serialize(e){super.serialize(e),e.index=this.index}deserialize(e){super.deserialize(e),this.index=e.index}}const dd=(...t)=>jt(new XG(...t));ut("UVNode",XG);class qG extends tn{constructor(e,n=null){super("uvec2"),this.isTextureSizeNode=!0,this.textureNode=e,this.levelNode=n}generate(e,n){const r=this.textureNode.build(e,"property"),i=this.levelNode.build(e,"int");return e.format(`${e.getMethod("textureDimensions")}( ${r}, ${i} )`,this.getNodeType(e),n)}}const KG=He(qG);Be("textureSize",KG);ut("TextureSizeNode",qG);class ti extends Wr{constructor(e,n,r,...i){if(super(),this.op=e,i.length>0){let o=r;for(let s=0;s<i.length;s++)o=new ti(e,o,i[s]);r=o}this.aNode=n,this.bNode=r}getNodeType(e,n){const r=this.op,i=this.aNode,o=this.bNode,s=i.getNodeType(e),a=o.getNodeType(e);if(s==="void"||a==="void")return"void";if(r==="%")return s;if(r==="&"||r==="|"||r==="^"||r===">>"||r==="<<")return e.getIntegerType(s);if(r==="=="||r==="&&"||r==="||"||r==="^^")return"bool";if(r==="<"||r===">"||r==="<="||r===">="){const l=n?e.getTypeLength(n):Math.max(e.getTypeLength(s),e.getTypeLength(a));return l>1?`bvec${l}`:"bool"}else return s==="float"&&e.isMatrix(a)?a:e.isMatrix(s)&&e.isVector(a)?e.getVectorFromMatrix(s):e.isVector(s)&&e.isMatrix(a)?e.getVectorFromMatrix(a):e.getTypeLength(a)>e.getTypeLength(s)?a:s}generate(e,n){const r=this.op,i=this.aNode,o=this.bNode,s=this.getNodeType(e,n);let a=null,l=null;s!=="void"?(a=i.getNodeType(e),l=o.getNodeType(e),r==="<"||r===">"||r==="<="||r===">="||r==="=="?e.isVector(a)?l=a:a=l="float":r===">>"||r==="<<"?(a=s,l=e.changeComponentType(l,"uint")):e.isMatrix(a)&&e.isVector(l)?l=e.getVectorFromMatrix(a):e.isVector(a)&&e.isMatrix(l)?a=e.getVectorFromMatrix(l):a=l=s):a=l=s;const c=i.build(e,a),u=o.build(e,l),d=e.getTypeLength(n),f=e.getFunctionOperator(r);if(n!=="void")return r==="<"&&d>1?e.format(`${e.getMethod("lessThan")}( ${c}, ${u} )`,s,n):r==="<="&&d>1?e.format(`${e.getMethod("lessThanEqual")}( ${c}, ${u} )`,s,n):r===">"&&d>1?e.format(`${e.getMethod("greaterThan")}( ${c}, ${u} )`,s,n):r===">="&&d>1?e.format(`${e.getMethod("greaterThanEqual")}( ${c}, ${u} )`,s,n):f?e.format(`${f}( ${c}, ${u} )`,s,n):e.format(`( ${c} ${r} ${u} )`,s,n);if(a!=="void")return f?e.format(`${f}( ${c}, ${u} )`,s,n):e.format(`${c} ${r} ${u}`,s,n)}serialize(e){super.serialize(e),e.op=this.op}deserialize(e){super.deserialize(e),this.op=e.op}}const wa=He(ti,"+"),io=He(ti,"-"),Qr=He(ti,"*"),e3=He(ti,"/"),jSe=He(ti,"%"),XSe=He(ti,"=="),qSe=He(ti,"!="),KSe=He(ti,"<"),YG=He(ti,">"),YSe=He(ti,"<="),ZSe=He(ti,">="),QSe=He(ti,"&&"),JSe=He(ti,"||"),e4e=He(ti,"^^"),t4e=He(ti,"&"),n4e=He(ti,"|"),r4e=He(ti,"^"),i4e=He(ti,"<<"),o4e=He(ti,">>");Be("add",wa);Be("sub",io);Be("mul",Qr);Be("div",e3);Be("remainder",jSe);Be("equal",XSe);Be("notEqual",qSe);Be("lessThan",KSe);Be("greaterThan",YG);Be("lessThanEqual",YSe);Be("greaterThanEqual",ZSe);Be("and",QSe);Be("or",JSe);Be("xor",e4e);Be("bitAnd",t4e);Be("bitOr",n4e);Be("bitXor",r4e);Be("shiftLeft",i4e);Be("shiftRight",o4e);ut("OperatorNode",ti);class Le extends Wr{constructor(e,n,r=null,i=null){super(),this.method=e,this.aNode=n,this.bNode=r,this.cNode=i}getInputType(e){const n=this.aNode.getNodeType(e),r=this.bNode?this.bNode.getNodeType(e):null,i=this.cNode?this.cNode.getNodeType(e):null,o=e.isMatrix(n)?0:e.getTypeLength(n),s=e.isMatrix(r)?0:e.getTypeLength(r),a=e.isMatrix(i)?0:e.getTypeLength(i);return o>s&&o>a?n:s>a?r:a>o?i:n}getNodeType(e){const n=this.method;return n===Le.LENGTH||n===Le.DISTANCE||n===Le.DOT?"float":n===Le.CROSS?"vec3":this.getInputType(e)}generate(e,n){const r=this.method,i=this.getNodeType(e),o=this.getInputType(e),s=this.aNode,a=this.bNode,l=this.cNode,c=e.renderer.isWebGLRenderer===!0;if(r===Le.TRANSFORM_DIRECTION){let u=s,d=a;e.isMatrix(u.getNodeType(e))?d=kn(tt(d),0):u=kn(tt(u),0);const f=Qr(u,d).xyz;return Ca(f).build(e,n)}else{if(r===Le.NEGATE)return e.format("( - "+s.build(e,o)+" )",i,n);if(r===Le.ONE_MINUS)return io(1,s).build(e,n);if(r===Le.RECIPROCAL)return e3(1,s).build(e,n);if(r===Le.DIFFERENCE)return la(io(s,a)).build(e,n);{const u=[];return r===Le.CROSS?u.push(s.build(e,i),a.build(e,i)):r===Le.STEP?u.push(s.build(e,e.getTypeLength(s.getNodeType(e))===1?"float":o),a.build(e,o)):c&&(r===Le.MIN||r===Le.MAX)||r===Le.MOD?u.push(s.build(e,o),a.build(e,e.getTypeLength(a.getNodeType(e))===1?"float":o)):r===Le.REFRACT?u.push(s.build(e,o),a.build(e,o),l.build(e,"float")):r===Le.MIX?u.push(s.build(e,o),a.build(e,o),l.build(e,e.getTypeLength(l.getNodeType(e))===1?"float":o)):(u.push(s.build(e,o)),a!==null&&u.push(a.build(e,o)),l!==null&&u.push(l.build(e,o))),e.format(`${e.getMethod(r)}( ${u.join(", ")} )`,i,n)}}}serialize(e){super.serialize(e),e.method=this.method}deserialize(e){super.deserialize(e),this.method=e.method}}Le.RADIANS="radians";Le.DEGREES="degrees";Le.EXP="exp";Le.EXP2="exp2";Le.LOG="log";Le.LOG2="log2";Le.SQRT="sqrt";Le.INVERSE_SQRT="inversesqrt";Le.FLOOR="floor";Le.CEIL="ceil";Le.NORMALIZE="normalize";Le.FRACT="fract";Le.SIN="sin";Le.COS="cos";Le.TAN="tan";Le.ASIN="asin";Le.ACOS="acos";Le.ATAN="atan";Le.ABS="abs";Le.SIGN="sign";Le.LENGTH="length";Le.NEGATE="negate";Le.ONE_MINUS="oneMinus";Le.DFDX="dFdx";Le.DFDY="dFdy";Le.ROUND="round";Le.RECIPROCAL="reciprocal";Le.TRUNC="trunc";Le.FWIDTH="fwidth";Le.BITCAST="bitcast";Le.ATAN2="atan2";Le.MIN="min";Le.MAX="max";Le.MOD="mod";Le.STEP="step";Le.REFLECT="reflect";Le.DISTANCE="distance";Le.DIFFERENCE="difference";Le.DOT="dot";Le.CROSS="cross";Le.POW="pow";Le.TRANSFORM_DIRECTION="transformDirection";Le.MIX="mix";Le.CLAMP="clamp";Le.REFRACT="refract";Le.SMOOTHSTEP="smoothstep";Le.FACEFORWARD="faceforward";const ZG=be(1e-6);be(1e6);const s4e=He(Le,Le.RADIANS),a4e=He(Le,Le.DEGREES),l4e=He(Le,Le.EXP),c4e=He(Le,Le.EXP2),u4e=He(Le,Le.LOG),d4e=He(Le,Le.LOG2),nh=He(Le,Le.SQRT),f4e=He(Le,Le.INVERSE_SQRT),W3=He(Le,Le.FLOOR),QG=He(Le,Le.CEIL),Ca=He(Le,Le.NORMALIZE),tM=He(Le,Le.FRACT),h4e=He(Le,Le.SIN),p4e=He(Le,Le.COS),m4e=He(Le,Le.TAN),g4e=He(Le,Le.ASIN),v4e=He(Le,Le.ACOS),y4e=He(Le,Le.ATAN),la=He(Le,Le.ABS),x4e=He(Le,Le.SIGN),b4e=He(Le,Le.LENGTH),S4e=He(Le,Le.NEGATE),_4e=He(Le,Le.ONE_MINUS),w4e=He(Le,Le.DFDX),C4e=He(Le,Le.DFDY),E4e=He(Le,Le.ROUND),T4e=He(Le,Le.RECIPROCAL),JG=He(Le,Le.TRUNC),M4e=He(Le,Le.FWIDTH);He(Le,Le.BITCAST);const R4e=He(Le,Le.ATAN2),t3=He(Le,Le.MIN),Vf=He(Le,Le.MAX),A4e=He(Le,Le.MOD),P4e=He(Le,Le.STEP),N4e=He(Le,Le.REFLECT),I4e=He(Le,Le.DISTANCE),O4e=He(Le,Le.DIFFERENCE),j3=He(Le,Le.DOT),L4e=He(Le,Le.CROSS),nM=He(Le,Le.POW),D4e=He(Le,Le.POW,2),F4e=He(Le,Le.POW,3),$4e=He(Le,Le.POW,4),U4e=He(Le,Le.TRANSFORM_DIRECTION),Wl=He(Le,Le.MIX),eW=(t,e=0,n=1)=>jt(new Le(Le.CLAMP,jt(t),jt(e),jt(n))),B4e=t=>eW(t),k4e=He(Le,Le.REFRACT),Hf=He(Le,Le.SMOOTHSTEP),z4e=He(Le,Le.FACEFORWARD),V4e=(t,e,n)=>Wl(e,n,t),H4e=(t,e,n)=>Hf(e,n,t);Be("radians",s4e);Be("degrees",a4e);Be("exp",l4e);Be("exp2",c4e);Be("log",u4e);Be("log2",d4e);Be("sqrt",nh);Be("inverseSqrt",f4e);Be("floor",W3);Be("ceil",QG);Be("normalize",Ca);Be("fract",tM);Be("sin",h4e);Be("cos",p4e);Be("tan",m4e);Be("asin",g4e);Be("acos",v4e);Be("atan",y4e);Be("abs",la);Be("sign",x4e);Be("length",b4e);Be("negate",S4e);Be("oneMinus",_4e);Be("dFdx",w4e);Be("dFdy",C4e);Be("round",E4e);Be("reciprocal",T4e);Be("trunc",JG);Be("fwidth",M4e);Be("atan2",R4e);Be("min",t3);Be("max",Vf);Be("mod",A4e);Be("step",P4e);Be("reflect",N4e);Be("distance",I4e);Be("dot",j3);Be("cross",L4e);Be("pow",nM);Be("pow2",D4e);Be("pow3",F4e);Be("pow4",$4e);Be("transformDirection",U4e);Be("mix",V4e);Be("clamp",eW);Be("refract",k4e);Be("smoothstep",H4e);Be("faceForward",z4e);Be("difference",O4e);Be("saturate",B4e);ut("MathNode",Le);const G4e=pt(t=>{const{value:e}=t,{rgb:n}=e,r=n.mul(.9478672986).add(.0521327014).pow(2.4),i=n.mul(.0773993808),o=n.lessThanEqual(.04045),s=Wl(r,i,o);return kn(s,e.a)}),W4e=pt(t=>{const{value:e}=t,{rgb:n}=e,r=n.pow(.41666).mul(1.055).sub(.055),i=n.mul(12.92),o=n.lessThanEqual(.0031308),s=Wl(r,i,o);return kn(s,e.a)}),eD=t=>{let e=null;return t===ps?e="Linear":t===Wt&&(e="sRGB"),e},tW=(t,e)=>eD(t)+"To"+eD(e);class ms extends Wr{constructor(e,n){super("vec4"),this.method=e,this.node=n}setup(){const{method:e,node:n}=this;return e===ms.LINEAR_TO_LINEAR?n:j4e[e]({value:n})}}ms.LINEAR_TO_LINEAR="LinearToLinear";ms.LINEAR_TO_sRGB="LinearTosRGB";ms.sRGB_TO_LINEAR="sRGBToLinear";const j4e={[ms.LINEAR_TO_sRGB]:W4e,[ms.sRGB_TO_LINEAR]:G4e},X4e=(t,e)=>jt(new ms(tW(ps,e),jt(t))),nW=(t,e)=>jt(new ms(tW(e,ps),jt(t))),q4e=He(ms,ms.LINEAR_TO_sRGB),K4e=He(ms,ms.sRGB_TO_LINEAR);Be("linearTosRGB",q4e);Be("sRGBToLinear",K4e);Be("linearToColorSpace",X4e);Be("colorSpaceToLinear",nW);ut("ColorSpaceNode",ms);class rW extends tn{constructor(e="",n="void"){super(n),this.snippet=e}generate(e,n){const r=this.getNodeType(e),i=this.snippet;if(r==="void")e.addLineFlowCode(i);else return e.format(`( ${i} )`,r,n)}}const rM=He(rW);ut("ExpressionNode",rW);class iW extends ud{constructor(e){super(0),this.textureNode=e,this.updateType=mr.FRAME}get texture(){return this.textureNode.value}update(){const e=this.texture,n=e.images,r=n&&n.length>0?n[0]&&n[0].image||n[0]:e.image;if(r&&r.width!==void 0){const{width:i,height:o}=r;this.value=Math.log2(Math.max(i,o))}}}const iM=He(iW);ut("MaxMipLevelNode",iW);class v0 extends ud{constructor(e,n=null,r=null){super(e),this.isTextureNode=!0,this.uvNode=n,this.levelNode=r,this.compareNode=null,this.depthNode=null,this.sampler=!0,this.updateMatrix=!1,this.updateType=mr.NONE,this.setUpdateMatrix(n===null)}getUniformHash(){return this.value.uuid}getNodeType(){return this.value.isDepthTexture===!0?"float":"vec4"}getInputType(){return"texture"}getDefaultUV(){return dd(this.value.channel)}updateReference(){return this.value}getTransformedUV(e){const n=this.value;return ui(n.matrix).mul(tt(e,1)).xy}setUpdateMatrix(e){return this.updateMatrix=e,this.updateType=e?mr.FRAME:mr.NONE,this}setupUV(e,n){const r=this.value;return e.isFlipY()&&(r.isRenderTargetTexture===!0||r.isFramebufferTexture===!0||r.isDepthTexture===!0)&&(n=n.setY(n.y.oneMinus())),n}setup(e){const n=e.getNodeProperties(this);let r=this.uvNode;(r===null||e.context.forceUVContext===!0)&&e.context.getUV&&(r=e.context.getUV(this)),r||(r=this.getDefaultUV()),this.updateMatrix===!0&&(r=this.getTransformedUV(r)),r=this.setupUV(e,r);let i=this.levelNode;i===null&&e.context.getTextureLevel&&(i=e.context.getTextureLevel(this)),i!==null&&e.context.getTextureLevelAlgorithm!==void 0&&(i=e.context.getTextureLevelAlgorithm(this,i)),n.uvNode=r,n.levelNode=i,n.compareNode=this.compareNode,n.depthNode=this.depthNode}generateUV(e,n){return n.build(e,this.sampler===!0?"vec2":"ivec2")}generateSnippet(e,n,r,i,o,s){const a=this.value;let l;return i?l=e.generateTextureLevel(a,n,r,i,o):s?l=e.generateTextureCompare(a,n,r,s,o):this.sampler===!1?l=e.generateTextureLoad(a,n,r,o):l=e.generateTexture(a,n,r,o),l}generate(e,n){const r=e.getNodeProperties(this),i=this.value;if(!i||i.isTexture!==!0)throw new Error("TextureNode: Need a three.js texture.");const o=super.generate(e,"property");if(n==="sampler")return o+"_sampler";if(e.isReference(n))return o;{const s=e.getDataFromNode(this);let a=s.propertyName;if(a===void 0){const{uvNode:u,levelNode:d,compareNode:f,depthNode:h}=r,g=this.generateUV(e,u),x=d?d.build(e,"float"):null,b=h?h.build(e,"int"):null,v=f?f.build(e,"float"):null,_=e.getVarFromNode(this);a=e.getPropertyName(_);const S=this.generateSnippet(e,o,g,x,b,v);e.addLineFlowCode(`${a} = ${S}`),e.context.tempWrite!==!1&&(s.snippet=S,s.propertyName=a)}let l=a;const c=this.getNodeType(e);return e.needsColorSpaceToLinear(i)&&(l=nW(rM(l,c),i.colorSpace).setup(e).build(e,c)),e.format(l,c,n)}}setSampler(e){return this.sampler=e,this}getSampler(){return this.sampler}uv(e){const n=this.clone();return n.uvNode=e,jt(n)}blur(e){const n=this.clone();return n.levelNode=e.mul(iM(n)),jt(n)}level(e){const n=this.clone();return n.levelNode=e,n}size(e){return KG(this,e)}compare(e){const n=this.clone();return n.compareNode=jt(e),jt(n)}depth(e){const n=this.clone();return n.depthNode=jt(e),jt(n)}serialize(e){super.serialize(e),e.value=this.value.toJSON(e.meta).uuid}deserialize(e){super.deserialize(e),this.value=e.meta.textures[e.value]}update(){const e=this.value;e.matrixAutoUpdate===!0&&e.updateMatrix()}clone(){const e=new this.constructor(this.value,this.uvNode,this.levelNode);return e.sampler=this.sampler,e}}const us=He(v0),Y4e=(...t)=>us(...t).setSampler(!1);Be("texture",us);ut("TextureNode",v0);class X3 extends tn{constructor(e,n,r=null){super(),this.property=e,this.index=null,this.uniformType=n,this.object=r,this.reference=null,this.node=null,this.updateType=mr.OBJECT,this.setNodeType(n)}updateReference(e){return this.reference=this.object!==null?this.object:e.object,this.reference}setIndex(e){return this.index=e,this}getIndex(){return this.index}setNodeType(e){let n=null;e==="texture"?n=us(null):n=ui(e),this.node=n}getNodeType(e){return this.node.getNodeType(e)}update(){let e=this.reference[this.property];this.index!==null&&(e=e[this.index]),this.node.value=e}setup(){return this.node}}const Rs=(t,e,n)=>jt(new X3(t,e,n)),Z4e=(t,e,n,r)=>jt(new X3(t,n,r).setIndex(e));ut("ReferenceNode",X3);class oW extends X3{constructor(e,n,r=null){super(e,n,r),this.material=r}updateReference(e){return this.reference=this.material!==null?this.material:e.material,this.reference}setup(e){const n=this.material!==null?this.material:e.material;return this.node.value=n[this.property],super.setup(e)}}const Q4e=(t,e,n)=>jt(new oW(t,e,n));ut("MaterialReferenceNode",oW);class pn extends tn{constructor(e=pn.VIEW_MATRIX,n=null){super(),this.scope=e,this.object3d=n,this.updateType=mr.OBJECT,this._uniformNode=new ud(null)}getNodeType(){const e=this.scope;if(e===pn.WORLD_MATRIX||e===pn.VIEW_MATRIX)return"mat4";if(e===pn.NORMAL_MATRIX)return"mat3";if(e===pn.POSITION||e===pn.VIEW_POSITION||e===pn.DIRECTION||e===pn.SCALE)return"vec3"}update(e){const n=this.object3d,r=this._uniformNode,i=this.scope;if(i===pn.VIEW_MATRIX)r.value=n.modelViewMatrix;else if(i===pn.NORMAL_MATRIX)r.value=n.normalMatrix;else if(i===pn.WORLD_MATRIX)r.value=n.matrixWorld;else if(i===pn.POSITION)r.value=r.value||new J,r.value.setFromMatrixPosition(n.matrixWorld);else if(i===pn.SCALE)r.value=r.value||new J,r.value.setFromMatrixScale(n.matrixWorld);else if(i===pn.DIRECTION)r.value=r.value||new J,n.getWorldDirection(r.value);else if(i===pn.VIEW_POSITION){const o=e.camera;r.value=r.value||new J,r.value.setFromMatrixPosition(n.matrixWorld),r.value.applyMatrix4(o.matrixWorldInverse)}}generate(e){const n=this.scope;return n===pn.WORLD_MATRIX||n===pn.VIEW_MATRIX?this._uniformNode.nodeType="mat4":n===pn.NORMAL_MATRIX?this._uniformNode.nodeType="mat3":(n===pn.POSITION||n===pn.VIEW_POSITION||n===pn.DIRECTION||n===pn.SCALE)&&(this._uniformNode.nodeType="vec3"),this._uniformNode.build(e)}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}pn.VIEW_MATRIX="viewMatrix";pn.NORMAL_MATRIX="normalMatrix";pn.WORLD_MATRIX="worldMatrix";pn.POSITION="position";pn.SCALE="scale";pn.VIEW_POSITION="viewPosition";pn.DIRECTION="direction";He(pn,pn.DIRECTION);He(pn,pn.VIEW_MATRIX);He(pn,pn.NORMAL_MATRIX);He(pn,pn.WORLD_MATRIX);const ww=He(pn,pn.POSITION);He(pn,pn.SCALE);const sW=He(pn,pn.VIEW_POSITION);ut("Object3DNode",pn);class Bn extends pn{constructor(e=Bn.POSITION){super(e),this.updateType=mr.RENDER}getNodeType(e){const n=this.scope;return n===Bn.PROJECTION_MATRIX?"mat4":n===Bn.NEAR||n===Bn.FAR||n===Bn.LOG_DEPTH?"float":super.getNodeType(e)}update(e){const n=e.camera,r=this._uniformNode,i=this.scope;i===Bn.VIEW_MATRIX?r.value=n.matrixWorldInverse:i===Bn.PROJECTION_MATRIX?r.value=n.projectionMatrix:i===Bn.NEAR?r.value=n.near:i===Bn.FAR?r.value=n.far:i===Bn.LOG_DEPTH?r.value=2/(Math.log(n.far+1)/Math.LN2):(this.object3d=n,super.update(e))}generate(e){const n=this.scope;return n===Bn.PROJECTION_MATRIX?this._uniformNode.nodeType="mat4":(n===Bn.NEAR||n===Bn.FAR||n===Bn.LOG_DEPTH)&&(this._uniformNode.nodeType="float"),super.generate(e)}}Bn.PROJECTION_MATRIX="projectionMatrix";Bn.NEAR="near";Bn.FAR="far";Bn.LOG_DEPTH="logDepth";const gc=kG(xt(Bn,Bn.PROJECTION_MATRIX),"projectionMatrix"),_7=xt(Bn,Bn.NEAR),w7=xt(Bn,Bn.FAR),J4e=xt(Bn,Bn.LOG_DEPTH),fd=xt(Bn,Bn.VIEW_MATRIX);xt(Bn,Bn.NORMAL_MATRIX);xt(Bn,Bn.WORLD_MATRIX);xt(Bn,Bn.POSITION);ut("CameraNode",Bn);class ho extends pn{constructor(e=ho.VIEW_MATRIX){super(e)}update(e){this.object3d=e.object,super.update(e)}}xt(ho,ho.DIRECTION);const Gf=xt(ho,ho.VIEW_MATRIX).label("modelViewMatrix").temp("ModelViewMatrix"),aW=xt(ho,ho.NORMAL_MATRIX),Sx=xt(ho,ho.WORLD_MATRIX);xt(ho,ho.POSITION);xt(ho,ho.SCALE);xt(ho,ho.VIEW_POSITION);ut("ModelNode",ho);class Ti extends tn{constructor(e=Ti.LOCAL){super("vec3"),this.scope=e}isGlobal(){return!0}getHash(){return`normal-${this.scope}`}generate(e){const n=this.scope;let r=null;if(n===Ti.GEOMETRY)r=Bo("normal","vec3");else if(n===Ti.LOCAL)r=li(_x);else if(n===Ti.VIEW){const i=aW.mul(Bc);r=Ca(li(i))}else if(n===Ti.WORLD){const i=Qu.transformDirection(fd);r=Ca(li(i))}return r.build(e,this.getNodeType(e))}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}Ti.GEOMETRY="geometry";Ti.LOCAL="local";Ti.VIEW="view";Ti.WORLD="world";const _x=xt(Ti,Ti.GEOMETRY),Bc=xt(Ti,Ti.LOCAL).temp("Normal"),Qu=xt(Ti,Ti.VIEW),tS=xt(Ti,Ti.WORLD),bi=ca("vec3","TransformedNormalView"),e8e=bi.transformDirection(fd).normalize(),Fp=ca("vec3","TransformedClearcoatNormalView");ut("NormalNode",Ti);const tD=new Map;class vt extends tn{constructor(e){super(),this.scope=e}getCache(e,n){let r=tD.get(e);return r===void 0&&(r=Q4e(e,n),tD.set(e,r)),r}getFloat(e){return this.getCache(e,"float")}getColor(e){return this.getCache(e,"color")}getTexture(e){return this.getCache(e==="map"?"map":e+"Map","texture")}setup(e){const n=e.context.material,r=this.scope;let i=null;if(r===vt.COLOR){const o=this.getColor(r);n.map&&n.map.isTexture===!0?i=o.mul(this.getTexture("map")):i=o}else if(r===vt.OPACITY){const o=this.getFloat(r);n.alphaMap&&n.alphaMap.isTexture===!0?i=o.mul(this.getTexture("alpha")):i=o}else if(r===vt.SPECULAR_STRENGTH)n.specularMap&&n.specularMap.isTexture===!0?i=this.getTexture(r).r:i=be(1);else if(r===vt.ROUGHNESS){const o=this.getFloat(r);n.roughnessMap&&n.roughnessMap.isTexture===!0?i=o.mul(this.getTexture(r).g):i=o}else if(r===vt.METALNESS){const o=this.getFloat(r);n.metalnessMap&&n.metalnessMap.isTexture===!0?i=o.mul(this.getTexture(r).b):i=o}else if(r===vt.EMISSIVE){const o=this.getColor(r);n.emissiveMap&&n.emissiveMap.isTexture===!0?i=o.mul(this.getTexture(r)):i=o}else if(r===vt.NORMAL)n.normalMap?i=this.getTexture("normal").normalMap(this.getCache("normalScale","vec2")):n.bumpMap?i=this.getTexture("bump").r.bumpMap(this.getFloat("bumpScale")):i=Qu;else if(r===vt.CLEARCOAT){const o=this.getFloat(r);n.clearcoatMap&&n.clearcoatMap.isTexture===!0?i=o.mul(this.getTexture(r).r):i=o}else if(r===vt.CLEARCOAT_ROUGHNESS){const o=this.getFloat(r);n.clearcoatRoughnessMap&&n.clearcoatRoughnessMap.isTexture===!0?i=o.mul(this.getTexture(r).r):i=o}else if(r===vt.CLEARCOAT_NORMAL)n.clearcoatNormalMap?i=this.getTexture(r).normalMap(this.getCache(r+"Scale","vec2")):i=Qu;else if(r===vt.SHEEN){const o=this.getColor("sheenColor").mul(this.getFloat("sheen"));n.sheenColorMap&&n.sheenColorMap.isTexture===!0?i=o.mul(this.getTexture("sheenColor").rgb):i=o}else if(r===vt.SHEEN_ROUGHNESS){const o=this.getFloat(r);n.sheenRoughnessMap&&n.sheenRoughnessMap.isTexture===!0?i=o.mul(this.getTexture(r).a):i=o,i=i.clamp(.07,1)}else if(r===vt.IRIDESCENCE_THICKNESS){const o=Rs(1,"float",n.iridescenceThicknessRange);if(n.iridescenceThicknessMap){const s=Rs(0,"float",n.iridescenceThicknessRange);i=o.sub(s).mul(this.getTexture(r).g).add(s)}else i=o}else{const o=this.getNodeType(e);i=this.getCache(r,o)}return i}}vt.ALPHA_TEST="alphaTest";vt.COLOR="color";vt.OPACITY="opacity";vt.SHININESS="shininess";vt.SPECULAR_COLOR="specular";vt.SPECULAR_STRENGTH="specularStrength";vt.REFLECTIVITY="reflectivity";vt.ROUGHNESS="roughness";vt.METALNESS="metalness";vt.NORMAL="normal";vt.CLEARCOAT="clearcoat";vt.CLEARCOAT_ROUGHNESS="clearcoatRoughness";vt.CLEARCOAT_NORMAL="clearcoatNormal";vt.EMISSIVE="emissive";vt.ROTATION="rotation";vt.SHEEN="sheen";vt.SHEEN_ROUGHNESS="sheenRoughness";vt.IRIDESCENCE="iridescence";vt.IRIDESCENCE_IOR="iridescenceIOR";vt.IRIDESCENCE_THICKNESS="iridescenceThickness";vt.LINE_SCALE="scale";vt.LINE_DASH_SIZE="dashSize";vt.LINE_GAP_SIZE="gapSize";vt.LINE_WIDTH="linewidth";vt.LINE_DASH_OFFSET="dashOffset";vt.POINT_WIDTH="pointWidth";const t8e=xt(vt,vt.ALPHA_TEST),n3=xt(vt,vt.COLOR),n8e=xt(vt,vt.SHININESS),r8e=xt(vt,vt.EMISSIVE),lW=xt(vt,vt.OPACITY),i8e=xt(vt,vt.SPECULAR_COLOR),o8e=xt(vt,vt.SPECULAR_STRENGTH);xt(vt,vt.REFLECTIVITY);const s8e=xt(vt,vt.ROUGHNESS),a8e=xt(vt,vt.METALNESS),l8e=xt(vt,vt.NORMAL),c8e=xt(vt,vt.CLEARCOAT),u8e=xt(vt,vt.CLEARCOAT_ROUGHNESS),d8e=xt(vt,vt.CLEARCOAT_NORMAL),f8e=xt(vt,vt.ROTATION),h8e=xt(vt,vt.SHEEN),p8e=xt(vt,vt.SHEEN_ROUGHNESS),m8e=xt(vt,vt.IRIDESCENCE),g8e=xt(vt,vt.IRIDESCENCE_IOR),v8e=xt(vt,vt.IRIDESCENCE_THICKNESS),Cw=xt(vt,vt.LINE_SCALE),cW=xt(vt,vt.LINE_DASH_SIZE),uW=xt(vt,vt.LINE_GAP_SIZE),vg=xt(vt,vt.LINE_WIDTH),nD=xt(vt,vt.LINE_DASH_OFFSET),y8e=xt(vt,vt.POINT_WIDTH);ut("MaterialNode",vt);class vr extends tn{constructor(e=vr.LOCAL){super("vec3"),this.scope=e}isGlobal(){return!0}getHash(){return`position-${this.scope}`}generate(e){const n=this.scope;let r=null;if(n===vr.GEOMETRY)r=Bo("position","vec3");else if(n===vr.LOCAL)r=li(Qo);else if(n===vr.WORLD){const i=Sx.mul(ds);r=li(i)}else if(n===vr.VIEW){const i=Gf.mul(ds);r=li(i)}else if(n===vr.VIEW_DIRECTION){const i=Bl.negate();r=Ca(li(i))}else if(n===vr.WORLD_DIRECTION){const i=ds.transformDirection(Sx);r=Ca(li(i))}return r.build(e,this.getNodeType(e))}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}vr.GEOMETRY="geometry";vr.LOCAL="local";vr.WORLD="world";vr.WORLD_DIRECTION="worldDirection";vr.VIEW="view";vr.VIEW_DIRECTION="viewDirection";const Qo=xt(vr,vr.GEOMETRY),ds=xt(vr,vr.LOCAL).temp("Position"),x8e=xt(vr,vr.WORLD),dW=xt(vr,vr.WORLD_DIRECTION),Bl=xt(vr,vr.VIEW),zi=xt(vr,vr.VIEW_DIRECTION);ut("PositionNode",vr);class fW extends Wr{constructor(e=null){super("vec4"),this.positionNode=e}setup(e){if(e.shaderStage==="fragment")return li(e.context.mvp);const n=this.positionNode||ds;return gc.mul(Gf).mul(n)}}const Ew=He(fW);ut("ModelViewProjectionNode",fW);class hW extends Zb{constructor(e,n=null,r=0,i=0){super(e,n),this.isBufferNode=!0,this.bufferType=n,this.bufferStride=r,this.bufferOffset=i,this.usage=Um,this.instanced=!1,this.attribute=null,e&&e.isBufferAttribute===!0&&(this.attribute=e,this.usage=e.usage,this.instanced=e.isInstancedBufferAttribute)}getNodeType(e){return this.bufferType===null&&(this.bufferType=e.getTypeFromAttribute(this.attribute)),this.bufferType}setup(e){if(this.attribute!==null)return;const n=this.getNodeType(e),r=this.value,i=e.getTypeLength(n),o=this.bufferStride||i,s=this.bufferOffset,a=r.isInterleavedBuffer===!0?r:new U3(r,o),l=new Yu(a,i,s);a.setUsage(this.usage),this.attribute=l,this.attribute.isInstancedBufferAttribute=this.instanced}generate(e){const n=this.getNodeType(e),r=e.getBufferAttributeFromNode(this,n),i=e.getPropertyName(r);let o=null;return e.shaderStage==="vertex"?o=i:o=li(this).build(e,n),o}getInputType(){return"bufferAttribute"}setUsage(e){return this.usage=e,this}setInstanced(e){return this.instanced=e,this}}const oM=(t,e,n,r)=>jt(new hW(t,e,n,r)),b8e=(t,e,n,r)=>oM(t,e,n,r).setUsage(Eb),S8e=(t,e,n,r)=>oM(t,e,n,r).setInstanced(!0),_8e=(t,e,n,r)=>b8e(t,e,n,r).setInstanced(!0);Be("toAttribute",t=>oM(t.value));ut("BufferAttributeNode",hW);class pW extends tn{constructor(e){super("void"),this.instanceMesh=e,this.instanceMatrixNode=null}setup(){let e=this.instanceMatrixNode;if(e===null){const a=this.instanceMesh.instanceMatrix,l=new jH(a.array,16,1),c=a.usage===Eb?_8e:S8e,u=[c(l,"vec4",16,0),c(l,"vec4",16,4),c(l,"vec4",16,8),c(l,"vec4",16,12)];e=OG(...u),this.instanceMatrixNode=e}const n=e.mul(ds).xyz,r=jm(e[0].xyz,e[1].xyz,e[2].xyz),i=Bc.div(tt(r[0].dot(r[0]),r[1].dot(r[1]),r[2].dot(r[2]))),o=r.mul(i).xyz;ds.assign(n),Bc.assign(o)}}const w8e=He(pW);ut("InstanceNode",pW);class sM extends ud{constructor(e,n,r=0){super(e,n),this.isBufferNode=!0,this.bufferType=n,this.bufferCount=r}getInputType(){return"buffer"}}const mW=(t,e,n)=>jt(new sM(t,e,n));ut("BufferNode",sM);class yi extends tn{constructor(e=yi.LOCAL){super(),this.scope=e}getHash(){return`tangent-${this.scope}`}getNodeType(){return this.scope===yi.GEOMETRY?"vec4":"vec3"}generate(e){const n=this.scope;let r=null;if(n===yi.GEOMETRY)r=Bo("tangent","vec4");else if(n===yi.LOCAL)r=li(wx.xyz);else if(n===yi.VIEW){const i=Gf.mul(aM).xyz;r=Ca(li(i))}else if(n===yi.WORLD){const i=nS.transformDirection(fd);r=Ca(li(i))}return r.build(e,this.getNodeType(e))}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}yi.GEOMETRY="geometry";yi.LOCAL="local";yi.VIEW="view";yi.WORLD="world";const wx=xt(yi,yi.GEOMETRY),aM=xt(yi,yi.LOCAL),nS=xt(yi,yi.VIEW),C8e=xt(yi,yi.WORLD),gW=Jv(nS,"TransformedTangentView");Ca(gW.transformDirection(fd));ut("TangentNode",yi);class vW extends tn{constructor(e){super("void"),this.skinnedMesh=e,this.updateType=mr.OBJECT,this.skinIndexNode=Bo("skinIndex","uvec4"),this.skinWeightNode=Bo("skinWeight","vec4"),this.bindMatrixNode=ui(e.bindMatrix,"mat4"),this.bindMatrixInverseNode=ui(e.bindMatrixInverse,"mat4"),this.boneMatricesNode=mW(e.skeleton.boneMatrices,"mat4",e.skeleton.bones.length)}setup(e){const{skinIndexNode:n,skinWeightNode:r,bindMatrixNode:i,bindMatrixInverseNode:o,boneMatricesNode:s}=this,a=s.element(n.x),l=s.element(n.y),c=s.element(n.z),u=s.element(n.w),d=i.mul(ds),f=wa(a.mul(r.x).mul(d),l.mul(r.y).mul(d),c.mul(r.z).mul(d),u.mul(r.w).mul(d)),h=o.mul(f).xyz;let g=wa(r.x.mul(a),r.y.mul(l),r.z.mul(c),r.w.mul(u));g=o.mul(g).mul(i);const x=g.transformDirection(Bc).xyz;ds.assign(h),Bc.assign(x),e.hasGeometryAttribute("tangent")&&aM.assign(x)}generate(e,n){if(n!=="void")return ds.build(e,n)}update(){this.skinnedMesh.skeleton.update()}}const E8e=He(vW);ut("SkinningNode",vW);const C7=new WeakMap,Es=new En,rD=pt(({bufferMap:t,influence:e,stride:n,width:r,depth:i,offset:o})=>{const s=pe(USe).mul(n).add(o),a=s.div(r),l=s.sub(a.mul(r));return Y4e(t,NG(l,a)).depth(i).mul(e)});function T8e(t){const e=t.morphAttributes.position!==void 0,n=t.morphAttributes.normal!==void 0,r=t.morphAttributes.color!==void 0,i=t.morphAttributes.position||t.morphAttributes.normal||t.morphAttributes.color,o=i!==void 0?i.length:0;let s=C7.get(t);if(s===void 0||s.count!==o){let v=function(){x.dispose(),C7.delete(t),t.removeEventListener("dispose",v)};s!==void 0&&s.texture.dispose();const a=t.morphAttributes.position||[],l=t.morphAttributes.normal||[],c=t.morphAttributes.color||[];let u=0;e===!0&&(u=1),n===!0&&(u=2),r===!0&&(u=3);let d=t.attributes.position.count*u,f=1;const h=4096;d>h&&(f=Math.ceil(d/h),d=h);const g=new Float32Array(d*f*4*o),x=new L3(g,d,f,o);x.type=$r,x.needsUpdate=!0;const b=u*4;for(let _=0;_<o;_++){const S=a[_],w=l[_],M=c[_],E=d*f*4*_;for(let T=0;T<S.count;T++){const N=T*b;e===!0&&(Es.fromBufferAttribute(S,T),g[E+N+0]=Es.x,g[E+N+1]=Es.y,g[E+N+2]=Es.z,g[E+N+3]=0),n===!0&&(Es.fromBufferAttribute(w,T),g[E+N+4]=Es.x,g[E+N+5]=Es.y,g[E+N+6]=Es.z,g[E+N+7]=0),r===!0&&(Es.fromBufferAttribute(M,T),g[E+N+8]=Es.x,g[E+N+9]=Es.y,g[E+N+10]=Es.z,g[E+N+11]=M.itemSize===4?Es.w:1)}}s={count:o,texture:x,stride:u,size:new Xe(d,f)},C7.set(t,s),t.addEventListener("dispose",v)}return s}class yW extends tn{constructor(e){super("void"),this.mesh=e,this.morphBaseInfluence=ui(1),this.updateType=mr.OBJECT}setup(e){const{geometry:n}=e,r=n.morphAttributes.position!==void 0,i=n.morphAttributes.normal!==void 0,o=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,s=o!==void 0?o.length:0,{texture:a,stride:l,size:c}=T8e(n);r===!0&&ds.mulAssign(this.morphBaseInfluence),i===!0&&Bc.mulAssign(this.morphBaseInfluence);const u=pe(c.width);for(let d=0;d<s;d++){const f=Z4e("morphTargetInfluences",d,"float"),h=pe(d);r===!0&&ds.addAssign(rD({bufferMap:a,influence:f,stride:l,width:u,depth:h,offset:pe(0)})),i===!0&&Bc.addAssign(rD({bufferMap:a,influence:f,stride:l,width:u,depth:h,offset:pe(1)}))}}update(){const e=this.morphBaseInfluence;this.mesh.geometry.morphTargetsRelative?e.value=1:e.value=1-this.mesh.morphTargetInfluences.reduce((n,r)=>n+r,0)}}const M8e=He(yW);ut("MorphNode",yW);class xW extends tn{constructor(){super("vec3")}getHash(){return"reflectVector"}setup(){return zi.negate().reflect(bi).transformDirection(fd)}}const R8e=xt(xW);ut("ReflectVectorNode",xW);class bW extends v0{constructor(e,n=null,r=null){super(e,n,r),this.isCubeTextureNode=!0}getInputType(){return"cubeTexture"}getDefaultUV(){return R8e}setUpdateMatrix(){}setupUV(e,n){return tt(n.x.negate(),n.yz)}generateUV(e,n){return n.build(e,"vec3")}}const r3=He(bW);Be("cubeTexture",r3);ut("CubeTextureNode",bW);class rS extends tn{constructor(){super("vec3")}generate(){console.warn("Abstract function.")}}ut("LightingNode",rS);let E7=null;class rh extends rS{constructor(e=null){super(),this.updateType=mr.FRAME,this.light=e,this.rtt=null,this.shadowNode=null,this.color=new Tt,this._defaultColorNode=ui(this.color),this.colorNode=this._defaultColorNode,this.isAnalyticLightNode=!0}getCacheKey(){return super.getCacheKey()+"-"+(this.light.id+"-"+(this.light.castShadow?"1":"0"))}getHash(){return this.light.uuid}setupShadow(e){let n=this.shadowNode;if(n===null){E7===null&&(E7=e.createNodeMaterial("MeshBasicNodeMaterial"));const r=this.light.shadow,i=e.getRenderTarget(r.mapSize.width,r.mapSize.height),o=new ad;o.minFilter=er,o.magFilter=er,o.image.width=r.mapSize.width,o.image.height=r.mapSize.height,o.compareFunction=I3,i.depthTexture=o,r.camera.updateProjectionMatrix();const s=Rs("bias","float",r),a=Rs("normalBias","float",r);let l=ui(r.matrix).mul(x8e.add(tS.mul(a)));l=l.xyz.div(l.w);const c=l.x.greaterThanEqual(0).and(l.x.lessThanEqual(1)).and(l.y.greaterThanEqual(0)).and(l.y.lessThanEqual(1)).and(l.z.lessThanEqual(1));let u=l.z.add(s);e.renderer.coordinateSystem===Ku&&(u=u.mul(2).sub(1)),l=tt(l.x,l.y.oneMinus(),u),n=((f,h,g)=>us(f,h).compare(g))(o,l.xy,l.z),this.rtt=i,this.colorNode=this.colorNode.mul(c.mix(1,n)),this.shadowNode=n,this.updateBeforeType=mr.RENDER}}setup(e){this.light.castShadow?this.setupShadow(e):this.shadowNode!==null&&this.disposeShadow()}updateShadow(e){const{rtt:n,light:r}=this,{renderer:i,scene:o}=e,s=o.overrideMaterial;o.overrideMaterial=E7,n.setSize(r.shadow.mapSize.width,r.shadow.mapSize.height),r.shadow.updateMatrices(r);const a=i.getRenderTarget(),l=i.getRenderObjectFunction();i.setRenderObjectFunction((c,...u)=>{c.castShadow===!0&&i.renderObject(c,...u)}),i.setRenderTarget(n),i.render(o,r.shadow.camera),i.setRenderTarget(a),i.setRenderObjectFunction(l),o.overrideMaterial=s}disposeShadow(){this.rtt.dispose(),this.shadowNode=null,this.rtt=null,this.colorNode=this._defaultColorNode}updateBefore(e){const{light:n}=this;n.castShadow&&this.updateShadow(e)}update(){const{light:e}=this;this.color.copy(e.color).multiplyScalar(e.intensity)}}ut("AnalyticLightNode",rh);const Cx=new WeakMap,A8e=t=>t.sort((e,n)=>e.id-n.id);class SW extends tn{constructor(e=[]){super("vec3"),this.totalDiffuseNode=tt().temp("totalDiffuse"),this.totalSpecularNode=tt().temp("totalSpecular"),this.outgoingLightNode=tt().temp("outgoingLight"),this.lightNodes=e,this._hash=null}get hasLight(){return this.lightNodes.length>0}getHash(){if(this._hash===null){const e=[];for(const n of this.lightNodes)e.push(n.getHash());this._hash="lights-"+e.join(",")}return this._hash}setup(e){const n=e.context,r=n.lightingModel;let i=this.outgoingLightNode;if(r){const{lightNodes:o,totalDiffuseNode:s,totalSpecularNode:a}=this;n.outgoingLight=i;const l=e.addStack();r.start(n,l,e);for(const b of o)b.build(e);r.indirectDiffuse(n,l,e),r.indirectSpecular(n,l,e),r.ambientOcclusion(n,l,e);const{backdrop:c,backdropAlpha:u}=n,{directDiffuse:d,directSpecular:f,indirectDiffuse:h,indirectSpecular:g}=n.reflectedLight;let x=d.add(h);c!==null&&(x=tt(u!==null?u.mix(x,c):c)),s.assign(x),a.assign(f.add(g)),i.assign(s.add(a)),r.finish(n,l,e),i=i.bypass(e.removeStack())}return i}_getLightNodeById(e){for(const n of this.lightNodes)if(n.isAnalyticLightNode&&n.light.id===e)return n;return null}fromLights(e=[]){const n=[];e=A8e(e);for(const r of e){let i=this._getLightNodeById(r.id);if(i===null){const o=r.constructor,s=Cx.has(o)?Cx.get(o):rh;i=jt(new s(r))}n.push(i)}return this.lightNodes=n,this._hash=null,this}}const P8e=He(SW);function y0(t,e){if(Cx.has(t)){console.warn(`Redefinition of light node ${e.type}`);return}if(typeof t!="function")throw new Error(`Light ${t.name} is not a class`);if(typeof e!="function"||!e.type)throw new Error(`Light node ${e.type} is not a class`);Cx.set(t,e)}class _W extends rS{constructor(e=null){super(),this.aoNode=e}setup(e){const r=this.aoNode.x.sub(1).mul(1).add(1);e.context.ambientOcclusion.mulAssign(r)}}ut("AONode",_W);class wW extends QT{constructor(e,n=null,r=null,i=null){super(e),this.lightingModel=n,this.backdropNode=r,this.backdropAlphaNode=i,this._context=null}getContext(){const{backdropNode:e,backdropAlphaNode:n}=this,r=tt().temp("directDiffuse"),i=tt().temp("directSpecular"),o=tt().temp("indirectDiffuse"),s=tt().temp("indirectSpecular"),a={directDiffuse:r,directSpecular:i,indirectDiffuse:o,indirectSpecular:s};return{radiance:tt().temp("radiance"),irradiance:tt().temp("irradiance"),iblIrradiance:tt().temp("iblIrradiance"),ambientOcclusion:be(1).temp("ambientOcclusion"),reflectedLight:a,backdrop:e,backdropAlpha:n}}setup(e){return this.context=this._context||(this._context=this.getContext()),this.context.lightingModel=this.lightingModel||e.context.lightingModel,super.setup(e)}}const CW=He(wW);Be("lightingContext",CW);ut("LightingContextNode",wW);class EW extends Wr{constructor(e=dW){super("vec2"),this.dirNode=e}setup(){const e=this.dirNode,n=e.z.atan2(e.x).mul(1/(Math.PI*2)).add(.5),r=e.y.negate().clamp(-1,1).asin().mul(1/Math.PI).add(.5);return un(n,r)}}const iS=He(EW);ut("EquirectUVNode",EW);class TW extends tn{constructor(e,n=null){super("float"),this.textureNode=e,this.roughnessNode=n}setup(){const{textureNode:e,roughnessNode:n}=this,r=iM(e),i=n.mul(n).mul(Math.PI).div(n.add(1));return r.add(i.log2()).clamp(0,r)}}const N8e=He(TW);ut("SpecularMIPLevelNode",TW);const iD=new WeakMap;class MW extends rS{constructor(e=null){super(),this.envNode=e}setup(e){let n=this.envNode;if(n.isTextureNode&&n.value.isCubeTexture!==!0){let l=iD.get(n.value);if(l===void 0){const c=n.value,u=e.renderer,d=e.getCubeRenderTarget(512).fromEquirectangularTexture(u,c);l=r3(d.texture),iD.set(n.value,l)}n=l}const r=Rs("envMapIntensity","float",e.material),i=Ll(n,oD(ev,bi)).mul(r),o=Ll(n,I8e(e8e)).mul(Math.PI).mul(r),s=yx(i);e.context.radiance.addAssign(s),e.context.iblIrradiance.addAssign(o);const a=e.context.lightingModel.clearcoatRadiance;if(a){const l=Ll(n,oD(xx,Fp)).mul(r),c=yx(l);a.addAssign(c)}}}const oD=(t,e)=>{let n=null,r=null;return{getUV:i=>{let o=null;return n===null&&(n=zi.negate().reflect(e),n=t.mul(t).mix(n,e).normalize(),n=n.transformDirection(fd)),i.isCubeTextureNode?o=n:i.isTextureNode&&(r===null&&(r=iS(n)),o=r),o},getTextureLevel:()=>t,getTextureLevelAlgorithm:(i,o)=>N8e(i,o)}},I8e=t=>{let e=null;return{getUV:n=>{let r=null;return n.isCubeTextureNode?r=t:n.isTextureNode&&(e===null&&(e=iS(t),e=un(e.x,e.y.oneMinus())),r=e),r},getTextureLevel:n=>iM(n)}};ut("EnvironmentNode",MW);let T7,M7;class rr extends tn{constructor(e){super(),this.scope=e,this.isViewportNode=!0}getNodeType(){return this.scope===rr.VIEWPORT?"vec4":"vec2"}getUpdateType(){let e=mr.NONE;return(this.scope===rr.RESOLUTION||this.scope===rr.VIEWPORT)&&(e=mr.FRAME),this.updateType=e,e}update({renderer:e}){this.scope===rr.VIEWPORT?e.getViewport(M7):e.getDrawingBufferSize(T7)}setup(){const e=this.scope;if(e===rr.COORDINATE)return;let n=null;if(e===rr.RESOLUTION)n=ui(T7||(T7=new Xe));else if(e===rr.VIEWPORT)n=ui(M7||(M7=new En));else{n=O8e.div(sD);let r=n.x,i=n.y;/bottom/i.test(e)&&(i=i.oneMinus()),/right/i.test(e)&&(r=r.oneMinus()),n=un(r,i)}return n}generate(e){if(this.scope===rr.COORDINATE){let n=e.getFragCoord();if(e.isFlipY()){const r=e.getNodeProperties(sD).outputNode.build(e);n=`${e.getType("vec2")}( ${n}.x, ${r}.y - ${n}.y )`}return n}return super.generate(e)}}rr.COORDINATE="coordinate";rr.RESOLUTION="resolution";rr.VIEWPORT="viewport";rr.TOP_LEFT="topLeft";rr.BOTTOM_LEFT="bottomLeft";rr.TOP_RIGHT="topRight";rr.BOTTOM_RIGHT="bottomRight";const O8e=xt(rr,rr.COORDINATE),sD=xt(rr,rr.RESOLUTION),Jp=xt(rr,rr.VIEWPORT),lM=xt(rr,rr.TOP_LEFT),L8e=xt(rr,rr.BOTTOM_LEFT);xt(rr,rr.TOP_RIGHT);xt(rr,rr.BOTTOM_RIGHT);ut("ViewportNode",rr);const yg=new Xe;class q3 extends v0{constructor(e=lM,n=null,r=null){r===null&&(r=new yT,r.minFilter=_a),super(r,e,n),this.generateMipmaps=!1,this.isOutputTextureNode=!0,this.updateBeforeType=mr.FRAME}updateBefore(e){const n=e.renderer;n.getDrawingBufferSize(yg);const r=this.value;(r.image.width!==yg.width||r.image.height!==yg.height)&&(r.image.width=yg.width,r.image.height=yg.height,r.needsUpdate=!0);const i=r.generateMipmaps;r.generateMipmaps=this.generateMipmaps,n.copyFramebufferToTexture(r),r.generateMipmaps=i}clone(){return new this.constructor(this.uvNode,this.levelNode,this.value)}}const D8e=He(q3),F8e=He(q3,null,null,{generateMipmaps:!0});Be("viewportTexture",D8e);Be("viewportMipTexture",F8e);ut("ViewportTextureNode",q3);let op=null;class RW extends q3{constructor(e=lM,n=null){op===null&&(op=new ad,op.minFilter=qu,op.type=Ns,op.format=Ls),super(e,n,op)}}const AW=He(RW);Be("viewportDepthTexture",AW);ut("ViewportDepthTextureNode",RW);class oo extends tn{constructor(e,n=null){super("float"),this.scope=e,this.valueNode=n,this.isViewportDepthNode=!0}generate(e){const{scope:n}=this;return n===oo.DEPTH_PIXEL?e.getFragDepth():super.generate(e)}setup(){const{scope:e}=this;let n=null;if(e===oo.DEPTH)n=Tw(Bl.z,_7,w7);else if(e===oo.DEPTH_TEXTURE){const r=this.valueNode||AW(),i=PW(r,_7,w7);n=Tw(i,_7,w7)}else e===oo.DEPTH_PIXEL&&this.valueNode!==null&&(n=NW().assign(this.valueNode));return n}}const Tw=(t,e,n)=>t.add(e).div(e.sub(n)),PW=(t,e,n)=>e.mul(n).div(n.sub(e).mul(t).sub(n));oo.DEPTH="depth";oo.DEPTH_TEXTURE="depthTexture";oo.DEPTH_PIXEL="depthPixel";const NW=He(oo,oo.DEPTH_PIXEL);xt(oo,oo.DEPTH);He(oo,oo.DEPTH_TEXTURE);const IW=xt(oo,oo.DEPTH_PIXEL);IW.assign=t=>NW(t);ut("ViewportDepthNode",oo);const Mw=new Map;class Xo extends $s{constructor(){super(),this.isNodeMaterial=!0,this.type=this.constructor.type,this.forceSinglePass=!1,this.fog=!0,this.lights=!0,this.normals=!0,this.colorSpaced=!0,this.lightsNode=null,this.envNode=null,this.colorNode=null,this.normalNode=null,this.opacityNode=null,this.backdropNode=null,this.backdropAlphaNode=null,this.alphaTestNode=null,this.positionNode=null,this.depthNode=null,this.outputNode=null,this.fragmentNode=null,this.vertexNode=null}customProgramCacheKey(){return this.type+bG(this)}build(e){this.setup(e)}setup(e){e.addStack(),e.stack.outputNode=this.vertexNode||this.setupPosition(e),e.addFlow("vertex",e.removeStack()),e.addStack();let n;if(this.fragmentNode===null){this.depthWrite===!0&&this.setupDepth(e),this.normals===!0&&this.setupNormal(e),this.setupDiffuseColor(e),this.setupVariants(e);const r=this.setupLighting(e);n=this.setupOutput(e,kn(r,To.a)),WSe.assign(n),this.outputNode!==null&&(n=this.outputNode)}else n=this.setupOutput(e,this.fragmentNode);e.stack.outputNode=n,e.addFlow("fragment",e.removeStack())}setupDepth(e){const{renderer:n}=e;let r=this.depthNode;r===null&&n.logarithmicDepthBuffer===!0&&(r=Ew().w.add(1).log2().mul(J4e).mul(.5)),r!==null&&IW.assign(r).append()}setupPosition(e){const{object:n}=e,r=n.geometry;e.addStack(),(r.morphAttributes.position||r.morphAttributes.normal||r.morphAttributes.color)&&M8e(n).append(),n.isSkinnedMesh===!0&&E8e(n).append(),n.instanceMatrix&&n.instanceMatrix.isInstancedBufferAttribute===!0&&e.isAvailable("instance")===!0&&w8e(n).append(),this.positionNode!==null&&ds.assign(this.positionNode);const i=Ew();return e.context.vertex=e.removeStack(),e.context.mvp=i,i}setupDiffuseColor({geometry:e}){let n=this.colorNode?kn(this.colorNode):n3;this.vertexColors===!0&&e.hasAttribute("color")&&(n=kn(n.xyz.mul(Bo("color","vec3")),n.a)),To.assign(n);const r=this.opacityNode?be(this.opacityNode):lW;if(To.a.assign(To.a.mul(r)),this.alphaTestNode!==null||this.alphaTest>0){const i=this.alphaTestNode!==null?be(this.alphaTestNode):t8e;To.a.lessThanEqual(i).discard()}}setupVariants(){}setupNormal(){if(this.flatShading===!0){const e=Bl.dFdx().cross(Bl.dFdy()).normalize();bi.assign(e)}else{const e=this.normalNode?tt(this.normalNode):l8e;bi.assign(e)}}getEnvNode(e){let n=null;return this.envNode?n=this.envNode:this.envMap?n=this.envMap.isCubeTexture?r3(this.envMap):us(this.envMap):e.environmentNode&&(n=e.environmentNode),n}setupLights(e){const n=this.getEnvNode(e),r=[];n&&r.push(new MW(n)),e.material.aoMap&&r.push(new _W(us(e.material.aoMap)));let i=this.lightsNode||e.lightsNode;return r.length>0&&(i=P8e([...i.lightNodes,...r])),i}setupLightingModel(){}setupLighting(e){const{material:n}=e,{backdropNode:r,backdropAlphaNode:i,emissiveNode:o}=this,a=this.lights===!0||this.lightsNode!==null?this.setupLights(e):null;let l=To.rgb;if(a&&a.hasLight!==!1){const c=this.setupLightingModel(e);l=CW(a,c,r,i)}else r!==null&&(l=tt(i!==null?Wl(l,r,i):r));return(o&&o.isNode===!0||n.emissive&&n.emissive.isColor===!0)&&(l=l.add(tt(o||r8e))),l}setupOutput(e,n){const r=e.renderer,i=e.toneMappingNode;if(this.toneMapped===!0&&i&&(n=kn(i.context({color:n.rgb}),n.a)),this.fog===!0){const o=e.fogNode;o&&(n=kn(o.mixAssign(n.rgb),n.a))}if(this.colorSpaced===!0){const o=r.currentColorSpace;o!==ps&&o!==ro&&(n=n.linearToColorSpace(o))}return n}setDefaultValues(e){for(const r in e){const i=e[r];this[r]===void 0&&(this[r]=i,i&&i.clone&&(this[r]=i.clone()))}Object.assign(this.defines,e.defines);const n=Object.getOwnPropertyDescriptors(e.constructor.prototype);for(const r in n)Object.getOwnPropertyDescriptor(this.constructor.prototype,r)===void 0&&n[r].get!==void 0&&Object.defineProperty(this.constructor.prototype,r,n[r])}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{},nodes:{}});const r=qi.prototype.toJSON.call(this,e),i=gx(this);r.inputNodes={};for(const{property:s,childNode:a}of i)r.inputNodes[s]=a.toJSON(e).uuid;function o(s){const a=[];for(const l in s){const c=s[l];delete c.metadata,a.push(c)}return a}if(n){const s=o(e.textures),a=o(e.images),l=o(e.nodes);s.length>0&&(r.textures=s),a.length>0&&(r.images=a),l.length>0&&(r.nodes=l)}return r}copy(e){return this.lightsNode=e.lightsNode,this.envNode=e.envNode,this.colorNode=e.colorNode,this.normalNode=e.normalNode,this.opacityNode=e.opacityNode,this.backdropNode=e.backdropNode,this.backdropAlphaNode=e.backdropAlphaNode,this.alphaTestNode=e.alphaTestNode,this.positionNode=e.positionNode,this.depthNode=e.depthNode,this.outputNode=e.outputNode,this.fragmentNode=e.fragmentNode,this.vertexNode=e.vertexNode,super.copy(e)}static fromMaterial(e){if(e.isNodeMaterial===!0)return e;const n=e.type.replace("Material","NodeMaterial"),r=oS(n);if(r===void 0)throw new Error(`NodeMaterial: Material "${e.type}" is not compatible.`);for(const i in e)r[i]=e[i];return r}}function Vs(t,e){if(typeof e!="function"||!t)throw new Error(`Node material ${t} is not a class`);if(Mw.has(t)){console.warn(`Redefinition of node material ${t}`);return}Mw.set(t,e),e.type=t}function oS(t){const e=Mw.get(t);if(e!==void 0)return new e}Vs("NodeMaterial",Xo);class ih{constructor(e,n=null){this.name=e,this.value=n,this.boundary=0,this.itemSize=0,this.offset=0}setValue(e){this.value=e}getValue(){return this.value}}class $8e extends ih{constructor(e,n=0){super(e,n),this.isFloatUniform=!0,this.boundary=4,this.itemSize=1}}class U8e extends ih{constructor(e,n=new Xe){super(e,n),this.isVector2Uniform=!0,this.boundary=8,this.itemSize=2}}class B8e extends ih{constructor(e,n=new J){super(e,n),this.isVector3Uniform=!0,this.boundary=16,this.itemSize=3}}class k8e extends ih{constructor(e,n=new En){super(e,n),this.isVector4Uniform=!0,this.boundary=16,this.itemSize=4}}class z8e extends ih{constructor(e,n=new Tt){super(e,n),this.isColorUniform=!0,this.boundary=16,this.itemSize=3}}class V8e extends ih{constructor(e,n=new Cn){super(e,n),this.isMatrix3Uniform=!0,this.boundary=48,this.itemSize=12}}class H8e extends ih{constructor(e,n=new cn){super(e,n),this.isMatrix4Uniform=!0,this.boundary=64,this.itemSize=16}}class G8e extends $8e{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}}class W8e extends U8e{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}}class j8e extends B8e{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}}class X8e extends k8e{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}}class q8e extends z8e{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}}class K8e extends V8e{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}}class Y8e extends H8e{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}}class cM extends tn{constructor(e,n,r=null){super(),this.condNode=e,this.ifNode=n,this.elseNode=r}getNodeType(e){const n=this.ifNode.getNodeType(e);if(this.elseNode!==null){const r=this.elseNode.getNodeType(e);if(e.getTypeLength(r)>e.getTypeLength(n))return r}return n}generate(e){const n=this.getNodeType(e),r={tempWrite:!1},{ifNode:i,elseNode:o}=this,s=i.getNodeType(e)!=="void"||o&&o.getNodeType(e)!=="void",a=s?ca(n).build(e):"",l=Ll(this.condNode).build(e,"bool");e.addFlowCode(`
${e.tab}if ( ${l} ) {

`).addFlowTab();let c=Ll(this.ifNode,r).build(e,n);if(c=s?a+" = "+c+";":c,e.removeFlowTab().addFlowCode(e.tab+"	"+c+`

`+e.tab+"}"),o!==null){e.addFlowCode(` else {

`).addFlowTab();let u=Ll(o,r).build(e,n);u=a?a+" = "+u+";":u,e.removeFlowTab().addFlowCode(e.tab+"	"+u+`

`+e.tab+`}

`)}else e.addFlowCode(`

`);return a}}const zu=He(cM);Be("cond",zu);ut("CondNode",cM);class OW extends tn{constructor(e=null){super(),this.nodes=[],this.outputNode=null,this.parent=e,this._currentCond=null,this.isStackNode=!0}getNodeType(e){return this.outputNode?this.outputNode.getNodeType(e):"void"}add(e){return this.nodes.push(e),this}if(e,n){const r=new Jg(n);return this._currentCond=zu(e,r),this.add(this._currentCond)}elseif(e,n){const r=new Jg(n),i=zu(e,r);return this._currentCond.elseNode=i,this._currentCond=i,this}else(e){return this._currentCond.elseNode=new Jg(e),this}build(e,...n){const r=PG();vx(this);for(const i of this.nodes)i.build(e,"void");return vx(r),this.outputNode?this.outputNode.build(e,...n):super.build(e,...n)}}const aD=He(OW);ut("StackNode",OW);class Z8e extends fT{constructor(e=1,n={}){super(e,n),this.isCubeRenderTarget=!0}fromEquirectangularTexture(e,n){const r=n.minFilter,i=n.generateMipmaps;n.generateMipmaps=!0,this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const o=new sd(5,5,5),s=iS(dW),a=oS("MeshBasicNodeMaterial");a.colorNode=us(n,s,0),a.side=di,a.blending=Os;const l=new Zr(o,a),c=new Vm;return c.add(l),n.minFilter===_a&&(n.minFilter=Fr),new dT(1,10,this).update(e,c),n.minFilter=r,n.currentGenerateMipmaps=i,l.geometry.dispose(),l.material.dispose(),this}}const Q8e=Z8e,lD=new kf,J8e=new Map([[2,"vec2"],[3,"vec3"],[4,"vec4"],[9,"mat3"],[16,"mat4"]]),e7e=new Map([[Int8Array,"int"],[Int16Array,"int"],[Int32Array,"int"],[Uint8Array,"uint"],[Uint16Array,"uint"],[Uint32Array,"uint"],[Float32Array,"float"]]),by=t=>(t=Number(t),t+(t%1?"":".0"));class LW{constructor(e,n,r,i=null,o=null){this.object=e,this.material=o||e&&e.material||null,this.geometry=e&&e.geometry||null,this.renderer=n,this.parser=r,this.scene=i,this.nodes=[],this.updateNodes=[],this.updateBeforeNodes=[],this.hashNodes={},this.lightsNode=null,this.environmentNode=null,this.fogNode=null,this.toneMappingNode=null,this.vertexShader=null,this.fragmentShader=null,this.computeShader=null,this.flowNodes={vertex:[],fragment:[],compute:[]},this.flowCode={vertex:"",fragment:"",compute:[]},this.uniforms={vertex:[],fragment:[],compute:[],index:0},this.structs={vertex:[],fragment:[],compute:[],index:0},this.bindings={vertex:[],fragment:[],compute:[]},this.bindingsOffset={vertex:0,fragment:0,compute:0},this.bindingsArray=null,this.attributes=[],this.bufferAttributes=[],this.varyings=[],this.codes={},this.vars={},this.flow={code:""},this.chaining=[],this.stack=aD(),this.stacks=[],this.tab="	",this.currentFunctionNode=null,this.context={keywords:new HSe,material:this.material},this.cache=new UG,this.globalCache=this.cache,this.flowsData=new WeakMap,this.shaderStage=null,this.buildStage=null}getRenderTarget(e,n,r){return new km(e,n,r)}getCubeRenderTarget(e,n){return new Q8e(e,n)}includes(e){return this.nodes.includes(e)}_getSharedBindings(e){const n=[];for(const r of e)if(r.shared===!0){const i=r.getNodes();let o=lD.get(i);o===void 0&&(lD.set(i,r),o=r),n.push(o)}else n.push(r);return n}getBindings(){let e=this.bindingsArray;if(e===null){const n=this.bindings;this.bindingsArray=e=this._getSharedBindings(this.material!==null?[...n.vertex,...n.fragment]:n.compute)}return e}setHashNode(e,n){this.hashNodes[n]=e}addNode(e){this.nodes.includes(e)===!1&&(this.nodes.push(e),this.setHashNode(e,e.getHash(this)))}buildUpdateNodes(){for(const e of this.nodes){const n=e.getUpdateType(),r=e.getUpdateBeforeType();n!==mr.NONE&&this.updateNodes.push(e.getSelf()),r!==mr.NONE&&this.updateBeforeNodes.push(e)}}get currentNode(){return this.chaining[this.chaining.length-1]}addChain(e){this.chaining.push(e)}removeChain(e){if(this.chaining.pop()!==e)throw new Error("NodeBuilder: Invalid node chaining!")}getMethod(e){return e}getNodeFromHash(e){return this.hashNodes[e]}addFlow(e,n){return this.flowNodes[e].push(n),n}setContext(e){this.context=e}getContext(){return this.context}setCache(e){this.cache=e}getCache(){return this.cache}isAvailable(){return!1}getVertexIndex(){console.warn("Abstract function.")}getInstanceIndex(){console.warn("Abstract function.")}getFrontFacing(){console.warn("Abstract function.")}getFragCoord(){console.warn("Abstract function.")}isFlipY(){return!1}generateTexture(){console.warn("Abstract function.")}generateTextureLod(){console.warn("Abstract function.")}generateConst(e,n=null){if(n===null&&(e==="float"||e==="int"||e==="uint"?n=0:e==="bool"?n=!1:e==="color"?n=new Tt:e==="vec2"?n=new Xe:e==="vec3"?n=new J:e==="vec4"&&(n=new En)),e==="float")return by(n);if(e==="int")return`${Math.round(n)}`;if(e==="uint")return n>=0?`${Math.round(n)}u`:"0u";if(e==="bool")return n?"true":"false";if(e==="color")return`${this.getType("vec3")}( ${by(n.r)}, ${by(n.g)}, ${by(n.b)} )`;const r=this.getTypeLength(e),i=this.getComponentType(e),o=s=>this.generateConst(i,s);if(r===2)return`${this.getType(e)}( ${o(n.x)}, ${o(n.y)} )`;if(r===3)return`${this.getType(e)}( ${o(n.x)}, ${o(n.y)}, ${o(n.z)} )`;if(r===4)return`${this.getType(e)}( ${o(n.x)}, ${o(n.y)}, ${o(n.z)}, ${o(n.w)} )`;if(r>4&&n&&(n.isMatrix3||n.isMatrix4))return`${this.getType(e)}( ${n.elements.map(o).join(", ")} )`;if(r>4)return`${this.getType(e)}()`;throw new Error(`NodeBuilder: Type '${e}' not found in generate constant attempt.`)}getType(e){return e==="color"?"vec3":e}generateMethod(e){return e}hasGeometryAttribute(e){return this.geometry&&this.geometry.getAttribute(e)!==void 0}getAttribute(e,n){const r=this.attributes;for(const o of r)if(o.name===e)return o;const i=new JL(e,n);return r.push(i),i}getPropertyName(e){return e.name}isVector(e){return/vec\d/.test(e)}isMatrix(e){return/mat\d/.test(e)}isReference(e){return e==="void"||e==="property"||e==="sampler"||e==="texture"||e==="cubeTexture"}needsColorSpaceToLinear(){return!1}getTextureEncodingFromMap(e){return console.warn("THREE.NodeBuilder: Method .getTextureEncodingFromMap replaced by .getTextureColorSpaceFromMap in r152+."),this.getTextureColorSpaceFromMap(e)===Wt?Ec:vb}getTextureColorSpaceFromMap(e){let n;return e&&e.isTexture?n=e.colorSpace:e&&e.isWebGLRenderTarget?n=e.texture.colorSpace:n=ro,n}getComponentType(e){if(e=this.getVectorType(e),e==="float"||e==="bool"||e==="int"||e==="uint")return e;const n=/(b|i|u|)(vec|mat)([2-4])/.exec(e);return n===null?null:n[1]==="b"?"bool":n[1]==="i"?"int":n[1]==="u"?"uint":"float"}getVectorType(e){return e==="color"?"vec3":e==="texture"?"vec4":e}getTypeFromLength(e,n="float"){if(e===1)return n;const r=J8e.get(e);return(n==="float"?"":n[0])+r}getTypeFromArray(e){return e7e.get(e.constructor)}getTypeFromAttribute(e){let n=e;e.isInterleavedBufferAttribute&&(n=e.data);const r=n.array,i=e.itemSize,o=e.normalized;let s;return!(e instanceof cT)&&o!==!0&&(s=this.getTypeFromArray(r)),this.getTypeFromLength(i,s)}getTypeLength(e){const n=this.getVectorType(e),r=/vec([2-4])/.exec(n);return r!==null?Number(r[1]):n==="float"||n==="bool"||n==="int"||n==="uint"?1:/mat3/.test(e)===!0?9:/mat4/.test(e)===!0?16:0}getVectorFromMatrix(e){return e.replace("mat","vec")}changeComponentType(e,n){return this.getTypeFromLength(this.getTypeLength(e),n)}getIntegerType(e){const n=this.getComponentType(e);return n==="int"||n==="uint"?e:this.changeComponentType(e,"int")}addStack(){return this.stack=aD(this.stack),this.stacks.push(PG()||this.stack),vx(this.stack),this.stack}removeStack(){const e=this.stack;return this.stack=e.parent,vx(this.stacks.pop()),e}getDataFromNode(e,n=this.shaderStage,r=null){r=r===null?e.isGlobal(this)?this.globalCache:this.cache:r;let i=r.getNodeData(e);return i===void 0&&(i={},r.setNodeData(e,i)),i[n]===void 0&&(i[n]={}),i[n]}getNodeProperties(e,n="any"){const r=this.getDataFromNode(e,n);return r.properties||(r.properties={outputNode:null})}getBufferAttributeFromNode(e,n){const r=this.getDataFromNode(e);let i=r.bufferAttribute;if(i===void 0){const o=this.uniforms.index++;i=new JL("nodeAttribute"+o,n,e),this.bufferAttributes.push(i),r.bufferAttribute=i}return i}getStructTypeFromNode(e,n=this.shaderStage){const r=this.getDataFromNode(e,n);if(r.structType===void 0){const i=this.structs.index++;e.name=`StructType${i}`,this.structs[n].push(e),r.structType=e}return e}getUniformFromNode(e,n,r=this.shaderStage,i=null){const o=this.getDataFromNode(e,r,this.globalCache);let s=o.uniform;if(s===void 0){const a=this.uniforms.index++;s=new kSe(i||"nodeUniform"+a,n,e),this.uniforms[r].push(s),o.uniform=s}return s}getVarFromNode(e,n=null,r=e.getNodeType(this),i=this.shaderStage){const o=this.getDataFromNode(e,i);let s=o.variable;if(s===void 0){const a=this.vars[i]||(this.vars[i]=[]);n===null&&(n="nodeVar"+a.length),s=new HG(n,r),a.push(s),o.variable=s}return s}getVaryingFromNode(e,n=null,r=e.getNodeType(this)){const i=this.getDataFromNode(e,"any");let o=i.varying;if(o===void 0){const s=this.varyings,a=s.length;n===null&&(n="nodeVarying"+a),o=new zSe(n,r),s.push(o),i.varying=o}return o}getCodeFromNode(e,n,r=this.shaderStage){const i=this.getDataFromNode(e);let o=i.code;if(o===void 0){const s=this.codes[r]||(this.codes[r]=[]),a=s.length;o=new VSe("nodeCode"+a,n),s.push(o),i.code=o}return o}addLineFlowCode(e){return e===""?this:(e=this.tab+e,/;\s*$/.test(e)||(e=e+`;
`),this.flow.code+=e,this)}addFlowCode(e){return this.flow.code+=e,this}addFlowTab(){return this.tab+="	",this}removeFlowTab(){return this.tab=this.tab.slice(0,-1),this}getFlowData(e){return this.flowsData.get(e)}flowNode(e){const n=e.getNodeType(this),r=this.flowChildNode(e,n);return this.flowsData.set(e,r),r}buildFunctionNode(e){const n=new jG,r=this.currentFunctionNode;return this.currentFunctionNode=n,n.code=this.buildFunctionCode(e),this.currentFunctionNode=r,n}flowShaderNode(e){const n=e.layout;let r;if(e.isArrayInput){r=[];for(const s of n.inputs)r.push(new _w(s.type,s.name))}else{r={};for(const s of n.inputs)r[s.name]=new _w(s.type,s.name)}e.layout=null;const i=e.call(r),o=this.flowStagesNode(i,n.type);return e.layout=n,o}flowStagesNode(e,n=null){const r=this.flow,i=this.vars,o=this.buildStage,s={code:""};this.flow=s,this.vars={};for(const a of qL)this.setBuildStage(a),s.result=e.build(this,n);return s.vars=this.getVars(this.shaderStage),this.flow=r,this.vars=i,this.setBuildStage(o),s}getFunctionOperator(){return null}flowChildNode(e,n=null){const r=this.flow,i={code:""};return this.flow=i,i.result=e.build(this,n),this.flow=r,i}flowNodeFromShaderStage(e,n,r=null,i=null){const o=this.shaderStage;this.setShaderStage(e);const s=this.flowChildNode(n,r);return i!==null&&(s.code+=`${this.tab+i} = ${s.result};
`),this.flowCode[e]=this.flowCode[e]+s.code,this.setShaderStage(o),s}getAttributesArray(){return this.attributes.concat(this.bufferAttributes)}getAttributes(){console.warn("Abstract function.")}getVaryings(){console.warn("Abstract function.")}getVar(e,n){return`${this.getType(e)} ${n}`}getVars(e){let n="";const r=this.vars[e];if(r!==void 0)for(const i of r)n+=`${this.getVar(i.type,i.name)}; `;return n}getUniforms(){console.warn("Abstract function.")}getCodes(e){const n=this.codes[e];let r="";if(n!==void 0)for(const i of n)r+=i.code+`
`;return r}getHash(){return this.vertexShader+this.fragmentShader+this.computeShader}setShaderStage(e){this.shaderStage=e}getShaderStage(){return this.shaderStage}setBuildStage(e){this.buildStage=e}getBuildStage(){return this.buildStage}buildCode(){console.warn("Abstract function.")}build(){for(const e of qL){this.setBuildStage(e),this.context.vertex&&this.context.vertex.isNode&&this.flowNodeFromShaderStage("vertex",this.context.vertex);for(const n of Qbe){this.setShaderStage(n);const r=this.flowNodes[n];for(const i of r)e==="generate"?this.flowNode(i):i.build(this)}}return this.setBuildStage(null),this.setShaderStage(null),this.buildCode(),this.buildUpdateNodes(),this}getNodeUniform(e,n){if(n==="float")return new G8e(e);if(n==="vec2")return new W8e(e);if(n==="vec3")return new j8e(e);if(n==="vec4")return new X8e(e);if(n==="color")return new q8e(e);if(n==="mat3")return new K8e(e);if(n==="mat4")return new Y8e(e);throw new Error(`Uniform "${n}" not declared.`)}createNodeMaterial(e){return oS(e)}getPrimitiveType(e){let n;return e[0]==="i"?n="int":e[0]==="u"?n="uint":n="float",n}format(e,n,r){if(n=this.getVectorType(n),r=this.getVectorType(r),n===r||r===null||this.isReference(r))return e;const i=this.getTypeLength(n),o=this.getTypeLength(r);return i>4||o>4||o===0?e:i===o?`${this.getType(r)}( ${e} )`:i>o?this.format(`${e}.${"xyz".slice(0,o)}`,this.getTypeFromLength(o,this.getComponentType(n)),r):o===4&&i>1?`${this.getType(r)}( ${this.format(e,n,"vec3")}, 1.0 )`:i===2?`${this.getType(r)}( ${this.format(e,n,"vec2")}, 0.0 )`:(i===1&&o>1&&n[0]!==r[0]&&(e=`${this.getType(this.getPrimitiveType(r))}( ${e} )`),`${this.getType(r)}( ${e} )`)}getSignature(){return`// Three.js r${Yf} - NodeMaterial System
`}}class cD{constructor(){this.time=0,this.deltaTime=0,this.frameId=0,this.renderId=0,this.startTime=null,this.updateMap=new WeakMap,this.updateBeforeMap=new WeakMap,this.renderer=null,this.material=null,this.camera=null,this.object=null,this.scene=null}_getMaps(e,n){let r=e.get(n);return r===void 0&&(r={renderMap:new WeakMap,frameMap:new WeakMap},e.set(n,r)),r}updateBeforeNode(e){const n=e.getUpdateBeforeType(),r=e.updateReference(this);if(n===mr.FRAME){const{frameMap:i}=this._getMaps(this.updateBeforeMap,r);i.get(e)!==this.frameId&&(i.set(e,this.frameId),e.updateBefore(this))}else if(n===mr.RENDER){const{renderMap:i}=this._getMaps(this.updateBeforeMap,r);i.get(e)!==this.renderId&&(i.set(e,this.renderId),e.updateBefore(this))}else n===mr.OBJECT&&e.updateBefore(this)}updateNode(e){const n=e.getUpdateType(),r=e.updateReference(this);if(n===mr.FRAME){const{frameMap:i}=this._getMaps(this.updateMap,r);i.get(e)!==this.frameId&&(i.set(e,this.frameId),e.update(this))}else if(n===mr.RENDER){const{renderMap:i}=this._getMaps(this.updateMap,r);i.get(e)!==this.renderId&&(i.set(e,this.renderId),e.update(this))}else n===mr.OBJECT&&e.update(this)}update(){this.frameId++,this.lastTime===void 0&&(this.lastTime=performance.now()),this.deltaTime=(performance.now()-this.lastTime)/1e3,this.lastTime=performance.now(),this.time+=this.deltaTime}}class uM{constructor(e,n,r=null,i="",o=!1){this.type=e,this.name=n,this.count=r,this.qualifier=i,this.isConst=o}}uM.isNodeFunctionInput=!0;class DW extends tn{constructor(e){super(),this.types=e,this.isStructTypeNode=!0}getMemberTypes(){return this.types}}ut("StructTypeNode",DW);class FW extends tn{constructor(...e){super(),this.isOutputStructNode=!0,this.members=e}setup(e){super.setup(e);const n=this.members,r=[];for(let i=0;i<n.length;i++)r.push(n[i].getNodeType(e));this.nodeType=e.getStructTypeFromNode(new DW(r)).name}generate(e,n){const r=e.getVarFromNode(this);r.isOutputStructVar=!0;const i=e.getPropertyName(r),o=this.members,s=i!==""?i+".":"";for(let a=0;a<o.length;a++){const l=o[a].build(e,n);e.addLineFlowCode(`${s}m${a} = ${l}`)}return i}}He(FW);ut("OutputStructNode",FW);class $W extends tn{constructor(e){super(),this.seedNode=e}setup(){const e=this.seedNode.uint().mul(747796405).add(2891336453),n=e.shiftRight(e.shiftRight(28).add(4)).bitXor(e).mul(277803737);return n.shiftRight(22).bitXor(n).float().mul(1/2**32)}}const t7e=He($W);Be("hash",t7e);ut("HashNode",$W);let R7;class UW extends cM{constructor(e){R7=R7||rM("discard"),super(e,R7)}}const n7e=He(UW),r7e=t=>n7e(t).append();Be("discard",r7e);ut("DiscardNode",UW);class BW extends tn{constructor(e=[],...n){super(),this.functionNodes=e,this.parametersNodes=n,this._candidateFnCall=null}getNodeType(){return this.functionNodes[0].shaderNode.layout.type}setup(e){const n=this.parametersNodes;let r=this._candidateFnCall;if(r===null){let i=null,o=-1;for(const s of this.functionNodes){const l=s.shaderNode.layout;if(l===null)throw new Error("FunctionOverloadingNode: FunctionNode must be a layout.");const c=l.inputs;if(n.length===c.length){let u=0;for(let d=0;d<n.length;d++){const f=n[d],h=c[d];f.getNodeType(e)===h.type?u++:u=0}u>o&&(i=s,o=u)}}this._candidateFnCall=r=i(...n)}return r}}const i7e=He(BW),Ra=t=>(...e)=>i7e(t,...e);ut("FunctionOverloadingNode",BW);class kW extends tn{constructor(e=[]){super(),this.params=e}getVarName(e){return String.fromCharCode("i".charCodeAt()+e)}getProperties(e){const n=e.getNodeProperties(this);if(n.stackNode!==void 0)return n;const r={};for(let i=0,o=this.params.length-1;i<o;i++){const s=this.params[i],a=s.isNode!==!0&&s.name||this.getVarName(i),l=s.isNode!==!0&&s.type||"int";r[a]=rM(a,l)}return n.returnsNode=this.params[this.params.length-1](r,e.addStack(),e),n.stackNode=e.removeStack(),n}getNodeType(e){const{returnsNode:n}=this.getProperties(e);return n?n.getNodeType(e):"void"}setup(e){this.getProperties(e)}generate(e){const n=this.getProperties(e),r={tempWrite:!1},i=this.params,o=n.stackNode;for(let l=0,c=i.length-1;l<c;l++){const u=i[l];let d=null,f=null,h=null,g=null,x=null,b=null;u.isNode?(g="int",h=this.getVarName(l),d="0",f=u.build(e,g),x="<"):(g=u.type||"int",h=u.name||this.getVarName(l),d=u.start,f=u.end,x=u.condition,b=u.update,typeof d=="number"?d=d.toString():d&&d.isNode&&(d=d.build(e,g)),typeof f=="number"?f=f.toString():f&&f.isNode&&(f=f.build(e,g)),d!==void 0&&f===void 0?(d=d+" - 1",f="0",x=">="):f!==void 0&&d===void 0&&(d="0",x="<"),x===void 0&&(Number(d)>Number(f)?x=">=":x="<"));const v={start:d,end:f,condition:x},_=v.start,S=v.end;let w="",M="",E="";b||(g==="int"?x.includes("<")?b="++":b="--":x.includes("<")?b="+= 1":b="-= 1"),w+=e.getVar(g,h)+" = "+_,M+=h+" "+x+" "+S,E+=h+" "+b;const T=`for ( ${w}; ${M}; ${E} )`;e.addFlowCode((l===0?`
`:"")+e.tab+T+` {

`).addFlowTab()}const s=Ll(o,r).build(e,"void"),a=n.returnsNode?n.returnsNode.build(e):"";e.removeFlowTab().addFlowCode(`
`+e.tab+s);for(let l=0,c=this.params.length-1;l<c;l++)e.addFlowCode((l===0?"":e.tab)+`}

`).removeFlowTab();return e.addFlowTab(),a}}const Wi=(...t)=>jt(new kW(Zp(t,"int"))).append();Be("loop",(t,...e)=>$G(t,Wi(...e)));ut("LoopNode",kW);class zW extends Wr{constructor(){super("vec2")}setup(){const e=tt(zi.z,0,zi.x.negate()).normalize(),n=zi.cross(e);return un(e.dot(bi),n.dot(bi)).mul(.495).add(.5)}}xt(zW);ut("MatcapUVNode",zW);class os extends ud{constructor(e=os.LOCAL,n=1,r=0){super(r),this.scope=e,this.scale=n,this.updateType=mr.FRAME}update(e){const n=this.scope,r=this.scale;n===os.LOCAL?this.value+=e.deltaTime*r:n===os.DELTA?this.value=e.deltaTime*r:n===os.FRAME?this.value=e.frameId:this.value=e.time*r}serialize(e){super.serialize(e),e.scope=this.scope,e.scale=this.scale}deserialize(e){super.deserialize(e),this.scope=e.scope,this.scale=e.scale}}os.LOCAL="local";os.GLOBAL="global";os.DELTA="delta";os.FRAME="frame";const o7e=(t,e=0)=>jt(new os(os.LOCAL,t,e));xt(os,os.FRAME).uint();ut("TimerNode",os);class Mi extends tn{constructor(e=Mi.SINE,n=o7e()){super(),this.method=e,this.timeNode=n}getNodeType(e){return this.timeNode.getNodeType(e)}setup(){const e=this.method,n=jt(this.timeNode);let r=null;return e===Mi.SINE?r=n.add(.75).mul(Math.PI*2).sin().mul(.5).add(.5):e===Mi.SQUARE?r=n.fract().round():e===Mi.TRIANGLE?r=n.add(.5).fract().mul(2).sub(1).abs():e===Mi.SAWTOOTH&&(r=n.fract()),r}serialize(e){super.serialize(e),e.method=this.method}deserialize(e){super.deserialize(e),this.method=e.method}}Mi.SINE="sine";Mi.SQUARE="square";Mi.TRIANGLE="triangle";Mi.SAWTOOTH="sawtooth";He(Mi,Mi.SINE);He(Mi,Mi.SQUARE);He(Mi,Mi.TRIANGLE);He(Mi,Mi.SAWTOOTH);ut("OscNode",Mi);class kl extends Wr{constructor(e,n){super(),this.scope=e,this.node=n}getNodeType(e){return this.node.getNodeType(e)}setup(){const{scope:e,node:n}=this;let r=null;return e===kl.DIRECTION_TO_COLOR?r=n.mul(.5).add(.5):e===kl.COLOR_TO_DIRECTION&&(r=n.mul(2).sub(1)),r}}kl.DIRECTION_TO_COLOR="directionToColor";kl.COLOR_TO_DIRECTION="colorToDirection";const VW=He(kl,kl.DIRECTION_TO_COLOR),s7e=He(kl,kl.COLOR_TO_DIRECTION);Be("directionToColor",VW);Be("colorToDirection",s7e);ut("PackingNode",kl);class dM extends tn{constructor(e,n,r,i=be(0),o=be(1)){super(),this.node=e,this.inLowNode=n,this.inHighNode=r,this.outLowNode=i,this.outHighNode=o,this.doClamp=!0}setup(){const{node:e,inLowNode:n,inHighNode:r,outLowNode:i,outHighNode:o,doClamp:s}=this;let a=e.sub(n).div(r.sub(n));return s===!0&&(a=a.clamp()),a.mul(o.sub(i)).add(i)}}const a7e=He(dM,null,null,{doClamp:!1}),l7e=He(dM);Be("remap",a7e);Be("remapClamp",l7e);ut("RemapNode",dM);class HW extends Wr{constructor(e,n,r=un(.5)){super("vec2"),this.uvNode=e,this.rotationNode=n,this.centerNode=r}setup(){const{uvNode:e,rotationNode:n,centerNode:r}=this,i=n.cos(),o=n.sin(),s=e.sub(r);return un(un(i,o).dot(s),un(o.negate(),i).dot(s)).add(r)}}const c7e=He(HW);Be("rotateUV",c7e);ut("RotateUVNode",HW);class GW extends tn{constructor(e,n=dd(),r=be(0)){super("vec2"),this.countNode=e,this.uvNode=n,this.frameNode=r}setup(){const{frameNode:e,uvNode:n,countNode:r}=this,{width:i,height:o}=r,s=e.mod(i.mul(o)).floor(),a=s.mod(i),l=o.sub(s.add(1).div(i).ceil()),c=r.reciprocal(),u=un(a,l);return n.add(u).mul(c)}}He(GW);ut("SpriteSheetUVNode",GW);class WW extends tn{constructor(e,n=null,r=null,i=be(1),o=ds,s=Bc){super("vec4"),this.textureXNode=e,this.textureYNode=n,this.textureZNode=r,this.scaleNode=i,this.positionNode=o,this.normalNode=s}setup(){const{textureXNode:e,textureYNode:n,textureZNode:r,scaleNode:i,positionNode:o,normalNode:s}=this;let a=s.abs().normalize();a=a.div(a.dot(tt(1)));const l=o.yz.mul(i),c=o.zx.mul(i),u=o.xy.mul(i),d=e.value,f=n!==null?n.value:d,h=r!==null?r.value:d,g=us(d,l).mul(a.x),x=us(f,c).mul(a.y),b=us(h,u).mul(a.z);return wa(g,x,b)}}const u7e=He(WW),d7e=(...t)=>u7e(...t);Be("triplanarTexture",d7e);ut("TriplanarTexturesNode",WW);class Ri extends tn{constructor(e=Ri.LOCAL){super("vec3"),this.scope=e}getHash(){return`bitangent-${this.scope}`}generate(e){const n=this.scope;let r;n===Ri.GEOMETRY?r=_x.cross(wx):n===Ri.LOCAL?r=Bc.cross(aM):n===Ri.VIEW?r=Qu.cross(nS):n===Ri.WORLD&&(r=tS.cross(C8e));const i=r.mul(wx.w).xyz;return Ca(li(i)).build(e,this.getNodeType(e))}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}Ri.GEOMETRY="geometry";Ri.LOCAL="local";Ri.VIEW="view";Ri.WORLD="world";xt(Ri,Ri.GEOMETRY);xt(Ri,Ri.LOCAL);const f7e=xt(Ri,Ri.VIEW);xt(Ri,Ri.WORLD);const h7e=Ca(bi.cross(gW).mul(wx.w));Ca(h7e.transformDirection(fd));ut("BitangentNode",Ri);const sS=1/6,jW=t=>Qr(sS,Qr(t,Qr(t,t.negate().add(3)).sub(3)).add(1)),Rw=t=>Qr(sS,Qr(t,Qr(t,Qr(3,t).sub(6))).add(4)),XW=t=>Qr(sS,Qr(t,Qr(t,Qr(-3,t).add(3)).add(3)).add(1)),Aw=t=>Qr(sS,nM(t,3)),uD=t=>jW(t).add(Rw(t)),dD=t=>XW(t).add(Aw(t)),fD=t=>wa(-1,Rw(t).div(jW(t).add(Rw(t)))),hD=t=>wa(1,Aw(t).div(XW(t).add(Aw(t)))),pD=(t,e,n)=>{const r=t.uvNode,i=Qr(r,e.zw).add(.5),o=W3(i),s=tM(i),a=uD(s.x),l=dD(s.x),c=fD(s.x),u=hD(s.x),d=fD(s.y),f=hD(s.y),h=un(o.x.add(c),o.y.add(d)).sub(.5).mul(e.xy),g=un(o.x.add(u),o.y.add(d)).sub(.5).mul(e.xy),x=un(o.x.add(c),o.y.add(f)).sub(.5).mul(e.xy),b=un(o.x.add(u),o.y.add(f)).sub(.5).mul(e.xy),v=uD(s.y).mul(wa(a.mul(t.uv(h).level(n)),l.mul(t.uv(g).level(n)))),_=dD(s.y).mul(wa(a.mul(t.uv(x).level(n)),l.mul(t.uv(b).level(n))));return v.add(_)},p7e=(t,e)=>{const n=un(t.size(pe(e))),r=un(t.size(pe(e.add(1)))),i=e3(1,n),o=e3(1,r),s=pD(t,kn(i,n),W3(e)),a=pD(t,kn(o,r),QG(e));return tM(e).mix(s,a)};class qW extends Wr{constructor(e,n=be(3)){super("vec4"),this.textureNode=e,this.blurNode=n}setup(){return p7e(this.textureNode,this.blurNode)}}const m7e=He(qW);Be("bicubic",m7e);ut("TextureBicubicNode",qW);class KW extends tn{constructor(){super("vec2"),this.isPointUVNode=!0}generate(){return"vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y )"}}xt(KW);ut("PointUVNode",KW);class Qa extends tn{constructor(e=Qa.BACKGROUND_BLURRINESS,n=null){super(),this.scope=e,this.scene=n}setup(e){const n=this.scope,r=this.scene!==null?this.scene:e.scene;let i;return n===Qa.BACKGROUND_BLURRINESS?i=Rs("backgroundBlurriness","float",r):n===Qa.BACKGROUND_INTENSITY?i=Rs("backgroundIntensity","float",r):console.error("THREE.SceneNode: Unknown scope:",n),i}}Qa.BACKGROUND_BLURRINESS="backgroundBlurriness";Qa.BACKGROUND_INTENSITY="backgroundIntensity";const g7e=xt(Qa,Qa.BACKGROUND_BLURRINESS),v7e=xt(Qa,Qa.BACKGROUND_INTENSITY);ut("SceneNode",Qa);class y7e extends sM{constructor(e,n,r=0){super(e,n,r),this.isStorageBufferNode=!0}getInputType(){return"storageBuffer"}}ut("StorageBufferNode",y7e);class YW extends v0{constructor(e,n,r=null){super(e,n),this.storeNode=r,this.isStoreTextureNode=!0}getNodeType(){return"void"}}He(YW);ut("TextureStoreNode",YW);class x7e extends X3{constructor(e,n,r=null){super(e,n,r),this.userData=r}update(e){this.reference=this.userData!==null?this.userData:e.object.userData,super.update(e)}}ut("UserDataNode",x7e);const b7e=pt(({base:t,blend:e})=>{const n=r=>e[r].lessThan(ZG).cond(e[r],t[r].oneMinus().div(e[r]).oneMinus().max(0));return tt(n("x"),n("y"),n("z"))}),S7e=pt(({base:t,blend:e})=>{const n=r=>e[r].equal(1).cond(e[r],t[r].div(e[r].oneMinus()).max(0));return tt(n("x"),n("y"),n("z"))}),_7e=pt(({base:t,blend:e})=>{const n=r=>t[r].oneMinus().mul(e[r].oneMinus()).oneMinus();return tt(n("x"),n("y"),n("z"))}),w7e=pt(({base:t,blend:e})=>{const n=r=>t[r].lessThan(.5).cond(t[r].mul(e[r],2),t[r].oneMinus().mul(e[r].oneMinus()).oneMinus());return tt(n("x"),n("y"),n("z"))});class Vi extends Wr{constructor(e,n,r){super(),this.blendMode=e,this.baseNode=n,this.blendNode=r}setup(){const{blendMode:e,baseNode:n,blendNode:r}=this,i={base:n,blend:r};let o=null;return e===Vi.BURN?o=b7e(i):e===Vi.DODGE?o=S7e(i):e===Vi.SCREEN?o=_7e(i):e===Vi.OVERLAY&&(o=w7e(i)),o}}Vi.BURN="burn";Vi.DODGE="dodge";Vi.SCREEN="screen";Vi.OVERLAY="overlay";const C7e=He(Vi,Vi.BURN),E7e=He(Vi,Vi.DODGE),T7e=He(Vi,Vi.OVERLAY),M7e=He(Vi,Vi.SCREEN);Be("burn",C7e);Be("dodge",E7e);Be("overlay",T7e);Be("screen",M7e);ut("BlendModeNode",Vi);class ZW extends tn{constructor(){super("bool"),this.isFrontFacingNode=!0}generate(e){return e.getFrontFacing()}}const R7e=xt(ZW),QW=be(R7e).mul(2).sub(1);ut("FrontFacingNode",ZW);const A7e=pt(({textureNode:t,bumpScale:e})=>{let n=t;if(n.isTextureNode!==!0&&n.traverse(s=>{s.isTextureNode===!0&&(n=s)}),n.isTextureNode!==!0)throw new Error("THREE.TSL: dHdxy_fwd() requires a TextureNode.");const r=be(t),i=n.uvNode||dd(),o=s=>t.cache().context({getUV:()=>s,forceUVContext:!0});return un(be(o(i.add(i.dFdx()))).sub(r),be(o(i.add(i.dFdy()))).sub(r)).mul(e)}),P7e=pt(t=>{const{surf_pos:e,surf_norm:n,dHdxy:r}=t,i=e.dFdx().normalize(),o=e.dFdy().normalize(),s=n,a=o.cross(s),l=s.cross(i),c=i.dot(a).mul(QW),u=c.sign().mul(r.x.mul(a).add(r.y.mul(l)));return c.abs().mul(n).sub(u).normalize()});class JW extends Wr{constructor(e,n=null){super("vec3"),this.textureNode=e,this.scaleNode=n}setup(){const e=this.scaleNode!==null?this.scaleNode:1,n=A7e({textureNode:this.textureNode,bumpScale:e});return P7e({surf_pos:Bl,surf_norm:Qu,dHdxy:n})}}const N7e=He(JW);Be("bumpMap",N7e);ut("BumpMapNode",JW);const I7e=pt(({color:t,adjustment:e})=>e.mix(B7e(t.rgb),t.rgb)),O7e=pt(({color:t,adjustment:e})=>{const n=wa(t.r,t.g,t.b).div(3),r=t.r.max(t.g.max(t.b)),i=r.sub(n).mul(e).mul(-3);return Wl(t.rgb,r,i)}),L7e=pt(({color:t,adjustment:e})=>{const n=tt(.57735,.57735,.57735),r=e.cos();return tt(t.rgb.mul(r).add(n.cross(t.rgb).mul(e.sin()).add(n.mul(j3(n,t.rgb).mul(r.oneMinus())))))});class fs extends Wr{constructor(e,n,r=be(1)){super("vec3"),this.method=e,this.colorNode=n,this.adjustmentNode=r}setup(){const{method:e,colorNode:n,adjustmentNode:r}=this,i={color:n,adjustment:r};let o=null;return e===fs.SATURATION?o=I7e(i):e===fs.VIBRANCE?o=O7e(i):e===fs.HUE?o=L7e(i):console.error(`${this.type}: Method "${this.method}" not supported!`),o}}fs.SATURATION="saturation";fs.VIBRANCE="vibrance";fs.HUE="hue";const D7e=He(fs,fs.SATURATION),F7e=He(fs,fs.VIBRANCE),$7e=He(fs,fs.HUE),U7e=tt(.2125,.7154,.0721),B7e=(t,e=U7e)=>j3(t,e);Be("saturation",D7e);Be("vibrance",F7e);Be("hue",$7e);ut("ColorAdjustmentNode",fs);const k7e=pt(t=>{const{eye_pos:e,surf_norm:n,mapN:r,uv:i}=t,o=e.dFdx(),s=e.dFdy(),a=i.dFdx(),l=i.dFdy(),c=n,u=s.cross(c),d=c.cross(o),f=u.mul(a.x).add(d.mul(l.x)),h=u.mul(a.y).add(d.mul(l.y)),g=f.dot(f).max(h.dot(h)),x=QW.mul(g.inverseSqrt());return wa(f.mul(r.x,x),h.mul(r.y,x),c.mul(r.z)).normalize()});class ej extends Wr{constructor(e,n=null){super("vec3"),this.node=e,this.scaleNode=n,this.normalMapType=$l}setup(e){const{normalMapType:n,scaleNode:r}=this;let i=this.node.mul(2).sub(1);r!==null&&(i=tt(i.xy.mul(r),i.z));let o=null;return n===rT?o=aW.mul(i).normalize():n===$l&&(e.hasGeometryAttribute("tangent")===!0?o=V7e.mul(i).normalize():o=k7e({eye_pos:Bl,surf_norm:Qu,mapN:i,uv:dd()})),o}}const z7e=He(ej),V7e=jm(nS,f7e,Qu);Be("normalMap",z7e);ut("NormalMapNode",ej);class tj extends Wr{constructor(e,n){super(),this.sourceNode=e,this.stepsNode=n}setup(){const{sourceNode:e,stepsNode:n}=this;return e.mul(n).floor().div(n)}}const H7e=He(tj);Be("posterize",H7e);ut("PosterizeNode",tj);const G7e=pt(({color:t,exposure:e})=>t.mul(e).clamp()),W7e=pt(({color:t,exposure:e})=>(t=t.mul(e),t.div(t.add(1)).clamp())),j7e=pt(({color:t,exposure:e})=>{t=t.mul(e),t=t.sub(.004).max(0);const n=t.mul(t.mul(6.2).add(.5)),r=t.mul(t.mul(6.2).add(1.7)).add(.06);return n.div(r).pow(2.2)}),X7e=pt(({color:t})=>{const e=t.mul(t.add(.0245786)).sub(90537e-9),n=t.mul(t.add(.432951).mul(.983729)).add(.238081);return e.div(n)}),q7e=pt(({color:t,exposure:e})=>{const n=jm(.59719,.35458,.04823,.076,.90834,.01566,.0284,.13383,.83777),r=jm(1.60475,-.53108,-.07367,-.10208,1.10813,-.00605,-.00327,-.07276,1.07602);return t=t.mul(e).div(.6),t=n.mul(t),t=X7e({color:t}),t=r.mul(t),t.clamp()}),K7e={[XE]:G7e,[qE]:W7e,[KE]:j7e,[sb]:q7e};class nj extends Wr{constructor(e=Vo,n=be(1),r=null){super("vec3"),this.toneMapping=e,this.exposureNode=n,this.colorNode=r}getCacheKey(){let e=super.getCacheKey();return e="{toneMapping:"+this.toneMapping+",nodes:"+e+"}",e}setup(e){const n=this.colorNode||e.context.color,r=this.toneMapping;if(r===Vo)return n;const i={exposure:this.exposureNode,color:n},o=K7e[r];let s=null;return o?s=o(i):(console.error("ToneMappingNode: Unsupported Tone Mapping configuration.",r),s=n),s}}const Y7e=(t,e,n)=>jt(new nj(t,jt(e),jt(n)));ut("ToneMappingNode",nj);let A7=null;class rj extends q3{constructor(e=lM,n=null){A7===null&&(A7=new yT),super(e,n,A7)}}const Z7e=He(rj);Be("viewportSharedTexture",Z7e);ut("ViewportSharedTextureNode",rj);const Q7e=new Ml(-1,1,1,-1,0,1);class J7e extends Mn{constructor(e=!1){super();const n=e===!1?[0,-1,0,1,2,1]:[0,2,0,0,2,0];this.setAttribute("position",new Gt([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Gt(n,2))}}const e9e=new J7e;class t9e{constructor(e=null){this._mesh=new Zr(e9e,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,Q7e)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}const n9e=t9e,P7=new n9e;class r9e extends Wr{constructor(e,n=2){super(e),this.textureNode=e,this.sigma=n,this.directionNode=un(1),this._invSize=ui(new Xe),this._passDirection=ui(new Xe),this._horizontalRT=new km,this._verticalRT=new km,this.updateBeforeType=mr.RENDER,this.resolution=new Xe(1,1)}setSize(e,n){e=Math.max(Math.round(e*this.resolution.x),1),n=Math.max(Math.round(n*this.resolution.y),1),this._invSize.value.set(1/e,1/n),this._horizontalRT.setSize(e,n),this._verticalRT.setSize(e,n)}updateBefore(e){const{renderer:n}=e,r=this.textureNode,i=r.value,o=n.getRenderTarget(),s=r.value;P7.material=this._material,this.setSize(i.image.width,i.image.height),n.setRenderTarget(this._horizontalRT),this._passDirection.value.set(1,0),P7.render(n),r.value=this._horizontalRT.texture,n.setRenderTarget(this._verticalRT),this._passDirection.value.set(0,1),P7.render(n),n.setRenderTarget(o),r.value=s}setup(e){const n=this.textureNode;if(n.isTextureNode!==!0)return console.error("GaussianBlurNode requires a TextureNode."),kn();const r=n.uvNode||dd(),i=l=>n.cache().context({getUV:()=>l,forceUVContext:!0}),o=pt(()=>{const l=3+2*this.sigma,c=this._getCoefficients(l),u=this._invSize,d=un(this.directionNode).mul(this._passDirection),f=be(c[0]).toVar(),h=tt(i(r).mul(f)).toVar();for(let g=1;g<l;g++){const x=be(g),b=be(c[g]),v=un(d.mul(u.mul(x))).toVar(),_=tt(i(r.add(v))),S=tt(i(r.sub(v)));h.addAssign(_.add(S).mul(b)),f.addAssign(Qr(2,b))}return kn(h.div(f),1)}),s=this._material||(this._material=e.createNodeMaterial("MeshBasicNodeMaterial"));s.fragmentNode=o();const a=e.getNodeProperties(this);return a.textureNode=n,us(this._verticalRT.texture)}_getCoefficients(e){const n=[];for(let r=0;r<e;r++)n.push(.39894*Math.exp(-.5*r*r/(e*e))/e);return n}}const i9e=(t,e)=>jt(new r9e(jt(t),e));Be("gaussianBlur",i9e);class mD extends v0{constructor(e,n){super(n),this.passNode=e,this.setUpdateMatrix(!1)}setup(e){return this.passNode.build(e),super.setup(e)}clone(){return new this.constructor(this.passNode,this.value)}}class K3 extends Wr{constructor(e,n,r){super("vec4"),this.scope=e,this.scene=n,this.camera=r,this._pixelRatio=1,this._width=1,this._height=1;const i=new ad;i.isRenderTargetTexture=!0,i.type=$r,i.name="PostProcessingDepth";const o=new km(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:Za});o.texture.name="PostProcessing",o.depthTexture=i,this.renderTarget=o,this.updateBeforeType=mr.FRAME,this._textureNode=jt(new mD(this,o.texture)),this._depthTextureNode=jt(new mD(this,i)),this._depthNode=null,this._cameraNear=ui(0),this._cameraFar=ui(0),this.isPassNode=!0}isGlobal(){return!0}getTextureNode(){return this._textureNode}getTextureDepthNode(){return this._depthTextureNode}getDepthNode(){if(this._depthNode===null){const e=this._cameraNear,n=this._cameraFar;this._depthNode=Tw(PW(this._depthTextureNode,e,n),e,n)}return this._depthNode}setup(){return this.scope===K3.COLOR?this.getTextureNode():this.getDepthNode()}updateBefore(e){const{renderer:n}=e,{scene:r,camera:i}=this;this._pixelRatio=n.getPixelRatio();const o=n.getSize(new Xe);this.setSize(o.width,o.height);const s=n.toneMapping,a=n.toneMappingNode,l=n.getRenderTarget();this._cameraNear.value=i.near,this._cameraFar.value=i.far,n.toneMapping=Vo,n.toneMappingNode=null,n.setRenderTarget(this.renderTarget),n.render(r,i),n.toneMapping=s,n.toneMappingNode=a,n.setRenderTarget(l)}setSize(e,n){this._width=e,this._height=n;const r=this._width*this._pixelRatio,i=this._height*this._pixelRatio;this.renderTarget.setSize(r,i)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget.dispose()}}K3.COLOR="color";K3.DEPTH="depth";ut("PassNode",K3);class ij extends Wr{constructor(e=null,n={}){super(),this.functionNode=e,this.parameters=n}setParameters(e){return this.parameters=e,this}getParameters(){return this.parameters}getNodeType(e){return this.functionNode.getNodeType(e)}generate(e){const n=[],r=this.functionNode,i=r.getInputs(e),o=this.parameters;if(Array.isArray(o))for(let a=0;a<o.length;a++){const l=i[a],c=o[a];n.push(c.build(e,l.type))}else for(const a of i){const l=o[a.name];if(l!==void 0)n.push(l.build(e,a.type));else throw new Error(`FunctionCallNode: Input '${a.name}' not found in FunctionNode.`)}return`${r.build(e,"property")}( ${n.join(", ")} )`}}const o9e=(t,...e)=>(e=e.length>1||e[0]&&e[0].isNode===!0?Zp(e):eS(e[0]),jt(new ij(jt(t),e)));Be("call",o9e);ut("FunctionCallNode",ij);class oj extends tn{constructor(e=null){super(),this._value=e,this._cache=null,this.inputType=null,this.outpuType=null,this.events=new Ta,this.isScriptableValueNode=!0}get isScriptableOutputNode(){return this.outputType!==null}set value(e){this._value!==e&&(this._cache&&this.inputType==="URL"&&this.value.value instanceof ArrayBuffer&&(URL.revokeObjectURL(this._cache),this._cache=null),this._value=e,this.events.dispatchEvent({type:"change"}),this.refresh())}get value(){return this._value}refresh(){this.events.dispatchEvent({type:"refresh"})}getValue(){const e=this.value;if(e&&this._cache===null&&this.inputType==="URL"&&e.value instanceof ArrayBuffer)this._cache=URL.createObjectURL(new Blob([e.value]));else if(e&&e.value!==null&&e.value!==void 0&&((this.inputType==="URL"||this.inputType==="String")&&typeof e.value=="string"||this.inputType==="Number"&&typeof e.value=="number"||this.inputType==="Vector2"&&e.value.isVector2||this.inputType==="Vector3"&&e.value.isVector3||this.inputType==="Vector4"&&e.value.isVector4||this.inputType==="Color"&&e.value.isColor||this.inputType==="Matrix3"&&e.value.isMatrix3||this.inputType==="Matrix4"&&e.value.isMatrix4))return e.value;return this._cache||e}getNodeType(e){return this.value&&this.value.isNode?this.value.getNodeType(e):"float"}setup(){return this.value&&this.value.isNode?this.value:be()}serialize(e){super.serialize(e),this.value!==null?this.inputType==="ArrayBuffer"?e.value=_G(this.value):e.value=this.value?this.value.toJSON(e.meta).uuid:null:e.value=null,e.inputType=this.inputType,e.outputType=this.outputType}deserialize(e){super.deserialize(e);let n=null;e.value!==null&&(e.inputType==="ArrayBuffer"?n=wG(e.value):e.inputType==="Texture"?n=e.meta.textures[e.value]:n=e.meta.nodes[e.value]||null),this.value=n,this.inputType=e.inputType,this.outputType=e.outputType}}const o5=He(oj);Be("scriptableValue",o5);ut("ScriptableValueNode",oj);class sj extends Map{get(e,n=null,...r){if(this.has(e))return super.get(e);if(n!==null){const i=n(...r);return this.set(e,i),i}}}class s9e{constructor(e){this.scriptableNode=e}get parameters(){return this.scriptableNode.parameters}get layout(){return this.scriptableNode.getLayout()}getInputLayout(e){return this.scriptableNode.getInputLayout(e)}get(e){const n=this.parameters[e];return n?n.getValue():null}}const N7=new sj;class aj extends tn{constructor(e=null,n={}){super(),this.codeNode=e,this.parameters=n,this._local=new sj,this._output=o5(),this._outputs={},this._source=this.source,this._method=null,this._object=null,this._value=null,this._needsOutputUpdate=!0,this.onRefresh=this.onRefresh.bind(this),this.isScriptableNode=!0}get source(){return this.codeNode?this.codeNode.code:""}setLocal(e,n){return this._local.set(e,n)}getLocal(e){return this._local.get(e)}onRefresh(){this._refresh()}getInputLayout(e){for(const n of this.getLayout())if(n.inputType&&(n.id===e||n.name===e))return n}getOutputLayout(e){for(const n of this.getLayout())if(n.outputType&&(n.id===e||n.name===e))return n}setOutput(e,n){const r=this._outputs;return r[e]===void 0?r[e]=o5(n):r[e].value=n,this}getOutput(e){return this._outputs[e]}getParameter(e){return this.parameters[e]}setParameter(e,n){const r=this.parameters;return n&&n.isScriptableNode?(this.deleteParameter(e),r[e]=n,r[e].getDefaultOutput().events.addEventListener("refresh",this.onRefresh)):n&&n.isScriptableValueNode?(this.deleteParameter(e),r[e]=n,r[e].events.addEventListener("refresh",this.onRefresh)):r[e]===void 0?(r[e]=o5(n),r[e].events.addEventListener("refresh",this.onRefresh)):r[e].value=n,this}getValue(){return this.getDefaultOutput().getValue()}deleteParameter(e){let n=this.parameters[e];return n&&(n.isScriptableNode&&(n=n.getDefaultOutput()),n.events.removeEventListener("refresh",this.onRefresh)),this}clearParameters(){for(const e of Object.keys(this.parameters))this.deleteParameter(e);return this.needsUpdate=!0,this}call(e,...n){const i=this.getObject()[e];if(typeof i=="function")return i(...n)}async callAsync(e,...n){const i=this.getObject()[e];if(typeof i=="function")return i.constructor.name==="AsyncFunction"?await i(...n):i(...n)}getNodeType(e){return this.getDefaultOutputNode().getNodeType(e)}refresh(e=null){e!==null?this.getOutput(e).refresh():this._refresh()}getObject(){if(this.needsUpdate&&this.dispose(),this._object!==null)return this._object;const e=()=>this.refresh(),n=(c,u)=>this.setOutput(c,u),r=new s9e(this),i=N7.get("THREE"),o=N7.get("TSL"),s=this.getMethod(this.codeNode),a=[r,this._local,N7,e,n,i,o];this._object=s(...a);const l=this._object.layout;if(l&&(l.cache===!1&&this._local.clear(),this._output.outputType=l.outputType||null,Array.isArray(l.elements)))for(const c of l.elements){const u=c.id||c.name;c.inputType&&(this.getParameter(u)===void 0&&this.setParameter(u,null),this.getParameter(u).inputType=c.inputType),c.outputType&&(this.getOutput(u)===void 0&&this.setOutput(u,null),this.getOutput(u).outputType=c.outputType)}return this._object}deserialize(e){super.deserialize(e);for(const n in this.parameters){let r=this.parameters[n];r.isScriptableNode&&(r=r.getDefaultOutput()),r.events.addEventListener("refresh",this.onRefresh)}}getLayout(){return this.getObject().layout}getDefaultOutputNode(){const e=this.getDefaultOutput().value;return e&&e.isNode?e:be()}getDefaultOutput(){return this._exec()._output}getMethod(){if(this.needsUpdate&&this.dispose(),this._method!==null)return this._method;const e=["parameters","local","global","refresh","setOutput","THREE","TSL"],r=["layout","init","main","dispose"].join(", "),i="var "+r+`; var output = {};
`,o=`
return { ...output, `+r+" };",s=i+this.codeNode.code+o;return this._method=new Function(...e,s),this._method}dispose(){this._method!==null&&(this._object&&typeof this._object.dispose=="function"&&this._object.dispose(),this._method=null,this._object=null,this._source=null,this._value=null,this._needsOutputUpdate=!0,this._output.value=null,this._outputs={})}setup(){return this.getDefaultOutputNode()}set needsUpdate(e){e===!0&&this.dispose()}get needsUpdate(){return this.source!==this._source}_exec(){return this.codeNode===null?this:(this._needsOutputUpdate===!0&&(this._value=this.call("main"),this._needsOutputUpdate=!1),this._output.value=this._value,this)}_refresh(){this.needsUpdate=!0,this._exec(),this._output.refresh()}}const a9e=He(aj);Be("scriptable",a9e);ut("ScriptableNode",aj);class aS extends tn{constructor(e,n){super("float"),this.isFogNode=!0,this.colorNode=e,this.factorNode=n}mixAssign(e){return this.mix(e,this.colorNode)}setup(){return this.factorNode}}const l9e=He(aS);Be("fog",l9e);ut("FogNode",aS);class lj extends aS{constructor(e,n,r){super(e),this.isFogRangeNode=!0,this.nearNode=n,this.farNode=r}setup(){return Hf(this.nearNode,this.farNode,Bl.z.negate())}}const cj=He(lj);Be("rangeFog",cj);ut("FogRangeNode",lj);class uj extends aS{constructor(e,n){super(e),this.isFogExp2Node=!0,this.densityNode=n}setup(){const e=Bl.z.negate(),n=this.densityNode;return n.mul(n,e,e).negate().exp().oneMinus()}}const dj=He(uj);Be("densityFog",dj);ut("FogExp2Node",uj);let Ld=null,Dd=null;class fj extends tn{constructor(e=be(),n=be()){super(),this.minNode=e,this.maxNode=n}getVectorLength(e){const n=e.getTypeLength(lf(this.minNode.value)),r=e.getTypeLength(lf(this.maxNode.value));return n>r?n:r}getNodeType(e){return e.object.isInstancedMesh===!0?e.getTypeFromLength(this.getVectorLength(e)):"float"}setup(e){const n=e.object;let r=null;if(n.isInstancedMesh===!0){const i=this.minNode.value,o=this.maxNode.value,s=e.getTypeLength(lf(i)),a=e.getTypeLength(lf(o));Ld=Ld||new En,Dd=Dd||new En,Ld.setScalar(0),Dd.setScalar(0),s===1?Ld.setScalar(i):i.isColor?Ld.set(i.r,i.g,i.b):Ld.set(i.x,i.y,i.z||0,i.w||0),a===1?Dd.setScalar(o):o.isColor?Dd.set(o.r,o.g,o.b):Dd.set(o.x,o.y,o.z||0,o.w||0);const l=4,c=l*n.count,u=new Float32Array(c);for(let f=0;f<c;f++){const h=f%l,g=Ld.getComponent(h),x=Dd.getComponent(h);u[f]=oT.lerp(g,x,Math.random())}const d=this.getNodeType(e);r=mW(u,"vec4",n.count).element(BSe).convert(d)}else r=be(0);return r}}He(fj);ut("RangeNode",fj);class hj extends tn{constructor(e,n,r=[64]){super("void"),this.isComputeNode=!0,this.computeNode=e,this.count=n,this.workgroupSize=r,this.dispatchCount=0,this.version=1,this.updateBeforeType=mr.OBJECT,this.updateDispatchCount()}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}updateDispatchCount(){const{count:e,workgroupSize:n}=this;let r=n[0];for(let i=1;i<n.length;i++)r*=n[i];this.dispatchCount=Math.ceil(e/r)}onInit(){}updateBefore({renderer:e}){e.compute(this)}generate(e){const{shaderStage:n}=e;if(n==="compute"){const r=this.computeNode.build(e,"void");r!==""&&e.addLineFlowCode(r)}}}const c9e=(t,e,n)=>jt(new hj(jt(t),e,n));Be("compute",c9e);ut("ComputeNode",hj);class Wf extends tn{constructor(e=Wf.TARGET_DIRECTION,n=null){super(),this.scope=e,this.light=n}setup(){const{scope:e,light:n}=this;let r=null;return e===Wf.TARGET_DIRECTION&&(r=fd.transformDirection(ww(n).sub(ww(n.target)))),r}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}Wf.TARGET_DIRECTION="targetDirection";const pj=He(Wf,Wf.TARGET_DIRECTION);ut("LightNode",Wf);const mj=pt(t=>{const{lightDistance:e,cutoffDistance:n,decayExponent:r}=t,i=e.pow(r).max(.01).reciprocal();return n.greaterThan(0).cond(i.mul(e.div(n).pow4().oneMinus().clamp().pow2()),i)});class gj extends rh{constructor(e=null){super(e),this.cutoffDistanceNode=ui(0),this.decayExponentNode=ui(0)}update(e){const{light:n}=this;super.update(e),this.cutoffDistanceNode.value=n.distance,this.decayExponentNode.value=n.decay}setup(e){const{colorNode:n,cutoffDistanceNode:r,decayExponentNode:i,light:o}=this,s=e.context.lightingModel,a=sW(o).sub(Bl),l=a.normalize(),c=a.length(),u=mj({lightDistance:c,cutoffDistance:r,decayExponent:i}),d=n.mul(u),f=e.context.reflectedLight;s.direct({lightDirection:l,lightColor:d,reflectedLight:f},e.stack,e)}}ut("PointLightNode",gj);y0(DT,gj);class vj extends rh{constructor(e=null){super(e)}setup(e){super.setup(e);const n=e.context.lightingModel,r=this.colorNode,i=pj(this.light),o=e.context.reflectedLight;n.direct({lightDirection:i,lightColor:r,reflectedLight:o},e.stack,e)}}ut("DirectionalLightNode",vj);y0(FT,vj);class fM extends rh{constructor(e=null){super(e),this.coneCosNode=ui(0),this.penumbraCosNode=ui(0),this.cutoffDistanceNode=ui(0),this.decayExponentNode=ui(0)}update(e){super.update(e);const{light:n}=this;this.coneCosNode.value=Math.cos(n.angle),this.penumbraCosNode.value=Math.cos(n.angle*(1-n.penumbra)),this.cutoffDistanceNode.value=n.distance,this.decayExponentNode.value=n.decay}getSpotAttenuation(e){const{coneCosNode:n,penumbraCosNode:r}=this;return Hf(n,r,e)}setup(e){super.setup(e);const n=e.context.lightingModel,{colorNode:r,cutoffDistanceNode:i,decayExponentNode:o,light:s}=this,a=sW(s).sub(Bl),l=a.normalize(),c=l.dot(pj(s)),u=this.getSpotAttenuation(c),d=a.length(),f=mj({lightDistance:d,cutoffDistance:i,decayExponent:o}),h=r.mul(u).mul(f),g=e.context.reflectedLight;n.direct({lightDirection:l,lightColor:h,reflectedLight:g},e.stack,e)}}ut("SpotLightNode",fM);y0(Yb,fM);class u9e extends Yb{constructor(e,n,r,i,o,s){super(e,n,r,i,o,s),this.iesMap=null}copy(e,n){return super.copy(e,n),this.iesMap=e.iesMap,this}}const d9e=u9e;class yj extends fM{getSpotAttenuation(e){const n=this.light.iesMap;let r=null;if(n&&n.isTexture===!0){const i=e.acos().mul(1/Math.PI);r=us(n,un(i,0),0).r}else r=super.getSpotAttenuation(e);return r}}ut("IESSpotLightNode",yj);y0(d9e,yj);class xj extends rh{constructor(e=null){super(e)}setup({context:e}){e.irradiance.addAssign(this.colorNode)}}ut("AmbientLightNode",xj);y0($T,xj);class bj extends rh{constructor(e=null){super(e),this.lightPositionNode=ww(e),this.lightDirectionNode=this.lightPositionNode.normalize(),this.groundColorNode=ui(new Tt)}update(e){const{light:n}=this;super.update(e),this.lightPositionNode.object3d=n,this.groundColorNode.value.copy(n.groundColor).multiplyScalar(n.intensity)}setup(e){const{colorNode:n,groundColorNode:r,lightDirectionNode:i}=this,s=Qu.dot(i).mul(.5).add(.5),a=Wl(r,n,s);e.context.irradiance.addAssign(a)}}ut("HemisphereLightNode",bj);y0(OT,bj);const f9e=pt(t=>{const e=t.uv.mul(2),n=e.x.floor(),r=e.y.floor();return n.add(r).mod(2).sign()});class Sj extends Wr{constructor(e=dd()){super("float"),this.uvNode=e}setup(){return f9e({uv:this.uvNode})}}const h9e=He(Sj);Be("checker",h9e);ut("CheckerNode",Sj);const p9e=new B3;class m9e extends Xo{constructor(e={}){super(),this.normals=!1,this.lights=!1,this.useAlphaToCoverage=!0,this.useColor=e.vertexColors,this.pointWidth=1,this.pointColorNode=null,this.setDefaultValues(p9e),this.setupShaders(),this.setValues(e)}setupShaders(){const e=this.alphaToCoverage,n=this.useColor;this.vertexNode=pt(()=>{li(un(),"vUv").assign(dd());const r=Bo("instancePosition"),i=ca("vec4","mvPos");i.assign(Gf.mul(kn(r,1)));const o=Jp.z.div(Jp.w),s=gc.mul(i),a=ca("vec2","offset");return a.assign(Qo.xy),a.assign(a.mul(y8e)),a.assign(a.div(Jp.z)),a.y.assign(a.y.mul(o)),a.assign(a.mul(s.w)),s.assign(s.add(kn(a,0,0))),s})(),this.fragmentNode=pt(()=>{const r=li(un(),"vUv"),i=ca("float","alpha");i.assign(1);const o=r.x,s=r.y,a=o.mul(o).add(s.mul(s));if(e){const c=ca("float","dlen");c.assign(a.fwidth()),i.assign(Hf(c.oneMinus(),c.add(1),a).oneMinus())}else a.greaterThan(1).discard();let l;return this.pointColorNode?l=this.pointColorNode:n?l=Bo("instanceColor").mul(n3):l=n3,kn(l,i)})(),this.needsUpdate=!0}get alphaToCoverage(){return this.useAlphaToCoverage}set alphaToCoverage(e){this.useAlphaToCoverage!==e&&(this.useAlphaToCoverage=e,this.setupShaders())}}Vs("InstancedPointsNodeMaterial",m9e);const g9e=new Io;class v9e extends Xo{constructor(e){super(),this.isLineBasicNodeMaterial=!0,this.lights=!1,this.normals=!1,this.setDefaultValues(g9e),this.setValues(e)}}Vs("LineBasicNodeMaterial",v9e);const y9e=new Kb;class x9e extends Xo{constructor(e){super(),this.isLineDashedNodeMaterial=!0,this.lights=!1,this.normals=!1,this.setDefaultValues(y9e),this.offsetNode=null,this.dashScaleNode=null,this.dashSizeNode=null,this.gapSizeNode=null,this.setValues(e)}setupVariants(){const e=this.offsetNode,n=this.dashScaleNode?be(this.dashScaleNode):Cw,r=this.dashSizeNode?be(this.dashSizeNode):cW,i=this.dashSizeNode?be(this.dashGapNode):uW;Qp.assign(r),bx.assign(i);const o=li(Bo("lineDistance").mul(n));(e?o.add(e):o).mod(Qp.add(bx)).greaterThan(Qp).discard()}}Vs("LineDashedNodeMaterial",x9e);const b9e=new Kb;class S9e extends Xo{constructor(e={}){super(),this.normals=!1,this.lights=!1,this.setDefaultValues(b9e),this.useAlphaToCoverage=!0,this.useColor=e.vertexColors,this.useDash=e.dashed,this.useWorldUnits=!1,this.dashOffset=0,this.lineWidth=1,this.lineColorNode=null,this.offsetNode=null,this.dashScaleNode=null,this.dashSizeNode=null,this.gapSizeNode=null,this.setupShaders(),this.setValues(e)}setupShaders(){const e=this.alphaToCoverage,n=this.useColor,r=this.dashed,i=this.worldUnits,o=pt(({start:a,end:l})=>{const c=gc.element(2).element(2),f=gc.element(3).element(2).mul(-.5).div(c).sub(a.z).div(l.z.sub(a.z));return kn(Wl(a.xyz,l.xyz,f),l.w)});this.vertexNode=pt(()=>{du("vec2","vUv").assign(dd());const a=Bo("instanceStart"),l=Bo("instanceEnd"),c=ca("vec4","start"),u=ca("vec4","end");c.assign(Gf.mul(kn(a,1))),u.assign(Gf.mul(kn(l,1))),i&&(du("vec3","worldStart").assign(c.xyz),du("vec3","worldEnd").assign(u.xyz));const d=Jp.z.div(Jp.w),f=gc.element(2).element(3).equal(-1);_r(f,()=>{_r(c.z.lessThan(0).and(u.z.greaterThan(0)),()=>{u.assign(o({start:c,end:u}))}).elseif(u.z.lessThan(0).and(c.z.greaterThanEqual(0)),()=>{c.assign(o({start:u,end:c}))})});const h=gc.mul(c),g=gc.mul(u),x=h.xyz.div(h.w),b=g.xyz.div(g.w),v=b.xy.sub(x.xy).temp();v.x.assign(v.x.mul(d)),v.assign(v.normalize());const _=Jv(kn());if(i){const S=u.xyz.sub(c.xyz).normalize(),w=Qo.y.lessThan(.5).cond(c.xyz.cross(S).normalize(),u.xyz.cross(S).normalize());w.assign(Qo.x.lessThan(0).cond(w.negate(),w));const M=S.dot(tt(0,0,1));r||(c.assign(c.sub(kn(S.mul(vg).mul(.5),0))),u.assign(u.add(kn(S.mul(vg).mul(.5),0))),w.assign(w.sub(tt(v.mul(M),0))),w.z.assign(w.z.add(.5))),_r(Qo.y.greaterThan(1).or(Qo.y.lessThan(0)),()=>{w.assign(w.add(tt(v.mul(2).mul(M),0)))}),w.assign(w.mul(vg).mul(.5));const E=du("vec4","worldPos");E.assign(Qo.y.lessThan(.5).cond(c,u)),E.assign(E.add(kn(w,0))),_.assign(gc.mul(E));const T=Jv(tt());T.assign(Qo.y.lessThan(.5).cond(x,b)),_.z.assign(T.z.mul(_.w))}else{const S=ca("vec2","offset");S.assign(un(v.y,v.x.negate())),v.x.assign(v.x.div(d)),S.x.assign(S.x.div(d)),S.assign(Qo.x.lessThan(0).cond(S.negate(),S)),_r(Qo.y.lessThan(0),()=>{S.assign(S.sub(v))}).elseif(Qo.y.greaterThan(1),()=>{S.assign(S.add(v))}),S.assign(S.mul(vg)),S.assign(S.div(Jp.w)),_.assign(Qo.y.lessThan(.5).cond(h,g)),S.assign(S.mul(_.w)),_.assign(_.add(kn(S,0,0)))}return _})();const s=pt(({p1:a,p2:l,p3:c,p4:u})=>{const d=a.sub(c),f=u.sub(c),h=l.sub(a),g=d.dot(f),x=f.dot(h),b=d.dot(h),v=f.dot(f),S=h.dot(h).mul(v).sub(x.mul(x)),M=g.mul(x).sub(b.mul(v)).div(S).clamp(),E=g.add(x.mul(M)).div(v).clamp();return un(M,E)});this.fragmentNode=pt(()=>{const a=du("vec2","vUv");if(r){const u=this.offsetNode?be(this.offsetNodeNode):nD,d=this.dashScaleNode?be(this.dashScaleNode):Cw,f=this.dashSizeNode?be(this.dashSizeNode):cW,h=this.dashSizeNode?be(this.dashGapNode):uW;Qp.assign(f),bx.assign(h);const g=Bo("instanceDistanceStart"),x=Bo("instanceDistanceEnd"),b=Qo.y.lessThan(.5).cond(d.mul(g),Cw.mul(x)),v=li(b.add(nD)),_=u?v.add(u):v;a.y.lessThan(-1).or(a.y.greaterThan(1)).discard(),_.mod(Qp.add(bx)).greaterThan(Qp).discard()}const l=ca("float","alpha");if(l.assign(1),i){const u=du("vec3","worldStart"),d=du("vec3","worldEnd"),f=du("vec4","worldPos").xyz.normalize().mul(1e5),h=d.sub(u),g=s({p1:u,p2:d,p3:tt(0,0,0),p4:f}),x=u.add(h.mul(g.x)),b=f.mul(g.y),S=x.sub(b).length().div(vg);if(!r)if(e){const w=S.fwidth();l.assign(Hf(w.negate().add(.5),w.add(.5),S).oneMinus())}else S.greaterThan(.5).discard()}else if(e){const u=a.x,d=a.y.greaterThan(0).cond(a.y.sub(1),a.y.add(1)),f=u.mul(u).add(d.mul(d)),h=ca("float","dlen");h.assign(f.fwidth()),_r(a.y.abs().greaterThan(1),()=>{l.assign(Hf(h.oneMinus(),h.add(1),f).oneMinus())})}else _r(a.y.abs().greaterThan(1),()=>{const u=a.x,d=a.y.greaterThan(0).cond(a.y.sub(1),a.y.add(1));u.mul(u).add(d.mul(d)).greaterThan(1).discard()});let c;if(this.lineColorNode)c=this.lineColorNode;else if(n){const u=Bo("instanceColorStart"),d=Bo("instanceColorEnd");c=Qo.y.lessThan(.5).cond(u,d).mul(n3)}else c=n3;return kn(c,l)})(),this.needsUpdate=!0}get worldUnits(){return this.useWorldUnits}set worldUnits(e){this.useWorldUnits!==e&&(this.useWorldUnits=e,this.setupShaders())}get dashed(){return this.useDash}set dashed(e){this.useDash!==e&&(this.useDash=e,this.setupShaders())}get alphaToCoverage(){return this.useAlphaToCoverage}set alphaToCoverage(e){this.useAlphaToCoverage!==e&&(this.useAlphaToCoverage=e,this.setupShaders())}}Vs("Line2NodeMaterial",S9e);const _9e=new MT;class w9e extends Xo{constructor(e){super(),this.isMeshNormalNodeMaterial=!0,this.colorSpaced=!1,this.setDefaultValues(_9e),this.setValues(e)}setupDiffuseColor(){const e=this.opacityNode?be(this.opacityNode):lW;To.assign(kn(VW(bi),e))}}Vs("MeshNormalNodeMaterial",w9e);const C9e=new zc;class E9e extends Xo{constructor(e){super(),this.isMeshBasicNodeMaterial=!0,this.lights=!1,this.setDefaultValues(C9e),this.setValues(e)}}Vs("MeshBasicNodeMaterial",E9e);const i3=pt(({f0:t,f90:e,dotVH:n})=>{const r=n.mul(-5.55473).sub(6.98316).mul(n).exp2();return t.mul(r.oneMinus()).add(e.mul(r))}),Ex=pt(t=>t.diffuseColor.mul(1/Math.PI)),T9e=()=>be(.25),M9e=pt(({dotNH:t})=>Sw.mul(.5/Math.PI).add(1).mul(t.pow(Sw))),R9e=pt(({lightDirection:t})=>{const e=t.add(zi).normalize(),n=bi.dot(e).clamp(),r=zi.dot(e).clamp(),i=i3({f0:mc,f90:1,dotVH:r}),o=T9e(),s=M9e({dotNH:n});return i.mul(o).mul(s)});class _j extends zG{constructor(e=!0){super(),this.specular=e}direct({lightDirection:e,lightColor:n,reflectedLight:r}){const o=bi.dot(e).clamp().mul(n);r.directDiffuse.addAssign(o.mul(Ex({diffuseColor:To.rgb}))),this.specular===!0&&r.directSpecular.addAssign(o.mul(R9e({lightDirection:e})).mul(o8e))}indirectDiffuse({irradiance:e,reflectedLight:n}){n.indirectDiffuse.addAssign(e.mul(Ex({diffuseColor:To})))}}const A9e=new RT;class P9e extends Xo{constructor(e){super(),this.isMeshLambertNodeMaterial=!0,this.lights=!0,this.setDefaultValues(A9e),this.setValues(e)}setupLightingModel(){return new _j(!1)}}Vs("MeshLambertNodeMaterial",P9e);const N9e=new TT;class I9e extends Xo{constructor(e){super(),this.isMeshPhongNodeMaterial=!0,this.lights=!0,this.shininessNode=null,this.specularNode=null,this.setDefaultValues(N9e),this.setValues(e)}setupLightingModel(){return new _j}setupVariants(){const e=(this.shininessNode?be(this.shininessNode):n8e).max(1e-4);Sw.assign(e);const n=this.specularNode||i8e;mc.assign(n)}copy(e){return this.shininessNode=e.shininessNode,this.specularNode=e.specularNode,super.copy(e)}}Vs("MeshPhongNodeMaterial",I9e);const O9e=pt(()=>{const t=_x.dFdx().abs().max(_x.dFdy().abs());return t.x.max(t.y).max(t.z)}),L9e=pt(t=>{const{roughness:e}=t,n=O9e();let r=e.max(.0525);return r=r.add(n),r=r.min(1),r}),D9e=pt(t=>{const{alpha:e,dotNL:n,dotNV:r}=t,i=e.pow2(),o=n.mul(i.add(i.oneMinus().mul(r.pow2())).sqrt()),s=r.mul(i.add(i.oneMinus().mul(n.pow2())).sqrt());return e3(.5,o.add(s).max(ZG))}).setLayout({name:"V_GGX_SmithCorrelated",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNL",type:"float"},{name:"dotNV",type:"float"}]}),F9e=pt(({alpha:t,dotNH:e})=>{const n=t.pow2(),r=e.pow2().mul(n.oneMinus()).oneMinus();return n.div(r.pow2()).mul(1/Math.PI)}).setLayout({name:"D_GGX",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNH",type:"float"}]}),gD=pt(t=>{const{lightDirection:e,f0:n,f90:r,roughness:i,iridescenceFresnel:o}=t,s=t.normalView||bi,a=i.pow2(),l=e.add(zi).normalize(),c=s.dot(e).clamp(),u=s.dot(zi).clamp(),d=s.dot(l).clamp(),f=zi.dot(l).clamp();let h=i3({f0:n,f90:r,dotVH:f});o&&(h=eM.mix(h,o));const g=D9e({alpha:a,dotNL:c,dotNV:u}),x=F9e({alpha:a,dotNH:d});return h.mul(g).mul(x)}),wj=pt(({roughness:t,dotNV:e})=>{const n=kn(-1,-.0275,-.572,.022),r=kn(1,.0425,1.04,-.04),i=t.mul(n).add(r),o=i.x.mul(i.x).min(e.mul(-9.28).exp2()).mul(i.x).add(i.y);return un(-1.04,1.04).mul(o).add(i.zw)}).setLayout({name:"DFGApprox",type:"vec2",inputs:[{name:"roughness",type:"float"},{name:"dotNV",type:"vec3"}]}),$9e=pt(t=>{const{dotNV:e,specularColor:n,specularF90:r,roughness:i}=t,o=wj({dotNV:e,roughness:i});return n.mul(o.x).add(r.mul(o.y))}),U9e=pt(({f:t,f90:e,dotVH:n})=>{const r=n.oneMinus().saturate(),i=r.mul(r),o=r.mul(i,i).clamp(0,.9999);return t.sub(tt(e).mul(o)).div(o.oneMinus())}).setLayout({name:"Schlick_to_F0",type:"vec3",inputs:[{name:"f",type:"vec3"},{name:"f90",type:"float"},{name:"dotVH",type:"float"}]}),B9e=pt(({roughness:t,dotNH:e})=>{const n=t.pow2(),r=be(1).div(n),o=e.pow2().oneMinus().max(.0078125);return be(2).add(r).mul(o.pow(r.mul(.5))).div(2*Math.PI)}).setLayout({name:"D_Charlie",type:"float",inputs:[{name:"roughness",type:"float"},{name:"dotNH",type:"float"}]}),k9e=pt(({dotNV:t,dotNL:e})=>be(1).div(be(4).mul(e.add(t).sub(e.mul(t))))).setLayout({name:"V_Neubelt",type:"float",inputs:[{name:"dotNV",type:"float"},{name:"dotNL",type:"float"}]}),z9e=pt(({lightDirection:t})=>{const e=t.add(zi).normalize(),n=bi.dot(t).clamp(),r=bi.dot(zi).clamp(),i=bi.dot(e).clamp(),o=B9e({roughness:JT,dotNH:i}),s=k9e({dotNV:r,dotNL:n});return Dp.mul(o).mul(s)}),V9e=jm(3.2404542,-.969266,.0556434,-1.5371385,1.8760108,-.2040259,-.4985314,.041556,1.0572252),H9e=t=>{const e=t.sqrt();return tt(1).add(e).div(tt(1).sub(e))},vD=(t,e)=>t.sub(e).div(t.add(e)).pow2(),G9e=(t,e)=>{const n=t.mul(2*Math.PI*1e-9),r=tt(54856e-17,44201e-17,52481e-17),i=tt(1681e3,1795300,2208400),o=tt(43278e5,93046e5,66121e5),s=be(9747e-17*Math.sqrt(2*Math.PI*45282e5)).mul(n.mul(2239900).add(e.x).cos()).mul(n.pow2().mul(-45282e5).exp());let a=r.mul(o.mul(2*Math.PI).sqrt()).mul(i.mul(n).add(e).cos()).mul(n.pow2().negate().mul(o).exp());return a=tt(a.x.add(s),a.y,a.z).div(10685e-11),V9e.mul(a)},W9e=pt(({outsideIOR:t,eta2:e,cosTheta1:n,thinFilmThickness:r,baseF0:i})=>{const o=Wl(t,e,Hf(0,.03,r)),s=t.div(o).pow2().mul(be(1).sub(n.pow2())),l=be(1).sub(s).sqrt(),c=vD(o,t),u=i3({f0:c,f90:1,dotVH:n}),d=u.oneMinus(),f=o.lessThan(t).cond(Math.PI,0),h=be(Math.PI).sub(f),g=H9e(i.clamp(0,.9999)),x=vD(g,o.vec3()),b=i3({f0:x,f90:1,dotVH:l}),v=tt(g.x.lessThan(o).cond(Math.PI,0),g.y.lessThan(o).cond(Math.PI,0),g.z.lessThan(o).cond(Math.PI,0)),_=o.mul(r,l,2),S=tt(h).add(v),w=u.mul(b).clamp(1e-5,.9999),M=w.sqrt(),E=d.pow2().mul(b).div(tt(1).sub(w));let N=u.add(E),R=E.sub(d);for(let P=1;P<=2;++P){R=R.mul(M);const L=G9e(be(P).mul(_),be(P).mul(S)).mul(2);N=N.add(R.mul(L))}return N.max(tt(0))}).setLayout({name:"evalIridescence",type:"vec3",inputs:[{name:"outsideIOR",type:"float"},{name:"eta2",type:"float"},{name:"cosTheta1",type:"float"},{name:"thinFilmThickness",type:"float"},{name:"baseF0",type:"vec3"}]}),j9e=pt(({normal:t,viewDir:e,roughness:n})=>{const r=t.dot(e).saturate(),i=n.pow2(),o=zu(n.lessThan(.25),be(-339.2).mul(i).add(be(161.4).mul(n)).sub(25.9),be(-8.48).mul(i).add(be(14.3).mul(n)).sub(9.95)),s=zu(n.lessThan(.25),be(44).mul(i).sub(be(23.7).mul(n)).add(3.26),be(1.97).mul(i).sub(be(3.27).mul(n)).add(.72));return zu(n.lessThan(.25),0,be(.1).mul(n).sub(.025)).add(o.mul(r).add(s).exp()).mul(1/Math.PI).saturate()}),I7=tt(.04),O7=tt(1);class Cj extends zG{constructor(e=!1,n=!1,r=!1){super(),this.clearcoat=e,this.sheen=n,this.iridescence=r,this.clearcoatRadiance=null,this.clearcoatSpecularDirect=null,this.clearcoatSpecularIndirect=null,this.sheenSpecularDirect=null,this.sheenSpecularIndirect=null,this.iridescenceFresnel=null,this.iridescenceF0=null}start(){if(this.clearcoat===!0&&(this.clearcoatRadiance=tt().temp("clearcoatRadiance"),this.clearcoatSpecularDirect=tt().temp("clearcoatSpecularDirect"),this.clearcoatSpecularIndirect=tt().temp("clearcoatSpecularIndirect")),this.sheen===!0&&(this.sheenSpecularDirect=tt().temp("sheenSpecularDirect"),this.sheenSpecularIndirect=tt().temp("sheenSpecularIndirect")),this.iridescence===!0){const e=bi.dot(zi).clamp();this.iridescenceFresnel=W9e({outsideIOR:be(1),eta2:GG,cosTheta1:e,thinFilmThickness:WG,baseF0:mc}),this.iridescenceF0=U9e({f:this.iridescenceFresnel,f90:1,dotVH:e})}}computeMultiscattering(e,n,r=be(1)){const i=bi.dot(zi).clamp(),o=wj({roughness:ev,dotNV:i}),a=(this.iridescenceF0?eM.mix(mc,this.iridescenceF0):mc).mul(o.x).add(r.mul(o.y)),c=o.x.add(o.y).oneMinus(),u=mc.add(mc.oneMinus().mul(.047619)),d=a.mul(u).div(c.mul(u).oneMinus());e.addAssign(a),n.addAssign(d.mul(c))}direct({lightDirection:e,lightColor:n,reflectedLight:r}){const o=bi.dot(e).clamp().mul(n);if(this.sheen===!0&&this.sheenSpecularDirect.addAssign(o.mul(z9e({lightDirection:e}))),this.clearcoat===!0){const a=Fp.dot(e).clamp().mul(n);this.clearcoatSpecularDirect.addAssign(a.mul(gD({lightDirection:e,f0:I7,f90:O7,roughness:xx,normalView:Fp})))}r.directDiffuse.addAssign(o.mul(Ex({diffuseColor:To.rgb}))),r.directSpecular.addAssign(o.mul(gD({lightDirection:e,f0:mc,f90:1,roughness:ev,iridescence:this.iridescence,iridescenceFresnel:this.iridescenceFresnel})))}indirectDiffuse({irradiance:e,reflectedLight:n}){n.indirectDiffuse.addAssign(e.mul(Ex({diffuseColor:To})))}indirectSpecular({radiance:e,iblIrradiance:n,reflectedLight:r}){if(this.sheen===!0&&this.sheenSpecularIndirect.addAssign(n.mul(Dp,j9e({normal:bi,viewDir:zi,roughness:JT}))),this.clearcoat===!0){const c=Fp.dot(zi).clamp(),u=$9e({dotNV:c,specularColor:I7,specularF90:O7,roughness:xx});this.clearcoatSpecularIndirect.addAssign(this.clearcoatRadiance.mul(u))}const i=tt().temp("singleScattering"),o=tt().temp("multiScattering"),s=n.mul(1/Math.PI);this.computeMultiscattering(i,o);const a=i.add(o),l=To.mul(a.r.max(a.g).max(a.b).oneMinus());r.indirectSpecular.addAssign(e.mul(i)),r.indirectSpecular.addAssign(o.mul(s)),r.indirectDiffuse.addAssign(l.mul(s))}ambientOcclusion({ambientOcclusion:e,reflectedLight:n}){const i=bi.dot(zi).clamp().add(e),o=ev.mul(-16).oneMinus().negate().exp2(),s=e.sub(i.pow(o).oneMinus()).clamp();this.clearcoat===!0&&this.clearcoatSpecularIndirect.mulAssign(e),this.sheen===!0&&this.sheenSpecularIndirect.mulAssign(e),n.indirectDiffuse.mulAssign(e),n.indirectSpecular.mulAssign(s)}finish(e){const{outgoingLight:n}=e;if(this.clearcoat===!0){const r=Fp.dot(zi).clamp(),i=i3({dotVH:r,f0:I7,f90:O7}),o=n.mul(bw.mul(i).oneMinus()).add(this.clearcoatSpecularDirect.add(this.clearcoatSpecularIndirect).mul(bw));n.assign(o)}if(this.sheen===!0){const r=Dp.r.max(Dp.g).max(Dp.b).mul(.157).oneMinus(),i=n.mul(r).add(this.sheenSpecularDirect,this.sheenSpecularIndirect);n.assign(i)}}}const X9e=new qb;class Ej extends Xo{constructor(e){super(),this.isMeshStandardNodeMaterial=!0,this.emissiveNode=null,this.metalnessNode=null,this.roughnessNode=null,this.setDefaultValues(X9e),this.setValues(e)}setupLightingModel(){return new Cj}setupVariants(){const e=this.metalnessNode?be(this.metalnessNode):a8e;GSe.assign(e);let n=this.roughnessNode?be(this.roughnessNode):s8e;n=L9e({roughness:n}),ev.assign(n);const r=Wl(tt(.04),To.rgb,e);mc.assign(r),To.assign(kn(To.rgb.mul(e.oneMinus()),To.a))}copy(e){return this.emissiveNode=e.emissiveNode,this.metalnessNode=e.metalnessNode,this.roughnessNode=e.roughnessNode,super.copy(e)}}Vs("MeshStandardNodeMaterial",Ej);const q9e=new ET;class K9e extends Ej{constructor(e){super(),this.isMeshPhysicalNodeMaterial=!0,this.clearcoatNode=null,this.clearcoatRoughnessNode=null,this.clearcoatNormalNode=null,this.sheenNode=null,this.sheenRoughnessNode=null,this.iridescenceNode=null,this.iridescenceIORNode=null,this.iridescenceThicknessNode=null,this.specularIntensityNode=null,this.specularColorNode=null,this.transmissionNode=null,this.thicknessNode=null,this.attenuationDistanceNode=null,this.attenuationColorNode=null,this.setDefaultValues(q9e),this.setValues(e)}get useClearcoat(){return this.clearcoat>0||this.clearcoatNode!==null}get useIridescence(){return this.iridescence>0||this.iridescenceNode!==null}get useSheen(){return this.sheen>0||this.sheenNode!==null}setupLightingModel(){return new Cj(this.useClearcoat,this.useSheen,this.useIridescence)}setupVariants(e){if(super.setupVariants(e),this.useClearcoat){const n=this.clearcoatNode?be(this.clearcoatNode):c8e,r=this.clearcoatRoughnessNode?be(this.clearcoatRoughnessNode):u8e;bw.assign(n),xx.assign(r)}if(this.useSheen){const n=this.sheenNode?tt(this.sheenNode):h8e,r=this.sheenRoughnessNode?be(this.sheenRoughnessNode):p8e;Dp.assign(n),JT.assign(r)}if(this.useIridescence){const n=this.iridescenceNode?be(this.iridescenceNode):m8e,r=this.iridescenceIORNode?be(this.iridescenceIORNode):g8e,i=this.iridescenceThicknessNode?be(this.iridescenceThicknessNode):v8e;eM.assign(n),GG.assign(r),WG.assign(i)}}setupNormal(e){super.setupNormal(e);const n=this.clearcoatNormalNode?tt(this.clearcoatNormalNode):d8e;Fp.assign(n)}copy(e){return this.clearcoatNode=e.clearcoatNode,this.clearcoatRoughnessNode=e.clearcoatRoughnessNode,this.clearcoatNormalNode=e.clearcoatNormalNode,this.sheenNode=e.sheenNode,this.sheenRoughnessNode=e.sheenRoughnessNode,this.iridescenceNode=e.iridescenceNode,this.iridescenceIORNode=e.iridescenceIORNode,this.iridescenceThicknessNode=e.iridescenceThicknessNode,this.specularIntensityNode=e.specularIntensityNode,this.specularColorNode=e.specularColorNode,this.transmissionNode=e.transmissionNode,this.thicknessNode=e.thicknessNode,this.attenuationDistanceNode=e.attenuationDistanceNode,this.attenuationColorNode=e.attenuationColorNode,super.copy(e)}}Vs("MeshPhysicalNodeMaterial",K9e);const Y9e=new B3;class Z9e extends Xo{constructor(e){super(),this.isPointsNodeMaterial=!0,this.lights=!1,this.normals=!1,this.transparent=!0,this.sizeNode=null,this.setDefaultValues(Y9e),this.setValues(e)}copy(e){return this.sizeNode=e.sizeNode,super.copy(e)}}Vs("PointsNodeMaterial",Z9e);const Q9e=new Nb;class J9e extends Xo{constructor(e){super(),this.isSpriteNodeMaterial=!0,this.lights=!1,this.normals=!1,this.positionNode=null,this.rotationNode=null,this.scaleNode=null,this.setDefaultValues(Q9e),this.setValues(e)}setupPosition({object:e,context:n}){const{positionNode:r,rotationNode:i,scaleNode:o}=this,s=ds;let a=Gf.mul(tt(r||0)),l=un(Sx[0].xyz.length(),Sx[1].xyz.length());o!==null&&(l=l.mul(o));let c=s.xy;e.center&&e.center.isVector2===!0&&(c=c.sub(ui(e.center).sub(.5))),c=c.mul(l);const u=be(i||f8e),d=u.cos(),f=u.sin(),h=un(un(d,f.negate()).dot(c),un(f,d).dot(c));a=kn(a.xy.add(h),a.zw);const g=gc.mul(a);return n.vertex=s,g}copy(e){return this.positionNode=e.positionNode,this.rotationNode=e.rotationNode,this.scaleNode=e.scaleNode,super.copy(e)}}Vs("SpriteNodeMaterial",J9e);const e_e=g0.createMaterialFromType;g0.createMaterialFromType=function(t){const e=oS(t);return e!==void 0?e:e_e.call(this,t)};class Tj{parseFunction(){console.warn("Abstract function.")}}class hM{constructor(e,n,r="",i=""){this.type=e,this.inputs=n,this.name=r,this.presicion=i}getCode(){console.warn("Abstract function.")}}hM.isNodeFunction=!0;const t_e=/^\s*(highp|mediump|lowp)?\s*([a-z_0-9]+)\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)/i,n_e=/[a-z_0-9]+/ig,yD="#pragma main",r_e=t=>{t=t.trim();const e=t.indexOf(yD),n=e!==-1?t.slice(e+yD.length):t,r=n.match(t_e);if(r!==null&&r.length===5){const i=r[4],o=[];let s=null;for(;(s=n_e.exec(i))!==null;)o.push(s);const a=[];let l=0;for(;l<o.length;){const g=o[l][0]==="const";g===!0&&l++;let x=o[l][0];x==="in"||x==="out"||x==="inout"?l++:x="";const b=o[l++][0];let v=Number.parseInt(o[l][0]);Number.isNaN(v)===!1?l++:v=null;const _=o[l++][0];a.push(new uM(b,_,v,x,g))}const c=n.substring(r[0].length),u=r[3]!==void 0?r[3]:"",d=r[2],f=r[1]!==void 0?r[1]:"",h=e!==-1?t.slice(0,e):"";return{type:d,inputs:a,name:u,presicion:f,inputsCode:i,blockCode:c,headerCode:h}}else throw new Error("FunctionNode: Function is not a GLSL code.")};class i_e extends hM{constructor(e){const{type:n,inputs:r,name:i,presicion:o,inputsCode:s,blockCode:a,headerCode:l}=r_e(e);super(n,r,i,o),this.inputsCode=s,this.blockCode=a,this.headerCode=l}getCode(e=this.name){let n;const r=this.blockCode;if(r!==""){const{type:i,inputsCode:o,headerCode:s,presicion:a}=this;let l=`${i} ${e} ( ${o.trim()} )`;a!==""&&(l=`${a} ${l}`),n=s+l+r}else n="";return n}}class o_e extends Tj{parseFunction(e){return new i_e(e)}}const em=pt(([t,e,n])=>{const r=be(n).toVar(),i=be(e).toVar(),o=zf(t).toVar();return zu(o,i,r)}),o3=pt(([t,e])=>{const n=zf(e).toVar(),r=be(t).toVar();return zu(n,r.negate(),r)}),Jr=pt(([t])=>{const e=be(t).toVar();return pe(W3(e))}),Rr=pt(([t,e])=>{const n=be(t).toVar();return e.assign(Jr(n)),n.sub(be(e))}),Mj=pt(([t,e,n,r,i,o])=>{const s=be(o).toVar(),a=be(i).toVar(),l=be(r).toVar(),c=be(n).toVar(),u=be(e).toVar(),d=be(t).toVar(),f=be(io(1,a)).toVar();return io(1,s).mul(d.mul(f).add(u.mul(a))).add(s.mul(c.mul(f).add(l.mul(a))))}),Rj=pt(([t,e,n,r,i,o])=>{const s=be(o).toVar(),a=be(i).toVar(),l=tt(r).toVar(),c=tt(n).toVar(),u=tt(e).toVar(),d=tt(t).toVar(),f=be(io(1,a)).toVar();return io(1,s).mul(d.mul(f).add(u.mul(a))).add(s.mul(c.mul(f).add(l.mul(a))))}),Aj=Ra([Mj,Rj]),Pj=pt(([t,e,n,r,i,o,s,a,l,c,u])=>{const d=be(u).toVar(),f=be(c).toVar(),h=be(l).toVar(),g=be(a).toVar(),x=be(s).toVar(),b=be(o).toVar(),v=be(i).toVar(),_=be(r).toVar(),S=be(n).toVar(),w=be(e).toVar(),M=be(t).toVar(),E=be(io(1,h)).toVar(),T=be(io(1,f)).toVar();return be(io(1,d)).toVar().mul(T.mul(M.mul(E).add(w.mul(h))).add(f.mul(S.mul(E).add(_.mul(h))))).add(d.mul(T.mul(v.mul(E).add(b.mul(h))).add(f.mul(x.mul(E).add(g.mul(h))))))}),Nj=pt(([t,e,n,r,i,o,s,a,l,c,u])=>{const d=be(u).toVar(),f=be(c).toVar(),h=be(l).toVar(),g=tt(a).toVar(),x=tt(s).toVar(),b=tt(o).toVar(),v=tt(i).toVar(),_=tt(r).toVar(),S=tt(n).toVar(),w=tt(e).toVar(),M=tt(t).toVar(),E=be(io(1,h)).toVar(),T=be(io(1,f)).toVar();return be(io(1,d)).toVar().mul(T.mul(M.mul(E).add(w.mul(h))).add(f.mul(S.mul(E).add(_.mul(h))))).add(d.mul(T.mul(v.mul(E).add(b.mul(h))).add(f.mul(x.mul(E).add(g.mul(h))))))}),Ij=Ra([Pj,Nj]),Oj=pt(([t,e,n])=>{const r=be(n).toVar(),i=be(e).toVar(),o=Mt(t).toVar(),s=Mt(o.bitAnd(Mt(7))).toVar(),a=be(em(s.lessThan(Mt(4)),i,r)).toVar(),l=be(Qr(2,em(s.lessThan(Mt(4)),r,i))).toVar();return o3(a,zf(s.bitAnd(Mt(1)))).add(o3(l,zf(s.bitAnd(Mt(2)))))}),Lj=pt(([t,e,n,r])=>{const i=be(r).toVar(),o=be(n).toVar(),s=be(e).toVar(),a=Mt(t).toVar(),l=Mt(a.bitAnd(Mt(15))).toVar(),c=be(em(l.lessThan(Mt(8)),s,o)).toVar(),u=be(em(l.lessThan(Mt(4)),o,em(l.equal(Mt(12)).or(l.equal(Mt(14))),s,i))).toVar();return o3(c,zf(l.bitAnd(Mt(1)))).add(o3(u,zf(l.bitAnd(Mt(2)))))}),ki=Ra([Oj,Lj]),Dj=pt(([t,e,n])=>{const r=be(n).toVar(),i=be(e).toVar(),o=G3(t).toVar();return tt(ki(o.x,i,r),ki(o.y,i,r),ki(o.z,i,r))}),Fj=pt(([t,e,n,r])=>{const i=be(r).toVar(),o=be(n).toVar(),s=be(e).toVar(),a=G3(t).toVar();return tt(ki(a.x,s,o,i),ki(a.y,s,o,i),ki(a.z,s,o,i))}),ia=Ra([Dj,Fj]),$j=pt(([t])=>{const e=be(t).toVar();return Qr(.6616,e)}),Uj=pt(([t])=>{const e=be(t).toVar();return Qr(.982,e)}),Bj=pt(([t])=>{const e=tt(t).toVar();return Qr(.6616,e)}),kj=Ra([$j,Bj]),zj=pt(([t])=>{const e=tt(t).toVar();return Qr(.982,e)}),Vj=Ra([Uj,zj]),Jo=pt(([t,e])=>{const n=pe(e).toVar(),r=Mt(t).toVar();return r.shiftLeft(n).bitOr(r.shiftRight(pe(32).sub(n)))}),Hj=pt(([t,e,n])=>{t.subAssign(n),t.bitXorAssign(Jo(n,pe(4))),n.addAssign(e),e.subAssign(t),e.bitXorAssign(Jo(t,pe(6))),t.addAssign(n),n.subAssign(e),n.bitXorAssign(Jo(e,pe(8))),e.addAssign(t),t.subAssign(n),t.bitXorAssign(Jo(n,pe(16))),n.addAssign(e),e.subAssign(t),e.bitXorAssign(Jo(t,pe(19))),t.addAssign(n),n.subAssign(e),n.bitXorAssign(Jo(e,pe(4))),e.addAssign(t)}),x0=pt(([t,e,n])=>{const r=Mt(n).toVar(),i=Mt(e).toVar(),o=Mt(t).toVar();return r.bitXorAssign(i),r.subAssign(Jo(i,pe(14))),o.bitXorAssign(r),o.subAssign(Jo(r,pe(11))),i.bitXorAssign(o),i.subAssign(Jo(o,pe(25))),r.bitXorAssign(i),r.subAssign(Jo(i,pe(16))),o.bitXorAssign(r),o.subAssign(Jo(r,pe(4))),i.bitXorAssign(o),i.subAssign(Jo(o,pe(14))),r.bitXorAssign(i),r.subAssign(Jo(i,pe(24))),r}),lo=pt(([t])=>{const e=Mt(t).toVar();return be(e).div(be(Mt(pe(4294967295))))}),Ja=pt(([t])=>{const e=be(t).toVar();return e.mul(e.mul(e.mul(e.mul(e.mul(6).sub(15)).add(10))))}),Gj=pt(([t])=>{const e=pe(t).toVar(),n=Mt(Mt(1)).toVar(),r=Mt(Mt(pe(3735928559)).add(n.shiftLeft(Mt(2)).add(Mt(13)))).toVar();return x0(r.add(Mt(e)),r,r)}),Wj=pt(([t,e])=>{const n=pe(e).toVar(),r=pe(t).toVar(),i=Mt(Mt(2)).toVar(),o=Mt().toVar(),s=Mt().toVar(),a=Mt().toVar();return o.assign(s.assign(a.assign(Mt(pe(3735928559)).add(i.shiftLeft(Mt(2)).add(Mt(13)))))),o.addAssign(Mt(r)),s.addAssign(Mt(n)),x0(o,s,a)}),jj=pt(([t,e,n])=>{const r=pe(n).toVar(),i=pe(e).toVar(),o=pe(t).toVar(),s=Mt(Mt(3)).toVar(),a=Mt().toVar(),l=Mt().toVar(),c=Mt().toVar();return a.assign(l.assign(c.assign(Mt(pe(3735928559)).add(s.shiftLeft(Mt(2)).add(Mt(13)))))),a.addAssign(Mt(o)),l.addAssign(Mt(i)),c.addAssign(Mt(r)),x0(a,l,c)}),Xj=pt(([t,e,n,r])=>{const i=pe(r).toVar(),o=pe(n).toVar(),s=pe(e).toVar(),a=pe(t).toVar(),l=Mt(Mt(4)).toVar(),c=Mt().toVar(),u=Mt().toVar(),d=Mt().toVar();return c.assign(u.assign(d.assign(Mt(pe(3735928559)).add(l.shiftLeft(Mt(2)).add(Mt(13)))))),c.addAssign(Mt(a)),u.addAssign(Mt(s)),d.addAssign(Mt(o)),Hj(c,u,d),c.addAssign(Mt(i)),x0(c,u,d)}),qj=pt(([t,e,n,r,i])=>{const o=pe(i).toVar(),s=pe(r).toVar(),a=pe(n).toVar(),l=pe(e).toVar(),c=pe(t).toVar(),u=Mt(Mt(5)).toVar(),d=Mt().toVar(),f=Mt().toVar(),h=Mt().toVar();return d.assign(f.assign(h.assign(Mt(pe(3735928559)).add(u.shiftLeft(Mt(2)).add(Mt(13)))))),d.addAssign(Mt(c)),f.addAssign(Mt(l)),h.addAssign(Mt(a)),Hj(d,f,h),d.addAssign(Mt(s)),f.addAssign(Mt(o)),x0(d,f,h)}),or=Ra([Gj,Wj,jj,Xj,qj]),Kj=pt(([t,e])=>{const n=pe(e).toVar(),r=pe(t).toVar(),i=Mt(or(r,n)).toVar(),o=G3().toVar();return o.x.assign(i.bitAnd(pe(255))),o.y.assign(i.shiftRight(pe(8)).bitAnd(pe(255))),o.z.assign(i.shiftRight(pe(16)).bitAnd(pe(255))),o}),Yj=pt(([t,e,n])=>{const r=pe(n).toVar(),i=pe(e).toVar(),o=pe(t).toVar(),s=Mt(or(o,i,r)).toVar(),a=G3().toVar();return a.x.assign(s.bitAnd(pe(255))),a.y.assign(s.shiftRight(pe(8)).bitAnd(pe(255))),a.z.assign(s.shiftRight(pe(16)).bitAnd(pe(255))),a}),oa=Ra([Kj,Yj]),Zj=pt(([t])=>{const e=un(t).toVar(),n=pe().toVar(),r=pe().toVar(),i=be(Rr(e.x,n)).toVar(),o=be(Rr(e.y,r)).toVar(),s=be(Ja(i)).toVar(),a=be(Ja(o)).toVar(),l=be(Aj(ki(or(n,r),i,o),ki(or(n.add(pe(1)),r),i.sub(1),o),ki(or(n,r.add(pe(1))),i,o.sub(1)),ki(or(n.add(pe(1)),r.add(pe(1))),i.sub(1),o.sub(1)),s,a)).toVar();return kj(l)}),Qj=pt(([t])=>{const e=tt(t).toVar(),n=pe().toVar(),r=pe().toVar(),i=pe().toVar(),o=be(Rr(e.x,n)).toVar(),s=be(Rr(e.y,r)).toVar(),a=be(Rr(e.z,i)).toVar(),l=be(Ja(o)).toVar(),c=be(Ja(s)).toVar(),u=be(Ja(a)).toVar(),d=be(Ij(ki(or(n,r,i),o,s,a),ki(or(n.add(pe(1)),r,i),o.sub(1),s,a),ki(or(n,r.add(pe(1)),i),o,s.sub(1),a),ki(or(n.add(pe(1)),r.add(pe(1)),i),o.sub(1),s.sub(1),a),ki(or(n,r,i.add(pe(1))),o,s,a.sub(1)),ki(or(n.add(pe(1)),r,i.add(pe(1))),o.sub(1),s,a.sub(1)),ki(or(n,r.add(pe(1)),i.add(pe(1))),o,s.sub(1),a.sub(1)),ki(or(n.add(pe(1)),r.add(pe(1)),i.add(pe(1))),o.sub(1),s.sub(1),a.sub(1)),l,c,u)).toVar();return Vj(d)}),s_e=Ra([Zj,Qj]),Jj=pt(([t])=>{const e=un(t).toVar(),n=pe().toVar(),r=pe().toVar(),i=be(Rr(e.x,n)).toVar(),o=be(Rr(e.y,r)).toVar(),s=be(Ja(i)).toVar(),a=be(Ja(o)).toVar(),l=tt(Aj(ia(oa(n,r),i,o),ia(oa(n.add(pe(1)),r),i.sub(1),o),ia(oa(n,r.add(pe(1))),i,o.sub(1)),ia(oa(n.add(pe(1)),r.add(pe(1))),i.sub(1),o.sub(1)),s,a)).toVar();return kj(l)}),eX=pt(([t])=>{const e=tt(t).toVar(),n=pe().toVar(),r=pe().toVar(),i=pe().toVar(),o=be(Rr(e.x,n)).toVar(),s=be(Rr(e.y,r)).toVar(),a=be(Rr(e.z,i)).toVar(),l=be(Ja(o)).toVar(),c=be(Ja(s)).toVar(),u=be(Ja(a)).toVar(),d=tt(Ij(ia(oa(n,r,i),o,s,a),ia(oa(n.add(pe(1)),r,i),o.sub(1),s,a),ia(oa(n,r.add(pe(1)),i),o,s.sub(1),a),ia(oa(n.add(pe(1)),r.add(pe(1)),i),o.sub(1),s.sub(1),a),ia(oa(n,r,i.add(pe(1))),o,s,a.sub(1)),ia(oa(n.add(pe(1)),r,i.add(pe(1))),o.sub(1),s,a.sub(1)),ia(oa(n,r.add(pe(1)),i.add(pe(1))),o,s.sub(1),a.sub(1)),ia(oa(n.add(pe(1)),r.add(pe(1)),i.add(pe(1))),o.sub(1),s.sub(1),a.sub(1)),l,c,u)).toVar();return Vj(d)}),a_e=Ra([Jj,eX]),l_e=pt(([t])=>{const e=be(t).toVar(),n=pe(Jr(e)).toVar();return lo(or(n))}),c_e=pt(([t])=>{const e=un(t).toVar(),n=pe(Jr(e.x)).toVar(),r=pe(Jr(e.y)).toVar();return lo(or(n,r))}),u_e=pt(([t])=>{const e=tt(t).toVar(),n=pe(Jr(e.x)).toVar(),r=pe(Jr(e.y)).toVar(),i=pe(Jr(e.z)).toVar();return lo(or(n,r,i))}),d_e=pt(([t])=>{const e=kn(t).toVar(),n=pe(Jr(e.x)).toVar(),r=pe(Jr(e.y)).toVar(),i=pe(Jr(e.z)).toVar(),o=pe(Jr(e.w)).toVar();return lo(or(n,r,i,o))}),tX=pt(([t])=>{const e=be(t).toVar(),n=pe(Jr(e)).toVar();return tt(lo(or(n,pe(0))),lo(or(n,pe(1))),lo(or(n,pe(2))))}),nX=pt(([t])=>{const e=un(t).toVar(),n=pe(Jr(e.x)).toVar(),r=pe(Jr(e.y)).toVar();return tt(lo(or(n,r,pe(0))),lo(or(n,r,pe(1))),lo(or(n,r,pe(2))))}),rX=pt(([t])=>{const e=tt(t).toVar(),n=pe(Jr(e.x)).toVar(),r=pe(Jr(e.y)).toVar(),i=pe(Jr(e.z)).toVar();return tt(lo(or(n,r,i,pe(0))),lo(or(n,r,i,pe(1))),lo(or(n,r,i,pe(2))))}),iX=pt(([t])=>{const e=kn(t).toVar(),n=pe(Jr(e.x)).toVar(),r=pe(Jr(e.y)).toVar(),i=pe(Jr(e.z)).toVar(),o=pe(Jr(e.w)).toVar();return tt(lo(or(n,r,i,o,pe(0))),lo(or(n,r,i,o,pe(1))),lo(or(n,r,i,o,pe(2))))}),oX=Ra([tX,nX,rX,iX]),Tx=pt(([t,e,n,r])=>{const i=be(r).toVar(),o=be(n).toVar(),s=pe(e).toVar(),a=tt(t).toVar(),l=be(0).toVar(),c=be(1).toVar();return Wi({start:pe(0),end:s},({i:u})=>{l.addAssign(c.mul(s_e(a))),c.mulAssign(i),a.mulAssign(o)}),l}),sX=pt(([t,e,n,r])=>{const i=be(r).toVar(),o=be(n).toVar(),s=pe(e).toVar(),a=tt(t).toVar(),l=tt(0).toVar(),c=be(1).toVar();return Wi({start:pe(0),end:s},({i:u})=>{l.addAssign(c.mul(a_e(a))),c.mulAssign(i),a.mulAssign(o)}),l}),f_e=pt(([t,e,n,r])=>{const i=be(r).toVar(),o=be(n).toVar(),s=pe(e).toVar(),a=tt(t).toVar();return un(Tx(a,s,o,i),Tx(a.add(tt(pe(19),pe(193),pe(17))),s,o,i))}),h_e=pt(([t,e,n,r])=>{const i=be(r).toVar(),o=be(n).toVar(),s=pe(e).toVar(),a=tt(t).toVar(),l=tt(sX(a,s,o,i)).toVar(),c=be(Tx(a.add(tt(pe(19),pe(193),pe(17))),s,o,i)).toVar();return kn(l,c)}),aX=pt(([t,e,n,r,i,o,s])=>{const a=pe(s).toVar(),l=be(o).toVar(),c=pe(i).toVar(),u=pe(r).toVar(),d=pe(n).toVar(),f=pe(e).toVar(),h=un(t).toVar(),g=tt(oX(un(f.add(u),d.add(c)))).toVar(),x=un(g.x,g.y).toVar();x.subAssign(.5),x.mulAssign(l),x.addAssign(.5);const b=un(un(be(f),be(d)).add(x)).toVar(),v=un(b.sub(h)).toVar();return _r(a.equal(pe(2)),()=>la(v.x).add(la(v.y))),_r(a.equal(pe(3)),()=>Vf(la(v.x),la(v.y))),j3(v,v)}),lX=pt(([t,e,n,r,i,o,s,a,l])=>{const c=pe(l).toVar(),u=be(a).toVar(),d=pe(s).toVar(),f=pe(o).toVar(),h=pe(i).toVar(),g=pe(r).toVar(),x=pe(n).toVar(),b=pe(e).toVar(),v=tt(t).toVar(),_=tt(oX(tt(b.add(h),x.add(f),g.add(d)))).toVar();_.subAssign(.5),_.mulAssign(u),_.addAssign(.5);const S=tt(tt(be(b),be(x),be(g)).add(_)).toVar(),w=tt(S.sub(v)).toVar();return _r(c.equal(pe(2)),()=>la(w.x).add(la(w.y).add(la(w.z)))),_r(c.equal(pe(3)),()=>Vf(Vf(la(w.x),la(w.y)),la(w.z))),j3(w,w)}),b0=Ra([aX,lX]),p_e=pt(([t,e,n])=>{const r=pe(n).toVar(),i=be(e).toVar(),o=un(t).toVar(),s=pe().toVar(),a=pe().toVar(),l=un(Rr(o.x,s),Rr(o.y,a)).toVar(),c=be(1e6).toVar();return Wi({start:-1,end:pe(1),name:"x",condition:"<="},({x:u})=>{Wi({start:-1,end:pe(1),name:"y",condition:"<="},({y:d})=>{const f=be(b0(l,u,d,s,a,i,r)).toVar();c.assign(t3(c,f))})}),_r(r.equal(pe(0)),()=>{c.assign(nh(c))}),c}),m_e=pt(([t,e,n])=>{const r=pe(n).toVar(),i=be(e).toVar(),o=un(t).toVar(),s=pe().toVar(),a=pe().toVar(),l=un(Rr(o.x,s),Rr(o.y,a)).toVar(),c=un(1e6,1e6).toVar();return Wi({start:-1,end:pe(1),name:"x",condition:"<="},({x:u})=>{Wi({start:-1,end:pe(1),name:"y",condition:"<="},({y:d})=>{const f=be(b0(l,u,d,s,a,i,r)).toVar();_r(f.lessThan(c.x),()=>{c.y.assign(c.x),c.x.assign(f)}).elseif(f.lessThan(c.y),()=>{c.y.assign(f)})})}),_r(r.equal(pe(0)),()=>{c.assign(nh(c))}),c}),g_e=pt(([t,e,n])=>{const r=pe(n).toVar(),i=be(e).toVar(),o=un(t).toVar(),s=pe().toVar(),a=pe().toVar(),l=un(Rr(o.x,s),Rr(o.y,a)).toVar(),c=tt(1e6,1e6,1e6).toVar();return Wi({start:-1,end:pe(1),name:"x",condition:"<="},({x:u})=>{Wi({start:-1,end:pe(1),name:"y",condition:"<="},({y:d})=>{const f=be(b0(l,u,d,s,a,i,r)).toVar();_r(f.lessThan(c.x),()=>{c.z.assign(c.y),c.y.assign(c.x),c.x.assign(f)}).elseif(f.lessThan(c.y),()=>{c.z.assign(c.y),c.y.assign(f)}).elseif(f.lessThan(c.z),()=>{c.z.assign(f)})})}),_r(r.equal(pe(0)),()=>{c.assign(nh(c))}),c}),v_e=pt(([t,e,n])=>{const r=pe(n).toVar(),i=be(e).toVar(),o=tt(t).toVar(),s=pe().toVar(),a=pe().toVar(),l=pe().toVar(),c=tt(Rr(o.x,s),Rr(o.y,a),Rr(o.z,l)).toVar(),u=be(1e6).toVar();return Wi({start:-1,end:pe(1),name:"x",condition:"<="},({x:d})=>{Wi({start:-1,end:pe(1),name:"y",condition:"<="},({y:f})=>{Wi({start:-1,end:pe(1),name:"z",condition:"<="},({z:h})=>{const g=be(b0(c,d,f,h,s,a,l,i,r)).toVar();u.assign(t3(u,g))})})}),_r(r.equal(pe(0)),()=>{u.assign(nh(u))}),u}),y_e=pt(([t,e,n])=>{const r=pe(n).toVar(),i=be(e).toVar(),o=tt(t).toVar(),s=pe().toVar(),a=pe().toVar(),l=pe().toVar(),c=tt(Rr(o.x,s),Rr(o.y,a),Rr(o.z,l)).toVar(),u=un(1e6,1e6).toVar();return Wi({start:-1,end:pe(1),name:"x",condition:"<="},({x:d})=>{Wi({start:-1,end:pe(1),name:"y",condition:"<="},({y:f})=>{Wi({start:-1,end:pe(1),name:"z",condition:"<="},({z:h})=>{const g=be(b0(c,d,f,h,s,a,l,i,r)).toVar();_r(g.lessThan(u.x),()=>{u.y.assign(u.x),u.x.assign(g)}).elseif(g.lessThan(u.y),()=>{u.y.assign(g)})})})}),_r(r.equal(pe(0)),()=>{u.assign(nh(u))}),u}),x_e=pt(([t,e,n])=>{const r=pe(n).toVar(),i=be(e).toVar(),o=tt(t).toVar(),s=pe().toVar(),a=pe().toVar(),l=pe().toVar(),c=tt(Rr(o.x,s),Rr(o.y,a),Rr(o.z,l)).toVar(),u=tt(1e6,1e6,1e6).toVar();return Wi({start:-1,end:pe(1),name:"x",condition:"<="},({x:d})=>{Wi({start:-1,end:pe(1),name:"y",condition:"<="},({y:f})=>{Wi({start:-1,end:pe(1),name:"z",condition:"<="},({z:h})=>{const g=be(b0(c,d,f,h,s,a,l,i,r)).toVar();_r(g.lessThan(u.x),()=>{u.z.assign(u.y),u.y.assign(u.x),u.x.assign(g)}).elseif(g.lessThan(u.y),()=>{u.z.assign(u.y),u.y.assign(g)}).elseif(g.lessThan(u.z),()=>{u.z.assign(g)})})})}),_r(r.equal(pe(0)),()=>{u.assign(nh(u))}),u});em.setLayout({name:"mx_select",type:"float",inputs:[{name:"b",type:"bool"},{name:"t",type:"float"},{name:"f",type:"float"}]});o3.setLayout({name:"mx_negate_if",type:"float",inputs:[{name:"val",type:"float"},{name:"b",type:"bool"}]});Jr.setLayout({name:"mx_floor",type:"int",inputs:[{name:"x",type:"float"}]});Mj.setLayout({name:"mx_bilerp_0",type:"float",inputs:[{name:"v0",type:"float"},{name:"v1",type:"float"},{name:"v2",type:"float"},{name:"v3",type:"float"},{name:"s",type:"float"},{name:"t",type:"float"}]});Rj.setLayout({name:"mx_bilerp_1",type:"vec3",inputs:[{name:"v0",type:"vec3"},{name:"v1",type:"vec3"},{name:"v2",type:"vec3"},{name:"v3",type:"vec3"},{name:"s",type:"float"},{name:"t",type:"float"}]});Pj.setLayout({name:"mx_trilerp_0",type:"float",inputs:[{name:"v0",type:"float"},{name:"v1",type:"float"},{name:"v2",type:"float"},{name:"v3",type:"float"},{name:"v4",type:"float"},{name:"v5",type:"float"},{name:"v6",type:"float"},{name:"v7",type:"float"},{name:"s",type:"float"},{name:"t",type:"float"},{name:"r",type:"float"}]});Nj.setLayout({name:"mx_trilerp_1",type:"vec3",inputs:[{name:"v0",type:"vec3"},{name:"v1",type:"vec3"},{name:"v2",type:"vec3"},{name:"v3",type:"vec3"},{name:"v4",type:"vec3"},{name:"v5",type:"vec3"},{name:"v6",type:"vec3"},{name:"v7",type:"vec3"},{name:"s",type:"float"},{name:"t",type:"float"},{name:"r",type:"float"}]});Oj.setLayout({name:"mx_gradient_float_0",type:"float",inputs:[{name:"hash",type:"uint"},{name:"x",type:"float"},{name:"y",type:"float"}]});Lj.setLayout({name:"mx_gradient_float_1",type:"float",inputs:[{name:"hash",type:"uint"},{name:"x",type:"float"},{name:"y",type:"float"},{name:"z",type:"float"}]});Dj.setLayout({name:"mx_gradient_vec3_0",type:"vec3",inputs:[{name:"hash",type:"uvec3"},{name:"x",type:"float"},{name:"y",type:"float"}]});Fj.setLayout({name:"mx_gradient_vec3_1",type:"vec3",inputs:[{name:"hash",type:"uvec3"},{name:"x",type:"float"},{name:"y",type:"float"},{name:"z",type:"float"}]});$j.setLayout({name:"mx_gradient_scale2d_0",type:"float",inputs:[{name:"v",type:"float"}]});Uj.setLayout({name:"mx_gradient_scale3d_0",type:"float",inputs:[{name:"v",type:"float"}]});Bj.setLayout({name:"mx_gradient_scale2d_1",type:"vec3",inputs:[{name:"v",type:"vec3"}]});zj.setLayout({name:"mx_gradient_scale3d_1",type:"vec3",inputs:[{name:"v",type:"vec3"}]});Jo.setLayout({name:"mx_rotl32",type:"uint",inputs:[{name:"x",type:"uint"},{name:"k",type:"int"}]});x0.setLayout({name:"mx_bjfinal",type:"uint",inputs:[{name:"a",type:"uint"},{name:"b",type:"uint"},{name:"c",type:"uint"}]});lo.setLayout({name:"mx_bits_to_01",type:"float",inputs:[{name:"bits",type:"uint"}]});Ja.setLayout({name:"mx_fade",type:"float",inputs:[{name:"t",type:"float"}]});Gj.setLayout({name:"mx_hash_int_0",type:"uint",inputs:[{name:"x",type:"int"}]});Wj.setLayout({name:"mx_hash_int_1",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"}]});jj.setLayout({name:"mx_hash_int_2",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"}]});Xj.setLayout({name:"mx_hash_int_3",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xx",type:"int"}]});qj.setLayout({name:"mx_hash_int_4",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xx",type:"int"},{name:"yy",type:"int"}]});Kj.setLayout({name:"mx_hash_vec3_0",type:"uvec3",inputs:[{name:"x",type:"int"},{name:"y",type:"int"}]});Yj.setLayout({name:"mx_hash_vec3_1",type:"uvec3",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"}]});Zj.setLayout({name:"mx_perlin_noise_float_0",type:"float",inputs:[{name:"p",type:"vec2"}]});Qj.setLayout({name:"mx_perlin_noise_float_1",type:"float",inputs:[{name:"p",type:"vec3"}]});Jj.setLayout({name:"mx_perlin_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"vec2"}]});eX.setLayout({name:"mx_perlin_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec3"}]});l_e.setLayout({name:"mx_cell_noise_float_0",type:"float",inputs:[{name:"p",type:"float"}]});c_e.setLayout({name:"mx_cell_noise_float_1",type:"float",inputs:[{name:"p",type:"vec2"}]});u_e.setLayout({name:"mx_cell_noise_float_2",type:"float",inputs:[{name:"p",type:"vec3"}]});d_e.setLayout({name:"mx_cell_noise_float_3",type:"float",inputs:[{name:"p",type:"vec4"}]});tX.setLayout({name:"mx_cell_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"float"}]});nX.setLayout({name:"mx_cell_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec2"}]});rX.setLayout({name:"mx_cell_noise_vec3_2",type:"vec3",inputs:[{name:"p",type:"vec3"}]});iX.setLayout({name:"mx_cell_noise_vec3_3",type:"vec3",inputs:[{name:"p",type:"vec4"}]});Tx.setLayout({name:"mx_fractal_noise_float",type:"float",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]});sX.setLayout({name:"mx_fractal_noise_vec3",type:"vec3",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]});f_e.setLayout({name:"mx_fractal_noise_vec2",type:"vec2",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]});h_e.setLayout({name:"mx_fractal_noise_vec4",type:"vec4",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]});aX.setLayout({name:"mx_worley_distance_0",type:"float",inputs:[{name:"p",type:"vec2"},{name:"x",type:"int"},{name:"y",type:"int"},{name:"xoff",type:"int"},{name:"yoff",type:"int"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});lX.setLayout({name:"mx_worley_distance_1",type:"float",inputs:[{name:"p",type:"vec3"},{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xoff",type:"int"},{name:"yoff",type:"int"},{name:"zoff",type:"int"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});p_e.setLayout({name:"mx_worley_noise_float_0",type:"float",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});m_e.setLayout({name:"mx_worley_noise_vec2_0",type:"vec2",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});g_e.setLayout({name:"mx_worley_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});v_e.setLayout({name:"mx_worley_noise_float_1",type:"float",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});y_e.setLayout({name:"mx_worley_noise_vec2_1",type:"vec2",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});x_e.setLayout({name:"mx_worley_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});const b_e=pt(([t])=>{const e=tt(t).toVar(),n=be(e.x).toVar(),r=be(e.y).toVar(),i=be(e.z).toVar();_r(r.lessThan(1e-4),()=>tt(i,i,i)).else(()=>{n.assign(Qr(6,n.sub(W3(n))));const o=pe(JG(n)).toVar(),s=be(n.sub(be(o))).toVar(),a=be(i.mul(io(1,r))).toVar(),l=be(i.mul(io(1,r.mul(s)))).toVar(),c=be(i.mul(io(1,r.mul(io(1,s))))).toVar();return _r(o.equal(pe(0)),()=>tt(i,c,a)).elseif(o.equal(pe(1)),()=>tt(l,i,a)).elseif(o.equal(pe(2)),()=>tt(a,i,c)).elseif(o.equal(pe(3)),()=>tt(a,l,i)).elseif(o.equal(pe(4)),()=>tt(c,a,i)),tt(i,a,l)})}),S_e=pt(([t])=>{const e=tt(t).toVar(),n=be(e.x).toVar(),r=be(e.y).toVar(),i=be(e.z).toVar(),o=be(t3(n,t3(r,i))).toVar(),s=be(Vf(n,Vf(r,i))).toVar(),a=be(s.sub(o)).toVar(),l=be().toVar(),c=be().toVar(),u=be().toVar();return u.assign(s),_r(s.greaterThan(0),()=>{c.assign(a.div(s))}).else(()=>{c.assign(0)}),_r(c.lessThanEqual(0),()=>{l.assign(0)}).else(()=>{_r(n.greaterThanEqual(s),()=>{l.assign(r.sub(i).div(a))}).elseif(r.greaterThanEqual(s),()=>{l.assign(wa(2,i.sub(n).div(a)))}).else(()=>{l.assign(wa(4,n.sub(r).div(a)))}),l.mulAssign(1/6),_r(l.lessThan(0),()=>{l.addAssign(1)})}),tt(l,c,u)});b_e.setLayout({name:"mx_hsvtorgb",type:"vec3",inputs:[{name:"hsv",type:"vec3"}]});S_e.setLayout({name:"mx_rgbtohsv",type:"vec3",inputs:[{name:"c",type:"vec3"}]});const __e=pt(([t])=>{const e=tt(t).toVar(),n=IG(YG(e,tt(.04045))).toVar(),r=tt(e.div(12.92)).toVar(),i=tt(nM(Vf(e.add(tt(.055)),tt(0)).div(1.055),tt(2.4))).toVar();return Wl(r,i,n)});__e.setLayout({name:"mx_srgb_texture_to_lin_rec709",type:"vec3",inputs:[{name:"color",type:"vec3"}]});function w_e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function C_e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}class E_e{constructor(){this.renderItems=[],this.renderItemsIndex=0,this.opaque=[],this.transparent=[],this.lightsNode=new SW([]),this.lightsArray=[],this.occlusionQueryCount=0}begin(){return this.renderItemsIndex=0,this.opaque.length=0,this.transparent.length=0,this.lightsArray.length=0,this.occlusionQueryCount=0,this}getNextRenderItem(e,n,r,i,o,s){let a=this.renderItems[this.renderItemsIndex];return a===void 0?(a={id:e.id,object:e,geometry:n,material:r,groupOrder:i,renderOrder:e.renderOrder,z:o,group:s},this.renderItems[this.renderItemsIndex]=a):(a.id=e.id,a.object=e,a.geometry=n,a.material=r,a.groupOrder=i,a.renderOrder=e.renderOrder,a.z=o,a.group=s),this.renderItemsIndex++,a}push(e,n,r,i,o,s){const a=this.getNextRenderItem(e,n,r,i,o,s);e.occlusionTest===!0&&this.occlusionQueryCount++,(r.transparent===!0?this.transparent:this.opaque).push(a)}unshift(e,n,r,i,o,s){const a=this.getNextRenderItem(e,n,r,i,o,s);(r.transparent===!0?this.transparent:this.opaque).unshift(a)}pushLight(e){this.lightsArray.push(e)}getLightsNode(){return this.lightsNode.fromLights(this.lightsArray)}sort(e,n){this.opaque.length>1&&this.opaque.sort(e||w_e),this.transparent.length>1&&this.transparent.sort(n||C_e)}finish(){this.lightsNode.fromLights(this.lightsArray);for(let e=this.renderItemsIndex,n=this.renderItems.length;e<n;e++){const r=this.renderItems[e];if(r.id===null)break;r.id=null,r.object=null,r.geometry=null,r.material=null,r.groupOrder=null,r.renderOrder=null,r.z=null,r.group=null}}}const T_e=E_e;class M_e{constructor(){this.lists=new kf}get(e,n){const r=this.lists,i=[e,n];let o=r.get(i);return o===void 0&&(o=new T_e,r.set(i,o)),o}dispose(){this.lists=new kf}}const R_e=M_e;let A_e=0;class P_e{constructor(){this.id=A_e++,this.color=!0,this.clearColor=!0,this.clearColorValue={r:0,g:0,b:0,a:1},this.depth=!0,this.clearDepth=!0,this.clearDepthValue=1,this.stencil=!0,this.clearStencil=!0,this.clearStencilValue=1,this.viewport=!1,this.viewportValue=new En,this.scissor=!1,this.scissorValue=new En,this.textures=null,this.depthTexture=null,this.activeCubeFace=0,this.sampleCount=1,this.width=0,this.height=0}}const N_e=P_e;class I_e{constructor(){this.chainMaps={}}get(e,n,r=null){const i=[e,n];let o;if(r===null)o="default";else{let l,c;r.isWebGLMultipleRenderTargets?(l=r.texture[0].format,c=r.texture.length):(l=r.texture.format,c=1),o=`${c}:${l}:${r.samples}:${r.depthBuffer}:${r.stencilBuffer}`}const s=this.getChainMap(o);let a=s.get(i);return a===void 0&&(a=new N_e,s.set(i,a)),r!==null&&(a.sampleCount=r.samples===0?1:r.samples),a}getChainMap(e){return this.chainMaps[e]||(this.chainMaps[e]=new kf)}dispose(){this.chainMaps={}}}const O_e=I_e,L_e=new J;class D_e extends th{constructor(e,n){super(),this.backend=e,this.info=n}updateRenderTarget(e,n=0){const r=this.get(e),i=e.samples===0?1:e.samples,o=r.depthTextureMips||(r.depthTextureMips={});let s,a;e.isWebGLMultipleRenderTargets?(a=e.texture,s=e.texture[0]):(a=[e.texture],s=e.texture);const l=this.getSize(s),c=l.width>>n,u=l.height>>n;let d=e.depthTexture||o[n],f=!1;d===void 0&&(d=new ad,d.format=il,d.type=ga,d.image.width=c,d.image.height=u,o[n]=d),(r.width!==l.width||l.height!==r.height)&&(f=!0,d.needsUpdate=!0,d.image.width=c,d.image.height=u),r.width=l.width,r.height=l.height,r.textures=a,r.depthTexture=d,r.depth=e.depthBuffer,r.stencil=e.stencilBuffer,r.sampleCount!==i&&(f=!0,d.needsUpdate=!0,r.sampleCount=i);const h={sampleCount:i};for(let g=0;g<a.length;g++){const x=a[g];f&&(x.needsUpdate=!0),this.updateTexture(x,h)}if(this.updateTexture(d,h),r.initialized!==!0){r.initialized=!0;const g=()=>{if(e.removeEventListener("dispose",g),a!==void 0)for(let x=0;x<a.length;x++)this._destroyTexture(a[x]);else this._destroyTexture(s);this._destroyTexture(d)};e.addEventListener("dispose",g)}}updateTexture(e,n={}){const r=this.get(e);if(r.initialized===!0&&r.version===e.version)return;const i=e.isRenderTargetTexture||e.isDepthTexture||e.isFramebufferTexture,o=this.backend;i&&r.initialized===!0&&(o.destroySampler(e),o.destroyTexture(e));const{width:s,height:a,depth:l}=this.getSize(e);if(n.width=s,n.height=a,n.depth=l,n.needsMipmaps=this.needsMipmaps(e),n.levels=n.needsMipmaps?this.getMipLevels(e,s,a):1,i||e.isStorageTexture===!0)o.createSampler(e),o.createTexture(e,n);else if(r.initialized!==!0&&o.createSampler(e),e.version>0){const u=e.image;if(u===void 0)console.warn("THREE.Renderer: Texture marked for update but image is undefined.");else if(u.complete===!1)console.warn("THREE.Renderer: Texture marked for update but image is incomplete.");else{if(e.images){const d=[];for(const f of e.images)d.push(f);n.images=d}else n.image=u;(r.isDefaultTexture===void 0||r.isDefaultTexture===!0)&&(o.createTexture(e,n),r.isDefaultTexture=!1),o.updateTexture(e,n),n.needsMipmaps&&e.mipmaps.length===0&&o.generateMipmaps(e)}}else o.createDefaultTexture(e),r.isDefaultTexture=!0;if(r.initialized!==!0){r.initialized=!0,this.info.memory.textures++;const c=()=>{e.removeEventListener("dispose",c),this._destroyTexture(e),this.info.memory.textures--};e.addEventListener("dispose",c)}r.version=e.version}getSize(e,n=L_e){let r=e.images?e.images[0]:e.image;return r?(r.image!==void 0&&(r=r.image),n.width=r.width,n.height=r.height,n.depth=e.isCubeTexture?6:r.depth||1):n.width=n.height=n.depth=1,n}getMipLevels(e,n,r){let i;return e.isCompressedTexture?i=e.mipmaps.length:i=Math.floor(Math.log2(Math.max(n,r)))+1,i}needsMipmaps(e){return this.isEnvironmentTexture(e)?!0:e.isCompressedTexture===!0||e.minFilter!==er&&e.minFilter!==Fr}isEnvironmentTexture(e){const n=e.mapping;return n===ju||n===Xu||n===rl||n===Fl}_destroyTexture(e){this.backend.destroySampler(e),this.backend.destroyTexture(e),this.delete(e)}}const F_e=D_e;class $_e extends Tt{constructor(e,n,r,i=1){super(e,n,r),this.a=i}set(e,n,r,i=1){return this.a=i,super.set(e,n,r)}copy(e){return e.a!==void 0&&(this.a=e.a),super.copy(e)}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}}const pM=$_e,Fa=new pM;class U_e extends th{constructor(e,n){super(),this.renderer=e,this.nodes=n}update(e,n,r){const i=this.renderer,o=this.nodes.getBackgroundNode(e)||e.background;let s=!1;if(o===null)i._clearColor.getRGB(Fa,this.renderer.currentColorSpace),Fa.a=i._clearColor.a;else if(o.isColor===!0)o.getRGB(Fa,this.renderer.currentColorSpace),Fa.a=1,s=!0;else if(o.isNode===!0){const a=this.get(e),l=o;Fa.copy(i._clearColor);let c=a.backgroundMesh;if(c===void 0){const d=Ll(kn(l),{getUV:()=>tS,getTextureLevel:()=>g7e}).mul(v7e);let f=Ew();f=f.setZ(f.w);const h=new Xo;h.side=di,h.depthTest=!1,h.depthWrite=!1,h.fog=!1,h.vertexNode=f,h.fragmentNode=d,a.backgroundMeshNode=d,a.backgroundMesh=c=new Zr(new p0(1,32,32),h),c.frustumCulled=!1,c.onBeforeRender=function(g,x,b){this.matrixWorld.copyPosition(b.matrixWorld)}}const u=l.getCacheKey();a.backgroundCacheKey!==u&&(a.backgroundMeshNode.node=kn(l),c.material.needsUpdate=!0,a.backgroundCacheKey=u),n.unshift(c,c.geometry,c.material,0,0,null)}else console.error("THREE.Renderer: Unsupported background configuration.",o);if(i.autoClear===!0||s===!0){Fa.multiplyScalar(Fa.a);const a=r.clearColorValue;a.r=Fa.r,a.g=Fa.g,a.b=Fa.b,a.a=Fa.a,r.depthClearValue=i._clearDepth,r.stencilClearValue=i._clearStencil,r.clearColor=i.autoClearColor===!0,r.clearDepth=i.autoClearDepth===!0,r.clearStencil=i.autoClearStencil===!0}else r.clearColor=!1,r.clearDepth=!1,r.clearStencil=!1}}const B_e=U_e;class k_e{constructor(e,n,r,i,o,s,a){this.vertexShader=e,this.fragmentShader=n,this.computeShader=r,this.nodeAttributes=i,this.bindings=o,this.updateNodes=s,this.updateBeforeNodes=a,this.usedTimes=0}createBindings(){const e=[];for(const n of this.bindings){let r=n;n.shared!==!0&&(r=n.clone()),e.push(r)}return e}}const z_e=k_e;class V_e extends th{constructor(e,n){super(),this.renderer=e,this.backend=n,this.nodeFrame=new cD,this.nodeBuilderCache=new Map,this.callHashCache=new kf,this.groupsData=new kf}updateGroup(e){const n=e.groupNode,r=n.name;if(r===EG.name)return!0;if(r===nSe.name){const s=this.get(e),a=this.nodeFrame.renderId;return s.renderId!==a?(s.renderId=a,!0):!1}if(r===tSe.name){const s=this.get(e),a=this.nodeFrame.frameId;return s.frameId!==a?(s.frameId=a,!0):!1}const i=[n,e];let o=this.groupsData.get(i);return o===void 0&&this.groupsData.set(i,o={}),o.version!==n.version?(o.version=n.version,!0):!1}getForRenderCacheKey(e){return e.initialCacheKey}getForRender(e){const n=this.get(e);let r=n.nodeBuilderState;if(r===void 0){const{nodeBuilderCache:i}=this,o=this.getForRenderCacheKey(e);if(r=i.get(o),r===void 0){const s=this.backend.createNodeBuilder(e.object,this.renderer,e.scene);s.material=e.material,s.context.material=e.material,s.lightsNode=e.lightsNode,s.environmentNode=this.getEnvironmentNode(e.scene),s.fogNode=this.getFogNode(e.scene),s.toneMappingNode=this.getToneMappingNode(),s.build(),r=this._createNodeBuilderState(s),i.set(o,r)}r.usedTimes++,n.nodeBuilderState=r}return r}delete(e){if(e.isRenderObject){const n=this.get(e).nodeBuilderState;n.usedTimes--,n.usedTimes===0&&this.nodeBuilderCache.delete(this.getForRenderCacheKey(e))}return super.delete(e)}getForCompute(e){const n=this.get(e);let r=n.nodeBuilderState;if(r===void 0){const i=this.backend.createNodeBuilder(e,this.renderer);i.build(),r=this._createNodeBuilderState(i),n.nodeBuilderState=i}return r}_createNodeBuilderState(e){return new z_e(e.vertexShader,e.fragmentShader,e.computeShader,e.getAttributesArray(),e.getBindings(),e.updateNodes,e.updateBeforeNodes)}getEnvironmentNode(e){return e.environmentNode||this.get(e).environmentNode||null}getBackgroundNode(e){return e.backgroundNode||this.get(e).backgroundNode||null}getFogNode(e){return e.fogNode||this.get(e).fogNode||null}getToneMappingNode(){return this.isToneMappingState===!1?null:this.renderer.toneMappingNode||this.get(this.renderer).toneMappingNode||null}getCacheKey(e,n){const r=[e,n],i=this.renderer.info.calls;let o=this.callHashCache.get(r);if(o===void 0||o.callId!==i){const s=this.getEnvironmentNode(e),a=this.getFogNode(e),l=this.getToneMappingNode(),c=[];n&&c.push(n.getCacheKey()),s&&c.push(s.getCacheKey()),a&&c.push(a.getCacheKey()),l&&c.push(l.getCacheKey()),o={callId:i,cacheKey:c.join(",")},this.callHashCache.set(r,o)}return o.cacheKey}updateScene(e){this.updateEnvironment(e),this.updateFog(e),this.updateBackground(e),this.updateToneMapping()}get isToneMappingState(){const n=this.renderer.getRenderTarget();return!(n&&n.isCubeRenderTarget)}updateToneMapping(){const e=this.renderer,n=this.get(e),r=e.toneMapping;if(this.isToneMappingState&&r!==Vo){if(n.toneMapping!==r){const i=n.rendererToneMappingNode||Y7e(r,Rs("toneMappingExposure","float",e));i.toneMapping=r,n.rendererToneMappingNode=i,n.toneMappingNode=i,n.toneMapping=r}}else delete n.toneMappingNode,delete n.toneMapping}updateBackground(e){const n=this.get(e),r=e.background;if(r){if(n.background!==r){let i=null;if(r.isCubeTexture===!0)i=r3(r,tS);else if(r.isTexture===!0){let o=null;r.mapping===ju||r.mapping===Xu?o=iS():o=L8e,i=us(r,o).setUpdateMatrix(!0)}else r.isColor!==!0&&console.error("WebGPUNodes: Unsupported background configuration.",r);n.backgroundNode=i,n.background=r}}else n.backgroundNode&&(delete n.backgroundNode,delete n.background)}updateFog(e){const n=this.get(e),r=e.fog;if(r){if(n.fog!==r){let i=null;r.isFogExp2?i=dj(Rs("color","color",r),Rs("density","float",r)):r.isFog?i=cj(Rs("color","color",r),Rs("near","float",r),Rs("far","float",r)):console.error("WebGPUNodes: Unsupported fog configuration.",r),n.fogNode=i,n.fog=r}}else delete n.fogNode,delete n.fog}updateEnvironment(e){const n=this.get(e),r=e.environment;if(r){if(n.environment!==r){let i=null;r.isCubeTexture===!0?i=r3(r):r.isTexture===!0?i=us(r):console.error("Nodes: Unsupported environment configuration.",r),n.environmentNode=i,n.environment=r}}else n.environmentNode&&(delete n.environmentNode,delete n.environment)}getNodeFrame(e=this.renderer,n=null,r=null,i=null,o=null){const s=this.nodeFrame;return s.renderer=e,s.scene=n,s.object=r,s.camera=i,s.material=o,s}getNodeFrameForRender(e){return this.getNodeFrame(e.renderer,e.scene,e.object,e.camera,e.material)}updateBefore(e){const n=this.getNodeFrameForRender(e),r=e.getNodeBuilderState();for(const i of r.updateBeforeNodes)n.updateBeforeNode(i)}updateForCompute(e){const n=this.getNodeFrame(),r=this.getForCompute(e);for(const i of r.updateNodes)n.updateNode(i)}updateForRender(e){const n=this.getNodeFrameForRender(e),r=e.getNodeBuilderState();for(const i of r.updateNodes)n.updateNode(i)}dispose(){super.dispose(),this.nodeFrame=new cD,this.nodeBuilderCache=new Map}}const H_e=V_e,G_e=new Vm,L7=new Xe,D7=new En,F7=new d0,Sy=new cn,xg=new J;class W_e{constructor(e,n={}){this.isRenderer=!0;const{logarithmicDepthBuffer:r=!1}=n;this.domElement=e.getDomElement(),this.backend=e,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.logarithmicDepthBuffer=r,this.outputColorSpace=Wt,this.toneMapping=Vo,this.toneMappingExposure=1,this.sortObjects=!0,this.depth=!0,this.stencil=!0,this.info=new Bbe,this._pixelRatio=1,this._width=this.domElement.width,this._height=this.domElement.height,this._viewport=new En(0,0,this._width,this._height),this._scissor=new En(0,0,this._width,this._height),this._scissorTest=!1,this._properties=null,this._attributes=null,this._geometries=null,this._nodes=null,this._animation=null,this._bindings=null,this._objects=null,this._pipelines=null,this._renderLists=null,this._renderContexts=null,this._textures=null,this._background=null,this._currentRenderContext=null,this._opaqueSort=null,this._transparentSort=null,this._clearColor=new pM(0),this._clearDepth=1,this._clearStencil=0,this._renderTarget=null,this._activeCubeFace=0,this._activeMipmapLevel=0,this._renderObjectFunction=null,this._currentRenderObjectFunction=null,this._initialized=!1,this._initPromise=null,this.shadowMap={enabled:!1,type:null},this.xr={enabled:!1}}async init(){if(this._initialized)throw new Error("Renderer: Backend has already been initialized.");return this._initPromise!==null?this._initPromise:(this._initPromise=new Promise(async(e,n)=>{const r=this.backend;try{await r.init(this)}catch(i){n(i);return}this._nodes=new H_e(this,r),this._animation=new Ebe(this._nodes,this.info),this._attributes=new Lbe(r),this._background=new B_e(this,this._nodes),this._geometries=new $be(this._attributes,this.info),this._textures=new F_e(r,this.info),this._pipelines=new qbe(r,this._nodes),this._bindings=new Ybe(r,this._nodes,this._textures,this._attributes,this._pipelines,this.info),this._objects=new Abe(this,this._nodes,this._geometries,this._pipelines,this._bindings,this.info),this._renderLists=new R_e,this._renderContexts=new O_e,this._initialized=!0,e()}),this._initPromise)}get coordinateSystem(){return this.backend.coordinateSystem}async compile(){console.warn("THREE.Renderer: .compile() is not implemented yet.")}async render(e,n){this._initialized===!1&&await this.init();const r=this._nodes.nodeFrame,i=r.renderId,o=this._currentRenderContext,s=this._currentRenderObjectFunction,a=e.isScene===!0?e:G_e,l=this._renderTarget,c=this._renderContexts.get(e,n,l),u=this._activeCubeFace,d=this._activeMipmapLevel;this._currentRenderContext=c,this._currentRenderObjectFunction=this._renderObjectFunction||this.renderObject,this.info.calls++,this.info.render.calls++,r.renderId=this.info.calls;const f=this.coordinateSystem;n.coordinateSystem!==f&&(n.coordinateSystem=f,n.updateProjectionMatrix()),e.matrixWorldAutoUpdate===!0&&e.updateMatrixWorld(),n.parent===null&&n.matrixWorldAutoUpdate===!0&&n.updateMatrixWorld(),this.info.autoReset===!0&&this.info.reset();let h=this._viewport,g=this._scissor,x=this._pixelRatio;l!==null&&(h=l.viewport,g=l.scissor,x=1),this.getDrawingBufferSize(L7),D7.set(0,0,L7.width,L7.height);const b=h.minDepth===void 0?0:h.minDepth,v=h.maxDepth===void 0?1:h.maxDepth;c.viewportValue.copy(h).multiplyScalar(x).floor(),c.viewportValue.width>>=d,c.viewportValue.height>>=d,c.viewportValue.minDepth=b,c.viewportValue.maxDepth=v,c.viewport=c.viewportValue.equals(D7)===!1,c.scissorValue.copy(g).multiplyScalar(x).floor(),c.scissor=this._scissorTest&&c.scissorValue.equals(D7)===!1,c.scissorValue.width>>=d,c.scissorValue.height>>=d,c.depth=this.depth,c.stencil=this.stencil,a.onBeforeRender(this,e,n,l),Sy.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),F7.setFromProjectionMatrix(Sy,f);const _=this._renderLists.get(e,n);if(_.begin(),this._projectObject(e,n,0,_),_.finish(),this.sortObjects===!0&&_.sort(this._opaqueSort,this._transparentSort),l!==null){this._textures.updateRenderTarget(l,d);const E=this._textures.get(l);c.textures=E.textures,c.depthTexture=E.depthTexture,c.width=E.width,c.height=E.height,c.renderTarget=l}else c.textures=null,c.depthTexture=null,c.width=this.domElement.width,c.height=this.domElement.height;c.width>>=d,c.height>>=d,c.activeCubeFace=u,c.activeMipmapLevel=d,c.occlusionQueryCount=_.occlusionQueryCount,this._nodes.updateScene(a),this._background.update(a,_,c),this.backend.beginRender(c);const S=_.opaque,w=_.transparent,M=_.lightsNode;S.length>0&&this._renderObjects(S,n,a,M),w.length>0&&this._renderObjects(w,n,a,M),this.backend.finishRender(c),r.renderId=i,this._currentRenderContext=o,this._currentRenderObjectFunction=s,a.onAfterRender(this,e,n,l)}getMaxAnisotropy(){return this.backend.getMaxAnisotropy()}getActiveCubeFace(){return this._activeCubeFace}getActiveMipmapLevel(){return this._activeMipmapLevel}async setAnimationLoop(e){this._initialized===!1&&await this.init(),this._animation.setAnimationLoop(e)}getArrayBuffer(e){return console.warn("THREE.Renderer: getArrayBuffer() is deprecated. Use getArrayBufferAsync() instead."),this.getArrayBufferAsync(e)}async getArrayBufferAsync(e){return await this.backend.getArrayBufferAsync(e)}getContext(){return this._context}getPixelRatio(){return this._pixelRatio}getDrawingBufferSize(e){return e.set(this._width*this._pixelRatio,this._height*this._pixelRatio).floor()}getSize(e){return e.set(this._width,this._height)}setPixelRatio(e=1){this._pixelRatio=e,this.setSize(this._width,this._height,!1)}setDrawingBufferSize(e,n,r){this._width=e,this._height=n,this._pixelRatio=r,this.domElement.width=Math.floor(e*r),this.domElement.height=Math.floor(n*r),this.setViewport(0,0,e,n),this._initialized&&this.backend.updateSize()}setSize(e,n,r=!0){this._width=e,this._height=n,this.domElement.width=Math.floor(e*this._pixelRatio),this.domElement.height=Math.floor(n*this._pixelRatio),r===!0&&(this.domElement.style.width=e+"px",this.domElement.style.height=n+"px"),this.setViewport(0,0,e,n),this._initialized&&this.backend.updateSize()}setOpaqueSort(e){this._opaqueSort=e}setTransparentSort(e){this._transparentSort=e}getScissor(e){const n=this._scissor;return e.x=n.x,e.y=n.y,e.width=n.width,e.height=n.height,e}setScissor(e,n,r,i){const o=this._scissor;e.isVector4?o.copy(e):o.set(e,n,r,i)}getScissorTest(){return this._scissorTest}setScissorTest(e){this._scissorTest=e}getViewport(e){return e.copy(this._viewport)}setViewport(e,n,r,i,o=0,s=1){const a=this._viewport;e.isVector4?a.copy(e):a.set(e,n,r,i),a.minDepth=o,a.maxDepth=s}getClearColor(e){return e.copy(this._clearColor)}setClearColor(e,n=1){this._clearColor.set(e),this._clearColor.a=n}getClearAlpha(){return this._clearColor.a}setClearAlpha(e){this._clearColor.a=e}getClearDepth(){return this._clearDepth}setClearDepth(e){this._clearDepth=e}getClearStencil(){return this._clearStencil}setClearStencil(e){this._clearStencil=e}isOccluded(e){const n=this._currentRenderContext;return n&&this.backend.isOccluded(n,e)}clear(e=!0,n=!0,r=!0){let i=null;const o=this._renderTarget;o!==null&&(this._textures.updateRenderTarget(o),i=this._textures.get(o)),this.backend.clear(e,n,r,i)}clearColor(){this.clear(!0,!1,!1)}clearDepth(){this.clear(!1,!0,!1)}clearStencil(){this.clear(!1,!1,!0)}get currentColorSpace(){const e=this._renderTarget;if(e!==null){const n=e.texture;return(Array.isArray(n)?n[0]:n).colorSpace}return this.outputColorSpace}dispose(){this.info.dispose(),this._animation.dispose(),this._objects.dispose(),this._properties.dispose(),this._pipelines.dispose(),this._nodes.dispose(),this._bindings.dispose(),this._renderLists.dispose(),this._renderContexts.dispose(),this._textures.dispose(),this.setRenderTarget(null),this.setAnimationLoop(null)}setRenderTarget(e,n=0,r=0){this._renderTarget=e,this._activeCubeFace=n,this._activeMipmapLevel=r}getRenderTarget(){return this._renderTarget}setRenderObjectFunction(e){this._renderObjectFunction=e}getRenderObjectFunction(){return this._renderObjectFunction}async compute(e){this._initialized===!1&&await this.init();const n=this._nodes.nodeFrame,r=n.renderId;this.info.calls++,this.info.compute.calls++,n.renderId=this.info.calls;const i=this.backend,o=this._pipelines,s=this._bindings,a=this._nodes,l=Array.isArray(e)?e:[e];if(l[0]===void 0||l[0].isComputeNode!==!0)throw new Error("THREE.Renderer: .compute() expects a ComputeNode.");i.beginCompute(e);for(const c of l){if(o.has(c)===!1){const f=()=>{c.removeEventListener("dispose",f),o.delete(c),s.delete(c),a.delete(c)};c.addEventListener("dispose",f),c.onInit({renderer:this})}a.updateForCompute(c),s.updateForCompute(c);const u=s.getForCompute(c),d=o.getForCompute(c,u);i.compute(e,c,u,d)}i.finishCompute(e),n.renderId=r}hasFeature(e){return this.backend.hasFeature(e)}copyFramebufferToTexture(e){const n=this._currentRenderContext;this._textures.updateTexture(e),this.backend.copyFramebufferToTexture(e,n)}readRenderTargetPixelsAsync(e,n,r,i,o){return this.backend.copyTextureToBuffer(e.texture,n,r,i,o)}_projectObject(e,n,r,i){if(e.visible===!1)return;if(e.layers.test(n.layers)){if(e.isGroup)r=e.renderOrder;else if(e.isLOD)e.autoUpdate===!0&&e.update(n);else if(e.isLight)i.pushLight(e);else if(e.isSprite){if(!e.frustumCulled||F7.intersectsSprite(e)){this.sortObjects===!0&&xg.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Sy);const a=e.geometry,l=e.material;l.visible&&i.push(e,a,l,r,xg.z,null)}}else if(e.isLineLoop)console.error("THREE.Renderer: Objects of type THREE.LineLoop are not supported. Please use THREE.Line or THREE.LineSegments.");else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||F7.intersectsObject(e))){const a=e.geometry,l=e.material;if(this.sortObjects===!0&&(a.boundingSphere===null&&a.computeBoundingSphere(),xg.copy(a.boundingSphere.center).applyMatrix4(e.matrixWorld).applyMatrix4(Sy)),Array.isArray(l)){const c=a.groups;for(let u=0,d=c.length;u<d;u++){const f=c[u],h=l[f.materialIndex];h&&h.visible&&i.push(e,a,h,r,xg.z,f)}}else l.visible&&i.push(e,a,l,r,xg.z,null)}}const s=e.children;for(let a=0,l=s.length;a<l;a++)this._projectObject(s[a],n,r,i)}_renderObjects(e,n,r,i){for(let o=0,s=e.length;o<s;o++){const a=e[o],{object:l,geometry:c,material:u,group:d}=a;if(n.isArrayCamera){const f=n.cameras;for(let h=0,g=f.length;h<g;h++){const x=f[h];if(l.layers.test(x.layers)){const b=x.viewport,v=b.minDepth===void 0?0:b.minDepth,_=b.maxDepth===void 0?1:b.maxDepth,S=this._currentRenderContext.viewportValue;S.copy(b).multiplyScalar(this._pixelRatio).floor(),S.minDepth=v,S.maxDepth=_,this.backend.updateViewport(this._currentRenderContext),this._currentRenderObjectFunction(l,r,x,c,u,d,i)}}}else this._currentRenderObjectFunction(l,r,n,c,u,d,i)}}renderObject(e,n,r,i,o,s,a){let l;if(e.onBeforeRender(this,n,r,i,o,s),o.onBeforeRender(this,n,r,i,o,s),n.overrideMaterial!==null){const c=n.overrideMaterial;o.positionNode&&o.positionNode.isNode&&(l=c.positionNode,c.positionNode=o.positionNode),o=c}o.transparent===!0&&o.side===ko&&o.forceSinglePass===!1?(o.side=di,this._renderObjectDirect(e,o,n,r,a,"backSide"),o.side=nl,this._renderObjectDirect(e,o,n,r,a),o.side=ko):this._renderObjectDirect(e,o,n,r,a),l!==void 0&&(n.overrideMaterial.positionNode=l),e.onAfterRender(this,n,r,i,o,s)}_renderObjectDirect(e,n,r,i,o,s){const a=this._objects.get(e,n,r,i,o,this._currentRenderContext,s);this._nodes.updateBefore(a),e.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),this._nodes.updateForRender(a),this._geometries.updateForRender(a),this._bindings.updateForRender(a),this._pipelines.updateForRender(a),this.backend.draw(a,this.info)}}const j_e=W_e;class X_e{constructor(e=""){this.name=e,this.visibility=0}setVisibility(e){this.visibility|=e}clone(){return Object.assign(new this.constructor,this)}}const mM=X_e;function cX(t){return t+(_u-t%_u)%_u}function q_e(t,e=4){const r=uX(e)*t;return cX(r)}function uX(t){return t+(4-t%4)%4}let K_e=class extends mM{constructor(e,n=null){super(e),this.isBuffer=!0,this.bytesPerElement=Float32Array.BYTES_PER_ELEMENT,this._buffer=n}get byteLength(){return cX(this._buffer.byteLength)}get buffer(){return this._buffer}update(){return!0}};const dX=K_e;class Y_e extends dX{constructor(e,n=null){super(e,n),this.isUniformBuffer=!0}}const gM=Y_e;class Z_e extends gM{constructor(e){super(e),this.isUniformsGroup=!0,this.uniforms=[]}addUniform(e){return this.uniforms.push(e),this}removeUniform(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}get buffer(){let e=this._buffer;if(e===null){const n=this.byteLength;e=new Float32Array(new ArrayBuffer(n)),this._buffer=e}return e}get byteLength(){let e=0;for(let n=0,r=this.uniforms.length;n<r;n++){const i=this.uniforms[n],o=e%_u,s=_u-o;o!==0&&s-i.boundary<0?e+=_u-o:o%i.boundary!==0&&(e+=o%i.boundary),i.offset=e/this.bytesPerElement,e+=i.itemSize*this.bytesPerElement}return Math.ceil(e/_u)*_u}update(){let e=!1;for(const n of this.uniforms)this.updateByType(n)===!0&&(e=!0);return e}updateByType(e){if(e.isFloatUniform)return this.updateNumber(e);if(e.isVector2Uniform)return this.updateVector2(e);if(e.isVector3Uniform)return this.updateVector3(e);if(e.isVector4Uniform)return this.updateVector4(e);if(e.isColorUniform)return this.updateColor(e);if(e.isMatrix3Uniform)return this.updateMatrix3(e);if(e.isMatrix4Uniform)return this.updateMatrix4(e);console.error("THREE.WebGPUUniformsGroup: Unsupported uniform type.",e)}updateNumber(e){let n=!1;const r=this.buffer,i=e.getValue(),o=e.offset;return r[o]!==i&&(r[o]=i,n=!0),n}updateVector2(e){let n=!1;const r=this.buffer,i=e.getValue(),o=e.offset;return(r[o+0]!==i.x||r[o+1]!==i.y)&&(r[o+0]=i.x,r[o+1]=i.y,n=!0),n}updateVector3(e){let n=!1;const r=this.buffer,i=e.getValue(),o=e.offset;return(r[o+0]!==i.x||r[o+1]!==i.y||r[o+2]!==i.z)&&(r[o+0]=i.x,r[o+1]=i.y,r[o+2]=i.z,n=!0),n}updateVector4(e){let n=!1;const r=this.buffer,i=e.getValue(),o=e.offset;return(r[o+0]!==i.x||r[o+1]!==i.y||r[o+2]!==i.z||r[o+4]!==i.w)&&(r[o+0]=i.x,r[o+1]=i.y,r[o+2]=i.z,r[o+3]=i.w,n=!0),n}updateColor(e){let n=!1;const r=this.buffer,i=e.getValue(),o=e.offset;return(r[o+0]!==i.r||r[o+1]!==i.g||r[o+2]!==i.b)&&(r[o+0]=i.r,r[o+1]=i.g,r[o+2]=i.b,n=!0),n}updateMatrix3(e){let n=!1;const r=this.buffer,i=e.getValue().elements,o=e.offset;return(r[o+0]!==i[0]||r[o+1]!==i[1]||r[o+2]!==i[2]||r[o+4]!==i[3]||r[o+5]!==i[4]||r[o+6]!==i[5]||r[o+8]!==i[6]||r[o+9]!==i[7]||r[o+10]!==i[8])&&(r[o+0]=i[0],r[o+1]=i[1],r[o+2]=i[2],r[o+4]=i[3],r[o+5]=i[4],r[o+6]=i[5],r[o+8]=i[6],r[o+9]=i[7],r[o+10]=i[8],n=!0),n}updateMatrix4(e){let n=!1;const r=this.buffer,i=e.getValue().elements,o=e.offset;return Q_e(r,i,o)===!1&&(r.set(i,o),n=!0),n}}function Q_e(t,e,n){for(let r=0,i=e.length;r<i;r++)if(t[n+r]!==e[r])return!1;return!0}const J_e=Z_e;let ewe=0;class twe extends J_e{constructor(e,n){super(e),this.id=ewe++,this.groupNode=n,this.isNodeUniformsGroup=!0}get shared(){return this.groupNode.shared}getNodes(){const e=[];for(const n of this.uniforms){const r=n.nodeUniform.node;if(!r)throw new Error("NodeUniformsGroup: Uniform has no node.");e.push(r)}return e}}const fX=twe;let nwe=0;class rwe extends mM{constructor(e,n){super(e),this.id=nwe++,this.texture=n,this.version=n?n.version:0,this.store=!1,this.isSampledTexture=!0}get needsBindingsUpdate(){const{texture:e,version:n}=this;return e.isVideoTexture?!0:n!==e.version}update(){const{texture:e,version:n}=this;return n!==e.version?(this.version=e.version,!0):!1}}class vM extends rwe{constructor(e,n){super(e,n?n.value:null),this.textureNode=n}get needsBindingsUpdate(){return this.textureNode.value!==this.texture||super.needsBindingsUpdate}update(){const{textureNode:e}=this;return this.texture!==e.value?(this.texture=e.value,!0):super.update()}}class hX extends vM{constructor(e,n){super(e,n),this.isSampledCubeTexture=!0}}const iwe={[Le.ATAN2]:"atan",textureDimensions:"textureSize"},owe={low:"lowp",medium:"mediump",high:"highp"},swe={instance:!0},xD=`
precision highp float;
precision highp int;
precision mediump sampler2DArray;
precision lowp sampler2DShadow;
`;class awe extends LW{constructor(e,n,r=null){super(e,n,new o_e,r),this.uniformGroups={}}getMethod(e){return iwe[e]||e}getPropertyName(e,n){return e.isOutputStructVar?"":super.getPropertyName(e,n)}buildFunctionCode(e){const n=e.layout,r=this.flowShaderNode(e),i=[];for(const s of n.inputs)i.push(this.getType(s.type)+" "+s.name);return`${this.getType(n.type)} ${n.name}( ${i.join(", ")} ) {

	${r.vars}

${r.code}
	return ${r.result};

}`}generateTextureLoad(e,n,r,i,o="0"){return i?`texelFetch( ${n}, ivec3( ${r}, ${i} ), ${o} )`:`texelFetch( ${n}, ${r}, ${o} )`}generateTexture(e,n,r,i){return e.isTextureCube?`textureCube( ${n}, ${r} )`:e.isDepthTexture?`texture( ${n}, ${r} ).x`:(i&&(r=`vec3( ${r}, ${i} )`),`texture( ${n}, ${r} )`)}generateTextureLevel(e,n,r,i){return`textureLod( ${n}, ${r}, ${i} )`}generateTextureCompare(e,n,r,i,o,s=this.shaderStage){if(s==="fragment")return`texture( ${n}, vec3( ${r}, ${i} ) )`;console.error(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${s} shader.`)}getVars(e){const n=[],r=this.vars[e];if(r!==void 0)for(const i of r)i.isOutputStructVar||n.push(`${this.getVar(i.type,i.name)};`);return n.join(`
	`)}getUniforms(e){const n=this.uniforms[e],r=[],i={};for(const s of n){let a=null,l=!1;if(s.type==="texture"){const u=s.node.value;u.compareFunction?a=`sampler2DShadow ${s.name};`:u.isDataArrayTexture===!0?a=`sampler2DArray ${s.name};`:a=`sampler2D ${s.name};`}else if(s.type==="cubeTexture")a=`samplerCube ${s.name};`;else if(s.type==="buffer"){const u=s.node,d=this.getType(u.bufferType),f=u.bufferCount,h=f>0?f:"";a=`${u.name} {
	${d} ${s.name}[${h}];
};
`}else a=`${this.getVectorType(s.type)} ${s.name};`,l=!0;const c=s.node.precision;if(c!==null&&(a=owe[c]+" "+a),l){a="	"+a;const u=s.groupNode.name;(i[u]||(i[u]=[])).push(a)}else a="uniform "+a,r.push(a)}let o="";for(const s in i){const a=i[s];o+=this._getGLSLUniformStruct(e+"_"+s,a.join(`
`))+`
`}return o+=r.join(`
`),o}getTypeFromAttribute(e){let n=super.getTypeFromAttribute(e);if(/^[iu]/.test(n)&&e.gpuType!==c0){let r=e;e.isInterleavedBufferAttribute&&(r=e.data);const i=r.array;i instanceof Uint32Array||i instanceof Int32Array||(n=n.slice(1))}return n}getAttributes(e){let n="";if(e==="vertex"){const r=this.getAttributesArray();let i=0;for(const o of r)n+=`layout( location = ${i++} ) in ${o.type} ${o.name};
`}return n}getStructMembers(e){const n=[],r=e.getMemberTypes();for(let i=0;i<r.length;i++){const o=r[i];n.push(`layout( location = ${i} ) out ${o} m${i};`)}return n.join(`
`)}getStructs(e){const n=[],r=this.structs[e];if(r.length===0)return`layout( location = 0 ) out vec4 fragColor;
`;for(let i=0,o=r.length;i<o;i++){const s=r[i];let a=`
`;a+=this.getStructMembers(s),a+=`
`,n.push(a)}return n.join(`

`)}getVaryings(e){let n="";const r=this.varyings;if(e==="vertex")for(const i of r){const o=i.type;n+=`${o==="int"||o==="uint"?"flat ":""}${i.needsInterpolation?"out":"/*out*/"} ${o} ${i.name};
`}else if(e==="fragment"){for(const i of r)if(i.needsInterpolation){const o=i.type;n+=`${o==="int"||o==="uint"?"flat ":""}in ${o} ${i.name};
`}}return n}getVertexIndex(){return"uint( gl_VertexID )"}getInstanceIndex(){return"uint( gl_InstanceID )"}getFrontFacing(){return"gl_FrontFacing"}getFragCoord(){return"gl_FragCoord"}getFragDepth(){return"gl_FragDepth"}isAvailable(e){return swe[e]===!0}isFlipY(){return!0}_getGLSLUniformStruct(e,n){return`
layout( std140 ) uniform ${e} {
${n}
};`}_getGLSLVertexCode(e){return`#version 300 es

${this.getSignature()}

// precision
${xD}

// uniforms
${e.uniforms}

// varyings
${e.varyings}

// attributes
${e.attributes}

// codes
${e.codes}

void main() {

	// vars
	${e.vars}

	// flow
	${e.flow}

	gl_PointSize = 1.0;

}
`}_getGLSLFragmentCode(e){return`#version 300 es

${this.getSignature()}

// precision
${xD}

// uniforms
${e.uniforms}

// varyings
${e.varyings}

// codes
${e.codes}

${e.structs}

void main() {

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}buildCode(){const e=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};for(const n in e){let r=`// code

`;r+=this.flowCode[n];const i=this.flowNodes[n],o=i[i.length-1];for(const a of i){const l=this.getFlowData(a),c=a.name;c&&(r.length>0&&(r+=`
`),r+=`	// flow -> ${c}
	`),r+=`${l.code}
	`,a===o&&n!=="compute"&&(r+=`// result
	`,n==="vertex"?(r+="gl_Position = ",r+=`${l.result};`):n==="fragment"&&(a.outputNode.isOutputStructNode||(r+="fragColor = ",r+=`${l.result};`)))}const s=e[n];s.uniforms=this.getUniforms(n),s.attributes=this.getAttributes(n),s.varyings=this.getVaryings(n),s.vars=this.getVars(n),s.structs=this.getStructs(n),s.codes=this.getCodes(n),s.flow=r}this.material!==null?(this.vertexShader=this._getGLSLVertexCode(e.vertex),this.fragmentShader=this._getGLSLFragmentCode(e.fragment)):console.warn("GLSLNodeBuilder: compute shaders are not supported.")}getUniformFromNode(e,n,r,i=null){const o=super.getUniformFromNode(e,n,r,i),s=this.getDataFromNode(e,r,this.globalCache);let a=s.uniformGPU;if(a===void 0){if(n==="texture")a=new vM(o.name,o.node),this.bindings[r].push(a);else if(n==="cubeTexture")a=new hX(o.name,o.node),this.bindings[r].push(a);else if(n==="buffer"){e.name=`NodeBuffer_${e.id}`;const l=new gM(e.name,e.value);o.name=`buffer${e.id}`,this.bindings[r].push(l),a=l}else{const l=e.groupNode,c=l.name,u=this.uniformGroups[r]||(this.uniformGroups[r]={});let d=u[c];d===void 0&&(d=new fX(r+"_"+c,l),u[c]=d,this.bindings[r].push(d)),a=this.getNodeUniform(o,n),d.addUniform(a)}s.uniformGPU=a}return o}build(){const{object:e,material:n}=this;return n!==null?Xo.fromMaterial(n).build(this):this.addFlow("compute",e),super.build()}}const lwe=awe;let $7=null,U7=null,sp=null;class cwe{constructor(e={}){this.parameters=Object.assign({},e),this.data=new WeakMap,this.renderer=null,this.domElement=null}async init(e){this.renderer=e}begin(e){}finish(e){}draw(e,n){}createProgram(e){}destroyProgram(e){}createBindings(e){}updateBindings(e){}createRenderPipeline(e){}createComputePipeline(e,n){}destroyPipeline(e){}needsRenderUpdate(e){}getRenderCacheKey(e){}createNodeBuilder(e){}createSampler(e){}createDefaultTexture(e){}createTexture(e){}copyTextureToBuffer(e,n,r,i,o){}createAttribute(e){}createIndexAttribute(e){}updateAttribute(e){}destroyAttribute(e){}updateSize(){}hasFeature(e){}getInstanceCount(e){const{object:n,geometry:r}=e;return r.isInstancedBufferGeometry?r.instanceCount:n.isInstancedMesh?n.count:1}getDrawingBufferSize(){return $7=$7||new Xe,this.renderer.getDrawingBufferSize($7)}getScissor(){return U7=U7||new En,this.renderer.getScissor(U7)}getClearColor(){const e=this.renderer;return sp=sp||new pM,e.getClearColor(sp),sp.getRGB(sp,this.renderer.currentColorSpace),sp}getDomElement(){let e=this.domElement;return e===null&&(e=this.parameters.canvas!==void 0?this.parameters.canvas:sT(),"setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Yf} webgpu`),this.domElement=e),e}set(e,n){this.data.set(e,n)}get(e){let n=this.data.get(e);return n===void 0&&(n={},this.data.set(e,n)),n}delete(e){this.data.delete(e)}}const pX=cwe;class uwe{constructor(e){this.backend=e}createAttribute(e,n){const r=this.backend,{gl:i}=r,o=e.array,s=e.usage||i.STATIC_DRAW,a=e.isInterleavedBufferAttribute?e.data:e,l=r.get(a);let c=l.bufferGPU;c===void 0&&(c=i.createBuffer(),i.bindBuffer(n,c),i.bufferData(n,o,s),i.bindBuffer(n,null),l.bufferGPU=c,l.bufferType=n,l.version=a.version);let u;if(o instanceof Float32Array)u=i.FLOAT;else if(o instanceof Uint16Array)e.isFloat16BufferAttribute?u=i.HALF_FLOAT:u=i.UNSIGNED_SHORT;else if(o instanceof Int16Array)u=i.SHORT;else if(o instanceof Uint32Array)u=i.UNSIGNED_INT;else if(o instanceof Int32Array)u=i.INT;else if(o instanceof Int8Array)u=i.BYTE;else if(o instanceof Uint8Array)u=i.UNSIGNED_BYTE;else if(o instanceof Uint8ClampedArray)u=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLBackend: Unsupported buffer data format: "+o);r.set(e,{bufferGPU:c,type:u,bytesPerElement:o.BYTES_PER_ELEMENT,version:e.version,isInteger:u===i.INT||u===i.UNSIGNED_INT||e.gpuType===c0})}updateAttribute(e){const n=this.backend,{gl:r}=n,i=e.array,o=e.isInterleavedBufferAttribute?e.data:e,s=n.get(o),a=s.bufferType,l=e.isInterleavedBufferAttribute?e.data.updateRanges:e.updateRanges;if(r.bindBuffer(a,s.bufferGPU),l.length===0)r.bufferSubData(a,0,i);else{for(let c=0,u=l.length;c<u;c++){const d=l[c];r.bufferSubData(a,d.start*i.BYTES_PER_ELEMENT,i,d.start,d.count)}o.clearUpdateRanges()}r.bindBuffer(a,null),s.version=o.version}async getArrayBufferAsync(e){const n=this.backend,{gl:r}=n,i=e.isInterleavedBufferAttribute?e.data:e,{bufferGPU:o}=n.get(i),s=e.array,a=s.byteLength;r.bindBuffer(r.COPY_READ_BUFFER,o);const l=r.createBuffer();r.bindBuffer(r.COPY_WRITE_BUFFER,l),r.bufferData(r.COPY_WRITE_BUFFER,a,r.STREAM_READ),r.copyBufferSubData(r.COPY_READ_BUFFER,r.COPY_WRITE_BUFFER,0,0,a),await n.utils._clientWaitAsync();const c=new e.array.constructor(s.length);return r.getBufferSubData(r.COPY_WRITE_BUFFER,0,c),r.deleteBuffer(l),c.buffer}}const dwe=uwe;let bD=!1,B7,bg;class fwe{constructor(e){this.backend=e,this.gl=this.backend.gl,this.enabled={},this.currentFlipSided=null,this.currentCullFace=null,this.currentProgram=null,this.currentBlendingEnabled=!1,this.currentBlending=null,this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentPremultipledAlpha=null,this.currentPolygonOffsetFactor=null,this.currentPolygonOffsetUnits=null,this.currentColorMask=null,this.currentDepthFunc=null,this.currentDepthMask=null,this.currentStencilFunc=null,this.currentStencilRef=null,this.currentStencilFuncMask=null,this.currentStencilFail=null,this.currentStencilZFail=null,this.currentStencilZPass=null,this.currentStencilMask=null,bD===!1&&(this._init(this.gl),bD=!0)}_init(e){B7={[ns]:e.FUNC_ADD,[V6]:e.FUNC_SUBTRACT,[H6]:e.FUNC_REVERSE_SUBTRACT},bg={[G6]:e.ZERO,[W6]:e.ONE,[j6]:e.SRC_COLOR,[xm]:e.SRC_ALPHA,[Q6]:e.SRC_ALPHA_SATURATE,[Y6]:e.DST_COLOR,[q6]:e.DST_ALPHA,[X6]:e.ONE_MINUS_SRC_COLOR,[bm]:e.ONE_MINUS_SRC_ALPHA,[Z6]:e.ONE_MINUS_DST_COLOR,[K6]:e.ONE_MINUS_DST_ALPHA}}enable(e){const{enabled:n}=this;n[e]!==!0&&(this.gl.enable(e),n[e]=!0)}disable(e){const{enabled:n}=this;n[e]!==!1&&(this.gl.disable(e),n[e]=!1)}setFlipSided(e){if(this.currentFlipSided!==e){const{gl:n}=this;e?n.frontFace(n.CW):n.frontFace(n.CCW),this.currentFlipSided=e}}setCullFace(e){const{gl:n}=this;e!==WE?(this.enable(n.CULL_FACE),e!==this.currentCullFace&&(e===ax?n.cullFace(n.BACK):e===jE?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):this.disable(n.CULL_FACE),this.currentCullFace=e}setBlending(e,n,r,i,o,s,a,l){const{gl:c}=this;if(e===Os){this.currentBlendingEnabled===!0&&(this.disable(c.BLEND),this.currentBlendingEnabled=!1);return}if(this.currentBlendingEnabled===!1&&(this.enable(c.BLEND),this.currentBlendingEnabled=!0),e!==z6){if(e!==this.currentBlending||l!==this.currentPremultipledAlpha){if((this.currentBlendEquation!==ns||this.currentBlendEquationAlpha!==ns)&&(c.blendEquation(c.FUNC_ADD),this.currentBlendEquation=ns,this.currentBlendEquationAlpha=ns),l)switch(e){case ma:c.blendFuncSeparate(c.ONE,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case Of:c.blendFunc(c.ONE,c.ONE);break;case Lf:c.blendFuncSeparate(c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ZERO,c.ONE);break;case Df:c.blendFuncSeparate(c.ZERO,c.SRC_COLOR,c.ZERO,c.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",e);break}else switch(e){case ma:c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case Of:c.blendFunc(c.SRC_ALPHA,c.ONE);break;case Lf:c.blendFuncSeparate(c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ZERO,c.ONE);break;case Df:c.blendFunc(c.ZERO,c.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",e);break}this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentBlending=e,this.currentPremultipledAlpha=l}return}o=o||n,s=s||r,a=a||i,(n!==this.currentBlendEquation||o!==this.currentBlendEquationAlpha)&&(c.blendEquationSeparate(B7[n],B7[o]),this.currentBlendEquation=n,this.currentBlendEquationAlpha=o),(r!==this.currentBlendSrc||i!==this.currentBlendDst||s!==this.currentBlendSrcAlpha||a!==this.currentBlendDstAlpha)&&(c.blendFuncSeparate(bg[r],bg[i],bg[s],bg[a]),this.currentBlendSrc=r,this.currentBlendDst=i,this.currentBlendSrcAlpha=s,this.currentBlendDstAlpha=a),this.currentBlending=e,this.currentPremultipledAlpha=!1}setColorMask(e){this.currentColorMask!==e&&(this.gl.colorMask(e,e,e,e),this.currentColorMask=e)}setDepthTest(e){const{gl:n}=this;e?this.enable(n.DEPTH_TEST):this.disable(n.DEPTH_TEST)}setDepthMask(e){this.currentDepthMask!==e&&(this.gl.depthMask(e),this.currentDepthMask=e)}setDepthFunc(e){if(this.currentDepthFunc!==e){const{gl:n}=this;switch(e){case J6:n.depthFunc(n.NEVER);break;case eb:n.depthFunc(n.ALWAYS);break;case tb:n.depthFunc(n.LESS);break;case Ff:n.depthFunc(n.LEQUAL);break;case nb:n.depthFunc(n.EQUAL);break;case rb:n.depthFunc(n.GEQUAL);break;case ib:n.depthFunc(n.GREATER);break;case ob:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}this.currentDepthFunc=e}}setStencilTest(e){const{gl:n}=this;e?this.enable(n.STENCIL_TEST):this.disable(n.STENCIL_TEST)}setStencilMask(e){this.currentStencilMask!==e&&(this.gl.stencilMask(e),this.currentStencilMask=e)}setStencilFunc(e,n,r){(this.currentStencilFunc!==e||this.currentStencilRef!==n||this.currentStencilFuncMask!==r)&&(this.gl.stencilFunc(e,n,r),this.currentStencilFunc=e,this.currentStencilRef=n,this.currentStencilFuncMask=r)}setStencilOp(e,n,r){(this.currentStencilFail!==e||this.currentStencilZFail!==n||this.currentStencilZPass!==r)&&(this.gl.stencilOp(e,n,r),this.currentStencilFail=e,this.currentStencilZFail=n,this.currentStencilZPass=r)}setMaterial(e,n){const{gl:r}=this;e.side===ko?this.disable(r.CULL_FACE):this.enable(r.CULL_FACE);let i=e.side===di;n&&(i=!i),this.setFlipSided(i),e.blending===ma&&e.transparent===!1?this.setBlending(Os):this.setBlending(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),this.setDepthFunc(e.depthFunc),this.setDepthTest(e.depthTest),this.setDepthMask(e.depthWrite),this.setColorMask(e.colorWrite);const o=e.stencilWrite;this.setStencilTest(o),o&&(this.setStencilMask(e.stencilWriteMask),this.setStencilFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),this.setStencilOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),this.setPolygonOffset(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),e.alphaToCoverage===!0?this.enable(r.SAMPLE_ALPHA_TO_COVERAGE):this.disable(r.SAMPLE_ALPHA_TO_COVERAGE)}setPolygonOffset(e,n,r){const{gl:i}=this;e?(this.enable(i.POLYGON_OFFSET_FILL),(this.currentPolygonOffsetFactor!==n||this.currentPolygonOffsetUnits!==r)&&(i.polygonOffset(n,r),this.currentPolygonOffsetFactor=n,this.currentPolygonOffsetUnits=r)):this.disable(i.POLYGON_OFFSET_FILL)}useProgram(e){return this.currentProgram!==e?(this.gl.useProgram(e),this.currentProgram=e,!0):!1}}const hwe=fwe;class pwe{constructor(e){this.backend=e,this.gl=this.backend.gl,this.extensions=e.extensions}convert(e,n=ro){const{gl:r,extensions:i}=this;let o;if(e===cs)return r.UNSIGNED_BYTE;if(e===cb)return r.UNSIGNED_SHORT_4_4_4_4;if(e===ub)return r.UNSIGNED_SHORT_5_5_5_1;if(e===YE)return r.BYTE;if(e===ZE)return r.SHORT;if(e===l0)return r.UNSIGNED_SHORT;if(e===c0)return r.INT;if(e===Ns)return r.UNSIGNED_INT;if(e===$r)return r.FLOAT;if(e===Za)return r.HALF_FLOAT;if(e===QE)return r.ALPHA;if(e===no)return r.RGBA;if(e===JE)return r.LUMINANCE;if(e===eT)return r.LUMINANCE_ALPHA;if(e===Ls)return r.DEPTH_COMPONENT;if(e===il)return r.DEPTH_STENCIL;if(e===Sm)return r.RED;if(e===db)return r.RED_INTEGER;if(e===fb)return r.RG;if(e===hb)return r.RG_INTEGER;if(e===pb)return r.RGBA_INTEGER;if(e===yf||e===Uu||e===Bu||e===ku)if(n===Wt)if(o=i.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(e===yf)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(e===Uu)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(e===Bu)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(e===ku)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=i.get("WEBGL_compressed_texture_s3tc"),o!==null){if(e===yf)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Uu)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===Bu)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===ku)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(e===Nv||e===Iv||e===Ov||e===Lv)if(o=i.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(e===Nv)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===Iv)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===Ov)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===Lv)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(e===mb)return o=i.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(e===_m||e===wm)if(o=i.get("WEBGL_compressed_texture_etc"),o!==null){if(e===_m)return n===Wt?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(e===wm)return n===Wt?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(e===Cm||e===Em||e===Tm||e===Mm||e===Rm||e===Am||e===Pm||e===Nm||e===Im||e===Om||e===Lm||e===Dm||e===Fm||e===$m)if(o=i.get("WEBGL_compressed_texture_astc"),o!==null){if(e===Cm)return n===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(e===Em)return n===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(e===Tm)return n===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(e===Mm)return n===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(e===Rm)return n===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(e===Am)return n===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(e===Pm)return n===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(e===Nm)return n===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(e===Im)return n===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(e===Om)return n===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(e===Lm)return n===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(e===Dm)return n===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(e===Fm)return n===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(e===$m)return n===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(e===xf)if(o=i.get("EXT_texture_compression_bptc"),o!==null){if(e===xf)return n===Wt?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(e===tT||e===Dv||e===Fv||e===$v)if(o=i.get("EXT_texture_compression_rgtc"),o!==null){if(e===xf)return o.COMPRESSED_RED_RGTC1_EXT;if(e===Dv)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(e===Fv)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(e===$v)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return e===ga?r.UNSIGNED_INT_24_8:r[e]!==void 0?r[e]:null}_clientWaitAsync(){const{gl:e}=this,n=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);return e.flush(),new Promise((r,i)=>{function o(){const s=e.clientWaitSync(n,e.SYNC_FLUSH_COMMANDS_BIT,0);if(s===e.WAIT_FAILED){e.deleteSync(n),i();return}if(s===e.TIMEOUT_EXPIRED){requestAnimationFrame(o);return}e.deleteSync(n),r()}o()})}}const mwe=pwe;let SD=!1,_y,k7,_D;class gwe{constructor(e){this.backend=e,this.gl=e.gl,this.extensions=e.extensions,SD===!1&&(this._init(this.gl),SD=!0)}_init(e){_y={[$f]:e.REPEAT,[to]:e.CLAMP_TO_EDGE,[Uf]:e.MIRRORED_REPEAT},k7={[er]:e.NEAREST,[qu]:e.NEAREST_MIPMAP_NEAREST,[Cc]:e.NEAREST_MIPMAP_LINEAR,[Fr]:e.LINEAR,[lb]:e.LINEAR_MIPMAP_NEAREST,[_a]:e.LINEAR_MIPMAP_LINEAR},_D={[xb]:e.NEVER,[Cb]:e.ALWAYS,[I3]:e.LESS,[O3]:e.LEQUAL,[bb]:e.EQUAL,[wb]:e.GEQUAL,[Sb]:e.GREATER,[_b]:e.NOTEQUAL}}filterFallback(e){const{gl:n}=this;return e===er||e===qu||e===Cc?n.NEAREST:n.LINEAR}getGLTextureType(e){const{gl:n}=this;let r;return e.isCubeTexture===!0?r=n.TEXTURE_CUBE_MAP:e.isDataArrayTexture===!0?r=n.TEXTURE_2D_ARRAY:r=n.TEXTURE_2D,r}getInternalFormat(e,n,r,i,o=!1){const{gl:s,extensions:a}=this;if(e!==null){if(s[e]!==void 0)return s[e];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+e+"'")}let l=n;return n===s.RED&&(r===s.FLOAT&&(l=s.R32F),r===s.HALF_FLOAT&&(l=s.R16F),r===s.UNSIGNED_BYTE&&(l=s.R8)),n===s.RED_INTEGER&&(r===s.UNSIGNED_BYTE&&(l=s.R8UI),r===s.UNSIGNED_SHORT&&(l=s.R16UI),r===s.UNSIGNED_INT&&(l=s.R32UI),r===s.BYTE&&(l=s.R8I),r===s.SHORT&&(l=s.R16I),r===s.INT&&(l=s.R32I)),n===s.RG&&(r===s.FLOAT&&(l=s.RG32F),r===s.HALF_FLOAT&&(l=s.RG16F),r===s.UNSIGNED_BYTE&&(l=s.RG8)),n===s.RGBA&&(r===s.FLOAT&&(l=s.RGBA32F),r===s.HALF_FLOAT&&(l=s.RGBA16F),r===s.UNSIGNED_BYTE&&(l=i===Wt&&o===!1?s.SRGB8_ALPHA8:s.RGBA8),r===s.UNSIGNED_SHORT_4_4_4_4&&(l=s.RGBA4),r===s.UNSIGNED_SHORT_5_5_5_1&&(l=s.RGB5_A1)),n===s.DEPTH_COMPONENT&&(r===s.UNSIGNED_INT&&(l=s.DEPTH24_STENCIL8),r===s.FLOAT&&(l=s.DEPTH_COMPONENT32F)),n===s.DEPTH_STENCIL&&r===s.UNSIGNED_INT_24_8&&(l=s.DEPTH24_STENCIL8),(l===s.R16F||l===s.R32F||l===s.RG16F||l===s.RG32F||l===s.RGBA16F||l===s.RGBA32F)&&a.get("EXT_color_buffer_float"),l}setTextureParameters(e,n){const{gl:r,extensions:i}=this;if(r.texParameteri(e,r.TEXTURE_WRAP_S,_y[n.wrapS]),r.texParameteri(e,r.TEXTURE_WRAP_T,_y[n.wrapT]),(e===r.TEXTURE_3D||e===r.TEXTURE_2D_ARRAY)&&r.texParameteri(e,r.TEXTURE_WRAP_R,_y[n.wrapR]),r.texParameteri(e,r.TEXTURE_MAG_FILTER,k7[n.magFilter]),r.texParameteri(e,r.TEXTURE_MIN_FILTER,k7[n.minFilter]),n.compareFunction&&(r.texParameteri(e,r.TEXTURE_COMPARE_MODE,r.COMPARE_REF_TO_TEXTURE),r.texParameteri(e,r.TEXTURE_COMPARE_FUNC,_D[n.compareFunction])),i.has("EXT_texture_filter_anisotropic")===!0){if(n.magFilter===er||n.minFilter!==Cc&&n.minFilter!==_a||n.type===$r&&i.has("OES_texture_float_linear")===!1)return;n.anisotropy>1}}async copyTextureToBuffer(e,n,r,i,o){const{backend:s,gl:a}=this,{textureGPU:l,glFormat:c,glType:u}=this.backend.get(e),d=a.createFramebuffer();a.bindFramebuffer(a.READ_FRAMEBUFFER,d),a.framebufferTexture2D(a.READ_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,l,0);const f=this._getTypedArrayType(u),h=this._getBytesPerTexel(c),g=i*o,x=g*h,b=a.createBuffer();a.bindBuffer(a.PIXEL_PACK_BUFFER,b),a.bufferData(a.PIXEL_PACK_BUFFER,x,a.STREAM_READ),a.readPixels(n,r,i,o,c,u,0),a.bindBuffer(a.PIXEL_PACK_BUFFER,null),await s.utils._clientWaitAsync();const v=new f(g);return a.bindBuffer(a.PIXEL_PACK_BUFFER,b),a.getBufferSubData(a.PIXEL_PACK_BUFFER,0,v),a.bindBuffer(a.PIXEL_PACK_BUFFER,null),a.deleteFramebuffer(d),v}_getTypedArrayType(e){const{gl:n}=this;if(e===n.UNSIGNED_BYTE)return Uint8Array;if(e===n.UNSIGNED_SHORT_4_4_4_4||e===n.UNSIGNED_SHORT_5_5_5_1||e===n.UNSIGNED_SHORT_5_6_5||e===n.UNSIGNED_SHORT)return Uint16Array;if(e===n.UNSIGNED_INT)return Uint32Array;if(e===n.UNSIGNED_FLOAT)return Float32Array}_getBytesPerTexel(e){const{gl:n}=this;if(e===n.RGBA)return 4;if(e===n.RGB)return 3;if(e===n.ALPHA)return 1}}const vwe=gwe;class ywe{constructor(e){this.backend=e,this.gl=this.backend.gl,this.availableExtensions=this.gl.getSupportedExtensions(),this.extensions={}}get(e){let n=this.extensions[e];return n===void 0&&(n=this.gl.getExtension(e)),n}has(e){return this.availableExtensions.includes(e)}}const xwe=ywe;class bwe{constructor(e){this.backend=e,this.maxAnisotropy=null}getMaxAnisotropy(){if(this.maxAnisotropy!==null)return this.maxAnisotropy;const e=this.backend.gl,n=this.backend.extensions;if(n.has("EXT_texture_filter_anisotropic")===!0){const r=n.get("EXT_texture_filter_anisotropic");this.maxAnisotropy=e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else this.maxAnisotropy=0;return this.maxAnisotropy}}const Swe=bwe;class _we extends pX{constructor(e={}){super(e),this.isWebGLBackend=!0}async init(e){await super.init(e);const n=this.parameters,r=n.context!==void 0?n.context:e.domElement.getContext("webgl2");this.gl=r,this.extensions=new xwe(this),this.capabilities=new Swe(this),this.attributeUtils=new dwe(this),this.textureUtils=new vwe(this),this.state=new hwe(this),this.utils=new mwe(this),this.defaultTextures={},this.extensions.get("EXT_color_buffer_float"),this._currentContext=null}get coordinateSystem(){return fa}async getArrayBufferAsync(e){return await this.attributeUtils.getArrayBufferAsync(e)}beginRender(e){const{gl:n}=this,r=this.get(e);r.previousContext=this._currentContext,this._currentContext=e,this._setFramebuffer(e),this.clear(e.clearColor,e.clearDepth,e.clearStencil,e),e.viewport?this.updateViewport(e):n.viewport(0,0,n.drawingBufferWidth,n.drawingBufferHeight);const i=e.occlusionQueryCount;i>0&&(r.currentOcclusionQueries=r.occlusionQueries,r.currentOcclusionQueryObjects=r.occlusionQueryObjects,r.lastOcclusionObject=null,r.occlusionQueries=new Array(i),r.occlusionQueryObjects=new Array(i),r.occlusionQueryIndex=0)}finishRender(e){const r=this.get(e).previousContext;if(this._currentContext=r,r!==null)if(this._setFramebuffer(r),r.viewport)this.updateViewport(r);else{const o=this.gl;o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight)}const i=e.occlusionQueryCount;if(i>0){const o=this.get(e);if(i>o.occlusionQueryIndex){const{gl:s}=this;s.endQuery(s.ANY_SAMPLES_PASSED)}this.resolveOccludedAsync(e)}}resolveOccludedAsync(e){const n=this.get(e),{currentOcclusionQueries:r,currentOcclusionQueryObjects:i}=n;if(r&&i){const o=new WeakSet,{gl:s}=this;n.currentOcclusionQueryObjects=null,n.currentOcclusionQueries=null;const a=()=>{let l=0;for(let c=0;c<r.length;c++){const u=r[c];u!==null&&s.getQueryParameter(u,s.QUERY_RESULT_AVAILABLE)&&(s.getQueryParameter(u,s.QUERY_RESULT)>0&&o.add(i[c]),r[c]=null,s.deleteQuery(u),l++)}l<r.length?requestAnimationFrame(a):n.occluded=o};a()}}isOccluded(e,n){const r=this.get(e);return r.occluded&&r.occluded.has(n)}updateViewport(e){const n=this.gl,{x:r,y:i,width:o,height:s}=e.viewportValue;n.viewport(r,i,o,s)}clear(e,n,r,i=null){const{gl:o}=this;i===null&&(i={textures:null,clearColorValue:this.getClearColor()});let s=0;if(e&&(s|=o.COLOR_BUFFER_BIT),n&&(s|=o.DEPTH_BUFFER_BIT),r&&(s|=o.STENCIL_BUFFER_BIT),s!==0){const a=i.clearColorValue;if(n&&this.state.setDepthMask(!0),i.textures===null)o.clearColor(a.r,a.g,a.b,a.a),o.clear(s);else{if(e)for(let l=0;l<i.textures.length;l++)o.clearBufferfv(o.COLOR,l,[a.r,a.g,a.b,a.a]);n&&r?o.clearBufferfi(o.DEPTH_STENCIL,0,1,0):n?o.clearBufferfv(o.DEPTH,0,[1]):r&&o.clearBufferiv(o.STENCIL,0,[0])}}}beginCompute(){console.warn("Abstract class.")}compute(){console.warn("Abstract class.")}finishCompute(){console.warn("Abstract class.")}draw(e,n){const{pipeline:r,material:i,context:o}=e,{programGPU:s,vaoGPU:a}=this.get(r),{gl:l,state:c}=this,u=this.get(o),d=e.getBindings();for(const w of d){const M=this.get(w),E=M.index;w.isUniformsGroup||w.isUniformBuffer?l.bindBufferBase(l.UNIFORM_BUFFER,E,M.bufferGPU):w.isSampledTexture&&(l.activeTexture(l.TEXTURE0+E),l.bindTexture(M.glTextureType,M.textureGPU))}c.setMaterial(i),l.useProgram(s),l.bindVertexArray(a);const f=e.getIndex(),h=e.object,g=e.geometry,x=g.drawRange,b=x.start,v=u.lastOcclusionObject;if(v!==h&&v!==void 0){if(v!==null&&v.occlusionTest===!0&&(l.endQuery(l.ANY_SAMPLES_PASSED),u.occlusionQueryIndex++),h.occlusionTest===!0){const w=l.createQuery();l.beginQuery(l.ANY_SAMPLES_PASSED,w),u.occlusionQueries[u.occlusionQueryIndex]=w,u.occlusionQueryObjects[u.occlusionQueryIndex]=h}u.lastOcclusionObject=h}let _;h.isPoints?_=l.POINTS:h.isLineSegments?_=l.LINES:h.isLine?_=l.LINE_STRIP:h.isLineLoop?_=l.LINE_LOOP:_=l.TRIANGLES;const S=this.getInstanceCount(e);if(f!==null){const w=this.get(f),M=x.count!==1/0?x.count:f.count;S>1?l.drawElementsInstanced(_,f.count,w.type,b,S):l.drawElements(_,f.count,w.type,b),n.update(h,M,1)}else{const w=g.attributes.position,M=x.count!==1/0?x.count:w.count;S>1?l.drawArraysInstanced(_,0,M,S):l.drawArrays(_,0,M),n.update(h,M,1)}l.bindVertexArray(null)}needsRenderUpdate(e){return!1}getRenderCacheKey(e){return e.id}createSampler(){}createDefaultTexture(e){const{gl:n,textureUtils:r,defaultTextures:i}=this,o=r.getGLTextureType(e);let s=i[o];s===void 0&&(s=n.createTexture(),n.bindTexture(o,s),n.texParameteri(o,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(o,n.TEXTURE_MAG_FILTER,n.NEAREST),i[o]=s),this.set(e,{textureGPU:s,glTextureType:o,isDefault:!0})}createTexture(e,n){const{gl:r,utils:i,textureUtils:o}=this,{levels:s,width:a,height:l,depth:c}=n,u=i.convert(e.format,e.colorSpace),d=i.convert(e.type),f=o.getInternalFormat(e.internalFormat,u,d,e.colorSpace,e.isVideoTexture),h=r.createTexture(),g=o.getGLTextureType(e);r.bindTexture(g,h),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,e.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,e.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,r.NONE),o.setTextureParameters(g,e),r.bindTexture(g,h),e.isDataArrayTexture?r.texStorage3D(r.TEXTURE_2D_ARRAY,s,f,a,l,c):e.isVideoTexture||r.texStorage2D(g,s,f,a,l),this.set(e,{textureGPU:h,glTextureType:g,glFormat:u,glType:d,glInternalFormat:f})}updateTexture(e,n){const{gl:r}=this,{width:i,height:o}=n,{textureGPU:s,glTextureType:a,glFormat:l,glType:c,glInternalFormat:u}=this.get(e),d=f=>f.isDataTexture?f.image.data:f instanceof ImageBitmap||f instanceof OffscreenCanvas||f instanceof HTMLImageElement||f instanceof HTMLCanvasElement?f:f.data;if(r.bindTexture(a,s),e.isCubeTexture){const f=n.images;for(let h=0;h<6;h++){const g=d(f[h]);r.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+h,0,0,0,i,o,l,c,g)}}else if(e.isDataArrayTexture){const f=n.image;r.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,0,f.width,f.height,f.depth,l,c,f.data)}else if(e.isVideoTexture)e.update(),r.texImage2D(a,0,u,l,c,n.image);else{const f=d(n.image);r.texSubImage2D(a,0,0,0,i,o,l,c,f)}}generateMipmaps(e){const{gl:n}=this,{textureGPU:r,glTextureType:i}=this.get(e);n.bindTexture(i,r),n.generateMipmap(i)}destroyTexture(e){const{gl:n}=this,{textureGPU:r}=this.get(e);n.deleteTexture(r),this.delete(e)}destroySampler(){}copyTextureToBuffer(e,n,r,i,o){return this.textureUtils.copyTextureToBuffer(e,n,r,i,o)}createNodeBuilder(e,n,r=null){return new lwe(e,n,r)}createProgram(e){const n=this.gl,{stage:r,code:i}=e,o=r==="vertex"?n.createShader(n.VERTEX_SHADER):n.createShader(n.FRAGMENT_SHADER);n.shaderSource(o,i),n.compileShader(o),this.set(e,{shaderGPU:o})}destroyProgram(){console.warn("Abstract class.")}createRenderPipeline(e){const n=this.gl,r=e.pipeline,{fragmentProgram:i,vertexProgram:o}=r,s=n.createProgram(),a=this.get(i).shaderGPU,l=this.get(o).shaderGPU;n.attachShader(s,a),n.attachShader(s,l),n.linkProgram(s),n.getProgramParameter(s,n.LINK_STATUS)===!1&&(console.error("THREE.WebGLBackend:",n.getProgramInfoLog(s)),console.error("THREE.WebGLBackend:",n.getShaderInfoLog(a)),console.error("THREE.WebGLBackend:",n.getShaderInfoLog(l))),n.useProgram(s);const c=e.getBindings();for(const h of c){const x=this.get(h).index;if(h.isUniformsGroup||h.isUniformBuffer){const b=n.getUniformBlockIndex(s,h.name);n.uniformBlockBinding(s,b,x)}else if(h.isSampledTexture){const b=n.getUniformLocation(s,h.name);n.uniform1i(b,x)}}const u=n.createVertexArray(),d=e.getIndex(),f=e.getAttributes();if(n.bindVertexArray(u),d!==null){const h=this.get(d);n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,h.bufferGPU)}for(let h=0;h<f.length;h++){const g=f[h],x=this.get(g);n.bindBuffer(n.ARRAY_BUFFER,x.bufferGPU),n.enableVertexAttribArray(h);let b,v;g.isInterleavedBufferAttribute===!0?(b=g.data.stride*x.bytesPerElement,v=g.offset*x.bytesPerElement):(b=0,v=0),x.isInteger?n.vertexAttribIPointer(h,g.itemSize,x.type,b,v):n.vertexAttribPointer(h,g.itemSize,x.type,g.normalized,b,v),g.isInstancedBufferAttribute&&!g.isInterleavedBufferAttribute?n.vertexAttribDivisor(h,g.meshPerAttribute):g.isInterleavedBufferAttribute&&g.data.isInstancedInterleavedBuffer&&n.vertexAttribDivisor(h,g.data.meshPerAttribute)}n.bindVertexArray(null),this.set(r,{programGPU:s,vaoGPU:u})}createComputePipeline(){console.warn("Abstract class.")}createBindings(e){this.updateBindings(e)}updateBindings(e){const{gl:n}=this;let r=0,i=0;for(const o of e)if(o.isUniformsGroup||o.isUniformBuffer){const s=n.createBuffer(),a=o.buffer;n.bindBuffer(n.UNIFORM_BUFFER,s),n.bufferData(n.UNIFORM_BUFFER,a,n.DYNAMIC_DRAW),n.bindBufferBase(n.UNIFORM_BUFFER,r,s),this.set(o,{index:r++,bufferGPU:s})}else if(o.isSampledTexture){const{textureGPU:s,glTextureType:a}=this.get(o.texture);this.set(o,{index:i++,textureGPU:s,glTextureType:a})}}updateBinding(e){const n=this.gl;if(e.isUniformsGroup||e.isUniformBuffer){const i=this.get(e).bufferGPU,o=e.buffer;n.bindBuffer(n.UNIFORM_BUFFER,i),n.bufferData(n.UNIFORM_BUFFER,o,n.DYNAMIC_DRAW)}}createIndexAttribute(e){const n=this.gl;this.attributeUtils.createAttribute(e,n.ELEMENT_ARRAY_BUFFER)}createAttribute(e){const n=this.gl;this.attributeUtils.createAttribute(e,n.ARRAY_BUFFER)}createStorageAttribute(){console.warn("Abstract class.")}updateAttribute(e){this.attributeUtils.updateAttribute(e)}destroyAttribute(){console.warn("Abstract class.")}updateSize(){}hasFeature(){return!0}getMaxAnisotropy(){return this.capabilities.getMaxAnisotropy()}copyFramebufferToTexture(e,n){const{gl:r}=this,{textureGPU:i}=this.get(e),o=e.image.width,s=e.image.height;if(r.bindFramebuffer(r.READ_FRAMEBUFFER,null),e.isDepthTexture){const a=r.createFramebuffer();r.bindFramebuffer(r.DRAW_FRAMEBUFFER,a),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,i,0),r.blitFramebuffer(0,0,o,s,0,0,o,s,r.DEPTH_BUFFER_BIT,r.NEAREST),r.deleteFramebuffer(a)}else r.bindTexture(r.TEXTURE_2D,i),r.copyTexSubImage2D(r.TEXTURE_2D,0,0,0,0,0,o,s),r.bindTexture(r.TEXTURE_2D,null);e.generateMipmaps&&this.generateMipmaps(e),this._setFramebuffer(n)}_setFramebuffer(e){const{gl:n}=this;if(e.textures!==null){const r=this.get(e.renderTarget);let i=r.framebuffer;if(i===void 0){i=n.createFramebuffer(),n.bindFramebuffer(n.FRAMEBUFFER,i);const o=e.textures,s=[];for(let a=0;a<o.length;a++){const l=o[a],{textureGPU:c}=this.get(l),u=n.COLOR_ATTACHMENT0+a;n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+a,n.TEXTURE_2D,c,0),s.push(u)}if(n.drawBuffers(s),e.depthTexture!==null){const{textureGPU:a}=this.get(e.depthTexture);n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,a,0)}r.framebuffer=i}else n.bindFramebuffer(n.FRAMEBUFFER,i)}else n.bindFramebuffer(n.FRAMEBUFFER,null)}}const wwe=_we,$p={PointList:"point-list",LineList:"line-list",LineStrip:"line-strip",TriangleList:"triangle-list",TriangleStrip:"triangle-strip"},Qi={Never:"never",Less:"less",Equal:"equal",LessEqual:"less-equal",Greater:"greater",NotEqual:"not-equal",GreaterEqual:"greater-equal",Always:"always"},Ji={Store:"store",Discard:"discard"},gi={Load:"load",Clear:"clear"},z7={CCW:"ccw",CW:"cw"},V7={None:"none",Front:"front",Back:"back"},Xm={Uint16:"uint16",Uint32:"uint32"},ze={R8Unorm:"r8unorm",R8Snorm:"r8snorm",R8Uint:"r8uint",R8Sint:"r8sint",R16Uint:"r16uint",R16Sint:"r16sint",R16Float:"r16float",RG8Unorm:"rg8unorm",RG8Snorm:"rg8snorm",RG8Uint:"rg8uint",RG8Sint:"rg8sint",R32Uint:"r32uint",R32Sint:"r32sint",R32Float:"r32float",RG16Uint:"rg16uint",RG16Sint:"rg16sint",RG16Float:"rg16float",RGBA8Unorm:"rgba8unorm",RGBA8UnormSRGB:"rgba8unorm-srgb",RGBA8Snorm:"rgba8snorm",RGBA8Uint:"rgba8uint",RGBA8Sint:"rgba8sint",BGRA8Unorm:"bgra8unorm",BGRA8UnormSRGB:"bgra8unorm-srgb",RGB9E5UFloat:"rgb9e5ufloat",RGB10A2Unorm:"rgb10a2unorm",RG11B10uFloat:"rgb10a2unorm",RG32Uint:"rg32uint",RG32Sint:"rg32sint",RG32Float:"rg32float",RGBA16Uint:"rgba16uint",RGBA16Sint:"rgba16sint",RGBA16Float:"rgba16float",RGBA32Uint:"rgba32uint",RGBA32Sint:"rgba32sint",RGBA32Float:"rgba32float",Stencil8:"stencil8",Depth16Unorm:"depth16unorm",Depth24Plus:"depth24plus",Depth24PlusStencil8:"depth24plus-stencil8",Depth32Float:"depth32float",Depth32FloatStencil8:"depth32float-stencil8",BC1RGBAUnorm:"bc1-rgba-unorm",BC1RGBAUnormSRGB:"bc1-rgba-unorm-srgb",BC2RGBAUnorm:"bc2-rgba-unorm",BC2RGBAUnormSRGB:"bc2-rgba-unorm-srgb",BC3RGBAUnorm:"bc3-rgba-unorm",BC3RGBAUnormSRGB:"bc3-rgba-unorm-srgb",BC4RUnorm:"bc4-r-unorm",BC4RSnorm:"bc4-r-snorm",BC5RGUnorm:"bc5-rg-unorm",BC5RGSnorm:"bc5-rg-snorm",BC6HRGBUFloat:"bc6h-rgb-ufloat",BC6HRGBFloat:"bc6h-rgb-float",BC7RGBAUnorm:"bc7-rgba-unorm",BC7RGBAUnormSRGB:"bc7-rgba-srgb",ETC2RGB8Unorm:"etc2-rgb8unorm",ETC2RGB8UnormSRGB:"etc2-rgb8unorm-srgb",ETC2RGB8A1Unorm:"etc2-rgb8a1unorm",ETC2RGB8A1UnormSRGB:"etc2-rgb8a1unorm-srgb",ETC2RGBA8Unorm:"etc2-rgba8unorm",ETC2RGBA8UnormSRGB:"etc2-rgba8unorm-srgb",EACR11Unorm:"eac-r11unorm",EACR11Snorm:"eac-r11snorm",EACRG11Unorm:"eac-rg11unorm",EACRG11Snorm:"eac-rg11snorm",ASTC4x4Unorm:"astc-4x4-unorm",ASTC4x4UnormSRGB:"astc-4x4-unorm-srgb",ASTC5x4Unorm:"astc-5x4-unorm",ASTC5x4UnormSRGB:"astc-5x4-unorm-srgb",ASTC5x5Unorm:"astc-5x5-unorm",ASTC5x5UnormSRGB:"astc-5x5-unorm-srgb",ASTC6x5Unorm:"astc-6x5-unorm",ASTC6x5UnormSRGB:"astc-6x5-unorm-srgb",ASTC6x6Unorm:"astc-6x6-unorm",ASTC6x6UnormSRGB:"astc-6x6-unorm-srgb",ASTC8x5Unorm:"astc-8x5-unorm",ASTC8x5UnormSRGB:"astc-8x5-unorm-srgb",ASTC8x6Unorm:"astc-8x6-unorm",ASTC8x6UnormSRGB:"astc-8x6-unorm-srgb",ASTC8x8Unorm:"astc-8x8-unorm",ASTC8x8UnormSRGB:"astc-8x8-unorm-srgb",ASTC10x5Unorm:"astc-10x5-unorm",ASTC10x5UnormSRGB:"astc-10x5-unorm-srgb",ASTC10x6Unorm:"astc-10x6-unorm",ASTC10x6UnormSRGB:"astc-10x6-unorm-srgb",ASTC10x8Unorm:"astc-10x8-unorm",ASTC10x8UnormSRGB:"astc-10x8-unorm-srgb",ASTC10x10Unorm:"astc-10x10-unorm",ASTC10x10UnormSRGB:"astc-10x10-unorm-srgb",ASTC12x10Unorm:"astc-12x10-unorm",ASTC12x10UnormSRGB:"astc-12x10-unorm-srgb",ASTC12x12Unorm:"astc-12x12-unorm",ASTC12x12UnormSRGB:"astc-12x12-unorm-srgb"},H7={ClampToEdge:"clamp-to-edge",Repeat:"repeat",MirrorRepeat:"mirror-repeat"},Mx={Linear:"linear",Nearest:"nearest"},fn={Zero:"zero",One:"one",Src:"src",OneMinusSrc:"one-minus-src",SrcAlpha:"src-alpha",OneMinusSrcAlpha:"one-minus-src-alpha",Dst:"dst",OneMinusDstColor:"one-minus-dst",DstAlpha:"dst-alpha",OneMinusDstAlpha:"one-minus-dst-alpha",SrcAlphaSaturated:"src-alpha-saturated",Constant:"constant",OneMinusConstant:"one-minus-constant"},Fd={Add:"add",Subtract:"subtract",ReverseSubtract:"reverse-subtract",Min:"min",Max:"max"},wD={None:0,Red:1,Green:2,Blue:4,Alpha:8,All:15},fu={Keep:"keep",Zero:"zero",Replace:"replace",Invert:"invert",IncrementClamp:"increment-clamp",DecrementClamp:"decrement-clamp",IncrementWrap:"increment-wrap",DecrementWrap:"decrement-wrap"},Cwe={Uniform:"uniform",Storage:"storage",ReadOnlyStorage:"read-only-storage"},CD={Float:"float",UnfilterableFloat:"unfilterable-float",Depth:"depth",SInt:"sint",UInt:"uint"},ED={OneD:"1d",TwoD:"2d",ThreeD:"3d"},Tl={OneD:"1d",TwoD:"2d",TwoDArray:"2d-array",Cube:"cube",CubeArray:"cube-array",ThreeD:"3d"},Ewe={All:"all",StencilOnly:"stencil-only",DepthOnly:"depth-only"},wy={Vertex:"vertex",Instance:"instance"},Pw={DepthClipControl:"depth-clip-control",Depth32FloatStencil8:"depth32float-stencil8",TextureCompressionBC:"texture-compression-bc",TextureCompressionETC2:"texture-compression-etc2",TextureCompressionASTC:"texture-compression-astc",TimestampQuery:"timestamp-query",IndirectFirstInstance:"indirect-first-instance",ShaderF16:"shader-f16",RG11B10UFloat:"rg11b10ufloat-renderable",BGRA8UNormStorage:"bgra8unorm-storage",Float32Filterable:"float32-filterable"};class Twe extends mM{constructor(e,n){super(e),this.texture=n,this.version=n?n.version:0,this.isSampler=!0}}const Mwe=Twe;class Rwe extends Mwe{constructor(e,n){super(e,n?n.value:null),this.textureNode=n}}const Awe=Rwe;class Pwe extends dX{constructor(e,n){super(e,n?n.array:null),this.attribute=n,this.isStorageBuffer=!0}}const Nwe=Pwe;class Iwe{constructor(e){this.device=e;const n=`
struct VarysStruct {
	@builtin( position ) Position: vec4<f32>,
	@location( 0 ) vTex : vec2<f32>
};

@vertex
fn main( @builtin( vertex_index ) vertexIndex : u32 ) -> VarysStruct {

	var Varys : VarysStruct;

	var pos = array< vec2<f32>, 4 >(
		vec2<f32>( -1.0,  1.0 ),
		vec2<f32>(  1.0,  1.0 ),
		vec2<f32>( -1.0, -1.0 ),
		vec2<f32>(  1.0, -1.0 )
	);

	var tex = array< vec2<f32>, 4 >(
		vec2<f32>( 0.0, 0.0 ),
		vec2<f32>( 1.0, 0.0 ),
		vec2<f32>( 0.0, 1.0 ),
		vec2<f32>( 1.0, 1.0 )
	);

	Varys.vTex = tex[ vertexIndex ];
	Varys.Position = vec4<f32>( pos[ vertexIndex ], 0.0, 1.0 );

	return Varys;

}
`,r=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vTex );

}
`,i=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vec2( vTex.x, 1.0 - vTex.y ) );

}
`;this.mipmapSampler=e.createSampler({minFilter:Mx.Linear}),this.flipYSampler=e.createSampler({minFilter:Mx.Nearest}),this.transferPipelines={},this.flipYPipelines={},this.mipmapVertexShaderModule=e.createShaderModule({label:"mipmapVertex",code:n}),this.mipmapFragmentShaderModule=e.createShaderModule({label:"mipmapFragment",code:r}),this.flipYFragmentShaderModule=e.createShaderModule({label:"flipYFragment",code:i})}getTransferPipeline(e){let n=this.transferPipelines[e];return n===void 0&&(n=this.device.createRenderPipeline({vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.mipmapFragmentShaderModule,entryPoint:"main",targets:[{format:e}]},primitive:{topology:$p.TriangleStrip,stripIndexFormat:Xm.Uint32},layout:"auto"}),this.transferPipelines[e]=n),n}getFlipYPipeline(e){let n=this.flipYPipelines[e];return n===void 0&&(n=this.device.createRenderPipeline({vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.flipYFragmentShaderModule,entryPoint:"main",targets:[{format:e}]},primitive:{topology:$p.TriangleStrip,stripIndexFormat:Xm.Uint32},layout:"auto"}),this.flipYPipelines[e]=n),n}flipY(e,n,r=0){const i=n.format,{width:o,height:s}=n.size,a=this.getTransferPipeline(i),l=this.getFlipYPipeline(i),c=this.device.createTexture({size:{width:o,height:s,depthOrArrayLayers:1},format:i,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING}),u=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:Tl.TwoD,baseArrayLayer:r}),d=c.createView({baseMipLevel:0,mipLevelCount:1,dimension:Tl.TwoD,baseArrayLayer:0}),f=this.device.createCommandEncoder({}),h=(g,x,b)=>{const v=g.getBindGroupLayout(0),_=this.device.createBindGroup({layout:v,entries:[{binding:0,resource:this.flipYSampler},{binding:1,resource:x}]}),S=f.beginRenderPass({colorAttachments:[{view:b,loadOp:gi.Clear,storeOp:Ji.Store,clearValue:[0,0,0,0]}]});S.setPipeline(g),S.setBindGroup(0,_),S.draw(4,1,0,0),S.end()};h(a,u,d),h(l,d,u),this.device.queue.submit([f.finish()]),c.destroy()}generateMipmaps(e,n,r=0){const i=this.getTransferPipeline(n.format),o=this.device.createCommandEncoder({}),s=i.getBindGroupLayout(0);let a=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:Tl.TwoD,baseArrayLayer:r});for(let l=1;l<n.mipLevelCount;l++){const c=this.device.createBindGroup({layout:s,entries:[{binding:0,resource:this.mipmapSampler},{binding:1,resource:a}]}),u=e.createView({baseMipLevel:l,mipLevelCount:1,dimension:Tl.TwoD,baseArrayLayer:r}),d=o.beginRenderPass({colorAttachments:[{view:u,loadOp:gi.Clear,storeOp:Ji.Store,clearValue:[0,0,0,0]}]});d.setPipeline(i),d.setBindGroup(0,c),d.draw(4,1,0,0),d.end(),a=u}this.device.queue.submit([o.finish()])}}const Owe=Iwe,Lwe={[xb]:"never",[I3]:"less",[bb]:"equal",[O3]:"less-equal",[Sb]:"greater",[wb]:"greater-equal",[Cb]:"always",[_b]:"not-equal"},Dwe=[0,1,3,2,4,5];class Fwe{constructor(e){this.backend=e,this._passUtils=null,this.defaultTexture=null,this.defaultCubeTexture=null,this.colorBuffer=null,this.depthTexture=new ad,this.depthTexture.name="depthBuffer"}createSampler(e){const n=this.backend,r=n.device,i=n.get(e),o={addressModeU:this._convertAddressMode(e.wrapS),addressModeV:this._convertAddressMode(e.wrapT),addressModeW:this._convertAddressMode(e.wrapR),magFilter:this._convertFilterMode(e.magFilter),minFilter:this._convertFilterMode(e.minFilter),mipmapFilter:this._convertFilterMode(e.minFilter),maxAnisotropy:e.anisotropy};e.isDepthTexture&&e.compareFunction!==null&&(o.compare=Lwe[e.compareFunction]),i.sampler=r.createSampler(o)}createDefaultTexture(e){let n;e.isCubeTexture?n=this._getDefaultCubeTextureGPU():n=this._getDefaultTextureGPU(),this.backend.get(e).texture=n}createTexture(e,n={}){const r=this.backend,i=r.get(e);if(i.initialized)throw new Error("WebGPUTextureUtils: Texture already initialized.");n.needsMipmaps===void 0&&(n.needsMipmaps=!1),n.levels===void 0&&(n.levels=1),n.depth===void 0&&(n.depth=1);const{width:o,height:s,depth:a,levels:l}=n,c=this._getDimension(e),u=e.internalFormat||mX(e,r.device),d=n.sampleCount!==void 0?n.sampleCount:1,f=e.isRenderTargetTexture?1:d;let h=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC;e.isStorageTexture===!0&&(h|=GPUTextureUsage.STORAGE_BINDING),e.isCompressedTexture!==!0&&(h|=GPUTextureUsage.RENDER_ATTACHMENT);const g={label:e.name,size:{width:o,height:s,depthOrArrayLayers:a},mipLevelCount:l,sampleCount:f,dimension:c,format:u,usage:h};if(e.isVideoTexture){const x=e.source.data,b=new VideoFrame(x);g.size.width=b.displayWidth,g.size.height=b.displayHeight,b.close(),i.externalTexture=x}else{if(u===void 0)return console.warn("WebGPURenderer: Texture format not supported."),this.createDefaultTexture(e);i.texture=r.device.createTexture(g)}if(e.isRenderTargetTexture&&d>1){const x=Object.assign({},g);x.label=x.label+"-msaa",x.sampleCount=d,i.msaaTexture=r.device.createTexture(x)}i.initialized=!0,i.textureDescriptorGPU=g}destroyTexture(e){const n=this.backend,r=n.get(e);r.texture.destroy(),r.msaaTexture!==void 0&&r.msaaTexture.destroy(),n.delete(e)}destroySampler(e){const r=this.backend.get(e);delete r.sampler}generateMipmaps(e){const n=this.backend.get(e);if(e.isCubeTexture)for(let r=0;r<6;r++)this._generateMipmaps(n.texture,n.textureDescriptorGPU,r);else this._generateMipmaps(n.texture,n.textureDescriptorGPU)}getColorBuffer(){this.colorBuffer&&this.colorBuffer.destroy();const e=this.backend,{width:n,height:r}=e.getDrawingBufferSize();return this.colorBuffer=e.device.createTexture({label:"colorBuffer",size:{width:n,height:r,depthOrArrayLayers:1},sampleCount:e.parameters.sampleCount,format:ze.BGRA8Unorm,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC}),this.colorBuffer}getDepthBuffer(e=!0,n=!0){const r=this.backend,{width:i,height:o}=r.getDrawingBufferSize(),s=this.depthTexture,a=r.get(s).texture;let l,c;if(n?(l=il,c=ga):e&&(l=Ls,c=Ns),a!==void 0){if(s.image.width===i&&s.image.height===o&&s.format===l&&s.type===c)return a;this.destroyTexture(s)}return s.name="depthBuffer",s.format=l,s.type=c,s.image.width=i,s.image.height=o,this.createTexture(s,{sampleCount:r.parameters.sampleCount,width:i,height:o}),r.get(s).texture}updateTexture(e,n){const r=this.backend.get(e),{textureDescriptorGPU:i}=r;if(!(e.isRenderTargetTexture||i===void 0)){if(e.isDataTexture||e.isData3DTexture)this._copyBufferToTexture(n.image,r.texture,i,0,!1);else if(e.isDataArrayTexture)for(let o=0;o<n.image.depth;o++)this._copyBufferToTexture(n.image,r.texture,i,o,!1,o);else if(e.isCompressedTexture)this._copyCompressedBufferToTexture(e.mipmaps,r.texture,i);else if(e.isCubeTexture)this._copyCubeMapToTexture(n.images,r.texture,i,e.flipY);else if(e.isVideoTexture){const o=e.source.data;r.externalTexture=o}else this._copyImageToTexture(n.image,r.texture,i,0,e.flipY);r.version=e.version,e.onUpdate&&e.onUpdate(e)}}async copyTextureToBuffer(e,n,r,i,o){const s=this.backend.device,a=this.backend.get(e),l=a.texture,c=a.textureDescriptorGPU.format,u=this._getBytesPerTexel(c),d=s.createBuffer({size:i*o*u,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),f=s.createCommandEncoder();f.copyTextureToBuffer({texture:l,origin:{x:n,y:r}},{buffer:d,bytesPerRow:i*u},{width:i,height:o});const h=this._getTypedArrayType(c);s.queue.submit([f.finish()]),await d.mapAsync(GPUMapMode.READ);const g=d.getMappedRange();return new h(g)}_isEnvironmentTexture(e){const n=e.mapping;return n===ju||n===Xu||n===rl||n===Fl}_getDefaultTextureGPU(){let e=this.defaultTexture;if(e===null){const n=new Hr;n.minFilter=er,n.magFilter=er,this.createTexture(n,{width:1,height:1}),this.defaultTexture=e=n}return this.backend.get(e).texture}_getDefaultCubeTextureGPU(){let e=this.defaultTexture;if(e===null){const n=new u0;n.minFilter=er,n.magFilter=er,this.createTexture(n,{width:1,height:1,depth:6}),this.defaultCubeTexture=e=n}return this.backend.get(e).texture}_copyCubeMapToTexture(e,n,r,i){for(let o=0;o<6;o++){const s=e[o],a=i===!0?Dwe[o]:o;s.isDataTexture?this._copyBufferToTexture(s.image,n,r,a,i):this._copyImageToTexture(s,n,r,a,i)}}_copyImageToTexture(e,n,r,i,o){this.backend.device.queue.copyExternalImageToTexture({source:e},{texture:n,mipLevel:0,origin:{x:0,y:0,z:i}},{width:e.width,height:e.height,depthOrArrayLayers:1}),o===!0&&this._flipY(n,r,i)}_getPassUtils(){let e=this._passUtils;return e===null&&(this._passUtils=e=new Owe(this.backend.device)),e}_generateMipmaps(e,n,r=0){this._getPassUtils().generateMipmaps(e,n,r)}_flipY(e,n,r=0){this._getPassUtils().flipY(e,n,r)}_copyBufferToTexture(e,n,r,i,o,s=0){const a=this.backend.device,l=e.data,c=this._getBytesPerTexel(r.format),u=e.width*c;a.queue.writeTexture({texture:n,mipLevel:0,origin:{x:0,y:0,z:i}},l,{offset:e.width*e.height*c*s,bytesPerRow:u},{width:e.width,height:e.height,depthOrArrayLayers:1}),o===!0&&this._flipY(n,r,i)}_copyCompressedBufferToTexture(e,n,r){const i=this.backend.device,o=this._getBlockData(r.format);for(let s=0;s<e.length;s++){const a=e[s],l=a.width,c=a.height,u=Math.ceil(l/o.width)*o.byteLength;i.queue.writeTexture({texture:n,mipLevel:s},a.data,{offset:0,bytesPerRow:u},{width:Math.ceil(l/o.width)*o.width,height:Math.ceil(c/o.width)*o.width,depthOrArrayLayers:1})}}_getBlockData(e){if(e===ze.BC1RGBAUnorm||e===ze.BC1RGBAUnormSRGB)return{byteLength:8,width:4,height:4};if(e===ze.BC2RGBAUnorm||e===ze.BC2RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===ze.BC3RGBAUnorm||e===ze.BC3RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===ze.BC4RUnorm||e===ze.BC4RSNorm)return{byteLength:8,width:4,height:4};if(e===ze.BC5RGUnorm||e===ze.BC5RGSnorm)return{byteLength:16,width:4,height:4};if(e===ze.BC6HRGBUFloat||e===ze.BC6HRGBFloat)return{byteLength:16,width:4,height:4};if(e===ze.BC7RGBAUnorm||e===ze.BC7RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===ze.ETC2RGB8Unorm||e===ze.ETC2RGB8UnormSRGB)return{byteLength:8,width:4,height:4};if(e===ze.ETC2RGB8A1Unorm||e===ze.ETC2RGB8A1UnormSRGB)return{byteLength:8,width:4,height:4};if(e===ze.ETC2RGBA8Unorm||e===ze.ETC2RGBA8UnormSRGB)return{byteLength:16,width:4,height:4};if(e===ze.EACR11Unorm)return{byteLength:8,width:4,height:4};if(e===ze.EACR11Snorm)return{byteLength:8,width:4,height:4};if(e===ze.EACRG11Unorm)return{byteLength:16,width:4,height:4};if(e===ze.EACRG11Snorm)return{byteLength:16,width:4,height:4};if(e===ze.ASTC4x4Unorm||e===ze.ASTC4x4UnormSRGB)return{byteLength:16,width:4,height:4};if(e===ze.ASTC5x4Unorm||e===ze.ASTC5x4UnormSRGB)return{byteLength:16,width:5,height:4};if(e===ze.ASTC5x5Unorm||e===ze.ASTC5x5UnormSRGB)return{byteLength:16,width:5,height:5};if(e===ze.ASTC6x5Unorm||e===ze.ASTC6x5UnormSRGB)return{byteLength:16,width:6,height:5};if(e===ze.ASTC6x6Unorm||e===ze.ASTC6x6UnormSRGB)return{byteLength:16,width:6,height:6};if(e===ze.ASTC8x5Unorm||e===ze.ASTC8x5UnormSRGB)return{byteLength:16,width:8,height:5};if(e===ze.ASTC8x6Unorm||e===ze.ASTC8x6UnormSRGB)return{byteLength:16,width:8,height:6};if(e===ze.ASTC8x8Unorm||e===ze.ASTC8x8UnormSRGB)return{byteLength:16,width:8,height:8};if(e===ze.ASTC10x5Unorm||e===ze.ASTC10x5UnormSRGB)return{byteLength:16,width:10,height:5};if(e===ze.ASTC10x6Unorm||e===ze.ASTC10x6UnormSRGB)return{byteLength:16,width:10,height:6};if(e===ze.ASTC10x8Unorm||e===ze.ASTC10x8UnormSRGB)return{byteLength:16,width:10,height:8};if(e===ze.ASTC10x10Unorm||e===ze.ASTC10x10UnormSRGB)return{byteLength:16,width:10,height:10};if(e===ze.ASTC12x10Unorm||e===ze.ASTC12x10UnormSRGB)return{byteLength:16,width:12,height:10};if(e===ze.ASTC12x12Unorm||e===ze.ASTC12x12UnormSRGB)return{byteLength:16,width:12,height:12}}_convertAddressMode(e){let n=H7.ClampToEdge;return e===$f?n=H7.Repeat:e===Uf&&(n=H7.MirrorRepeat),n}_convertFilterMode(e){let n=Mx.Linear;return(e===er||e===qu||e===Cc)&&(n=Mx.Nearest),n}_getBytesPerTexel(e){if(e===ze.R8Unorm)return 1;if(e===ze.R16Float||e===ze.RG8Unorm)return 2;if(e===ze.RG16Float||e===ze.R32Float||e===ze.RGBA8Unorm||e===ze.RGBA8UnormSRGB)return 4;if(e===ze.RG32Float||e===ze.RGBA16Float)return 8;if(e===ze.RGBA32Float)return 16}_getTypedArrayType(e){if(e===ze.R8Uint)return Uint8Array;if(e===ze.R8Sint)return Int8Array;if(e===ze.R8Unorm)return Uint8Array;if(e===ze.R8Snorm)return Int8Array;if(e===ze.RG8Uint)return Uint8Array;if(e===ze.RG8Sint)return Int8Array;if(e===ze.RG8Unorm)return Uint8Array;if(e===ze.RG8Snorm)return Int8Array;if(e===ze.RGBA8Uint)return Uint8Array;if(e===ze.RGBA8Sint)return Int8Array;if(e===ze.RGBA8Unorm)return Uint8Array;if(e===ze.RGBA8Snorm)return Int8Array;if(e===ze.R16Uint)return Uint16Array;if(e===ze.R16Sint)return Int16Array;if(e===ze.RG16Uint)return Uint16Array;if(e===ze.RG16Sint)return Int16Array;if(e===ze.RGBA16Uint)return Uint16Array;if(e===ze.RGBA16Sint)return Int16Array;if(e===ze.R32Uint)return Uint32Array;if(e===ze.R32Sint)return Int32Array;if(e===ze.R32Float)return Float32Array;if(e===ze.RG32Uint)return Uint32Array;if(e===ze.RG32Sint)return Int32Array;if(e===ze.RG32Float)return Float32Array;if(e===ze.RGBA32Uint)return Uint32Array;if(e===ze.RGBA32Sint)return Int32Array;if(e===ze.RGBA32Float)return Float32Array}_getDimension(e){let n;return e.isData3DTexture?n=ED.ThreeD:n=ED.TwoD,n}}function mX(t,e=null){const n=t.format,r=t.type,i=t.colorSpace;let o;if(t.isFramebufferTexture===!0)o=ze.BGRA8Unorm;else if(t.isCompressedTexture===!0)switch(n){case Uu:o=i===Wt?ze.BC1RGBAUnormSRGB:ze.BC1RGBAUnorm;break;case Bu:o=i===Wt?ze.BC2RGBAUnormSRGB:ze.BC2RGBAUnorm;break;case ku:o=i===Wt?ze.BC3RGBAUnormSRGB:ze.BC3RGBAUnorm;break;case _m:o=i===Wt?ze.ETC2RGB8UnormSRGB:ze.ETC2RGB8Unorm;break;case wm:o=i===Wt?ze.ETC2RGBA8UnormSRGB:ze.ETC2RGBA8Unorm;break;case Cm:o=i===Wt?ze.ASTC4x4UnormSRGB:ze.ASTC4x4Unorm;break;case Em:o=i===Wt?ze.ASTC5x4UnormSRGB:ze.ASTC5x4Unorm;break;case Tm:o=i===Wt?ze.ASTC5x5UnormSRGB:ze.ASTC5x5Unorm;break;case Mm:o=i===Wt?ze.ASTC6x5UnormSRGB:ze.ASTC6x5Unorm;break;case Rm:o=i===Wt?ze.ASTC6x6UnormSRGB:ze.ASTC6x6Unorm;break;case Am:o=i===Wt?ze.ASTC8x5UnormSRGB:ze.ASTC8x5Unorm;break;case Pm:o=i===Wt?ze.ASTC8x6UnormSRGB:ze.ASTC8x6Unorm;break;case Nm:o=i===Wt?ze.ASTC8x8UnormSRGB:ze.ASTC8x8Unorm;break;case Im:o=i===Wt?ze.ASTC10x5UnormSRGB:ze.ASTC10x5Unorm;break;case Om:o=i===Wt?ze.ASTC10x6UnormSRGB:ze.ASTC10x6Unorm;break;case Lm:o=i===Wt?ze.ASTC10x8UnormSRGB:ze.ASTC10x8Unorm;break;case Dm:o=i===Wt?ze.ASTC10x10UnormSRGB:ze.ASTC10x10Unorm;break;case Fm:o=i===Wt?ze.ASTC12x10UnormSRGB:ze.ASTC12x10Unorm;break;case $m:o=i===Wt?ze.ASTC12x12UnormSRGB:ze.ASTC12x12Unorm;break;default:console.error("WebGPURenderer: Unsupported texture format.",n)}else switch(n){case no:switch(r){case cs:o=i===Wt?ze.RGBA8UnormSRGB:ze.RGBA8Unorm;break;case Za:o=ze.RGBA16Float;break;case $r:o=ze.RGBA32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RGBAFormat.",r)}break;case Sm:switch(r){case cs:o=ze.R8Unorm;break;case Za:o=ze.R16Float;break;case $r:o=ze.R32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RedFormat.",r)}break;case fb:switch(r){case cs:o=ze.RG8Unorm;break;case Za:o=ze.RG16Float;break;case $r:o=ze.RG32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RGFormat.",r)}break;case Ls:switch(r){case l0:o=ze.Depth16Unorm;break;case Ns:o=ze.Depth24Plus;break;case $r:o=ze.Depth32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with DepthFormat.",r)}break;case il:switch(r){case ga:o=ze.Depth24PlusStencil8;break;case $r:e&&e.features.has(Pw.Depth32FloatStencil8)===!1&&console.error('WebGPURenderer: Depth textures with DepthStencilFormat + FloatType can only be used with the "depth32float-stencil8" GPU feature.'),o=ze.Depth32FloatStencil8;break;default:console.error("WebGPURenderer: Unsupported texture type with DepthStencilFormat.",r)}break;default:console.error("WebGPURenderer: Unsupported texture format.",n)}return o}const $we=Fwe,Uwe=/^[fn]*\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)\s*[\-\>]*\s*([a-z_0-9]+)?/i,Bwe=/[a-z_0-9]+|<(.*?)>+/ig,kwe={f32:"float"},zwe=t=>{t=t.trim();const e=t.match(Uwe);if(e!==null&&e.length===4){const n=e[2],r=[];let i=null;for(;(i=Bwe.exec(n))!==null;)r.push(i);const o=[];let s=0;for(;s<r.length;){const u=r[s++][0];let d=r[s++][0];d=kwe[d]||d,s<r.length&&r[s][0].startsWith("<")===!0&&s++,o.push(new uM(d,u))}const a=t.substring(e[0].length),l=e[1]!==void 0?e[1]:"";return{type:e[3]||"void",inputs:o,name:l,inputsCode:n,blockCode:a}}else throw new Error("FunctionNode: Function is not a WGSL code.")};class Vwe extends hM{constructor(e){const{type:n,inputs:r,name:i,inputsCode:o,blockCode:s}=zwe(e);super(n,r,i),this.inputsCode=o,this.blockCode=s}getCode(e=this.name){const n=this.type!=="void"?"-> "+this.type:"";return`fn ${e} ( ${this.inputsCode.trim()} ) ${n}`+this.blockCode}}const Hwe=Vwe;class Gwe extends Tj{parseFunction(e){return new Hwe(e)}}const Wwe=Gwe,Cy={vertex:GPUShaderStage.VERTEX,fragment:GPUShaderStage.FRAGMENT,compute:GPUShaderStage.COMPUTE},jwe={instance:!0},Xwe={"^^":"threejs_xor"},qwe={float:"f32",int:"i32",uint:"u32",bool:"bool",color:"vec3<f32>",vec2:"vec2<f32>",ivec2:"vec2<i32>",uvec2:"vec2<u32>",bvec2:"vec2<bool>",vec3:"vec3<f32>",ivec3:"vec3<i32>",uvec3:"vec3<u32>",bvec3:"vec3<bool>",vec4:"vec4<f32>",ivec4:"vec4<i32>",uvec4:"vec4<u32>",bvec4:"vec4<bool>",mat3:"mat3x3<f32>",imat3:"mat3x3<i32>",umat3:"mat3x3<u32>",bmat3:"mat3x3<bool>",mat4:"mat4x4<f32>",imat4:"mat4x4<i32>",umat4:"mat4x4<u32>",bmat4:"mat4x4<bool>"},Kwe={dFdx:"dpdx",dFdy:"- dpdy",mod:"threejs_mod",lessThanEqual:"threejs_lessThanEqual",greaterThan:"threejs_greaterThan",inversesqrt:"inverseSqrt",bitcast:"bitcast<f32>"},TD={threejs_xor:new wu(`
fn threejs_xor( a : bool, b : bool ) -> bool {

	return ( a || b ) && !( a && b );

}
`),lessThanEqual:new wu(`
fn threejs_lessThanEqual( a : vec3<f32>, b : vec3<f32> ) -> vec3<bool> {

	return vec3<bool>( a.x <= b.x, a.y <= b.y, a.z <= b.z );

}
`),greaterThan:new wu(`
fn threejs_greaterThan( a : vec3<f32>, b : vec3<f32> ) -> vec3<bool> {

	return vec3<bool>( a.x > b.x, a.y > b.y, a.z > b.z );

}
`),mod:new wu(`
fn threejs_mod( x : f32, y : f32 ) -> f32 {

	return x - y * floor( x / y );

}
`),repeatWrapping:new wu(`
fn threejs_repeatWrapping( uv : vec2<f32>, dimension : vec2<u32> ) -> vec2<u32> {

	let uvScaled = vec2<u32>( uv * vec2<f32>( dimension ) );

	return ( ( uvScaled % dimension ) + dimension ) % dimension;

}
`)};class Ywe extends LW{constructor(e,n,r=null){super(e,n,new Wwe,r),this.uniformGroups={},this.builtins={}}build(){const{object:e,material:n}=this;return n!==null?Xo.fromMaterial(n).build(this):this.addFlow("compute",e),super.build()}needsColorSpaceToLinear(e){return e.isVideoTexture===!0&&e.colorSpace!==ro}_generateTextureSample(e,n,r,i,o=this.shaderStage){return o==="fragment"?i?`textureSample( ${n}, ${n}_sampler, ${r}, ${i} )`:`textureSample( ${n}, ${n}_sampler, ${r} )`:this.generateTextureLod(e,n,r)}_generateVideoSample(e,n,r=this.shaderStage){if(r==="fragment")return`textureSampleBaseClampToEdge( ${e}, ${e}_sampler, vec2<f32>( ${n}.x, 1.0 - ${n}.y ) )`;console.error(`WebGPURenderer: THREE.VideoTexture does not support ${r} shader.`)}_generateTextureSampleLevel(e,n,r,i,o,s=this.shaderStage){return s==="fragment"&&this.isUnfilterable(e)===!1?`textureSampleLevel( ${n}, ${n}_sampler, ${r}, ${i} )`:this.generateTextureLod(e,n,r,i)}generateTextureLod(e,n,r,i="0"){this._include("repeatWrapping");const o=`textureDimensions( ${n}, 0 )`;return`textureLoad( ${n}, threejs_repeatWrapping( ${r}, ${o} ), i32( ${i} ) )`}generateTextureLoad(e,n,r,i,o="0u"){return i?`textureLoad( ${n}, ${r}, ${i}, ${o} )`:`textureLoad( ${n}, ${r}, ${o} )`}isUnfilterable(e){return e.isDataTexture===!0&&e.type===$r}generateTexture(e,n,r,i,o=this.shaderStage){let s=null;return e.isVideoTexture===!0?s=this._generateVideoSample(n,r,o):this.isUnfilterable(e)?s=this.generateTextureLod(e,n,r,"0",i,o):s=this._generateTextureSample(e,n,r,i,o),s}generateTextureCompare(e,n,r,i,o,s=this.shaderStage){if(s==="fragment")return`textureSampleCompare( ${n}, ${n}_sampler, ${r}, ${i} )`;console.error(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${s} shader.`)}generateTextureLevel(e,n,r,i,o,s=this.shaderStage){let a=null;return e.isVideoTexture===!0?a=this._generateVideoSample(n,r,s):a=this._generateTextureSampleLevel(e,n,r,i,o,s),a}getPropertyName(e,n=this.shaderStage){if(e.isNodeVarying===!0&&e.needsInterpolation===!0){if(n==="vertex")return`varyings.${e.name}`}else if(e.isNodeUniform===!0){const r=e.name,i=e.type;return i==="texture"||i==="cubeTexture"?r:i==="buffer"||i==="storageBuffer"?`NodeBuffer_${e.id}.${r}`:e.groupNode.name+"."+r}return super.getPropertyName(e)}_getUniformGroupCount(e){return Object.keys(this.uniforms[e]).length}getFunctionOperator(e){const n=Xwe[e];return n!==void 0?(this._include(n),n):null}getUniformFromNode(e,n,r,i=null){const o=super.getUniformFromNode(e,n,r,i),s=this.getDataFromNode(e,r,this.globalCache);if(s.uniformGPU===void 0){let a;const l=this.bindings[r];if(n==="texture"||n==="cubeTexture"){let c=null;if(n==="texture"?c=new vM(o.name,o.node):n==="cubeTexture"&&(c=new hX(o.name,o.node)),c.store=e.isStoreTextureNode===!0,c.setVisibility(Cy[r]),r==="fragment"&&this.isUnfilterable(e.value)===!1&&c.store===!1){const u=new Awe(`${o.name}_sampler`,o.node);u.setVisibility(Cy[r]),l.push(u,c),a=[u,c]}else l.push(c),a=[c]}else if(n==="buffer"||n==="storageBuffer"){const c=n==="storageBuffer"?Nwe:gM,u=new c("NodeBuffer_"+e.id,e.value);u.setVisibility(Cy[r]),l.push(u),a=u}else{const c=e.groupNode,u=c.name,d=this.uniformGroups[r]||(this.uniformGroups[r]={});let f=d[u];if(f===void 0&&(f=new fX(u,c),f.setVisibility(Cy[r]),d[u]=f,l.push(f)),e.isArrayUniformNode===!0){a=[];for(const h of e.nodes){const g=this.getNodeUniform(h,n);g.boundary=q_e(g.itemSize),g.itemSize=uX(g.itemSize),f.addUniform(g),a.push(g)}}else a=this.getNodeUniform(o,n),f.addUniform(a)}s.uniformGPU=a,r==="vertex"&&(this.bindingsOffset.fragment=l.length)}return o}isReference(e){return super.isReference(e)||e==="texture_2d"||e==="texture_cube"||e==="texture_depth_2d"||e==="texture_storage_2d"}getBuiltin(e,n,r,i=this.shaderStage){const o=this.builtins[i]||(this.builtins[i]=new Map);return o.has(e)===!1&&o.set(e,{name:e,property:n,type:r}),n}getVertexIndex(){return this.shaderStage==="vertex"?this.getBuiltin("vertex_index","vertexIndex","u32","attribute"):"vertexIndex"}buildFunctionCode(e){const n=e.layout,r=this.flowShaderNode(e),i=[];for(const s of n.inputs)i.push(s.name+" : "+this.getType(s.type));return`fn ${n.name}( ${i.join(", ")} ) -> ${this.getType(n.type)} {
${r.vars}
${r.code}
	return ${r.result};

}`}getInstanceIndex(){return this.shaderStage==="vertex"?this.getBuiltin("instance_index","instanceIndex","u32","attribute"):"instanceIndex"}getFrontFacing(){return this.getBuiltin("front_facing","isFront","bool")}getFragCoord(){return this.getBuiltin("position","fragCoord","vec4<f32>")+".xy"}getFragDepth(){return"output."+this.getBuiltin("frag_depth","depth","f32","output")}isFlipY(){return!1}getBuiltins(e){const n=[],r=this.builtins[e];if(r!==void 0)for(const{name:i,property:o,type:s}of r.values())n.push(`@builtin( ${i} ) ${o} : ${s}`);return n.join(`,
	`)}getAttributes(e){const n=[];if(e==="compute"&&this.getBuiltin("global_invocation_id","id","vec3<u32>","attribute"),e==="vertex"||e==="compute"){const r=this.getBuiltins("attribute");r&&n.push(r);const i=this.getAttributesArray();for(let o=0,s=i.length;o<s;o++){const a=i[o],l=a.name,c=this.getType(a.type);n.push(`@location( ${o} ) ${l} : ${c}`)}}return n.join(`,
	`)}getStructMembers(e){const n=[],r=e.getMemberTypes();for(let i=0;i<r.length;i++){const o=r[i];n.push(`	@location( ${i} ) m${i} : ${o}<f32>`)}return n.join(`,
`)}getStructs(e){const n=[],r=this.structs[e];for(let i=0,o=r.length;i<o;i++){const s=r[i];let l=`struct ${s.name} {
`;l+=this.getStructMembers(s),l+=`
}`,n.push(l)}return n.join(`

`)}getVar(e,n){return`var ${n} : ${this.getType(e)}`}getVars(e){const n=[],r=this.vars[e];if(r!==void 0)for(const i of r)n.push(`	${this.getVar(i.type,i.name)};`);return`
${n.join(`
`)}
`}getVaryings(e){const n=[];if(e==="vertex"&&this.getBuiltin("position","Vertex","vec4<f32>","vertex"),e==="vertex"||e==="fragment"){const o=this.varyings,s=this.vars[e];for(let a=0;a<o.length;a++){const l=o[a];if(l.needsInterpolation){let c=`@location( ${a} )`;/^(int|uint|ivec|uvec)/.test(l.type)&&(c+=" @interpolate( flat )"),n.push(`${c} ${l.name} : ${this.getType(l.type)}`)}else e==="vertex"&&s.includes(l)===!1&&s.push(l)}}const r=this.getBuiltins(e);r&&n.push(r);const i=n.join(`,
	`);return e==="vertex"?this._getWGSLStruct("VaryingsStruct","	"+i):i}getUniforms(e){const n=this.uniforms[e],r=[],i=[],o=[],s={};let a=this.bindingsOffset[e];for(const c of n)if(c.type==="texture"||c.type==="cubeTexture"){const u=c.node.value;e==="fragment"&&this.isUnfilterable(u)===!1&&c.node.isStoreTextureNode!==!0&&(u.isDepthTexture===!0&&u.compareFunction!==null?r.push(`@binding( ${a++} ) @group( 0 ) var ${c.name}_sampler : sampler_comparison;`):r.push(`@binding( ${a++} ) @group( 0 ) var ${c.name}_sampler : sampler;`));let d;u.isCubeTexture===!0?d="texture_cube<f32>":u.isDataArrayTexture===!0?d="texture_2d_array<f32>":u.isDepthTexture===!0?d="texture_depth_2d":u.isVideoTexture===!0?d="texture_external":c.node.isStoreTextureNode===!0?d="texture_storage_2d<"+mX(u)+", write>":d="texture_2d<f32>",r.push(`@binding( ${a++} ) @group( 0 ) var ${c.name} : ${d};`)}else if(c.type==="buffer"||c.type==="storageBuffer"){const u=c.node,d=this.getType(u.bufferType),f=u.bufferCount,h=f>0?", "+f:"",g=`	${c.name} : array< ${d}${h} >
`,x=u.isStorageBufferNode?"storage,read_write":"uniform";i.push(this._getWGSLStructBinding("NodeBuffer_"+u.id,g,x,a++))}else{const u=this.getType(this.getVectorType(c.type)),d=c.groupNode.name,f=s[d]||(s[d]={index:a++,snippets:[]});if(Array.isArray(c.value)===!0){const h=c.value.length;f.snippets.push(`uniform ${u}[ ${h} ] ${c.name}`)}else f.snippets.push(`	${c.name} : ${u}`)}for(const c in s){const u=s[c];o.push(this._getWGSLStructBinding(c,u.snippets.join(`,
`),"uniform",u.index))}let l=r.join(`
`);return l+=i.join(`
`),l+=o.join(`
`),l}buildCode(){const e=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};for(const n in e){const r=e[n];r.uniforms=this.getUniforms(n),r.attributes=this.getAttributes(n),r.varyings=this.getVaryings(n),r.structs=this.getStructs(n),r.vars=this.getVars(n),r.codes=this.getCodes(n);let i=`// code

`;i+=this.flowCode[n];const o=this.flowNodes[n],s=o[o.length-1],a=s.outputNode,l=a!==void 0&&a.isOutputStructNode===!0;for(const c of o){const u=this.getFlowData(c),d=c.name;if(d&&(i.length>0&&(i+=`
`),i+=`	// flow -> ${d}
	`),i+=`${u.code}
	`,c===s&&n!=="compute"){if(i+=`// result

	`,n==="vertex")i+=`varyings.Vertex = ${u.result};`;else if(n==="fragment")if(l)r.returnType=a.nodeType,i+=`return ${u.result};`;else{let f="	@location(0) color: vec4<f32>";const h=this.getBuiltins("output");h&&(f+=`,
	`+h),r.returnType="OutputStruct",r.structs+=this._getWGSLStruct("OutputStruct",f),r.structs+=`
var<private> output : OutputStruct;

`,i+=`output.color = ${u.result};

	return output;`}}}r.flow=i}this.material!==null?(this.vertexShader=this._getWGSLVertexCode(e.vertex),this.fragmentShader=this._getWGSLFragmentCode(e.fragment)):this.computeShader=this._getWGSLComputeCode(e.compute,(this.object.workgroupSize||[64]).join(", "))}getMethod(e){return TD[e]!==void 0&&this._include(e),Kwe[e]||e}getType(e){return qwe[e]||e}isAvailable(e){return jwe[e]===!0}_include(e){const n=TD[e];return n.build(this),this.currentFunctionNode!==null&&this.currentFunctionNode.includes.push(n),n}_getWGSLVertexCode(e){return`${this.getSignature()}

// uniforms
${e.uniforms}

// varyings
${e.varyings}
var<private> varyings : VaryingsStruct;

// codes
${e.codes}

@vertex
fn main( ${e.attributes} ) -> VaryingsStruct {

	// vars
	${e.vars}

	// flow
	${e.flow}

	return varyings;

}
`}_getWGSLFragmentCode(e){return`${this.getSignature()}

// uniforms
${e.uniforms}

// structs
${e.structs}

// codes
${e.codes}

@fragment
fn main( ${e.varyings} ) -> ${e.returnType} {

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}_getWGSLComputeCode(e,n){return`${this.getSignature()}
// system
var<private> instanceIndex : u32;

// uniforms
${e.uniforms}

// codes
${e.codes}

@compute @workgroup_size( ${n} )
fn main( ${e.attributes} ) {

	// system
	instanceIndex = id.x;

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}_getWGSLStruct(e,n){return`
struct ${e} {
${n}
};`}_getWGSLStructBinding(e,n,r,i=0,o=0){const s=e+"Struct";return`${this._getWGSLStruct(s,n)}
@binding( ${i} ) @group( ${o} )
var<${r}> ${e} : ${s};`}}const Zwe=Ywe;class Qwe{constructor(e){this.backend=e}getCurrentDepthStencilFormat(e){let n;return e.depthTexture!==null?n=this.getTextureFormatGPU(e.depthTexture):e.depth&&e.stencil?n=ze.Depth24PlusStencil8:e.depth&&(n=ze.Depth24Plus),n}getTextureFormatGPU(e){return this.backend.get(e).texture.format}getCurrentColorFormat(e){let n;return e.textures!==null?n=this.getTextureFormatGPU(e.textures[0]):n=ze.BGRA8Unorm,n}getCurrentColorSpace(e){return e.textures!==null?e.textures[0].colorSpace:this.backend.renderer.outputColorSpace}getPrimitiveTopology(e,n){if(e.isPoints)return $p.PointList;if(e.isLineSegments||e.isMesh&&n.wireframe===!0)return $p.LineList;if(e.isLine)return $p.LineStrip;if(e.isMesh)return $p.TriangleList}getSampleCount(e){return e.textures!==null?e.sampleCount:this.backend.parameters.sampleCount}}const Jwe=Qwe,eCe=new Map([[Int8Array,["sint8","snorm8"]],[Uint8Array,["uint8","unorm8"]],[Int16Array,["sint16","snorm16"]],[Uint16Array,["uint16","unorm16"]],[Int32Array,["sint32","snorm32"]],[Uint32Array,["uint32","unorm32"]],[Float32Array,["float32"]]]),tCe=new Map([[cT,["float16"]]]),nCe=new Map([[Int32Array,"sint32"],[Uint32Array,"uint32"],[Float32Array,"float32"]]);class rCe{constructor(e){this.backend=e}createAttribute(e,n){const r=this._getBufferAttribute(e),i=this.backend,o=i.get(r);let s=o.buffer;if(s===void 0){const a=i.device,l=r.array,c=l.byteLength+(4-l.byteLength%4)%4;s=a.createBuffer({label:r.name,size:c,usage:n,mappedAtCreation:!0}),new l.constructor(s.getMappedRange()).set(l),s.unmap(),o.buffer=s}}updateAttribute(e){const n=this._getBufferAttribute(e),r=this.backend,i=r.device,o=r.get(n).buffer,s=n.array,a=n.updateRanges;if(a.length===0)i.queue.writeBuffer(o,0,s,0);else{for(let l=0,c=a.length;l<c;l++){const u=a[l];i.queue.writeBuffer(o,0,s,u.start*s.BYTES_PER_ELEMENT,u.count*s.BYTES_PER_ELEMENT)}n.clearUpdateRanges()}}createShaderVertexBuffers(e){const n=e.getAttributes(),r=new Map;for(let i=0;i<n.length;i++){const o=n[i],s=o.array.BYTES_PER_ELEMENT,a=this._getBufferAttribute(o);let l=r.get(a);if(l===void 0){let d,f;o.isInterleavedBufferAttribute===!0?(d=o.data.stride*s,f=o.data.isInstancedInterleavedBuffer?wy.Instance:wy.Vertex):(d=o.itemSize*s,f=o.isInstancedBufferAttribute?wy.Instance:wy.Vertex),l={arrayStride:d,attributes:[],stepMode:f},r.set(a,l)}const c=this._getVertexFormat(o),u=o.isInterleavedBufferAttribute===!0?o.offset*s:0;l.attributes.push({shaderLocation:i,offset:u,format:c})}return Array.from(r.values())}destroyAttribute(e){const n=this.backend;n.get(this._getBufferAttribute(e)).buffer.destroy(),n.delete(e)}async getArrayBufferAsync(e){const n=this.backend,r=n.device,i=n.get(this._getBufferAttribute(e)),o=i.buffer,s=o.size;let a=i.readBuffer,l=!0;a===void 0&&(a=r.createBuffer({label:e.name,size:s,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),l=!1,i.readBuffer=a);const c=r.createCommandEncoder({});c.copyBufferToBuffer(o,0,a,0,s),l&&a.unmap();const u=c.finish();return r.queue.submit([u]),await a.mapAsync(GPUMapMode.READ),a.getMappedRange()}_getVertexFormat(e){const{itemSize:n,normalized:r}=e,i=e.array.constructor,o=e.constructor;let s;if(n==1)s=nCe.get(i);else{const l=(tCe.get(o)||eCe.get(i))[r?1:0];if(l){const c=i.BYTES_PER_ELEMENT*n,d=Math.floor((c+3)/4)*4/i.BYTES_PER_ELEMENT;if(d%1)throw new Error("THREE.WebGPUAttributeUtils: Bad vertex format item size.");s=`${l}x${d}`}}return s||console.error("THREE.WebGPUAttributeUtils: Vertex format not supported yet."),s}_getBufferAttribute(e){return e.isInterleavedBufferAttribute&&(e=e.data),e}}const iCe=rCe;class oCe{constructor(e){this.backend=e}createBindingsLayout(e){const r=this.backend.device,i=[];let o=0;for(const s of e){const a={binding:o++,visibility:s.visibility};if(s.isUniformBuffer||s.isStorageBuffer){const l={};s.isStorageBuffer&&(l.type=Cwe.Storage),a.buffer=l}else if(s.isSampler){const l={};s.texture.isDepthTexture&&s.texture.compareFunction!==null&&(l.type="comparison"),a.sampler=l}else if(s.isSampledTexture&&s.texture.isVideoTexture)a.externalTexture={};else if(s.isSampledTexture&&s.store){const l=this.backend.get(s.texture).texture.format;a.storageTexture={format:l}}else if(s.isSampledTexture){const l={};s.texture.isDepthTexture?l.sampleType=CD.Depth:s.texture.isDataTexture&&s.texture.type===$r&&(l.sampleType=CD.UnfilterableFloat),s.isSampledCubeTexture?l.viewDimension=Tl.Cube:s.texture.isDataArrayTexture&&(l.viewDimension=Tl.TwoDArray),a.texture=l}else console.error(`WebGPUBindingUtils: Unsupported binding "${s}".`);i.push(a)}return r.createBindGroupLayout({entries:i})}createBindings(e){const r=this.backend.get(e),i=this.createBindingsLayout(e),o=this.createBindGroup(e,i);r.layout=i,r.group=o,r.bindings=e}updateBinding(e){const n=this.backend,r=n.device,i=e.buffer,o=n.get(e).buffer;r.queue.writeBuffer(o,0,i,0)}createBindGroup(e,n){const r=this.backend,i=r.device;let o=0;const s=[];for(const a of e){if(a.isUniformBuffer){const l=r.get(a);if(l.buffer===void 0){const c=a.byteLength,u=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,d=i.createBuffer({label:"bindingBuffer_"+a.name,size:c,usage:u});l.buffer=d}s.push({binding:o,resource:{buffer:l.buffer}})}else if(a.isStorageBuffer){const l=r.get(a);if(l.buffer===void 0){const c=a.attribute;l.buffer=r.get(c).buffer}s.push({binding:o,resource:{buffer:l.buffer}})}else if(a.isSampler){const l=r.get(a.texture);s.push({binding:o,resource:l.sampler})}else if(a.isSampledTexture){const l=r.get(a.texture);let c;a.isSampledCubeTexture?c=Tl.Cube:a.texture.isDataArrayTexture?c=Tl.TwoDArray:c=Tl.TwoD;let u;if(l.externalTexture!==void 0)u=i.importExternalTexture({source:l.externalTexture});else{const d=Ewe.All;u=l.texture.createView({aspect:d,dimension:c,mipLevelCount:a.store?1:l.mipLevelCount})}s.push({binding:o,resource:u})}o++}return i.createBindGroup({layout:n,entries:s})}}const sCe=oCe;class aCe{constructor(e){this.backend=e}createRenderPipeline(e){const{object:n,material:r,geometry:i,pipeline:o}=e,{vertexProgram:s,fragmentProgram:a}=o,l=this.backend,c=l.device,u=l.utils,d=l.get(o),f=l.get(e.getBindings()),h=l.attributeUtils.createShaderVertexBuffers(e);let g;r.transparent===!0&&r.blending!==Os&&(g=this._getBlending(r));let x={};r.stencilWrite===!0&&(x={compare:this._getStencilCompare(r),failOp:this._getStencilOperation(r.stencilFail),depthFailOp:this._getStencilOperation(r.stencilZFail),passOp:this._getStencilOperation(r.stencilZPass)});const b=this._getColorWriteMask(r),v=[];if(e.context.textures!==null){const N=e.context.textures;for(let R=0;R<N.length;R++){const P=u.getTextureFormatGPU(N[R]);v.push({format:P,blend:g,writeMask:b})}}else{const N=u.getCurrentColorFormat(e.context);v.push({format:N,blend:g,writeMask:b})}const _=l.get(s).module,S=l.get(a).module,w=this._getPrimitiveState(n,i,r),M=this._getDepthCompare(r),E=u.getCurrentDepthStencilFormat(e.context),T=u.getSampleCount(e.context);d.pipeline=c.createRenderPipeline({vertex:Object.assign({},_,{buffers:h}),fragment:Object.assign({},S,{targets:v}),primitive:w,depthStencil:{format:E,depthWriteEnabled:r.depthWrite,depthCompare:M,stencilFront:x,stencilBack:{},stencilReadMask:r.stencilFuncMask,stencilWriteMask:r.stencilWriteMask},multisample:{count:T,alphaToCoverageEnabled:r.alphaToCoverage},layout:c.createPipelineLayout({bindGroupLayouts:[f.layout]})})}createComputePipeline(e,n){const r=this.backend,i=r.device,o=r.get(e.computeProgram).module,s=r.get(e),a=r.get(n);s.pipeline=i.createComputePipeline({compute:o,layout:i.createPipelineLayout({bindGroupLayouts:[a.layout]})})}_getBlending(e){let n,r;const i=e.blending;if(i===z6){const o=e.blendSrcAlpha!==null?e.blendSrcAlpha:fn.One,s=e.blendDstAlpha!==null?e.blendDstAlpha:fn.Zero,a=e.blendEquationAlpha!==null?e.blendEquationAlpha:fn.Add;n={srcFactor:this._getBlendFactor(e.blendSrc),dstFactor:this._getBlendFactor(e.blendDst),operation:this._getBlendOperation(e.blendEquation)},r={srcFactor:this._getBlendFactor(o),dstFactor:this._getBlendFactor(s),operation:this._getBlendOperation(a)}}else{const o=e.premultipliedAlpha,s=(a,l,c,u)=>{n={srcFactor:a,dstFactor:l,operation:Fd.Add},r={srcFactor:c,dstFactor:u,operation:Fd.Add}};if(o)switch(i){case ma:s(fn.SrcAlpha,fn.OneMinusSrcAlpha,fn.One,fn.OneMinusSrcAlpha);break;case Of:s(fn.SrcAlpha,fn.One,fn.One,fn.One);break;case Lf:s(fn.Zero,fn.OneMinusSrc,fn.Zero,fn.One);break;case Df:s(fn.Zero,fn.Src,fn.Zero,fn.SrcAlpha);break}else switch(i){case ma:s(fn.SrcAlpha,fn.OneMinusSrcAlpha,fn.One,fn.OneMinusSrcAlpha);break;case Of:s(fn.SrcAlpha,fn.One,fn.SrcAlpha,fn.One);break;case Lf:s(fn.Zero,fn.OneMinusSrc,fn.Zero,fn.One);break;case Df:s(fn.Zero,fn.Src,fn.Zero,fn.Src);break}}if(n!==void 0&&r!==void 0)return{color:n,alpha:r};console.error("THREE.WebGPURenderer: Invalid blending: ",i)}_getBlendFactor(e){let n;switch(e){case G6:n=fn.Zero;break;case W6:n=fn.One;break;case j6:n=fn.Src;break;case X6:n=fn.OneMinusSrc;break;case xm:n=fn.SrcAlpha;break;case bm:n=fn.OneMinusSrcAlpha;break;case Y6:n=fn.Dst;break;case Z6:n=fn.OneMinusDstColor;break;case q6:n=fn.DstAlpha;break;case K6:n=fn.OneMinusDstAlpha;break;case Q6:n=fn.SrcAlphaSaturated;break;case Nbe:n=fn.Constant;break;case Ibe:n=fn.OneMinusConstant;break;default:console.error("THREE.WebGPURenderer: Blend factor not supported.",e)}return n}_getStencilCompare(e){let n;const r=e.stencilFunc;switch(r){case GV:n=Qi.Never;break;case ux:n=Qi.Always;break;case WV:n=Qi.Less;break;case XV:n=Qi.LessEqual;break;case jV:n=Qi.Equal;break;case YV:n=Qi.GreaterEqual;break;case qV:n=Qi.Greater;break;case KV:n=Qi.NotEqual;break;default:console.error("THREE.WebGPURenderer: Invalid stencil function.",r)}return n}_getStencilOperation(e){let n;switch(e){case xu:n=fu.Keep;break;case $V:n=fu.Zero;break;case UV:n=fu.Replace;break;case HV:n=fu.Invert;break;case BV:n=fu.IncrementClamp;break;case kV:n=fu.DecrementClamp;break;case zV:n=fu.IncrementWrap;break;case VV:n=fu.DecrementWrap;break;default:console.error("THREE.WebGPURenderer: Invalid stencil operation.",n)}return n}_getBlendOperation(e){let n;switch(e){case ns:n=Fd.Add;break;case V6:n=Fd.Subtract;break;case H6:n=Fd.ReverseSubtract;break;case lx:n=Fd.Min;break;case cx:n=Fd.Max;break;default:console.error("THREE.WebGPUPipelineUtils: Blend equation not supported.",e)}return n}_getPrimitiveState(e,n,r){const i={},o=this.backend.utils;switch(i.topology=o.getPrimitiveTopology(e,r),n.index!==null&&e.isLine===!0&&e.isLineSegments!==!0&&(i.stripIndexFormat=n.index.array instanceof Uint16Array?Xm.Uint16:Xm.Uint32),r.side){case nl:i.frontFace=z7.CCW,i.cullMode=V7.Back;break;case di:i.frontFace=z7.CCW,i.cullMode=V7.Front;break;case ko:i.frontFace=z7.CCW,i.cullMode=V7.None;break;default:console.error("THREE.WebGPUPipelineUtils: Unknown material.side value.",r.side);break}return i}_getColorWriteMask(e){return e.colorWrite===!0?wD.All:wD.None}_getDepthCompare(e){let n;if(e.depthTest===!1)n=Qi.Always;else{const r=e.depthFunc;switch(r){case J6:n=Qi.Never;break;case eb:n=Qi.Always;break;case tb:n=Qi.Less;break;case Ff:n=Qi.LessEqual;break;case nb:n=Qi.Equal;break;case rb:n=Qi.GreaterEqual;break;case ib:n=Qi.Greater;break;case ob:n=Qi.NotEqual;break;default:console.error("THREE.WebGPUPipelineUtils: Invalid depth function.",r)}}return n}}const lCe=aCe;let gX=null;navigator.gpu!==void 0&&(gX=await navigator.gpu.requestAdapter());class cCe extends pX{constructor(e={}){super(e),this.isWebGPUBackend=!0,this.parameters.antialias=e.antialias===!0,this.parameters.antialias===!0?this.parameters.sampleCount=e.sampleCount===void 0?4:e.sampleCount:this.parameters.sampleCount=1,this.parameters.requiredLimits=e.requiredLimits===void 0?{}:e.requiredLimits,this.adapter=null,this.device=null,this.context=null,this.colorBuffer=null,this.utils=new Jwe(this),this.attributeUtils=new iCe(this),this.bindingUtils=new sCe(this),this.pipelineUtils=new lCe(this),this.textureUtils=new $we(this),this.occludedResolveCache=new Map}async init(e){await super.init(e);const n=this.parameters,r={powerPreference:n.powerPreference},i=await navigator.gpu.requestAdapter(r);if(i===null)throw new Error("WebGPUBackend: Unable to create WebGPU adapter.");const o=Object.values(Pw),s=[];for(const u of o)i.features.has(u)&&s.push(u);const a={requiredFeatures:s,requiredLimits:n.requiredLimits},l=await i.requestDevice(a),c=n.context!==void 0?n.context:e.domElement.getContext("webgpu");this.adapter=i,this.device=l,this.context=c,this.context.configure({device:this.device,format:ze.BGRA8Unorm,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,alphaMode:"premultiplied"}),this.updateSize()}get coordinateSystem(){return Ku}async getArrayBufferAsync(e){return await this.attributeUtils.getArrayBufferAsync(e)}beginRender(e){const n=this.get(e),r=this.device,i=e.occlusionQueryCount;let o;i>0&&(n.currentOcclusionQuerySet&&n.currentOcclusionQuerySet.destroy(),n.currentOcclusionQueryBuffer&&n.currentOcclusionQueryBuffer.destroy(),n.currentOcclusionQuerySet=n.occlusionQuerySet,n.currentOcclusionQueryBuffer=n.occlusionQueryBuffer,n.currentOcclusionQueryObjects=n.occlusionQueryObjects,o=r.createQuerySet({type:"occlusion",count:i}),n.occlusionQuerySet=o,n.occlusionQueryIndex=0,n.occlusionQueryObjects=new Array(i),n.lastOcclusionObject=null);const s={colorAttachments:[{view:null}],depthStencilAttachment:{view:null},occlusionQuerySet:o},a=s.colorAttachments[0],l=s.depthStencilAttachment,c=this.parameters.antialias;if(e.textures!==null){const f=e.textures;s.colorAttachments=[];const h=s.colorAttachments;for(let x=0;x<f.length;x++){const b=this.get(f[x]),v=b.texture.createView({baseMipLevel:e.activeMipmapLevel,mipLevelCount:1,baseArrayLayer:e.activeCubeFace,dimension:Tl.TwoD});let _,S;b.msaaTexture!==void 0?(_=b.msaaTexture.createView(),S=v):(_=v,S=void 0),h.push({view:_,resolveTarget:S,loadOp:gi.Load,storeOp:Ji.Store})}const g=this.get(e.depthTexture);l.view=g.texture.createView(),e.stencil&&e.depthTexture.format===Ls&&(e.stencil=!1)}else c===!0?(a.view=this.colorBuffer.createView(),a.resolveTarget=this.context.getCurrentTexture().createView()):(a.view=this.context.getCurrentTexture().createView(),a.resolveTarget=void 0),l.view=this.textureUtils.getDepthBuffer(e.depth,e.stencil).createView();if(e.textures!==null){const f=s.colorAttachments;for(let h=0;h<f.length;h++){const g=f[h];e.clearColor?(g.clearValue=e.clearColorValue,g.loadOp=gi.Clear,g.storeOp=Ji.Store):(g.loadOp=gi.Load,g.storeOp=Ji.Store)}}else e.clearColor?(a.clearValue=e.clearColorValue,a.loadOp=gi.Clear,a.storeOp=Ji.Store):(a.loadOp=gi.Load,a.storeOp=Ji.Store);e.depth&&(e.clearDepth?(l.depthClearValue=e.clearDepthValue,l.depthLoadOp=gi.Clear,l.depthStoreOp=Ji.Store):(l.depthLoadOp=gi.Load,l.depthStoreOp=Ji.Store)),e.stencil&&(e.clearStencil?(l.stencilClearValue=e.clearStencilValue,l.stencilLoadOp=gi.Clear,l.stencilStoreOp=Ji.Store):(l.stencilLoadOp=gi.Load,l.stencilStoreOp=Ji.Store));const u=r.createCommandEncoder({label:"renderContext_"+e.id}),d=u.beginRenderPass(s);if(n.descriptor=s,n.encoder=u,n.currentPass=d,n.currentSets={attributes:{}},e.viewport&&this.updateViewport(e),e.scissor){const{x:f,y:h,width:g,height:x}=e.scissorValue;d.setScissorRect(f,e.height-x-h,g,x)}}finishRender(e){const n=this.get(e),r=e.occlusionQueryCount;if(r>n.occlusionQueryIndex&&n.currentPass.endOcclusionQuery(),n.currentPass.end(),r>0){const i=r*8;let o=this.occludedResolveCache.get(i);o===void 0&&(o=this.device.createBuffer({size:i,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),this.occludedResolveCache.set(i,o));const s=this.device.createBuffer({size:i,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});n.encoder.resolveQuerySet(n.occlusionQuerySet,0,r,o,0),n.encoder.copyBufferToBuffer(o,0,s,0,i),n.occlusionQueryBuffer=s,this.resolveOccludedAsync(e)}if(this.device.queue.submit([n.encoder.finish()]),e.textures!==null){const i=e.textures;for(let o=0;o<i.length;o++){const s=i[o];s.generateMipmaps===!0&&this.textureUtils.generateMipmaps(s)}}}isOccluded(e,n){const r=this.get(e);return r.occluded&&r.occluded.has(n)}async resolveOccludedAsync(e){const n=this.get(e),{currentOcclusionQueryBuffer:r,currentOcclusionQueryObjects:i}=n;if(r&&i){const o=new WeakSet;n.currentOcclusionQueryObjects=null,n.currentOcclusionQueryBuffer=null,await r.mapAsync(GPUMapMode.READ);const s=r.getMappedRange(),a=new BigUint64Array(s);for(let l=0;l<i.length;l++)a[l]!==0n&&o.add(i[l]);r.destroy(),n.occluded=o}}updateViewport(e){const{currentPass:n}=this.get(e);let{x:r,y:i,width:o,height:s,minDepth:a,maxDepth:l}=e.viewportValue;n.setViewport(r,e.height-s-i,o,s,a,l)}clear(e,n,r,i=null){const o=this.device,s=this.renderer,a=[];let l,c,u,d;if(e){const g=this.getClearColor();c={r:g.r,g:g.g,b:g.b,a:g.a}}if(i===null){if(u=s.depth,d=s.stencil,n=n&&u,r=r&&d,e){const g=this.parameters.antialias,x={};g===!0?(x.view=this.colorBuffer.createView(),x.resolveTarget=this.context.getCurrentTexture().createView()):x.view=this.context.getCurrentTexture().createView(),x.clearValue=c,x.loadOp=gi.Clear,x.storeOp=Ji.Store,a.push(x)}(n||r)&&(l={view:this.textureUtils.getDepthBuffer(s.depth,s.stencil).createView()})}else{if(u=i.depth,d=i.stencil,n=n&&u,r=r&&d,e)for(const g of i.textures){const x=this.get(g),b=x.texture.createView();let v,_;x.msaaTexture!==void 0?(v=x.msaaTexture.createView(),_=b):(v=b,_=void 0),a.push({view:v,resolveTarget:_,clearValue:c,loadOp:gi.Clear,storeOp:Ji.Store})}(n||r)&&(l={view:this.get(i.depthTexture).texture.createView()})}l!==void 0&&(n?(l.depthLoadOp=gi.Clear,l.depthClearValue=s.getClearDepth(),l.depthStoreOp=Ji.Store):(l.depthLoadOp=gi.Load,l.depthStoreOp=Ji.Store),r?(l.stencilLoadOp=gi.Clear,l.stencilClearValue=s.getClearStencil(),l.stencilStoreOp=Ji.Store):(l.stencilLoadOp=gi.Load,l.stencilStoreOp=Ji.Store));const f=o.createCommandEncoder({});f.beginRenderPass({colorAttachments:a,depthStencilAttachment:l}).end(),o.queue.submit([f.finish()])}beginCompute(e){const n=this.get(e);n.cmdEncoderGPU=this.device.createCommandEncoder({}),n.passEncoderGPU=n.cmdEncoderGPU.beginComputePass()}compute(e,n,r,i){const{passEncoderGPU:o}=this.get(e),s=this.get(i).pipeline;o.setPipeline(s);const a=this.get(r).group;o.setBindGroup(0,a),o.dispatchWorkgroups(n.dispatchCount)}finishCompute(e){const n=this.get(e);n.passEncoderGPU.end(),this.device.queue.submit([n.cmdEncoderGPU.finish()])}draw(e,n){const{object:r,geometry:i,context:o,pipeline:s}=e,a=this.get(e.getBindings()),l=this.get(o),c=this.get(s).pipeline,u=l.currentSets,d=l.currentPass;u.pipeline!==c&&(d.setPipeline(c),u.pipeline=c);const f=a.group;d.setBindGroup(0,f);const h=e.getIndex(),g=h!==null;if(g===!0&&u.index!==h){const S=this.get(h).buffer,w=h.array instanceof Uint16Array?Xm.Uint16:Xm.Uint32;d.setIndexBuffer(S,w),u.index=h}const x=e.getVertexBuffers();for(let S=0,w=x.length;S<w;S++){const M=x[S];if(u.attributes[S]!==M){const E=this.get(M).buffer;d.setVertexBuffer(S,E),u.attributes[S]=M}}if(l.occlusionQuerySet!==void 0){const S=l.lastOcclusionObject;S!==r&&(S!==null&&S.occlusionTest===!0&&(d.endOcclusionQuery(),l.occlusionQueryIndex++),r.occlusionTest===!0&&(d.beginOcclusionQuery(l.occlusionQueryIndex),l.occlusionQueryObjects[l.occlusionQueryIndex]=r),l.lastOcclusionObject=r)}const b=i.drawRange,v=b.start,_=this.getInstanceCount(e);if(_!==0)if(g===!0){const S=b.count!==1/0?b.count:h.count;d.drawIndexed(S,_,v,0,0),n.update(r,S,_)}else{const S=i.attributes.position,w=b.count!==1/0?b.count:S.count;d.draw(w,_,v,0),n.update(r,w,_)}}needsRenderUpdate(e){const n=this.get(e),{object:r,material:i}=e,o=this.utils,s=o.getSampleCount(e.context),a=o.getCurrentColorSpace(e.context),l=o.getCurrentColorFormat(e.context),c=o.getCurrentDepthStencilFormat(e.context),u=o.getPrimitiveTopology(r,i);let d=!1;return(n.material!==i||n.materialVersion!==i.version||n.transparent!==i.transparent||n.blending!==i.blending||n.premultipliedAlpha!==i.premultipliedAlpha||n.blendSrc!==i.blendSrc||n.blendDst!==i.blendDst||n.blendEquation!==i.blendEquation||n.blendSrcAlpha!==i.blendSrcAlpha||n.blendDstAlpha!==i.blendDstAlpha||n.blendEquationAlpha!==i.blendEquationAlpha||n.colorWrite!==i.colorWrite||n.depthWrite!==i.depthWrite||n.depthTest!==i.depthTest||n.depthFunc!==i.depthFunc||n.stencilWrite!==i.stencilWrite||n.stencilFunc!==i.stencilFunc||n.stencilFail!==i.stencilFail||n.stencilZFail!==i.stencilZFail||n.stencilZPass!==i.stencilZPass||n.stencilFuncMask!==i.stencilFuncMask||n.stencilWriteMask!==i.stencilWriteMask||n.side!==i.side||n.alphaToCoverage!==i.alphaToCoverage||n.sampleCount!==s||n.colorSpace!==a||n.colorFormat!==l||n.depthStencilFormat!==c||n.primitiveTopology!==u)&&(n.material=i,n.materialVersion=i.version,n.transparent=i.transparent,n.blending=i.blending,n.premultipliedAlpha=i.premultipliedAlpha,n.blendSrc=i.blendSrc,n.blendDst=i.blendDst,n.blendEquation=i.blendEquation,n.blendSrcAlpha=i.blendSrcAlpha,n.blendDstAlpha=i.blendDstAlpha,n.blendEquationAlpha=i.blendEquationAlpha,n.colorWrite=i.colorWrite,n.depthWrite=i.depthWrite,n.depthTest=i.depthTest,n.depthFunc=i.depthFunc,n.stencilWrite=i.stencilWrite,n.stencilFunc=i.stencilFunc,n.stencilFail=i.stencilFail,n.stencilZFail=i.stencilZFail,n.stencilZPass=i.stencilZPass,n.stencilFuncMask=i.stencilFuncMask,n.stencilWriteMask=i.stencilWriteMask,n.side=i.side,n.alphaToCoverage=i.alphaToCoverage,n.sampleCount=s,n.colorSpace=a,n.colorFormat=l,n.depthStencilFormat=c,n.primitiveTopology=u,d=!0),d}getRenderCacheKey(e){const{object:n,material:r}=e,i=this.utils,o=e.context;return[r.transparent,r.blending,r.premultipliedAlpha,r.blendSrc,r.blendDst,r.blendEquation,r.blendSrcAlpha,r.blendDstAlpha,r.blendEquationAlpha,r.colorWrite,r.depthWrite,r.depthTest,r.depthFunc,r.stencilWrite,r.stencilFunc,r.stencilFail,r.stencilZFail,r.stencilZPass,r.stencilFuncMask,r.stencilWriteMask,r.side,i.getSampleCount(o),i.getCurrentColorSpace(o),i.getCurrentColorFormat(o),i.getCurrentDepthStencilFormat(o),i.getPrimitiveTopology(n,r)].join()}createSampler(e){this.textureUtils.createSampler(e)}destroySampler(e){this.textureUtils.destroySampler(e)}createDefaultTexture(e){this.textureUtils.createDefaultTexture(e)}createTexture(e,n){this.textureUtils.createTexture(e,n)}updateTexture(e,n){this.textureUtils.updateTexture(e,n)}generateMipmaps(e){this.textureUtils.generateMipmaps(e)}destroyTexture(e){this.textureUtils.destroyTexture(e)}copyTextureToBuffer(e,n,r,i,o){return this.textureUtils.copyTextureToBuffer(e,n,r,i,o)}createNodeBuilder(e,n,r=null){return new Zwe(e,n,r)}createProgram(e){const n=this.get(e);n.module={module:this.device.createShaderModule({code:e.code,label:e.stage}),entryPoint:"main"}}destroyProgram(e){this.delete(e)}createRenderPipeline(e){this.pipelineUtils.createRenderPipeline(e)}createComputePipeline(e,n){this.pipelineUtils.createComputePipeline(e,n)}createBindings(e){this.bindingUtils.createBindings(e)}updateBindings(e){this.bindingUtils.createBindings(e)}updateBinding(e){this.bindingUtils.updateBinding(e)}createIndexAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.INDEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createStorageAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.STORAGE|GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}updateAttribute(e){this.attributeUtils.updateAttribute(e)}destroyAttribute(e){this.attributeUtils.destroyAttribute(e)}updateSize(){this.colorBuffer=this.textureUtils.getColorBuffer()}getMaxAnisotropy(){return 16}hasFeature(e){const n=this.adapter||gX;if(Object.values(Pw).includes(e)===!1)throw new Error("THREE.WebGPURenderer: Unknown WebGPU GPU feature: "+e);return n.features.has(e)}copyFramebufferToTexture(e,n){const r=this.get(n),{encoder:i,descriptor:o}=r;let s=null;e.isFramebufferTexture?s=this.context.getCurrentTexture():e.isDepthTexture&&(s=this.textureUtils.getDepthBuffer(n.depth,n.stencil));const a=this.get(e).texture;r.currentPass.end(),i.copyTextureToTexture({texture:s,origin:{x:0,y:0,z:0}},{texture:a},[e.image.width,e.image.height]),e.generateMipmaps&&this.textureUtils.generateMipmaps(e),o.colorAttachments[0].loadOp=gi.Load,n.depth&&(o.depthStencilAttachment.depthLoadOp=gi.Load),n.stencil&&(o.depthStencilAttachment.stencilLoadOp=gi.Load),r.currentPass=i.beginRenderPass(o),r.currentSets={attributes:{}}}}const uCe=cCe;class dCe extends j_e{constructor(e={}){let n;vG.isAvailable()?n=uCe:(n=wwe,console.warn("THREE.WebGPURenderer: WebGPU is not available, running under WebGL2 backend."));const r=new n(e);super(r,e),this.isWebGPURenderer=!0}}const fCe=dCe;class hCe{densityLowColour=new Tt("blue");densityHighColour=new Tt("red");renderHeightMap=!1;isCameraControlMode=!1}const tv={segX:"31.0",segY:"31.0",width:"10.0",height:"8.0",segXInt:"32",segArea:"1024",densityRangeLow:"0.0",densityRangeHigh:"10.0",densityRangeSize:"10.0"};function G7(t){return t.replace(/\$\{(\w+?)\}/g,function(e,n){return tv[n]!==void 0?tv[n]:"1.0"})}function MD(t){return new J(t.r,t.g,t.b)}function pCe(t){if(vG.isAvailable()){const b=new fCe({antialias:!0});console.log("browser supports webgpu rendering"),console.log("webgpu renderer context",b)}else console.log("browser does not support webgpu rendering");const e=y.useRef(null),n=y.useMemo(()=>{const b=new $s;t.params.renderHeightMap?b.vertexShader=G7(Sbe):b.vertexShader=G7(bbe),b.fragmentShader=G7(_be),b.side=ko;const v=new Float32Array(new Array(64*64).fill(0)),_=new Tc(v,64,64,Sm,$r);return _.needsUpdate=!0,b.uniforms={density:{value:_},hiCol:{value:MD(t.params.densityHighColour)},lowCol:{value:MD(t.params.densityLowColour)}},b},[t.params.densityHighColour,t.params.densityLowColour,t.params.renderHeightMap]);uG(b=>{o||(b.camera.setRotationFromAxisAngle(new J(1,0,0),-Math.PI/2),b.camera.position.set(0,10,0),e.current.lookAt(0,99,0))});const{outputSubs:r,worker:i}=t;y.useEffect(()=>{console.log("[renderer] [event] Creating worker"),r.push(v=>{b(v)});function b(v){v=v.slice(0);const _={densityRangeHigh:parseFloat(tv.densityRangeHigh),densityRangeLow:parseFloat(tv.densityRangeLow),densityRangeSize:parseFloat(tv.densityRangeSize)};function S(w){for(let E=0;E<w.length;E++){let T=Math.min(w[E],_.densityRangeHigh);T=Math.max(T,_.densityRangeLow),T=T/_.densityRangeSize,w[E]=T}const M=new Tc(w,64,64,Sm,$r);M.needsUpdate=!0,n.uniforms.density.value=M}if(console.log(`[renderer] [event] Received output, fps: ${v.length}`),v.length<30){console.log(`[renderer] [event] FPS is low: ${v.length}, interpolation in progress`);const w=Math.ceil((30-1)/v.length-1);console.log(`[renderer] [event] Interpolation multiplier: ${w}`);const M=[];for(let T=0;T<v.length;T++)if(console.log(`[renderer] [event] Interpolating frame ${T+1}/${v.length}`),M.push(v[T]),T+1<v.length){const N=v[T],R=v[T+1];for(let P=0;P<w;P++){const L=new Float32Array(N.length);for(let $=0;$<N.length;$++)L[$]=N[$]+(R[$]-N[$])*(P+1)/(w+1);M.push(L)}}console.log(`[renderer] [event] Interpolation complete, fps: ${M.length}`);let E=0;setInterval(()=>{E>=M.length||(S(M[E]),E++)},1e3/(v.length*w))}else{let w=0;setInterval(()=>{w>=v.length||(S(v[w]),w++)},1e3/v.length)}}},[r,n.uniforms.density]);const{disableInteraction:o}=t;let s=!1,a=!1;const l=new Xe(0,0),c=new Xe(0,0),u=b=>{b.uv!=null&&(s=!1,a=!0,l.set(b.uv.x,1-b.uv.y))},d=b=>{a&&b.uv!=null&&(s=!0,c.set(b.uv.x,1-b.uv.y))},f=b=>{s=!1,a=!1},h=1e3/30,g=100,x=new Xe(32,32);return setInterval(()=>{if(o||!s)return;const b=new Xe().subVectors(c,l).multiplyScalar(g),v=new Xe().add(c).multiply(x).round();l.set(c.x,c.y),s=!1,console.log("[event] Applying force",b,"at",v),i.postMessage({func:Mc.UPDATE_FORCE,args:{forceDelta:b,loc:v}})},h),qe.jsx("mesh",{...t,ref:e,material:n,onPointerUp:f,onPointerDown:u,onPointerMove:d,children:qe.jsx("planeGeometry",{args:[10,8,31,31]})})}function yM(){}yM.prototype.s2u=function(t){for(var e=this.s2uTable,n="",r=0;r<t.length;){var i=t[r++];if(!(i>=0&&i<=126||i>=161&&i<=223)&&r<t.length&&(i=i<<8|t[r++]),e[i]===void 0)return console.error("unknown char code "+i+"."),n;n+=String.fromCharCode(e[i])}return n};yM.prototype.s2uTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:65340,33120:65374,33121:8741,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:65293,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:65504,33170:65505,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:65506,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34624:9312,34625:9313,34626:9314,34627:9315,34628:9316,34629:9317,34630:9318,34631:9319,34632:9320,34633:9321,34634:9322,34635:9323,34636:9324,34637:9325,34638:9326,34639:9327,34640:9328,34641:9329,34642:9330,34643:9331,34644:8544,34645:8545,34646:8546,34647:8547,34648:8548,34649:8549,34650:8550,34651:8551,34652:8552,34653:8553,34655:13129,34656:13076,34657:13090,34658:13133,34659:13080,34660:13095,34661:13059,34662:13110,34663:13137,34664:13143,34665:13069,34666:13094,34667:13091,34668:13099,34669:13130,34670:13115,34671:13212,34672:13213,34673:13214,34674:13198,34675:13199,34676:13252,34677:13217,34686:13179,34688:12317,34689:12319,34690:8470,34691:13261,34692:8481,34693:12964,34694:12965,34695:12966,34696:12967,34697:12968,34698:12849,34699:12850,34700:12857,34701:13182,34702:13181,34703:13180,34704:8786,34705:8801,34706:8747,34707:8750,34708:8721,34709:8730,34710:8869,34711:8736,34712:8735,34713:8895,34714:8757,34715:8745,34716:8746,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081,60736:32394,60737:35100,60738:37704,60739:37512,60740:34012,60741:20425,60742:28859,60743:26161,60744:26824,60745:37625,60746:26363,60747:24389,60748:20008,60749:20193,60750:20220,60751:20224,60752:20227,60753:20281,60754:20310,60755:20370,60756:20362,60757:20378,60758:20372,60759:20429,60760:20544,60761:20514,60762:20479,60763:20510,60764:20550,60765:20592,60766:20546,60767:20628,60768:20724,60769:20696,60770:20810,60771:20836,60772:20893,60773:20926,60774:20972,60775:21013,60776:21148,60777:21158,60778:21184,60779:21211,60780:21248,60781:21255,60782:21284,60783:21362,60784:21395,60785:21426,60786:21469,60787:64014,60788:21660,60789:21642,60790:21673,60791:21759,60792:21894,60793:22361,60794:22373,60795:22444,60796:22472,60797:22471,60798:64015,60800:64016,60801:22686,60802:22706,60803:22795,60804:22867,60805:22875,60806:22877,60807:22883,60808:22948,60809:22970,60810:23382,60811:23488,60812:29999,60813:23512,60814:23532,60815:23582,60816:23718,60817:23738,60818:23797,60819:23847,60820:23891,60821:64017,60822:23874,60823:23917,60824:23992,60825:23993,60826:24016,60827:24353,60828:24372,60829:24423,60830:24503,60831:24542,60832:24669,60833:24709,60834:24714,60835:24798,60836:24789,60837:24864,60838:24818,60839:24849,60840:24887,60841:24880,60842:24984,60843:25107,60844:25254,60845:25589,60846:25696,60847:25757,60848:25806,60849:25934,60850:26112,60851:26133,60852:26171,60853:26121,60854:26158,60855:26142,60856:26148,60857:26213,60858:26199,60859:26201,60860:64018,60861:26227,60862:26265,60863:26272,60864:26290,60865:26303,60866:26362,60867:26382,60868:63785,60869:26470,60870:26555,60871:26706,60872:26560,60873:26625,60874:26692,60875:26831,60876:64019,60877:26984,60878:64020,60879:27032,60880:27106,60881:27184,60882:27243,60883:27206,60884:27251,60885:27262,60886:27362,60887:27364,60888:27606,60889:27711,60890:27740,60891:27782,60892:27759,60893:27866,60894:27908,60895:28039,60896:28015,60897:28054,60898:28076,60899:28111,60900:28152,60901:28146,60902:28156,60903:28217,60904:28252,60905:28199,60906:28220,60907:28351,60908:28552,60909:28597,60910:28661,60911:28677,60912:28679,60913:28712,60914:28805,60915:28843,60916:28943,60917:28932,60918:29020,60919:28998,60920:28999,60921:64021,60922:29121,60923:29182,60924:29361,60992:29374,60993:29476,60994:64022,60995:29559,60996:29629,60997:29641,60998:29654,60999:29667,61e3:29650,61001:29703,61002:29685,61003:29734,61004:29738,61005:29737,61006:29742,61007:29794,61008:29833,61009:29855,61010:29953,61011:30063,61012:30338,61013:30364,61014:30366,61015:30363,61016:30374,61017:64023,61018:30534,61019:21167,61020:30753,61021:30798,61022:30820,61023:30842,61024:31024,61025:64024,61026:64025,61027:64026,61028:31124,61029:64027,61030:31131,61031:31441,61032:31463,61033:64028,61034:31467,61035:31646,61036:64029,61037:32072,61038:32092,61039:32183,61040:32160,61041:32214,61042:32338,61043:32583,61044:32673,61045:64030,61046:33537,61047:33634,61048:33663,61049:33735,61050:33782,61051:33864,61052:33972,61053:34131,61054:34137,61056:34155,61057:64031,61058:34224,61059:64032,61060:64033,61061:34823,61062:35061,61063:35346,61064:35383,61065:35449,61066:35495,61067:35518,61068:35551,61069:64034,61070:35574,61071:35667,61072:35711,61073:36080,61074:36084,61075:36114,61076:36214,61077:64035,61078:36559,61079:64036,61080:64037,61081:36967,61082:37086,61083:64038,61084:37141,61085:37159,61086:37338,61087:37335,61088:37342,61089:37357,61090:37358,61091:37348,61092:37349,61093:37382,61094:37392,61095:37386,61096:37434,61097:37440,61098:37436,61099:37454,61100:37465,61101:37457,61102:37433,61103:37479,61104:37543,61105:37495,61106:37496,61107:37607,61108:37591,61109:37593,61110:37584,61111:64039,61112:37589,61113:37600,61114:37587,61115:37669,61116:37665,61117:37627,61118:64040,61119:37662,61120:37631,61121:37661,61122:37634,61123:37744,61124:37719,61125:37796,61126:37830,61127:37854,61128:37880,61129:37937,61130:37957,61131:37960,61132:38290,61133:63964,61134:64041,61135:38557,61136:38575,61137:38707,61138:38715,61139:38723,61140:38733,61141:38735,61142:38737,61143:38741,61144:38999,61145:39013,61146:64042,61147:64043,61148:39207,61149:64044,61150:39326,61151:39502,61152:39641,61153:39644,61154:39797,61155:39794,61156:39823,61157:39857,61158:39867,61159:39936,61160:40304,61161:40299,61162:64045,61163:40473,61164:40657,61167:8560,61168:8561,61169:8562,61170:8563,61171:8564,61172:8565,61173:8566,61174:8567,61175:8568,61176:8569,61177:65506,61178:65508,61179:65287,61180:65282,61504:57344,61505:57345,61506:57346,61507:57347,61508:57348,61509:57349,61510:57350,61511:57351,61512:57352,61513:57353,61514:57354,61515:57355,61516:57356,61517:57357,61518:57358,61519:57359,61520:57360,61521:57361,61522:57362,61523:57363,61524:57364,61525:57365,61526:57366,61527:57367,61528:57368,61529:57369,61530:57370,61531:57371,61532:57372,61533:57373,61534:57374,61535:57375,61536:57376,61537:57377,61538:57378,61539:57379,61540:57380,61541:57381,61542:57382,61543:57383,61544:57384,61545:57385,61546:57386,61547:57387,61548:57388,61549:57389,61550:57390,61551:57391,61552:57392,61553:57393,61554:57394,61555:57395,61556:57396,61557:57397,61558:57398,61559:57399,61560:57400,61561:57401,61562:57402,61563:57403,61564:57404,61565:57405,61566:57406,61568:57407,61569:57408,61570:57409,61571:57410,61572:57411,61573:57412,61574:57413,61575:57414,61576:57415,61577:57416,61578:57417,61579:57418,61580:57419,61581:57420,61582:57421,61583:57422,61584:57423,61585:57424,61586:57425,61587:57426,61588:57427,61589:57428,61590:57429,61591:57430,61592:57431,61593:57432,61594:57433,61595:57434,61596:57435,61597:57436,61598:57437,61599:57438,61600:57439,61601:57440,61602:57441,61603:57442,61604:57443,61605:57444,61606:57445,61607:57446,61608:57447,61609:57448,61610:57449,61611:57450,61612:57451,61613:57452,61614:57453,61615:57454,61616:57455,61617:57456,61618:57457,61619:57458,61620:57459,61621:57460,61622:57461,61623:57462,61624:57463,61625:57464,61626:57465,61627:57466,61628:57467,61629:57468,61630:57469,61631:57470,61632:57471,61633:57472,61634:57473,61635:57474,61636:57475,61637:57476,61638:57477,61639:57478,61640:57479,61641:57480,61642:57481,61643:57482,61644:57483,61645:57484,61646:57485,61647:57486,61648:57487,61649:57488,61650:57489,61651:57490,61652:57491,61653:57492,61654:57493,61655:57494,61656:57495,61657:57496,61658:57497,61659:57498,61660:57499,61661:57500,61662:57501,61663:57502,61664:57503,61665:57504,61666:57505,61667:57506,61668:57507,61669:57508,61670:57509,61671:57510,61672:57511,61673:57512,61674:57513,61675:57514,61676:57515,61677:57516,61678:57517,61679:57518,61680:57519,61681:57520,61682:57521,61683:57522,61684:57523,61685:57524,61686:57525,61687:57526,61688:57527,61689:57528,61690:57529,61691:57530,61692:57531,61760:57532,61761:57533,61762:57534,61763:57535,61764:57536,61765:57537,61766:57538,61767:57539,61768:57540,61769:57541,61770:57542,61771:57543,61772:57544,61773:57545,61774:57546,61775:57547,61776:57548,61777:57549,61778:57550,61779:57551,61780:57552,61781:57553,61782:57554,61783:57555,61784:57556,61785:57557,61786:57558,61787:57559,61788:57560,61789:57561,61790:57562,61791:57563,61792:57564,61793:57565,61794:57566,61795:57567,61796:57568,61797:57569,61798:57570,61799:57571,61800:57572,61801:57573,61802:57574,61803:57575,61804:57576,61805:57577,61806:57578,61807:57579,61808:57580,61809:57581,61810:57582,61811:57583,61812:57584,61813:57585,61814:57586,61815:57587,61816:57588,61817:57589,61818:57590,61819:57591,61820:57592,61821:57593,61822:57594,61824:57595,61825:57596,61826:57597,61827:57598,61828:57599,61829:57600,61830:57601,61831:57602,61832:57603,61833:57604,61834:57605,61835:57606,61836:57607,61837:57608,61838:57609,61839:57610,61840:57611,61841:57612,61842:57613,61843:57614,61844:57615,61845:57616,61846:57617,61847:57618,61848:57619,61849:57620,61850:57621,61851:57622,61852:57623,61853:57624,61854:57625,61855:57626,61856:57627,61857:57628,61858:57629,61859:57630,61860:57631,61861:57632,61862:57633,61863:57634,61864:57635,61865:57636,61866:57637,61867:57638,61868:57639,61869:57640,61870:57641,61871:57642,61872:57643,61873:57644,61874:57645,61875:57646,61876:57647,61877:57648,61878:57649,61879:57650,61880:57651,61881:57652,61882:57653,61883:57654,61884:57655,61885:57656,61886:57657,61887:57658,61888:57659,61889:57660,61890:57661,61891:57662,61892:57663,61893:57664,61894:57665,61895:57666,61896:57667,61897:57668,61898:57669,61899:57670,61900:57671,61901:57672,61902:57673,61903:57674,61904:57675,61905:57676,61906:57677,61907:57678,61908:57679,61909:57680,61910:57681,61911:57682,61912:57683,61913:57684,61914:57685,61915:57686,61916:57687,61917:57688,61918:57689,61919:57690,61920:57691,61921:57692,61922:57693,61923:57694,61924:57695,61925:57696,61926:57697,61927:57698,61928:57699,61929:57700,61930:57701,61931:57702,61932:57703,61933:57704,61934:57705,61935:57706,61936:57707,61937:57708,61938:57709,61939:57710,61940:57711,61941:57712,61942:57713,61943:57714,61944:57715,61945:57716,61946:57717,61947:57718,61948:57719,62016:57720,62017:57721,62018:57722,62019:57723,62020:57724,62021:57725,62022:57726,62023:57727,62024:57728,62025:57729,62026:57730,62027:57731,62028:57732,62029:57733,62030:57734,62031:57735,62032:57736,62033:57737,62034:57738,62035:57739,62036:57740,62037:57741,62038:57742,62039:57743,62040:57744,62041:57745,62042:57746,62043:57747,62044:57748,62045:57749,62046:57750,62047:57751,62048:57752,62049:57753,62050:57754,62051:57755,62052:57756,62053:57757,62054:57758,62055:57759,62056:57760,62057:57761,62058:57762,62059:57763,62060:57764,62061:57765,62062:57766,62063:57767,62064:57768,62065:57769,62066:57770,62067:57771,62068:57772,62069:57773,62070:57774,62071:57775,62072:57776,62073:57777,62074:57778,62075:57779,62076:57780,62077:57781,62078:57782,62080:57783,62081:57784,62082:57785,62083:57786,62084:57787,62085:57788,62086:57789,62087:57790,62088:57791,62089:57792,62090:57793,62091:57794,62092:57795,62093:57796,62094:57797,62095:57798,62096:57799,62097:57800,62098:57801,62099:57802,62100:57803,62101:57804,62102:57805,62103:57806,62104:57807,62105:57808,62106:57809,62107:57810,62108:57811,62109:57812,62110:57813,62111:57814,62112:57815,62113:57816,62114:57817,62115:57818,62116:57819,62117:57820,62118:57821,62119:57822,62120:57823,62121:57824,62122:57825,62123:57826,62124:57827,62125:57828,62126:57829,62127:57830,62128:57831,62129:57832,62130:57833,62131:57834,62132:57835,62133:57836,62134:57837,62135:57838,62136:57839,62137:57840,62138:57841,62139:57842,62140:57843,62141:57844,62142:57845,62143:57846,62144:57847,62145:57848,62146:57849,62147:57850,62148:57851,62149:57852,62150:57853,62151:57854,62152:57855,62153:57856,62154:57857,62155:57858,62156:57859,62157:57860,62158:57861,62159:57862,62160:57863,62161:57864,62162:57865,62163:57866,62164:57867,62165:57868,62166:57869,62167:57870,62168:57871,62169:57872,62170:57873,62171:57874,62172:57875,62173:57876,62174:57877,62175:57878,62176:57879,62177:57880,62178:57881,62179:57882,62180:57883,62181:57884,62182:57885,62183:57886,62184:57887,62185:57888,62186:57889,62187:57890,62188:57891,62189:57892,62190:57893,62191:57894,62192:57895,62193:57896,62194:57897,62195:57898,62196:57899,62197:57900,62198:57901,62199:57902,62200:57903,62201:57904,62202:57905,62203:57906,62204:57907,62272:57908,62273:57909,62274:57910,62275:57911,62276:57912,62277:57913,62278:57914,62279:57915,62280:57916,62281:57917,62282:57918,62283:57919,62284:57920,62285:57921,62286:57922,62287:57923,62288:57924,62289:57925,62290:57926,62291:57927,62292:57928,62293:57929,62294:57930,62295:57931,62296:57932,62297:57933,62298:57934,62299:57935,62300:57936,62301:57937,62302:57938,62303:57939,62304:57940,62305:57941,62306:57942,62307:57943,62308:57944,62309:57945,62310:57946,62311:57947,62312:57948,62313:57949,62314:57950,62315:57951,62316:57952,62317:57953,62318:57954,62319:57955,62320:57956,62321:57957,62322:57958,62323:57959,62324:57960,62325:57961,62326:57962,62327:57963,62328:57964,62329:57965,62330:57966,62331:57967,62332:57968,62333:57969,62334:57970,62336:57971,62337:57972,62338:57973,62339:57974,62340:57975,62341:57976,62342:57977,62343:57978,62344:57979,62345:57980,62346:57981,62347:57982,62348:57983,62349:57984,62350:57985,62351:57986,62352:57987,62353:57988,62354:57989,62355:57990,62356:57991,62357:57992,62358:57993,62359:57994,62360:57995,62361:57996,62362:57997,62363:57998,62364:57999,62365:58e3,62366:58001,62367:58002,62368:58003,62369:58004,62370:58005,62371:58006,62372:58007,62373:58008,62374:58009,62375:58010,62376:58011,62377:58012,62378:58013,62379:58014,62380:58015,62381:58016,62382:58017,62383:58018,62384:58019,62385:58020,62386:58021,62387:58022,62388:58023,62389:58024,62390:58025,62391:58026,62392:58027,62393:58028,62394:58029,62395:58030,62396:58031,62397:58032,62398:58033,62399:58034,62400:58035,62401:58036,62402:58037,62403:58038,62404:58039,62405:58040,62406:58041,62407:58042,62408:58043,62409:58044,62410:58045,62411:58046,62412:58047,62413:58048,62414:58049,62415:58050,62416:58051,62417:58052,62418:58053,62419:58054,62420:58055,62421:58056,62422:58057,62423:58058,62424:58059,62425:58060,62426:58061,62427:58062,62428:58063,62429:58064,62430:58065,62431:58066,62432:58067,62433:58068,62434:58069,62435:58070,62436:58071,62437:58072,62438:58073,62439:58074,62440:58075,62441:58076,62442:58077,62443:58078,62444:58079,62445:58080,62446:58081,62447:58082,62448:58083,62449:58084,62450:58085,62451:58086,62452:58087,62453:58088,62454:58089,62455:58090,62456:58091,62457:58092,62458:58093,62459:58094,62460:58095,62528:58096,62529:58097,62530:58098,62531:58099,62532:58100,62533:58101,62534:58102,62535:58103,62536:58104,62537:58105,62538:58106,62539:58107,62540:58108,62541:58109,62542:58110,62543:58111,62544:58112,62545:58113,62546:58114,62547:58115,62548:58116,62549:58117,62550:58118,62551:58119,62552:58120,62553:58121,62554:58122,62555:58123,62556:58124,62557:58125,62558:58126,62559:58127,62560:58128,62561:58129,62562:58130,62563:58131,62564:58132,62565:58133,62566:58134,62567:58135,62568:58136,62569:58137,62570:58138,62571:58139,62572:58140,62573:58141,62574:58142,62575:58143,62576:58144,62577:58145,62578:58146,62579:58147,62580:58148,62581:58149,62582:58150,62583:58151,62584:58152,62585:58153,62586:58154,62587:58155,62588:58156,62589:58157,62590:58158,62592:58159,62593:58160,62594:58161,62595:58162,62596:58163,62597:58164,62598:58165,62599:58166,62600:58167,62601:58168,62602:58169,62603:58170,62604:58171,62605:58172,62606:58173,62607:58174,62608:58175,62609:58176,62610:58177,62611:58178,62612:58179,62613:58180,62614:58181,62615:58182,62616:58183,62617:58184,62618:58185,62619:58186,62620:58187,62621:58188,62622:58189,62623:58190,62624:58191,62625:58192,62626:58193,62627:58194,62628:58195,62629:58196,62630:58197,62631:58198,62632:58199,62633:58200,62634:58201,62635:58202,62636:58203,62637:58204,62638:58205,62639:58206,62640:58207,62641:58208,62642:58209,62643:58210,62644:58211,62645:58212,62646:58213,62647:58214,62648:58215,62649:58216,62650:58217,62651:58218,62652:58219,62653:58220,62654:58221,62655:58222,62656:58223,62657:58224,62658:58225,62659:58226,62660:58227,62661:58228,62662:58229,62663:58230,62664:58231,62665:58232,62666:58233,62667:58234,62668:58235,62669:58236,62670:58237,62671:58238,62672:58239,62673:58240,62674:58241,62675:58242,62676:58243,62677:58244,62678:58245,62679:58246,62680:58247,62681:58248,62682:58249,62683:58250,62684:58251,62685:58252,62686:58253,62687:58254,62688:58255,62689:58256,62690:58257,62691:58258,62692:58259,62693:58260,62694:58261,62695:58262,62696:58263,62697:58264,62698:58265,62699:58266,62700:58267,62701:58268,62702:58269,62703:58270,62704:58271,62705:58272,62706:58273,62707:58274,62708:58275,62709:58276,62710:58277,62711:58278,62712:58279,62713:58280,62714:58281,62715:58282,62716:58283,62784:58284,62785:58285,62786:58286,62787:58287,62788:58288,62789:58289,62790:58290,62791:58291,62792:58292,62793:58293,62794:58294,62795:58295,62796:58296,62797:58297,62798:58298,62799:58299,62800:58300,62801:58301,62802:58302,62803:58303,62804:58304,62805:58305,62806:58306,62807:58307,62808:58308,62809:58309,62810:58310,62811:58311,62812:58312,62813:58313,62814:58314,62815:58315,62816:58316,62817:58317,62818:58318,62819:58319,62820:58320,62821:58321,62822:58322,62823:58323,62824:58324,62825:58325,62826:58326,62827:58327,62828:58328,62829:58329,62830:58330,62831:58331,62832:58332,62833:58333,62834:58334,62835:58335,62836:58336,62837:58337,62838:58338,62839:58339,62840:58340,62841:58341,62842:58342,62843:58343,62844:58344,62845:58345,62846:58346,62848:58347,62849:58348,62850:58349,62851:58350,62852:58351,62853:58352,62854:58353,62855:58354,62856:58355,62857:58356,62858:58357,62859:58358,62860:58359,62861:58360,62862:58361,62863:58362,62864:58363,62865:58364,62866:58365,62867:58366,62868:58367,62869:58368,62870:58369,62871:58370,62872:58371,62873:58372,62874:58373,62875:58374,62876:58375,62877:58376,62878:58377,62879:58378,62880:58379,62881:58380,62882:58381,62883:58382,62884:58383,62885:58384,62886:58385,62887:58386,62888:58387,62889:58388,62890:58389,62891:58390,62892:58391,62893:58392,62894:58393,62895:58394,62896:58395,62897:58396,62898:58397,62899:58398,62900:58399,62901:58400,62902:58401,62903:58402,62904:58403,62905:58404,62906:58405,62907:58406,62908:58407,62909:58408,62910:58409,62911:58410,62912:58411,62913:58412,62914:58413,62915:58414,62916:58415,62917:58416,62918:58417,62919:58418,62920:58419,62921:58420,62922:58421,62923:58422,62924:58423,62925:58424,62926:58425,62927:58426,62928:58427,62929:58428,62930:58429,62931:58430,62932:58431,62933:58432,62934:58433,62935:58434,62936:58435,62937:58436,62938:58437,62939:58438,62940:58439,62941:58440,62942:58441,62943:58442,62944:58443,62945:58444,62946:58445,62947:58446,62948:58447,62949:58448,62950:58449,62951:58450,62952:58451,62953:58452,62954:58453,62955:58454,62956:58455,62957:58456,62958:58457,62959:58458,62960:58459,62961:58460,62962:58461,62963:58462,62964:58463,62965:58464,62966:58465,62967:58466,62968:58467,62969:58468,62970:58469,62971:58470,62972:58471,63040:58472,63041:58473,63042:58474,63043:58475,63044:58476,63045:58477,63046:58478,63047:58479,63048:58480,63049:58481,63050:58482,63051:58483,63052:58484,63053:58485,63054:58486,63055:58487,63056:58488,63057:58489,63058:58490,63059:58491,63060:58492,63061:58493,63062:58494,63063:58495,63064:58496,63065:58497,63066:58498,63067:58499,63068:58500,63069:58501,63070:58502,63071:58503,63072:58504,63073:58505,63074:58506,63075:58507,63076:58508,63077:58509,63078:58510,63079:58511,63080:58512,63081:58513,63082:58514,63083:58515,63084:58516,63085:58517,63086:58518,63087:58519,63088:58520,63089:58521,63090:58522,63091:58523,63092:58524,63093:58525,63094:58526,63095:58527,63096:58528,63097:58529,63098:58530,63099:58531,63100:58532,63101:58533,63102:58534,63104:58535,63105:58536,63106:58537,63107:58538,63108:58539,63109:58540,63110:58541,63111:58542,63112:58543,63113:58544,63114:58545,63115:58546,63116:58547,63117:58548,63118:58549,63119:58550,63120:58551,63121:58552,63122:58553,63123:58554,63124:58555,63125:58556,63126:58557,63127:58558,63128:58559,63129:58560,63130:58561,63131:58562,63132:58563,63133:58564,63134:58565,63135:58566,63136:58567,63137:58568,63138:58569,63139:58570,63140:58571,63141:58572,63142:58573,63143:58574,63144:58575,63145:58576,63146:58577,63147:58578,63148:58579,63149:58580,63150:58581,63151:58582,63152:58583,63153:58584,63154:58585,63155:58586,63156:58587,63157:58588,63158:58589,63159:58590,63160:58591,63161:58592,63162:58593,63163:58594,63164:58595,63165:58596,63166:58597,63167:58598,63168:58599,63169:58600,63170:58601,63171:58602,63172:58603,63173:58604,63174:58605,63175:58606,63176:58607,63177:58608,63178:58609,63179:58610,63180:58611,63181:58612,63182:58613,63183:58614,63184:58615,63185:58616,63186:58617,63187:58618,63188:58619,63189:58620,63190:58621,63191:58622,63192:58623,63193:58624,63194:58625,63195:58626,63196:58627,63197:58628,63198:58629,63199:58630,63200:58631,63201:58632,63202:58633,63203:58634,63204:58635,63205:58636,63206:58637,63207:58638,63208:58639,63209:58640,63210:58641,63211:58642,63212:58643,63213:58644,63214:58645,63215:58646,63216:58647,63217:58648,63218:58649,63219:58650,63220:58651,63221:58652,63222:58653,63223:58654,63224:58655,63225:58656,63226:58657,63227:58658,63228:58659,63296:58660,63297:58661,63298:58662,63299:58663,63300:58664,63301:58665,63302:58666,63303:58667,63304:58668,63305:58669,63306:58670,63307:58671,63308:58672,63309:58673,63310:58674,63311:58675,63312:58676,63313:58677,63314:58678,63315:58679,63316:58680,63317:58681,63318:58682,63319:58683,63320:58684,63321:58685,63322:58686,63323:58687,63324:58688,63325:58689,63326:58690,63327:58691,63328:58692,63329:58693,63330:58694,63331:58695,63332:58696,63333:58697,63334:58698,63335:58699,63336:58700,63337:58701,63338:58702,63339:58703,63340:58704,63341:58705,63342:58706,63343:58707,63344:58708,63345:58709,63346:58710,63347:58711,63348:58712,63349:58713,63350:58714,63351:58715,63352:58716,63353:58717,63354:58718,63355:58719,63356:58720,63357:58721,63358:58722,63360:58723,63361:58724,63362:58725,63363:58726,63364:58727,63365:58728,63366:58729,63367:58730,63368:58731,63369:58732,63370:58733,63371:58734,63372:58735,63373:58736,63374:58737,63375:58738,63376:58739,63377:58740,63378:58741,63379:58742,63380:58743,63381:58744,63382:58745,63383:58746,63384:58747,63385:58748,63386:58749,63387:58750,63388:58751,63389:58752,63390:58753,63391:58754,63392:58755,63393:58756,63394:58757,63395:58758,63396:58759,63397:58760,63398:58761,63399:58762,63400:58763,63401:58764,63402:58765,63403:58766,63404:58767,63405:58768,63406:58769,63407:58770,63408:58771,63409:58772,63410:58773,63411:58774,63412:58775,63413:58776,63414:58777,63415:58778,63416:58779,63417:58780,63418:58781,63419:58782,63420:58783,63421:58784,63422:58785,63423:58786,63424:58787,63425:58788,63426:58789,63427:58790,63428:58791,63429:58792,63430:58793,63431:58794,63432:58795,63433:58796,63434:58797,63435:58798,63436:58799,63437:58800,63438:58801,63439:58802,63440:58803,63441:58804,63442:58805,63443:58806,63444:58807,63445:58808,63446:58809,63447:58810,63448:58811,63449:58812,63450:58813,63451:58814,63452:58815,63453:58816,63454:58817,63455:58818,63456:58819,63457:58820,63458:58821,63459:58822,63460:58823,63461:58824,63462:58825,63463:58826,63464:58827,63465:58828,63466:58829,63467:58830,63468:58831,63469:58832,63470:58833,63471:58834,63472:58835,63473:58836,63474:58837,63475:58838,63476:58839,63477:58840,63478:58841,63479:58842,63480:58843,63481:58844,63482:58845,63483:58846,63484:58847,63552:58848,63553:58849,63554:58850,63555:58851,63556:58852,63557:58853,63558:58854,63559:58855,63560:58856,63561:58857,63562:58858,63563:58859,63564:58860,63565:58861,63566:58862,63567:58863,63568:58864,63569:58865,63570:58866,63571:58867,63572:58868,63573:58869,63574:58870,63575:58871,63576:58872,63577:58873,63578:58874,63579:58875,63580:58876,63581:58877,63582:58878,63583:58879,63584:58880,63585:58881,63586:58882,63587:58883,63588:58884,63589:58885,63590:58886,63591:58887,63592:58888,63593:58889,63594:58890,63595:58891,63596:58892,63597:58893,63598:58894,63599:58895,63600:58896,63601:58897,63602:58898,63603:58899,63604:58900,63605:58901,63606:58902,63607:58903,63608:58904,63609:58905,63610:58906,63611:58907,63612:58908,63613:58909,63614:58910,63616:58911,63617:58912,63618:58913,63619:58914,63620:58915,63621:58916,63622:58917,63623:58918,63624:58919,63625:58920,63626:58921,63627:58922,63628:58923,63629:58924,63630:58925,63631:58926,63632:58927,63633:58928,63634:58929,63635:58930,63636:58931,63637:58932,63638:58933,63639:58934,63640:58935,63641:58936,63642:58937,63643:58938,63644:58939,63645:58940,63646:58941,63647:58942,63648:58943,63649:58944,63650:58945,63651:58946,63652:58947,63653:58948,63654:58949,63655:58950,63656:58951,63657:58952,63658:58953,63659:58954,63660:58955,63661:58956,63662:58957,63663:58958,63664:58959,63665:58960,63666:58961,63667:58962,63668:58963,63669:58964,63670:58965,63671:58966,63672:58967,63673:58968,63674:58969,63675:58970,63676:58971,63677:58972,63678:58973,63679:58974,63680:58975,63681:58976,63682:58977,63683:58978,63684:58979,63685:58980,63686:58981,63687:58982,63688:58983,63689:58984,63690:58985,63691:58986,63692:58987,63693:58988,63694:58989,63695:58990,63696:58991,63697:58992,63698:58993,63699:58994,63700:58995,63701:58996,63702:58997,63703:58998,63704:58999,63705:59e3,63706:59001,63707:59002,63708:59003,63709:59004,63710:59005,63711:59006,63712:59007,63713:59008,63714:59009,63715:59010,63716:59011,63717:59012,63718:59013,63719:59014,63720:59015,63721:59016,63722:59017,63723:59018,63724:59019,63725:59020,63726:59021,63727:59022,63728:59023,63729:59024,63730:59025,63731:59026,63732:59027,63733:59028,63734:59029,63735:59030,63736:59031,63737:59032,63738:59033,63739:59034,63740:59035,64064:8560,64065:8561,64066:8562,64067:8563,64068:8564,64069:8565,64070:8566,64071:8567,64072:8568,64073:8569,64074:8544,64075:8545,64076:8546,64077:8547,64078:8548,64079:8549,64080:8550,64081:8551,64082:8552,64083:8553,64084:65506,64085:65508,64086:65287,64087:65282,64088:12849,64089:8470,64090:8481,64091:8757,64092:32394,64093:35100,64094:37704,64095:37512,64096:34012,64097:20425,64098:28859,64099:26161,64100:26824,64101:37625,64102:26363,64103:24389,64104:20008,64105:20193,64106:20220,64107:20224,64108:20227,64109:20281,64110:20310,64111:20370,64112:20362,64113:20378,64114:20372,64115:20429,64116:20544,64117:20514,64118:20479,64119:20510,64120:20550,64121:20592,64122:20546,64123:20628,64124:20724,64125:20696,64126:20810,64128:20836,64129:20893,64130:20926,64131:20972,64132:21013,64133:21148,64134:21158,64135:21184,64136:21211,64137:21248,64138:21255,64139:21284,64140:21362,64141:21395,64142:21426,64143:21469,64144:64014,64145:21660,64146:21642,64147:21673,64148:21759,64149:21894,64150:22361,64151:22373,64152:22444,64153:22472,64154:22471,64155:64015,64156:64016,64157:22686,64158:22706,64159:22795,64160:22867,64161:22875,64162:22877,64163:22883,64164:22948,64165:22970,64166:23382,64167:23488,64168:29999,64169:23512,64170:23532,64171:23582,64172:23718,64173:23738,64174:23797,64175:23847,64176:23891,64177:64017,64178:23874,64179:23917,64180:23992,64181:23993,64182:24016,64183:24353,64184:24372,64185:24423,64186:24503,64187:24542,64188:24669,64189:24709,64190:24714,64191:24798,64192:24789,64193:24864,64194:24818,64195:24849,64196:24887,64197:24880,64198:24984,64199:25107,64200:25254,64201:25589,64202:25696,64203:25757,64204:25806,64205:25934,64206:26112,64207:26133,64208:26171,64209:26121,64210:26158,64211:26142,64212:26148,64213:26213,64214:26199,64215:26201,64216:64018,64217:26227,64218:26265,64219:26272,64220:26290,64221:26303,64222:26362,64223:26382,64224:63785,64225:26470,64226:26555,64227:26706,64228:26560,64229:26625,64230:26692,64231:26831,64232:64019,64233:26984,64234:64020,64235:27032,64236:27106,64237:27184,64238:27243,64239:27206,64240:27251,64241:27262,64242:27362,64243:27364,64244:27606,64245:27711,64246:27740,64247:27782,64248:27759,64249:27866,64250:27908,64251:28039,64252:28015,64320:28054,64321:28076,64322:28111,64323:28152,64324:28146,64325:28156,64326:28217,64327:28252,64328:28199,64329:28220,64330:28351,64331:28552,64332:28597,64333:28661,64334:28677,64335:28679,64336:28712,64337:28805,64338:28843,64339:28943,64340:28932,64341:29020,64342:28998,64343:28999,64344:64021,64345:29121,64346:29182,64347:29361,64348:29374,64349:29476,64350:64022,64351:29559,64352:29629,64353:29641,64354:29654,64355:29667,64356:29650,64357:29703,64358:29685,64359:29734,64360:29738,64361:29737,64362:29742,64363:29794,64364:29833,64365:29855,64366:29953,64367:30063,64368:30338,64369:30364,64370:30366,64371:30363,64372:30374,64373:64023,64374:30534,64375:21167,64376:30753,64377:30798,64378:30820,64379:30842,64380:31024,64381:64024,64382:64025,64384:64026,64385:31124,64386:64027,64387:31131,64388:31441,64389:31463,64390:64028,64391:31467,64392:31646,64393:64029,64394:32072,64395:32092,64396:32183,64397:32160,64398:32214,64399:32338,64400:32583,64401:32673,64402:64030,64403:33537,64404:33634,64405:33663,64406:33735,64407:33782,64408:33864,64409:33972,64410:34131,64411:34137,64412:34155,64413:64031,64414:34224,64415:64032,64416:64033,64417:34823,64418:35061,64419:35346,64420:35383,64421:35449,64422:35495,64423:35518,64424:35551,64425:64034,64426:35574,64427:35667,64428:35711,64429:36080,64430:36084,64431:36114,64432:36214,64433:64035,64434:36559,64435:64036,64436:64037,64437:36967,64438:37086,64439:64038,64440:37141,64441:37159,64442:37338,64443:37335,64444:37342,64445:37357,64446:37358,64447:37348,64448:37349,64449:37382,64450:37392,64451:37386,64452:37434,64453:37440,64454:37436,64455:37454,64456:37465,64457:37457,64458:37433,64459:37479,64460:37543,64461:37495,64462:37496,64463:37607,64464:37591,64465:37593,64466:37584,64467:64039,64468:37589,64469:37600,64470:37587,64471:37669,64472:37665,64473:37627,64474:64040,64475:37662,64476:37631,64477:37661,64478:37634,64479:37744,64480:37719,64481:37796,64482:37830,64483:37854,64484:37880,64485:37937,64486:37957,64487:37960,64488:38290,64489:63964,64490:64041,64491:38557,64492:38575,64493:38707,64494:38715,64495:38723,64496:38733,64497:38735,64498:38737,64499:38741,64500:38999,64501:39013,64502:64042,64503:64043,64504:39207,64505:64044,64506:39326,64507:39502,64508:39641,64576:39644,64577:39797,64578:39794,64579:39823,64580:39857,64581:39867,64582:39936,64583:40304,64584:40299,64585:64045,64586:40473,64587:40657};function RD(t,e){this.dv=new DataView(t),this.offset=0,this.littleEndian=e!==void 0?e:!0,this.encoder=new yM}RD.prototype={constructor:RD,getInt8:function(){var t=this.dv.getInt8(this.offset);return this.offset+=1,t},getInt8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt8());return e},getUint8:function(){var t=this.dv.getUint8(this.offset);return this.offset+=1,t},getUint8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint8());return e},getInt16:function(){var t=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},getInt16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt16());return e},getUint16:function(){var t=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},getUint16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint16());return e},getInt32:function(){var t=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},getInt32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt32());return e},getUint32:function(){var t=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},getUint32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint32());return e},getFloat32:function(){var t=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},getFloat32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat32());return e},getFloat64:function(){var t=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},getFloat64Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat64());return e},getIndex:function(t,e){switch(t){case 1:return e===!0?this.getUint8():this.getInt8();case 2:return e===!0?this.getUint16():this.getInt16();case 4:return this.getInt32();default:throw"unknown number type "+t+" exception."}},getIndexArray:function(t,e,n){for(var r=[],i=0;i<e;i++)r.push(this.getIndex(t,n));return r},getChars:function(t){for(var e="";t>0;){var n=this.getUint8();if(t--,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getSjisStringsAsUnicode:function(t){for(var e=[];t>0;){var n=this.getUint8();if(t--,n===0)break;e.push(n)}for(;t>0;)this.getUint8(),t--;return this.encoder.s2u(new Uint8Array(e))},getUnicodeStrings:function(t){for(var e="";t>0;){var n=this.getUint16();if(t-=2,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getTextBuffer:function(){var t=this.getUint32();return this.getUnicodeStrings(t)}};function AD(){}AD.prototype={constructor:AD,leftToRightVector3:function(t){t[2]=-t[2]},leftToRightQuaternion:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightEuler:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightIndexOrder:function(t){var e=t[2];t[2]=t[0],t[0]=e},leftToRightVector3Range:function(t,e){var n=-e[2];e[2]=-t[2],t[2]=n},leftToRightEulerRange:function(t,e){var n=-e[0],r=-e[1];e[0]=-t[0],e[1]=-t[1],t[0]=n,t[1]=r}};/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var t=function(){try{var n={},r=Object.defineProperty,i=r(n,n,n)&&r}catch{}return i}(),e=function(n){if(this==null)throw TypeError();var r=String(this),i=r.length,o=n?Number(n):0;if(o!=o&&(o=0),!(o<0||o>=i)){var s=r.charCodeAt(o),a;return s>=55296&&s<=56319&&i>o+1&&(a=r.charCodeAt(o+1),a>=56320&&a<=57343)?(s-55296)*1024+a-56320+65536:s}};t?t(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e}();function vX(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}var mCe=new vX,gCe=new vX,yX=new Uint8Array(30),xX=new Uint16Array(30),vCe=new Uint8Array(30),yCe=new Uint16Array(30);function bX(t,e,n,r){var i,o;for(i=0;i<n;++i)t[i]=0;for(i=0;i<30-n;++i)t[i+n]=i/n|0;for(o=r,i=0;i<30;++i)e[i]=o,o+=1<<t[i]}function xCe(t,e){var n;for(n=0;n<7;++n)t.table[n]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,n=0;n<24;++n)t.trans[n]=256+n;for(n=0;n<144;++n)t.trans[24+n]=n;for(n=0;n<8;++n)t.trans[24+144+n]=280+n;for(n=0;n<112;++n)t.trans[24+144+8+n]=144+n;for(n=0;n<5;++n)e.table[n]=0;for(e.table[5]=32,n=0;n<32;++n)e.trans[n]=n}xCe(mCe,gCe);bX(yX,xX,4,3);bX(vCe,yCe,2,1);yX[28]=0;xX[28]=258;function ap(t,e,n,r,i){return Math.pow(1-i,3)*t+3*Math.pow(1-i,2)*i*e+3*(1-i)*Math.pow(i,2)*n+Math.pow(i,3)*r}function hd(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}hd.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};hd.prototype.addPoint=function(t,e){typeof t=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),typeof e=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))};hd.prototype.addX=function(t){this.addPoint(t,null)};hd.prototype.addY=function(t){this.addPoint(null,t)};hd.prototype.addBezier=function(t,e,n,r,i,o,s,a){var l=[t,e],c=[n,r],u=[i,o],d=[s,a];this.addPoint(t,e),this.addPoint(s,a);for(var f=0;f<=1;f++){var h=6*l[f]-12*c[f]+6*u[f],g=-3*l[f]+9*c[f]-9*u[f]+3*d[f],x=3*c[f]-3*l[f];if(g===0){if(h===0)continue;var b=-x/h;0<b&&b<1&&(f===0&&this.addX(ap(l[f],c[f],u[f],d[f],b)),f===1&&this.addY(ap(l[f],c[f],u[f],d[f],b)));continue}var v=Math.pow(h,2)-4*x*g;if(!(v<0)){var _=(-h+Math.sqrt(v))/(2*g);0<_&&_<1&&(f===0&&this.addX(ap(l[f],c[f],u[f],d[f],_)),f===1&&this.addY(ap(l[f],c[f],u[f],d[f],_)));var S=(-h-Math.sqrt(v))/(2*g);0<S&&S<1&&(f===0&&this.addX(ap(l[f],c[f],u[f],d[f],S)),f===1&&this.addY(ap(l[f],c[f],u[f],d[f],S)))}}};hd.prototype.addQuad=function(t,e,n,r,i,o){var s=t+.6666666666666666*(n-t),a=e+2/3*(r-e),l=s+1/3*(i-t),c=a+1/3*(o-e);this.addBezier(t,e,s,a,l,c,i,o)};function Li(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}Li.prototype.moveTo=function(t,e){this.commands.push({type:"M",x:t,y:e})};Li.prototype.lineTo=function(t,e){this.commands.push({type:"L",x:t,y:e})};Li.prototype.curveTo=Li.prototype.bezierCurveTo=function(t,e,n,r,i,o){this.commands.push({type:"C",x1:t,y1:e,x2:n,y2:r,x:i,y:o})};Li.prototype.quadTo=Li.prototype.quadraticCurveTo=function(t,e,n,r){this.commands.push({type:"Q",x1:t,y1:e,x:n,y:r})};Li.prototype.close=Li.prototype.closePath=function(){this.commands.push({type:"Z"})};Li.prototype.extend=function(t){if(t.commands)t=t.commands;else if(t instanceof hd){var e=t;this.moveTo(e.x1,e.y1),this.lineTo(e.x2,e.y1),this.lineTo(e.x2,e.y2),this.lineTo(e.x1,e.y2),this.close();return}Array.prototype.push.apply(this.commands,t)};Li.prototype.getBoundingBox=function(){for(var t=new hd,e=0,n=0,r=0,i=0,o=0;o<this.commands.length;o++){var s=this.commands[o];switch(s.type){case"M":t.addPoint(s.x,s.y),e=r=s.x,n=i=s.y;break;case"L":t.addPoint(s.x,s.y),r=s.x,i=s.y;break;case"Q":t.addQuad(r,i,s.x1,s.y1,s.x,s.y),r=s.x,i=s.y;break;case"C":t.addBezier(r,i,s.x1,s.y1,s.x2,s.y2,s.x,s.y),r=s.x,i=s.y;break;case"Z":r=e,i=n;break;default:throw new Error("Unexpected path command "+s.type)}}return t.isEmpty()&&t.addPoint(0,0),t};Li.prototype.draw=function(t){t.beginPath();for(var e=0;e<this.commands.length;e+=1){var n=this.commands[e];n.type==="M"?t.moveTo(n.x,n.y):n.type==="L"?t.lineTo(n.x,n.y):n.type==="C"?t.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):n.type==="Q"?t.quadraticCurveTo(n.x1,n.y1,n.x,n.y):n.type==="Z"&&t.closePath()}this.fill&&(t.fillStyle=this.fill,t.fill()),this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.stroke())};Li.prototype.toPathData=function(t){t=t!==void 0?t:2;function e(s){return Math.round(s)===s?""+Math.round(s):s.toFixed(t)}function n(){for(var s=arguments,a="",l=0;l<arguments.length;l+=1){var c=s[l];c>=0&&l>0&&(a+=" "),a+=e(c)}return a}for(var r="",i=0;i<this.commands.length;i+=1){var o=this.commands[i];o.type==="M"?r+="M"+n(o.x,o.y):o.type==="L"?r+="L"+n(o.x,o.y):o.type==="C"?r+="C"+n(o.x1,o.y1,o.x2,o.y2,o.x,o.y):o.type==="Q"?r+="Q"+n(o.x1,o.y1,o.x,o.y):o.type==="Z"&&(r+="Z")}return r};Li.prototype.toSVG=function(t){var e='<path d="';return e+=this.toPathData(t),e+='"',this.fill&&this.fill!=="black"&&(this.fill===null?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+="/>",e};Li.prototype.toDOMElement=function(t){var e=this.toPathData(t),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n};function SX(t){throw new Error(t)}function PD(t,e){t||SX(e)}var yn={fail:SX,argument:PD,assert:PD},ND=32768,ID=2147483648,qm={},At={},mn={};function ul(t){return function(){return t}}At.BYTE=function(t){return yn.argument(t>=0&&t<=255,"Byte value should be between 0 and 255."),[t]};mn.BYTE=ul(1);At.CHAR=function(t){return[t.charCodeAt(0)]};mn.CHAR=ul(1);At.CHARARRAY=function(t){typeof t>"u"&&(t="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var e=[],n=0;n<t.length;n+=1)e[n]=t.charCodeAt(n);return e};mn.CHARARRAY=function(t){return typeof t>"u"?0:t.length};At.USHORT=function(t){return[t>>8&255,t&255]};mn.USHORT=ul(2);At.SHORT=function(t){return t>=ND&&(t=-(2*ND-t)),[t>>8&255,t&255]};mn.SHORT=ul(2);At.UINT24=function(t){return[t>>16&255,t>>8&255,t&255]};mn.UINT24=ul(3);At.ULONG=function(t){return[t>>24&255,t>>16&255,t>>8&255,t&255]};mn.ULONG=ul(4);At.LONG=function(t){return t>=ID&&(t=-(2*ID-t)),[t>>24&255,t>>16&255,t>>8&255,t&255]};mn.LONG=ul(4);At.FIXED=At.ULONG;mn.FIXED=mn.ULONG;At.FWORD=At.SHORT;mn.FWORD=mn.SHORT;At.UFWORD=At.USHORT;mn.UFWORD=mn.USHORT;At.LONGDATETIME=function(t){return[0,0,0,0,t>>24&255,t>>16&255,t>>8&255,t&255]};mn.LONGDATETIME=ul(8);At.TAG=function(t){return yn.argument(t.length===4,"Tag should be exactly 4 ASCII characters."),[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]};mn.TAG=ul(4);At.Card8=At.BYTE;mn.Card8=mn.BYTE;At.Card16=At.USHORT;mn.Card16=mn.USHORT;At.OffSize=At.BYTE;mn.OffSize=mn.BYTE;At.SID=At.USHORT;mn.SID=mn.USHORT;At.NUMBER=function(t){return t>=-107&&t<=107?[t+139]:t>=108&&t<=1131?(t=t-108,[(t>>8)+247,t&255]):t>=-1131&&t<=-108?(t=-t-108,[(t>>8)+251,t&255]):t>=-32768&&t<=32767?At.NUMBER16(t):At.NUMBER32(t)};mn.NUMBER=function(t){return At.NUMBER(t).length};At.NUMBER16=function(t){return[28,t>>8&255,t&255]};mn.NUMBER16=ul(3);At.NUMBER32=function(t){return[29,t>>24&255,t>>16&255,t>>8&255,t&255]};mn.NUMBER32=ul(5);At.REAL=function(t){var e=t.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(n){var r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));e=(Math.round(t*r)/r).toString()}for(var i="",o=0,s=e.length;o<s;o+=1){var a=e[o];a==="e"?i+=e[++o]==="-"?"c":"b":a==="."?i+="a":a==="-"?i+="e":i+=a}i+=i.length&1?"f":"ff";for(var l=[30],c=0,u=i.length;c<u;c+=2)l.push(parseInt(i.substr(c,2),16));return l};mn.REAL=function(t){return At.REAL(t).length};At.NAME=At.CHARARRAY;mn.NAME=mn.CHARARRAY;At.STRING=At.CHARARRAY;mn.STRING=mn.CHARARRAY;qm.UTF8=function(t,e,n){for(var r=[],i=n,o=0;o<i;o++,e+=1)r[o]=t.getUint8(e);return String.fromCharCode.apply(null,r)};qm.UTF16=function(t,e,n){for(var r=[],i=n/2,o=0;o<i;o++,e+=2)r[o]=t.getUint16(e);return String.fromCharCode.apply(null,r)};At.UTF16=function(t){for(var e=[],n=0;n<t.length;n+=1){var r=t.charCodeAt(n);e[e.length]=r>>8&255,e[e.length]=r&255}return e};mn.UTF16=function(t){return t.length*2};var Nw={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""};qm.MACSTRING=function(t,e,n,r){var i=Nw[r];if(i!==void 0){for(var o="",s=0;s<n;s++){var a=t.getUint8(e+s);a<=127?o+=String.fromCharCode(a):o+=i[a&127]}return o}};var Ey=typeof WeakMap=="function"&&new WeakMap,Ty,bCe=function(t){if(!Ty){Ty={};for(var e in Nw)Ty[e]=new String(e)}var n=Ty[t];if(n!==void 0){if(Ey){var r=Ey.get(n);if(r!==void 0)return r}var i=Nw[t];if(i!==void 0){for(var o={},s=0;s<i.length;s++)o[i.charCodeAt(s)]=s+128;return Ey&&Ey.set(n,o),o}}};At.MACSTRING=function(t,e){var n=bCe(e);if(n!==void 0){for(var r=[],i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=128&&(o=n[o],o===void 0))return;r[i]=o}return r}};mn.MACSTRING=function(t,e){var n=At.MACSTRING(t,e);return n!==void 0?n.length:0};function Iw(t){return t>=-128&&t<=127}function SCe(t,e,n){for(var r=0,i=t.length;e<i&&r<64&&t[e]===0;)++e,++r;return n.push(128|r-1),e}function _Ce(t,e,n){for(var r=0,i=t.length,o=e;o<i&&r<64;){var s=t[o];if(!Iw(s)||s===0&&o+1<i&&t[o+1]===0)break;++o,++r}n.push(r-1);for(var a=e;a<o;++a)n.push(t[a]+256&255);return o}function wCe(t,e,n){for(var r=0,i=t.length,o=e;o<i&&r<64;){var s=t[o];if(s===0||Iw(s)&&o+1<i&&Iw(t[o+1]))break;++o,++r}n.push(64|r-1);for(var a=e;a<o;++a){var l=t[a];n.push(l+65536>>8&255,l+256&255)}return o}At.VARDELTAS=function(t){for(var e=0,n=[];e<t.length;){var r=t[e];r===0?e=SCe(t,e,n):r>=-128&&r<=127?e=_Ce(t,e,n):e=wCe(t,e,n)}return n};At.INDEX=function(t){for(var e=1,n=[e],r=[],i=0;i<t.length;i+=1){var o=At.OBJECT(t[i]);Array.prototype.push.apply(r,o),e+=o.length,n.push(e)}if(r.length===0)return[0,0];for(var s=[],a=1+Math.floor(Math.log(e)/Math.log(2))/8|0,l=[void 0,At.BYTE,At.USHORT,At.UINT24,At.ULONG][a],c=0;c<n.length;c+=1){var u=l(n[c]);Array.prototype.push.apply(s,u)}return Array.prototype.concat(At.Card16(t.length),At.OffSize(a),s,r)};mn.INDEX=function(t){return At.INDEX(t).length};At.DICT=function(t){for(var e=[],n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=parseInt(n[i],0),s=t[o];e=e.concat(At.OPERAND(s.value,s.type)),e=e.concat(At.OPERATOR(o))}return e};mn.DICT=function(t){return At.DICT(t).length};At.OPERATOR=function(t){return t<1200?[t]:[12,t-1200]};At.OPERAND=function(t,e){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r+=1)yn.argument(t.length===e.length,"Not enough arguments given for type"+e),n=n.concat(At.OPERAND(t[r],e[r]));else if(e==="SID")n=n.concat(At.NUMBER(t));else if(e==="offset")n=n.concat(At.NUMBER32(t));else if(e==="number")n=n.concat(At.NUMBER(t));else if(e==="real")n=n.concat(At.REAL(t));else throw new Error("Unknown operand type "+e);return n};At.OP=At.BYTE;mn.OP=mn.BYTE;var My=typeof WeakMap=="function"&&new WeakMap;At.CHARSTRING=function(t){if(My){var e=My.get(t);if(e!==void 0)return e}for(var n=[],r=t.length,i=0;i<r;i+=1){var o=t[i];n=n.concat(At[o.type](o.value))}return My&&My.set(t,n),n};mn.CHARSTRING=function(t){return At.CHARSTRING(t).length};At.OBJECT=function(t){var e=At[t.type];return yn.argument(e!==void 0,"No encoding function for type "+t.type),e(t.value)};mn.OBJECT=function(t){var e=mn[t.type];return yn.argument(e!==void 0,"No sizeOf function for type "+t.type),e(t.value)};At.TABLE=function(t){for(var e=[],n=t.fields.length,r=[],i=[],o=0;o<n;o+=1){var s=t.fields[o],a=At[s.type];yn.argument(a!==void 0,"No encoding function for field type "+s.type+" ("+s.name+")");var l=t[s.name];l===void 0&&(l=s.value);var c=a(l);s.type==="TABLE"?(i.push(e.length),e=e.concat([0,0]),r.push(c)):e=e.concat(c)}for(var u=0;u<r.length;u+=1){var d=i[u],f=e.length;yn.argument(f<65536,"Table "+t.tableName+" too big."),e[d]=f>>8,e[d+1]=f&255,e=e.concat(r[u])}return e};mn.TABLE=function(t){for(var e=0,n=t.fields.length,r=0;r<n;r+=1){var i=t.fields[r],o=mn[i.type];yn.argument(o!==void 0,"No sizeOf function for field type "+i.type+" ("+i.name+")");var s=t[i.name];s===void 0&&(s=i.value),e+=o(s),i.type==="TABLE"&&(e+=2)}return e};At.RECORD=At.TABLE;mn.RECORD=mn.TABLE;At.LITERAL=function(t){return t};mn.LITERAL=function(t){return t.length};function Hi(t,e,n){if(e.length&&(e[0].name!=="coverageFormat"||e[0].value===1))for(var r=0;r<e.length;r+=1){var i=e[r];this[i.name]=i.value}if(this.tableName=t,this.fields=e,n)for(var o=Object.keys(n),s=0;s<o.length;s+=1){var a=o[s],l=n[a];this[a]!==void 0&&(this[a]=l)}}Hi.prototype.encode=function(){return At.TABLE(this)};Hi.prototype.sizeOf=function(){return mn.TABLE(this)};function s3(t,e,n){n===void 0&&(n=e.length);var r=new Array(e.length+1);r[0]={name:t+"Count",type:"USHORT",value:n};for(var i=0;i<e.length;i++)r[i+1]={name:t+i,type:"USHORT",value:e[i]};return r}function Ow(t,e,n){var r=e.length,i=new Array(r+1);i[0]={name:t+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)i[o+1]={name:t+o,type:"TABLE",value:n(e[o],o)};return i}function a3(t,e,n){var r=e.length,i=[];i[0]={name:t+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)i=i.concat(n(e[o],o));return i}function Rx(t){t.format===1?Hi.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(s3("glyph",t.glyphs))):t.format===2?Hi.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(a3("rangeRecord",t.ranges,function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]}))):yn.assert(!1,"Coverage format must be 1 or 2.")}Rx.prototype=Object.create(Hi.prototype);Rx.prototype.constructor=Rx;function Ax(t){Hi.call(this,"scriptListTable",a3("scriptRecord",t,function(e,n){var r=e.script,i=r.defaultLangSys;return yn.assert(!!i,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+n,type:"TAG",value:e.tag},{name:"script"+n,type:"TABLE",value:new Hi("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Hi("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:i.reqFeatureIndex}].concat(s3("featureIndex",i.featureIndexes)))}].concat(a3("langSys",r.langSysRecords,function(o,s){var a=o.langSys;return[{name:"langSysTag"+s,type:"TAG",value:o.tag},{name:"langSys"+s,type:"TABLE",value:new Hi("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:a.reqFeatureIndex}].concat(s3("featureIndex",a.featureIndexes)))}]})))}]}))}Ax.prototype=Object.create(Hi.prototype);Ax.prototype.constructor=Ax;function Px(t){Hi.call(this,"featureListTable",a3("featureRecord",t,function(e,n){var r=e.feature;return[{name:"featureTag"+n,type:"TAG",value:e.tag},{name:"feature"+n,type:"TABLE",value:new Hi("featureTable",[{name:"featureParams",type:"USHORT",value:r.featureParams}].concat(s3("lookupListIndex",r.lookupListIndexes)))}]}))}Px.prototype=Object.create(Hi.prototype);Px.prototype.constructor=Px;function Nx(t,e){Hi.call(this,"lookupListTable",Ow("lookup",t,function(n){var r=e[n.lookupType];return yn.assert(!!r,"Unable to write GSUB lookup type "+n.lookupType+" tables."),new Hi("lookupTable",[{name:"lookupType",type:"USHORT",value:n.lookupType},{name:"lookupFlag",type:"USHORT",value:n.lookupFlag}].concat(Ow("subtable",n.subtables,r)))}))}Nx.prototype=Object.create(Hi.prototype);Nx.prototype.constructor=Nx;var Ht={Table:Hi,Record:Hi,Coverage:Rx,ScriptList:Ax,FeatureList:Px,LookupList:Nx,ushortList:s3,tableList:Ow,recordList:a3};function OD(t,e){return t.getUint8(e)}function Ix(t,e){return t.getUint16(e,!1)}function CCe(t,e){return t.getInt16(e,!1)}function xM(t,e){return t.getUint32(e,!1)}function _X(t,e){var n=t.getInt16(e,!1),r=t.getUint16(e+2,!1);return n+r/65535}function ECe(t,e){for(var n="",r=e;r<e+4;r+=1)n+=String.fromCharCode(t.getInt8(r));return n}function TCe(t,e,n){for(var r=0,i=0;i<n;i+=1)r<<=8,r+=t.getUint8(e+i);return r}function MCe(t,e,n){for(var r=[],i=e;i<n;i+=1)r.push(t.getUint8(i));return r}function RCe(t){for(var e="",n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return e}var ACe={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Ke(t,e){this.data=t,this.offset=e,this.relativeOffset=0}Ke.prototype.parseByte=function(){var t=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};Ke.prototype.parseChar=function(){var t=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};Ke.prototype.parseCard8=Ke.prototype.parseByte;Ke.prototype.parseUShort=function(){var t=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};Ke.prototype.parseCard16=Ke.prototype.parseUShort;Ke.prototype.parseSID=Ke.prototype.parseUShort;Ke.prototype.parseOffset16=Ke.prototype.parseUShort;Ke.prototype.parseShort=function(){var t=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};Ke.prototype.parseF2Dot14=function(){var t=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,t};Ke.prototype.parseULong=function(){var t=xM(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};Ke.prototype.parseOffset32=Ke.prototype.parseULong;Ke.prototype.parseFixed=function(){var t=_X(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};Ke.prototype.parseString=function(t){var e=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=t;for(var i=0;i<t;i++)r+=String.fromCharCode(e.getUint8(n+i));return r};Ke.prototype.parseTag=function(){return this.parseString(4)};Ke.prototype.parseLongDateTime=function(){var t=xM(this.data,this.offset+this.relativeOffset+4);return t-=2082844800,this.relativeOffset+=8,t};Ke.prototype.parseVersion=function(t){var e=Ix(this.data,this.offset+this.relativeOffset),n=Ix(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t===void 0&&(t=4096),e+n/t/10};Ke.prototype.skip=function(t,e){e===void 0&&(e=1),this.relativeOffset+=ACe[t]*e};Ke.prototype.parseULongList=function(t){t===void 0&&(t=this.parseULong());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint32(r),r+=4;return this.relativeOffset+=t*4,e};Ke.prototype.parseOffset16List=Ke.prototype.parseUShortList=function(t){t===void 0&&(t=this.parseUShort());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint16(r),r+=2;return this.relativeOffset+=t*2,e};Ke.prototype.parseShortList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getInt16(r),r+=2;return this.relativeOffset+=t*2,e};Ke.prototype.parseByteList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint8(r++);return this.relativeOffset+=t,e};Ke.prototype.parseList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n};Ke.prototype.parseList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n};Ke.prototype.parseRecordList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=Object.keys(e),i=0;i<t;i++){for(var o={},s=0;s<r.length;s++){var a=r[s],l=e[a];o[a]=l.call(this)}n[i]=o}return n};Ke.prototype.parseRecordList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),r=Object.keys(e),i=0;i<t;i++){for(var o={},s=0;s<r.length;s++){var a=r[s],l=e[a];o[a]=l.call(this)}n[i]=o}return n};Ke.prototype.parseStruct=function(t){if(typeof t=="function")return t.call(this);for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r],o=t[i];n[i]=o.call(this)}return n};Ke.prototype.parseValueRecord=function(t){if(t===void 0&&(t=this.parseUShort()),t!==0){var e={};return t&1&&(e.xPlacement=this.parseShort()),t&2&&(e.yPlacement=this.parseShort()),t&4&&(e.xAdvance=this.parseShort()),t&8&&(e.yAdvance=this.parseShort()),t&16&&(e.xPlaDevice=void 0,this.parseShort()),t&32&&(e.yPlaDevice=void 0,this.parseShort()),t&64&&(e.xAdvDevice=void 0,this.parseShort()),t&128&&(e.yAdvDevice=void 0,this.parseShort()),e}};Ke.prototype.parseValueRecordList=function(){for(var t=this.parseUShort(),e=this.parseUShort(),n=new Array(e),r=0;r<e;r++)n[r]=this.parseValueRecord(t);return n};Ke.prototype.parsePointer=function(t){var e=this.parseOffset16();if(e>0)return new Ke(this.data,this.offset+e).parseStruct(t)};Ke.prototype.parsePointer32=function(t){var e=this.parseOffset32();if(e>0)return new Ke(this.data,this.offset+e).parseStruct(t)};Ke.prototype.parseListOfLists=function(t){for(var e=this.parseOffset16List(),n=e.length,r=this.relativeOffset,i=new Array(n),o=0;o<n;o++){var s=e[o];if(s===0){i[o]=void 0;continue}if(this.relativeOffset=s,t){for(var a=this.parseOffset16List(),l=new Array(a.length),c=0;c<a.length;c++)this.relativeOffset=s+a[c],l[c]=t.call(this);i[o]=l}else i[o]=this.parseUShortList()}return this.relativeOffset=r,i};Ke.prototype.parseCoverage=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort(),n=this.parseUShort();if(e===1)return{format:1,glyphs:this.parseUShortList(n)};if(e===2){for(var r=new Array(n),i=0;i<n;i++)r[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}}throw new Error("0x"+t.toString(16)+": Coverage format must be 1 or 2.")};Ke.prototype.parseClassDef=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(e===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(e===2)return{format:2,ranges:this.parseRecordList({start:Ke.uShort,end:Ke.uShort,classId:Ke.uShort})};throw new Error("0x"+t.toString(16)+": ClassDef format must be 1 or 2.")};Ke.list=function(t,e){return function(){return this.parseList(t,e)}};Ke.list32=function(t,e){return function(){return this.parseList32(t,e)}};Ke.recordList=function(t,e){return function(){return this.parseRecordList(t,e)}};Ke.recordList32=function(t,e){return function(){return this.parseRecordList32(t,e)}};Ke.pointer=function(t){return function(){return this.parsePointer(t)}};Ke.pointer32=function(t){return function(){return this.parsePointer32(t)}};Ke.tag=Ke.prototype.parseTag;Ke.byte=Ke.prototype.parseByte;Ke.uShort=Ke.offset16=Ke.prototype.parseUShort;Ke.uShortList=Ke.prototype.parseUShortList;Ke.uLong=Ke.offset32=Ke.prototype.parseULong;Ke.uLongList=Ke.prototype.parseULongList;Ke.struct=Ke.prototype.parseStruct;Ke.coverage=Ke.prototype.parseCoverage;Ke.classDef=Ke.prototype.parseClassDef;var LD={reserved:Ke.uShort,reqFeatureIndex:Ke.uShort,featureIndexes:Ke.uShortList};Ke.prototype.parseScriptList=function(){return this.parsePointer(Ke.recordList({tag:Ke.tag,script:Ke.pointer({defaultLangSys:Ke.pointer(LD),langSysRecords:Ke.recordList({tag:Ke.tag,langSys:Ke.pointer(LD)})})}))||[]};Ke.prototype.parseFeatureList=function(){return this.parsePointer(Ke.recordList({tag:Ke.tag,feature:Ke.pointer({featureParams:Ke.offset16,lookupListIndexes:Ke.uShortList})}))||[]};Ke.prototype.parseLookupList=function(t){return this.parsePointer(Ke.list(Ke.pointer(function(){var e=this.parseUShort();yn.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown.");var n=this.parseUShort(),r=n&16;return{lookupType:e,lookupFlag:n,subtables:this.parseList(Ke.pointer(t[e])),markFilteringSet:r?this.parseUShort():void 0}})))||[]};Ke.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var t=this.parseUShort(),e=this.parseUShort();yn.argument(t===1&&e<1,"GPOS/GSUB feature variations table unknown.");var n=this.parseRecordList32({conditionSetOffset:Ke.offset32,featureTableSubstitutionOffset:Ke.offset32});return n})||[]};var Tn={getByte:OD,getCard8:OD,getUShort:Ix,getCard16:Ix,getShort:CCe,getULong:xM,getFixed:_X,getTag:ECe,getOffset:TCe,getBytes:MCe,bytesToString:RCe,Parser:Ke};function PCe(t,e){e.parseUShort(),t.length=e.parseULong(),t.language=e.parseULong();var n;t.groupCount=n=e.parseULong(),t.glyphIndexMap={};for(var r=0;r<n;r+=1)for(var i=e.parseULong(),o=e.parseULong(),s=e.parseULong(),a=i;a<=o;a+=1)t.glyphIndexMap[a]=s,s++}function NCe(t,e,n,r,i){t.length=e.parseUShort(),t.language=e.parseUShort();var o;t.segCount=o=e.parseUShort()>>1,e.skip("uShort",3),t.glyphIndexMap={};for(var s=new Tn.Parser(n,r+i+14),a=new Tn.Parser(n,r+i+16+o*2),l=new Tn.Parser(n,r+i+16+o*4),c=new Tn.Parser(n,r+i+16+o*6),u=r+i+16+o*8,d=0;d<o-1;d+=1)for(var f=void 0,h=s.parseUShort(),g=a.parseUShort(),x=l.parseShort(),b=c.parseUShort(),v=g;v<=h;v+=1)b!==0?(u=c.offset+c.relativeOffset-2,u+=b,u+=(v-g)*2,f=Tn.getUShort(n,u),f!==0&&(f=f+x&65535)):f=v+x&65535,t.glyphIndexMap[v]=f}function ICe(t,e){var n={};n.version=Tn.getUShort(t,e),yn.argument(n.version===0,"cmap table version should be 0."),n.numTables=Tn.getUShort(t,e+2);for(var r=-1,i=n.numTables-1;i>=0;i-=1){var o=Tn.getUShort(t,e+4+i*8),s=Tn.getUShort(t,e+4+i*8+2);if(o===3&&(s===0||s===1||s===10)||o===0&&(s===0||s===1||s===2||s===3||s===4)){r=Tn.getULong(t,e+4+i*8+4);break}}if(r===-1)throw new Error("No valid cmap sub-tables found.");var a=new Tn.Parser(t,e+r);if(n.format=a.parseUShort(),n.format===12)PCe(n,a);else if(n.format===4)NCe(n,a,t,e,r);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");return n}function OCe(t,e,n){t.segments.push({end:e,start:e,delta:-(e-n),offset:0,glyphIndex:n})}function LCe(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}function DCe(t){var e=!0,n;for(n=t.length-1;n>0;n-=1){var r=t.get(n);if(r.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),e=!1;break}}var i=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:e?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:e?12:12+8}];e||(i=i.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),i=i.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var o=new Ht.Table("cmap",i);for(o.segments=[],n=0;n<t.length;n+=1){for(var s=t.get(n),a=0;a<s.unicodes.length;a+=1)OCe(o,s.unicodes[a],n);o.segments=o.segments.sort(function(_,S){return _.start-S.start})}LCe(o);var l=o.segments.length,c=0,u=[],d=[],f=[],h=[],g=[],x=[];for(n=0;n<l;n+=1){var b=o.segments[n];b.end<=65535&&b.start<=65535?(u=u.concat({name:"end_"+n,type:"USHORT",value:b.end}),d=d.concat({name:"start_"+n,type:"USHORT",value:b.start}),f=f.concat({name:"idDelta_"+n,type:"SHORT",value:b.delta}),h=h.concat({name:"idRangeOffset_"+n,type:"USHORT",value:b.offset}),b.glyphId!==void 0&&(g=g.concat({name:"glyph_"+n,type:"USHORT",value:b.glyphId}))):c+=1,!e&&b.glyphIndex!==void 0&&(x=x.concat({name:"cmap12Start_"+n,type:"ULONG",value:b.start}),x=x.concat({name:"cmap12End_"+n,type:"ULONG",value:b.end}),x=x.concat({name:"cmap12Glyph_"+n,type:"ULONG",value:b.glyphIndex}))}if(o.segCountX2=(l-c)*2,o.searchRange=Math.pow(2,Math.floor(Math.log(l-c)/Math.log(2)))*2,o.entrySelector=Math.log(o.searchRange/2)/Math.log(2),o.rangeShift=o.segCountX2-o.searchRange,o.fields=o.fields.concat(u),o.fields.push({name:"reservedPad",type:"USHORT",value:0}),o.fields=o.fields.concat(d),o.fields=o.fields.concat(f),o.fields=o.fields.concat(h),o.fields=o.fields.concat(g),o.cmap4Length=14+u.length*2+2+d.length*2+f.length*2+h.length*2+g.length*2,!e){var v=16+x.length*4;o.cmap12Offset=12+2*2+4+o.cmap4Length,o.fields=o.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:v},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:x.length/3}]),o.fields=o.fields.concat(x)}return o}var FCe={parse:ICe,make:DCe},s5=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],$Ce=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],UCe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],DD=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function wX(t){this.font=t}wX.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.font.glyphs;if(n){for(var r=0;r<n.length;r+=1)for(var i=n.get(r),o=0;o<i.unicodes.length;o+=1)if(i.unicodes[o]===e)return r}return null};function Ox(t,e){this.encoding=t,this.charset=e}Ox.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.encoding[e];return this.charset.indexOf(n)};function BCe(t,e,n,r,i){t.beginPath(),t.moveTo(e,n),t.lineTo(r,i),t.stroke()}var $d={line:BCe};function kCe(t,e){var n=e||new Li;return{configurable:!0,get:function(){return typeof n=="function"&&(n=n()),n},set:function(r){n=r}}}function Aa(t){this.bindConstructorValues(t)}Aa.prototype.bindConstructorValues=function(t){this.index=t.index||0,this.name=t.name||null,this.unicode=t.unicode||void 0,this.unicodes=t.unicodes||t.unicode!==void 0?[t.unicode]:[],"xMin"in t&&(this.xMin=t.xMin),"yMin"in t&&(this.yMin=t.yMin),"xMax"in t&&(this.xMax=t.xMax),"yMax"in t&&(this.yMax=t.yMax),"advanceWidth"in t&&(this.advanceWidth=t.advanceWidth),Object.defineProperty(this,"path",kCe(this,t.path))};Aa.prototype.addUnicode=function(t){this.unicodes.length===0&&(this.unicode=t),this.unicodes.push(t)};Aa.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};Aa.prototype.getPath=function(t,e,n,r,i){t=t!==void 0?t:0,e=e!==void 0?e:0,n=n!==void 0?n:72;var o,s;r||(r={});var a=r.xScale,l=r.yScale;if(r.hinting&&i&&i.hinting&&(s=this.path&&i.hinting.exec(this,n)),s)o=i.hinting.getCommands(s),t=Math.round(t),e=Math.round(e),a=l=1;else{o=this.path.commands;var c=1/(this.path.unitsPerEm||1e3)*n;a===void 0&&(a=c),l===void 0&&(l=c)}for(var u=new Li,d=0;d<o.length;d+=1){var f=o[d];f.type==="M"?u.moveTo(t+f.x*a,e+-f.y*l):f.type==="L"?u.lineTo(t+f.x*a,e+-f.y*l):f.type==="Q"?u.quadraticCurveTo(t+f.x1*a,e+-f.y1*l,t+f.x*a,e+-f.y*l):f.type==="C"?u.curveTo(t+f.x1*a,e+-f.y1*l,t+f.x2*a,e+-f.y2*l,t+f.x*a,e+-f.y*l):f.type==="Z"&&u.closePath()}return u};Aa.prototype.getContours=function(){if(this.points===void 0)return[];for(var t=[],e=[],n=0;n<this.points.length;n+=1){var r=this.points[n];e.push(r),r.lastPointOfContour&&(t.push(e),e=[])}return yn.argument(e.length===0,"There are still points left in the current contour."),t};Aa.prototype.getMetrics=function(){for(var t=this.path.commands,e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];i.type!=="Z"&&(e.push(i.x),n.push(i.y)),(i.type==="Q"||i.type==="C")&&(e.push(i.x1),n.push(i.y1)),i.type==="C"&&(e.push(i.x2),n.push(i.y2))}var o={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o};Aa.prototype.draw=function(t,e,n,r,i){this.getPath(e,n,r,i).draw(t)};Aa.prototype.drawPoints=function(t,e,n,r){function i(d,f,h,g){t.beginPath();for(var x=0;x<d.length;x+=1)t.moveTo(f+d[x].x*g,h+d[x].y*g),t.arc(f+d[x].x*g,h+d[x].y*g,2,0,Math.PI*2,!1);t.closePath(),t.fill()}e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:24;for(var o=1/this.path.unitsPerEm*r,s=[],a=[],l=this.path,c=0;c<l.commands.length;c+=1){var u=l.commands[c];u.x!==void 0&&s.push({x:u.x,y:-u.y}),u.x1!==void 0&&a.push({x:u.x1,y:-u.y1}),u.x2!==void 0&&a.push({x:u.x2,y:-u.y2})}t.fillStyle="blue",i(s,e,n,o),t.fillStyle="red",i(a,e,n,o)};Aa.prototype.drawMetrics=function(t,e,n,r){var i;e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:24,i=1/this.path.unitsPerEm*r,t.lineWidth=1,t.strokeStyle="black",$d.line(t,e,-1e4,e,1e4),$d.line(t,-1e4,n,1e4,n);var o=this.xMin||0,s=this.yMin||0,a=this.xMax||0,l=this.yMax||0,c=this.advanceWidth||0;t.strokeStyle="blue",$d.line(t,e+o*i,-1e4,e+o*i,1e4),$d.line(t,e+a*i,-1e4,e+a*i,1e4),$d.line(t,-1e4,n+-s*i,1e4,n+-s*i),$d.line(t,-1e4,n+-l*i,1e4,n+-l*i),t.strokeStyle="green",$d.line(t,e+c*i,-1e4,e+c*i,1e4)};function Ry(t,e,n){Object.defineProperty(t,e,{get:function(){return t.path,t[n]},set:function(r){t[n]=r},enumerable:!0,configurable:!0})}function bM(t,e){if(this.font=t,this.glyphs={},Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];r.path.unitsPerEm=t.unitsPerEm,this.glyphs[n]=r}this.length=e&&e.length||0}bM.prototype.get=function(t){if(this.glyphs[t]===void 0){this.font._push(t),typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());var e=this.glyphs[t],n=this.font._IndexToUnicodeMap[t];if(n)for(var r=0;r<n.unicodes.length;r++)e.addUnicode(n.unicodes[r]);this.font.cffEncoding?this.font.isCIDFont?e.name="gid"+t:e.name=this.font.cffEncoding.charset[t]:this.font.glyphNames.names&&(e.name=this.font.glyphNames.glyphIndexToName(t)),this.glyphs[t].advanceWidth=this.font._hmtxTableData[t].advanceWidth,this.glyphs[t].leftSideBearing=this.font._hmtxTableData[t].leftSideBearing}else typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());return this.glyphs[t]};bM.prototype.push=function(t,e){this.glyphs[t]=e,this.length++};function zCe(t,e){return new Aa({index:e,font:t})}function VCe(t,e,n,r,i,o){return function(){var s=new Aa({index:e,font:t});return s.path=function(){n(s,r,i);var a=o(t.glyphs,s);return a.unitsPerEm=t.unitsPerEm,a},Ry(s,"xMin","_xMin"),Ry(s,"xMax","_xMax"),Ry(s,"yMin","_yMin"),Ry(s,"yMax","_yMax"),s}}function HCe(t,e,n,r){return function(){var i=new Aa({index:e,font:t});return i.path=function(){var o=n(t,i,r);return o.unitsPerEm=t.unitsPerEm,o},i}}var Dl={GlyphSet:bM,glyphLoader:zCe,ttfGlyphLoader:VCe,cffGlyphLoader:HCe};function CX(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n+=1)if(!CX(t[n],e[n]))return!1;return!0}else return!1}function Lw(t){var e;return t.length<1240?e=107:t.length<33900?e=1131:e=32768,e}function gu(t,e,n){var r=[],i=[],o=Tn.getCard16(t,e),s,a;if(o!==0){var l=Tn.getByte(t,e+2);s=e+(o+1)*l+2;for(var c=e+3,u=0;u<o+1;u+=1)r.push(Tn.getOffset(t,c,l)),c+=l;a=s+r[o]}else a=e+2;for(var d=0;d<r.length-1;d+=1){var f=Tn.getBytes(t,s+r[d],s+r[d+1]);n&&(f=n(f)),i.push(f)}return{objects:i,startOffset:e,endOffset:a}}function GCe(t,e){var n=[],r=Tn.getCard16(t,e),i,o;if(r!==0){var s=Tn.getByte(t,e+2);i=e+(r+1)*s+2;for(var a=e+3,l=0;l<r+1;l+=1)n.push(Tn.getOffset(t,a,s)),a+=s;o=i+n[r]}else o=e+2;return{offsets:n,startOffset:e,endOffset:o}}function WCe(t,e,n,r,i){var o=Tn.getCard16(n,r),s=0;if(o!==0){var a=Tn.getByte(n,r+2);s=r+(o+1)*a+2}var l=Tn.getBytes(n,s+e[t],s+e[t+1]);return i&&(l=i(l)),l}function jCe(t){for(var e="",n=15,r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var i=t.parseByte(),o=i>>4,s=i&15;if(o===n||(e+=r[o],s===n))break;e+=r[s]}return parseFloat(e)}function XCe(t,e){var n,r,i,o;if(e===28)return n=t.parseByte(),r=t.parseByte(),n<<8|r;if(e===29)return n=t.parseByte(),r=t.parseByte(),i=t.parseByte(),o=t.parseByte(),n<<24|r<<16|i<<8|o;if(e===30)return jCe(t);if(e>=32&&e<=246)return e-139;if(e>=247&&e<=250)return n=t.parseByte(),(e-247)*256+n+108;if(e>=251&&e<=254)return n=t.parseByte(),-(e-251)*256-n-108;throw new Error("Invalid b0 "+e)}function qCe(t){for(var e={},n=0;n<t.length;n+=1){var r=t[n][0],i=t[n][1],o=void 0;if(i.length===1?o=i[0]:o=i,e.hasOwnProperty(r)&&!isNaN(e[r]))throw new Error("Object "+e+" already has key "+r);e[r]=o}return e}function EX(t,e,n){e=e!==void 0?e:0;var r=new Tn.Parser(t,e),i=[],o=[];for(n=n!==void 0?n:t.length;r.relativeOffset<n;){var s=r.parseByte();s<=21?(s===12&&(s=1200+r.parseByte()),i.push([s,o]),o=[]):o.push(XCe(r,s))}return qCe(i)}function nv(t,e){return e<=390?e=s5[e]:e=t[e-391],e}function TX(t,e,n){for(var r={},i,o=0;o<e.length;o+=1){var s=e[o];if(Array.isArray(s.type)){var a=[];a.length=s.type.length;for(var l=0;l<s.type.length;l++)i=t[s.op]!==void 0?t[s.op][l]:void 0,i===void 0&&(i=s.value!==void 0&&s.value[l]!==void 0?s.value[l]:null),s.type[l]==="SID"&&(i=nv(n,i)),a[l]=i;r[s.name]=a}else i=t[s.op],i===void 0&&(i=s.value!==void 0?s.value:null),s.type==="SID"&&(i=nv(n,i)),r[s.name]=i}return r}function KCe(t,e){var n={};return n.formatMajor=Tn.getCard8(t,e),n.formatMinor=Tn.getCard8(t,e+1),n.size=Tn.getCard8(t,e+2),n.offsetSize=Tn.getCard8(t,e+3),n.startOffset=e,n.endOffset=e+4,n}var MX=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],RX=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function YCe(t,e){var n=EX(t,0,t.byteLength);return TX(n,MX,e)}function AX(t,e,n,r){var i=EX(t,e,n);return TX(i,RX,r)}function FD(t,e,n,r){for(var i=[],o=0;o<n.length;o+=1){var s=new DataView(new Uint8Array(n[o]).buffer),a=YCe(s,r);a._subrs=[],a._subrsBias=0,a._defaultWidthX=0,a._nominalWidthX=0;var l=a.private[0],c=a.private[1];if(l!==0&&c!==0){var u=AX(t,c+e,l,r);if(a._defaultWidthX=u.defaultWidthX,a._nominalWidthX=u.nominalWidthX,u.subrs!==0){var d=c+u.subrs,f=gu(t,d+e);a._subrs=f.objects,a._subrsBias=Lw(a._subrs)}a._privateDict=u}i.push(a)}return i}function ZCe(t,e,n,r){var i,o,s=new Tn.Parser(t,e);n-=1;var a=[".notdef"],l=s.parseCard8();if(l===0)for(var c=0;c<n;c+=1)i=s.parseSID(),a.push(nv(r,i));else if(l===1)for(;a.length<=n;){i=s.parseSID(),o=s.parseCard8();for(var u=0;u<=o;u+=1)a.push(nv(r,i)),i+=1}else if(l===2)for(;a.length<=n;){i=s.parseSID(),o=s.parseCard16();for(var d=0;d<=o;d+=1)a.push(nv(r,i)),i+=1}else throw new Error("Unknown charset format "+l);return a}function QCe(t,e,n){var r,i={},o=new Tn.Parser(t,e),s=o.parseCard8();if(s===0)for(var a=o.parseCard8(),l=0;l<a;l+=1)r=o.parseCard8(),i[r]=l;else if(s===1){var c=o.parseCard8();r=1;for(var u=0;u<c;u+=1)for(var d=o.parseCard8(),f=o.parseCard8(),h=d;h<=d+f;h+=1)i[h]=r,r+=1}else throw new Error("Unknown encoding format "+s);return new Ox(i,n)}function $D(t,e,n){var r,i,o,s,a=new Li,l=[],c=0,u=!1,d=!1,f=0,h=0,g,x,b,v;if(t.isCIDFont){var _=t.tables.cff.topDict._fdSelect[e.index],S=t.tables.cff.topDict._fdArray[_];g=S._subrs,x=S._subrsBias,b=S._defaultWidthX,v=S._nominalWidthX}else g=t.tables.cff.topDict._subrs,x=t.tables.cff.topDict._subrsBias,b=t.tables.cff.topDict._defaultWidthX,v=t.tables.cff.topDict._nominalWidthX;var w=b;function M(N,R){d&&a.closePath(),a.moveTo(N,R),d=!0}function E(){var N;N=l.length%2!==0,N&&!u&&(w=l.shift()+v),c+=l.length>>1,l.length=0,u=!0}function T(N){for(var R,P,L,$,V,D,H,F,k,O,B,G,W=0;W<N.length;){var K=N[W];switch(W+=1,K){case 1:E();break;case 3:E();break;case 4:l.length>1&&!u&&(w=l.shift()+v,u=!0),h+=l.pop(),M(f,h);break;case 5:for(;l.length>0;)f+=l.shift(),h+=l.shift(),a.lineTo(f,h);break;case 6:for(;l.length>0&&(f+=l.shift(),a.lineTo(f,h),l.length!==0);)h+=l.shift(),a.lineTo(f,h);break;case 7:for(;l.length>0&&(h+=l.shift(),a.lineTo(f,h),l.length!==0);)f+=l.shift(),a.lineTo(f,h);break;case 8:for(;l.length>0;)r=f+l.shift(),i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),f=o+l.shift(),h=s+l.shift(),a.curveTo(r,i,o,s,f,h);break;case 10:V=l.pop()+x,D=g[V],D&&T(D);break;case 11:return;case 12:switch(K=N[W],W+=1,K){case 35:r=f+l.shift(),i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),H=o+l.shift(),F=s+l.shift(),k=H+l.shift(),O=F+l.shift(),B=k+l.shift(),G=O+l.shift(),f=B+l.shift(),h=G+l.shift(),l.shift(),a.curveTo(r,i,o,s,H,F),a.curveTo(k,O,B,G,f,h);break;case 34:r=f+l.shift(),i=h,o=r+l.shift(),s=i+l.shift(),H=o+l.shift(),F=s,k=H+l.shift(),O=s,B=k+l.shift(),G=h,f=B+l.shift(),a.curveTo(r,i,o,s,H,F),a.curveTo(k,O,B,G,f,h);break;case 36:r=f+l.shift(),i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),H=o+l.shift(),F=s,k=H+l.shift(),O=s,B=k+l.shift(),G=O+l.shift(),f=B+l.shift(),a.curveTo(r,i,o,s,H,F),a.curveTo(k,O,B,G,f,h);break;case 37:r=f+l.shift(),i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),H=o+l.shift(),F=s+l.shift(),k=H+l.shift(),O=F+l.shift(),B=k+l.shift(),G=O+l.shift(),Math.abs(B-f)>Math.abs(G-h)?f=B+l.shift():h=G+l.shift(),a.curveTo(r,i,o,s,H,F),a.curveTo(k,O,B,G,f,h);break;default:console.log("Glyph "+e.index+": unknown operator 1200"+K),l.length=0}break;case 14:l.length>0&&!u&&(w=l.shift()+v,u=!0),d&&(a.closePath(),d=!1);break;case 18:E();break;case 19:case 20:E(),W+=c+7>>3;break;case 21:l.length>2&&!u&&(w=l.shift()+v,u=!0),h+=l.pop(),f+=l.pop(),M(f,h);break;case 22:l.length>1&&!u&&(w=l.shift()+v,u=!0),f+=l.pop(),M(f,h);break;case 23:E();break;case 24:for(;l.length>2;)r=f+l.shift(),i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),f=o+l.shift(),h=s+l.shift(),a.curveTo(r,i,o,s,f,h);f+=l.shift(),h+=l.shift(),a.lineTo(f,h);break;case 25:for(;l.length>6;)f+=l.shift(),h+=l.shift(),a.lineTo(f,h);r=f+l.shift(),i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),f=o+l.shift(),h=s+l.shift(),a.curveTo(r,i,o,s,f,h);break;case 26:for(l.length%2&&(f+=l.shift());l.length>0;)r=f,i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),f=o,h=s+l.shift(),a.curveTo(r,i,o,s,f,h);break;case 27:for(l.length%2&&(h+=l.shift());l.length>0;)r=f+l.shift(),i=h,o=r+l.shift(),s=i+l.shift(),f=o+l.shift(),h=s,a.curveTo(r,i,o,s,f,h);break;case 28:R=N[W],P=N[W+1],l.push((R<<24|P<<16)>>16),W+=2;break;case 29:V=l.pop()+t.gsubrsBias,D=t.gsubrs[V],D&&T(D);break;case 30:for(;l.length>0&&(r=f,i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),f=o+l.shift(),h=s+(l.length===1?l.shift():0),a.curveTo(r,i,o,s,f,h),l.length!==0);)r=f+l.shift(),i=h,o=r+l.shift(),s=i+l.shift(),h=s+l.shift(),f=o+(l.length===1?l.shift():0),a.curveTo(r,i,o,s,f,h);break;case 31:for(;l.length>0&&(r=f+l.shift(),i=h,o=r+l.shift(),s=i+l.shift(),h=s+l.shift(),f=o+(l.length===1?l.shift():0),a.curveTo(r,i,o,s,f,h),l.length!==0);)r=f,i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),f=o+l.shift(),h=s+(l.length===1?l.shift():0),a.curveTo(r,i,o,s,f,h);break;default:K<32?console.log("Glyph "+e.index+": unknown operator "+K):K<247?l.push(K-139):K<251?(R=N[W],W+=1,l.push((K-247)*256+R+108)):K<255?(R=N[W],W+=1,l.push(-(K-251)*256-R-108)):(R=N[W],P=N[W+1],L=N[W+2],$=N[W+3],W+=4,l.push((R<<24|P<<16|L<<8|$)/65536))}}}return T(n),e.advanceWidth=w,a}function JCe(t,e,n,r){var i=[],o,s=new Tn.Parser(t,e),a=s.parseCard8();if(a===0)for(var l=0;l<n;l++){if(o=s.parseCard8(),o>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+r+")");i.push(o)}else if(a===3){var c=s.parseCard16(),u=s.parseCard16();if(u!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+u);for(var d,f=0;f<c;f++){if(o=s.parseCard8(),d=s.parseCard16(),o>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+r+")");if(d>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+d);for(;u<d;u++)i.push(o);u=d}if(d!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+d)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+a);return i}function eEe(t,e,n,r){n.tables.cff={};var i=KCe(t,e),o=gu(t,i.endOffset,Tn.bytesToString),s=gu(t,o.endOffset),a=gu(t,s.endOffset,Tn.bytesToString),l=gu(t,a.endOffset);n.gsubrs=l.objects,n.gsubrsBias=Lw(n.gsubrs);var c=FD(t,e,s.objects,a.objects);if(c.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+c.length);var u=c[0];if(n.tables.cff.topDict=u,u._privateDict&&(n.defaultWidthX=u._privateDict.defaultWidthX,n.nominalWidthX=u._privateDict.nominalWidthX),u.ros[0]!==void 0&&u.ros[1]!==void 0&&(n.isCIDFont=!0),n.isCIDFont){var d=u.fdArray,f=u.fdSelect;if(d===0||f===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");d+=e;var h=gu(t,d),g=FD(t,e,h.objects,a.objects);u._fdArray=g,f+=e,u._fdSelect=JCe(t,f,n.numGlyphs,g.length)}var x=e+u.private[1],b=AX(t,x,u.private[0],a.objects);if(n.defaultWidthX=b.defaultWidthX,n.nominalWidthX=b.nominalWidthX,b.subrs!==0){var v=x+b.subrs,_=gu(t,v);n.subrs=_.objects,n.subrsBias=Lw(n.subrs)}else n.subrs=[],n.subrsBias=0;var S;r.lowMemory?(S=GCe(t,e+u.charStrings),n.nGlyphs=S.offsets.length):(S=gu(t,e+u.charStrings),n.nGlyphs=S.objects.length);var w=ZCe(t,e+u.charset,n.nGlyphs,a.objects);if(u.encoding===0?n.cffEncoding=new Ox($Ce,w):u.encoding===1?n.cffEncoding=new Ox(UCe,w):n.cffEncoding=QCe(t,e+u.encoding,w),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new Dl.GlyphSet(n),r.lowMemory)n._push=function(T){var N=WCe(T,S.offsets,t,e+u.charStrings);n.glyphs.push(T,Dl.cffGlyphLoader(n,T,$D,N))};else for(var M=0;M<n.nGlyphs;M+=1){var E=S.objects[M];n.glyphs.push(M,Dl.cffGlyphLoader(n,M,$D,E))}}function PX(t,e){var n,r=s5.indexOf(t);return r>=0&&(n=r),r=e.indexOf(t),r>=0?n=r+s5.length:(n=s5.length+e.length,e.push(t)),n}function tEe(){return new Ht.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function nEe(t){var e=new Ht.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(var n=0;n<t.length;n+=1)e.names.push({name:"name_"+n,type:"NAME",value:t[n]});return e}function NX(t,e,n){for(var r={},i=0;i<t.length;i+=1){var o=t[i],s=e[o.name];s!==void 0&&!CX(s,o.value)&&(o.type==="SID"&&(s=PX(s,n)),r[o.op]={name:o.name,type:o.type,value:s})}return r}function UD(t,e){var n=new Ht.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=NX(MX,t,e),n}function BD(t){var e=new Ht.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:t}],e}function rEe(t){var e=new Ht.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(var n=0;n<t.length;n+=1)e.strings.push({name:"string_"+n,type:"STRING",value:t[n]});return e}function iEe(){return new Ht.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function oEe(t,e){for(var n=new Ht.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<t.length;r+=1){var i=t[r],o=PX(i,e);n.fields.push({name:"glyph_"+r,type:"SID",value:o})}return n}function sEe(t){var e=[],n=t.path;e.push({name:"width",type:"NUMBER",value:t.advanceWidth});for(var r=0,i=0,o=0;o<n.commands.length;o+=1){var s=void 0,a=void 0,l=n.commands[o];if(l.type==="Q"){var c=.3333333333333333,u=2/3;l={type:"C",x:l.x,y:l.y,x1:Math.round(c*r+u*l.x1),y1:Math.round(c*i+u*l.y1),x2:Math.round(c*l.x+u*l.x1),y2:Math.round(c*l.y+u*l.y1)}}if(l.type==="M")s=Math.round(l.x-r),a=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:s}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="L")s=Math.round(l.x-r),a=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:s}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rlineto",type:"OP",value:5}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="C"){var d=Math.round(l.x1-r),f=Math.round(l.y1-i),h=Math.round(l.x2-l.x1),g=Math.round(l.y2-l.y1);s=Math.round(l.x-l.x2),a=Math.round(l.y-l.y2),e.push({name:"dx1",type:"NUMBER",value:d}),e.push({name:"dy1",type:"NUMBER",value:f}),e.push({name:"dx2",type:"NUMBER",value:h}),e.push({name:"dy2",type:"NUMBER",value:g}),e.push({name:"dx",type:"NUMBER",value:s}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(l.x),i=Math.round(l.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}function aEe(t){for(var e=new Ht.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<t.length;n+=1){var r=t.get(n),i=sEe(r);e.charStrings.push({name:r.name,type:"CHARSTRING",value:i})}return e}function lEe(t,e){var n=new Ht.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=NX(RX,t,e),n}function cEe(t,e){for(var n=new Ht.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),r=1/e.unitsPerEm,i={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[r,0,0,r,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},o={},s=[],a,l=1;l<t.length;l+=1)a=t.get(l),s.push(a.name);var c=[];n.header=tEe(),n.nameIndex=nEe([e.postScriptName]);var u=UD(i,c);n.topDictIndex=BD(u),n.globalSubrIndex=iEe(),n.charsets=oEe(s,c),n.charStringsIndex=aEe(t),n.privateDict=lEe(o,c),n.stringIndex=rEe(c);var d=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return i.charset=d,i.encoding=0,i.charStrings=i.charset+n.charsets.sizeOf(),i.private[1]=i.charStrings+n.charStringsIndex.sizeOf(),u=UD(i,c),n.topDictIndex=BD(u),n}var uEe={parse:eEe,make:cEe};function dEe(t,e){var n={},r=new Tn.Parser(t,e);return n.version=r.parseVersion(),n.fontRevision=Math.round(r.parseFixed()*1e3)/1e3,n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),yn.argument(n.magicNumber===1594834165,"Font header has wrong magic number."),n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),n}function fEe(t){var e=Math.round(new Date().getTime()/1e3)+2082844800,n=e;return t.createdTimestamp&&(n=t.createdTimestamp+2082844800),new Ht.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:e},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],t)}var hEe={parse:dEe,make:fEe};function pEe(t,e){var n={},r=new Tn.Parser(t,e);return n.version=r.parseVersion(),n.ascender=r.parseShort(),n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),n}function mEe(t){return new Ht.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],t)}var gEe={parse:pEe,make:mEe};function vEe(t,e,n,r,i){for(var o,s,a=new Tn.Parser(t,e),l=0;l<r;l+=1){l<n&&(o=a.parseUShort(),s=a.parseShort());var c=i.get(l);c.advanceWidth=o,c.leftSideBearing=s}}function yEe(t,e,n,r,i){t._hmtxTableData={};for(var o,s,a=new Tn.Parser(e,n),l=0;l<i;l+=1)l<r&&(o=a.parseUShort(),s=a.parseShort()),t._hmtxTableData[l]={advanceWidth:o,leftSideBearing:s}}function xEe(t,e,n,r,i,o,s){s.lowMemory?yEe(t,e,n,r,i):vEe(e,n,r,i,o)}function bEe(t){for(var e=new Ht.Table("hmtx",[]),n=0;n<t.length;n+=1){var r=t.get(n),i=r.advanceWidth||0,o=r.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:i}),e.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:o})}return e}var SEe={parse:xEe,make:bEe};function _Ee(t){for(var e=new Ht.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:t.length}]),n="",r=12+t.length*4,i=0;i<t.length;++i){var o=n.indexOf(t[i]);o<0&&(o=n.length,n+=t[i]),e.fields.push({name:"offset "+i,type:"USHORT",value:r+o}),e.fields.push({name:"length "+i,type:"USHORT",value:t[i].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),e}function wEe(t,e){var n=new Tn.Parser(t,e),r=n.parseULong();yn.argument(r===1,"Unsupported ltag table version."),n.skip("uLong",1);for(var i=n.parseULong(),o=[],s=0;s<i;s++){for(var a="",l=e+n.parseUShort(),c=n.parseUShort(),u=l;u<l+c;++u)a+=String.fromCharCode(t.getInt8(u));o.push(a)}return o}var CEe={make:_Ee,parse:wEe};function EEe(t,e){var n={},r=new Tn.Parser(t,e);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),n.version===1&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),n.maxComponentDepth=r.parseUShort()),n}function TEe(t){return new Ht.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:t}])}var MEe={parse:EEe,make:TEe},IX=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],OX={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},REe={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},LX={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function AEe(t,e,n){switch(t){case 0:if(e===65535)return"und";if(n)return n[e];break;case 1:return OX[e];case 3:return LX[e]}}var Dw="utf-16",PEe={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},NEe={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function DX(t,e,n){switch(t){case 0:return Dw;case 1:return NEe[n]||PEe[e];case 3:if(e===1||e===10)return Dw;break}}function IEe(t,e,n){for(var r={},i=new Tn.Parser(t,e),o=i.parseUShort(),s=i.parseUShort(),a=i.offset+i.parseUShort(),l=0;l<s;l++){var c=i.parseUShort(),u=i.parseUShort(),d=i.parseUShort(),f=i.parseUShort(),h=IX[f]||f,g=i.parseUShort(),x=i.parseUShort(),b=AEe(c,d,n),v=DX(c,u,d);if(v!==void 0&&b!==void 0){var _=void 0;if(v===Dw?_=qm.UTF16(t,a+x,g):_=qm.MACSTRING(t,a+x,g,v),_){var S=r[h];S===void 0&&(S=r[h]={}),S[b]=_}}}return o===1&&i.parseUShort(),r}function W7(t){var e={};for(var n in t)e[t[n]]=parseInt(n);return e}function kD(t,e,n,r,i,o){return new Ht.Record("NameRecord",[{name:"platformID",type:"USHORT",value:t},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:o}])}function OEe(t,e){var n=t.length,r=e.length-n+1;e:for(var i=0;i<r;i++)for(;i<r;i++){for(var o=0;o<n;o++)if(e[i+o]!==t[o])continue e;return i}return-1}function zD(t,e){var n=OEe(t,e);if(n<0){n=e.length;for(var r=0,i=t.length;r<i;++r)e.push(t[r])}return n}function LEe(t,e){var n,r=[],i={},o=W7(IX);for(var s in t){var a=o[s];if(a===void 0&&(a=s),n=parseInt(a),isNaN(n))throw new Error('Name table entry "'+s+'" does not exist, see nameTableNames for complete list.');i[n]=t[s],r.push(n)}for(var l=W7(OX),c=W7(LX),u=[],d=[],f=0;f<r.length;f++){n=r[f];var h=i[n];for(var g in h){var x=h[g],b=1,v=l[g],_=REe[v],S=DX(b,_,v),w=At.MACSTRING(x,S);w===void 0&&(b=0,v=e.indexOf(g),v<0&&(v=e.length,e.push(g)),_=4,w=At.UTF16(x));var M=zD(w,d);u.push(kD(b,_,v,n,w.length,M));var E=c[g];if(E!==void 0){var T=At.UTF16(x),N=zD(T,d);u.push(kD(3,1,E,n,T.length,N))}}}u.sort(function(L,$){return L.platformID-$.platformID||L.encodingID-$.encodingID||L.languageID-$.languageID||L.nameID-$.nameID});for(var R=new Ht.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:u.length},{name:"stringOffset",type:"USHORT",value:6+u.length*12}]),P=0;P<u.length;P++)R.fields.push({name:"record_"+P,type:"RECORD",value:u[P]});return R.fields.push({name:"strings",type:"LITERAL",value:d}),R}var DEe={parse:IEe,make:LEe},Fw=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function FEe(t){for(var e=0;e<Fw.length;e+=1){var n=Fw[e];if(t>=n.begin&&t<n.end)return e}return-1}function $Ee(t,e){var n={},r=new Tn.Parser(t,e);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var i=0;i<10;i++)n.panose[i]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n}function UEe(t){return new Ht.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],t)}var VD={parse:$Ee,make:UEe,unicodeRanges:Fw,getUnicodeRange:FEe};function BEe(t,e){var n={},r=new Tn.Parser(t,e);switch(n.version=r.parseVersion(),n.italicAngle=r.parseFixed(),n.underlinePosition=r.parseShort(),n.underlineThickness=r.parseShort(),n.isFixedPitch=r.parseULong(),n.minMemType42=r.parseULong(),n.maxMemType42=r.parseULong(),n.minMemType1=r.parseULong(),n.maxMemType1=r.parseULong(),n.version){case 1:n.names=DD.slice();break;case 2:n.numberOfGlyphs=r.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var i=0;i<n.numberOfGlyphs;i++)n.glyphNameIndex[i]=r.parseUShort();n.names=[];for(var o=0;o<n.numberOfGlyphs;o++)if(n.glyphNameIndex[o]>=DD.length){var s=r.parseChar();n.names.push(r.parseString(s))}break;case 2.5:n.numberOfGlyphs=r.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var a=0;a<n.numberOfGlyphs;a++)n.offset[a]=r.parseChar();break}return n}function kEe(){return new Ht.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var zEe={parse:BEe,make:kEe},sl=new Array(9);sl[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(Ke.coverage),deltaGlyphId:this.parseUShort()};if(n===2)return{substFormat:2,coverage:this.parsePointer(Ke.coverage),substitute:this.parseOffset16List()};yn.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")};sl[2]=function(){var e=this.parseUShort();return yn.argument(e===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ke.coverage),sequences:this.parseListOfLists()}};sl[3]=function(){var e=this.parseUShort();return yn.argument(e===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ke.coverage),alternateSets:this.parseListOfLists()}};sl[4]=function(){var e=this.parseUShort();return yn.argument(e===1,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ke.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var tm={sequenceIndex:Ke.uShort,lookupListIndex:Ke.uShort};sl[5]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:n,coverage:this.parsePointer(Ke.coverage),ruleSets:this.parseListOfLists(function(){var o=this.parseUShort(),s=this.parseUShort();return{input:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(s,tm)}})};if(n===2)return{substFormat:n,coverage:this.parsePointer(Ke.coverage),classDef:this.parsePointer(Ke.classDef),classSets:this.parseListOfLists(function(){var o=this.parseUShort(),s=this.parseUShort();return{classes:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(s,tm)}})};if(n===3){var r=this.parseUShort(),i=this.parseUShort();return{substFormat:n,coverages:this.parseList(r,Ke.pointer(Ke.coverage)),lookupRecords:this.parseRecordList(i,tm)}}yn.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};sl[6]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(Ke.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(tm)}})};if(n===2)return{substFormat:2,coverage:this.parsePointer(Ke.coverage),backtrackClassDef:this.parsePointer(Ke.classDef),inputClassDef:this.parsePointer(Ke.classDef),lookaheadClassDef:this.parsePointer(Ke.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(tm)}})};if(n===3)return{substFormat:3,backtrackCoverage:this.parseList(Ke.pointer(Ke.coverage)),inputCoverage:this.parseList(Ke.pointer(Ke.coverage)),lookaheadCoverage:this.parseList(Ke.pointer(Ke.coverage)),lookupRecords:this.parseRecordList(tm)};yn.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};sl[7]=function(){var e=this.parseUShort();yn.argument(e===1,"GSUB Extension Substitution subtable identifier-format must be 1");var n=this.parseUShort(),r=new Ke(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:n,extension:sl[n].call(r)}};sl[8]=function(){var e=this.parseUShort();return yn.argument(e===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ke.coverage),backtrackCoverage:this.parseList(Ke.pointer(Ke.coverage)),lookaheadCoverage:this.parseList(Ke.pointer(Ke.coverage)),substitutes:this.parseUShortList()}};function VEe(t,e){e=e||0;var n=new Ke(t,e),r=n.parseVersion(1);return yn.argument(r===1||r===1.1,"Unsupported GSUB table version."),r===1?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(sl)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(sl),variations:n.parseFeatureVariationsList()}}var S0=new Array(9);S0[1]=function(e){return e.substFormat===1?new Ht.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ht.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new Ht.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ht.Coverage(e.coverage)}].concat(Ht.ushortList("substitute",e.substitute)))};S0[2]=function(e){return yn.assert(e.substFormat===1,"Lookup type 2 substFormat must be 1."),new Ht.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ht.Coverage(e.coverage)}].concat(Ht.tableList("seqSet",e.sequences,function(n){return new Ht.Table("sequenceSetTable",Ht.ushortList("sequence",n))})))};S0[3]=function(e){return yn.assert(e.substFormat===1,"Lookup type 3 substFormat must be 1."),new Ht.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ht.Coverage(e.coverage)}].concat(Ht.tableList("altSet",e.alternateSets,function(n){return new Ht.Table("alternateSetTable",Ht.ushortList("alternate",n))})))};S0[4]=function(e){return yn.assert(e.substFormat===1,"Lookup type 4 substFormat must be 1."),new Ht.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ht.Coverage(e.coverage)}].concat(Ht.tableList("ligSet",e.ligatureSets,function(n){return new Ht.Table("ligatureSetTable",Ht.tableList("ligature",n,function(r){return new Ht.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:r.ligGlyph}].concat(Ht.ushortList("component",r.components,r.components.length+1)))}))})))};S0[6]=function(e){if(e.substFormat===1){var n=new Ht.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new Ht.Coverage(e.coverage)}].concat(Ht.tableList("chainRuleSet",e.chainRuleSets,function(o){return new Ht.Table("chainRuleSetTable",Ht.tableList("chainRule",o,function(s){var a=Ht.ushortList("backtrackGlyph",s.backtrack,s.backtrack.length).concat(Ht.ushortList("inputGlyph",s.input,s.input.length+1)).concat(Ht.ushortList("lookaheadGlyph",s.lookahead,s.lookahead.length)).concat(Ht.ushortList("substitution",[],s.lookupRecords.length));return s.lookupRecords.forEach(function(l,c){a=a.concat({name:"sequenceIndex"+c,type:"USHORT",value:l.sequenceIndex}).concat({name:"lookupListIndex"+c,type:"USHORT",value:l.lookupListIndex})}),new Ht.Table("chainRuleTable",a)}))})));return n}else if(e.substFormat===2)yn.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(e.substFormat===3){var r=[{name:"substFormat",type:"USHORT",value:e.substFormat}];r.push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach(function(o,s){r.push({name:"backtrackCoverage"+s,type:"TABLE",value:new Ht.Coverage(o)})}),r.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach(function(o,s){r.push({name:"inputCoverage"+s,type:"TABLE",value:new Ht.Coverage(o)})}),r.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach(function(o,s){r.push({name:"lookaheadCoverage"+s,type:"TABLE",value:new Ht.Coverage(o)})}),r.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach(function(o,s){r=r.concat({name:"sequenceIndex"+s,type:"USHORT",value:o.sequenceIndex}).concat({name:"lookupListIndex"+s,type:"USHORT",value:o.lookupListIndex})});var i=new Ht.Table("chainContextTable",r);return i}yn.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function HEe(t){return new Ht.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ht.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new Ht.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new Ht.LookupList(t.lookups,S0)}])}var GEe={parse:VEe,make:HEe};function WEe(t,e){var n=new Tn.Parser(t,e),r=n.parseULong();yn.argument(r===1,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var i=n.parseULong(),o={},s=0;s<i;s++){var a=n.parseTag(),l=n.parseULong(),c=n.parseULong(),u=qm.UTF8(t,e+l,c);o[a]=u}return o}function jEe(t){var e=Object.keys(t).length,n="",r=16+e*12,i=new Ht.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:e}]);for(var o in t){var s=n.length;n+=t[o],i.fields.push({name:"tag "+o,type:"TAG",value:o}),i.fields.push({name:"offset "+o,type:"ULONG",value:r+s}),i.fields.push({name:"length "+o,type:"ULONG",value:t[o].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),i}var XEe={parse:WEe,make:jEe};function HD(t){return Math.log(t)/Math.log(2)|0}function SM(t){for(;t.length%4!==0;)t.push(0);for(var e=0,n=0;n<t.length;n+=4)e+=(t[n]<<24)+(t[n+1]<<16)+(t[n+2]<<8)+t[n+3];return e%=Math.pow(2,32),e}function GD(t,e,n,r){return new Ht.Record("Table Record",[{name:"tag",type:"TAG",value:t!==void 0?t:""},{name:"checkSum",type:"ULONG",value:e!==void 0?e:0},{name:"offset",type:"ULONG",value:n!==void 0?n:0},{name:"length",type:"ULONG",value:r!==void 0?r:0}])}function FX(t){var e=new Ht.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=t,e.numTables=t.length;var n=Math.pow(2,HD(e.numTables));e.searchRange=16*n,e.entrySelector=HD(n),e.rangeShift=e.numTables*16-e.searchRange;for(var r=[],i=[],o=e.sizeOf()+GD().sizeOf()*e.numTables;o%4!==0;)o+=1,i.push({name:"padding",type:"BYTE",value:0});for(var s=0;s<t.length;s+=1){var a=t[s];yn.argument(a.tableName.length===4,"Table name"+a.tableName+" is invalid.");var l=a.sizeOf(),c=GD(a.tableName,SM(a.encode()),o,l);for(r.push({name:c.tag+" Table Record",type:"RECORD",value:c}),i.push({name:a.tableName+" table",type:"RECORD",value:a}),o+=l,yn.argument(!isNaN(o),"Something went wrong calculating the offset.");o%4!==0;)o+=1,i.push({name:"padding",type:"BYTE",value:0})}return r.sort(function(u,d){return u.value.tag>d.value.tag?1:-1}),e.fields=e.fields.concat(r),e.fields=e.fields.concat(i),e}function WD(t,e,n){for(var r=0;r<e.length;r+=1){var i=t.charToGlyphIndex(e[r]);if(i>0){var o=t.glyphs.get(i);return o.getMetrics()}}return n}function qEe(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n];return e/t.length}function KEe(t){for(var e=[],n=[],r=[],i=[],o=[],s=[],a=[],l,c=0,u=0,d=0,f=0,h=0,g=0;g<t.glyphs.length;g+=1){var x=t.glyphs.get(g),b=x.unicode|0;if(isNaN(x.advanceWidth))throw new Error("Glyph "+x.name+" ("+g+"): advanceWidth is not a number.");(l>b||l===void 0)&&b>0&&(l=b),c<b&&(c=b);var v=VD.getUnicodeRange(b);if(v<32)u|=1<<v;else if(v<64)d|=1<<v-32;else if(v<96)f|=1<<v-64;else if(v<123)h|=1<<v-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(x.name!==".notdef"){var _=x.getMetrics();e.push(_.xMin),n.push(_.yMin),r.push(_.xMax),i.push(_.yMax),s.push(_.leftSideBearing),a.push(_.rightSideBearing),o.push(x.advanceWidth)}}var S={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,r),yMax:Math.max.apply(null,i),advanceWidthMax:Math.max.apply(null,o),advanceWidthAvg:qEe(o),minLeftSideBearing:Math.min.apply(null,s),maxLeftSideBearing:Math.max.apply(null,s),minRightSideBearing:Math.min.apply(null,a)};S.ascender=t.ascender,S.descender=t.descender;var w=hEe.make({flags:3,unitsPerEm:t.unitsPerEm,xMin:S.xMin,yMin:S.yMin,xMax:S.xMax,yMax:S.yMax,lowestRecPPEM:3,createdTimestamp:t.createdTimestamp}),M=gEe.make({ascender:S.ascender,descender:S.descender,advanceWidthMax:S.advanceWidthMax,minLeftSideBearing:S.minLeftSideBearing,minRightSideBearing:S.minRightSideBearing,xMaxExtent:S.maxLeftSideBearing+(S.xMax-S.xMin),numberOfHMetrics:t.glyphs.length}),E=MEe.make(t.glyphs.length),T=VD.make(Object.assign({xAvgCharWidth:Math.round(S.advanceWidthAvg),usFirstCharIndex:l,usLastCharIndex:c,ulUnicodeRange1:u,ulUnicodeRange2:d,ulUnicodeRange3:f,ulUnicodeRange4:h,sTypoAscender:S.ascender,sTypoDescender:S.descender,sTypoLineGap:0,usWinAscent:S.yMax,usWinDescent:Math.abs(S.yMin),ulCodePageRange1:1,sxHeight:WD(t,"xyvw",{yMax:Math.round(S.ascender/2)}).yMax,sCapHeight:WD(t,"HIKLEFJMNTZBDPRAGOQSUVWXY",S).yMax,usDefaultChar:t.hasChar(" ")?32:0,usBreakChar:t.hasChar(" ")?32:0},t.tables.os2)),N=SEe.make(t.glyphs),R=FCe.make(t.glyphs),P=t.getEnglishName("fontFamily"),L=t.getEnglishName("fontSubfamily"),$=P+" "+L,V=t.getEnglishName("postScriptName");V||(V=P.replace(/\s/g,"")+"-"+L);var D={};for(var H in t.names)D[H]=t.names[H];D.uniqueID||(D.uniqueID={en:t.getEnglishName("manufacturer")+":"+$}),D.postScriptName||(D.postScriptName={en:V}),D.preferredFamily||(D.preferredFamily=t.names.fontFamily),D.preferredSubfamily||(D.preferredSubfamily=t.names.fontSubfamily);var F=[],k=DEe.make(D,F),O=F.length>0?CEe.make(F):void 0,B=zEe.make(),G=uEe.make(t.glyphs,{version:t.getEnglishName("version"),fullName:$,familyName:P,weightName:L,postScriptName:V,unitsPerEm:t.unitsPerEm,fontBBox:[0,S.yMin,S.ascender,S.advanceWidthMax]}),W=t.metas&&Object.keys(t.metas).length>0?XEe.make(t.metas):void 0,K=[w,M,E,T,k,R,B,G,N];O&&K.push(O),t.tables.gsub&&K.push(GEe.make(t.tables.gsub)),W&&K.push(W);for(var X=FX(K),Y=X.encode(),te=SM(Y),oe=X.fields,ie=!1,le=0;le<oe.length;le+=1)if(oe[le].name==="head table"){oe[le].value.checkSumAdjustment=2981146554-te,ie=!0;break}if(!ie)throw new Error("Could not find head table with checkSum to adjust.");return X}var YEe={make:FX,fontToTable:KEe,computeCheckSum:SM};function j7(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,o=t[i].tag;if(o===e)return i;o<e?n=i+1:r=i-1}return-n-1}function jD(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,o=t[i];if(o===e)return i;o<e?n=i+1:r=i-1}return-n-1}function XD(t,e){for(var n,r=0,i=t.length-1;r<=i;){var o=r+i>>>1;n=t[o];var s=n.start;if(s===e)return n;s<e?r=o+1:i=o-1}if(r>0)return n=t[r-1],e>n.end?0:n}function Y3(t,e){this.font=t,this.tableName=e}Y3.prototype={searchTag:j7,binSearch:jD,getTable:function(t){var e=this.font.tables[this.tableName];return!e&&t&&(e=this.font.tables[this.tableName]=this.createDefaultTable()),e},getScriptNames:function(){var t=this.getTable();return t?t.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var t=this.getTable();if(t){for(var e=!1,n=0;n<t.scripts.length;n++){var r=t.scripts[n].tag;if(r==="DFLT")return r;r==="latn"&&(e=!0)}if(e)return"latn"}},getScriptTable:function(t,e){var n=this.getTable(e);if(n){t=t||"DFLT";var r=n.scripts,i=j7(n.scripts,t);if(i>=0)return r[i].script;if(e){var o={tag:t,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-i,0,o),o.script}}},getLangSysTable:function(t,e,n){var r=this.getScriptTable(t,n);if(r){if(!e||e==="dflt"||e==="DFLT")return r.defaultLangSys;var i=j7(r.langSysRecords,e);if(i>=0)return r.langSysRecords[i].langSys;if(n){var o={tag:e,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-i,0,o),o.langSys}}},getFeatureTable:function(t,e,n,r){var i=this.getLangSysTable(t,e,r);if(i){for(var o,s=i.featureIndexes,a=this.font.tables[this.tableName].features,l=0;l<s.length;l++)if(o=a[s[l]],o.tag===n)return o.feature;if(r){var c=a.length;return yn.assert(c===0||n>=a[c-1].tag,"Features must be added in alphabetical order."),o={tag:n,feature:{params:0,lookupListIndexes:[]}},a.push(o),s.push(c),o.feature}}},getLookupTables:function(t,e,n,r,i){var o=this.getFeatureTable(t,e,n,i),s=[];if(o){for(var a,l=o.lookupListIndexes,c=this.font.tables[this.tableName].lookups,u=0;u<l.length;u++)a=c[l[u]],a.lookupType===r&&s.push(a);if(s.length===0&&i){a={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var d=c.length;return c.push(a),l.push(d),[a]}}return s},getGlyphClass:function(t,e){switch(t.format){case 1:return t.startGlyph<=e&&e<t.startGlyph+t.classes.length?t.classes[e-t.startGlyph]:0;case 2:var n=XD(t.ranges,e);return n?n.classId:0}},getCoverageIndex:function(t,e){switch(t.format){case 1:var n=jD(t.glyphs,e);return n>=0?n:-1;case 2:var r=XD(t.ranges,e);return r?r.index+e-r.start:-1}},expandCoverage:function(t){if(t.format===1)return t.glyphs;for(var e=[],n=t.ranges,r=0;r<n.length;r++)for(var i=n[r],o=i.start,s=i.end,a=o;a<=s;a++)e.push(a);return e}};function Z3(t){Y3.call(this,t,"gpos")}Z3.prototype=Y3.prototype;Z3.prototype.init=function(){var t=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(t)};Z3.prototype.getKerningValue=function(t,e,n){for(var r=0;r<t.length;r++)for(var i=t[r].subtables,o=0;o<i.length;o++){var s=i[o],a=this.getCoverageIndex(s.coverage,e);if(!(a<0))switch(s.posFormat){case 1:for(var l=s.pairSets[a],c=0;c<l.length;c++){var u=l[c];if(u.secondGlyph===n)return u.value1&&u.value1.xAdvance||0}break;case 2:var d=this.getGlyphClass(s.classDef1,e),f=this.getGlyphClass(s.classDef2,n),h=s.classRecords[d][f];return h.value1&&h.value1.xAdvance||0}}return 0};Z3.prototype.getKerningTables=function(t,e){if(this.font.tables.gpos)return this.getLookupTables(t,e,"kern",2)};function Hs(t){Y3.call(this,t,"gsub")}function ZEe(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function _M(t,e,n){for(var r=t.subtables,i=0;i<r.length;i++){var o=r[i];if(o.substFormat===e)return o}if(n)return r.push(n),n}Hs.prototype=Y3.prototype;Hs.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};Hs.prototype.getSingle=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,1),o=0;o<i.length;o++)for(var s=i[o].subtables,a=0;a<s.length;a++){var l=s[a],c=this.expandCoverage(l.coverage),u=void 0;if(l.substFormat===1){var d=l.deltaGlyphId;for(u=0;u<c.length;u++){var f=c[u];r.push({sub:f,by:f+d})}}else{var h=l.substitute;for(u=0;u<c.length;u++)r.push({sub:c[u],by:h[u]})}}return r};Hs.prototype.getMultiple=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,2),o=0;o<i.length;o++)for(var s=i[o].subtables,a=0;a<s.length;a++){var l=s[a],c=this.expandCoverage(l.coverage),u=void 0;for(u=0;u<c.length;u++){var d=c[u],f=l.sequences[u];r.push({sub:d,by:f})}}return r};Hs.prototype.getAlternates=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,3),o=0;o<i.length;o++)for(var s=i[o].subtables,a=0;a<s.length;a++)for(var l=s[a],c=this.expandCoverage(l.coverage),u=l.alternateSets,d=0;d<c.length;d++)r.push({sub:c[d],by:u[d]});return r};Hs.prototype.getLigatures=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,4),o=0;o<i.length;o++)for(var s=i[o].subtables,a=0;a<s.length;a++)for(var l=s[a],c=this.expandCoverage(l.coverage),u=l.ligatureSets,d=0;d<c.length;d++)for(var f=c[d],h=u[d],g=0;g<h.length;g++){var x=h[g];r.push({sub:[f].concat(x.components),by:x.ligGlyph})}return r};Hs.prototype.addSingle=function(t,e,n,r){var i=this.getLookupTables(n,r,t,1,!0)[0],o=_M(i,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});yn.assert(o.coverage.format===1,"Single: unable to modify coverage table format "+o.coverage.format);var s=e.sub,a=this.binSearch(o.coverage.glyphs,s);a<0&&(a=-1-a,o.coverage.glyphs.splice(a,0,s),o.substitute.splice(a,0,0)),o.substitute[a]=e.by};Hs.prototype.addMultiple=function(t,e,n,r){yn.assert(e.by instanceof Array&&e.by.length>1,'Multiple: "by" must be an array of two or more ids');var i=this.getLookupTables(n,r,t,2,!0)[0],o=_M(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});yn.assert(o.coverage.format===1,"Multiple: unable to modify coverage table format "+o.coverage.format);var s=e.sub,a=this.binSearch(o.coverage.glyphs,s);a<0&&(a=-1-a,o.coverage.glyphs.splice(a,0,s),o.sequences.splice(a,0,0)),o.sequences[a]=e.by};Hs.prototype.addAlternate=function(t,e,n,r){var i=this.getLookupTables(n,r,t,3,!0)[0],o=_M(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});yn.assert(o.coverage.format===1,"Alternate: unable to modify coverage table format "+o.coverage.format);var s=e.sub,a=this.binSearch(o.coverage.glyphs,s);a<0&&(a=-1-a,o.coverage.glyphs.splice(a,0,s),o.alternateSets.splice(a,0,0)),o.alternateSets[a]=e.by};Hs.prototype.addLigature=function(t,e,n,r){var i=this.getLookupTables(n,r,t,4,!0)[0],o=i.subtables[0];o||(o={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},i.subtables[0]=o),yn.assert(o.coverage.format===1,"Ligature: unable to modify coverage table format "+o.coverage.format);var s=e.sub[0],a=e.sub.slice(1),l={ligGlyph:e.by,components:a},c=this.binSearch(o.coverage.glyphs,s);if(c>=0){for(var u=o.ligatureSets[c],d=0;d<u.length;d++)if(ZEe(u[d].components,a))return;u.push(l)}else c=-1-c,o.coverage.glyphs.splice(c,0,s),o.ligatureSets.splice(c,0,[l])};Hs.prototype.getFeature=function(t,e,n){if(/ss\d\d/.test(t))return this.getSingle(t,e,n);switch(t){case"aalt":case"salt":return this.getSingle(t,e,n).concat(this.getAlternates(t,e,n));case"dlig":case"liga":case"rlig":return this.getLigatures(t,e,n);case"ccmp":return this.getMultiple(t,e,n).concat(this.getLigatures(t,e,n));case"stch":return this.getMultiple(t,e,n)}};Hs.prototype.add=function(t,e,n,r){if(/ss\d\d/.test(t))return this.addSingle(t,e,n,r);switch(t){case"aalt":case"salt":return typeof e.by=="number"?this.addSingle(t,e,n,r):this.addAlternate(t,e,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(t,e,n,r);case"ccmp":return e.by instanceof Array?this.addMultiple(t,e,n,r):this.addLigature(t,e,n,r)}};function QEe(){return typeof window<"u"}function JEe(t){for(var e=new Buffer(t.byteLength),n=new Uint8Array(t),r=0;r<e.length;++r)e[r]=n[r];return e}function Sg(t,e){if(!t)throw e}function qD(t,e,n,r,i){var o;return(e&r)>0?(o=t.parseByte(),e&i||(o=-o),o=n+o):(e&i)>0?o=n:o=n+t.parseShort(),o}function $X(t,e,n){var r=new Tn.Parser(e,n);t.numberOfContours=r.parseShort(),t._xMin=r.parseShort(),t._yMin=r.parseShort(),t._xMax=r.parseShort(),t._yMax=r.parseShort();var i,o;if(t.numberOfContours>0){for(var s=t.endPointIndices=[],a=0;a<t.numberOfContours;a+=1)s.push(r.parseUShort());t.instructionLength=r.parseUShort(),t.instructions=[];for(var l=0;l<t.instructionLength;l+=1)t.instructions.push(r.parseByte());var c=s[s.length-1]+1;i=[];for(var u=0;u<c;u+=1)if(o=r.parseByte(),i.push(o),(o&8)>0)for(var d=r.parseByte(),f=0;f<d;f+=1)i.push(o),u+=1;if(yn.argument(i.length===c,"Bad flags."),s.length>0){var h=[],g;if(c>0){for(var x=0;x<c;x+=1)o=i[x],g={},g.onCurve=!!(o&1),g.lastPointOfContour=s.indexOf(x)>=0,h.push(g);for(var b=0,v=0;v<c;v+=1)o=i[v],g=h[v],g.x=qD(r,o,b,2,16),b=g.x;for(var _=0,S=0;S<c;S+=1)o=i[S],g=h[S],g.y=qD(r,o,_,4,32),_=g.y}t.points=h}else t.points=[]}else if(t.numberOfContours===0)t.points=[];else{t.isComposite=!0,t.points=[],t.components=[];for(var w=!0;w;){i=r.parseUShort();var M={glyphIndex:r.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(i&1)>0?(i&2)>0?(M.dx=r.parseShort(),M.dy=r.parseShort()):M.matchedPoints=[r.parseUShort(),r.parseUShort()]:(i&2)>0?(M.dx=r.parseChar(),M.dy=r.parseChar()):M.matchedPoints=[r.parseByte(),r.parseByte()],(i&8)>0?M.xScale=M.yScale=r.parseF2Dot14():(i&64)>0?(M.xScale=r.parseF2Dot14(),M.yScale=r.parseF2Dot14()):(i&128)>0&&(M.xScale=r.parseF2Dot14(),M.scale01=r.parseF2Dot14(),M.scale10=r.parseF2Dot14(),M.yScale=r.parseF2Dot14()),t.components.push(M),w=!!(i&32)}if(i&256){t.instructionLength=r.parseUShort(),t.instructions=[];for(var E=0;E<t.instructionLength;E+=1)t.instructions.push(r.parseByte())}}}function X7(t,e){for(var n=[],r=0;r<t.length;r+=1){var i=t[r],o={x:e.xScale*i.x+e.scale01*i.y+e.dx,y:e.scale10*i.x+e.yScale*i.y+e.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};n.push(o)}return n}function eTe(t){for(var e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];n.push(i),i.lastPointOfContour&&(e.push(n),n=[])}return yn.argument(n.length===0,"There are still points left in the current contour."),e}function UX(t){var e=new Li;if(!t)return e;for(var n=eTe(t),r=0;r<n.length;++r){var i=n[r],o=null,s=i[i.length-1],a=i[0];if(s.onCurve)e.moveTo(s.x,s.y);else if(a.onCurve)e.moveTo(a.x,a.y);else{var l={x:(s.x+a.x)*.5,y:(s.y+a.y)*.5};e.moveTo(l.x,l.y)}for(var c=0;c<i.length;++c)if(o=s,s=a,a=i[(c+1)%i.length],s.onCurve)e.lineTo(s.x,s.y);else{var u=a;o.onCurve||((s.x+o.x)*.5,(s.y+o.y)*.5),a.onCurve||(u={x:(s.x+a.x)*.5,y:(s.y+a.y)*.5}),e.quadraticCurveTo(s.x,s.y,u.x,u.y)}e.closePath()}return e}function BX(t,e){if(e.isComposite)for(var n=0;n<e.components.length;n+=1){var r=e.components[n],i=t.get(r.glyphIndex);if(i.getPath(),i.points){var o=void 0;if(r.matchedPoints===void 0)o=X7(i.points,r);else{if(r.matchedPoints[0]>e.points.length-1||r.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+e.name);var s=e.points[r.matchedPoints[0]],a=i.points[r.matchedPoints[1]],l={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};a=X7([a],l)[0],l.dx=s.x-a.x,l.dy=s.y-a.y,o=X7(i.points,l)}e.points=e.points.concat(o)}}return UX(e.points)}function tTe(t,e,n,r){for(var i=new Dl.GlyphSet(r),o=0;o<n.length-1;o+=1){var s=n[o],a=n[o+1];s!==a?i.push(o,Dl.ttfGlyphLoader(r,o,$X,t,e+s,BX)):i.push(o,Dl.glyphLoader(r,o))}return i}function nTe(t,e,n,r){var i=new Dl.GlyphSet(r);return r._push=function(o){var s=n[o],a=n[o+1];s!==a?i.push(o,Dl.ttfGlyphLoader(r,o,$X,t,e+s,BX)):i.push(o,Dl.glyphLoader(r,o))},i}function rTe(t,e,n,r,i){return i.lowMemory?nTe(t,e,n,r):tTe(t,e,n,r)}var iTe={getPath:UX,parse:rTe},kX,jf,zX,$w;function VX(t){this.font=t,this.getCommands=function(e){return iTe.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function oTe(t){return t}function HX(t){return Math.sign(t)*Math.round(Math.abs(t))}function sTe(t){return Math.sign(t)*Math.round(Math.abs(t*2))/2}function aTe(t){return Math.sign(t)*(Math.round(Math.abs(t)+.5)-.5)}function lTe(t){return Math.sign(t)*Math.ceil(Math.abs(t))}function cTe(t){return Math.sign(t)*Math.floor(Math.abs(t))}var GX=function(t){var e=this.srPeriod,n=this.srPhase,r=this.srThreshold,i=1;return t<0&&(t=-t,i=-1),t+=r-n,t=Math.trunc(t/e)*e,t+=n,t<0?n*i:t*i},Rl={x:1,y:0,axis:"x",distance:function(t,e,n,r){return(n?t.xo:t.x)-(r?e.xo:e.x)},interpolate:function(t,e,n,r){var i,o,s,a,l,c,u;if(!r||r===this){if(i=t.xo-e.xo,o=t.xo-n.xo,l=e.x-e.xo,c=n.x-n.xo,s=Math.abs(i),a=Math.abs(o),u=s+a,u===0){t.x=t.xo+(l+c)/2;return}t.x=t.xo+(l*a+c*s)/u;return}if(i=r.distance(t,e,!0,!0),o=r.distance(t,n,!0,!0),l=r.distance(e,e,!1,!0),c=r.distance(n,n,!1,!0),s=Math.abs(i),a=Math.abs(o),u=s+a,u===0){Rl.setRelative(t,t,(l+c)/2,r,!0);return}Rl.setRelative(t,t,(l*a+c*s)/u,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(t,e,n,r,i){if(!r||r===this){t.x=(i?e.xo:e.x)+n;return}var o=i?e.xo:e.x,s=i?e.yo:e.y,a=o+n*r.x,l=s+n*r.y;t.x=a+(t.y-l)/r.normalSlope},slope:0,touch:function(t){t.xTouched=!0},touched:function(t){return t.xTouched},untouch:function(t){t.xTouched=!1}},_c={x:0,y:1,axis:"y",distance:function(t,e,n,r){return(n?t.yo:t.y)-(r?e.yo:e.y)},interpolate:function(t,e,n,r){var i,o,s,a,l,c,u;if(!r||r===this){if(i=t.yo-e.yo,o=t.yo-n.yo,l=e.y-e.yo,c=n.y-n.yo,s=Math.abs(i),a=Math.abs(o),u=s+a,u===0){t.y=t.yo+(l+c)/2;return}t.y=t.yo+(l*a+c*s)/u;return}if(i=r.distance(t,e,!0,!0),o=r.distance(t,n,!0,!0),l=r.distance(e,e,!1,!0),c=r.distance(n,n,!1,!0),s=Math.abs(i),a=Math.abs(o),u=s+a,u===0){_c.setRelative(t,t,(l+c)/2,r,!0);return}_c.setRelative(t,t,(l*a+c*s)/u,r,!0)},normalSlope:0,setRelative:function(t,e,n,r,i){if(!r||r===this){t.y=(i?e.yo:e.y)+n;return}var o=i?e.xo:e.x,s=i?e.yo:e.y,a=o+n*r.x,l=s+n*r.y;t.y=l+r.normalSlope*(t.x-a)},slope:Number.POSITIVE_INFINITY,touch:function(t){t.yTouched=!0},touched:function(t){return t.yTouched},untouch:function(t){t.yTouched=!1}};Object.freeze(Rl);Object.freeze(_c);function Q3(t,e){this.x=t,this.y=e,this.axis=void 0,this.slope=e/t,this.normalSlope=-t/e,Object.freeze(this)}Q3.prototype.distance=function(t,e,n,r){return this.x*Rl.distance(t,e,n,r)+this.y*_c.distance(t,e,n,r)};Q3.prototype.interpolate=function(t,e,n,r){var i,o,s,a,l,c,u;if(s=r.distance(t,e,!0,!0),a=r.distance(t,n,!0,!0),i=r.distance(e,e,!1,!0),o=r.distance(n,n,!1,!0),l=Math.abs(s),c=Math.abs(a),u=l+c,u===0){this.setRelative(t,t,(i+o)/2,r,!0);return}this.setRelative(t,t,(i*c+o*l)/u,r,!0)};Q3.prototype.setRelative=function(t,e,n,r,i){r=r||this;var o=i?e.xo:e.x,s=i?e.yo:e.y,a=o+n*r.x,l=s+n*r.y,c=r.normalSlope,u=this.slope,d=t.x,f=t.y;t.x=(u*d-c*a+l-f)/(u-c),t.y=u*(t.x-d)+f};Q3.prototype.touch=function(t){t.xTouched=!0,t.yTouched=!0};function J3(t,e){var n=Math.sqrt(t*t+e*e);return t/=n,e/=n,t===1&&e===0?Rl:t===0&&e===1?_c:new Q3(t,e)}function Rc(t,e,n,r){this.x=this.xo=Math.round(t*64)/64,this.y=this.yo=Math.round(e*64)/64,this.lastPointOfContour=n,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Rc.prototype.nextTouched=function(t){for(var e=this.nextPointOnContour;!t.touched(e)&&e!==this;)e=e.nextPointOnContour;return e};Rc.prototype.prevTouched=function(t){for(var e=this.prevPointOnContour;!t.touched(e)&&e!==this;)e=e.prevPointOnContour;return e};var l3=Object.freeze(new Rc(0,0)),uTe={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Ru(t,e){switch(this.env=t,this.stack=[],this.prog=e,t){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Rl,this.round=HX}}VX.prototype.exec=function(t,e){if(typeof e!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,r=this._prepState;if(!r||r.ppem!==e){var i=this._fpgmState;if(!i){Ru.prototype=uTe,i=this._fpgmState=new Ru("fpgm",n.tables.fpgm),i.funcs=[],i.font=n,exports.DEBUG&&(console.log("---EXEC FPGM---"),i.step=-1);try{jf(i)}catch(c){console.log("Hinting error in FPGM:"+c),this._errorState=3;return}}Ru.prototype=i,r=this._prepState=new Ru("prep",n.tables.prep),r.ppem=e;var o=n.tables.cvt;if(o)for(var s=r.cvt=new Array(o.length),a=e/n.unitsPerEm,l=0;l<o.length;l++)s[l]=o[l]*a;else r.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),r.step=-1);try{jf(r)}catch(c){this._errorState<2&&console.log("Hinting error in PREP:"+c),this._errorState=2}}if(!(this._errorState>1))try{return zX(t,r)}catch(c){this._errorState<1&&(console.log("Hinting error:"+c),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};zX=function(t,e){var n=e.ppem/e.font.unitsPerEm,r=n,i=t.components,o,s,a;if(Ru.prototype=e,!i)a=new Ru("glyf",t.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),a.step=-1),$w(t,a,n,r),s=a.gZone;else{var l=e.font;s=[],o=[];for(var c=0;c<i.length;c++){var u=i[c],d=l.glyphs.get(u.glyphIndex);a=new Ru("glyf",d.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+c+"---"),a.step=-1),$w(d,a,n,r);for(var f=Math.round(u.dx*n),h=Math.round(u.dy*r),g=a.gZone,x=a.contours,b=0;b<g.length;b++){var v=g[b];v.xTouched=v.yTouched=!1,v.xo=v.x=v.x+f,v.yo=v.y=v.y+h}var _=s.length;s.push.apply(s,g);for(var S=0;S<x.length;S++)o.push(x[S]+_)}t.instructions&&!a.inhibitGridFit&&(a=new Ru("glyf",t.instructions),a.gZone=a.z0=a.z1=a.z2=s,a.contours=o,s.push(new Rc(0,0),new Rc(Math.round(t.advanceWidth*n),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),a.step=-1),jf(a),s.length-=2)}return s};$w=function(t,e,n,r){for(var i=t.points||[],o=i.length,s=e.gZone=e.z0=e.z1=e.z2=[],a=e.contours=[],l,c=0;c<o;c++)l=i[c],s[c]=new Rc(l.x*n,l.y*r,l.lastPointOfContour,l.onCurve);for(var u,d,f=0;f<o;f++)l=s[f],u||(u=l,a.push(f)),l.lastPointOfContour?(l.nextPointOnContour=u,u.prevPointOnContour=l,u=void 0):(d=s[f+1],l.nextPointOnContour=d,d.prevPointOnContour=l);if(!e.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",e.stack);for(var h=0;h<o;h++)console.log(h,s[h].x,s[h].y)}if(s.push(new Rc(0,0),new Rc(Math.round(t.advanceWidth*n),0)),jf(e),s.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",e.stack);for(var g=0;g<o;g++)console.log(g,s[g].x,s[g].y)}}};jf=function(t){var e=t.prog;if(e){var n=e.length,r;for(t.ip=0;t.ip<n;t.ip++){if(exports.DEBUG&&t.step++,r=kX[e[t.ip]],!r)throw new Error("unknown instruction: 0x"+Number(e[t.ip]).toString(16));r(t)}}};function lS(t){for(var e=t.tZone=new Array(t.gZone.length),n=0;n<e.length;n++)e[n]=new Rc(0,0)}function WX(t,e){var n=t.prog,r=t.ip,i=1,o;do if(o=n[++r],o===88)i++;else if(o===89)i--;else if(o===64)r+=n[r+1]+1;else if(o===65)r+=2*n[r+1]+1;else if(o>=176&&o<=183)r+=o-176+1;else if(o>=184&&o<=191)r+=(o-184+1)*2;else if(e&&i===1&&o===27)break;while(i>0);t.ip=r}function KD(t,e){exports.DEBUG&&console.log(e.step,"SVTCA["+t.axis+"]"),e.fv=e.pv=e.dpv=t}function YD(t,e){exports.DEBUG&&console.log(e.step,"SPVTCA["+t.axis+"]"),e.pv=e.dpv=t}function ZD(t,e){exports.DEBUG&&console.log(e.step,"SFVTCA["+t.axis+"]"),e.fv=t}function QD(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z2[r],s=e.z1[i];exports.DEBUG&&console.log("SPVTL["+t+"]",r,i);var a,l;t?(a=o.y-s.y,l=s.x-o.x):(a=s.x-o.x,l=s.y-o.y),e.pv=e.dpv=J3(a,l)}function JD(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z2[r],s=e.z1[i];exports.DEBUG&&console.log("SFVTL["+t+"]",r,i);var a,l;t?(a=o.y-s.y,l=s.x-o.x):(a=s.x-o.x,l=s.y-o.y),e.fv=J3(a,l)}function dTe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.pv=t.dpv=J3(r,n)}function fTe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.fv=J3(r,n)}function hTe(t){var e=t.stack,n=t.pv;exports.DEBUG&&console.log(t.step,"GPV[]"),e.push(n.x*16384),e.push(n.y*16384)}function pTe(t){var e=t.stack,n=t.fv;exports.DEBUG&&console.log(t.step,"GFV[]"),e.push(n.x*16384),e.push(n.y*16384)}function mTe(t){t.fv=t.pv,exports.DEBUG&&console.log(t.step,"SFVTPV[]")}function gTe(t){var e=t.stack,n=e.pop(),r=e.pop(),i=e.pop(),o=e.pop(),s=e.pop(),a=t.z0,l=t.z1,c=a[n],u=a[r],d=l[i],f=l[o],h=t.z2[s];exports.DEBUG&&console.log("ISECT[], ",n,r,i,o,s);var g=c.x,x=c.y,b=u.x,v=u.y,_=d.x,S=d.y,w=f.x,M=f.y,E=(g-b)*(S-M)-(x-v)*(_-w),T=g*v-x*b,N=_*M-S*w;h.x=(T*(_-w)-N*(g-b))/E,h.y=(T*(S-M)-N*(x-v))/E}function vTe(t){t.rp0=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP0[]",t.rp0)}function yTe(t){t.rp1=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP1[]",t.rp1)}function xTe(t){t.rp2=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP2[]",t.rp2)}function bTe(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP0[]",e),t.zp0=e,e){case 0:t.tZone||lS(t),t.z0=t.tZone;break;case 1:t.z0=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function STe(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP1[]",e),t.zp1=e,e){case 0:t.tZone||lS(t),t.z1=t.tZone;break;case 1:t.z1=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function _Te(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP2[]",e),t.zp2=e,e){case 0:t.tZone||lS(t),t.z2=t.tZone;break;case 1:t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function wTe(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZPS[]",e),t.zp0=t.zp1=t.zp2=e,e){case 0:t.tZone||lS(t),t.z0=t.z1=t.z2=t.tZone;break;case 1:t.z0=t.z1=t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function CTe(t){t.loop=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SLOOP[]",t.loop)}function ETe(t){exports.DEBUG&&console.log(t.step,"RTG[]"),t.round=HX}function TTe(t){exports.DEBUG&&console.log(t.step,"RTHG[]"),t.round=aTe}function MTe(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SMD[]",e),t.minDis=e/64}function RTe(t){exports.DEBUG&&console.log(t.step,"ELSE[]"),WX(t,!1)}function ATe(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"JMPR[]",e),t.ip+=e-1}function PTe(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCVTCI[]",e),t.cvCutIn=e/64}function NTe(t){var e=t.stack;exports.DEBUG&&console.log(t.step,"DUP[]"),e.push(e[e.length-1])}function q7(t){exports.DEBUG&&console.log(t.step,"POP[]"),t.stack.pop()}function ITe(t){exports.DEBUG&&console.log(t.step,"CLEAR[]"),t.stack.length=0}function OTe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SWAP[]"),e.push(n),e.push(r)}function LTe(t){var e=t.stack;exports.DEBUG&&console.log(t.step,"DEPTH[]"),e.push(e.length)}function DTe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LOOPCALL[]",n,r);var i=t.ip,o=t.prog;t.prog=t.funcs[n];for(var s=0;s<r;s++)jf(t),exports.DEBUG&&console.log(++t.step,s+1<r?"next loopcall":"done loopcall",s);t.ip=i,t.prog=o}function FTe(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"CALL[]",e);var n=t.ip,r=t.prog;t.prog=t.funcs[e],jf(t),t.ip=n,t.prog=r,exports.DEBUG&&console.log(++t.step,"returning from",e)}function $Te(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"CINDEX[]",n),e.push(e[e.length-n])}function UTe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"MINDEX[]",n),e.push(e.splice(e.length-n,1)[0])}function BTe(t){if(t.env!=="fpgm")throw new Error("FDEF not allowed here");var e=t.stack,n=t.prog,r=t.ip,i=e.pop(),o=r;for(exports.DEBUG&&console.log(t.step,"FDEF[]",i);n[++r]!==45;);t.ip=r,t.funcs[i]=n.slice(o+1,r)}function eF(t,e){var n=e.stack.pop(),r=e.z0[n],i=e.fv,o=e.pv;exports.DEBUG&&console.log(e.step,"MDAP["+t+"]",n);var s=o.distance(r,l3);t&&(s=e.round(s)),i.setRelative(r,l3,s,o),i.touch(r),e.rp0=e.rp1=n}function tF(t,e){var n=e.z2,r=n.length-2,i,o,s;exports.DEBUG&&console.log(e.step,"IUP["+t.axis+"]");for(var a=0;a<r;a++)i=n[a],!t.touched(i)&&(o=i.prevTouched(t),o!==i&&(s=i.nextTouched(t),o===s&&t.setRelative(i,i,t.distance(o,o,!1,!0),t,!0),t.interpolate(i,o,s,t)))}function nF(t,e){for(var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],o=e.fv,s=e.pv,a=e.loop,l=e.z2;a--;){var c=n.pop(),u=l[c],d=s.distance(i,i,!1,!0);o.setRelative(u,u,d,s),o.touch(u),exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-a)+": ":"")+"SHP["+(t?"rp1":"rp2")+"]",c)}e.loop=1}function rF(t,e){var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],o=e.fv,s=e.pv,a=n.pop(),l=e.z2[e.contours[a]],c=l;exports.DEBUG&&console.log(e.step,"SHC["+t+"]",a);var u=s.distance(i,i,!1,!0);do c!==i&&o.setRelative(c,c,u,s),c=c.nextPointOnContour;while(c!==l)}function iF(t,e){var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],o=e.fv,s=e.pv,a=n.pop();exports.DEBUG&&console.log(e.step,"SHZ["+t+"]",a);var l;switch(a){case 0:l=e.tZone;break;case 1:l=e.gZone;break;default:throw new Error("Invalid zone")}for(var c,u=s.distance(i,i,!1,!0),d=l.length-2,f=0;f<d;f++)c=l[f],o.setRelative(c,c,u,s)}function kTe(t){for(var e=t.stack,n=t.loop,r=t.fv,i=e.pop()/64,o=t.z2;n--;){var s=e.pop(),a=o[s];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-n)+": ":"")+"SHPIX[]",s,i),r.setRelative(a,a,i),r.touch(a)}t.loop=1}function zTe(t){for(var e=t.stack,n=t.rp1,r=t.rp2,i=t.loop,o=t.z0[n],s=t.z1[r],a=t.fv,l=t.dpv,c=t.z2;i--;){var u=e.pop(),d=c[u];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-i)+": ":"")+"IP[]",u,n,"<->",r),a.interpolate(d,o,s,l),a.touch(d)}t.loop=1}function oF(t,e){var n=e.stack,r=n.pop()/64,i=n.pop(),o=e.z1[i],s=e.z0[e.rp0],a=e.fv,l=e.pv;a.setRelative(o,s,r,l),a.touch(o),exports.DEBUG&&console.log(e.step,"MSIRP["+t+"]",r,i),e.rp1=e.rp0,e.rp2=i,t&&(e.rp0=i)}function VTe(t){for(var e=t.stack,n=t.rp0,r=t.z0[n],i=t.loop,o=t.fv,s=t.pv,a=t.z1;i--;){var l=e.pop(),c=a[l];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-i)+": ":"")+"ALIGNRP[]",l),o.setRelative(c,r,0,s),o.touch(c)}t.loop=1}function HTe(t){exports.DEBUG&&console.log(t.step,"RTDG[]"),t.round=sTe}function sF(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z0[i],s=e.fv,a=e.pv,l=e.cvt[r];exports.DEBUG&&console.log(e.step,"MIAP["+t+"]",r,"(",l,")",i);var c=a.distance(o,l3);t&&(Math.abs(c-l)<e.cvCutIn&&(c=l),c=e.round(c)),s.setRelative(o,l3,c,a),e.zp0===0&&(o.xo=o.x,o.yo=o.y),s.touch(o),e.rp0=e.rp1=i}function GTe(t){var e=t.prog,n=t.ip,r=t.stack,i=e[++n];exports.DEBUG&&console.log(t.step,"NPUSHB[]",i);for(var o=0;o<i;o++)r.push(e[++n]);t.ip=n}function WTe(t){var e=t.ip,n=t.prog,r=t.stack,i=n[++e];exports.DEBUG&&console.log(t.step,"NPUSHW[]",i);for(var o=0;o<i;o++){var s=n[++e]<<8|n[++e];s&32768&&(s=-((s^65535)+1)),r.push(s)}t.ip=e}function jTe(t){var e=t.stack,n=t.store;n||(n=t.store=[]);var r=e.pop(),i=e.pop();exports.DEBUG&&console.log(t.step,"WS",r,i),n[i]=r}function XTe(t){var e=t.stack,n=t.store,r=e.pop();exports.DEBUG&&console.log(t.step,"RS",r);var i=n&&n[r]||0;e.push(i)}function qTe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"WCVTP",n,r),t.cvt[r]=n/64}function KTe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"RCVT",n),e.push(t.cvt[n]*64)}function aF(t,e){var n=e.stack,r=n.pop(),i=e.z2[r];exports.DEBUG&&console.log(e.step,"GC["+t+"]",r),n.push(e.dpv.distance(i,l3,t,!1)*64)}function lF(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z1[r],s=e.z0[i],a=e.dpv.distance(s,o,t,t);exports.DEBUG&&console.log(e.step,"MD["+t+"]",r,i,"->",a),e.stack.push(Math.round(a*64))}function YTe(t){exports.DEBUG&&console.log(t.step,"MPPEM[]"),t.stack.push(t.ppem)}function ZTe(t){exports.DEBUG&&console.log(t.step,"FLIPON[]"),t.autoFlip=!0}function QTe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LT[]",n,r),e.push(r<n?1:0)}function JTe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LTEQ[]",n,r),e.push(r<=n?1:0)}function eMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"GT[]",n,r),e.push(r>n?1:0)}function tMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"GTEQ[]",n,r),e.push(r>=n?1:0)}function nMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"EQ[]",n,r),e.push(n===r?1:0)}function rMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"NEQ[]",n,r),e.push(n!==r?1:0)}function iMe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"ODD[]",n),e.push(Math.trunc(n)%2?1:0)}function oMe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"EVEN[]",n),e.push(Math.trunc(n)%2?0:1)}function sMe(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"IF[]",e),e||(WX(t,!0),exports.DEBUG&&console.log(t.step,"EIF[]"))}function aMe(t){exports.DEBUG&&console.log(t.step,"EIF[]")}function lMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"AND[]",n,r),e.push(n&&r?1:0)}function cMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"OR[]",n,r),e.push(n||r?1:0)}function uMe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"NOT[]",n),e.push(n?0:1)}function K7(t,e){var n=e.stack,r=n.pop(),i=e.fv,o=e.pv,s=e.ppem,a=e.deltaBase+(t-1)*16,l=e.deltaShift,c=e.z0;exports.DEBUG&&console.log(e.step,"DELTAP["+t+"]",r,n);for(var u=0;u<r;u++){var d=n.pop(),f=n.pop(),h=a+((f&240)>>4);if(h===s){var g=(f&15)-8;g>=0&&g++,exports.DEBUG&&console.log(e.step,"DELTAPFIX",d,"by",g*l);var x=c[d];i.setRelative(x,x,g*l,o)}}}function dMe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"SDB[]",n),t.deltaBase=n}function fMe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"SDS[]",n),t.deltaShift=Math.pow(.5,n)}function hMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"ADD[]",n,r),e.push(r+n)}function pMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SUB[]",n,r),e.push(r-n)}function mMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"DIV[]",n,r),e.push(r*64/n)}function gMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MUL[]",n,r),e.push(r*n/64)}function vMe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"ABS[]",n),e.push(Math.abs(n))}function yMe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"NEG[]",n),e.push(-n)}function xMe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"FLOOR[]",n),e.push(Math.floor(n/64)*64)}function bMe(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"CEILING[]",n),e.push(Math.ceil(n/64)*64)}function Ay(t,e){var n=e.stack,r=n.pop();exports.DEBUG&&console.log(e.step,"ROUND[]"),n.push(e.round(r/64)*64)}function SMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"WCVTF[]",n,r),t.cvt[r]=n*t.ppem/t.font.unitsPerEm}function Y7(t,e){var n=e.stack,r=n.pop(),i=e.ppem,o=e.deltaBase+(t-1)*16,s=e.deltaShift;exports.DEBUG&&console.log(e.step,"DELTAC["+t+"]",r,n);for(var a=0;a<r;a++){var l=n.pop(),c=n.pop(),u=o+((c&240)>>4);if(u===i){var d=(c&15)-8;d>=0&&d++;var f=d*s;exports.DEBUG&&console.log(e.step,"DELTACFIX",l,"by",f),e.cvt[l]+=f}}}function _Me(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SROUND[]",e),t.round=GX;var n;switch(e&192){case 0:n=.5;break;case 64:n=1;break;case 128:n=2;break;default:throw new Error("invalid SROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid SROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function wMe(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"S45ROUND[]",e),t.round=GX;var n;switch(e&192){case 0:n=Math.sqrt(2)/2;break;case 64:n=Math.sqrt(2);break;case 128:n=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid S45ROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function CMe(t){exports.DEBUG&&console.log(t.step,"ROFF[]"),t.round=oTe}function EMe(t){exports.DEBUG&&console.log(t.step,"RUTG[]"),t.round=lTe}function TMe(t){exports.DEBUG&&console.log(t.step,"RDTG[]"),t.round=cTe}function MMe(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCANCTRL[]",e)}function cF(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z2[r],s=e.z1[i];exports.DEBUG&&console.log(e.step,"SDPVTL["+t+"]",r,i);var a,l;t?(a=o.y-s.y,l=s.x-o.x):(a=s.x-o.x,l=s.y-o.y),e.dpv=J3(a,l)}function RMe(t){var e=t.stack,n=e.pop(),r=0;exports.DEBUG&&console.log(t.step,"GETINFO[]",n),n&1&&(r=35),n&32&&(r|=4096),e.push(r)}function AMe(t){var e=t.stack,n=e.pop(),r=e.pop(),i=e.pop();exports.DEBUG&&console.log(t.step,"ROLL[]"),e.push(r),e.push(n),e.push(i)}function PMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MAX[]",n,r),e.push(Math.max(r,n))}function NMe(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MIN[]",n,r),e.push(Math.min(r,n))}function IMe(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCANTYPE[]",e)}function OMe(t){var e=t.stack.pop(),n=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"INSTCTRL[]",e,n),e){case 1:t.inhibitGridFit=!!n;return;case 2:t.ignoreCvt=!!n;return;default:throw new Error("invalid INSTCTRL[] selector")}}function hu(t,e){var n=e.stack,r=e.prog,i=e.ip;exports.DEBUG&&console.log(e.step,"PUSHB["+t+"]");for(var o=0;o<t;o++)n.push(r[++i]);e.ip=i}function pu(t,e){var n=e.ip,r=e.prog,i=e.stack;exports.DEBUG&&console.log(e.ip,"PUSHW["+t+"]");for(var o=0;o<t;o++){var s=r[++n]<<8|r[++n];s&32768&&(s=-((s^65535)+1)),i.push(s)}e.ip=n}function kt(t,e,n,r,i,o){var s=o.stack,a=t&&s.pop(),l=s.pop(),c=o.rp0,u=o.z0[c],d=o.z1[l],f=o.minDis,h=o.fv,g=o.dpv,x,b,v,_;b=x=g.distance(d,u,!0,!0),v=b>=0?1:-1,b=Math.abs(b),t&&(_=o.cvt[a],r&&Math.abs(b-_)<o.cvCutIn&&(b=_)),n&&b<f&&(b=f),r&&(b=o.round(b)),h.setRelative(d,u,v*b,g),h.touch(d),exports.DEBUG&&console.log(o.step,(t?"MIRP[":"MDRP[")+(e?"M":"m")+(n?">":"_")+(r?"R":"_")+(i===0?"Gr":i===1?"Bl":i===2?"Wh":"")+"]",t?a+"("+o.cvt[a]+","+_+")":"",l,"(d =",x,"->",v*b,")"),o.rp1=o.rp0,o.rp2=l,e&&(o.rp0=l)}kX=[KD.bind(void 0,_c),KD.bind(void 0,Rl),YD.bind(void 0,_c),YD.bind(void 0,Rl),ZD.bind(void 0,_c),ZD.bind(void 0,Rl),QD.bind(void 0,0),QD.bind(void 0,1),JD.bind(void 0,0),JD.bind(void 0,1),dTe,fTe,hTe,pTe,mTe,gTe,vTe,yTe,xTe,bTe,STe,_Te,wTe,CTe,ETe,TTe,MTe,RTe,ATe,PTe,void 0,void 0,NTe,q7,ITe,OTe,LTe,$Te,UTe,void 0,void 0,void 0,DTe,FTe,BTe,void 0,eF.bind(void 0,0),eF.bind(void 0,1),tF.bind(void 0,_c),tF.bind(void 0,Rl),nF.bind(void 0,0),nF.bind(void 0,1),rF.bind(void 0,0),rF.bind(void 0,1),iF.bind(void 0,0),iF.bind(void 0,1),kTe,zTe,oF.bind(void 0,0),oF.bind(void 0,1),VTe,HTe,sF.bind(void 0,0),sF.bind(void 0,1),GTe,WTe,jTe,XTe,qTe,KTe,aF.bind(void 0,0),aF.bind(void 0,1),void 0,lF.bind(void 0,0),lF.bind(void 0,1),YTe,void 0,ZTe,void 0,void 0,QTe,JTe,eMe,tMe,nMe,rMe,iMe,oMe,sMe,aMe,lMe,cMe,uMe,K7.bind(void 0,1),dMe,fMe,hMe,pMe,mMe,gMe,vMe,yMe,xMe,bMe,Ay.bind(void 0,0),Ay.bind(void 0,1),Ay.bind(void 0,2),Ay.bind(void 0,3),void 0,void 0,void 0,void 0,SMe,K7.bind(void 0,2),K7.bind(void 0,3),Y7.bind(void 0,1),Y7.bind(void 0,2),Y7.bind(void 0,3),_Me,wMe,void 0,void 0,CMe,void 0,EMe,TMe,q7,q7,void 0,void 0,void 0,void 0,void 0,MMe,cF.bind(void 0,0),cF.bind(void 0,1),RMe,void 0,AMe,PMe,NMe,IMe,OMe,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,hu.bind(void 0,1),hu.bind(void 0,2),hu.bind(void 0,3),hu.bind(void 0,4),hu.bind(void 0,5),hu.bind(void 0,6),hu.bind(void 0,7),hu.bind(void 0,8),pu.bind(void 0,1),pu.bind(void 0,2),pu.bind(void 0,3),pu.bind(void 0,4),pu.bind(void 0,5),pu.bind(void 0,6),pu.bind(void 0,7),pu.bind(void 0,8),kt.bind(void 0,0,0,0,0,0),kt.bind(void 0,0,0,0,0,1),kt.bind(void 0,0,0,0,0,2),kt.bind(void 0,0,0,0,0,3),kt.bind(void 0,0,0,0,1,0),kt.bind(void 0,0,0,0,1,1),kt.bind(void 0,0,0,0,1,2),kt.bind(void 0,0,0,0,1,3),kt.bind(void 0,0,0,1,0,0),kt.bind(void 0,0,0,1,0,1),kt.bind(void 0,0,0,1,0,2),kt.bind(void 0,0,0,1,0,3),kt.bind(void 0,0,0,1,1,0),kt.bind(void 0,0,0,1,1,1),kt.bind(void 0,0,0,1,1,2),kt.bind(void 0,0,0,1,1,3),kt.bind(void 0,0,1,0,0,0),kt.bind(void 0,0,1,0,0,1),kt.bind(void 0,0,1,0,0,2),kt.bind(void 0,0,1,0,0,3),kt.bind(void 0,0,1,0,1,0),kt.bind(void 0,0,1,0,1,1),kt.bind(void 0,0,1,0,1,2),kt.bind(void 0,0,1,0,1,3),kt.bind(void 0,0,1,1,0,0),kt.bind(void 0,0,1,1,0,1),kt.bind(void 0,0,1,1,0,2),kt.bind(void 0,0,1,1,0,3),kt.bind(void 0,0,1,1,1,0),kt.bind(void 0,0,1,1,1,1),kt.bind(void 0,0,1,1,1,2),kt.bind(void 0,0,1,1,1,3),kt.bind(void 0,1,0,0,0,0),kt.bind(void 0,1,0,0,0,1),kt.bind(void 0,1,0,0,0,2),kt.bind(void 0,1,0,0,0,3),kt.bind(void 0,1,0,0,1,0),kt.bind(void 0,1,0,0,1,1),kt.bind(void 0,1,0,0,1,2),kt.bind(void 0,1,0,0,1,3),kt.bind(void 0,1,0,1,0,0),kt.bind(void 0,1,0,1,0,1),kt.bind(void 0,1,0,1,0,2),kt.bind(void 0,1,0,1,0,3),kt.bind(void 0,1,0,1,1,0),kt.bind(void 0,1,0,1,1,1),kt.bind(void 0,1,0,1,1,2),kt.bind(void 0,1,0,1,1,3),kt.bind(void 0,1,1,0,0,0),kt.bind(void 0,1,1,0,0,1),kt.bind(void 0,1,1,0,0,2),kt.bind(void 0,1,1,0,0,3),kt.bind(void 0,1,1,0,1,0),kt.bind(void 0,1,1,0,1,1),kt.bind(void 0,1,1,0,1,2),kt.bind(void 0,1,1,0,1,3),kt.bind(void 0,1,1,1,0,0),kt.bind(void 0,1,1,1,0,1),kt.bind(void 0,1,1,1,0,2),kt.bind(void 0,1,1,1,0,3),kt.bind(void 0,1,1,1,1,0),kt.bind(void 0,1,1,1,1,1),kt.bind(void 0,1,1,1,1,2),kt.bind(void 0,1,1,1,1,3)];function _0(t){this.char=t,this.state={},this.activeState=null}function wM(t,e,n){this.contextName=n,this.startIndex=t,this.endOffset=e}function LMe(t,e,n){this.contextName=t,this.openRange=null,this.ranges=[],this.checkStart=e,this.checkEnd=n}function al(t,e){this.context=t,this.index=e,this.length=t.length,this.current=t[e],this.backtrack=t.slice(0,e),this.lookahead=t.slice(e+1)}function cS(t){this.eventId=t,this.subscribers=[]}function DMe(t){var e=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach(function(i){Object.defineProperty(e.events,i,{value:new cS(i)})}),t&&n.forEach(function(i){var o=t[i];typeof o=="function"&&e.events[i].subscribe(o)});var r=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];r.forEach(function(i){e.events[i].subscribe(e.updateContextsRanges)})}function ni(t){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],DMe.call(this,t)}_0.prototype.setState=function(t,e){return this.state[t]=e,this.activeState={key:t,value:this.state[t]},this.activeState};_0.prototype.getState=function(t){return this.state[t]||null};ni.prototype.inboundIndex=function(t){return t>=0&&t<this.tokens.length};ni.prototype.composeRUD=function(t){var e=this,n=!0,r=t.map(function(o){return e[o[0]].apply(e,o.slice(1).concat(n))}),i=function(o){return typeof o=="object"&&o.hasOwnProperty("FAIL")};if(r.every(i))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:r.filter(i)};this.dispatch("composeRUD",[r.filter(function(o){return!i(o)})])};ni.prototype.replaceRange=function(t,e,n,r){e=e!==null?e:this.tokens.length;var i=n.every(function(s){return s instanceof _0});if(!isNaN(t)&&this.inboundIndex(t)&&i){var o=this.tokens.splice.apply(this.tokens,[t,e].concat(n));return r||this.dispatch("replaceToken",[t,e,n]),[o,n]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};ni.prototype.replaceToken=function(t,e,n){if(!isNaN(t)&&this.inboundIndex(t)&&e instanceof _0){var r=this.tokens.splice(t,1,e);return n||this.dispatch("replaceToken",[t,e]),[r[0],e]}else return{FAIL:"replaceToken: invalid token or index."}};ni.prototype.removeRange=function(t,e,n){e=isNaN(e)?this.tokens.length:e;var r=this.tokens.splice(t,e);return n||this.dispatch("removeRange",[r,t,e]),r};ni.prototype.removeToken=function(t,e){if(!isNaN(t)&&this.inboundIndex(t)){var n=this.tokens.splice(t,1);return e||this.dispatch("removeToken",[n,t]),n}else return{FAIL:"removeToken: invalid token index."}};ni.prototype.insertToken=function(t,e,n){var r=t.every(function(i){return i instanceof _0});return r?(this.tokens.splice.apply(this.tokens,[e,0].concat(t)),n||this.dispatch("insertToken",[t,e]),t):{FAIL:"insertToken: invalid token(s)."}};ni.prototype.registerModifier=function(t,e,n){this.events.newToken.subscribe(function(r,i){var o=[r,i],s=e===null||e.apply(this,o)===!0,a=[r,i];if(s){var l=n.apply(this,a);r.setState(t,l)}}),this.registeredModifiers.push(t)};cS.prototype.subscribe=function(t){return typeof t=="function"?this.subscribers.push(t)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};cS.prototype.unsubscribe=function(t){this.subscribers.splice(t,1)};al.prototype.setCurrentIndex=function(t){this.index=t,this.current=this.context[t],this.backtrack=this.context.slice(0,t),this.lookahead=this.context.slice(t+1)};al.prototype.get=function(t){switch(!0){case t===0:return this.current;case(t<0&&Math.abs(t)<=this.backtrack.length):return this.backtrack.slice(t)[0];case(t>0&&t<=this.lookahead.length):return this.lookahead[t-1];default:return null}};ni.prototype.rangeToText=function(t){if(t instanceof wM)return this.getRangeTokens(t).map(function(e){return e.char}).join("")};ni.prototype.getText=function(){return this.tokens.map(function(t){return t.char}).join("")};ni.prototype.getContext=function(t){var e=this.registeredContexts[t];return e||null};ni.prototype.on=function(t,e){var n=this.events[t];return n?n.subscribe(e):null};ni.prototype.dispatch=function(t,e){var n=this,r=this.events[t];r instanceof cS&&r.subscribers.forEach(function(i){i.apply(n,e||[])})};ni.prototype.registerContextChecker=function(t,e,n){if(this.getContext(t))return{FAIL:"context name '"+t+"' is already registered."};if(typeof e!="function")return{FAIL:"missing context start check."};if(typeof n!="function")return{FAIL:"missing context end check."};var r=new LMe(t,e,n);return this.registeredContexts[t]=r,this.contextCheckers.push(r),r};ni.prototype.getRangeTokens=function(t){var e=t.startIndex+t.endOffset;return[].concat(this.tokens.slice(t.startIndex,e))};ni.prototype.getContextRanges=function(t){var e=this.getContext(t);return e?e.ranges:{FAIL:"context checker '"+t+"' is not registered."}};ni.prototype.resetContextsRanges=function(){var t=this.registeredContexts;for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];n.ranges=[]}};ni.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var t=this.tokens.map(function(r){return r.char}),e=0;e<t.length;e++){var n=new al(t,e);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])};ni.prototype.setEndOffset=function(t,e){var n=this.getContext(e).openRange.startIndex,r=new wM(n,t,e),i=this.getContext(e).ranges;return r.rangeId=e+"."+i.length,i.push(r),this.getContext(e).openRange=null,r};ni.prototype.runContextCheck=function(t){var e=this,n=t.index;this.contextCheckers.forEach(function(r){var i=r.contextName,o=e.getContext(i).openRange;if(!o&&r.checkStart(t)&&(o=new wM(n,null,i),e.getContext(i).openRange=o,e.dispatch("contextStart",[i,n])),o&&r.checkEnd(t)){var s=n-o.startIndex+1,a=e.setEndOffset(s,i);e.dispatch("contextEnd",[i,a])}})};ni.prototype.tokenize=function(t){this.tokens=[],this.resetContextsRanges();var e=Array.from(t);this.dispatch("start");for(var n=0;n<e.length;n++){var r=e[n],i=new al(e,n);this.dispatch("next",[i]),this.runContextCheck(i);var o=new _0(r);this.tokens.push(o),this.dispatch("newToken",[o,i])}return this.dispatch("end",[this.tokens]),this.tokens};function Vu(t){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(t)}function jX(t){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(t)}function Ju(t){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(t)}function a5(t){return/[A-z]/.test(t)}function FMe(t){return/\s/.test(t)}function Gs(t){this.font=t,this.features={}}function Xd(t){this.id=t.id,this.tag=t.tag,this.substitution=t.substitution}function e1(t,e){if(!t)return-1;switch(e.format){case 1:return e.glyphs.indexOf(t);case 2:for(var n=e.ranges,r=0;r<n.length;r++){var i=n[r];if(t>=i.start&&t<=i.end){var o=t-i.start;return i.index+o}}break;default:return-1}return-1}function $Me(t,e){var n=e1(t,e.coverage);return n===-1?null:t+e.deltaGlyphId}function UMe(t,e){var n=e1(t,e.coverage);return n===-1?null:e.substitute[n]}function Z7(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=e.current;o=Array.isArray(o)?o[0]:o;var s=e1(o,i);s!==-1&&n.push(s)}return n.length!==t.length?-1:n}function BMe(t,e){var n=e.inputCoverage.length+e.lookaheadCoverage.length+e.backtrackCoverage.length;if(t.context.length<n)return[];var r=Z7(e.inputCoverage,t);if(r===-1)return[];var i=e.inputCoverage.length-1;if(t.lookahead.length<e.lookaheadCoverage.length)return[];for(var o=t.lookahead.slice(i);o.length&&Ju(o[0].char);)o.shift();var s=new al(o,0),a=Z7(e.lookaheadCoverage,s),l=[].concat(t.backtrack);for(l.reverse();l.length&&Ju(l[0].char);)l.shift();if(l.length<e.backtrackCoverage.length)return[];var c=new al(l,0),u=Z7(e.backtrackCoverage,c),d=r.length===e.inputCoverage.length&&a.length===e.lookaheadCoverage.length&&u.length===e.backtrackCoverage.length,f=[];if(d)for(var h=0;h<e.lookupRecords.length;h++)for(var g=e.lookupRecords[h],x=g.lookupListIndex,b=this.getLookupByIndex(x),v=0;v<b.subtables.length;v++){var _=b.subtables[v],S=this.getLookupMethod(b,_),w=this.getSubstitutionType(b,_);if(w==="12")for(var M=0;M<r.length;M++){var E=t.get(M),T=S(E);T&&f.push(T)}}return f}function kMe(t,e){var n=t.current,r=e1(n,e.coverage);if(r===-1)return null;for(var i,o=e.ligatureSets[r],s=0;s<o.length;s++){i=o[s];for(var a=0;a<i.components.length;a++){var l=t.lookahead[a],c=i.components[a];if(l!==c)break;if(a===i.components.length-1)return i}}return null}function zMe(t,e){var n=e1(t,e.coverage);return n===-1?null:e.sequences[n]}Gs.prototype.getDefaultScriptFeaturesIndexes=function(){for(var t=this.font.tables.gsub.scripts,e=0;e<t.length;e++){var n=t[e];if(n.tag==="DFLT")return n.script.defaultLangSys.featureIndexes}return[]};Gs.prototype.getScriptFeaturesIndexes=function(t){var e=this.font.tables;if(!e.gsub)return[];if(!t)return this.getDefaultScriptFeaturesIndexes();for(var n=this.font.tables.gsub.scripts,r=0;r<n.length;r++){var i=n[r];if(i.tag===t&&i.script.defaultLangSys)return i.script.defaultLangSys.featureIndexes;var o=i.langSysRecords;if(o)for(var s=0;s<o.length;s++){var a=o[s];if(a.tag===t){var l=a.langSys;return l.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};Gs.prototype.mapTagsToFeatures=function(t,e){for(var n={},r=0;r<t.length;r++){var i=t[r].tag,o=t[r].feature;n[i]=o}this.features[e].tags=n};Gs.prototype.getScriptFeatures=function(t){var e=this.features[t];if(this.features.hasOwnProperty(t))return e;var n=this.getScriptFeaturesIndexes(t);if(!n)return null;var r=this.font.tables.gsub;return e=n.map(function(i){return r.features[i]}),this.features[t]=e,this.mapTagsToFeatures(e,t),e};Gs.prototype.getSubstitutionType=function(t,e){var n=t.lookupType.toString(),r=e.substFormat.toString();return n+r};Gs.prototype.getLookupMethod=function(t,e){var n=this,r=this.getSubstitutionType(t,e);switch(r){case"11":return function(i){return $Me.apply(n,[i,e])};case"12":return function(i){return UMe.apply(n,[i,e])};case"63":return function(i){return BMe.apply(n,[i,e])};case"41":return function(i){return kMe.apply(n,[i,e])};case"21":return function(i){return zMe.apply(n,[i,e])};default:throw new Error("lookupType: "+t.lookupType+" - substFormat: "+e.substFormat+" is not yet supported")}};Gs.prototype.lookupFeature=function(t){var e=t.contextParams,n=e.index,r=this.getFeature({tag:t.tag,script:t.script});if(!r)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+t.tag+"' for script '"+t.script+"'.");for(var i=this.getFeatureLookups(r),o=[].concat(e.context),s=0;s<i.length;s++)for(var a=i[s],l=this.getLookupSubtables(a),c=0;c<l.length;c++){var u=l[c],d=this.getSubstitutionType(a,u),f=this.getLookupMethod(a,u),h=void 0;switch(d){case"11":h=f(e.current),h&&o.splice(n,1,new Xd({id:11,tag:t.tag,substitution:h}));break;case"12":h=f(e.current),h&&o.splice(n,1,new Xd({id:12,tag:t.tag,substitution:h}));break;case"63":h=f(e),Array.isArray(h)&&h.length&&o.splice(n,1,new Xd({id:63,tag:t.tag,substitution:h}));break;case"41":h=f(e),h&&o.splice(n,1,new Xd({id:41,tag:t.tag,substitution:h}));break;case"21":h=f(e.current),h&&o.splice(n,1,new Xd({id:21,tag:t.tag,substitution:h}));break}e=new al(o,n),!(Array.isArray(h)&&!h.length)&&(h=null)}return o.length?o:null};Gs.prototype.supports=function(t){if(!t.script)return!1;this.getScriptFeatures(t.script);var e=this.features.hasOwnProperty(t.script);if(!t.tag)return e;var n=this.features[t.script].some(function(r){return r.tag===t.tag});return e&&n};Gs.prototype.getLookupSubtables=function(t){return t.subtables||null};Gs.prototype.getLookupByIndex=function(t){var e=this.font.tables.gsub.lookups;return e[t]||null};Gs.prototype.getFeatureLookups=function(t){return t.lookupListIndexes.map(this.getLookupByIndex.bind(this))};Gs.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var n=this.features[e.script];return n?n.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};function VMe(t){var e=t.current,n=t.get(-1);return n===null&&Vu(e)||!Vu(n)&&Vu(e)}function HMe(t){var e=t.get(1);return e===null||!Vu(e)}var GMe={startCheck:VMe,endCheck:HMe};function WMe(t){var e=t.current,n=t.get(-1);return(Vu(e)||Ju(e))&&!Vu(n)}function jMe(t){var e=t.get(1);switch(!0){case e===null:return!0;case(!Vu(e)&&!Ju(e)):var n=FMe(e);if(!n)return!0;if(n){var r=!1;if(r=t.lookahead.some(function(i){return Vu(i)||Ju(i)}),!r)return!0}break;default:return!1}}var XMe={startCheck:WMe,endCheck:jMe};function qMe(t,e,n){e[n].setState(t.tag,t.substitution)}function KMe(t,e,n){e[n].setState(t.tag,t.substitution)}function YMe(t,e,n){t.substitution.forEach(function(r,i){var o=e[n+i];o.setState(t.tag,r)})}function ZMe(t,e,n){var r=e[n];r.setState(t.tag,t.substitution.ligGlyph);for(var i=t.substitution.components.length,o=0;o<i;o++)r=e[n+o+1],r.setState("deleted",!0)}var uF={11:qMe,12:KMe,63:YMe,41:ZMe};function CM(t,e,n){t instanceof Xd&&uF[t.id]&&uF[t.id](t,e,n)}function QMe(t){for(var e=[].concat(t.backtrack),n=e.length-1;n>=0;n--){var r=e[n],i=jX(r),o=Ju(r);if(!i&&!o)return!0;if(i)return!1}return!1}function JMe(t){if(jX(t.current))return!1;for(var e=0;e<t.lookahead.length;e++){var n=t.lookahead[e],r=Ju(n);if(!r)return!0}return!1}function eRe(t){var e=this,n="arab",r=this.featuresTags[n],i=this.tokenizer.getRangeTokens(t);if(i.length!==1){var o=new al(i.map(function(a){return a.getState("glyphIndex")}),0),s=new al(i.map(function(a){return a.char}),0);i.forEach(function(a,l){if(!Ju(a.char)){o.setCurrentIndex(l),s.setCurrentIndex(l);var c=0;QMe(s)&&(c|=1),JMe(s)&&(c|=2);var u;switch(c){case 1:u="fina";break;case 2:u="init";break;case 3:u="medi";break}if(r.indexOf(u)!==-1){var d=e.query.lookupFeature({tag:u,script:n,contextParams:o});if(d instanceof Error)return console.info(d.message);d.forEach(function(f,h){f instanceof Xd&&(CM(f,i,h),o.context[h]=f.substitution)})}}})}}function dF(t,e){var n=t.map(function(r){return r.activeState.value});return new al(n,e||0)}function tRe(t){var e=this,n="arab",r=this.tokenizer.getRangeTokens(t),i=dF(r);i.context.forEach(function(o,s){i.setCurrentIndex(s);var a=e.query.lookupFeature({tag:"rlig",script:n,contextParams:i});a.length&&(a.forEach(function(l){return CM(l,r,s)}),i=dF(r))})}function nRe(t){var e=t.current,n=t.get(-1);return n===null&&a5(e)||!a5(n)&&a5(e)}function rRe(t){var e=t.get(1);return e===null||!a5(e)}var iRe={startCheck:nRe,endCheck:rRe};function fF(t,e){var n=t.map(function(r){return r.activeState.value});return new al(n,e||0)}function oRe(t){var e=this,n="latn",r=this.tokenizer.getRangeTokens(t),i=fF(r);i.context.forEach(function(o,s){i.setCurrentIndex(s);var a=e.query.lookupFeature({tag:"liga",script:n,contextParams:i});a.length&&(a.forEach(function(l){return CM(l,r,s)}),i=fF(r))})}function dl(t){this.baseDir=t||"ltr",this.tokenizer=new ni,this.featuresTags={}}dl.prototype.setText=function(t){this.text=t};dl.prototype.contextChecks={latinWordCheck:iRe,arabicWordCheck:GMe,arabicSentenceCheck:XMe};function Q7(t){var e=this.contextChecks[t+"Check"];return this.tokenizer.registerContextChecker(t,e.startCheck,e.endCheck)}function sRe(){return Q7.call(this,"latinWord"),Q7.call(this,"arabicWord"),Q7.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function aRe(){var t=this,e=this.tokenizer.getContextRanges("arabicSentence");e.forEach(function(n){var r=t.tokenizer.getRangeTokens(n);t.tokenizer.replaceRange(n.startIndex,n.endOffset,r.reverse())})}dl.prototype.registerFeatures=function(t,e){var n=this,r=e.filter(function(i){return n.query.supports({script:t,tag:i})});this.featuresTags.hasOwnProperty(t)?this.featuresTags[t]=this.featuresTags[t].concat(r):this.featuresTags[t]=r};dl.prototype.applyFeatures=function(t,e){if(!t)throw new Error("No valid font was provided to apply features");this.query||(this.query=new Gs(t));for(var n=0;n<e.length;n++){var r=e[n];this.query.supports({script:r.script})&&this.registerFeatures(r.script,r.tags)}};dl.prototype.registerModifier=function(t,e,n){this.tokenizer.registerModifier(t,e,n)};function EM(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function lRe(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){EM.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(r){eRe.call(t,r)})}}function cRe(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("rlig")!==-1){EM.call(this);var r=this.tokenizer.getContextRanges("arabicWord");r.forEach(function(i){tRe.call(t,i)})}}}function uRe(){var t=this,e="latn";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("liga")!==-1){EM.call(this);var r=this.tokenizer.getContextRanges("latinWord");r.forEach(function(i){oRe.call(t,i)})}}}dl.prototype.checkContextReady=function(t){return!!this.tokenizer.getContext(t)};dl.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(lRe.call(this),cRe.call(this)),this.checkContextReady("latinWord")&&uRe.call(this),this.checkContextReady("arabicSentence")&&aRe.call(this)};dl.prototype.processText=function(t){(!this.text||this.text!==t)&&(this.setText(t),sRe.call(this),this.applyFeaturesToContexts())};dl.prototype.getBidiText=function(t){return this.processText(t),this.tokenizer.getText()};dl.prototype.getTextGlyphs=function(t){this.processText(t);for(var e=[],n=0;n<this.tokenizer.tokens.length;n++){var r=this.tokenizer.tokens[n];if(!r.state.deleted){var i=r.activeState.value;e.push(Array.isArray(i)?i[0]:i)}}return e};function Cr(t){t=t||{},t.tables=t.tables||{},t.empty||(Sg(t.familyName,"When creating a new Font object, familyName is required."),Sg(t.styleName,"When creating a new Font object, styleName is required."),Sg(t.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Sg(t.ascender,"When creating a new Font object, ascender is required."),Sg(t.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:t.familyName||" "},fontSubfamily:{en:t.styleName||" "},fullName:{en:t.fullName||t.familyName+" "+t.styleName},postScriptName:{en:t.postScriptName||(t.familyName+t.styleName).replace(/\s/g,"")},designer:{en:t.designer||" "},designerURL:{en:t.designerURL||" "},manufacturer:{en:t.manufacturer||" "},manufacturerURL:{en:t.manufacturerURL||" "},license:{en:t.license||" "},licenseURL:{en:t.licenseURL||" "},version:{en:t.version||"Version 0.1"},description:{en:t.description||" "},copyright:{en:t.copyright||" "},trademark:{en:t.trademark||" "}},this.unitsPerEm=t.unitsPerEm||1e3,this.ascender=t.ascender,this.descender=t.descender,this.createdTimestamp=t.createdTimestamp,this.tables=Object.assign(t.tables,{os2:Object.assign({usWeightClass:t.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:t.widthClass||this.usWidthClasses.MEDIUM,fsSelection:t.fsSelection||this.fsSelectionValues.REGULAR},t.tables.os2)})),this.supported=!0,this.glyphs=new Dl.GlyphSet(this,t.glyphs||[]),this.encoding=new wX(this),this.position=new Z3(this),this.substitution=new Hs(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new VX(this)}})}Cr.prototype.hasChar=function(t){return this.encoding.charToGlyphIndex(t)!==null};Cr.prototype.charToGlyphIndex=function(t){return this.encoding.charToGlyphIndex(t)};Cr.prototype.charToGlyph=function(t){var e=this.charToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};Cr.prototype.updateFeatures=function(t){return this.defaultRenderOptions.features.map(function(e){return e.script==="latn"?{script:"latn",tags:e.tags.filter(function(n){return t[n]})}:e})};Cr.prototype.stringToGlyphs=function(t,e){var n=this,r=new dl,i=function(d){return n.charToGlyphIndex(d.char)};r.registerModifier("glyphIndex",null,i);var o=e?this.updateFeatures(e.features):this.defaultRenderOptions.features;r.applyFeatures(this,o);for(var s=r.getTextGlyphs(t),a=s.length,l=new Array(a),c=this.glyphs.get(0),u=0;u<a;u+=1)l[u]=this.glyphs.get(s[u])||c;return l};Cr.prototype.nameToGlyphIndex=function(t){return this.glyphNames.nameToGlyphIndex(t)};Cr.prototype.nameToGlyph=function(t){var e=this.nameToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};Cr.prototype.glyphIndexToName=function(t){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(t):""};Cr.prototype.getKerningValue=function(t,e){t=t.index||t,e=e.index||e;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,t,e):this.kerningPairs[t+","+e]||0};Cr.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};Cr.prototype.forEachGlyph=function(t,e,n,r,i,o){e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:72,i=Object.assign({},this.defaultRenderOptions,i);var s=1/this.unitsPerEm*r,a=this.stringToGlyphs(t,i),l;if(i.kerning){var c=i.script||this.position.getDefaultScriptName();l=this.position.getKerningTables(c,i.language)}for(var u=0;u<a.length;u+=1){var d=a[u];if(o.call(this,d,e,n,r,i),d.advanceWidth&&(e+=d.advanceWidth*s),i.kerning&&u<a.length-1){var f=l?this.position.getKerningValue(l,d.index,a[u+1].index):this.getKerningValue(d,a[u+1]);e+=f*s}i.letterSpacing?e+=i.letterSpacing*r:i.tracking&&(e+=i.tracking/1e3*r)}return e};Cr.prototype.getPath=function(t,e,n,r,i){var o=new Li;return this.forEachGlyph(t,e,n,r,i,function(s,a,l,c){var u=s.getPath(a,l,c,i,this);o.extend(u)}),o};Cr.prototype.getPaths=function(t,e,n,r,i){var o=[];return this.forEachGlyph(t,e,n,r,i,function(s,a,l,c){var u=s.getPath(a,l,c,i,this);o.push(u)}),o};Cr.prototype.getAdvanceWidth=function(t,e,n){return this.forEachGlyph(t,0,0,e,n,function(){})};Cr.prototype.draw=function(t,e,n,r,i,o){this.getPath(e,n,r,i,o).draw(t)};Cr.prototype.drawPoints=function(t,e,n,r,i,o){this.forEachGlyph(e,n,r,i,o,function(s,a,l,c){s.drawPoints(t,a,l,c)})};Cr.prototype.drawMetrics=function(t,e,n,r,i,o){this.forEachGlyph(e,n,r,i,o,function(s,a,l,c){s.drawMetrics(t,a,l,c)})};Cr.prototype.getEnglishName=function(t){var e=this.names[t];if(e)return e.en};Cr.prototype.validate=function(){var t=this;function e(r,i){}function n(r){var i=t.getEnglishName(r);i&&i.trim().length>0}n("fontFamily"),n("weightName"),n("manufacturer"),n("copyright"),n("version"),this.unitsPerEm>0};Cr.prototype.toTables=function(){return YEe.fontToTable(this)};Cr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};Cr.prototype.toArrayBuffer=function(){for(var t=this.toTables(),e=t.encode(),n=new ArrayBuffer(e.length),r=new Uint8Array(n),i=0;i<e.length;i++)r[i]=e[i];return n};Cr.prototype.download=function(t){var e=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily");t=t||e.replace(/\s/g,"")+"-"+n+".otf";var r=this.toArrayBuffer();if(QEe())if(window.URL=window.URL||window.webkitURL,window.URL){var i=new DataView(r),o=new Blob([i],{type:"font/opentype"}),s=document.createElement("a");s.href=window.URL.createObjectURL(o),s.download=t;var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!1),s.dispatchEvent(a)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var l=require("fs"),c=JEe(r);l.writeFileSync(t,c)}};Cr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};Cr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};Cr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Vc=new Array(10);Vc[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{posFormat:1,coverage:this.parsePointer(Ke.coverage),value:this.parseValueRecord()};if(n===2)return{posFormat:2,coverage:this.parsePointer(Ke.coverage),values:this.parseValueRecordList()};yn.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};Vc[2]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();yn.assert(n===1||n===2,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var r=this.parsePointer(Ke.coverage),i=this.parseUShort(),o=this.parseUShort();if(n===1)return{posFormat:n,coverage:r,valueFormat1:i,valueFormat2:o,pairSets:this.parseList(Ke.pointer(Ke.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(i),value2:this.parseValueRecord(o)}})))};if(n===2){var s=this.parsePointer(Ke.classDef),a=this.parsePointer(Ke.classDef),l=this.parseUShort(),c=this.parseUShort();return{posFormat:n,coverage:r,valueFormat1:i,valueFormat2:o,classDef1:s,classDef2:a,class1Count:l,class2Count:c,classRecords:this.parseList(l,Ke.list(c,function(){return{value1:this.parseValueRecord(i),value2:this.parseValueRecord(o)}}))}}};Vc[3]=function(){return{error:"GPOS Lookup 3 not supported"}};Vc[4]=function(){return{error:"GPOS Lookup 4 not supported"}};Vc[5]=function(){return{error:"GPOS Lookup 5 not supported"}};Vc[6]=function(){return{error:"GPOS Lookup 6 not supported"}};Vc[7]=function(){return{error:"GPOS Lookup 7 not supported"}};Vc[8]=function(){return{error:"GPOS Lookup 8 not supported"}};Vc[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var dRe=Object.defineProperty,fRe=(t,e,n)=>e in t?dRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hn=(t,e,n)=>(fRe(t,typeof e!="symbol"?e+"":e,n),n);const hRe=parseInt(Yf.replace(/\D+/g,"")),J7={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new J},up:{value:new J(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${hRe>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `};J7.fragmentShader,J7.vertexShader,J7.uniforms;const Py=new Zf,hF=new pc,pRe=Math.cos(70*(Math.PI/180)),pF=(t,e)=>(t%e+e)%e;let mRe=class extends Ta{constructor(e,n){super(),hn(this,"object"),hn(this,"domElement"),hn(this,"enabled",!0),hn(this,"target",new J),hn(this,"minDistance",0),hn(this,"maxDistance",1/0),hn(this,"minZoom",0),hn(this,"maxZoom",1/0),hn(this,"minPolarAngle",0),hn(this,"maxPolarAngle",Math.PI),hn(this,"minAzimuthAngle",-1/0),hn(this,"maxAzimuthAngle",1/0),hn(this,"enableDamping",!1),hn(this,"dampingFactor",.05),hn(this,"enableZoom",!0),hn(this,"zoomSpeed",1),hn(this,"enableRotate",!0),hn(this,"rotateSpeed",1),hn(this,"enablePan",!0),hn(this,"panSpeed",1),hn(this,"screenSpacePanning",!0),hn(this,"keyPanSpeed",7),hn(this,"zoomToCursor",!1),hn(this,"autoRotate",!1),hn(this,"autoRotateSpeed",2),hn(this,"reverseOrbit",!1),hn(this,"reverseHorizontalOrbit",!1),hn(this,"reverseVerticalOrbit",!1),hn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),hn(this,"mouseButtons",{LEFT:Vd.ROTATE,MIDDLE:Vd.DOLLY,RIGHT:Vd.PAN}),hn(this,"touches",{ONE:Hd.ROTATE,TWO:Hd.DOLLY_PAN}),hn(this,"target0"),hn(this,"position0"),hn(this,"zoom0"),hn(this,"_domElementKeyEvents",null),hn(this,"getPolarAngle"),hn(this,"getAzimuthalAngle"),hn(this,"setPolarAngle"),hn(this,"setAzimuthalAngle"),hn(this,"getDistance"),hn(this,"listenToKeyEvents"),hn(this,"stopListenToKeyEvents"),hn(this,"saveState"),hn(this,"reset"),hn(this,"update"),hn(this,"connect"),hn(this,"dispose"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=re=>{let Ve=pF(re,2*Math.PI),Qe=u.phi;Qe<0&&(Qe+=2*Math.PI),Ve<0&&(Ve+=2*Math.PI);let lt=Math.abs(Ve-Qe);2*Math.PI-lt<lt&&(Ve<Qe?Ve+=2*Math.PI:Qe+=2*Math.PI),d.phi=Ve-Qe,r.update()},this.setAzimuthalAngle=re=>{let Ve=pF(re,2*Math.PI),Qe=u.theta;Qe<0&&(Qe+=2*Math.PI),Ve<0&&(Ve+=2*Math.PI);let lt=Math.abs(Ve-Qe);2*Math.PI-lt<lt&&(Ve<Qe?Ve+=2*Math.PI:Qe+=2*Math.PI),d.theta=Ve-Qe,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=re=>{re.addEventListener("keydown",ht),this._domElementKeyEvents=re},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ht),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const re=new J,Ve=new J(0,1,0),Qe=new Ao().setFromUnitVectors(e.up,Ve),lt=Qe.clone().invert(),ce=new J,Z=new Ao,Re=2*Math.PI;return function(){const Je=r.object.position;Qe.setFromUnitVectors(e.up,Ve),lt.copy(Qe).invert(),re.copy(Je).sub(r.target),re.applyQuaternion(Qe),u.setFromVector3(re),r.autoRotate&&l===a.NONE&&D($()),r.enableDamping?(u.theta+=d.theta*r.dampingFactor,u.phi+=d.phi*r.dampingFactor):(u.theta+=d.theta,u.phi+=d.phi);let ft=r.minAzimuthAngle,wt=r.maxAzimuthAngle;isFinite(ft)&&isFinite(wt)&&(ft<-Math.PI?ft+=Re:ft>Math.PI&&(ft-=Re),wt<-Math.PI?wt+=Re:wt>Math.PI&&(wt-=Re),ft<=wt?u.theta=Math.max(ft,Math.min(wt,u.theta)):u.theta=u.theta>(ft+wt)/2?Math.max(ft,u.theta):Math.min(wt,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(h,r.dampingFactor):r.target.add(h),r.zoomToCursor&&R||r.object.isOrthographicCamera?u.radius=K(u.radius):u.radius=K(u.radius*f),re.setFromSpherical(u),re.applyQuaternion(lt),Je.copy(r.target).add(re),r.object.lookAt(r.target),r.enableDamping===!0?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,h.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),h.set(0,0,0));let mt=!1;if(r.zoomToCursor&&R){let Ye=null;if(r.object instanceof Yr&&r.object.isPerspectiveCamera){const dt=re.length();Ye=K(dt*f);const it=dt-Ye;r.object.position.addScaledVector(T,it),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const dt=new J(N.x,N.y,0);dt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/f)),r.object.updateProjectionMatrix(),mt=!0;const it=new J(N.x,N.y,0);it.unproject(r.object),r.object.position.sub(it).add(dt),r.object.updateMatrixWorld(),Ye=re.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Ye!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Ye).add(r.object.position):(Py.origin.copy(r.object.position),Py.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(Py.direction))<pRe?e.lookAt(r.target):(hF.setFromNormalAndCoplanarPoint(r.object.up,r.target),Py.intersectPlane(hF,r.target))))}else r.object instanceof Ml&&r.object.isOrthographicCamera&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/f)),r.object.updateProjectionMatrix(),mt=!0);return f=1,R=!1,mt||ce.distanceToSquared(r.object.position)>c||8*(1-Z.dot(r.object.quaternion))>c?(r.dispatchEvent(i),ce.copy(r.object.position),Z.copy(r.object.quaternion),mt=!1,!0):!1}})(),this.connect=re=>{re===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=re,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",nt),r.domElement.addEventListener("pointerdown",ee),r.domElement.addEventListener("pointercancel",Ae),r.domElement.addEventListener("wheel",We)},this.dispose=()=>{var re,Ve,Qe,lt,ce,Z;(re=r.domElement)==null||re.removeEventListener("contextmenu",nt),(Ve=r.domElement)==null||Ve.removeEventListener("pointerdown",ee),(Qe=r.domElement)==null||Qe.removeEventListener("pointercancel",Ae),(lt=r.domElement)==null||lt.removeEventListener("wheel",We),(ce=r.domElement)==null||ce.ownerDocument.removeEventListener("pointermove",xe),(Z=r.domElement)==null||Z.ownerDocument.removeEventListener("pointerup",Ne),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",ht)};const r=this,i={type:"change"},o={type:"start"},s={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new hw,d=new hw;let f=1;const h=new J,g=new Xe,x=new Xe,b=new Xe,v=new Xe,_=new Xe,S=new Xe,w=new Xe,M=new Xe,E=new Xe,T=new J,N=new Xe;let R=!1;const P=[],L={};function $(){return 2*Math.PI/60/60*r.autoRotateSpeed}function V(){return Math.pow(.95,r.zoomSpeed)}function D(re){r.reverseOrbit||r.reverseHorizontalOrbit?d.theta+=re:d.theta-=re}function H(re){r.reverseOrbit||r.reverseVerticalOrbit?d.phi+=re:d.phi-=re}const F=(()=>{const re=new J;return function(Qe,lt){re.setFromMatrixColumn(lt,0),re.multiplyScalar(-Qe),h.add(re)}})(),k=(()=>{const re=new J;return function(Qe,lt){r.screenSpacePanning===!0?re.setFromMatrixColumn(lt,1):(re.setFromMatrixColumn(lt,0),re.crossVectors(r.object.up,re)),re.multiplyScalar(Qe),h.add(re)}})(),O=(()=>{const re=new J;return function(Qe,lt){const ce=r.domElement;if(ce&&r.object instanceof Yr&&r.object.isPerspectiveCamera){const Z=r.object.position;re.copy(Z).sub(r.target);let Re=re.length();Re*=Math.tan(r.object.fov/2*Math.PI/180),F(2*Qe*Re/ce.clientHeight,r.object.matrix),k(2*lt*Re/ce.clientHeight,r.object.matrix)}else ce&&r.object instanceof Ml&&r.object.isOrthographicCamera?(F(Qe*(r.object.right-r.object.left)/r.object.zoom/ce.clientWidth,r.object.matrix),k(lt*(r.object.top-r.object.bottom)/r.object.zoom/ce.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function B(re){r.object instanceof Yr&&r.object.isPerspectiveCamera||r.object instanceof Ml&&r.object.isOrthographicCamera?f/=re:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function G(re){r.object instanceof Yr&&r.object.isPerspectiveCamera||r.object instanceof Ml&&r.object.isOrthographicCamera?f*=re:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function W(re){if(!r.zoomToCursor||!r.domElement)return;R=!0;const Ve=r.domElement.getBoundingClientRect(),Qe=re.clientX-Ve.left,lt=re.clientY-Ve.top,ce=Ve.width,Z=Ve.height;N.x=Qe/ce*2-1,N.y=-(lt/Z)*2+1,T.set(N.x,N.y,1).unproject(r.object).sub(r.object.position).normalize()}function K(re){return Math.max(r.minDistance,Math.min(r.maxDistance,re))}function X(re){g.set(re.clientX,re.clientY)}function Y(re){W(re),w.set(re.clientX,re.clientY)}function te(re){v.set(re.clientX,re.clientY)}function oe(re){x.set(re.clientX,re.clientY),b.subVectors(x,g).multiplyScalar(r.rotateSpeed);const Ve=r.domElement;Ve&&(D(2*Math.PI*b.x/Ve.clientHeight),H(2*Math.PI*b.y/Ve.clientHeight)),g.copy(x),r.update()}function ie(re){M.set(re.clientX,re.clientY),E.subVectors(M,w),E.y>0?B(V()):E.y<0&&G(V()),w.copy(M),r.update()}function le(re){_.set(re.clientX,re.clientY),S.subVectors(_,v).multiplyScalar(r.panSpeed),O(S.x,S.y),v.copy(_),r.update()}function ve(re){W(re),re.deltaY<0?G(V()):re.deltaY>0&&B(V()),r.update()}function me(re){let Ve=!1;switch(re.code){case r.keys.UP:O(0,r.keyPanSpeed),Ve=!0;break;case r.keys.BOTTOM:O(0,-r.keyPanSpeed),Ve=!0;break;case r.keys.LEFT:O(r.keyPanSpeed,0),Ve=!0;break;case r.keys.RIGHT:O(-r.keyPanSpeed,0),Ve=!0;break}Ve&&(re.preventDefault(),r.update())}function we(){if(P.length==1)g.set(P[0].pageX,P[0].pageY);else{const re=.5*(P[0].pageX+P[1].pageX),Ve=.5*(P[0].pageY+P[1].pageY);g.set(re,Ve)}}function Q(){if(P.length==1)v.set(P[0].pageX,P[0].pageY);else{const re=.5*(P[0].pageX+P[1].pageX),Ve=.5*(P[0].pageY+P[1].pageY);v.set(re,Ve)}}function fe(){const re=P[0].pageX-P[1].pageX,Ve=P[0].pageY-P[1].pageY,Qe=Math.sqrt(re*re+Ve*Ve);w.set(0,Qe)}function he(){r.enableZoom&&fe(),r.enablePan&&Q()}function Ee(){r.enableZoom&&fe(),r.enableRotate&&we()}function ue(re){if(P.length==1)x.set(re.pageX,re.pageY);else{const Qe=Ze(re),lt=.5*(re.pageX+Qe.x),ce=.5*(re.pageY+Qe.y);x.set(lt,ce)}b.subVectors(x,g).multiplyScalar(r.rotateSpeed);const Ve=r.domElement;Ve&&(D(2*Math.PI*b.x/Ve.clientHeight),H(2*Math.PI*b.y/Ve.clientHeight)),g.copy(x)}function ke(re){if(P.length==1)_.set(re.pageX,re.pageY);else{const Ve=Ze(re),Qe=.5*(re.pageX+Ve.x),lt=.5*(re.pageY+Ve.y);_.set(Qe,lt)}S.subVectors(_,v).multiplyScalar(r.panSpeed),O(S.x,S.y),v.copy(_)}function ge(re){const Ve=Ze(re),Qe=re.pageX-Ve.x,lt=re.pageY-Ve.y,ce=Math.sqrt(Qe*Qe+lt*lt);M.set(0,ce),E.set(0,Math.pow(M.y/w.y,r.zoomSpeed)),B(E.y),w.copy(M)}function j(re){r.enableZoom&&ge(re),r.enablePan&&ke(re)}function z(re){r.enableZoom&&ge(re),r.enableRotate&&ue(re)}function ee(re){var Ve,Qe;r.enabled!==!1&&(P.length===0&&((Ve=r.domElement)==null||Ve.ownerDocument.addEventListener("pointermove",xe),(Qe=r.domElement)==null||Qe.ownerDocument.addEventListener("pointerup",Ne)),at(re),re.pointerType==="touch"?Ge(re):Fe(re))}function xe(re){r.enabled!==!1&&(re.pointerType==="touch"?Te(re):Oe(re))}function Ne(re){var Ve,Qe,lt;rt(re),P.length===0&&((Ve=r.domElement)==null||Ve.releasePointerCapture(re.pointerId),(Qe=r.domElement)==null||Qe.ownerDocument.removeEventListener("pointermove",xe),(lt=r.domElement)==null||lt.ownerDocument.removeEventListener("pointerup",Ne)),r.dispatchEvent(s),l=a.NONE}function Ae(re){rt(re)}function Fe(re){let Ve;switch(re.button){case 0:Ve=r.mouseButtons.LEFT;break;case 1:Ve=r.mouseButtons.MIDDLE;break;case 2:Ve=r.mouseButtons.RIGHT;break;default:Ve=-1}switch(Ve){case Vd.DOLLY:if(r.enableZoom===!1)return;Y(re),l=a.DOLLY;break;case Vd.ROTATE:if(re.ctrlKey||re.metaKey||re.shiftKey){if(r.enablePan===!1)return;te(re),l=a.PAN}else{if(r.enableRotate===!1)return;X(re),l=a.ROTATE}break;case Vd.PAN:if(re.ctrlKey||re.metaKey||re.shiftKey){if(r.enableRotate===!1)return;X(re),l=a.ROTATE}else{if(r.enablePan===!1)return;te(re),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(o)}function Oe(re){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;oe(re);break;case a.DOLLY:if(r.enableZoom===!1)return;ie(re);break;case a.PAN:if(r.enablePan===!1)return;le(re);break}}function We(re){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(re.preventDefault(),r.dispatchEvent(o),ve(re),r.dispatchEvent(s))}function ht(re){r.enabled===!1||r.enablePan===!1||me(re)}function Ge(re){switch(st(re),P.length){case 1:switch(r.touches.ONE){case Hd.ROTATE:if(r.enableRotate===!1)return;we(),l=a.TOUCH_ROTATE;break;case Hd.PAN:if(r.enablePan===!1)return;Q(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Hd.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;he(),l=a.TOUCH_DOLLY_PAN;break;case Hd.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ee(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(o)}function Te(re){switch(st(re),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;ue(re),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;ke(re),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;j(re),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;z(re),r.update();break;default:l=a.NONE}}function nt(re){r.enabled!==!1&&re.preventDefault()}function at(re){P.push(re)}function rt(re){delete L[re.pointerId];for(let Ve=0;Ve<P.length;Ve++)if(P[Ve].pointerId==re.pointerId){P.splice(Ve,1);return}}function st(re){let Ve=L[re.pointerId];Ve===void 0&&(Ve=new Xe,L[re.pointerId]=Ve),Ve.set(re.pageX,re.pageY)}function Ze(re){const Ve=re.pointerId===P[0].pointerId?P[1]:P[0];return L[Ve.pointerId]}n!==void 0&&this.connect(n),this.update()}};const gRe=y.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:o=!1,onChange:s,onStart:a,onEnd:l,...c},u)=>{const d=uu(E=>E.invalidate),f=uu(E=>E.camera),h=uu(E=>E.gl),g=uu(E=>E.events),x=uu(E=>E.setEvents),b=uu(E=>E.set),v=uu(E=>E.get),_=uu(E=>E.performance),S=e||f,w=r||g.connected||h.domElement,M=y.useMemo(()=>new mRe(S),[S]);return uG(()=>{M.enabled&&M.update()},-1),y.useEffect(()=>(o&&M.connect(o===!0?w:o),M.connect(w),()=>void M.dispose()),[o,w,n,M,d]),y.useEffect(()=>{const E=R=>{d(),n&&_.regress(),s&&s(R)},T=R=>{a&&a(R)},N=R=>{l&&l(R)};return M.addEventListener("change",E),M.addEventListener("start",T),M.addEventListener("end",N),()=>{M.removeEventListener("start",T),M.removeEventListener("end",N),M.removeEventListener("change",E)}},[s,a,l,M,d,x]),y.useEffect(()=>{if(t){const E=v().controls;return b({controls:M}),()=>b({controls:E})}},[t,M]),y.createElement("primitive",ct({ref:u,object:M,enableDamping:i},c))}),{Dragger:vRe}=H0e,yRe=Hn.div`
  width: 100%;
  height: 100%;
  z-index: 100;
`;function xRe(t){const{worker:e}=t,r={accept:".json",name:"file",multiple:!1,beforeUpload:(i=>o=>{console.log(o);const s=new FileReader;return s.onload=a=>{console.log(a.target?.result);const l=a.target?.result;if(typeof l=="string"){const c={func:Mc.DESERIALIZE,args:{savedState:l}};i.postMessage(c)}},s.readAsText(o),!1})(e)};return qe.jsx(yRe,{children:qe.jsxs(vRe,{...r,children:[qe.jsx("p",{className:"ant-upload-drag-icon",children:qe.jsx(kge,{})}),qe.jsx("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"})]})})}const bRe=Hn.div`
  width: 100%;
  height: 100%;
  z-index: 100;
`;async function SRe(){return await new Promise((t,e)=>{const n=window.indexedDB.open("modelAutoSave",1);n.onerror=r=>{e(r)},n.onsuccess=r=>{const a=r.target.result.transaction("modelSave","readonly").objectStore("modelSave").getAllKeys();a.onsuccess=l=>{const c=l.target.result;Array.isArray(c)&&t(c)}}})}function _Re(t){const{worker:e}=t,[n,r]=y.useState([]);y.useEffect(()=>{async function o(){const s=await SRe();r(s)}o()},[]);function i(o){console.log(`Selected key: ${o}`);const s=window.indexedDB.open("modelAutoSave",1);s.onerror=a=>{console.log(a)},s.onsuccess=a=>{const d=a.target.result.transaction("modelSave","readonly").objectStore("modelSave").get(o);d.onsuccess=f=>{const h=f.target.result;if(h!==void 0){const g={func:Mc.DESERIALIZE,args:{savedState:JSON.parse(h)}};e.postMessage(g)}}}}return qe.jsxs(bRe,{children:[qe.jsx(BI.Title,{level:3,children:"Select a key to restore:"}),qe.jsx(OE,{}),qe.jsx(q_,{bordered:!0,dataSource:n,renderItem:o=>qe.jsx(q_.Item,{onClick:()=>{i(o)},children:qe.jsx(BI.Text,{children:o})})})]})}const wRe=Hn.div`
  position: absolute;
  top: 50%;
  left: 50%;
  width: 60%;
  height: 80%;
  background-color: #ffffff;
  border-radius: 1rem;
  transform: translate(-50%, -50%);
  z-index: 100;

  @media (max-width: 760px) {
    width: 95%;
    height: 97%;
  }
`,CRe=Hn.button`
  position: absolute;
  top: 0.5rem;
  right: 0.5rem;
  background-color: transparent;
  border: none;
  font-size: 1rem;
  cursor: pointer;
`,ERe=Hn.div`
  width: 25%;
  height: 100%;
  float: left;
  display: flex;
  justify-content: center;
  align-items: center;

  @media (max-width: 760px) {
    width: 95%;
    float: none;
    height: 30%;
  }
`,mF=Hn.div`
  width: 80%;
  height: 90%;
  overflow: hidden;
  display: flex;
  justify-content: center;
`,TRe=Hn.div`
  width: 70%;
  height: 100%;
  float: left;
  display: flex;
  justify-content: center;
  align-items: center;

  @media (max-width: 760px) {
    width: 100%;
    float: none;
    height: 70%;
  }
`,MRe=Hn(Q5)`
  width: 100%;
  height: 100%;
  border: none;
`;function RRe(t){const e=t.setRestorePopupVisible,[n,r]=y.useState(""),i=a=>{r(a.key)},o=()=>{switch(n){case"A":return qe.jsx(xRe,{...t});case"B":return qe.jsx(_Re,{...t});default:return null}},s=()=>{e(!1)};return qe.jsxs(wRe,{id:"restore-popup",children:[qe.jsx(CRe,{onClick:s,children:qe.jsx(y3,{})}),qe.jsx(ERe,{children:qe.jsx(mF,{children:qe.jsxs(MRe,{onClick:i,selectedKeys:[n],children:[qe.jsx(Q5.Item,{children:"Local PC"},"A"),qe.jsx(Q5.Item,{children:"IndexedDB"},"B")]})})}),qe.jsx(OE,{type:"vertical"}),qe.jsx(TRe,{children:qe.jsx(mF,{children:o()})})]})}const ARe=Hn.div`
  position: relative;
  left: 21rem;
  top: 1rem;
  width: calc(100% - 22rem);
  height: calc(100% - 7rem);
  z-index: 0;
  @media (max-width: 760px) {
    position: relative;
    left: 6rem;
    top: 6rem;
    width: calc(100vw - 12rem);
    height: calc(100vh - 6rem);
    z-index: 0;
  }
`,PRe=Hn(xbe)`
  background: transparent;
  z-index: 0;
`;function NRe(t){const{simulationParams:e,setSimulationParams:n,worker:r}=t;y.useEffect(()=>{const l=c=>{console.log("beforeunload event triggered"),c.preventDefault(),c.returnValue=""};return window.addEventListener("beforeunload",l),()=>{window.removeEventListener("beforeunload",l)}},[]);const i=y.useMemo(()=>[],[]),o=y.useMemo(()=>[],[]),[s,a]=y.useState(!1);return y.useEffect(()=>{r!==null&&(r.onmessage=l=>{const c=l.data;switch(c.type){case"init":console.log("worker initialised"),r.postMessage({func:Mc.START});break;case"output":for(const u of i)c.density!==void 0&&u(c.density);break;case"modelSave":for(const u of o){if(c===null)throw new Error("error in calling worker.modelSave, data was null");u(c.save)}break}},r.onerror=l=>{console.log(l)})},[r,i,o]),qe.jsxs(qe.Fragment,{children:[qe.jsx(C6e,{params:e,setParams:n}),qe.jsx(ARe,{children:qe.jsxs(PRe,{shadows:!0,camera:{position:[1,10,1]},children:[qe.jsx("ambientLight",{}),qe.jsx(gRe,{target:[0,0,0],enabled:e.isCameraControlMode}),qe.jsx(pCe,{disableInteraction:e.isCameraControlMode,position:[0,0,0],params:e,worker:r,outputSubs:i})]})}),s&&qe.jsx(RRe,{worker:r,setRestorePopupVisible:a}),qe.jsx(A6e,{modelSaveSubs:o,worker:r,setRestorePopupVisible:a})]})}const IRe=`<h1>CFlowSim</h1>
<p>previously <em>Physics in the Browser</em></p>
<p><a href="https://github.com/techlauncher-mlai-edge-physics/techlauncher-mlai-edge-physics.github.io/actions/workflows/main.yml"><img src="https://github.com/techlauncher-mlai-edge-physics/techlauncher-mlai-edge-physics.github.io/actions/workflows/main.yml/badge.svg" alt="Deployment CI"></a></p>
<p><strong>Deployed at <a href="https://techlauncher-mlai-edge-physics.github.io">GitHub Pages</a></strong></p>
<p>This project is a web application that allows users to simulate the fluid dynamics of a 2D fluid system enhanced by machine learning. The application is built using <a href="https://reactjs.org/">React</a> and <a href="https://threejs.org/">Three.js</a>. The machine learning model is built using <a href="https://pytorch.org/">PyTorch</a> and converted to <a href="https://onnx.ai/">ONNX</a> format for inference in the browser using <a href="https://npmjs.com/package/onnxruntime-web">onnxruntime-web</a>.</p>
<h2>About the project</h2>
<p>Welcome to our interactive online neural physics emulation engine! What you're seeing is a simulation of computational fluid dynamics, powered by cutting-edge neural network technology.</p>
<p>Computational fluid dynamics is an important area of study that helps us understand how fluids behave in various scenarios, from the flow of air around an airplane to the movement of water in a river. It's a complex field, requiring specialised hardware and software to perform accurate simulations.
However, with the development of neural physics emulation, we can now simulate fluid dynamics using neural networks - a type of machine learning algorithm inspired by the human brain. This approach has the potential to be much faster and more efficient than traditional methods, allowing us to explore complex scenarios and gain new insights into the behaviour of fluids.</p>
<h3>Applications</h3>
<p>The ability to simulate fluid dynamics using neural network technology has significant potential for industrial applications.</p>
<p>For example, in the field of aerospace engineering, accurate simulations of fluid dynamics are critical for designing aircraft that are safe, efficient, and effective. By using neural network technology to perform these simulations, engineers can gain a more comprehensive understanding of how air flows around different parts of the aircraft, helping them to optimise its design and performance.</p>
<p>In the automotive industry, neural physics emulation can be used to simulate the flow of air around vehicles, which is important for improving aerodynamics and fuel efficiency. This technology can also be used in the design of cooling systems for engines and other components, ensuring that they operate at the optimal temperature.</p>
<p>In the energy sector, neural physics emulation can be used to simulate the behaviour of fluids in oil and gas wells, helping to optimise the extraction process and improve safety. This technology can also be used in the design of wind turbines and other renewable energy technologies, helping to optimize their efficiency and output.</p>
<p>Overall, the ability to simulate fluid dynamics using neural network technology has broad applications across many industries, helping to improve safety, efficiency, and performance.</p>
<h3>Accessibility</h3>
<p>What's really exciting about this online neural physics emulation engine is that it allows anyone with an internet connection to experiment with these simulations themselves. Traditionally, these simulations require specialized hardware and software, and may only be accessible to researchers with access to high-performance computing resources. However, by hosting technology on a web browser, we can make it accessible to anyone, regardless of their technical background.</p>
<p>Our interactive online neural physics emulation engine is based on the research of the Hybrid Prediction Activity, which is part of the Machine Learning and Artificial Intelligence Future Science Platform (MLAI-FSP) in CSIRO's Data61. The MLAI-FSP is dedicated to advancing the field of machine learning and artificial intelligence through interdisciplinary research and collaboration.</p>
<h2>About the team</h2>
<p>This project was developed in collaboration with team from ANU TechLauncher, a student industry collaboration program at the Australian National University.</p>
<p>The team is led by students of ANU college of Engineering, Computing and Cybernetics. Students with different levels of expertise in coding, design, content creation, and project management actively collaborate to create this website that presents a user-friendly simulation platform to the public.</p>
<p>As this project is open source, we are open to contributions from the general public. Please see our contribution guide if you would like to lend a hand with our efforts.</p>
<h2>Getting Started</h2>
<p>The public deployment of the application can be found at <a href="https://techlauncher-mlai-edge-physics.github.io">GitHub Pages</a>.
To build and run the application locally, see our <a href="docs/gettingstarted.md">getting started page</a></p>
<h2>Contributing</h2>
<p>See our <a href="CONTRIBUTION.md">contribution guide</a> to get started.</p>
<h2>License</h2>
<p>Distributed under the BSD-3 Clause License. See <code>LICENSE</code> for more information.</p>`,ORe=Hn.div`
  background-color: ${t=>t.theme.light?"#ffffff":"#707070"};
`,LRe=Hn.div`
  text-align: justify;
  margin-left: 20%;
  margin-right: 20%;
  margin-bottom: 5%;
  font-family: 'Roboto', sans-serif;
  color: ${t=>t.theme.light?"#333333":"#c9c9c9"};
  a:link {
    text-decoration: none;
  }
  a:visited {
    text-decoration: none;
  }
  a:hover {
    text-decoration: underline;
  }
  a:active {
    text-decoration: underline;
  }
`;function DRe(){return qe.jsx(qe.Fragment,{children:qe.jsx(ORe,{children:qe.jsx(LRe,{children:qe.jsx("div",{dangerouslySetInnerHTML:{__html:IRe}})})})})}const FRe=Hn.main`
  position: absolute;
  left: 0;
  top: 0;
  width: 100vw;
  height: 100vh;
  background: ${t=>t.theme.light?"#ffffff":"#707070"};
  z-index: 0;
`,$Re=Hn.div`
  padding: 0;
  margin: 0;
  box-sizing: border-box;
  font-family: 'Titillium Web', sans-serif;
`;function URe(){const[t,e]=y.useState(0),[n,r]=y.useState(new hCe),[i,o]=y.useState(!1),[s,a]=y.useState("auto");y.useEffect(()=>{if(s==="auto"){const d=window.matchMedia("(prefers-color-scheme: dark)");d.addEventListener("change",f=>{const h=f.matches?"dark":"light";o(h==="light")}),o(d.matches)}else o(s==="light")},[s]);const[l,c]=y.useState(null);y.useEffect(()=>{const d=new Worker(new URL("/assets/modelWorker-d5c6fb10.js",self.location),{type:"module"});return c(d),()=>{d.terminate()}},[]),y.useEffect(()=>{const d={func:Mc.INIT,args:{modelPath:"/model/bno_small_new_web/model.json",initConditionPath:"/initData/pvf_incomp_44_nonneg/pvf_incomp_44_nonneg_0.json"}};l!==null&&l.postMessage(d)},[l]);let u;switch(t){case 1:u=qe.jsx(DRe,{});break;case 0:default:u=qe.jsx(NRe,{worker:l,simulationParams:n,setSimulationParams:r});break}return qe.jsx(Tge,{theme:{light:i},children:qe.jsxs(FRe,{children:[qe.jsx($Re,{children:qe.jsx(Fge,{setPage:e,setCurThemeMode:a})}),u]})})}e9.createRoot(document.getElementById("root")).render(qe.jsx(ae.StrictMode,{children:qe.jsx(URe,{})}));
