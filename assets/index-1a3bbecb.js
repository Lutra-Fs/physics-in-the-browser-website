function zO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Fp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var HO={exports:{}},Xy={},GO={exports:{}},Ln={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg=Symbol.for("react.element"),VV=Symbol.for("react.portal"),WV=Symbol.for("react.fragment"),jV=Symbol.for("react.strict_mode"),XV=Symbol.for("react.profiler"),qV=Symbol.for("react.provider"),KV=Symbol.for("react.context"),YV=Symbol.for("react.forward_ref"),ZV=Symbol.for("react.suspense"),QV=Symbol.for("react.memo"),JV=Symbol.for("react.lazy"),UT=Symbol.iterator;function eW(t){return t===null||typeof t!="object"?null:(t=UT&&t[UT]||t["@@iterator"],typeof t=="function"?t:null)}var VO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WO=Object.assign,jO={};function $p(t,e,n){this.props=t,this.context=e,this.refs=jO,this.updater=n||VO}$p.prototype.isReactComponent={};$p.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$p.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function XO(){}XO.prototype=$p.prototype;function R9(t,e,n){this.props=t,this.context=e,this.refs=jO,this.updater=n||VO}var A9=R9.prototype=new XO;A9.constructor=R9;WO(A9,$p.prototype);A9.isPureReactComponent=!0;var kT=Array.isArray,qO=Object.prototype.hasOwnProperty,P9={current:null},KO={key:!0,ref:!0,__self:!0,__source:!0};function YO(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)qO.call(e,r)&&!KO.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:kg,type:t,key:o,ref:a,props:i,_owner:P9.current}}function tW(t,e){return{$$typeof:kg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function I9(t){return typeof t=="object"&&t!==null&&t.$$typeof===kg}function nW(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var BT=/\/+/g;function v4(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nW(""+t.key):e.toString(36)}function e2(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case kg:case VV:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+v4(a,0):r,kT(i)?(n="",t!=null&&(n=t.replace(BT,"$&/")+"/"),e2(i,e,n,"",function(c){return c})):i!=null&&(I9(i)&&(i=tW(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(BT,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",kT(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+v4(o,s);a+=e2(o,e,n,l,i)}else if(l=eW(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+v4(o,s++),a+=e2(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function vv(t,e,n){if(t==null)return t;var r=[],i=0;return e2(t,r,"","",function(o){return e.call(n,o,i++)}),r}function rW(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ho={current:null},t2={transition:null},iW={ReactCurrentDispatcher:ho,ReactCurrentBatchConfig:t2,ReactCurrentOwner:P9};Ln.Children={map:vv,forEach:function(t,e,n){vv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vv(t,function(){e++}),e},toArray:function(t){return vv(t,function(e){return e})||[]},only:function(t){if(!I9(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ln.Component=$p;Ln.Fragment=WV;Ln.Profiler=XV;Ln.PureComponent=R9;Ln.StrictMode=jV;Ln.Suspense=ZV;Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iW;Ln.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=WO({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=P9.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)qO.call(e,l)&&!KO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:kg,type:t.type,key:i,ref:o,props:r,_owner:a}};Ln.createContext=function(t){return t={$$typeof:KV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qV,_context:t},t.Consumer=t};Ln.createElement=YO;Ln.createFactory=function(t){var e=YO.bind(null,t);return e.type=t,e};Ln.createRef=function(){return{current:null}};Ln.forwardRef=function(t){return{$$typeof:YV,render:t}};Ln.isValidElement=I9;Ln.lazy=function(t){return{$$typeof:JV,_payload:{_status:-1,_result:t},_init:rW}};Ln.memo=function(t,e){return{$$typeof:QV,type:t,compare:e===void 0?null:e}};Ln.startTransition=function(t){var e=t2.transition;t2.transition={};try{t()}finally{t2.transition=e}};Ln.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ln.useCallback=function(t,e){return ho.current.useCallback(t,e)};Ln.useContext=function(t){return ho.current.useContext(t)};Ln.useDebugValue=function(){};Ln.useDeferredValue=function(t){return ho.current.useDeferredValue(t)};Ln.useEffect=function(t,e){return ho.current.useEffect(t,e)};Ln.useId=function(){return ho.current.useId()};Ln.useImperativeHandle=function(t,e,n){return ho.current.useImperativeHandle(t,e,n)};Ln.useInsertionEffect=function(t,e){return ho.current.useInsertionEffect(t,e)};Ln.useLayoutEffect=function(t,e){return ho.current.useLayoutEffect(t,e)};Ln.useMemo=function(t,e){return ho.current.useMemo(t,e)};Ln.useReducer=function(t,e,n){return ho.current.useReducer(t,e,n)};Ln.useRef=function(t){return ho.current.useRef(t)};Ln.useState=function(t){return ho.current.useState(t)};Ln.useSyncExternalStore=function(t,e,n){return ho.current.useSyncExternalStore(t,e,n)};Ln.useTransition=function(){return ho.current.useTransition()};Ln.version="18.2.0";GO.exports=Ln;var g=GO.exports;const se=Fp(g),qy=zO({__proto__:null,default:se},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oW=g,aW=Symbol.for("react.element"),sW=Symbol.for("react.fragment"),lW=Object.prototype.hasOwnProperty,cW=oW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uW={key:!0,ref:!0,__self:!0,__source:!0};function ZO(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)lW.call(e,r)&&!uW.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:aW,type:t,key:o,ref:a,props:i,_owner:cW.current}}Xy.Fragment=sW;Xy.jsx=ZO;Xy.jsxs=ZO;HO.exports=Xy;var Ke=HO.exports,ZS={},QO={exports:{}},ea={},JO={exports:{}},eL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,z){var V=O.length;O.push(z);e:for(;0<V;){var F=V-1>>>1,W=O[F];if(0<i(W,z))O[F]=z,O[V]=W,V=F;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var z=O[0],V=O.pop();if(V!==z){O[0]=V;e:for(var F=0,W=O.length,q=W>>>1;F<q;){var Z=2*(F+1)-1,ee=O[Z],oe=Z+1,re=O[oe];if(0>i(ee,V))oe<W&&0>i(re,ee)?(O[F]=re,O[oe]=V,F=oe):(O[F]=ee,O[Z]=V,F=Z);else if(oe<W&&0>i(re,V))O[F]=re,O[oe]=V,F=oe;else break e}}return z}function i(O,z){var V=O.sortIndex-z.sortIndex;return V!==0?V:O.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,d=null,f=3,p=!1,y=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(O){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=O)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function C(O){if(b=!1,S(O),!y)if(n(l)!==null)y=!0,B(_);else{var z=n(c);z!==null&&$(C,z.startTime-O)}}function _(O,z){y=!1,b&&(b=!1,v(I),I=-1),p=!0;var V=f;try{for(S(z),d=n(l);d!==null&&(!(d.expirationTime>z)||O&&!L());){var F=d.callback;if(typeof F=="function"){d.callback=null,f=d.priorityLevel;var W=F(d.expirationTime<=z);z=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),S(z)}else r(l);d=n(l)}if(d!==null)var q=!0;else{var Z=n(c);Z!==null&&$(C,Z.startTime-z),q=!1}return q}finally{d=null,f=V,p=!1}}var T=!1,M=null,I=-1,R=5,P=-1;function L(){return!(t.unstable_now()-P<R)}function k(){if(M!==null){var O=t.unstable_now();P=O;var z=!0;try{z=M(!0,O)}finally{z?H():(T=!1,M=null)}}else T=!1}var H;if(typeof w=="function")H=function(){w(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,G=D.port2;D.port1.onmessage=k,H=function(){G.postMessage(null)}}else H=function(){x(k,0)};function B(O){M=O,T||(T=!0,H())}function $(O,z){I=x(function(){O(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,B(_))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var V=f;f=z;try{return O()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var V=f;f=O;try{return z()}finally{f=V}},t.unstable_scheduleCallback=function(O,z,V){var F=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?F+V:F):V=F,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=V+W,O={id:u++,callback:z,priorityLevel:O,startTime:V,expirationTime:W,sortIndex:-1},V>F?(O.sortIndex=V,e(c,O),n(l)===null&&O===n(c)&&(b?(v(I),I=-1):b=!0,$(C,V-F))):(O.sortIndex=W,e(l,O),y||p||(y=!0,B(_))),O},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(O){var z=f;return function(){var V=f;f=z;try{return O.apply(this,arguments)}finally{f=V}}}})(eL);JO.exports=eL;var dW=JO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tL=g,Qo=dW;function dt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nL=new Set,Um={};function Bd(t,e){Hh(t,e),Hh(t+"Capture",e)}function Hh(t,e){for(Um[t]=e,t=0;t<e.length;t++)nL.add(e[t])}var Ul=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),QS=Object.prototype.hasOwnProperty,fW=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zT={},HT={};function hW(t){return QS.call(HT,t)?!0:QS.call(zT,t)?!1:fW.test(t)?HT[t]=!0:(zT[t]=!0,!1)}function pW(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mW(t,e,n,r){if(e===null||typeof e>"u"||pW(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function po(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Fi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fi[t]=new po(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fi[e]=new po(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fi[t]=new po(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fi[t]=new po(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fi[t]=new po(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fi[t]=new po(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fi[t]=new po(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fi[t]=new po(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fi[t]=new po(t,5,!1,t.toLowerCase(),null,!1,!1)});var N9=/[\-:]([a-z])/g;function O9(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(N9,O9);Fi[e]=new po(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(N9,O9);Fi[e]=new po(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(N9,O9);Fi[e]=new po(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fi[t]=new po(t,1,!1,t.toLowerCase(),null,!1,!1)});Fi.xlinkHref=new po("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fi[t]=new po(t,1,!1,t.toLowerCase(),null,!0,!0)});function L9(t,e,n,r){var i=Fi.hasOwnProperty(e)?Fi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mW(e,n,i,r)&&(n=null),r||i===null?hW(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Kl=tL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yv=Symbol.for("react.element"),ih=Symbol.for("react.portal"),oh=Symbol.for("react.fragment"),D9=Symbol.for("react.strict_mode"),JS=Symbol.for("react.profiler"),rL=Symbol.for("react.provider"),iL=Symbol.for("react.context"),F9=Symbol.for("react.forward_ref"),eb=Symbol.for("react.suspense"),tb=Symbol.for("react.suspense_list"),$9=Symbol.for("react.memo"),Cc=Symbol.for("react.lazy"),oL=Symbol.for("react.offscreen"),GT=Symbol.iterator;function C0(t){return t===null||typeof t!="object"?null:(t=GT&&t[GT]||t["@@iterator"],typeof t=="function"?t:null)}var Or=Object.assign,y4;function em(t){if(y4===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);y4=e&&e[1]||""}return`
`+y4+t}var x4=!1;function S4(t,e){if(!t||x4)return"";x4=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{x4=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?em(t):""}function gW(t){switch(t.tag){case 5:return em(t.type);case 16:return em("Lazy");case 13:return em("Suspense");case 19:return em("SuspenseList");case 0:case 2:case 15:return t=S4(t.type,!1),t;case 11:return t=S4(t.type.render,!1),t;case 1:return t=S4(t.type,!0),t;default:return""}}function nb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oh:return"Fragment";case ih:return"Portal";case JS:return"Profiler";case D9:return"StrictMode";case eb:return"Suspense";case tb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iL:return(t.displayName||"Context")+".Consumer";case rL:return(t._context.displayName||"Context")+".Provider";case F9:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $9:return e=t.displayName||null,e!==null?e:nb(t.type)||"Memo";case Cc:e=t._payload,t=t._init;try{return nb(t(e))}catch{}}return null}function vW(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nb(e);case 8:return e===D9?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function aL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yW(t){var e=aL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xv(t){t._valueTracker||(t._valueTracker=yW(t))}function sL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=aL(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function P2(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rb(t,e){var n=e.checked;return Or({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function VT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lL(t,e){e=e.checked,e!=null&&L9(t,"checked",e,!1)}function ib(t,e){lL(t,e);var n=qc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ob(t,e.type,n):e.hasOwnProperty("defaultValue")&&ob(t,e.type,qc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function WT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ob(t,e,n){(e!=="number"||P2(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tm=Array.isArray;function Rh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ab(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(dt(91));return Or({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(dt(92));if(tm(n)){if(1<n.length)throw Error(dt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qc(n)}}function cL(t,e){var n=qc(e.value),r=qc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function XT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sv,dL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sv=Sv||document.createElement("div"),Sv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function km(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var dm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xW=["Webkit","ms","Moz","O"];Object.keys(dm).forEach(function(t){xW.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dm[e]=dm[t]})});function fL(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||dm.hasOwnProperty(t)&&dm[t]?(""+e).trim():e+"px"}function hL(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fL(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var SW=Or({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lb(t,e){if(e){if(SW[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(dt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(dt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(dt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(dt(62))}}function cb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ub=null;function U9(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var db=null,Ah=null,Ph=null;function qT(t){if(t=Hg(t)){if(typeof db!="function")throw Error(dt(280));var e=t.stateNode;e&&(e=Jy(e),db(t.stateNode,t.type,e))}}function pL(t){Ah?Ph?Ph.push(t):Ph=[t]:Ah=t}function mL(){if(Ah){var t=Ah,e=Ph;if(Ph=Ah=null,qT(t),e)for(t=0;t<e.length;t++)qT(e[t])}}function gL(t,e){return t(e)}function vL(){}var b4=!1;function yL(t,e,n){if(b4)return t(e,n);b4=!0;try{return gL(t,e,n)}finally{b4=!1,(Ah!==null||Ph!==null)&&(vL(),mL())}}function Bm(t,e){var n=t.stateNode;if(n===null)return null;var r=Jy(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(dt(231,e,typeof n));return n}var fb=!1;if(Ul)try{var E0={};Object.defineProperty(E0,"passive",{get:function(){fb=!0}}),window.addEventListener("test",E0,E0),window.removeEventListener("test",E0,E0)}catch{fb=!1}function bW(t,e,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var fm=!1,I2=null,N2=!1,hb=null,wW={onError:function(t){fm=!0,I2=t}};function CW(t,e,n,r,i,o,a,s,l){fm=!1,I2=null,bW.apply(wW,arguments)}function EW(t,e,n,r,i,o,a,s,l){if(CW.apply(this,arguments),fm){if(fm){var c=I2;fm=!1,I2=null}else throw Error(dt(198));N2||(N2=!0,hb=c)}}function zd(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xL(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function KT(t){if(zd(t)!==t)throw Error(dt(188))}function _W(t){var e=t.alternate;if(!e){if(e=zd(t),e===null)throw Error(dt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return KT(i),t;if(o===r)return KT(i),e;o=o.sibling}throw Error(dt(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(dt(189))}}if(n.alternate!==r)throw Error(dt(190))}if(n.tag!==3)throw Error(dt(188));return n.stateNode.current===n?t:e}function SL(t){return t=_W(t),t!==null?bL(t):null}function bL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bL(t);if(e!==null)return e;t=t.sibling}return null}var wL=Qo.unstable_scheduleCallback,YT=Qo.unstable_cancelCallback,TW=Qo.unstable_shouldYield,MW=Qo.unstable_requestPaint,jr=Qo.unstable_now,RW=Qo.unstable_getCurrentPriorityLevel,k9=Qo.unstable_ImmediatePriority,CL=Qo.unstable_UserBlockingPriority,O2=Qo.unstable_NormalPriority,AW=Qo.unstable_LowPriority,EL=Qo.unstable_IdlePriority,Ky=null,zs=null;function PW(t){if(zs&&typeof zs.onCommitFiberRoot=="function")try{zs.onCommitFiberRoot(Ky,t,void 0,(t.current.flags&128)===128)}catch{}}var rs=Math.clz32?Math.clz32:OW,IW=Math.log,NW=Math.LN2;function OW(t){return t>>>=0,t===0?32:31-(IW(t)/NW|0)|0}var bv=64,wv=4194304;function nm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function L2(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=nm(s):(o&=a,o!==0&&(r=nm(o)))}else a=n&~i,a!==0?r=nm(a):o!==0&&(r=nm(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-rs(e),i=1<<n,r|=t[n],e&=~i;return r}function LW(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DW(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-rs(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=LW(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function pb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _L(){var t=bv;return bv<<=1,!(bv&4194240)&&(bv=64),t}function w4(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bg(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rs(e),t[e]=n}function FW(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-rs(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function B9(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-rs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Jn=0;function TL(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ML,z9,RL,AL,PL,mb=!1,Cv=[],Lc=null,Dc=null,Fc=null,zm=new Map,Hm=new Map,_c=[],$W="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZT(t,e){switch(t){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Dc=null;break;case"mouseover":case"mouseout":Fc=null;break;case"pointerover":case"pointerout":zm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hm.delete(e.pointerId)}}function _0(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Hg(e),e!==null&&z9(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function UW(t,e,n,r,i){switch(e){case"focusin":return Lc=_0(Lc,t,e,n,r,i),!0;case"dragenter":return Dc=_0(Dc,t,e,n,r,i),!0;case"mouseover":return Fc=_0(Fc,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return zm.set(o,_0(zm.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Hm.set(o,_0(Hm.get(o)||null,t,e,n,r,i)),!0}return!1}function IL(t){var e=Wu(t.target);if(e!==null){var n=zd(e);if(n!==null){if(e=n.tag,e===13){if(e=xL(n),e!==null){t.blockedOn=e,PL(t.priority,function(){RL(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function n2(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ub=r,n.target.dispatchEvent(r),ub=null}else return e=Hg(n),e!==null&&z9(e),t.blockedOn=n,!1;e.shift()}return!0}function QT(t,e,n){n2(t)&&n.delete(e)}function kW(){mb=!1,Lc!==null&&n2(Lc)&&(Lc=null),Dc!==null&&n2(Dc)&&(Dc=null),Fc!==null&&n2(Fc)&&(Fc=null),zm.forEach(QT),Hm.forEach(QT)}function T0(t,e){t.blockedOn===e&&(t.blockedOn=null,mb||(mb=!0,Qo.unstable_scheduleCallback(Qo.unstable_NormalPriority,kW)))}function Gm(t){function e(i){return T0(i,t)}if(0<Cv.length){T0(Cv[0],t);for(var n=1;n<Cv.length;n++){var r=Cv[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Lc!==null&&T0(Lc,t),Dc!==null&&T0(Dc,t),Fc!==null&&T0(Fc,t),zm.forEach(e),Hm.forEach(e),n=0;n<_c.length;n++)r=_c[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_c.length&&(n=_c[0],n.blockedOn===null);)IL(n),n.blockedOn===null&&_c.shift()}var Ih=Kl.ReactCurrentBatchConfig,D2=!0;function BW(t,e,n,r){var i=Jn,o=Ih.transition;Ih.transition=null;try{Jn=1,H9(t,e,n,r)}finally{Jn=i,Ih.transition=o}}function zW(t,e,n,r){var i=Jn,o=Ih.transition;Ih.transition=null;try{Jn=4,H9(t,e,n,r)}finally{Jn=i,Ih.transition=o}}function H9(t,e,n,r){if(D2){var i=gb(t,e,n,r);if(i===null)N4(t,e,r,F2,n),ZT(t,r);else if(UW(i,t,e,n,r))r.stopPropagation();else if(ZT(t,r),e&4&&-1<$W.indexOf(t)){for(;i!==null;){var o=Hg(i);if(o!==null&&ML(o),o=gb(t,e,n,r),o===null&&N4(t,e,r,F2,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else N4(t,e,r,null,n)}}var F2=null;function gb(t,e,n,r){if(F2=null,t=U9(r),t=Wu(t),t!==null)if(e=zd(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xL(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return F2=t,null}function NL(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RW()){case k9:return 1;case CL:return 4;case O2:case AW:return 16;case EL:return 536870912;default:return 16}default:return 16}}var Rc=null,G9=null,r2=null;function OL(){if(r2)return r2;var t,e=G9,n=e.length,r,i="value"in Rc?Rc.value:Rc.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return r2=i.slice(t,1<r?1-r:void 0)}function i2(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ev(){return!0}function JT(){return!1}function ta(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ev:JT,this.isPropagationStopped=JT,this}return Or(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ev)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ev)},persist:function(){},isPersistent:Ev}),e}var Up={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},V9=ta(Up),zg=Or({},Up,{view:0,detail:0}),HW=ta(zg),C4,E4,M0,Yy=Or({},zg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:W9,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==M0&&(M0&&t.type==="mousemove"?(C4=t.screenX-M0.screenX,E4=t.screenY-M0.screenY):E4=C4=0,M0=t),C4)},movementY:function(t){return"movementY"in t?t.movementY:E4}}),eM=ta(Yy),GW=Or({},Yy,{dataTransfer:0}),VW=ta(GW),WW=Or({},zg,{relatedTarget:0}),_4=ta(WW),jW=Or({},Up,{animationName:0,elapsedTime:0,pseudoElement:0}),XW=ta(jW),qW=Or({},Up,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KW=ta(qW),YW=Or({},Up,{data:0}),tM=ta(YW),ZW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ej(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JW[t])?!!e[t]:!1}function W9(){return ej}var tj=Or({},zg,{key:function(t){if(t.key){var e=ZW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=i2(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:W9,charCode:function(t){return t.type==="keypress"?i2(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?i2(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nj=ta(tj),rj=Or({},Yy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nM=ta(rj),ij=Or({},zg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:W9}),oj=ta(ij),aj=Or({},Up,{propertyName:0,elapsedTime:0,pseudoElement:0}),sj=ta(aj),lj=Or({},Yy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cj=ta(lj),uj=[9,13,27,32],j9=Ul&&"CompositionEvent"in window,hm=null;Ul&&"documentMode"in document&&(hm=document.documentMode);var dj=Ul&&"TextEvent"in window&&!hm,LL=Ul&&(!j9||hm&&8<hm&&11>=hm),rM=String.fromCharCode(32),iM=!1;function DL(t,e){switch(t){case"keyup":return uj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FL(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ah=!1;function fj(t,e){switch(t){case"compositionend":return FL(e);case"keypress":return e.which!==32?null:(iM=!0,rM);case"textInput":return t=e.data,t===rM&&iM?null:t;default:return null}}function hj(t,e){if(ah)return t==="compositionend"||!j9&&DL(t,e)?(t=OL(),r2=G9=Rc=null,ah=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return LL&&e.locale!=="ko"?null:e.data;default:return null}}var pj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pj[t.type]:e==="textarea"}function $L(t,e,n,r){pL(r),e=$2(e,"onChange"),0<e.length&&(n=new V9("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pm=null,Vm=null;function mj(t){qL(t,0)}function Zy(t){var e=ch(t);if(sL(e))return t}function gj(t,e){if(t==="change")return e}var UL=!1;if(Ul){var T4;if(Ul){var M4="oninput"in document;if(!M4){var aM=document.createElement("div");aM.setAttribute("oninput","return;"),M4=typeof aM.oninput=="function"}T4=M4}else T4=!1;UL=T4&&(!document.documentMode||9<document.documentMode)}function sM(){pm&&(pm.detachEvent("onpropertychange",kL),Vm=pm=null)}function kL(t){if(t.propertyName==="value"&&Zy(Vm)){var e=[];$L(e,Vm,t,U9(t)),yL(mj,e)}}function vj(t,e,n){t==="focusin"?(sM(),pm=e,Vm=n,pm.attachEvent("onpropertychange",kL)):t==="focusout"&&sM()}function yj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zy(Vm)}function xj(t,e){if(t==="click")return Zy(e)}function Sj(t,e){if(t==="input"||t==="change")return Zy(e)}function bj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cs=typeof Object.is=="function"?Object.is:bj;function Wm(t,e){if(cs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!QS.call(e,i)||!cs(t[i],e[i]))return!1}return!0}function lM(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cM(t,e){var n=lM(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lM(n)}}function BL(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?BL(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zL(){for(var t=window,e=P2();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=P2(t.document)}return e}function X9(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wj(t){var e=zL(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&BL(n.ownerDocument.documentElement,n)){if(r!==null&&X9(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=cM(n,o);var a=cM(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Cj=Ul&&"documentMode"in document&&11>=document.documentMode,sh=null,vb=null,mm=null,yb=!1;function uM(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yb||sh==null||sh!==P2(r)||(r=sh,"selectionStart"in r&&X9(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mm&&Wm(mm,r)||(mm=r,r=$2(vb,"onSelect"),0<r.length&&(e=new V9("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=sh)))}function _v(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lh={animationend:_v("Animation","AnimationEnd"),animationiteration:_v("Animation","AnimationIteration"),animationstart:_v("Animation","AnimationStart"),transitionend:_v("Transition","TransitionEnd")},R4={},HL={};Ul&&(HL=document.createElement("div").style,"AnimationEvent"in window||(delete lh.animationend.animation,delete lh.animationiteration.animation,delete lh.animationstart.animation),"TransitionEvent"in window||delete lh.transitionend.transition);function Qy(t){if(R4[t])return R4[t];if(!lh[t])return t;var e=lh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in HL)return R4[t]=e[n];return t}var GL=Qy("animationend"),VL=Qy("animationiteration"),WL=Qy("animationstart"),jL=Qy("transitionend"),XL=new Map,dM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nu(t,e){XL.set(t,e),Bd(e,[t])}for(var A4=0;A4<dM.length;A4++){var P4=dM[A4],Ej=P4.toLowerCase(),_j=P4[0].toUpperCase()+P4.slice(1);nu(Ej,"on"+_j)}nu(GL,"onAnimationEnd");nu(VL,"onAnimationIteration");nu(WL,"onAnimationStart");nu("dblclick","onDoubleClick");nu("focusin","onFocus");nu("focusout","onBlur");nu(jL,"onTransitionEnd");Hh("onMouseEnter",["mouseout","mouseover"]);Hh("onMouseLeave",["mouseout","mouseover"]);Hh("onPointerEnter",["pointerout","pointerover"]);Hh("onPointerLeave",["pointerout","pointerover"]);Bd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tj=new Set("cancel close invalid load scroll toggle".split(" ").concat(rm));function fM(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,EW(r,e,void 0,t),t.currentTarget=null}function qL(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;fM(i,s,c),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;fM(i,s,c),o=l}}}if(N2)throw t=hb,N2=!1,hb=null,t}function hr(t,e){var n=e[Cb];n===void 0&&(n=e[Cb]=new Set);var r=t+"__bubble";n.has(r)||(KL(e,t,2,!1),n.add(r))}function I4(t,e,n){var r=0;e&&(r|=4),KL(n,t,r,e)}var Tv="_reactListening"+Math.random().toString(36).slice(2);function jm(t){if(!t[Tv]){t[Tv]=!0,nL.forEach(function(n){n!=="selectionchange"&&(Tj.has(n)||I4(n,!1,t),I4(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tv]||(e[Tv]=!0,I4("selectionchange",!1,e))}}function KL(t,e,n,r){switch(NL(e)){case 1:var i=BW;break;case 4:i=zW;break;default:i=H9}n=i.bind(null,e,n,t),i=void 0,!fb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function N4(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Wu(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}yL(function(){var c=o,u=U9(n),d=[];e:{var f=XL.get(t);if(f!==void 0){var p=V9,y=t;switch(t){case"keypress":if(i2(n)===0)break e;case"keydown":case"keyup":p=nj;break;case"focusin":y="focus",p=_4;break;case"focusout":y="blur",p=_4;break;case"beforeblur":case"afterblur":p=_4;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=eM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=VW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=oj;break;case GL:case VL:case WL:p=XW;break;case jL:p=sj;break;case"scroll":p=HW;break;case"wheel":p=cj;break;case"copy":case"cut":case"paste":p=KW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=nM}var b=(e&4)!==0,x=!b&&t==="scroll",v=b?f!==null?f+"Capture":null:f;b=[];for(var w=c,S;w!==null;){S=w;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,v!==null&&(C=Bm(w,v),C!=null&&b.push(Xm(w,C,S)))),x)break;w=w.return}0<b.length&&(f=new p(f,y,null,n,u),d.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==ub&&(y=n.relatedTarget||n.fromElement)&&(Wu(y)||y[kl]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?Wu(y):null,y!==null&&(x=zd(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(b=eM,C="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(b=nM,C="onPointerLeave",v="onPointerEnter",w="pointer"),x=p==null?f:ch(p),S=y==null?f:ch(y),f=new b(C,w+"leave",p,n,u),f.target=x,f.relatedTarget=S,C=null,Wu(u)===c&&(b=new b(v,w+"enter",y,n,u),b.target=S,b.relatedTarget=x,C=b),x=C,p&&y)t:{for(b=p,v=y,w=0,S=b;S;S=hf(S))w++;for(S=0,C=v;C;C=hf(C))S++;for(;0<w-S;)b=hf(b),w--;for(;0<S-w;)v=hf(v),S--;for(;w--;){if(b===v||v!==null&&b===v.alternate)break t;b=hf(b),v=hf(v)}b=null}else b=null;p!==null&&hM(d,f,p,b,!1),y!==null&&x!==null&&hM(d,x,y,b,!0)}}e:{if(f=c?ch(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=gj;else if(oM(f))if(UL)_=Sj;else{_=yj;var T=vj}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=xj);if(_&&(_=_(t,c))){$L(d,_,n,u);break e}T&&T(t,f,c),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&ob(f,"number",f.value)}switch(T=c?ch(c):window,t){case"focusin":(oM(T)||T.contentEditable==="true")&&(sh=T,vb=c,mm=null);break;case"focusout":mm=vb=sh=null;break;case"mousedown":yb=!0;break;case"contextmenu":case"mouseup":case"dragend":yb=!1,uM(d,n,u);break;case"selectionchange":if(Cj)break;case"keydown":case"keyup":uM(d,n,u)}var M;if(j9)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ah?DL(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(LL&&n.locale!=="ko"&&(ah||I!=="onCompositionStart"?I==="onCompositionEnd"&&ah&&(M=OL()):(Rc=u,G9="value"in Rc?Rc.value:Rc.textContent,ah=!0)),T=$2(c,I),0<T.length&&(I=new tM(I,t,null,n,u),d.push({event:I,listeners:T}),M?I.data=M:(M=FL(n),M!==null&&(I.data=M)))),(M=dj?fj(t,n):hj(t,n))&&(c=$2(c,"onBeforeInput"),0<c.length&&(u=new tM("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=M))}qL(d,e)})}function Xm(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $2(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Bm(t,n),o!=null&&r.unshift(Xm(t,o,i)),o=Bm(t,e),o!=null&&r.push(Xm(t,o,i))),t=t.return}return r}function hf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hM(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=Bm(n,o),l!=null&&a.unshift(Xm(n,l,s))):i||(l=Bm(n,o),l!=null&&a.push(Xm(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Mj=/\r\n?/g,Rj=/\u0000|\uFFFD/g;function pM(t){return(typeof t=="string"?t:""+t).replace(Mj,`
`).replace(Rj,"")}function Mv(t,e,n){if(e=pM(e),pM(t)!==e&&n)throw Error(dt(425))}function U2(){}var xb=null,Sb=null;function bb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wb=typeof setTimeout=="function"?setTimeout:void 0,Aj=typeof clearTimeout=="function"?clearTimeout:void 0,mM=typeof Promise=="function"?Promise:void 0,Pj=typeof queueMicrotask=="function"?queueMicrotask:typeof mM<"u"?function(t){return mM.resolve(null).then(t).catch(Ij)}:wb;function Ij(t){setTimeout(function(){throw t})}function O4(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Gm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gm(e)}function $c(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gM(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var kp=Math.random().toString(36).slice(2),ks="__reactFiber$"+kp,qm="__reactProps$"+kp,kl="__reactContainer$"+kp,Cb="__reactEvents$"+kp,Nj="__reactListeners$"+kp,Oj="__reactHandles$"+kp;function Wu(t){var e=t[ks];if(e)return e;for(var n=t.parentNode;n;){if(e=n[kl]||n[ks]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=gM(t);t!==null;){if(n=t[ks])return n;t=gM(t)}return e}t=n,n=t.parentNode}return null}function Hg(t){return t=t[ks]||t[kl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ch(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(dt(33))}function Jy(t){return t[qm]||null}var Eb=[],uh=-1;function ru(t){return{current:t}}function mr(t){0>uh||(t.current=Eb[uh],Eb[uh]=null,uh--)}function ur(t,e){uh++,Eb[uh]=t.current,t.current=e}var Kc={},no=ru(Kc),Mo=ru(!1),xd=Kc;function Gh(t,e){var n=t.type.contextTypes;if(!n)return Kc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ro(t){return t=t.childContextTypes,t!=null}function k2(){mr(Mo),mr(no)}function vM(t,e,n){if(no.current!==Kc)throw Error(dt(168));ur(no,e),ur(Mo,n)}function YL(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(dt(108,vW(t)||"Unknown",i));return Or({},n,r)}function B2(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kc,xd=no.current,ur(no,t),ur(Mo,Mo.current),!0}function yM(t,e,n){var r=t.stateNode;if(!r)throw Error(dt(169));n?(t=YL(t,e,xd),r.__reactInternalMemoizedMergedChildContext=t,mr(Mo),mr(no),ur(no,t)):mr(Mo),ur(Mo,n)}var _l=null,e5=!1,L4=!1;function ZL(t){_l===null?_l=[t]:_l.push(t)}function Lj(t){e5=!0,ZL(t)}function iu(){if(!L4&&_l!==null){L4=!0;var t=0,e=Jn;try{var n=_l;for(Jn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}_l=null,e5=!1}catch(i){throw _l!==null&&(_l=_l.slice(t+1)),wL(k9,iu),i}finally{Jn=e,L4=!1}}return null}var dh=[],fh=0,z2=null,H2=0,xa=[],Sa=0,Sd=null,Al=1,Pl="";function Du(t,e){dh[fh++]=H2,dh[fh++]=z2,z2=t,H2=e}function QL(t,e,n){xa[Sa++]=Al,xa[Sa++]=Pl,xa[Sa++]=Sd,Sd=t;var r=Al;t=Pl;var i=32-rs(r)-1;r&=~(1<<i),n+=1;var o=32-rs(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Al=1<<32-rs(e)+i|n<<i|r,Pl=o+t}else Al=1<<o|n<<i|r,Pl=t}function q9(t){t.return!==null&&(Du(t,1),QL(t,1,0))}function K9(t){for(;t===z2;)z2=dh[--fh],dh[fh]=null,H2=dh[--fh],dh[fh]=null;for(;t===Sd;)Sd=xa[--Sa],xa[Sa]=null,Pl=xa[--Sa],xa[Sa]=null,Al=xa[--Sa],xa[Sa]=null}var Ko=null,Xo=null,Cr=!1,Za=null;function JL(t,e){var n=ba(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xM(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ko=t,Xo=$c(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ko=t,Xo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Sd!==null?{id:Al,overflow:Pl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ba(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ko=t,Xo=null,!0):!1;default:return!1}}function _b(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tb(t){if(Cr){var e=Xo;if(e){var n=e;if(!xM(t,e)){if(_b(t))throw Error(dt(418));e=$c(n.nextSibling);var r=Ko;e&&xM(t,e)?JL(r,n):(t.flags=t.flags&-4097|2,Cr=!1,Ko=t)}}else{if(_b(t))throw Error(dt(418));t.flags=t.flags&-4097|2,Cr=!1,Ko=t}}}function SM(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ko=t}function Rv(t){if(t!==Ko)return!1;if(!Cr)return SM(t),Cr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bb(t.type,t.memoizedProps)),e&&(e=Xo)){if(_b(t))throw eD(),Error(dt(418));for(;e;)JL(t,e),e=$c(e.nextSibling)}if(SM(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(dt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xo=$c(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xo=null}}else Xo=Ko?$c(t.stateNode.nextSibling):null;return!0}function eD(){for(var t=Xo;t;)t=$c(t.nextSibling)}function Vh(){Xo=Ko=null,Cr=!1}function Y9(t){Za===null?Za=[t]:Za.push(t)}var Dj=Kl.ReactCurrentBatchConfig;function ja(t,e){if(t&&t.defaultProps){e=Or({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var G2=ru(null),V2=null,hh=null,Z9=null;function Q9(){Z9=hh=V2=null}function J9(t){var e=G2.current;mr(G2),t._currentValue=e}function Mb(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Nh(t,e){V2=t,Z9=hh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(To=!0),t.firstContext=null)}function Pa(t){var e=t._currentValue;if(Z9!==t)if(t={context:t,memoizedValue:e,next:null},hh===null){if(V2===null)throw Error(dt(308));hh=t,V2.dependencies={lanes:0,firstContext:t}}else hh=hh.next=t;return e}var ju=null;function ew(t){ju===null?ju=[t]:ju.push(t)}function tD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ew(e)):(n.next=i.next,i.next=n),e.interleaved=n,Bl(t,r)}function Bl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ec=!1;function tw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ll(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Uc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,zn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Bl(t,n)}return i=r.interleaved,i===null?(e.next=e,ew(r)):(e.next=i.next,i.next=e),r.interleaved=e,Bl(t,n)}function o2(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,B9(t,n)}}function bM(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function W2(t,e,n,r){var i=t.updateQueue;Ec=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==a&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,u=c=l=null,s=o;do{var f=s.lane,p=s.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=t,b=s;switch(f=e,p=n,b.tag){case 1:if(y=b.payload,typeof y=="function"){d=y.call(p,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,f=typeof y=="function"?y.call(p,d,f):y,f==null)break e;d=Or({},d,f);break e;case 2:Ec=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,a|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);wd|=a,t.lanes=a,t.memoizedState=d}}function wM(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(dt(191,i));i.call(r)}}}var rD=new tL.Component().refs;function Rb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Or({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var t5={isMounted:function(t){return(t=t._reactInternals)?zd(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=fo(),i=Bc(t),o=Ll(r,i);o.payload=e,n!=null&&(o.callback=n),e=Uc(t,o,i),e!==null&&(is(e,t,i,r),o2(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=fo(),i=Bc(t),o=Ll(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Uc(t,o,i),e!==null&&(is(e,t,i,r),o2(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fo(),r=Bc(t),i=Ll(n,r);i.tag=2,e!=null&&(i.callback=e),e=Uc(t,i,r),e!==null&&(is(e,t,r,n),o2(e,t,r))}};function CM(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Wm(n,r)||!Wm(i,o):!0}function iD(t,e,n){var r=!1,i=Kc,o=e.contextType;return typeof o=="object"&&o!==null?o=Pa(o):(i=Ro(e)?xd:no.current,r=e.contextTypes,o=(r=r!=null)?Gh(t,i):Kc),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=t5,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function EM(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&t5.enqueueReplaceState(e,e.state,null)}function Ab(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=rD,tw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Pa(o):(o=Ro(e)?xd:no.current,i.context=Gh(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Rb(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&t5.enqueueReplaceState(i,i.state,null),W2(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function R0(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(dt(309));var r=n.stateNode}if(!r)throw Error(dt(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;s===rD&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(dt(284));if(!n._owner)throw Error(dt(290,t))}return t}function Av(t,e){throw t=Object.prototype.toString.call(e),Error(dt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _M(t){var e=t._init;return e(t._payload)}function oD(t){function e(v,w){if(t){var S=v.deletions;S===null?(v.deletions=[w],v.flags|=16):S.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=zc(v,w),v.index=0,v.sibling=null,v}function o(v,w,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<w?(v.flags|=2,w):S):(v.flags|=2,w)):(v.flags|=1048576,w)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,w,S,C){return w===null||w.tag!==6?(w=z4(S,v.mode,C),w.return=v,w):(w=i(w,S),w.return=v,w)}function l(v,w,S,C){var _=S.type;return _===oh?u(v,w,S.props.children,C,S.key):w!==null&&(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Cc&&_M(_)===w.type)?(C=i(w,S.props),C.ref=R0(v,w,S),C.return=v,C):(C=d2(S.type,S.key,S.props,null,v.mode,C),C.ref=R0(v,w,S),C.return=v,C)}function c(v,w,S,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=H4(S,v.mode,C),w.return=v,w):(w=i(w,S.children||[]),w.return=v,w)}function u(v,w,S,C,_){return w===null||w.tag!==7?(w=od(S,v.mode,C,_),w.return=v,w):(w=i(w,S),w.return=v,w)}function d(v,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=z4(""+w,v.mode,S),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yv:return S=d2(w.type,w.key,w.props,null,v.mode,S),S.ref=R0(v,null,w),S.return=v,S;case ih:return w=H4(w,v.mode,S),w.return=v,w;case Cc:var C=w._init;return d(v,C(w._payload),S)}if(tm(w)||C0(w))return w=od(w,v.mode,S,null),w.return=v,w;Av(v,w)}return null}function f(v,w,S,C){var _=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return _!==null?null:s(v,w,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case yv:return S.key===_?l(v,w,S,C):null;case ih:return S.key===_?c(v,w,S,C):null;case Cc:return _=S._init,f(v,w,_(S._payload),C)}if(tm(S)||C0(S))return _!==null?null:u(v,w,S,C,null);Av(v,S)}return null}function p(v,w,S,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(S)||null,s(w,v,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case yv:return v=v.get(C.key===null?S:C.key)||null,l(w,v,C,_);case ih:return v=v.get(C.key===null?S:C.key)||null,c(w,v,C,_);case Cc:var T=C._init;return p(v,w,S,T(C._payload),_)}if(tm(C)||C0(C))return v=v.get(S)||null,u(w,v,C,_,null);Av(w,C)}return null}function y(v,w,S,C){for(var _=null,T=null,M=w,I=w=0,R=null;M!==null&&I<S.length;I++){M.index>I?(R=M,M=null):R=M.sibling;var P=f(v,M,S[I],C);if(P===null){M===null&&(M=R);break}t&&M&&P.alternate===null&&e(v,M),w=o(P,w,I),T===null?_=P:T.sibling=P,T=P,M=R}if(I===S.length)return n(v,M),Cr&&Du(v,I),_;if(M===null){for(;I<S.length;I++)M=d(v,S[I],C),M!==null&&(w=o(M,w,I),T===null?_=M:T.sibling=M,T=M);return Cr&&Du(v,I),_}for(M=r(v,M);I<S.length;I++)R=p(M,v,I,S[I],C),R!==null&&(t&&R.alternate!==null&&M.delete(R.key===null?I:R.key),w=o(R,w,I),T===null?_=R:T.sibling=R,T=R);return t&&M.forEach(function(L){return e(v,L)}),Cr&&Du(v,I),_}function b(v,w,S,C){var _=C0(S);if(typeof _!="function")throw Error(dt(150));if(S=_.call(S),S==null)throw Error(dt(151));for(var T=_=null,M=w,I=w=0,R=null,P=S.next();M!==null&&!P.done;I++,P=S.next()){M.index>I?(R=M,M=null):R=M.sibling;var L=f(v,M,P.value,C);if(L===null){M===null&&(M=R);break}t&&M&&L.alternate===null&&e(v,M),w=o(L,w,I),T===null?_=L:T.sibling=L,T=L,M=R}if(P.done)return n(v,M),Cr&&Du(v,I),_;if(M===null){for(;!P.done;I++,P=S.next())P=d(v,P.value,C),P!==null&&(w=o(P,w,I),T===null?_=P:T.sibling=P,T=P);return Cr&&Du(v,I),_}for(M=r(v,M);!P.done;I++,P=S.next())P=p(M,v,I,P.value,C),P!==null&&(t&&P.alternate!==null&&M.delete(P.key===null?I:P.key),w=o(P,w,I),T===null?_=P:T.sibling=P,T=P);return t&&M.forEach(function(k){return e(v,k)}),Cr&&Du(v,I),_}function x(v,w,S,C){if(typeof S=="object"&&S!==null&&S.type===oh&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case yv:e:{for(var _=S.key,T=w;T!==null;){if(T.key===_){if(_=S.type,_===oh){if(T.tag===7){n(v,T.sibling),w=i(T,S.props.children),w.return=v,v=w;break e}}else if(T.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Cc&&_M(_)===T.type){n(v,T.sibling),w=i(T,S.props),w.ref=R0(v,T,S),w.return=v,v=w;break e}n(v,T);break}else e(v,T);T=T.sibling}S.type===oh?(w=od(S.props.children,v.mode,C,S.key),w.return=v,v=w):(C=d2(S.type,S.key,S.props,null,v.mode,C),C.ref=R0(v,w,S),C.return=v,v=C)}return a(v);case ih:e:{for(T=S.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(v,w.sibling),w=i(w,S.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=H4(S,v.mode,C),w.return=v,v=w}return a(v);case Cc:return T=S._init,x(v,w,T(S._payload),C)}if(tm(S))return y(v,w,S,C);if(C0(S))return b(v,w,S,C);Av(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,S),w.return=v,v=w):(n(v,w),w=z4(S,v.mode,C),w.return=v,v=w),a(v)):n(v,w)}return x}var Wh=oD(!0),aD=oD(!1),Gg={},Hs=ru(Gg),Km=ru(Gg),Ym=ru(Gg);function Xu(t){if(t===Gg)throw Error(dt(174));return t}function nw(t,e){switch(ur(Ym,e),ur(Km,t),ur(Hs,Gg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sb(e,t)}mr(Hs),ur(Hs,e)}function jh(){mr(Hs),mr(Km),mr(Ym)}function sD(t){Xu(Ym.current);var e=Xu(Hs.current),n=sb(e,t.type);e!==n&&(ur(Km,t),ur(Hs,n))}function rw(t){Km.current===t&&(mr(Hs),mr(Km))}var Mr=ru(0);function j2(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var D4=[];function iw(){for(var t=0;t<D4.length;t++)D4[t]._workInProgressVersionPrimary=null;D4.length=0}var a2=Kl.ReactCurrentDispatcher,F4=Kl.ReactCurrentBatchConfig,bd=0,Pr=null,si=null,bi=null,X2=!1,gm=!1,Zm=0,Fj=0;function Wi(){throw Error(dt(321))}function ow(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cs(t[n],e[n]))return!1;return!0}function aw(t,e,n,r,i,o){if(bd=o,Pr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,a2.current=t===null||t.memoizedState===null?Bj:zj,t=n(r,i),gm){o=0;do{if(gm=!1,Zm=0,25<=o)throw Error(dt(301));o+=1,bi=si=null,e.updateQueue=null,a2.current=Hj,t=n(r,i)}while(gm)}if(a2.current=q2,e=si!==null&&si.next!==null,bd=0,bi=si=Pr=null,X2=!1,e)throw Error(dt(300));return t}function sw(){var t=Zm!==0;return Zm=0,t}function $s(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bi===null?Pr.memoizedState=bi=t:bi=bi.next=t,bi}function Ia(){if(si===null){var t=Pr.alternate;t=t!==null?t.memoizedState:null}else t=si.next;var e=bi===null?Pr.memoizedState:bi.next;if(e!==null)bi=e,si=t;else{if(t===null)throw Error(dt(310));si=t,t={memoizedState:si.memoizedState,baseState:si.baseState,baseQueue:si.baseQueue,queue:si.queue,next:null},bi===null?Pr.memoizedState=bi=t:bi=bi.next=t}return bi}function Qm(t,e){return typeof e=="function"?e(t):e}function $4(t){var e=Ia(),n=e.queue;if(n===null)throw Error(dt(311));n.lastRenderedReducer=t;var r=si,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,c=o;do{var u=c.lane;if((bd&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,Pr.lanes|=u,wd|=u}c=c.next}while(c!==null&&c!==o);l===null?a=r:l.next=s,cs(r,e.memoizedState)||(To=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Pr.lanes|=o,wd|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function U4(t){var e=Ia(),n=e.queue;if(n===null)throw Error(dt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);cs(o,e.memoizedState)||(To=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function lD(){}function cD(t,e){var n=Pr,r=Ia(),i=e(),o=!cs(r.memoizedState,i);if(o&&(r.memoizedState=i,To=!0),r=r.queue,lw(fD.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||bi!==null&&bi.memoizedState.tag&1){if(n.flags|=2048,Jm(9,dD.bind(null,n,r,i,e),void 0,null),Ei===null)throw Error(dt(349));bd&30||uD(n,e,i)}return i}function uD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Pr.updateQueue,e===null?(e={lastEffect:null,stores:null},Pr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dD(t,e,n,r){e.value=n,e.getSnapshot=r,hD(e)&&pD(t)}function fD(t,e,n){return n(function(){hD(e)&&pD(t)})}function hD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cs(t,n)}catch{return!0}}function pD(t){var e=Bl(t,1);e!==null&&is(e,t,1,-1)}function TM(t){var e=$s();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qm,lastRenderedState:t},e.queue=t,t=t.dispatch=kj.bind(null,Pr,t),[e.memoizedState,t]}function Jm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Pr.updateQueue,e===null?(e={lastEffect:null,stores:null},Pr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mD(){return Ia().memoizedState}function s2(t,e,n,r){var i=$s();Pr.flags|=t,i.memoizedState=Jm(1|e,n,void 0,r===void 0?null:r)}function n5(t,e,n,r){var i=Ia();r=r===void 0?null:r;var o=void 0;if(si!==null){var a=si.memoizedState;if(o=a.destroy,r!==null&&ow(r,a.deps)){i.memoizedState=Jm(e,n,o,r);return}}Pr.flags|=t,i.memoizedState=Jm(1|e,n,o,r)}function MM(t,e){return s2(8390656,8,t,e)}function lw(t,e){return n5(2048,8,t,e)}function gD(t,e){return n5(4,2,t,e)}function vD(t,e){return n5(4,4,t,e)}function yD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xD(t,e,n){return n=n!=null?n.concat([t]):null,n5(4,4,yD.bind(null,e,t),n)}function cw(){}function SD(t,e){var n=Ia();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ow(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bD(t,e){var n=Ia();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ow(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function wD(t,e,n){return bd&21?(cs(n,e)||(n=_L(),Pr.lanes|=n,wd|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,To=!0),t.memoizedState=n)}function $j(t,e){var n=Jn;Jn=n!==0&&4>n?n:4,t(!0);var r=F4.transition;F4.transition={};try{t(!1),e()}finally{Jn=n,F4.transition=r}}function CD(){return Ia().memoizedState}function Uj(t,e,n){var r=Bc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ED(t))_D(e,n);else if(n=tD(t,e,n,r),n!==null){var i=fo();is(n,t,r,i),TD(n,e,r)}}function kj(t,e,n){var r=Bc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ED(t))_D(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,cs(s,a)){var l=e.interleaved;l===null?(i.next=i,ew(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=tD(t,e,i,r),n!==null&&(i=fo(),is(n,t,r,i),TD(n,e,r))}}function ED(t){var e=t.alternate;return t===Pr||e!==null&&e===Pr}function _D(t,e){gm=X2=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function TD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,B9(t,n)}}var q2={readContext:Pa,useCallback:Wi,useContext:Wi,useEffect:Wi,useImperativeHandle:Wi,useInsertionEffect:Wi,useLayoutEffect:Wi,useMemo:Wi,useReducer:Wi,useRef:Wi,useState:Wi,useDebugValue:Wi,useDeferredValue:Wi,useTransition:Wi,useMutableSource:Wi,useSyncExternalStore:Wi,useId:Wi,unstable_isNewReconciler:!1},Bj={readContext:Pa,useCallback:function(t,e){return $s().memoizedState=[t,e===void 0?null:e],t},useContext:Pa,useEffect:MM,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,s2(4194308,4,yD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return s2(4194308,4,t,e)},useInsertionEffect:function(t,e){return s2(4,2,t,e)},useMemo:function(t,e){var n=$s();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$s();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Uj.bind(null,Pr,t),[r.memoizedState,t]},useRef:function(t){var e=$s();return t={current:t},e.memoizedState=t},useState:TM,useDebugValue:cw,useDeferredValue:function(t){return $s().memoizedState=t},useTransition:function(){var t=TM(!1),e=t[0];return t=$j.bind(null,t[1]),$s().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Pr,i=$s();if(Cr){if(n===void 0)throw Error(dt(407));n=n()}else{if(n=e(),Ei===null)throw Error(dt(349));bd&30||uD(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,MM(fD.bind(null,r,o,t),[t]),r.flags|=2048,Jm(9,dD.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=$s(),e=Ei.identifierPrefix;if(Cr){var n=Pl,r=Al;n=(r&~(1<<32-rs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Fj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zj={readContext:Pa,useCallback:SD,useContext:Pa,useEffect:lw,useImperativeHandle:xD,useInsertionEffect:gD,useLayoutEffect:vD,useMemo:bD,useReducer:$4,useRef:mD,useState:function(){return $4(Qm)},useDebugValue:cw,useDeferredValue:function(t){var e=Ia();return wD(e,si.memoizedState,t)},useTransition:function(){var t=$4(Qm)[0],e=Ia().memoizedState;return[t,e]},useMutableSource:lD,useSyncExternalStore:cD,useId:CD,unstable_isNewReconciler:!1},Hj={readContext:Pa,useCallback:SD,useContext:Pa,useEffect:lw,useImperativeHandle:xD,useInsertionEffect:gD,useLayoutEffect:vD,useMemo:bD,useReducer:U4,useRef:mD,useState:function(){return U4(Qm)},useDebugValue:cw,useDeferredValue:function(t){var e=Ia();return si===null?e.memoizedState=t:wD(e,si.memoizedState,t)},useTransition:function(){var t=U4(Qm)[0],e=Ia().memoizedState;return[t,e]},useMutableSource:lD,useSyncExternalStore:cD,useId:CD,unstable_isNewReconciler:!1};function Xh(t,e){try{var n="",r=e;do n+=gW(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function k4(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Pb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Gj=typeof WeakMap=="function"?WeakMap:Map;function MD(t,e,n){n=Ll(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Y2||(Y2=!0,Bb=r),Pb(t,e)},n}function RD(t,e,n){n=Ll(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Pb(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Pb(t,e),typeof r!="function"&&(kc===null?kc=new Set([this]):kc.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function RM(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Gj;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rX.bind(null,t,e,n),e.then(t,t))}function AM(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function PM(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ll(-1,1),e.tag=2,Uc(n,e,1))),n.lanes|=1),t)}var Vj=Kl.ReactCurrentOwner,To=!1;function lo(t,e,n,r){e.child=t===null?aD(e,null,n,r):Wh(e,t.child,n,r)}function IM(t,e,n,r,i){n=n.render;var o=e.ref;return Nh(e,i),r=aw(t,e,n,r,o,i),n=sw(),t!==null&&!To?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zl(t,e,i)):(Cr&&n&&q9(e),e.flags|=1,lo(t,e,r,i),e.child)}function NM(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!vw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,AD(t,e,o,r,i)):(t=d2(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Wm,n(a,r)&&t.ref===e.ref)return zl(t,e,i)}return e.flags|=1,t=zc(o,r),t.ref=e.ref,t.return=e,e.child=t}function AD(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Wm(o,r)&&t.ref===e.ref)if(To=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(To=!0);else return e.lanes=t.lanes,zl(t,e,i)}return Ib(t,e,n,r,i)}function PD(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ur(mh,Wo),Wo|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ur(mh,Wo),Wo|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ur(mh,Wo),Wo|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ur(mh,Wo),Wo|=r;return lo(t,e,i,n),e.child}function ID(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ib(t,e,n,r,i){var o=Ro(n)?xd:no.current;return o=Gh(e,o),Nh(e,i),n=aw(t,e,n,r,o,i),r=sw(),t!==null&&!To?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zl(t,e,i)):(Cr&&r&&q9(e),e.flags|=1,lo(t,e,n,i),e.child)}function OM(t,e,n,r,i){if(Ro(n)){var o=!0;B2(e)}else o=!1;if(Nh(e,i),e.stateNode===null)l2(t,e),iD(e,n,r),Ab(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Pa(c):(c=Ro(n)?xd:no.current,c=Gh(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&EM(e,a,r,c),Ec=!1;var f=e.memoizedState;a.state=f,W2(e,r,a,i),l=e.memoizedState,s!==r||f!==l||Mo.current||Ec?(typeof u=="function"&&(Rb(e,n,u,r),l=e.memoizedState),(s=Ec||CM(e,n,s,r,f,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,nD(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:ja(e.type,s),a.props=c,d=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pa(l):(l=Ro(n)?xd:no.current,l=Gh(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||f!==l)&&EM(e,a,r,l),Ec=!1,f=e.memoizedState,a.state=f,W2(e,r,a,i);var y=e.memoizedState;s!==d||f!==y||Mo.current||Ec?(typeof p=="function"&&(Rb(e,n,p,r),y=e.memoizedState),(c=Ec||CM(e,n,c,r,f,y,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Nb(t,e,n,r,o,i)}function Nb(t,e,n,r,i,o){ID(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&yM(e,n,!1),zl(t,e,o);r=e.stateNode,Vj.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Wh(e,t.child,null,o),e.child=Wh(e,null,s,o)):lo(t,e,s,o),e.memoizedState=r.state,i&&yM(e,n,!0),e.child}function ND(t){var e=t.stateNode;e.pendingContext?vM(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vM(t,e.context,!1),nw(t,e.containerInfo)}function LM(t,e,n,r,i){return Vh(),Y9(i),e.flags|=256,lo(t,e,n,r),e.child}var Ob={dehydrated:null,treeContext:null,retryLane:0};function Lb(t){return{baseLanes:t,cachePool:null,transitions:null}}function OD(t,e,n){var r=e.pendingProps,i=Mr.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ur(Mr,i&1),t===null)return Tb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=o5(a,r,0,null),t=od(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Lb(n),e.memoizedState=Ob,t):uw(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Wj(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=zc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=zc(s,o):(o=od(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Lb(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Ob,r}return o=t.child,t=o.sibling,r=zc(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function uw(t,e){return e=o5({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pv(t,e,n,r){return r!==null&&Y9(r),Wh(e,t.child,null,n),t=uw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Wj(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=k4(Error(dt(422))),Pv(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=o5({mode:"visible",children:r.children},i,0,null),o=od(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Wh(e,t.child,null,a),e.child.memoizedState=Lb(a),e.memoizedState=Ob,o);if(!(e.mode&1))return Pv(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(dt(419)),r=k4(o,r,void 0),Pv(t,e,a,r)}if(s=(a&t.childLanes)!==0,To||s){if(r=Ei,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Bl(t,i),is(r,t,i,-1))}return gw(),r=k4(Error(dt(421))),Pv(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iX.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Xo=$c(i.nextSibling),Ko=e,Cr=!0,Za=null,t!==null&&(xa[Sa++]=Al,xa[Sa++]=Pl,xa[Sa++]=Sd,Al=t.id,Pl=t.overflow,Sd=e),e=uw(e,r.children),e.flags|=4096,e)}function DM(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Mb(t.return,e,n)}function B4(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function LD(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(lo(t,e,r.children,n),r=Mr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&DM(t,n,e);else if(t.tag===19)DM(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ur(Mr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&j2(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),B4(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&j2(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}B4(e,!0,n,null,o);break;case"together":B4(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function l2(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wd|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(dt(153));if(e.child!==null){for(t=e.child,n=zc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jj(t,e,n){switch(e.tag){case 3:ND(e),Vh();break;case 5:sD(e);break;case 1:Ro(e.type)&&B2(e);break;case 4:nw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ur(G2,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ur(Mr,Mr.current&1),e.flags|=128,null):n&e.child.childLanes?OD(t,e,n):(ur(Mr,Mr.current&1),t=zl(t,e,n),t!==null?t.sibling:null);ur(Mr,Mr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return LD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ur(Mr,Mr.current),r)break;return null;case 22:case 23:return e.lanes=0,PD(t,e,n)}return zl(t,e,n)}var DD,Db,FD,$D;DD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Db=function(){};FD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xu(Hs.current);var o=null;switch(n){case"input":i=rb(t,i),r=rb(t,r),o=[];break;case"select":i=Or({},i,{value:void 0}),r=Or({},r,{value:void 0}),o=[];break;case"textarea":i=ab(t,i),r=ab(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=U2)}lb(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Um.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=i?.[c],r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Um.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&hr("scroll",t),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};$D=function(t,e,n,r){n!==r&&(e.flags|=4)};function A0(t,e){if(!Cr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ji(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Xj(t,e,n){var r=e.pendingProps;switch(K9(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ji(e),null;case 1:return Ro(e.type)&&k2(),ji(e),null;case 3:return r=e.stateNode,jh(),mr(Mo),mr(no),iw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Rv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Za!==null&&(Gb(Za),Za=null))),Db(t,e),ji(e),null;case 5:rw(e);var i=Xu(Ym.current);if(n=e.type,t!==null&&e.stateNode!=null)FD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(dt(166));return ji(e),null}if(t=Xu(Hs.current),Rv(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ks]=e,r[qm]=o,t=(e.mode&1)!==0,n){case"dialog":hr("cancel",r),hr("close",r);break;case"iframe":case"object":case"embed":hr("load",r);break;case"video":case"audio":for(i=0;i<rm.length;i++)hr(rm[i],r);break;case"source":hr("error",r);break;case"img":case"image":case"link":hr("error",r),hr("load",r);break;case"details":hr("toggle",r);break;case"input":VT(r,o),hr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},hr("invalid",r);break;case"textarea":jT(r,o),hr("invalid",r)}lb(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Mv(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Mv(r.textContent,s,t),i=["children",""+s]):Um.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&hr("scroll",r)}switch(n){case"input":xv(r),WT(r,o,!0);break;case"textarea":xv(r),XT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=U2)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uL(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ks]=e,t[qm]=r,DD(t,e,!1,!1),e.stateNode=t;e:{switch(a=cb(n,r),n){case"dialog":hr("cancel",t),hr("close",t),i=r;break;case"iframe":case"object":case"embed":hr("load",t),i=r;break;case"video":case"audio":for(i=0;i<rm.length;i++)hr(rm[i],t);i=r;break;case"source":hr("error",t),i=r;break;case"img":case"image":case"link":hr("error",t),hr("load",t),i=r;break;case"details":hr("toggle",t),i=r;break;case"input":VT(t,r),i=rb(t,r),hr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Or({},r,{value:void 0}),hr("invalid",t);break;case"textarea":jT(t,r),i=ab(t,r),hr("invalid",t);break;default:i=r}lb(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?hL(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dL(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&km(t,l):typeof l=="number"&&km(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Um.hasOwnProperty(o)?l!=null&&o==="onScroll"&&hr("scroll",t):l!=null&&L9(t,o,l,a))}switch(n){case"input":xv(t),WT(t,r,!1);break;case"textarea":xv(t),XT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qc(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Rh(t,!!r.multiple,o,!1):r.defaultValue!=null&&Rh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=U2)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ji(e),null;case 6:if(t&&e.stateNode!=null)$D(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(dt(166));if(n=Xu(Ym.current),Xu(Hs.current),Rv(e)){if(r=e.stateNode,n=e.memoizedProps,r[ks]=e,(o=r.nodeValue!==n)&&(t=Ko,t!==null))switch(t.tag){case 3:Mv(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mv(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ks]=e,e.stateNode=r}return ji(e),null;case 13:if(mr(Mr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Cr&&Xo!==null&&e.mode&1&&!(e.flags&128))eD(),Vh(),e.flags|=98560,o=!1;else if(o=Rv(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(dt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(dt(317));o[ks]=e}else Vh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ji(e),o=!1}else Za!==null&&(Gb(Za),Za=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Mr.current&1?di===0&&(di=3):gw())),e.updateQueue!==null&&(e.flags|=4),ji(e),null);case 4:return jh(),Db(t,e),t===null&&jm(e.stateNode.containerInfo),ji(e),null;case 10:return J9(e.type._context),ji(e),null;case 17:return Ro(e.type)&&k2(),ji(e),null;case 19:if(mr(Mr),o=e.memoizedState,o===null)return ji(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)A0(o,!1);else{if(di!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=j2(t),a!==null){for(e.flags|=128,A0(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ur(Mr,Mr.current&1|2),e.child}t=t.sibling}o.tail!==null&&jr()>qh&&(e.flags|=128,r=!0,A0(o,!1),e.lanes=4194304)}else{if(!r)if(t=j2(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),A0(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Cr)return ji(e),null}else 2*jr()-o.renderingStartTime>qh&&n!==1073741824&&(e.flags|=128,r=!0,A0(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=jr(),e.sibling=null,n=Mr.current,ur(Mr,r?n&1|2:n&1),e):(ji(e),null);case 22:case 23:return mw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wo&1073741824&&(ji(e),e.subtreeFlags&6&&(e.flags|=8192)):ji(e),null;case 24:return null;case 25:return null}throw Error(dt(156,e.tag))}function qj(t,e){switch(K9(e),e.tag){case 1:return Ro(e.type)&&k2(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jh(),mr(Mo),mr(no),iw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rw(e),null;case 13:if(mr(Mr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(dt(340));Vh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mr(Mr),null;case 4:return jh(),null;case 10:return J9(e.type._context),null;case 22:case 23:return mw(),null;case 24:return null;default:return null}}var Iv=!1,Yi=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function ph(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fr(t,e,r)}else n.current=null}function Fb(t,e,n){try{n()}catch(r){Fr(t,e,r)}}var FM=!1;function Yj(t,e){if(xb=D2,t=zL(),X9(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===i&&(s=a),f===o&&++u===r&&(l=a),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sb={focusedElem:t,selectionRange:n},D2=!1,Rt=e;Rt!==null;)if(e=Rt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Rt=t;else for(;Rt!==null;){e=Rt;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,x=y.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?b:ja(e.type,b),x);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(dt(163))}}catch(C){Fr(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Rt=t;break}Rt=e.return}return y=FM,FM=!1,y}function vm(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Fb(e,n,o)}i=i.next}while(i!==r)}}function r5(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $b(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function UD(t){var e=t.alternate;e!==null&&(t.alternate=null,UD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ks],delete e[qm],delete e[Cb],delete e[Nj],delete e[Oj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kD(t){return t.tag===5||t.tag===3||t.tag===4}function $M(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ub(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=U2));else if(r!==4&&(t=t.child,t!==null))for(Ub(t,e,n),t=t.sibling;t!==null;)Ub(t,e,n),t=t.sibling}function kb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(kb(t,e,n),t=t.sibling;t!==null;)kb(t,e,n),t=t.sibling}var Ii=null,qa=!1;function sc(t,e,n){for(n=n.child;n!==null;)BD(t,e,n),n=n.sibling}function BD(t,e,n){if(zs&&typeof zs.onCommitFiberUnmount=="function")try{zs.onCommitFiberUnmount(Ky,n)}catch{}switch(n.tag){case 5:Yi||ph(n,e);case 6:var r=Ii,i=qa;Ii=null,sc(t,e,n),Ii=r,qa=i,Ii!==null&&(qa?(t=Ii,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ii.removeChild(n.stateNode));break;case 18:Ii!==null&&(qa?(t=Ii,n=n.stateNode,t.nodeType===8?O4(t.parentNode,n):t.nodeType===1&&O4(t,n),Gm(t)):O4(Ii,n.stateNode));break;case 4:r=Ii,i=qa,Ii=n.stateNode.containerInfo,qa=!0,sc(t,e,n),Ii=r,qa=i;break;case 0:case 11:case 14:case 15:if(!Yi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Fb(n,e,a),i=i.next}while(i!==r)}sc(t,e,n);break;case 1:if(!Yi&&(ph(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Fr(n,e,s)}sc(t,e,n);break;case 21:sc(t,e,n);break;case 22:n.mode&1?(Yi=(r=Yi)||n.memoizedState!==null,sc(t,e,n),Yi=r):sc(t,e,n);break;default:sc(t,e,n)}}function UM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Kj),e.forEach(function(r){var i=oX.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ba(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Ii=s.stateNode,qa=!1;break e;case 3:Ii=s.stateNode.containerInfo,qa=!0;break e;case 4:Ii=s.stateNode.containerInfo,qa=!0;break e}s=s.return}if(Ii===null)throw Error(dt(160));BD(o,a,i),Ii=null,qa=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Fr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zD(e,t),e=e.sibling}function zD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ba(e,t),Fs(t),r&4){try{vm(3,t,t.return),r5(3,t)}catch(b){Fr(t,t.return,b)}try{vm(5,t,t.return)}catch(b){Fr(t,t.return,b)}}break;case 1:Ba(e,t),Fs(t),r&512&&n!==null&&ph(n,n.return);break;case 5:if(Ba(e,t),Fs(t),r&512&&n!==null&&ph(n,n.return),t.flags&32){var i=t.stateNode;try{km(i,"")}catch(b){Fr(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&lL(i,o),cb(s,a);var c=cb(s,o);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?hL(i,d):u==="dangerouslySetInnerHTML"?dL(i,d):u==="children"?km(i,d):L9(i,u,d,c)}switch(s){case"input":ib(i,o);break;case"textarea":cL(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Rh(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?Rh(i,!!o.multiple,o.defaultValue,!0):Rh(i,!!o.multiple,o.multiple?[]:"",!1))}i[qm]=o}catch(b){Fr(t,t.return,b)}}break;case 6:if(Ba(e,t),Fs(t),r&4){if(t.stateNode===null)throw Error(dt(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(b){Fr(t,t.return,b)}}break;case 3:if(Ba(e,t),Fs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gm(e.containerInfo)}catch(b){Fr(t,t.return,b)}break;case 4:Ba(e,t),Fs(t);break;case 13:Ba(e,t),Fs(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(hw=jr())),r&4&&UM(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Yi=(c=Yi)||u,Ba(e,t),Yi=c):Ba(e,t),Fs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Rt=t,u=t.child;u!==null;){for(d=Rt=u;Rt!==null;){switch(f=Rt,p=f.child,f.tag){case 0:case 11:case 14:case 15:vm(4,f,f.return);break;case 1:ph(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(b){Fr(r,n,b)}}break;case 5:ph(f,f.return);break;case 22:if(f.memoizedState!==null){BM(d);continue}}p!==null?(p.return=f,Rt=p):BM(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=fL("display",a))}catch(b){Fr(t,t.return,b)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(b){Fr(t,t.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ba(e,t),Fs(t),r&4&&UM(t);break;case 21:break;default:Ba(e,t),Fs(t)}}function Fs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(kD(n)){var r=n;break e}n=n.return}throw Error(dt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(km(i,""),r.flags&=-33);var o=$M(t);kb(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=$M(t);Ub(t,s,a);break;default:throw Error(dt(161))}}catch(l){Fr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Zj(t,e,n){Rt=t,HD(t)}function HD(t,e,n){for(var r=(t.mode&1)!==0;Rt!==null;){var i=Rt,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Iv;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Yi;s=Iv;var c=Yi;if(Iv=a,(Yi=l)&&!c)for(Rt=i;Rt!==null;)a=Rt,l=a.child,a.tag===22&&a.memoizedState!==null?zM(i):l!==null?(l.return=a,Rt=l):zM(i);for(;o!==null;)Rt=o,HD(o),o=o.sibling;Rt=i,Iv=s,Yi=c}kM(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Rt=o):kM(t)}}function kM(t){for(;Rt!==null;){var e=Rt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yi||r5(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ja(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&wM(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}wM(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Gm(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(dt(163))}Yi||e.flags&512&&$b(e)}catch(f){Fr(e,e.return,f)}}if(e===t){Rt=null;break}if(n=e.sibling,n!==null){n.return=e.return,Rt=n;break}Rt=e.return}}function BM(t){for(;Rt!==null;){var e=Rt;if(e===t){Rt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Rt=n;break}Rt=e.return}}function zM(t){for(;Rt!==null;){var e=Rt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{r5(4,e)}catch(l){Fr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Fr(e,i,l)}}var o=e.return;try{$b(e)}catch(l){Fr(e,o,l)}break;case 5:var a=e.return;try{$b(e)}catch(l){Fr(e,a,l)}}}catch(l){Fr(e,e.return,l)}if(e===t){Rt=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Rt=s;break}Rt=e.return}}var Qj=Math.ceil,K2=Kl.ReactCurrentDispatcher,dw=Kl.ReactCurrentOwner,_a=Kl.ReactCurrentBatchConfig,zn=0,Ei=null,ri=null,Li=0,Wo=0,mh=ru(0),di=0,eg=null,wd=0,i5=0,fw=0,ym=null,wo=null,hw=0,qh=1/0,Cl=null,Y2=!1,Bb=null,kc=null,Nv=!1,Ac=null,Z2=0,xm=0,zb=null,c2=-1,u2=0;function fo(){return zn&6?jr():c2!==-1?c2:c2=jr()}function Bc(t){return t.mode&1?zn&2&&Li!==0?Li&-Li:Dj.transition!==null?(u2===0&&(u2=_L()),u2):(t=Jn,t!==0||(t=window.event,t=t===void 0?16:NL(t.type)),t):1}function is(t,e,n,r){if(50<xm)throw xm=0,zb=null,Error(dt(185));Bg(t,n,r),(!(zn&2)||t!==Ei)&&(t===Ei&&(!(zn&2)&&(i5|=n),di===4&&Tc(t,Li)),Ao(t,r),n===1&&zn===0&&!(e.mode&1)&&(qh=jr()+500,e5&&iu()))}function Ao(t,e){var n=t.callbackNode;DW(t,e);var r=L2(t,t===Ei?Li:0);if(r===0)n!==null&&YT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&YT(n),e===1)t.tag===0?Lj(HM.bind(null,t)):ZL(HM.bind(null,t)),Pj(function(){!(zn&6)&&iu()}),n=null;else{switch(TL(r)){case 1:n=k9;break;case 4:n=CL;break;case 16:n=O2;break;case 536870912:n=EL;break;default:n=O2}n=YD(n,GD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function GD(t,e){if(c2=-1,u2=0,zn&6)throw Error(dt(327));var n=t.callbackNode;if(Oh()&&t.callbackNode!==n)return null;var r=L2(t,t===Ei?Li:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Q2(t,r);else{e=r;var i=zn;zn|=2;var o=WD();(Ei!==t||Li!==e)&&(Cl=null,qh=jr()+500,id(t,e));do try{tX();break}catch(s){VD(t,s)}while(1);Q9(),K2.current=o,zn=i,ri!==null?e=0:(Ei=null,Li=0,e=di)}if(e!==0){if(e===2&&(i=pb(t),i!==0&&(r=i,e=Hb(t,i))),e===1)throw n=eg,id(t,0),Tc(t,r),Ao(t,jr()),n;if(e===6)Tc(t,r);else{if(i=t.current.alternate,!(r&30)&&!Jj(i)&&(e=Q2(t,r),e===2&&(o=pb(t),o!==0&&(r=o,e=Hb(t,o))),e===1))throw n=eg,id(t,0),Tc(t,r),Ao(t,jr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(dt(345));case 2:Fu(t,wo,Cl);break;case 3:if(Tc(t,r),(r&130023424)===r&&(e=hw+500-jr(),10<e)){if(L2(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){fo(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=wb(Fu.bind(null,t,wo,Cl),e);break}Fu(t,wo,Cl);break;case 4:if(Tc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-rs(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=jr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Qj(r/1960))-r,10<r){t.timeoutHandle=wb(Fu.bind(null,t,wo,Cl),r);break}Fu(t,wo,Cl);break;case 5:Fu(t,wo,Cl);break;default:throw Error(dt(329))}}}return Ao(t,jr()),t.callbackNode===n?GD.bind(null,t):null}function Hb(t,e){var n=ym;return t.current.memoizedState.isDehydrated&&(id(t,e).flags|=256),t=Q2(t,e),t!==2&&(e=wo,wo=n,e!==null&&Gb(e)),t}function Gb(t){wo===null?wo=t:wo.push.apply(wo,t)}function Jj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!cs(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tc(t,e){for(e&=~fw,e&=~i5,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-rs(e),r=1<<n;t[n]=-1,e&=~r}}function HM(t){if(zn&6)throw Error(dt(327));Oh();var e=L2(t,0);if(!(e&1))return Ao(t,jr()),null;var n=Q2(t,e);if(t.tag!==0&&n===2){var r=pb(t);r!==0&&(e=r,n=Hb(t,r))}if(n===1)throw n=eg,id(t,0),Tc(t,e),Ao(t,jr()),n;if(n===6)throw Error(dt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fu(t,wo,Cl),Ao(t,jr()),null}function pw(t,e){var n=zn;zn|=1;try{return t(e)}finally{zn=n,zn===0&&(qh=jr()+500,e5&&iu())}}function Cd(t){Ac!==null&&Ac.tag===0&&!(zn&6)&&Oh();var e=zn;zn|=1;var n=_a.transition,r=Jn;try{if(_a.transition=null,Jn=1,t)return t()}finally{Jn=r,_a.transition=n,zn=e,!(zn&6)&&iu()}}function mw(){Wo=mh.current,mr(mh)}function id(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Aj(n)),ri!==null)for(n=ri.return;n!==null;){var r=n;switch(K9(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&k2();break;case 3:jh(),mr(Mo),mr(no),iw();break;case 5:rw(r);break;case 4:jh();break;case 13:mr(Mr);break;case 19:mr(Mr);break;case 10:J9(r.type._context);break;case 22:case 23:mw()}n=n.return}if(Ei=t,ri=t=zc(t.current,null),Li=Wo=e,di=0,eg=null,fw=i5=wd=0,wo=ym=null,ju!==null){for(e=0;e<ju.length;e++)if(n=ju[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}ju=null}return t}function VD(t,e){do{var n=ri;try{if(Q9(),a2.current=q2,X2){for(var r=Pr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}X2=!1}if(bd=0,bi=si=Pr=null,gm=!1,Zm=0,dw.current=null,n===null||n.return===null){di=1,eg=e,ri=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Li,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=AM(a);if(p!==null){p.flags&=-257,PM(p,a,s,o,e),p.mode&1&&RM(o,c,e),e=p,l=c;var y=e.updateQueue;if(y===null){var b=new Set;b.add(l),e.updateQueue=b}else y.add(l);break e}else{if(!(e&1)){RM(o,c,e),gw();break e}l=Error(dt(426))}}else if(Cr&&s.mode&1){var x=AM(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),PM(x,a,s,o,e),Y9(Xh(l,s));break e}}o=l=Xh(l,s),di!==4&&(di=2),ym===null?ym=[o]:ym.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=MD(o,l,e);bM(o,v);break e;case 1:s=l;var w=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(kc===null||!kc.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=RD(o,s,e);bM(o,C);break e}}o=o.return}while(o!==null)}XD(n)}catch(_){e=_,ri===n&&n!==null&&(ri=n=n.return);continue}break}while(1)}function WD(){var t=K2.current;return K2.current=q2,t===null?q2:t}function gw(){(di===0||di===3||di===2)&&(di=4),Ei===null||!(wd&268435455)&&!(i5&268435455)||Tc(Ei,Li)}function Q2(t,e){var n=zn;zn|=2;var r=WD();(Ei!==t||Li!==e)&&(Cl=null,id(t,e));do try{eX();break}catch(i){VD(t,i)}while(1);if(Q9(),zn=n,K2.current=r,ri!==null)throw Error(dt(261));return Ei=null,Li=0,di}function eX(){for(;ri!==null;)jD(ri)}function tX(){for(;ri!==null&&!TW();)jD(ri)}function jD(t){var e=KD(t.alternate,t,Wo);t.memoizedProps=t.pendingProps,e===null?XD(t):ri=e,dw.current=null}function XD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qj(n,e),n!==null){n.flags&=32767,ri=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{di=6,ri=null;return}}else if(n=Xj(n,e,Wo),n!==null){ri=n;return}if(e=e.sibling,e!==null){ri=e;return}ri=e=t}while(e!==null);di===0&&(di=5)}function Fu(t,e,n){var r=Jn,i=_a.transition;try{_a.transition=null,Jn=1,nX(t,e,n,r)}finally{_a.transition=i,Jn=r}return null}function nX(t,e,n,r){do Oh();while(Ac!==null);if(zn&6)throw Error(dt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(dt(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(FW(t,o),t===Ei&&(ri=Ei=null,Li=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nv||(Nv=!0,YD(O2,function(){return Oh(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=_a.transition,_a.transition=null;var a=Jn;Jn=1;var s=zn;zn|=4,dw.current=null,Yj(t,n),zD(n,t),wj(Sb),D2=!!xb,Sb=xb=null,t.current=n,Zj(n),MW(),zn=s,Jn=a,_a.transition=o}else t.current=n;if(Nv&&(Nv=!1,Ac=t,Z2=i),o=t.pendingLanes,o===0&&(kc=null),PW(n.stateNode),Ao(t,jr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Y2)throw Y2=!1,t=Bb,Bb=null,t;return Z2&1&&t.tag!==0&&Oh(),o=t.pendingLanes,o&1?t===zb?xm++:(xm=0,zb=t):xm=0,iu(),null}function Oh(){if(Ac!==null){var t=TL(Z2),e=_a.transition,n=Jn;try{if(_a.transition=null,Jn=16>t?16:t,Ac===null)var r=!1;else{if(t=Ac,Ac=null,Z2=0,zn&6)throw Error(dt(331));var i=zn;for(zn|=4,Rt=t.current;Rt!==null;){var o=Rt,a=o.child;if(Rt.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(Rt=c;Rt!==null;){var u=Rt;switch(u.tag){case 0:case 11:case 15:vm(8,u,o)}var d=u.child;if(d!==null)d.return=u,Rt=d;else for(;Rt!==null;){u=Rt;var f=u.sibling,p=u.return;if(UD(u),u===c){Rt=null;break}if(f!==null){f.return=p,Rt=f;break}Rt=p}}}var y=o.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}Rt=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Rt=a;else e:for(;Rt!==null;){if(o=Rt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:vm(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Rt=v;break e}Rt=o.return}}var w=t.current;for(Rt=w;Rt!==null;){a=Rt;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,Rt=S;else e:for(a=w;Rt!==null;){if(s=Rt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:r5(9,s)}}catch(_){Fr(s,s.return,_)}if(s===a){Rt=null;break e}var C=s.sibling;if(C!==null){C.return=s.return,Rt=C;break e}Rt=s.return}}if(zn=i,iu(),zs&&typeof zs.onPostCommitFiberRoot=="function")try{zs.onPostCommitFiberRoot(Ky,t)}catch{}r=!0}return r}finally{Jn=n,_a.transition=e}}return!1}function GM(t,e,n){e=Xh(n,e),e=MD(t,e,1),t=Uc(t,e,1),e=fo(),t!==null&&(Bg(t,1,e),Ao(t,e))}function Fr(t,e,n){if(t.tag===3)GM(t,t,n);else for(;e!==null;){if(e.tag===3){GM(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kc===null||!kc.has(r))){t=Xh(n,t),t=RD(e,t,1),e=Uc(e,t,1),t=fo(),e!==null&&(Bg(e,1,t),Ao(e,t));break}}e=e.return}}function rX(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=fo(),t.pingedLanes|=t.suspendedLanes&n,Ei===t&&(Li&n)===n&&(di===4||di===3&&(Li&130023424)===Li&&500>jr()-hw?id(t,0):fw|=n),Ao(t,e)}function qD(t,e){e===0&&(t.mode&1?(e=wv,wv<<=1,!(wv&130023424)&&(wv=4194304)):e=1);var n=fo();t=Bl(t,e),t!==null&&(Bg(t,e,n),Ao(t,n))}function iX(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qD(t,n)}function oX(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(dt(314))}r!==null&&r.delete(e),qD(t,n)}var KD;KD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mo.current)To=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return To=!1,jj(t,e,n);To=!!(t.flags&131072)}else To=!1,Cr&&e.flags&1048576&&QL(e,H2,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;l2(t,e),t=e.pendingProps;var i=Gh(e,no.current);Nh(e,n),i=aw(null,e,r,t,i,n);var o=sw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ro(r)?(o=!0,B2(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tw(e),i.updater=t5,e.stateNode=i,i._reactInternals=e,Ab(e,r,t,n),e=Nb(null,e,r,!0,o,n)):(e.tag=0,Cr&&o&&q9(e),lo(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(l2(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=sX(r),t=ja(r,t),i){case 0:e=Ib(null,e,r,t,n);break e;case 1:e=OM(null,e,r,t,n);break e;case 11:e=IM(null,e,r,t,n);break e;case 14:e=NM(null,e,r,ja(r.type,t),n);break e}throw Error(dt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ja(r,i),Ib(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ja(r,i),OM(t,e,r,i,n);case 3:e:{if(ND(e),t===null)throw Error(dt(387));r=e.pendingProps,o=e.memoizedState,i=o.element,nD(t,e),W2(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Xh(Error(dt(423)),e),e=LM(t,e,r,n,i);break e}else if(r!==i){i=Xh(Error(dt(424)),e),e=LM(t,e,r,n,i);break e}else for(Xo=$c(e.stateNode.containerInfo.firstChild),Ko=e,Cr=!0,Za=null,n=aD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vh(),r===i){e=zl(t,e,n);break e}lo(t,e,r,n)}e=e.child}return e;case 5:return sD(e),t===null&&Tb(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,bb(r,i)?a=null:o!==null&&bb(r,o)&&(e.flags|=32),ID(t,e),lo(t,e,a,n),e.child;case 6:return t===null&&Tb(e),null;case 13:return OD(t,e,n);case 4:return nw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wh(e,null,r,n):lo(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ja(r,i),IM(t,e,r,i,n);case 7:return lo(t,e,e.pendingProps,n),e.child;case 8:return lo(t,e,e.pendingProps.children,n),e.child;case 12:return lo(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,ur(G2,r._currentValue),r._currentValue=a,o!==null)if(cs(o.value,a)){if(o.children===i.children&&!Mo.current){e=zl(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ll(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Mb(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(dt(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Mb(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}lo(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Nh(e,n),i=Pa(i),r=r(i),e.flags|=1,lo(t,e,r,n),e.child;case 14:return r=e.type,i=ja(r,e.pendingProps),i=ja(r.type,i),NM(t,e,r,i,n);case 15:return AD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ja(r,i),l2(t,e),e.tag=1,Ro(r)?(t=!0,B2(e)):t=!1,Nh(e,n),iD(e,r,i),Ab(e,r,i,n),Nb(null,e,r,!0,t,n);case 19:return LD(t,e,n);case 22:return PD(t,e,n)}throw Error(dt(156,e.tag))};function YD(t,e){return wL(t,e)}function aX(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ba(t,e,n,r){return new aX(t,e,n,r)}function vw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sX(t){if(typeof t=="function")return vw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===F9)return 11;if(t===$9)return 14}return 2}function zc(t,e){var n=t.alternate;return n===null?(n=ba(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function d2(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")vw(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case oh:return od(n.children,i,o,e);case D9:a=8,i|=8;break;case JS:return t=ba(12,n,e,i|2),t.elementType=JS,t.lanes=o,t;case eb:return t=ba(13,n,e,i),t.elementType=eb,t.lanes=o,t;case tb:return t=ba(19,n,e,i),t.elementType=tb,t.lanes=o,t;case oL:return o5(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rL:a=10;break e;case iL:a=9;break e;case F9:a=11;break e;case $9:a=14;break e;case Cc:a=16,r=null;break e}throw Error(dt(130,t==null?t:typeof t,""))}return e=ba(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function od(t,e,n,r){return t=ba(7,t,r,e),t.lanes=n,t}function o5(t,e,n,r){return t=ba(22,t,r,e),t.elementType=oL,t.lanes=n,t.stateNode={isHidden:!1},t}function z4(t,e,n){return t=ba(6,t,null,e),t.lanes=n,t}function H4(t,e,n){return e=ba(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lX(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=w4(0),this.expirationTimes=w4(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w4(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yw(t,e,n,r,i,o,a,s,l){return t=new lX(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ba(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tw(o),t}function cX(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ih,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ZD(t){if(!t)return Kc;t=t._reactInternals;e:{if(zd(t)!==t||t.tag!==1)throw Error(dt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ro(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(dt(171))}if(t.tag===1){var n=t.type;if(Ro(n))return YL(t,n,e)}return e}function QD(t,e,n,r,i,o,a,s,l){return t=yw(n,r,!0,t,i,o,a,s,l),t.context=ZD(null),n=t.current,r=fo(),i=Bc(n),o=Ll(r,i),o.callback=e??null,Uc(n,o,i),t.current.lanes=i,Bg(t,i,r),Ao(t,r),t}function a5(t,e,n,r){var i=e.current,o=fo(),a=Bc(i);return n=ZD(n),e.context===null?e.context=n:e.pendingContext=n,e=Ll(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Uc(i,e,a),t!==null&&(is(t,i,a,o),o2(t,i,a)),a}function J2(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function VM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xw(t,e){VM(t,e),(t=t.alternate)&&VM(t,e)}function uX(){return null}var JD=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sw(t){this._internalRoot=t}s5.prototype.render=Sw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(dt(409));a5(t,e,null,null)};s5.prototype.unmount=Sw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cd(function(){a5(null,t,null,null)}),e[kl]=null}};function s5(t){this._internalRoot=t}s5.prototype.unstable_scheduleHydration=function(t){if(t){var e=AL();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_c.length&&e!==0&&e<_c[n].priority;n++);_c.splice(n,0,t),n===0&&IL(t)}};function bw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function WM(){}function dX(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=J2(a);o.call(c)}}var a=QD(e,r,t,0,null,!1,!1,"",WM);return t._reactRootContainer=a,t[kl]=a.current,jm(t.nodeType===8?t.parentNode:t),Cd(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=J2(l);s.call(c)}}var l=yw(t,0,!1,null,null,!1,!1,"",WM);return t._reactRootContainer=l,t[kl]=l.current,jm(t.nodeType===8?t.parentNode:t),Cd(function(){a5(e,l,n,r)}),l}function c5(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=J2(a);s.call(l)}}a5(e,a,t,i)}else a=dX(n,e,t,i,r);return J2(a)}ML=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nm(e.pendingLanes);n!==0&&(B9(e,n|1),Ao(e,jr()),!(zn&6)&&(qh=jr()+500,iu()))}break;case 13:Cd(function(){var r=Bl(t,1);if(r!==null){var i=fo();is(r,t,1,i)}}),xw(t,1)}};z9=function(t){if(t.tag===13){var e=Bl(t,134217728);if(e!==null){var n=fo();is(e,t,134217728,n)}xw(t,134217728)}};RL=function(t){if(t.tag===13){var e=Bc(t),n=Bl(t,e);if(n!==null){var r=fo();is(n,t,e,r)}xw(t,e)}};AL=function(){return Jn};PL=function(t,e){var n=Jn;try{return Jn=t,e()}finally{Jn=n}};db=function(t,e,n){switch(e){case"input":if(ib(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jy(r);if(!i)throw Error(dt(90));sL(r),ib(r,i)}}}break;case"textarea":cL(t,n);break;case"select":e=n.value,e!=null&&Rh(t,!!n.multiple,e,!1)}};gL=pw;vL=Cd;var fX={usingClientEntryPoint:!1,Events:[Hg,ch,Jy,pL,mL,pw]},P0={findFiberByHostInstance:Wu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},hX={bundleType:P0.bundleType,version:P0.version,rendererPackageName:P0.rendererPackageName,rendererConfig:P0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=SL(t),t===null?null:t.stateNode},findFiberByHostInstance:P0.findFiberByHostInstance||uX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ov=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ov.isDisabled&&Ov.supportsFiber)try{Ky=Ov.inject(hX),zs=Ov}catch{}}ea.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fX;ea.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bw(e))throw Error(dt(200));return cX(t,e,null,n)};ea.createRoot=function(t,e){if(!bw(t))throw Error(dt(299));var n=!1,r="",i=JD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=yw(t,1,!1,null,null,n,!1,r,i),t[kl]=e.current,jm(t.nodeType===8?t.parentNode:t),new Sw(e)};ea.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(dt(188)):(t=Object.keys(t).join(","),Error(dt(268,t)));return t=SL(e),t=t===null?null:t.stateNode,t};ea.flushSync=function(t){return Cd(t)};ea.hydrate=function(t,e,n){if(!l5(e))throw Error(dt(200));return c5(null,t,e,!0,n)};ea.hydrateRoot=function(t,e,n){if(!bw(t))throw Error(dt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=JD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=QD(e,null,t,1,n??null,i,!1,o,a),t[kl]=e.current,jm(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new s5(e)};ea.render=function(t,e,n){if(!l5(e))throw Error(dt(200));return c5(null,t,e,!1,n)};ea.unmountComponentAtNode=function(t){if(!l5(t))throw Error(dt(40));return t._reactRootContainer?(Cd(function(){c5(null,null,t,!1,function(){t._reactRootContainer=null,t[kl]=null})}),!0):!1};ea.unstable_batchedUpdates=pw;ea.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!l5(n))throw Error(dt(200));if(t==null||t._reactInternals===void 0)throw Error(dt(38));return c5(t,e,n,!1,r)};ea.version="18.2.0-next-9e3b772b8-20220608";function eF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eF)}catch(t){console.error(t)}}eF(),QO.exports=ea;var Na=QO.exports;const tF=Fp(Na),pX=zO({__proto__:null,default:tF},[Na]);var jM=Na;ZS.createRoot=jM.createRoot,ZS.hydrateRoot=jM.hydrateRoot;function ii(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xt(t){"@babel/helpers - typeof";return Xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xt(t)}function mX(t,e){if(Xt(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xt(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nF(t){var e=mX(t,"string");return Xt(e)==="symbol"?e:String(e)}function XM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nF(r.key),r)}}function oi(t,e,n){return e&&XM(t.prototype,e),n&&XM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vb(t,e){return Vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vb(t,e)}function Qs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vb(t,e)}function ey(t){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ey(t)}function gX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vX(t,e){if(e&&(Xt(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kn(t)}function Js(t){var e=gX();return function(){var r=ey(t),i;if(e){var o=ey(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return vX(this,i)}}var rF={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var a=typeof o;if(a==="string"||a==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var s=n.apply(null,o);s&&r.push(s)}}else if(a==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var l in o)e.call(o,l)&&o[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(rF);var yX=rF.exports;const ye=Fp(yX);function it(){return it=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},it.apply(this,arguments)}var iF={exports:{}},er={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ti=typeof Symbol=="function"&&Symbol.for,ww=Ti?Symbol.for("react.element"):60103,Cw=Ti?Symbol.for("react.portal"):60106,u5=Ti?Symbol.for("react.fragment"):60107,d5=Ti?Symbol.for("react.strict_mode"):60108,f5=Ti?Symbol.for("react.profiler"):60114,h5=Ti?Symbol.for("react.provider"):60109,p5=Ti?Symbol.for("react.context"):60110,Ew=Ti?Symbol.for("react.async_mode"):60111,m5=Ti?Symbol.for("react.concurrent_mode"):60111,g5=Ti?Symbol.for("react.forward_ref"):60112,v5=Ti?Symbol.for("react.suspense"):60113,xX=Ti?Symbol.for("react.suspense_list"):60120,y5=Ti?Symbol.for("react.memo"):60115,x5=Ti?Symbol.for("react.lazy"):60116,SX=Ti?Symbol.for("react.block"):60121,bX=Ti?Symbol.for("react.fundamental"):60117,wX=Ti?Symbol.for("react.responder"):60118,CX=Ti?Symbol.for("react.scope"):60119;function na(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ww:switch(t=t.type,t){case Ew:case m5:case u5:case f5:case d5:case v5:return t;default:switch(t=t&&t.$$typeof,t){case p5:case g5:case x5:case y5:case h5:return t;default:return e}}case Cw:return e}}}function oF(t){return na(t)===m5}er.AsyncMode=Ew;er.ConcurrentMode=m5;er.ContextConsumer=p5;er.ContextProvider=h5;er.Element=ww;er.ForwardRef=g5;er.Fragment=u5;er.Lazy=x5;er.Memo=y5;er.Portal=Cw;er.Profiler=f5;er.StrictMode=d5;er.Suspense=v5;er.isAsyncMode=function(t){return oF(t)||na(t)===Ew};er.isConcurrentMode=oF;er.isContextConsumer=function(t){return na(t)===p5};er.isContextProvider=function(t){return na(t)===h5};er.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ww};er.isForwardRef=function(t){return na(t)===g5};er.isFragment=function(t){return na(t)===u5};er.isLazy=function(t){return na(t)===x5};er.isMemo=function(t){return na(t)===y5};er.isPortal=function(t){return na(t)===Cw};er.isProfiler=function(t){return na(t)===f5};er.isStrictMode=function(t){return na(t)===d5};er.isSuspense=function(t){return na(t)===v5};er.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===u5||t===m5||t===f5||t===d5||t===v5||t===xX||typeof t=="object"&&t!==null&&(t.$$typeof===x5||t.$$typeof===y5||t.$$typeof===h5||t.$$typeof===p5||t.$$typeof===g5||t.$$typeof===bX||t.$$typeof===wX||t.$$typeof===CX||t.$$typeof===SX)};er.typeOf=na;iF.exports=er;var _w=iF.exports;function No(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return se.Children.forEach(t,function(r){r==null&&!e.keepEmpty||(Array.isArray(r)?n=n.concat(No(r)):_w.isFragment(r)&&r.props?n=n.concat(No(r.props.children,e)):n.push(r))}),n}var Wb={},EX=function(e){};function _X(t,e){}function TX(t,e){}function MX(){Wb={}}function aF(t,e,n){!e&&!Wb[n]&&(t(!1,n),Wb[n]=!0)}function hi(t,e){aF(_X,t,e)}function RX(t,e){aF(TX,t,e)}hi.preMessage=EX;hi.resetWarned=MX;hi.noteOnce=RX;function ie(t,e,n){return e=nF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){ie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vg(t,e,n){var r=g.useRef({});return(!("value"in r.current)||n(r.current.condition,e))&&(r.current.value=t(),r.current.condition=e),r.current.value}function Tw(t,e){typeof t=="function"?t(e):Xt(t)==="object"&&t&&"current"in t&&(t.current=e)}function mo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.filter(function(i){return i});return r.length<=1?r[0]:function(i){e.forEach(function(o){Tw(o,i)})}}function Wg(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Vg(function(){return mo.apply(void 0,e)},e,function(r,i){return r.length!==i.length||r.every(function(o,a){return o!==i[a]})})}function ou(t){var e,n,r=_w.isMemo(t)?t.type.type:t.type;return!(typeof r=="function"&&!((e=r.prototype)!==null&&e!==void 0&&e.render)||typeof t=="function"&&!((n=t.prototype)!==null&&n!==void 0&&n.render))}function AX(t){return!g.isValidElement(t)||_w.isFragment(t)?!1:ou(t)}function ty(t){return t instanceof HTMLElement||t instanceof SVGElement}function ny(t){return ty(t)?t:t instanceof se.Component?tF.findDOMNode(t):null}var sF=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var a=o[i];n.call(r,a[1],a[0])}},e}()}(),jb=typeof window<"u"&&typeof document<"u"&&window.document===document,ry=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),PX=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ry):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),IX=2;function NX(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&s()}function a(){PX(o)}function s(){var l=Date.now();if(n){if(l-i<IX)return;r=!0}else n=!0,r=!1,setTimeout(a,e);i=l}return s}var OX=20,LX=["top","right","bottom","left","width","height","size","weight"],DX=typeof MutationObserver<"u",FX=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=NX(this.refresh.bind(this),OX)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!jb||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),DX?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!jb||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=LX.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),lF=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Kh=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||ry},cF=S5(0,0,0,0);function iy(t){return parseFloat(t)||0}function KM(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+iy(o)},0)}function $X(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],a=t["padding-"+o];n[o]=iy(a)}return n}function UX(t){var e=t.getBBox();return S5(0,0,e.width,e.height)}function kX(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return cF;var r=Kh(t).getComputedStyle(t),i=$X(r),o=i.left+i.right,a=i.top+i.bottom,s=iy(r.width),l=iy(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=KM(r,"left","right")+o),Math.round(l+a)!==n&&(l-=KM(r,"top","bottom")+a)),!zX(t)){var c=Math.round(s+o)-e,u=Math.round(l+a)-n;Math.abs(c)!==1&&(s-=c),Math.abs(u)!==1&&(l-=u)}return S5(i.left,i.top,s,l)}var BX=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Kh(t).SVGGraphicsElement}:function(t){return t instanceof Kh(t).SVGElement&&typeof t.getBBox=="function"}}();function zX(t){return t===Kh(t).document.documentElement}function HX(t){return jb?BX(t)?UX(t):kX(t):cF}function GX(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return lF(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}function S5(t,e,n,r){return{x:t,y:e,width:n,height:r}}var VX=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=S5(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=HX(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),WX=function(){function t(e,n){var r=GX(n);lF(this,{target:e,contentRect:r})}return t}(),jX=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new sF,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Kh(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new VX(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Kh(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new WX(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),uF=typeof WeakMap<"u"?new WeakMap:new sF,dF=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=FX.getInstance(),r=new jX(e,n,this);uF.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){dF.prototype[t]=function(){var e;return(e=uF.get(this))[t].apply(e,arguments)}});var XX=function(){return typeof ry.ResizeObserver<"u"?ry.ResizeObserver:dF}(),Pc=new Map;function qX(t){t.forEach(function(e){var n,r=e.target;(n=Pc.get(r))===null||n===void 0||n.forEach(function(i){return i(r)})})}var fF=new XX(qX);function KX(t,e){Pc.has(t)||(Pc.set(t,new Set),fF.observe(t)),Pc.get(t).add(e)}function YX(t,e){Pc.has(t)&&(Pc.get(t).delete(e),Pc.get(t).size||(fF.unobserve(t),Pc.delete(t)))}var ZX=function(t){Qs(n,t);var e=Js(n);function n(){return ii(this,n),e.apply(this,arguments)}return oi(n,[{key:"render",value:function(){return this.props.children}}]),n}(g.Component),Xb=g.createContext(null);function QX(t){var e=t.children,n=t.onBatchResize,r=g.useRef(0),i=g.useRef([]),o=g.useContext(Xb),a=g.useCallback(function(s,l,c){r.current+=1;var u=r.current;i.current.push({size:s,element:l,data:c}),Promise.resolve().then(function(){u===r.current&&(n?.(i.current),i.current=[])}),o?.(s,l,c)},[n,o]);return g.createElement(Xb.Provider,{value:a},e)}function JX(t,e){var n=t.children,r=t.disabled,i=g.useRef(null),o=g.useRef(null),a=g.useContext(Xb),s=typeof n=="function",l=s?n(i):n,c=g.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!s&&g.isValidElement(l)&&ou(l),d=u?l.ref:null,f=g.useMemo(function(){return mo(d,i)},[d,i]),p=function(){return ny(i.current)||ny(o.current)};g.useImperativeHandle(e,function(){return p()});var y=g.useRef(t);y.current=t;var b=g.useCallback(function(x){var v=y.current,w=v.onResize,S=v.data,C=x.getBoundingClientRect(),_=C.width,T=C.height,M=x.offsetWidth,I=x.offsetHeight,R=Math.floor(_),P=Math.floor(T);if(c.current.width!==R||c.current.height!==P||c.current.offsetWidth!==M||c.current.offsetHeight!==I){var L={width:R,height:P,offsetWidth:M,offsetHeight:I};c.current=L;var k=M===Math.round(_)?_:M,H=I===Math.round(T)?T:I,D=be(be({},L),{},{offsetWidth:k,offsetHeight:H});a?.(D,x,S),w&&Promise.resolve().then(function(){w(D,x)})}},[]);return g.useEffect(function(){var x=p();return x&&!r&&KX(x,b),function(){return YX(x,b)}},[i.current,r]),g.createElement(ZX,{ref:o},u?g.cloneElement(l,{ref:f}):l)}var eq=g.forwardRef(JX),tq="rc-observer-key";function nq(t,e){var n=t.children,r=typeof n=="function"?[n]:No(n);return r.map(function(i,o){var a=i?.key||"".concat(tq,"-").concat(o);return g.createElement(eq,it({},t,{key:a,ref:o===0?e:void 0}),i)})}var Ta=g.forwardRef(nq);Ta.Collection=QX;function Yr(t,e){var n=be({},t);return Array.isArray(e)&&e.forEach(function(r){delete n[r]}),n}function qb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rq(t){if(Array.isArray(t))return qb(t)}function hF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mw(t,e){if(t){if(typeof t=="string")return qb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qb(t,e)}}function iq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mt(t){return rq(t)||hF(t)||Mw(t)||iq()}var pF=function(e){return+setTimeout(e,16)},mF=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(pF=function(e){return window.requestAnimationFrame(e)},mF=function(e){return window.cancelAnimationFrame(e)});var YM=0,Rw=new Map;function gF(t){Rw.delete(t)}var Un=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;YM+=1;var r=YM;function i(o){if(o===0)gF(r),e();else{var a=pF(function(){i(o-1)});Rw.set(r,a)}}return i(n),r};Un.cancel=function(t){var e=Rw.get(t);return gF(e),mF(e)};function Aw(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function oq(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Yt(t,e){if(t==null)return{};var n=oq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function b5(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(o,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=r.has(o);if(hi(!l,"Warning: There may be circular references"),l)return!1;if(o===a)return!0;if(n&&s>1)return!1;r.add(o);var c=s+1;if(Array.isArray(o)){if(!Array.isArray(a)||o.length!==a.length)return!1;for(var u=0;u<o.length;u++)if(!i(o[u],a[u],c))return!1;return!0}if(o&&a&&Xt(o)==="object"&&Xt(a)==="object"){var d=Object.keys(o);return d.length!==Object.keys(a).length?!1:d.every(function(f){return i(o[f],a[f],c)})}return!1}return i(t,e)}var ZM="%",aq=function(){function t(e){ii(this,t),ie(this,"instanceId",void 0),ie(this,"cache",new Map),this.instanceId=e}return oi(t,[{key:"get",value:function(n){return this.cache.get(n.join(ZM))||null}},{key:"update",value:function(n,r){var i=n.join(ZM),o=this.cache.get(i),a=r(o);a===null?this.cache.delete(i):this.cache.set(i,a)}}]),t}(),Kb="data-token-hash",ad="data-css-hash",gh="__cssinjs_instance__";function sq(){var t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(ad,"]"))||[],n=document.head.firstChild;Array.from(e).forEach(function(i){i[gh]=i[gh]||t,i[gh]===t&&document.head.insertBefore(i,n)});var r={};Array.from(document.querySelectorAll("style[".concat(ad,"]"))).forEach(function(i){var o=i.getAttribute(ad);if(r[o]){if(i[gh]===t){var a;(a=i.parentNode)===null||a===void 0||a.removeChild(i)}}else r[o]=!0})}return new aq(t)}var lq=g.createContext({hashPriority:"low",cache:sq(),defaultCache:!0});const Pw=lq;function $i(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function cq(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var QM="data-rc-order",JM="data-rc-priority",uq="rc-util-key",Yb=new Map;function vF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):uq}function w5(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function dq(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function yF(t){return Array.from((Yb.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function xF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!$i())return null;var n=e.csp,r=e.prepend,i=e.priority,o=i===void 0?0:i,a=dq(r),s=a==="prependQueue",l=document.createElement("style");l.setAttribute(QM,a),s&&o&&l.setAttribute(JM,"".concat(o)),n!=null&&n.nonce&&(l.nonce=n?.nonce),l.innerHTML=t;var c=w5(e),u=c.firstChild;if(r){if(s){var d=yF(c).filter(function(f){if(!["prepend","prependQueue"].includes(f.getAttribute(QM)))return!1;var p=Number(f.getAttribute(JM)||0);return o>=p});if(d.length)return c.insertBefore(l,d[d.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function SF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=w5(e);return yF(n).find(function(r){return r.getAttribute(vF(e))===t})}function oy(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=SF(t,e);if(n){var r=w5(e);r.removeChild(n)}}function fq(t,e){var n=Yb.get(t);if(!n||!cq(document,n)){var r=xF("",e),i=r.parentNode;Yb.set(t,i),t.removeChild(r)}}function Yh(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=w5(n);fq(r,n);var i=SF(e,n);if(i){var o,a;if((o=n.csp)!==null&&o!==void 0&&o.nonce&&i.nonce!==((a=n.csp)===null||a===void 0?void 0:a.nonce)){var s;i.nonce=(s=n.csp)===null||s===void 0?void 0:s.nonce}return i.innerHTML!==t&&(i.innerHTML=t),i}var l=xF(t,n);return l.setAttribute(vF(n),e),l}function bF(t){if(Array.isArray(t))return t}function hq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function wF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ne(t,e){return bF(t)||hq(t,e)||Mw(t,e)||wF()}function pq(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var Iw=function(){function t(){ii(this,t),ie(this,"cache",void 0),ie(this,"keys",void 0),ie(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return oi(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a={map:this.cache};return n.forEach(function(s){if(!a)a=void 0;else{var l,c;a=(l=a)===null||l===void 0||(c=l.map)===null||c===void 0?void 0:c.get(s)}}),(r=a)!==null&&r!==void 0&&r.value&&o&&(a.value[1]=this.cacheCallTimes++),(i=a)===null||i===void 0?void 0:i.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var i=this;if(!this.has(n)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var o=this.keys.reduce(function(c,u){var d=Ne(c,2),f=d[1];return i.internalGet(u)[1]<f?[u,i.internalGet(u)[1]]:c},[this.keys[0],this.cacheCallTimes]),a=Ne(o,1),s=a[0];this.delete(s)}this.keys.push(n)}var l=this.cache;n.forEach(function(c,u){if(u===n.length-1)l.set(c,{value:[r,i.cacheCallTimes++]});else{var d=l.get(c);d?d.map||(d.map=new Map):l.set(c,{map:new Map}),l=l.get(c).map}})}},{key:"deleteByPath",value:function(n,r){var i=n.get(r[0]);if(r.length===1){var o;return i.map?n.set(r[0],{map:i.map}):n.delete(r[0]),(o=i.value)===null||o===void 0?void 0:o[0]}var a=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&n.delete(r[0]),a}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!pq(r,n)}),this.deleteByPath(this.cache,n)}}]),t}();ie(Iw,"MAX_CACHE_SIZE",20);ie(Iw,"MAX_CACHE_OFFSET",5);var eR=0,CF=function(){function t(e){ii(this,t),ie(this,"derivatives",void 0),ie(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=eR,e.length===0&&(e.length>0,void 0),eR+=1}return oi(t,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,i){return i(n,r)},void 0)}}]),t}(),G4=new Iw;function Zb(t){var e=Array.isArray(t)?t:[t];return G4.has(e)||G4.set(e,new CF(e)),G4.get(e)}var tR=new WeakMap;function ay(t){var e=tR.get(t)||"";return e||(Object.keys(t).forEach(function(n){var r=t[n];e+=n,r instanceof CF?e+=r.id:r&&Xt(r)==="object"?e+=ay(r):e+=r}),tR.set(t,e)),e}function mq(t,e){return Aw("".concat(e,"_").concat(ay(t)))}var Sm="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),EF="_bAmBoO_";function gq(t,e,n){if($i()){var r,i;Yh(t,Sm);var o=document.createElement("div");o.style.position="fixed",o.style.left="0",o.style.top="0",e?.(o),document.body.appendChild(o);var a=n?n(o):(r=getComputedStyle(o).content)===null||r===void 0?void 0:r.includes(EF);return(i=o.parentNode)===null||i===void 0||i.removeChild(o),oy(Sm),a}return!1}var V4=void 0;function vq(){return V4===void 0&&(V4=gq("@layer ".concat(Sm," { .").concat(Sm,' { content: "').concat(EF,'"!important; } }'),function(t){t.className=Sm})),V4}var nR=$i()?g.useLayoutEffect:g.useEffect,Yn=function(e,n){var r=g.useRef(!0);nR(function(){return e(r.current)},n),nR(function(){return r.current=!1,function(){r.current=!0}},[])},Lh=function(e,n){Yn(function(r){if(!r)return e()},n)},yq=be({},qy),rR=yq.useInsertionEffect,xq=function(e,n,r){g.useMemo(e,r),Yn(function(){return n(!0)},r)},Sq=rR?function(t,e,n){return rR(function(){return t(),e()},n)}:xq;const bq=Sq;var wq=be({},qy),Cq=wq.useInsertionEffect,Eq=function(e){var n=[],r=!1;function i(o){r||n.push(o)}return g.useEffect(function(){return r=!1,function(){r=!0,n.length&&n.forEach(function(o){return o()})}},e),i},_q=function(){return function(e){e()}},Tq=typeof Cq<"u"?Eq:_q;const Mq=Tq;function _F(t,e,n,r,i){var o=g.useContext(Pw),a=o.cache,s=[t].concat(mt(e)),l=s.join("_"),c=Mq([l]),u=function(y){a.update(s,function(b){var x=b||[],v=Ne(x,2),w=v[0],S=w===void 0?0:w,C=v[1],_=C,T=_||n(),M=[S,T];return y?y(M):M})};g.useMemo(function(){u()},[l]);var d=a.get(s),f=d[1];return bq(function(){i?.(f)},function(p){return u(function(y){var b=Ne(y,2),x=b[0],v=b[1];return p&&x===0&&i?.(f),[x+1,v]}),function(){a.update(s,function(y){var b=y||[],x=Ne(b,2),v=x[0],w=v===void 0?0:v,S=x[1],C=w-1;return C===0?(c(function(){return r?.(S,!1)}),null):[w-1,S]})}},[l]),f}var Rq={},Aq="css",Hu=new Map;function Pq(t){Hu.set(t,(Hu.get(t)||0)+1)}function Iq(t,e){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(Kb,'="').concat(t,'"]'));n.forEach(function(r){if(r[gh]===e){var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)}})}}var Nq=0;function Oq(t,e){Hu.set(t,(Hu.get(t)||0)-1);var n=Array.from(Hu.keys()),r=n.filter(function(i){var o=Hu.get(i)||0;return o<=0});n.length-r.length>Nq&&r.forEach(function(i){Iq(i,e),Hu.delete(i)})}var Lq=function(e,n,r,i){var o=r.getDerivativeToken(e),a=be(be({},o),n);return i&&(a=i(a)),a};function Dq(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=g.useContext(Pw),i=r.cache.instanceId,o=n.salt,a=o===void 0?"":o,s=n.override,l=s===void 0?Rq:s,c=n.formatToken,u=n.getComputedToken,d=g.useMemo(function(){return Object.assign.apply(Object,[{}].concat(mt(e)))},[e]),f=g.useMemo(function(){return ay(d)},[d]),p=g.useMemo(function(){return ay(l)},[l]),y=_F("token",[a,t.id,f,p],function(){var b=u?u(d,l,t):Lq(d,l,t,c),x=mq(b,a);b._tokenKey=x,Pq(x);var v="".concat(Aq,"-").concat(Aw(x));return b._hashId=v,[b,v]},function(b){Oq(b[0]._tokenKey,i)});return y}var Fq={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},pr="-ms-",bm="-moz-",qn="-webkit-",TF="comm",C5="rule",Nw="decl",$q="@import",MF="@keyframes",Uq="@layer",kq=Math.abs,Ow=String.fromCharCode,Qb=Object.assign;function Bq(t,e){return wi(t,0)^45?(((e<<2^wi(t,0))<<2^wi(t,1))<<2^wi(t,2))<<2^wi(t,3):0}function RF(t){return t.trim()}function El(t,e){return(t=e.exec(t))?t[0]:t}function bn(t,e,n){return t.replace(e,n)}function f2(t,e){return t.indexOf(e)}function wi(t,e){return t.charCodeAt(e)|0}function Zh(t,e,n){return t.slice(e,n)}function Us(t){return t.length}function AF(t){return t.length}function im(t,e){return e.push(t),t}function zq(t,e){return t.map(e).join("")}function iR(t,e){return t.filter(function(n){return!El(n,e)})}var E5=1,Qh=1,PF=0,Oa=0,ti=0,Bp="";function _5(t,e,n,r,i,o,a,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:E5,column:Qh,length:a,return:"",siblings:s}}function bc(t,e){return Qb(_5("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function pf(t){for(;t.root;)t=bc(t.root,{children:[t]});im(t,t.siblings)}function Hq(){return ti}function Gq(){return ti=Oa>0?wi(Bp,--Oa):0,Qh--,ti===10&&(Qh=1,E5--),ti}function os(){return ti=Oa<PF?wi(Bp,Oa++):0,Qh++,ti===10&&(Qh=1,E5++),ti}function sd(){return wi(Bp,Oa)}function h2(){return Oa}function T5(t,e){return Zh(Bp,t,e)}function Jb(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Vq(t){return E5=Qh=1,PF=Us(Bp=t),Oa=0,[]}function Wq(t){return Bp="",t}function W4(t){return RF(T5(Oa-1,e7(t===91?t+2:t===40?t+1:t)))}function jq(t){for(;(ti=sd())&&ti<33;)os();return Jb(t)>2||Jb(ti)>3?"":" "}function Xq(t,e){for(;--e&&os()&&!(ti<48||ti>102||ti>57&&ti<65||ti>70&&ti<97););return T5(t,h2()+(e<6&&sd()==32&&os()==32))}function e7(t){for(;os();)switch(ti){case t:return Oa;case 34:case 39:t!==34&&t!==39&&e7(ti);break;case 40:t===41&&e7(t);break;case 92:os();break}return Oa}function qq(t,e){for(;os()&&t+ti!==47+10;)if(t+ti===42+42&&sd()===47)break;return"/*"+T5(e,Oa-1)+"*"+Ow(t===47?t:os())}function Kq(t){for(;!Jb(sd());)os();return T5(t,Oa)}function IF(t){return Wq(p2("",null,null,null,[""],t=Vq(t),0,[0],t))}function p2(t,e,n,r,i,o,a,s,l){for(var c=0,u=0,d=a,f=0,p=0,y=0,b=1,x=1,v=1,w=0,S="",C=i,_=o,T=r,M=S;x;)switch(y=w,w=os()){case 40:if(y!=108&&wi(M,d-1)==58){f2(M+=bn(W4(w),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:M+=W4(w);break;case 9:case 10:case 13:case 32:M+=jq(y);break;case 92:M+=Xq(h2()-1,7);continue;case 47:switch(sd()){case 42:case 47:im(Yq(qq(os(),h2()),e,n,l),l);break;default:M+="/"}break;case 123*b:s[c++]=Us(M)*v;case 125*b:case 59:case 0:switch(w){case 0:case 125:x=0;case 59+u:v==-1&&(M=bn(M,/\f/g,"")),p>0&&Us(M)-d&&im(p>32?aR(M+";",r,n,d-1,l):aR(bn(M," ","")+";",r,n,d-2,l),l);break;case 59:M+=";";default:if(im(T=oR(M,e,n,c,u,i,s,S,C=[],_=[],d,o),o),w===123)if(u===0)p2(M,e,T,T,C,o,d,s,_);else switch(f===99&&wi(M,3)===110?100:f){case 100:case 108:case 109:case 115:p2(t,T,T,r&&im(oR(t,T,T,0,0,i,s,S,i,C=[],d,_),_),i,_,d,s,r?C:_);break;default:p2(M,T,T,T,[""],_,0,s,_)}}c=u=p=0,b=v=1,S=M="",d=a;break;case 58:d=1+Us(M),p=y;default:if(b<1){if(w==123)--b;else if(w==125&&b++==0&&Gq()==125)continue}switch(M+=Ow(w),w*b){case 38:v=u>0?1:(M+="\f",-1);break;case 44:s[c++]=(Us(M)-1)*v,v=1;break;case 64:sd()===45&&(M+=W4(os())),f=sd(),u=d=Us(S=M+=Kq(h2())),w++;break;case 45:y===45&&Us(M)==2&&(b=0)}}return o}function oR(t,e,n,r,i,o,a,s,l,c,u,d){for(var f=i-1,p=i===0?o:[""],y=AF(p),b=0,x=0,v=0;b<r;++b)for(var w=0,S=Zh(t,f+1,f=kq(x=a[b])),C=t;w<y;++w)(C=RF(x>0?p[w]+" "+S:bn(S,/&\f/g,p[w])))&&(l[v++]=C);return _5(t,e,n,i===0?C5:s,l,c,u,d)}function Yq(t,e,n,r){return _5(t,e,n,TF,Ow(Hq()),Zh(t,2,-2),0,r)}function aR(t,e,n,r,i){return _5(t,e,n,Nw,Zh(t,0,r),Zh(t,r+1,-1),r,i)}function NF(t,e,n){switch(Bq(t,e)){case 5103:return qn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qn+t+t;case 4789:return bm+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return qn+t+bm+t+pr+t+t;case 5936:switch(wi(t,e+11)){case 114:return qn+t+pr+bn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return qn+t+pr+bn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return qn+t+pr+bn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return qn+t+pr+t+t;case 6165:return qn+t+pr+"flex-"+t+t;case 5187:return qn+t+bn(t,/(\w+).+(:[^]+)/,qn+"box-$1$2"+pr+"flex-$1$2")+t;case 5443:return qn+t+pr+"flex-item-"+bn(t,/flex-|-self/g,"")+(El(t,/flex-|baseline/)?"":pr+"grid-row-"+bn(t,/flex-|-self/g,""))+t;case 4675:return qn+t+pr+"flex-line-pack"+bn(t,/align-content|flex-|-self/g,"")+t;case 5548:return qn+t+pr+bn(t,"shrink","negative")+t;case 5292:return qn+t+pr+bn(t,"basis","preferred-size")+t;case 6060:return qn+"box-"+bn(t,"-grow","")+qn+t+pr+bn(t,"grow","positive")+t;case 4554:return qn+bn(t,/([^-])(transform)/g,"$1"+qn+"$2")+t;case 6187:return bn(bn(bn(t,/(zoom-|grab)/,qn+"$1"),/(image-set)/,qn+"$1"),t,"")+t;case 5495:case 3959:return bn(t,/(image-set\([^]*)/,qn+"$1$`$1");case 4968:return bn(bn(t,/(.+:)(flex-)?(.*)/,qn+"box-pack:$3"+pr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+qn+t+t;case 4200:if(!El(t,/flex-|baseline/))return pr+"grid-column-align"+Zh(t,e)+t;break;case 2592:case 3360:return pr+bn(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,El(r.props,/grid-\w+-end/)})?~f2(t+(n=n[e].value),"span")?t:pr+bn(t,"-start","")+t+pr+"grid-row-span:"+(~f2(n,"span")?El(n,/\d+/):+El(n,/\d+/)-+El(t,/\d+/))+";":pr+bn(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return El(r.props,/grid-\w+-start/)})?t:pr+bn(bn(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return bn(t,/(.+)-inline(.+)/,qn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Us(t)-1-e>6)switch(wi(t,e+1)){case 109:if(wi(t,e+4)!==45)break;case 102:return bn(t,/(.+:)(.+)-([^]+)/,"$1"+qn+"$2-$3$1"+bm+(wi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~f2(t,"stretch")?NF(bn(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return bn(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,o,a,s,l,c){return pr+i+":"+o+c+(a?pr+i+"-span:"+(s?l:+l-+o)+c:"")+t});case 4949:if(wi(t,e+6)===121)return bn(t,":",":"+qn)+t;break;case 6444:switch(wi(t,wi(t,14)===45?18:11)){case 120:return bn(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+qn+(wi(t,14)===45?"inline-":"")+"box$3$1"+qn+"$2$3$1"+pr+"$2box$3")+t;case 100:return bn(t,":",":"+pr)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return bn(t,"scroll-","scroll-snap-")+t}return t}function tg(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function OF(t,e,n,r){switch(t.type){case Uq:if(t.children.length)break;case $q:case Nw:return t.return=t.return||t.value;case TF:return"";case MF:return t.return=t.value+"{"+tg(t.children,r)+"}";case C5:if(!Us(t.value=t.props.join(",")))return""}return Us(n=tg(t.children,r))?t.return=t.value+"{"+n+"}":""}function Zq(t){var e=AF(t);return function(n,r,i,o){for(var a="",s=0;s<e;s++)a+=t[s](n,r,i,o)||"";return a}}function Qq(t){return function(e){e.root||(e=e.return)&&t(e)}}function Jq(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Nw:t.return=NF(t.value,t.length,n);return;case MF:return tg([bc(t,{value:bn(t.value,"@","@"+qn)})],r);case C5:if(t.length)return zq(n=t.props,function(i){switch(El(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":pf(bc(t,{props:[bn(i,/:(read-\w+)/,":"+bm+"$1")]})),pf(bc(t,{props:[i]})),Qb(t,{props:iR(n,r)});break;case"::placeholder":pf(bc(t,{props:[bn(i,/:(plac\w+)/,":"+qn+"input-$1")]})),pf(bc(t,{props:[bn(i,/:(plac\w+)/,":"+bm+"$1")]})),pf(bc(t,{props:[bn(i,/:(plac\w+)/,pr+"input-$1")]})),pf(bc(t,{props:[i]})),Qb(t,{props:iR(n,r)});break}return""})}}var sR="data-ant-cssinjs-cache-path",LF="_FILE_STYLE__",ld,DF=!0;function eK(){if(!ld&&(ld={},$i())){var t=document.createElement("div");t.className=sR,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var e=getComputedStyle(t).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(i){var o=i.split(":"),a=Ne(o,2),s=a[0],l=a[1];ld[s]=l});var n=document.querySelector("style[".concat(sR,"]"));if(n){var r;DF=!1,(r=n.parentNode)===null||r===void 0||r.removeChild(n)}document.body.removeChild(t)}}function tK(t){return eK(),!!ld[t]}function nK(t){var e=ld[t],n=null;if(e&&$i())if(DF)n=LF;else{var r=document.querySelector("style[".concat(ad,'="').concat(ld[t],'"]'));r?n=r.innerHTML:delete ld[t]}return[n,e]}var lR=$i(),rK="_skip_check_",FF="_multi_value_";function cR(t){var e=tg(IF(t),OF);return e.replace(/\{%%%\:[^;];}/g,";")}function iK(t){return Xt(t)==="object"&&t&&(rK in t||FF in t)}function oK(t,e,n){if(!e)return t;var r=".".concat(e),i=n==="low"?":where(".concat(r,")"):r,o=t.split(",").map(function(a){var s,l=a.trim().split(/\s+/),c=l[0]||"",u=((s=c.match(/^\w+/))===null||s===void 0?void 0:s[0])||"";return c="".concat(u).concat(i).concat(c.slice(u.length)),[c].concat(mt(l.slice(1))).join(" ")});return o.join(",")}var aK=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,o=r.injectHash,a=r.parentSelectors,s=n.hashId,l=n.layer;n.path;var c=n.hashPriority,u=n.transformers,d=u===void 0?[]:u;n.linters;var f="",p={};function y(S){var C=S.getName(s);if(!p[C]){var _=t(S.style,n,{root:!1,parentSelectors:a}),T=Ne(_,1),M=T[0];p[C]="@keyframes ".concat(S.getName(s)).concat(M)}}function b(S){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return S.forEach(function(_){Array.isArray(_)?b(_,C):_&&C.push(_)}),C}var x=b(Array.isArray(e)?e:[e]);if(x.forEach(function(S){var C=typeof S=="string"&&!i?{}:S;if(typeof C=="string")f+="".concat(C,`
`);else if(C._keyframe)y(C);else{var _=d.reduce(function(T,M){var I;return(M==null||(I=M.visit)===null||I===void 0?void 0:I.call(M,T))||T},C);Object.keys(_).forEach(function(T){var M=_[T];if(Xt(M)==="object"&&M&&(T!=="animationName"||!M._keyframe)&&!iK(M)){var I=!1,R=T.trim(),P=!1;(i||o)&&s?R.startsWith("@")?I=!0:R=oK(T,s,c):i&&!s&&(R==="&"||R==="")&&(R="",P=!0);var L=t(M,n,{root:P,injectHash:I,parentSelectors:[].concat(mt(a),[R])}),k=Ne(L,2),H=k[0],D=k[1];p=be(be({},p),D),f+="".concat(R).concat(H)}else{let $=function(O,z){var V=O.replace(/[A-Z]/g,function(W){return"-".concat(W.toLowerCase())}),F=z;!Fq[O]&&typeof F=="number"&&F!==0&&(F="".concat(F,"px")),O==="animationName"&&z!==null&&z!==void 0&&z._keyframe&&(y(z),F=z.getName(s)),f+="".concat(V,":").concat(F,";")};var G,B=(G=M?.value)!==null&&G!==void 0?G:M;Xt(M)==="object"&&M!==null&&M!==void 0&&M[FF]&&Array.isArray(B)?B.forEach(function(O){$(T,O)}):$(T,B)}})}}),!i)f="{".concat(f,"}");else if(l&&vq()){var v=l.split(","),w=v[v.length-1].trim();f="@layer ".concat(w," {").concat(f,"}"),v.length>1&&(f="@layer ".concat(l,"{%%%:%}").concat(f))}return[f,p]};function sK(t,e){return Aw("".concat(t.join("%")).concat(e))}function lK(){return null}function t7(t,e){var n=t.token,r=t.path,i=t.hashId,o=t.layer,a=t.nonce,s=t.clientOnly,l=t.order,c=l===void 0?0:l,u=g.useContext(Pw),d=u.autoClear;u.mock;var f=u.defaultCache,p=u.hashPriority,y=u.container,b=u.ssrInline,x=u.transformers,v=u.linters,w=u.cache,S=n._tokenKey,C=[S].concat(mt(r)),_=lR,T=_F("style",C,function(){var L=C.join("|");if(tK(L)){var k=nK(L),H=Ne(k,2),D=H[0],G=H[1];if(D)return[D,S,G,{},s,c]}var B=e(),$=aK(B,{hashId:i,hashPriority:p,layer:o,path:r.join("-"),transformers:x,linters:v}),O=Ne($,2),z=O[0],V=O[1],F=cR(z),W=sK(C,F);return[F,S,W,V,s,c]},function(L,k){var H=Ne(L,3),D=H[2];(k||d)&&lR&&oy(D,{mark:ad})},function(L){var k=Ne(L,4),H=k[0];k[1];var D=k[2],G=k[3];if(_&&H!==LF){var B={mark:ad,prepend:"queue",attachTo:y,priority:c},$=typeof a=="function"?a():a;$&&(B.csp={nonce:$});var O=Yh(H,D,B);O[gh]=w.instanceId,O.setAttribute(Kb,S),Object.keys(G).forEach(function(z){Yh(cR(G[z]),"_effect-".concat(z),B)})}}),M=Ne(T,3),I=M[0],R=M[1],P=M[2];return function(L){var k;if(!b||_||!f)k=g.createElement(lK,null);else{var H;k=g.createElement("style",it({},(H={},ie(H,Kb,R),ie(H,ad,P),H),{dangerouslySetInnerHTML:{__html:I}}))}return g.createElement(g.Fragment,null,k,L)}}var Mn=function(){function t(e,n){ii(this,t),ie(this,"name",void 0),ie(this,"style",void 0),ie(this,"_keyframe",!0),this.name=e,this.style=n}return oi(t,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),t}();function mf(t){return t.notSplit=!0,t}mf(["borderTop","borderBottom"]),mf(["borderTop"]),mf(["borderBottom"]),mf(["borderLeft","borderRight"]),mf(["borderLeft"]),mf(["borderRight"]);var cK=g.createContext({});const Lw=cK;function $F(t){return bF(t)||hF(t)||Mw(t)||wF()}function ts(t,e){for(var n=t,r=0;r<e.length;r+=1){if(n==null)return;n=n[e[r]]}return n}function UF(t,e,n,r){if(!e.length)return n;var i=$F(e),o=i[0],a=i.slice(1),s;return!t&&typeof o=="number"?s=[]:Array.isArray(t)?s=mt(t):s=be({},t),r&&n===void 0&&a.length===1?delete s[o][a[0]]:s[o]=UF(s[o],a,n,r),s}function Ka(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&n===void 0&&!ts(t,e.slice(0,-1))?t:UF(t,e,n,r)}function uK(t){return Xt(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function uR(t){return Array.isArray(t)?[]:{}}var dK=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function vh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=uR(e[0]);return e.forEach(function(i){function o(a,s){var l=new Set(s),c=ts(i,a),u=Array.isArray(c);if(u||uK(c)){if(!l.has(c)){l.add(c);var d=ts(r,a);u?r=Ka(r,a,[]):(!d||Xt(d)!=="object")&&(r=Ka(r,a,uR(c))),dK(c).forEach(function(f){o([].concat(mt(a),[f]),l)})}}else r=Ka(r,a,c)}o([])}),r}function fK(){}const Dw=()=>{const t=()=>{};return t.deprecated=fK,t},hK=g.createContext(void 0),kF={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};var pK={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};const mK={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},BF=mK,gK={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},pK),timePickerLocale:Object.assign({},BF)},dR=gK,Bo="${label} is not a valid ${type}",vK={locale:"en",Pagination:kF,DatePicker:dR,TimePicker:BF,Calendar:dR,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Bo,method:Bo,array:Bo,object:Bo,number:Bo,date:Bo,boolean:Bo,integer:Bo,float:Bo,regexp:Bo,email:Bo,url:Bo,hex:Bo},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh"},ColorPicker:{presetEmpty:"Empty"}},Ed=vK;Object.assign({},Ed.Modal);let m2=[];const fR=()=>m2.reduce((t,e)=>Object.assign(Object.assign({},t),e),Ed.Modal);function yK(t){if(t){const e=Object.assign({},t);return m2.push(e),fR(),()=>{m2=m2.filter(n=>n!==e),fR()}}Object.assign({},Ed.Modal)}const xK=g.createContext(void 0),Fw=xK,SK=(t,e)=>{const n=g.useContext(Fw),r=g.useMemo(()=>{var o;const a=e||Ed[t],s=(o=n?.[t])!==null&&o!==void 0?o:{};return Object.assign(Object.assign({},typeof a=="function"?a():a),s||{})},[t,e,n]),i=g.useMemo(()=>{const o=n?.locale;return n?.exist&&!o?Ed.locale:o},[n]);return[r,i]},jg=SK,bK="internalMark",wK=t=>{const{locale:e={},children:n,_ANT_MARK__:r}=t;g.useEffect(()=>yK(e&&e.Modal),[e]);const i=g.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return g.createElement(Fw.Provider,{value:i},n)},CK=wK;function Di(t,e){EK(t)&&(t="100%");var n=_K(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function Lv(t){return Math.min(1,Math.max(0,t))}function EK(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function _K(t){return typeof t=="string"&&t.indexOf("%")!==-1}function zF(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Dv(t){return t<=1?"".concat(Number(t)*100,"%"):t}function qu(t){return t.length===1?"0"+t:String(t)}function TK(t,e,n){return{r:Di(t,255)*255,g:Di(e,255)*255,b:Di(n,255)*255}}function hR(t,e,n){t=Di(t,255),e=Di(e,255),n=Di(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,a=0,s=(r+i)/2;if(r===i)a=0,o=0;else{var l=r-i;switch(a=s>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s:a,l:s}}function j4(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function MK(t,e,n){var r,i,o;if(t=Di(t,360),e=Di(e,100),n=Di(n,100),e===0)i=n,o=n,r=n;else{var a=n<.5?n*(1+e):n+e-n*e,s=2*n-a;r=j4(s,a,t+1/3),i=j4(s,a,t),o=j4(s,a,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function n7(t,e,n){t=Di(t,255),e=Di(e,255),n=Di(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,a=r,s=r-i,l=r===0?0:s/r;if(r===i)o=0;else{switch(r){case t:o=(e-n)/s+(e<n?6:0);break;case e:o=(n-t)/s+2;break;case n:o=(t-e)/s+4;break}o/=6}return{h:o,s:l,v:a}}function RK(t,e,n){t=Di(t,360)*6,e=Di(e,100),n=Di(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),l=r%6,c=[n,a,o,o,s,n][l],u=[s,n,n,a,o,o][l],d=[o,o,s,n,n,a][l];return{r:c*255,g:u*255,b:d*255}}function r7(t,e,n,r){var i=[qu(Math.round(t).toString(16)),qu(Math.round(e).toString(16)),qu(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function AK(t,e,n,r,i){var o=[qu(Math.round(t).toString(16)),qu(Math.round(e).toString(16)),qu(Math.round(n).toString(16)),qu(PK(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function PK(t){return Math.round(parseFloat(t)*255).toString(16)}function pR(t){return Vo(t)/255}function Vo(t){return parseInt(t,16)}function IK(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var i7={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function th(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return typeof t=="string"&&(t=LK(t)),typeof t=="object"&&(pl(t.r)&&pl(t.g)&&pl(t.b)?(e=TK(t.r,t.g,t.b),a=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):pl(t.h)&&pl(t.s)&&pl(t.v)?(r=Dv(t.s),i=Dv(t.v),e=RK(t.h,r,i),a=!0,s="hsv"):pl(t.h)&&pl(t.s)&&pl(t.l)&&(r=Dv(t.s),o=Dv(t.l),e=MK(t.h,r,o),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=zF(n),{ok:a,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var NK="[-\\+]?\\d+%?",OK="[-\\+]?\\d*\\.\\d+%?",Ic="(?:".concat(OK,")|(?:").concat(NK,")"),X4="[\\s|\\(]+(".concat(Ic,")[,|\\s]+(").concat(Ic,")[,|\\s]+(").concat(Ic,")\\s*\\)?"),q4="[\\s|\\(]+(".concat(Ic,")[,|\\s]+(").concat(Ic,")[,|\\s]+(").concat(Ic,")[,|\\s]+(").concat(Ic,")\\s*\\)?"),Ga={CSS_UNIT:new RegExp(Ic),rgb:new RegExp("rgb"+X4),rgba:new RegExp("rgba"+q4),hsl:new RegExp("hsl"+X4),hsla:new RegExp("hsla"+q4),hsv:new RegExp("hsv"+X4),hsva:new RegExp("hsva"+q4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function LK(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(i7[t])t=i7[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Ga.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=Ga.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Ga.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=Ga.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Ga.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=Ga.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Ga.hex8.exec(t),n?{r:Vo(n[1]),g:Vo(n[2]),b:Vo(n[3]),a:pR(n[4]),format:e?"name":"hex8"}:(n=Ga.hex6.exec(t),n?{r:Vo(n[1]),g:Vo(n[2]),b:Vo(n[3]),format:e?"name":"hex"}:(n=Ga.hex4.exec(t),n?{r:Vo(n[1]+n[1]),g:Vo(n[2]+n[2]),b:Vo(n[3]+n[3]),a:pR(n[4]+n[4]),format:e?"name":"hex8"}:(n=Ga.hex3.exec(t),n?{r:Vo(n[1]+n[1]),g:Vo(n[2]+n[2]),b:Vo(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function pl(t){return!!Ga.CSS_UNIT.exec(String(t))}var qr=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=IK(e)),this.originalInput=e;var i=th(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,i,o=e.r/255,a=e.g/255,s=e.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),s<=.03928?i=s/12.92:i=Math.pow((s+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=zF(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=n7(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=n7(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=hR(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=hR(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),r7(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),AK(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(Di(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(Di(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+r7(this.r,this.g,this.b,!1),n=0,r=Object.entries(i7);n<r.length;n++){var i=r[n],o=i[0],a=i[1];if(e===a)return o}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var r=!1,i=this.a<1&&this.a>=0,o=!n&&i&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=Lv(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=Lv(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=Lv(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=Lv(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),o=n/100,a={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return new t(a)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(new t(r));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(new t({h:r,s:i,v:o})),o=(o+s)%1;return a},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb(),i=n.a+r.a*(1-n.a);return new t({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],o=360/e,a=1;a<e;a++)i.push(new t({h:(r+a*o)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}(),Fv=2,mR=.16,DK=.05,FK=.05,$K=.15,HF=5,GF=4,UK=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function gR(t){var e=t.r,n=t.g,r=t.b,i=n7(e,n,r);return{h:i.h*360,s:i.s,v:i.v}}function $v(t){var e=t.r,n=t.g,r=t.b;return"#".concat(r7(e,n,r,!1))}function kK(t,e,n){var r=n/100,i={r:(e.r-t.r)*r+t.r,g:(e.g-t.g)*r+t.g,b:(e.b-t.b)*r+t.b};return i}function vR(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-Fv*e:Math.round(t.h)+Fv*e:r=n?Math.round(t.h)+Fv*e:Math.round(t.h)-Fv*e,r<0?r+=360:r>=360&&(r-=360),r}function yR(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-mR*e:e===GF?r=t.s+mR:r=t.s+DK*e,r>1&&(r=1),n&&e===HF&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function xR(t,e,n){var r;return n?r=t.v+FK*e:r=t.v-$K*e,r>1&&(r=1),Number(r.toFixed(2))}function _d(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=th(t),i=HF;i>0;i-=1){var o=gR(r),a=$v(th({h:vR(o,i,!0),s:yR(o,i,!0),v:xR(o,i,!0)}));n.push(a)}n.push($v(r));for(var s=1;s<=GF;s+=1){var l=gR(r),c=$v(th({h:vR(l,s),s:yR(l,s),v:xR(l,s)}));n.push(c)}return e.theme==="dark"?UK.map(function(u){var d=u.index,f=u.opacity,p=$v(kK(th(e.backgroundColor||"#141414"),th(n[d]),f*100));return p}):n}var Dh={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},wm={},K4={};Object.keys(Dh).forEach(function(t){wm[t]=_d(Dh[t]),wm[t].primary=wm[t][5],K4[t]=_d(Dh[t],{theme:"dark",backgroundColor:"#141414"}),K4[t].primary=K4[t][5]});var BK=wm.gold,o7=wm.blue;const zK=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}},HK=zK;function GK(t){const{sizeUnit:e,sizeStep:n}=t;return{sizeXXL:e*(n+8),sizeXL:e*(n+4),sizeLG:e*(n+2),sizeMD:e*(n+1),sizeMS:e*n,size:e*n,sizeSM:e*(n-1),sizeXS:e*(n-2),sizeXXS:e*(n-3)}}const VF={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},VK=Object.assign(Object.assign({},VF),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),M5=VK;function WK(t,e){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=e;const{colorSuccess:i,colorWarning:o,colorError:a,colorInfo:s,colorPrimary:l,colorBgBase:c,colorTextBase:u}=t,d=n(l),f=n(i),p=n(o),y=n(a),b=n(s),x=r(c,u),v=t.colorLink||t.colorInfo,w=n(v);return Object.assign(Object.assign({},x),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:f[1],colorSuccessBgHover:f[2],colorSuccessBorder:f[3],colorSuccessBorderHover:f[4],colorSuccessHover:f[4],colorSuccess:f[6],colorSuccessActive:f[7],colorSuccessTextHover:f[8],colorSuccessText:f[9],colorSuccessTextActive:f[10],colorErrorBg:y[1],colorErrorBgHover:y[2],colorErrorBorder:y[3],colorErrorBorderHover:y[4],colorErrorHover:y[5],colorError:y[6],colorErrorActive:y[7],colorErrorTextHover:y[8],colorErrorText:y[9],colorErrorTextActive:y[10],colorWarningBg:p[1],colorWarningBgHover:p[2],colorWarningBorder:p[3],colorWarningBorderHover:p[4],colorWarningHover:p[4],colorWarning:p[6],colorWarningActive:p[7],colorWarningTextHover:p[8],colorWarningText:p[9],colorWarningTextActive:p[10],colorInfoBg:b[1],colorInfoBgHover:b[2],colorInfoBorder:b[3],colorInfoBorderHover:b[4],colorInfoHover:b[4],colorInfo:b[6],colorInfoActive:b[7],colorInfoTextHover:b[8],colorInfoText:b[9],colorInfoTextActive:b[10],colorLinkHover:w[4],colorLink:w[6],colorLinkActive:w[7],colorBgMask:new qr("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const jK=t=>{let e=t,n=t,r=t,i=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?r=1:t>=6&&(r=2),t>4&&t<8?i=4:t>=8&&(i=6),{borderRadius:t>16?16:t,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:e,borderRadiusOuter:i}},XK=jK;function qK(t){const{motionUnit:e,motionBase:n,borderRadius:r,lineWidth:i}=t;return Object.assign({motionDurationFast:`${(n+e).toFixed(1)}s`,motionDurationMid:`${(n+e*2).toFixed(1)}s`,motionDurationSlow:`${(n+e*3).toFixed(1)}s`,lineWidthBold:i+1},XK(r))}const ml=(t,e)=>new qr(t).setAlpha(e).toRgbString(),I0=(t,e)=>new qr(t).darken(e).toHexString(),KK=t=>{const e=_d(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},YK=(t,e)=>{const n=t||"#fff",r=e||"#000";return{colorBgBase:n,colorTextBase:r,colorText:ml(r,.88),colorTextSecondary:ml(r,.65),colorTextTertiary:ml(r,.45),colorTextQuaternary:ml(r,.25),colorFill:ml(r,.15),colorFillSecondary:ml(r,.06),colorFillTertiary:ml(r,.04),colorFillQuaternary:ml(r,.02),colorBgLayout:I0(n,4),colorBgContainer:I0(n,0),colorBgElevated:I0(n,0),colorBgSpotlight:ml(r,.85),colorBorder:I0(n,15),colorBorderSecondary:I0(n,6)}};function ZK(t){const e=new Array(10).fill(null).map((n,r)=>{const i=r-1,o=t*Math.pow(2.71828,i/5),a=r>1?Math.floor(o):Math.ceil(o);return Math.floor(a/2)*2});return e[1]=t,e.map(n=>{const r=n+8;return{size:n,lineHeight:r/n}})}const QK=t=>{const e=ZK(t),n=e.map(i=>i.size),r=e.map(i=>i.lineHeight);return{fontSizeSM:n[0],fontSize:n[1],fontSizeLG:n[2],fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:r[1],lineHeightLG:r[2],lineHeightSM:r[0],lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}},JK=QK;function eY(t){const e=Object.keys(VF).map(n=>{const r=_d(t[n]);return new Array(10).fill(1).reduce((i,o,a)=>(i[`${n}-${a+1}`]=r[a],i[`${n}${a+1}`]=r[a],i),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),WK(t,{generateColorPalettes:KK,generateNeutralColorPalettes:YK})),JK(t.fontSize)),GK(t)),HK(t)),qK(t))}const WF=Zb(eY),jF={token:M5,hashed:!0},XF=se.createContext(jF),ng=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],tY="5.9.2";function Y4(t){return t>=0&&t<=255}function Uv(t,e){const{r:n,g:r,b:i,a:o}=new qr(t).toRgb();if(o<1)return t;const{r:a,g:s,b:l}=new qr(e).toRgb();for(let c=.01;c<=1;c+=.01){const u=Math.round((n-a*(1-c))/c),d=Math.round((r-s*(1-c))/c),f=Math.round((i-l*(1-c))/c);if(Y4(u)&&Y4(d)&&Y4(f))return new qr({r:u,g:d,b:f,a:Math.round(c*100)/100}).toRgbString()}return new qr({r:n,g:r,b:i,a:1}).toRgbString()}var nY=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function qF(t){const{override:e}=t,n=nY(t,["override"]),r=Object.assign({},e);Object.keys(M5).forEach(f=>{delete r[f]});const i=Object.assign(Object.assign({},n),r),o=480,a=576,s=768,l=992,c=1200,u=1600;if(i.motion===!1){const f="0s";i.motionDurationFast=f,i.motionDurationMid=f,i.motionDurationSlow=f}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:Uv(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:Uv(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:Uv(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:i.lineWidth*4,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:Uv(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:a-1,screenSM:a,screenSMMin:a,screenSMMax:s-1,screenMD:s,screenMDMin:s,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:c-1,screenXL:c,screenXLMin:c,screenXLMax:u-1,screenXXL:u,screenXXLMin:u,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new qr("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new qr("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new qr("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var SR=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const KF=(t,e,n)=>{const r=n.getDerivativeToken(t),{override:i}=e,o=SR(e,["override"]);let a=Object.assign(Object.assign({},r),{override:i});return a=qF(a),o&&Object.entries(o).forEach(s=>{let[l,c]=s;const{theme:u}=c,d=SR(c,["theme"]);let f=d;u&&(f=KF(Object.assign(Object.assign({},a),d),{override:d},u)),a[l]=f}),a};function Fa(){const{token:t,hashed:e,theme:n,components:r}=se.useContext(XF),i=`${tY}-${e||""}`,o=n||WF,[a,s]=Dq(o,[M5,t],{salt:i,override:Object.assign({override:t},r),getComputedToken:KF,formatToken:qF});return[o,a,e?s:""]}function Zi(t){var e=g.useRef();e.current=t;var n=g.useCallback(function(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return n}function Fh(t){var e=g.useRef(!1),n=g.useState(t),r=Ne(n,2),i=r[0],o=r[1];g.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function a(s,l){l&&e.current||o(s)}return[i,a]}function Z4(t){return t!==void 0}function kr(t,e){var n=e||{},r=n.defaultValue,i=n.value,o=n.onChange,a=n.postState,s=Fh(function(){return Z4(i)?i:Z4(r)?typeof r=="function"?r():r:typeof t=="function"?t():t}),l=Ne(s,2),c=l[0],u=l[1],d=i!==void 0?i:c,f=a?a(d):d,p=Zi(o),y=Fh([d]),b=Ne(y,2),x=b[0],v=b[1];Lh(function(){var S=x[0];c!==S&&p(c,S)},[x]),Lh(function(){Z4(i)||u(i)},[i]);var w=Zi(function(S,C){u(S,C),v([d],C)});return[f,w]}const $w="anticon",rY=(t,e)=>e||(t?`ant-${t}`:"ant"),Wt=g.createContext({getPrefixCls:rY,iconPrefixCls:$w}),YF=t=>({color:t.colorLink,textDecoration:"none",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"&:focus, &:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive}}),iY=(t,e,n,r,i)=>{const o=t/2,a=0,s=o,l=n*1/Math.sqrt(2),c=o-n*(1-1/Math.sqrt(2)),u=o-e*(1/Math.sqrt(2)),d=n*(Math.sqrt(2)-1)+e*(1/Math.sqrt(2)),f=2*o-u,p=d,y=2*o-l,b=c,x=2*o-a,v=s,w=o*Math.sqrt(2)+n*(Math.sqrt(2)-2),S=n*(Math.sqrt(2)-1);return{pointerEvents:"none",width:t,height:t,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:t,height:t/2,background:r,clipPath:{_multi_value_:!0,value:[`polygon(${S}px 100%, 50% ${S}px, ${2*o-S}px 100%, ${S}px 100%)`,`path('M ${a} ${s} A ${n} ${n} 0 0 0 ${l} ${c} L ${u} ${d} A ${e} ${e} 0 0 1 ${f} ${p} L ${y} ${b} A ${n} ${n} 0 0 0 ${x} ${v} Z')`]},content:'""'},"&::after":{content:'""',position:"absolute",width:w,height:w,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${e}px 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:i,zIndex:0,background:"transparent"}}},Hl={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Ir=t=>({boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:t.fontFamily}),zp=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),Gl=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),oY=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active,\n  &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),aY=(t,e)=>{const{fontFamily:n,fontSize:r}=t,i=`[class^="${e}"], [class*=" ${e}"]`;return{[i]:{fontFamily:n,fontSize:r,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[i]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},sy=t=>({outline:`${t.lineWidthFocus}px solid ${t.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),Jh=t=>({"&:focus-visible":Object.assign({},sy(t))}),ZF=typeof CSSINJS_STATISTIC<"u";let a7=!0;function pn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!ZF)return Object.assign.apply(Object,[{}].concat(e));a7=!1;const r={};return e.forEach(i=>{Object.keys(i).forEach(a=>{Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:()=>i[a]})})}),a7=!0,r}const bR={};function sY(){}function lY(t){let e,n=t,r=sY;return ZF&&(e=new Set,n=new Proxy(t,{get(i,o){return a7&&e.add(o),i[o]}}),r=(i,o)=>{var a;bR[i]={global:Array.from(e),component:Object.assign(Object.assign({},(a=bR[i])===null||a===void 0?void 0:a.component),o)}}),{token:n,keys:e,flush:r}}const cY=(t,e)=>{const[n,r]=Fa();return t7({theme:n,token:r,hashId:"",path:["ant-design-icons",t],nonce:()=>e?.nonce},()=>[{[`.${t}`]:Object.assign(Object.assign({},zp()),{[`.${t} .${t}-icon`]:{display:"block"}})}])},QF=cY;function lr(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=Array.isArray(t)?t:[t,t],[o]=i,a=i.join("-");return s=>{const[l,c,u]=Fa(),{getPrefixCls:d,iconPrefixCls:f,csp:p}=g.useContext(Wt),y=d(),b={theme:l,token:c,hashId:u,nonce:()=>p?.nonce,clientOnly:r.clientOnly,order:r.order||-999};return t7(Object.assign(Object.assign({},b),{clientOnly:!1,path:["Shared",y]}),()=>[{"&":oY(c)}]),QF(f),[t7(Object.assign(Object.assign({},b),{path:[a,s,f]}),()=>{const{token:x,flush:v}=lY(c),w=Object.assign({},c[o]);if(r.deprecatedTokens){const{deprecatedTokens:I}=r;I.forEach(R=>{let[P,L]=R;var k;(w?.[P]||w?.[L])&&((k=w[L])!==null&&k!==void 0||(w[L]=w?.[P]))})}const S=typeof n=="function"?n(pn(x,w??{})):n,C=Object.assign(Object.assign({},S),w),_=`.${s}`,T=pn(x,{componentCls:_,prefixCls:s,iconCls:`.${f}`,antCls:`.${y}`},C),M=e(T,{hashId:u,prefixCls:s,rootPrefixCls:y,iconPrefixCls:f,overrideComponentToken:w});return v(o,C),[r.resetStyle===!1?null:aY(c,s),M]}),u]}}const uY=(t,e,n,r)=>{const i=lr(t,e,n,Object.assign({resetStyle:!1,order:-998},r));return a=>{let{prefixCls:s}=a;return i(s),null}};function dY(t,e){return ng.reduce((n,r)=>{const i=t[`${r}1`],o=t[`${r}3`],a=t[`${r}6`],s=t[`${r}7`];return Object.assign(Object.assign({},n),e(r,{lightColor:i,lightBorderColor:o,darkColor:a,textColor:s}))},{})}const fY=`-ant-${Date.now()}-${Math.random()}`;function hY(t,e){const n={},r=(a,s)=>{let l=a.clone();return l=s?.(l)||l,l.toRgbString()},i=(a,s)=>{const l=new qr(a),c=_d(l.toRgbString());n[`${s}-color`]=r(l),n[`${s}-color-disabled`]=c[1],n[`${s}-color-hover`]=c[4],n[`${s}-color-active`]=c[6],n[`${s}-color-outline`]=l.clone().setAlpha(.2).toRgbString(),n[`${s}-color-deprecated-bg`]=c[0],n[`${s}-color-deprecated-border`]=c[2]};if(e.primaryColor){i(e.primaryColor,"primary");const a=new qr(e.primaryColor),s=_d(a.toRgbString());s.forEach((c,u)=>{n[`primary-${u+1}`]=c}),n["primary-color-deprecated-l-35"]=r(a,c=>c.lighten(35)),n["primary-color-deprecated-l-20"]=r(a,c=>c.lighten(20)),n["primary-color-deprecated-t-20"]=r(a,c=>c.tint(20)),n["primary-color-deprecated-t-50"]=r(a,c=>c.tint(50)),n["primary-color-deprecated-f-12"]=r(a,c=>c.setAlpha(c.getAlpha()*.12));const l=new qr(s[0]);n["primary-color-active-deprecated-f-30"]=r(l,c=>c.setAlpha(c.getAlpha()*.3)),n["primary-color-active-deprecated-d-02"]=r(l,c=>c.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(a=>`--${t}-${a}: ${n[a]};`).join(`
`)}
  }
  `.trim()}function pY(t,e){const n=hY(t,e);$i()&&Yh(n,`${fY}-dynamic-theme`)}const s7=g.createContext(!1),mY=t=>{let{children:e,disabled:n}=t;const r=g.useContext(s7);return g.createElement(s7.Provider,{value:n??r},e)},Hd=s7,l7=g.createContext(void 0),gY=t=>{let{children:e,size:n}=t;const r=g.useContext(l7);return g.createElement(l7.Provider,{value:n||r},e)},R5=l7;function vY(){const t=g.useContext(Hd),e=g.useContext(R5);return{componentDisabled:t,componentSize:e}}function yY(t,e){const n=t||{},r=n.inherit===!1||!e?jF:e;return Vg(()=>{if(!t)return e;const i=Object.assign({},r.components);return Object.keys(t.components||{}).forEach(o=>{i[o]=Object.assign(Object.assign({},i[o]),t.components[o])}),Object.assign(Object.assign(Object.assign({},r),n),{token:Object.assign(Object.assign({},r.token),n.token),components:i})},[n,r],(i,o)=>i.some((a,s)=>{const l=o[s];return!b5(a,l,!0)}))}var xY=["children"],JF=g.createContext({});function SY(t){var e=t.children,n=Yt(t,xY);return g.createElement(JF.Provider,{value:n},e)}var bY=function(t){Qs(n,t);var e=Js(n);function n(){return ii(this,n),e.apply(this,arguments)}return oi(n,[{key:"render",value:function(){return this.props.children}}]),n}(g.Component),$u="none",kv="appear",Bv="enter",zv="leave",wR="none",Ya="prepare",yh="start",xh="active",Uw="end",e$="prepared";function CR(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function wY(t,e){var n={animationend:CR("Animation","AnimationEnd"),transitionend:CR("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var CY=wY($i(),typeof window<"u"?window:{}),t$={};if($i()){var EY=document.createElement("div");t$=EY.style}var Hv={};function n$(t){if(Hv[t])return Hv[t];var e=CY[t];if(e)for(var n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(e,o)&&o in t$)return Hv[t]=e[o],Hv[t]}return""}var r$=n$("animationend"),i$=n$("transitionend"),o$=!!(r$&&i$),ER=r$||"animationend",_R=i$||"transitionend";function TR(t,e){if(!t)return null;if(Xt(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}const _Y=function(t){var e=g.useRef(),n=g.useRef(t);n.current=t;var r=g.useCallback(function(a){n.current(a)},[]);function i(a){a&&(a.removeEventListener(_R,r),a.removeEventListener(ER,r))}function o(a){e.current&&e.current!==a&&i(e.current),a&&a!==e.current&&(a.addEventListener(_R,r),a.addEventListener(ER,r),e.current=a)}return g.useEffect(function(){return function(){i(e.current)}},[]),[o,i]};var a$=$i()?g.useLayoutEffect:g.useEffect;const TY=function(){var t=g.useRef(null);function e(){Un.cancel(t.current)}function n(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var o=Un(function(){i<=1?r({isCanceled:function(){return o!==t.current}}):n(r,i-1)});t.current=o}return g.useEffect(function(){return function(){e()}},[]),[n,e]};var MY=[Ya,yh,xh,Uw],RY=[Ya,e$],s$=!1,AY=!0;function l$(t){return t===xh||t===Uw}const PY=function(t,e,n){var r=Fh(wR),i=Ne(r,2),o=i[0],a=i[1],s=TY(),l=Ne(s,2),c=l[0],u=l[1];function d(){a(Ya,!0)}var f=e?RY:MY;return a$(function(){if(o!==wR&&o!==Uw){var p=f.indexOf(o),y=f[p+1],b=n(o);b===s$?a(y,!0):y&&c(function(x){function v(){x.isCanceled()||a(y,!0)}b===!0?v():Promise.resolve(b).then(v)})}},[t,o]),g.useEffect(function(){return function(){u()}},[]),[d,o]};function IY(t,e,n,r){var i=r.motionEnter,o=i===void 0?!0:i,a=r.motionAppear,s=a===void 0?!0:a,l=r.motionLeave,c=l===void 0?!0:l,u=r.motionDeadline,d=r.motionLeaveImmediately,f=r.onAppearPrepare,p=r.onEnterPrepare,y=r.onLeavePrepare,b=r.onAppearStart,x=r.onEnterStart,v=r.onLeaveStart,w=r.onAppearActive,S=r.onEnterActive,C=r.onLeaveActive,_=r.onAppearEnd,T=r.onEnterEnd,M=r.onLeaveEnd,I=r.onVisibleChanged,R=Fh(),P=Ne(R,2),L=P[0],k=P[1],H=Fh($u),D=Ne(H,2),G=D[0],B=D[1],$=Fh(null),O=Ne($,2),z=O[0],V=O[1],F=g.useRef(!1),W=g.useRef(null);function q(){return n()}var Z=g.useRef(!1);function ee(){B($u,!0),V(null,!0)}function oe(Re){var Ae=q();if(!(Re&&!Re.deadline&&Re.target!==Ae)){var Le=Z.current,Je;G===kv&&Le?Je=_?.(Ae,Re):G===Bv&&Le?Je=T?.(Ae,Re):G===zv&&Le&&(Je=M?.(Ae,Re)),G!==$u&&Le&&Je!==!1&&ee()}}var re=_Y(oe),ce=Ne(re,1),Se=ce[0],Pe=function(Ae){var Le,Je,K;switch(Ae){case kv:return Le={},ie(Le,Ya,f),ie(Le,yh,b),ie(Le,xh,w),Le;case Bv:return Je={},ie(Je,Ya,p),ie(Je,yh,x),ie(Je,xh,S),Je;case zv:return K={},ie(K,Ya,y),ie(K,yh,v),ie(K,xh,C),K;default:return{}}},xe=g.useMemo(function(){return Pe(G)},[G]),X=PY(G,!t,function(Re){if(Re===Ya){var Ae=xe[Ya];return Ae?Ae(q()):s$}if(Ce in xe){var Le;V(((Le=xe[Ce])===null||Le===void 0?void 0:Le.call(xe,q(),null))||null)}return Ce===xh&&(Se(q()),u>0&&(clearTimeout(W.current),W.current=setTimeout(function(){oe({deadline:!0})},u))),Ce===e$&&ee(),AY}),fe=Ne(X,2),pe=fe[0],Ce=fe[1],me=l$(Ce);Z.current=me,a$(function(){k(e);var Re=F.current;F.current=!0;var Ae;!Re&&e&&s&&(Ae=kv),Re&&e&&o&&(Ae=Bv),(Re&&!e&&c||!Re&&d&&!e&&c)&&(Ae=zv);var Le=Pe(Ae);Ae&&(t||Le[Ya])?(B(Ae),pe()):B($u)},[e]),g.useEffect(function(){(G===kv&&!s||G===Bv&&!o||G===zv&&!c)&&B($u)},[s,o,c]),g.useEffect(function(){return function(){F.current=!1,clearTimeout(W.current)}},[]);var Ge=g.useRef(!1);g.useEffect(function(){L&&(Ge.current=!0),L!==void 0&&G===$u&&((Ge.current||L)&&I?.(L),Ge.current=!0)},[L,G]);var ve=z;return xe[Ya]&&Ce===yh&&(ve=be({transition:"none"},ve)),[G,Ce,ve,L??e]}function NY(t){var e=t;Xt(t)==="object"&&(e=t.transitionSupport);function n(i,o){return!!(i.motionName&&e&&o!==!1)}var r=g.forwardRef(function(i,o){var a=i.visible,s=a===void 0?!0:a,l=i.removeOnLeave,c=l===void 0?!0:l,u=i.forceRender,d=i.children,f=i.motionName,p=i.leavedClassName,y=i.eventProps,b=g.useContext(JF),x=b.motion,v=n(i,x),w=g.useRef(),S=g.useRef();function C(){try{return w.current instanceof HTMLElement?w.current:ny(S.current)}catch{return null}}var _=IY(v,s,C,i),T=Ne(_,4),M=T[0],I=T[1],R=T[2],P=T[3],L=g.useRef(P);P&&(L.current=!0);var k=g.useCallback(function(V){w.current=V,Tw(o,V)},[o]),H,D=be(be({},y),{},{visible:s});if(!d)H=null;else if(M===$u)P?H=d(be({},D),k):!c&&L.current&&p?H=d(be(be({},D),{},{className:p}),k):u||!c&&!p?H=d(be(be({},D),{},{style:{display:"none"}}),k):H=null;else{var G,B;I===Ya?B="prepare":l$(I)?B="active":I===yh&&(B="start");var $=TR(f,"".concat(M,"-").concat(B));H=d(be(be({},D),{},{className:ye(TR(f,M),(G={},ie(G,$,$&&B),ie(G,f,typeof f=="string"),G)),style:R}),k)}if(g.isValidElement(H)&&ou(H)){var O=H,z=O.ref;z||(H=g.cloneElement(H,{ref:k}))}return g.createElement(bY,{ref:S},H)});return r.displayName="CSSMotion",r}const el=NY(o$);var c7="add",u7="keep",d7="remove",Q4="removed";function OY(t){var e;return t&&Xt(t)==="object"&&"key"in t?e=t:e={key:t},be(be({},e),{},{key:String(e.key)})}function f7(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(OY)}function LY(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,i=e.length,o=f7(t),a=f7(e);o.forEach(function(c){for(var u=!1,d=r;d<i;d+=1){var f=a[d];if(f.key===c.key){r<d&&(n=n.concat(a.slice(r,d).map(function(p){return be(be({},p),{},{status:c7})})),r=d),n.push(be(be({},f),{},{status:u7})),r+=1,u=!0;break}}u||n.push(be(be({},c),{},{status:d7}))}),r<i&&(n=n.concat(a.slice(r).map(function(c){return be(be({},c),{},{status:c7})})));var s={};n.forEach(function(c){var u=c.key;s[u]=(s[u]||0)+1});var l=Object.keys(s).filter(function(c){return s[c]>1});return l.forEach(function(c){n=n.filter(function(u){var d=u.key,f=u.status;return d!==c||f!==d7}),n.forEach(function(u){u.key===c&&(u.status=u7)})}),n}var DY=["component","children","onVisibleChanged","onAllRemoved"],FY=["status"],$Y=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function UY(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:el,n=function(r){Qs(o,r);var i=Js(o);function o(){var a;ii(this,o);for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return a=i.call.apply(i,[this].concat(l)),ie(kn(a),"state",{keyEntities:[]}),ie(kn(a),"removeKey",function(u){var d=a.state.keyEntities,f=d.map(function(p){return p.key!==u?p:be(be({},p),{},{status:Q4})});return a.setState({keyEntities:f}),f.filter(function(p){var y=p.status;return y!==Q4}).length}),a}return oi(o,[{key:"render",value:function(){var s=this,l=this.state.keyEntities,c=this.props,u=c.component,d=c.children,f=c.onVisibleChanged,p=c.onAllRemoved,y=Yt(c,DY),b=u||g.Fragment,x={};return $Y.forEach(function(v){x[v]=y[v],delete y[v]}),delete y.keys,g.createElement(b,y,l.map(function(v,w){var S=v.status,C=Yt(v,FY),_=S===c7||S===u7;return g.createElement(e,it({},x,{key:C.key,visible:_,eventProps:C,onVisibleChanged:function(M){if(f?.(M,{key:C.key}),!M){var I=s.removeKey(C.key);I===0&&p&&p()}}}),function(T,M){return d(be(be({},T),{},{index:w}),M)})}))}}],[{key:"getDerivedStateFromProps",value:function(s,l){var c=s.keys,u=l.keyEntities,d=f7(c),f=LY(u,d);return{keyEntities:f.filter(function(p){var y=u.find(function(b){var x=b.key;return p.key===x});return!(y&&y.status===Q4&&p.status===d7)})}}}]),o}(g.Component);return ie(n,"defaultProps",{component:"div"}),n}const c$=UY(o$);function kY(t){const{children:e}=t,[,n]=Fa(),{motion:r}=n,i=g.useRef(!1);return i.current=i.current||r===!1,i.current?g.createElement(SY,{motion:r},e):e}const BY=()=>null;var zY=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const HY=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form","select","button"],GY="ant";let ly,u$,d$;function g2(){return ly||GY}function VY(){return u$||$w}function WY(t){return Object.keys(t).some(e=>e.endsWith("Color"))}const jY=t=>{let{prefixCls:e,iconPrefixCls:n,theme:r}=t;e!==void 0&&(ly=e),n!==void 0&&(u$=n),r&&(WY(r)?pY(g2(),r):d$=r)},f$=()=>({getPrefixCls:(t,e)=>e||(t?`${g2()}-${t}`:g2()),getIconPrefixCls:VY,getRootPrefixCls:()=>ly||g2(),getTheme:()=>d$}),XY=t=>{const{children:e,csp:n,autoInsertSpaceInButton:r,alert:i,anchor:o,form:a,locale:s,componentSize:l,direction:c,space:u,virtual:d,dropdownMatchSelectWidth:f,popupMatchSelectWidth:p,popupOverflow:y,legacyLocale:b,parentContext:x,iconPrefixCls:v,theme:w,componentDisabled:S,segmented:C,statistic:_,spin:T,calendar:M,carousel:I,cascader:R,collapse:P,typography:L,checkbox:k,descriptions:H,divider:D,drawer:G,skeleton:B,steps:$,image:O,layout:z,list:V,mentions:F,modal:W,progress:q,result:Z,slider:ee,breadcrumb:oe,menu:re,pagination:ce,input:Se,empty:Pe,badge:xe,radio:X,rate:fe,switch:pe,transfer:Ce,avatar:me,message:Ge,tag:ve,table:Re,card:Ae,tabs:Le,timeline:Je,timePicker:K,upload:j,notification:ae,tree:Ee,colorPicker:Oe,datePicker:je,wave:Be}=t,Fe=g.useCallback((ue,De)=>{const{prefixCls:Ie}=t;if(De)return De;const _e=Ie||x.getPrefixCls("");return ue?`${_e}-${ue}`:_e},[x.getPrefixCls,t.prefixCls]),Ue=v||x.iconPrefixCls||$w,et=n||x.csp;QF(Ue,et);const at=yY(w,x.theme),We={csp:et,autoInsertSpaceInButton:r,alert:i,anchor:o,locale:s||b,direction:c,space:u,virtual:d,popupMatchSelectWidth:p??f,popupOverflow:y,getPrefixCls:Fe,iconPrefixCls:Ue,theme:at,segmented:C,statistic:_,spin:T,calendar:M,carousel:I,cascader:R,collapse:P,typography:L,checkbox:k,descriptions:H,divider:D,drawer:G,skeleton:B,steps:$,image:O,input:Se,layout:z,list:V,mentions:F,modal:W,progress:q,result:Z,slider:ee,breadcrumb:oe,menu:re,pagination:ce,empty:Pe,badge:xe,radio:X,rate:fe,switch:pe,transfer:Ce,avatar:me,message:Ge,tag:ve,table:Re,card:Ae,tabs:Le,timeline:Je,timePicker:K,upload:j,notification:ae,tree:Ee,colorPicker:Oe,datePicker:je,wave:Be},ut=Object.assign({},x);Object.keys(We).forEach(ue=>{We[ue]!==void 0&&(ut[ue]=We[ue])}),HY.forEach(ue=>{const De=t[ue];De&&(ut[ue]=De)});const te=Vg(()=>ut,ut,(ue,De)=>{const Ie=Object.keys(ue),_e=Object.keys(De);return Ie.length!==_e.length||Ie.some(rt=>ue[rt]!==De[rt])}),ke=g.useMemo(()=>({prefixCls:Ue,csp:et}),[Ue,et]);let ze=g.createElement(g.Fragment,null,g.createElement(BY,{dropdownMatchSelectWidth:f}),e);const J=g.useMemo(()=>{var ue,De,Ie,_e;return vh(((ue=Ed.Form)===null||ue===void 0?void 0:ue.defaultValidateMessages)||{},((Ie=(De=te.locale)===null||De===void 0?void 0:De.Form)===null||Ie===void 0?void 0:Ie.defaultValidateMessages)||{},((_e=te.form)===null||_e===void 0?void 0:_e.validateMessages)||{},a?.validateMessages||{})},[te,a?.validateMessages]);Object.keys(J).length>0&&(ze=g.createElement(hK.Provider,{value:J},ze)),s&&(ze=g.createElement(CK,{locale:s,_ANT_MARK__:bK},ze)),(Ue||et)&&(ze=g.createElement(Lw.Provider,{value:ke},ze)),l&&(ze=g.createElement(gY,{size:l},ze)),ze=g.createElement(kY,null,ze);const de=g.useMemo(()=>{const ue=at||{},{algorithm:De,token:Ie,components:_e}=ue,rt=zY(ue,["algorithm","token","components"]),ct=De&&(!Array.isArray(De)||De.length>0)?Zb(De):WF,pt={};return Object.entries(_e||{}).forEach(Xe=>{let[lt,ot]=Xe;const gt=Object.assign({},ot);"algorithm"in gt&&(gt.algorithm===!0?gt.theme=ct:(Array.isArray(gt.algorithm)||typeof gt.algorithm=="function")&&(gt.theme=Zb(gt.algorithm)),delete gt.algorithm),pt[lt]=gt}),Object.assign(Object.assign({},rt),{theme:ct,token:Object.assign(Object.assign({},M5),Ie),components:pt})},[at]);return w&&(ze=g.createElement(XF.Provider,{value:de},ze)),S!==void 0&&(ze=g.createElement(mY,{disabled:S},ze)),g.createElement(Wt.Provider,{value:te},ze)},au=t=>{const e=g.useContext(Wt),n=g.useContext(Fw);return g.createElement(XY,Object.assign({parentContext:e,legacyLocale:n},t))};au.ConfigContext=Wt;au.SizeContext=R5;au.config=jY;au.useConfig=vY;Object.defineProperty(au,"SizeContext",{get:()=>R5});var qY={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};const KY=qY;function h$(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function YY(t){return h$(t)instanceof ShadowRoot}function cy(t){return YY(t)?h$(t):null}function ZY(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})}function QY(t,e){hi(t,"[@ant-design/icons] ".concat(e))}function MR(t){return Xt(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(Xt(t.icon)==="object"||typeof t.icon=="function")}function RR(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:delete e[n],e[ZY(n)]=r}return e},{})}function h7(t,e,n){return n?se.createElement(t.tag,be(be({key:e},RR(t.attrs)),n),(t.children||[]).map(function(r,i){return h7(r,"".concat(e,"-").concat(t.tag,"-").concat(i))})):se.createElement(t.tag,be({key:e},RR(t.attrs)),(t.children||[]).map(function(r,i){return h7(r,"".concat(e,"-").concat(t.tag,"-").concat(i))}))}function p$(t){return _d(t)[0]}function m$(t){return t?Array.isArray(t)?t:[t]:[]}var JY=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,eZ=function(e){var n=g.useContext(Lw),r=n.csp,i=n.prefixCls,o=JY;i&&(o=o.replace(/anticon/g,i)),g.useEffect(function(){var a=e.current,s=cy(a);Yh(o,"@ant-design-icons",{prepend:!0,csp:r,attachTo:s})},[])},tZ=["icon","className","onClick","style","primaryColor","secondaryColor"],Cm={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function nZ(t){var e=t.primaryColor,n=t.secondaryColor;Cm.primaryColor=e,Cm.secondaryColor=n||p$(e),Cm.calculated=!!n}function rZ(){return be({},Cm)}var A5=function(e){var n=e.icon,r=e.className,i=e.onClick,o=e.style,a=e.primaryColor,s=e.secondaryColor,l=Yt(e,tZ),c=g.useRef(),u=Cm;if(a&&(u={primaryColor:a,secondaryColor:s||p$(a)}),eZ(c),QY(MR(n),"icon should be icon definiton, but got ".concat(n)),!MR(n))return null;var d=n;return d&&typeof d.icon=="function"&&(d=be(be({},d),{},{icon:d.icon(u.primaryColor,u.secondaryColor)})),h7(d.icon,"svg-".concat(d.name),be(be({className:r,onClick:i,style:o,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:c}))};A5.displayName="IconReact";A5.getTwoToneColors=rZ;A5.setTwoToneColors=nZ;const kw=A5;function g$(t){var e=m$(t),n=Ne(e,2),r=n[0],i=n[1];return kw.setTwoToneColors({primaryColor:r,secondaryColor:i})}function iZ(){var t=kw.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var oZ=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];g$(o7.primary);var P5=g.forwardRef(function(t,e){var n,r=t.className,i=t.icon,o=t.spin,a=t.rotate,s=t.tabIndex,l=t.onClick,c=t.twoToneColor,u=Yt(t,oZ),d=g.useContext(Lw),f=d.prefixCls,p=f===void 0?"anticon":f,y=d.rootClassName,b=ye(y,p,(n={},ie(n,"".concat(p,"-").concat(i.name),!!i.name),ie(n,"".concat(p,"-spin"),!!o||i.name==="loading"),n),r),x=s;x===void 0&&l&&(x=-1);var v=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,w=m$(c),S=Ne(w,2),C=S[0],_=S[1];return g.createElement("span",it({role:"img","aria-label":i.name},u,{ref:e,tabIndex:x,onClick:l,className:b}),g.createElement(kw,{icon:i,primaryColor:C,secondaryColor:_,style:v}))});P5.displayName="AntdIcon";P5.getTwoToneColor=iZ;P5.setTwoToneColor=g$;const tr=P5;var aZ=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:KY}))};const v$=g.forwardRef(aZ);var sZ={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};const lZ=sZ;var cZ=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:lZ}))};const Xg=g.forwardRef(cZ);var uZ={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};const dZ=uZ;var fZ=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:dZ}))};const qg=g.forwardRef(fZ);var hZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const pZ=hZ;var mZ=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:pZ}))};const gZ=g.forwardRef(mZ);var vZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};const yZ=vZ;var xZ=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:yZ}))};const SZ=g.forwardRef(xZ);var bZ=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,wZ=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,CZ="".concat(bZ," ").concat(wZ).split(/[\s\n]+/),EZ="aria-",_Z="data-";function AR(t,e){return t.indexOf(e)===0}function ep(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=be({},e);var r={};return Object.keys(t).forEach(function(i){(n.aria&&(i==="role"||AR(i,EZ))||n.data&&AR(i,_Z)||n.attr&&CZ.includes(i))&&(r[i]=t[i])}),r}const{isValidElement:La}=qy;function y$(t){return t&&La(t)&&t.type===g.Fragment}function TZ(t,e,n){return La(t)?g.cloneElement(t,typeof n=="function"?n(t.props||{}):n):e}function _i(t,e){return TZ(t,t,e)}var nt={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var n=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||n>=nt.F1&&n<=nt.F12)return!1;switch(n){case nt.ALT:case nt.CAPS_LOCK:case nt.CONTEXT_MENU:case nt.CTRL:case nt.DOWN:case nt.END:case nt.ESC:case nt.HOME:case nt.INSERT:case nt.LEFT:case nt.MAC_FF_META:case nt.META:case nt.NUMLOCK:case nt.NUM_CENTER:case nt.PAGE_DOWN:case nt.PAGE_UP:case nt.PAUSE:case nt.PRINT_SCREEN:case nt.RIGHT:case nt.SHIFT:case nt.UP:case nt.WIN_KEY:case nt.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=nt.ZERO&&e<=nt.NINE||e>=nt.NUM_ZERO&&e<=nt.NUM_MULTIPLY||e>=nt.A&&e<=nt.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case nt.SPACE:case nt.QUESTION_MARK:case nt.NUM_PLUS:case nt.NUM_MINUS:case nt.NUM_PERIOD:case nt.NUM_DIVISION:case nt.SEMICOLON:case nt.DASH:case nt.EQUALS:case nt.COMMA:case nt.PERIOD:case nt.SLASH:case nt.APOSTROPHE:case nt.SINGLE_QUOTE:case nt.OPEN_SQUARE_BRACKET:case nt.BACKSLASH:case nt.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},x$=g.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,i=t.className,o=t.duration,a=o===void 0?4.5:o,s=t.eventKey,l=t.content,c=t.closable,u=t.closeIcon,d=u===void 0?"x":u,f=t.props,p=t.onClick,y=t.onNoticeClose,b=t.times,x=g.useState(!1),v=Ne(x,2),w=v[0],S=v[1],C=function(){y(s)},_=function(I){(I.key==="Enter"||I.code==="Enter"||I.keyCode===nt.ENTER)&&C()};g.useEffect(function(){if(!w&&a>0){var M=setTimeout(function(){C()},a*1e3);return function(){clearTimeout(M)}}},[a,w,b]);var T="".concat(n,"-notice");return g.createElement("div",it({},f,{ref:e,className:ye(T,i,ie({},"".concat(T,"-closable"),c)),style:r,onMouseEnter:function(){S(!0)},onMouseLeave:function(){S(!1)},onClick:p}),g.createElement("div",{className:"".concat(T,"-content")},l),c&&g.createElement("a",{tabIndex:0,className:"".concat(T,"-close"),onKeyDown:_,onClick:function(I){I.preventDefault(),I.stopPropagation(),C()}},d))}),S$=se.createContext({}),MZ=function(e){var n=e.children,r=e.classNames;return se.createElement(S$.Provider,{value:{classNames:r}},n)},RZ=function(e){var n=e.configList,r=e.placement,i=e.prefixCls,o=e.className,a=e.style,s=e.motion,l=e.onAllNoticeRemoved,c=e.onNoticeClose,u=g.useContext(S$),d=u.classNames,f=n.map(function(y){return{config:y,key:y.key}}),p=typeof s=="function"?s(r):s;return se.createElement(c$,it({key:r,className:ye(i,"".concat(i,"-").concat(r),d?.list,o),style:a,keys:f,motionAppear:!0},p,{onAllRemoved:function(){l(r)}}),function(y,b){var x=y.config,v=y.className,w=y.style,S=x,C=S.key,_=S.times,T=x,M=T.className,I=T.style;return se.createElement(x$,it({},x,{ref:b,prefixCls:i,className:ye(v,M,d?.notice),style:be(be({},w),I),times:_,key:C,eventKey:C,onNoticeClose:c}))})},AZ=g.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-notification":n,i=t.container,o=t.motion,a=t.maxCount,s=t.className,l=t.style,c=t.onAllRemoved,u=t.renderNotifications,d=g.useState([]),f=Ne(d,2),p=f[0],y=f[1],b=function(I){var R,P=p.find(function(L){return L.key===I});P==null||(R=P.onClose)===null||R===void 0||R.call(P),y(function(L){return L.filter(function(k){return k.key!==I})})};g.useImperativeHandle(e,function(){return{open:function(I){y(function(R){var P=mt(R),L=P.findIndex(function(D){return D.key===I.key}),k=be({},I);if(L>=0){var H;k.times=(((H=R[L])===null||H===void 0?void 0:H.times)||0)+1,P[L]=k}else k.times=0,P.push(k);return a>0&&P.length>a&&(P=P.slice(-a)),P})},close:function(I){b(I)},destroy:function(){y([])}}});var x=g.useState({}),v=Ne(x,2),w=v[0],S=v[1];g.useEffect(function(){var M={};p.forEach(function(I){var R=I.placement,P=R===void 0?"topRight":R;P&&(M[P]=M[P]||[],M[P].push(I))}),Object.keys(w).forEach(function(I){M[I]=M[I]||[]}),S(M)},[p]);var C=function(I){S(function(R){var P=be({},R),L=P[I]||[];return L.length||delete P[I],P})},_=g.useRef(!1);if(g.useEffect(function(){Object.keys(w).length>0?_.current=!0:_.current&&(c?.(),_.current=!1)},[w]),!i)return null;var T=Object.keys(w);return Na.createPortal(g.createElement(g.Fragment,null,T.map(function(M){var I=w[M],R=g.createElement(RZ,{key:M,configList:I,placement:M,prefixCls:r,className:s?.(M),style:l?.(M),motion:o,onNoticeClose:b,onAllNoticeRemoved:C});return u?u(R,{prefixCls:r,key:M}):R})),i)}),PZ=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","renderNotifications"],IZ=function(){return document.body},PR=0;function NZ(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(i){i&&Object.keys(i).forEach(function(o){var a=i[o];a!==void 0&&(t[o]=a)})}),t}function OZ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.getContainer,n=e===void 0?IZ:e,r=t.motion,i=t.prefixCls,o=t.maxCount,a=t.className,s=t.style,l=t.onAllRemoved,c=t.renderNotifications,u=Yt(t,PZ),d=g.useState(),f=Ne(d,2),p=f[0],y=f[1],b=g.useRef(),x=g.createElement(AZ,{container:p,ref:b,prefixCls:i,motion:r,maxCount:o,className:a,style:s,onAllRemoved:l,renderNotifications:c}),v=g.useState([]),w=Ne(v,2),S=w[0],C=w[1],_=g.useMemo(function(){return{open:function(M){var I=NZ(u,M);(I.key===null||I.key===void 0)&&(I.key="rc-notification-".concat(PR),PR+=1),C(function(R){return[].concat(mt(R),[{type:"open",config:I}])})},close:function(M){C(function(I){return[].concat(mt(I),[{type:"close",key:M}])})},destroy:function(){C(function(M){return[].concat(mt(M),[{type:"destroy"}])})}}},[]);return g.useEffect(function(){y(n())}),g.useEffect(function(){b.current&&S.length&&(S.forEach(function(T){switch(T.type){case"open":b.current.open(T.config);break;case"close":b.current.close(T.key);break;case"destroy":b.current.destroy();break}}),C(function(T){return T.filter(function(M){return!S.includes(M)})}))},[S]),[_,x]}var LZ={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const DZ=LZ;var FZ=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:DZ}))};const rg=g.forwardRef(FZ),$Z=t=>{const{componentCls:e,iconCls:n,boxShadow:r,colorText:i,colorSuccess:o,colorError:a,colorWarning:s,colorInfo:l,fontSizeLG:c,motionEaseInOutCirc:u,motionDurationSlow:d,marginXS:f,paddingXS:p,borderRadiusLG:y,zIndexPopup:b,contentPadding:x,contentBg:v}=t,w=`${e}-notice`,S=new Mn("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:p,transform:"translateY(0)",opacity:1}}),C=new Mn("MessageMoveOut",{"0%":{maxHeight:t.height,padding:p,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),_={padding:p,textAlign:"center",[`${e}-custom-content > ${n}`]:{verticalAlign:"text-bottom",marginInlineEnd:f,fontSize:c},[`${w}-content`]:{display:"inline-block",padding:x,background:v,borderRadius:y,boxShadow:r,pointerEvents:"all"},[`${e}-success > ${n}`]:{color:o},[`${e}-error > ${n}`]:{color:a},[`${e}-warning > ${n}`]:{color:s},[`${e}-info > ${n},
      ${e}-loading > ${n}`]:{color:l}};return[{[e]:Object.assign(Object.assign({},Ir(t)),{color:i,position:"fixed",top:f,width:"100%",pointerEvents:"none",zIndex:b,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:S,animationDuration:d,animationPlayState:"paused",animationTimingFunction:u},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:C,animationDuration:d,animationPlayState:"paused",animationTimingFunction:u},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[w]:Object.assign({},_)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},_),{padding:0,textAlign:"start"})}]},b$=lr("Message",t=>{const e=pn(t,{height:150});return[$Z(e)]},t=>({zIndexPopup:t.zIndexPopupBase+10,contentBg:t.colorBgElevated,contentPadding:`${(t.controlHeightLG-t.fontSize*t.lineHeight)/2}px ${t.paddingSM}px`}));var UZ=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const kZ={info:g.createElement(SZ,null),success:g.createElement(v$,null),error:g.createElement(Xg,null),warning:g.createElement(gZ,null),loading:g.createElement(rg,null)},w$=t=>{let{prefixCls:e,type:n,icon:r,children:i}=t;return g.createElement("div",{className:ye(`${e}-custom-content`,`${e}-${n}`)},r||kZ[n],g.createElement("span",null,i))},BZ=t=>{const{prefixCls:e,className:n,type:r,icon:i,content:o}=t,a=UZ(t,["prefixCls","className","type","icon","content"]),{getPrefixCls:s}=g.useContext(Wt),l=e||s("message"),[,c]=b$(l);return g.createElement(x$,Object.assign({},a,{prefixCls:l,className:ye(n,c,`${l}-notice-pure-panel`),eventKey:"pure",duration:null,content:g.createElement(w$,{prefixCls:l,type:r,icon:i},o)}))},zZ=BZ;function HZ(t,e){return{motionName:e??`${t}-move-up`}}function Bw(t){let e;const n=new Promise(i=>{e=t(()=>{i(!0)})}),r=()=>{e?.()};return r.then=(i,o)=>n.then(i,o),r.promise=n,r}var GZ=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const VZ=8,WZ=3,jZ=t=>{let{children:e,prefixCls:n}=t;const[,r]=b$(n);return g.createElement(MZ,{classNames:{list:r,notice:r}},e)},XZ=(t,e)=>{let{prefixCls:n,key:r}=e;return g.createElement(jZ,{prefixCls:n,key:r},t)},qZ=g.forwardRef((t,e)=>{const{top:n,prefixCls:r,getContainer:i,maxCount:o,duration:a=WZ,rtl:s,transitionName:l,onAllRemoved:c}=t,{getPrefixCls:u,getPopupContainer:d,message:f}=g.useContext(Wt),p=r||u("message"),y=()=>({left:"50%",transform:"translateX(-50%)",top:n??VZ}),b=()=>ye({[`${p}-rtl`]:s}),x=()=>HZ(p,l),v=g.createElement("span",{className:`${p}-close-x`},g.createElement(qg,{className:`${p}-close-icon`})),[w,S]=OZ({prefixCls:p,style:y,className:b,motion:x,closable:!1,closeIcon:v,duration:a,getContainer:()=>i?.()||d?.()||document.body,maxCount:o,onAllRemoved:c,renderNotifications:XZ});return g.useImperativeHandle(e,()=>Object.assign(Object.assign({},w),{prefixCls:p,message:f})),S});let IR=0;function C$(t){const e=g.useRef(null);return Dw(),[g.useMemo(()=>{const r=l=>{var c;(c=e.current)===null||c===void 0||c.close(l)},i=l=>{if(!e.current){const T=()=>{};return T.then=()=>{},T}const{open:c,prefixCls:u,message:d}=e.current,f=`${u}-notice`,{content:p,icon:y,type:b,key:x,className:v,style:w,onClose:S}=l,C=GZ(l,["content","icon","type","key","className","style","onClose"]);let _=x;return _==null&&(IR+=1,_=`antd-message-${IR}`),Bw(T=>(c(Object.assign(Object.assign({},C),{key:_,content:g.createElement(w$,{prefixCls:u,type:b,icon:y},p),placement:"top",className:ye(b&&`${f}-${b}`,v,d?.className),style:Object.assign(Object.assign({},d?.style),w),onClose:()=>{S?.(),T()}})),()=>{r(_)}))},a={open:i,destroy:l=>{var c;l!==void 0?r(l):(c=e.current)===null||c===void 0||c.destroy()}};return["info","success","warning","error","loading"].forEach(l=>{const c=(u,d,f)=>{let p;u&&typeof u=="object"&&"content"in u?p=u:p={content:u};let y,b;typeof d=="function"?b=d:(y=d,b=f);const x=Object.assign(Object.assign({onClose:b,duration:y},p),{type:l});return i(x)};a[l]=c}),a},[]),g.createElement(qZ,Object.assign({key:"message-holder"},t,{ref:e}))]}function KZ(t){return C$(t)}function Ui(){Ui=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(B,$,O){B[$]=O.value},o=typeof Symbol=="function"?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(B,$,O){return Object.defineProperty(B,$,{value:O,enumerable:!0,configurable:!0,writable:!0}),B[$]}try{c({},"")}catch{c=function(O,z,V){return O[z]=V}}function u(B,$,O,z){var V=$&&$.prototype instanceof v?$:v,F=Object.create(V.prototype),W=new D(z||[]);return i(F,"_invoke",{value:P(B,O,W)}),F}function d(B,$,O){try{return{type:"normal",arg:B.call($,O)}}catch(z){return{type:"throw",arg:z}}}e.wrap=u;var f="suspendedStart",p="suspendedYield",y="executing",b="completed",x={};function v(){}function w(){}function S(){}var C={};c(C,a,function(){return this});var _=Object.getPrototypeOf,T=_&&_(_(G([])));T&&T!==n&&r.call(T,a)&&(C=T);var M=S.prototype=v.prototype=Object.create(C);function I(B){["next","throw","return"].forEach(function($){c(B,$,function(O){return this._invoke($,O)})})}function R(B,$){function O(V,F,W,q){var Z=d(B[V],B,F);if(Z.type!=="throw"){var ee=Z.arg,oe=ee.value;return oe&&Xt(oe)=="object"&&r.call(oe,"__await")?$.resolve(oe.__await).then(function(re){O("next",re,W,q)},function(re){O("throw",re,W,q)}):$.resolve(oe).then(function(re){ee.value=re,W(ee)},function(re){return O("throw",re,W,q)})}q(Z.arg)}var z;i(this,"_invoke",{value:function(F,W){function q(){return new $(function(Z,ee){O(F,W,Z,ee)})}return z=z?z.then(q,q):q()}})}function P(B,$,O){var z=f;return function(V,F){if(z===y)throw new Error("Generator is already running");if(z===b){if(V==="throw")throw F;return{value:t,done:!0}}for(O.method=V,O.arg=F;;){var W=O.delegate;if(W){var q=L(W,O);if(q){if(q===x)continue;return q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(z===f)throw z=b,O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);z=y;var Z=d(B,$,O);if(Z.type==="normal"){if(z=O.done?b:p,Z.arg===x)continue;return{value:Z.arg,done:O.done}}Z.type==="throw"&&(z=b,O.method="throw",O.arg=Z.arg)}}}function L(B,$){var O=$.method,z=B.iterator[O];if(z===t)return $.delegate=null,O==="throw"&&B.iterator.return&&($.method="return",$.arg=t,L(B,$),$.method==="throw")||O!=="return"&&($.method="throw",$.arg=new TypeError("The iterator does not provide a '"+O+"' method")),x;var V=d(z,B.iterator,$.arg);if(V.type==="throw")return $.method="throw",$.arg=V.arg,$.delegate=null,x;var F=V.arg;return F?F.done?($[B.resultName]=F.value,$.next=B.nextLoc,$.method!=="return"&&($.method="next",$.arg=t),$.delegate=null,x):F:($.method="throw",$.arg=new TypeError("iterator result is not an object"),$.delegate=null,x)}function k(B){var $={tryLoc:B[0]};1 in B&&($.catchLoc=B[1]),2 in B&&($.finallyLoc=B[2],$.afterLoc=B[3]),this.tryEntries.push($)}function H(B){var $=B.completion||{};$.type="normal",delete $.arg,B.completion=$}function D(B){this.tryEntries=[{tryLoc:"root"}],B.forEach(k,this),this.reset(!0)}function G(B){if(B||B===""){var $=B[a];if($)return $.call(B);if(typeof B.next=="function")return B;if(!isNaN(B.length)){var O=-1,z=function V(){for(;++O<B.length;)if(r.call(B,O))return V.value=B[O],V.done=!1,V;return V.value=t,V.done=!0,V};return z.next=z}}throw new TypeError(Xt(B)+" is not iterable")}return w.prototype=S,i(M,"constructor",{value:S,configurable:!0}),i(S,"constructor",{value:w,configurable:!0}),w.displayName=c(S,l,"GeneratorFunction"),e.isGeneratorFunction=function(B){var $=typeof B=="function"&&B.constructor;return!!$&&($===w||($.displayName||$.name)==="GeneratorFunction")},e.mark=function(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,S):(B.__proto__=S,c(B,l,"GeneratorFunction")),B.prototype=Object.create(M),B},e.awrap=function(B){return{__await:B}},I(R.prototype),c(R.prototype,s,function(){return this}),e.AsyncIterator=R,e.async=function(B,$,O,z,V){V===void 0&&(V=Promise);var F=new R(u(B,$,O,z),V);return e.isGeneratorFunction($)?F:F.next().then(function(W){return W.done?W.value:F.next()})},I(M),c(M,l,"Generator"),c(M,a,function(){return this}),c(M,"toString",function(){return"[object Generator]"}),e.keys=function(B){var $=Object(B),O=[];for(var z in $)O.push(z);return O.reverse(),function V(){for(;O.length;){var F=O.pop();if(F in $)return V.value=F,V.done=!1,V}return V.done=!0,V}},e.values=G,D.prototype={constructor:D,reset:function($){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(H),!$)for(var O in this)O.charAt(0)==="t"&&r.call(this,O)&&!isNaN(+O.slice(1))&&(this[O]=t)},stop:function(){this.done=!0;var $=this.tryEntries[0].completion;if($.type==="throw")throw $.arg;return this.rval},dispatchException:function($){if(this.done)throw $;var O=this;function z(ee,oe){return W.type="throw",W.arg=$,O.next=ee,oe&&(O.method="next",O.arg=t),!!oe}for(var V=this.tryEntries.length-1;V>=0;--V){var F=this.tryEntries[V],W=F.completion;if(F.tryLoc==="root")return z("end");if(F.tryLoc<=this.prev){var q=r.call(F,"catchLoc"),Z=r.call(F,"finallyLoc");if(q&&Z){if(this.prev<F.catchLoc)return z(F.catchLoc,!0);if(this.prev<F.finallyLoc)return z(F.finallyLoc)}else if(q){if(this.prev<F.catchLoc)return z(F.catchLoc,!0)}else{if(!Z)throw new Error("try statement without catch or finally");if(this.prev<F.finallyLoc)return z(F.finallyLoc)}}}},abrupt:function($,O){for(var z=this.tryEntries.length-1;z>=0;--z){var V=this.tryEntries[z];if(V.tryLoc<=this.prev&&r.call(V,"finallyLoc")&&this.prev<V.finallyLoc){var F=V;break}}F&&($==="break"||$==="continue")&&F.tryLoc<=O&&O<=F.finallyLoc&&(F=null);var W=F?F.completion:{};return W.type=$,W.arg=O,F?(this.method="next",this.next=F.finallyLoc,x):this.complete(W)},complete:function($,O){if($.type==="throw")throw $.arg;return $.type==="break"||$.type==="continue"?this.next=$.arg:$.type==="return"?(this.rval=this.arg=$.arg,this.method="return",this.next="end"):$.type==="normal"&&O&&(this.next=O),x},finish:function($){for(var O=this.tryEntries.length-1;O>=0;--O){var z=this.tryEntries[O];if(z.finallyLoc===$)return this.complete(z.completion,z.afterLoc),H(z),x}},catch:function($){for(var O=this.tryEntries.length-1;O>=0;--O){var z=this.tryEntries[O];if(z.tryLoc===$){var V=z.completion;if(V.type==="throw"){var F=V.arg;H(z)}return F}}throw new Error("illegal catch attempt")},delegateYield:function($,O,z){return this.delegate={iterator:G($),resultName:O,nextLoc:z},this.method==="next"&&(this.arg=t),x}},e}function NR(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(c){n(c);return}s.done?e(l):Promise.resolve(l).then(r,i)}function su(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(l){NR(o,r,i,a,s,"next",l)}function s(l){NR(o,r,i,a,s,"throw",l)}a(void 0)})}}var Kg=be({},pX),YZ=Kg.version,ZZ=Kg.render,QZ=Kg.unmountComponentAtNode,I5;try{var JZ=Number((YZ||"").split(".")[0]);JZ>=18&&(I5=Kg.createRoot)}catch{}function OR(t){var e=Kg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&Xt(e)==="object"&&(e.usingClientEntryPoint=t)}var uy="__rc_react_root__";function eQ(t,e){OR(!0);var n=e[uy]||I5(e);OR(!1),n.render(t),e[uy]=n}function tQ(t,e){ZZ(t,e)}function E$(t,e){if(I5){eQ(t,e);return}tQ(t,e)}function nQ(t){return p7.apply(this,arguments)}function p7(){return p7=su(Ui().mark(function t(e){return Ui().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=e[uy])===null||i===void 0||i.unmount(),delete e[uy]}));case 1:case"end":return r.stop()}},t)})),p7.apply(this,arguments)}function rQ(t){QZ(t)}function iQ(t){return m7.apply(this,arguments)}function m7(){return m7=su(Ui().mark(function t(e){return Ui().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(I5===void 0){r.next=2;break}return r.abrupt("return",nQ(e));case 2:rQ(e);case 3:case"end":return r.stop()}},t)})),m7.apply(this,arguments)}const J4=()=>({height:0,opacity:0}),LR=t=>{const{scrollHeight:e}=t;return{height:e,opacity:1}},oQ=t=>({height:t?t.offsetHeight:0}),e8=(t,e)=>e?.deadline===!0||e.propertyName==="height",zw=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant"}-motion-collapse`,onAppearStart:J4,onEnterStart:J4,onAppearActive:LR,onEnterActive:LR,onLeaveStart:oQ,onLeaveActive:J4,onAppearEnd:e8,onEnterEnd:e8,onLeaveEnd:e8,motionDeadline:500}},N5=(t,e,n)=>n!==void 0?n:`${t}-${e}`,Hw=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox(),n=e.width,r=e.height;if(n||r)return!0}if(t.getBoundingClientRect){var i=t.getBoundingClientRect(),o=i.width,a=i.height;if(o||a)return!0}}return!1},aQ=t=>{const{componentCls:e,colorPrimary:n}=t;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${t.motionEaseOutCirc}`,`opacity 2s ${t.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow 0.3s ${t.motionEaseInOut}`,`opacity 0.35s ${t.motionEaseInOut}`].join(",")}}}}},sQ=lr("Wave",t=>[aQ(t)]);function lQ(t){const e=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return e&&e[1]&&e[2]&&e[3]?!(e[1]===e[2]&&e[2]===e[3]):!0}function t8(t){return t&&t!=="#fff"&&t!=="#ffffff"&&t!=="rgb(255, 255, 255)"&&t!=="rgba(255, 255, 255, 1)"&&lQ(t)&&!/rgba\((?:\d*, ){3}0\)/.test(t)&&t!=="transparent"}function cQ(t){const{borderTopColor:e,borderColor:n,backgroundColor:r}=getComputedStyle(t);return t8(e)?e:t8(n)?n:t8(r)?r:null}const _$="ant-wave-target";function n8(t){return Number.isNaN(t)?0:t}const uQ=t=>{const{className:e,target:n,component:r}=t,i=g.useRef(null),[o,a]=g.useState(null),[s,l]=g.useState([]),[c,u]=g.useState(0),[d,f]=g.useState(0),[p,y]=g.useState(0),[b,x]=g.useState(0),[v,w]=g.useState(!1),S={left:c,top:d,width:p,height:b,borderRadius:s.map(T=>`${T}px`).join(" ")};o&&(S["--wave-color"]=o);function C(){const T=getComputedStyle(n);a(cQ(n));const M=T.position==="static",{borderLeftWidth:I,borderTopWidth:R}=T;u(M?n.offsetLeft:n8(-parseFloat(I))),f(M?n.offsetTop:n8(-parseFloat(R))),y(n.offsetWidth),x(n.offsetHeight);const{borderTopLeftRadius:P,borderTopRightRadius:L,borderBottomLeftRadius:k,borderBottomRightRadius:H}=T;l([P,L,H,k].map(D=>n8(parseFloat(D))))}if(g.useEffect(()=>{if(n){const T=Un(()=>{C(),w(!0)});let M;return typeof ResizeObserver<"u"&&(M=new ResizeObserver(C),M.observe(n)),()=>{Un.cancel(T),M?.disconnect()}}},[]),!v)return null;const _=(r==="Checkbox"||r==="Radio")&&n?.classList.contains(_$);return g.createElement(el,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(T,M)=>{var I;if(M.deadline||M.propertyName==="opacity"){const R=(I=i.current)===null||I===void 0?void 0:I.parentElement;iQ(R).then(()=>{R?.remove()})}return!1}},T=>{let{className:M}=T;return g.createElement("div",{ref:i,className:ye(e,{"wave-quick":_},M),style:S})})},dQ=(t,e)=>{var n;const{component:r}=e;if(r==="Checkbox"&&!(!((n=t.querySelector("input"))===null||n===void 0)&&n.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",t?.insertBefore(i,t?.firstChild),E$(g.createElement(uQ,Object.assign({},e,{target:t})),i)},fQ=dQ;function hQ(t,e,n){const{wave:r}=g.useContext(Wt),[,i,o]=Fa(),a=Zi(c=>{const u=t.current;if(r?.disabled||!u)return;const d=u.querySelector(`.${_$}`)||u,{showEffect:f}=r||{};(f||fQ)(d,{className:e,token:i,component:n,event:c,hashId:o})}),s=g.useRef();return c=>{Un.cancel(s.current),s.current=Un(()=>{a(c)})}}const pQ=t=>{const{children:e,disabled:n,component:r}=t,{getPrefixCls:i}=g.useContext(Wt),o=g.useRef(null),a=i("wave"),[,s]=sQ(a),l=hQ(o,ye(a,s),r);if(se.useEffect(()=>{const u=o.current;if(!u||u.nodeType!==1||n)return;const d=f=>{!Hw(f.target)||!u.getAttribute||u.getAttribute("disabled")||u.disabled||u.className.includes("disabled")||u.className.includes("-leave")||l(f)};return u.addEventListener("click",d,!0),()=>{u.removeEventListener("click",d,!0)}},[n]),!se.isValidElement(e))return e??null;const c=ou(e)?mo(e.ref,o):o;return _i(e,{ref:c})},mQ=pQ,gQ=t=>{const e=se.useContext(R5);return se.useMemo(()=>t?typeof t=="string"?t??e:t instanceof Function?t(e):e:e,[t,e])},ra=gQ,vQ=t=>{const{componentCls:e}=t;return{[e]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},yQ=vQ,xQ=t=>{const{componentCls:e}=t;return{[e]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${e}-item:empty`]:{display:"none"}}}},SQ=t=>{const{componentCls:e}=t;return{[e]:{"&-gap-row-small":{rowGap:t.spaceGapSmallSize},"&-gap-row-middle":{rowGap:t.spaceGapMiddleSize},"&-gap-row-large":{rowGap:t.spaceGapLargeSize},"&-gap-col-small":{columnGap:t.spaceGapSmallSize},"&-gap-col-middle":{columnGap:t.spaceGapMiddleSize},"&-gap-col-large":{columnGap:t.spaceGapLargeSize}}}},T$=lr("Space",t=>{const e=pn(t,{spaceGapSmallSize:t.paddingXS,spaceGapMiddleSize:t.padding,spaceGapLargeSize:t.paddingLG});return[xQ(e),SQ(e),yQ(e)]},()=>({}),{resetStyle:!1});var M$=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const O5=g.createContext(null),Hp=(t,e)=>{const n=g.useContext(O5),r=g.useMemo(()=>{if(!n)return"";const{compactDirection:i,isFirstItem:o,isLastItem:a}=n,s=i==="vertical"?"-vertical-":"-";return ye(`${t}-compact${s}item`,{[`${t}-compact${s}first-item`]:o,[`${t}-compact${s}last-item`]:a,[`${t}-compact${s}item-rtl`]:e==="rtl"})},[t,e,n]);return{compactSize:n?.compactSize,compactDirection:n?.compactDirection,compactItemClassnames:r}},tp=t=>{let{children:e}=t;return g.createElement(O5.Provider,{value:null},e)},bQ=t=>{var{children:e}=t,n=M$(t,["children"]);return g.createElement(O5.Provider,{value:n},e)},wQ=t=>{const{getPrefixCls:e,direction:n}=g.useContext(Wt),{size:r,direction:i,block:o,prefixCls:a,className:s,rootClassName:l,children:c}=t,u=M$(t,["size","direction","block","prefixCls","className","rootClassName","children"]),d=ra(S=>r??S),f=e("space-compact",a),[p,y]=T$(f),b=ye(f,y,{[`${f}-rtl`]:n==="rtl",[`${f}-block`]:o,[`${f}-vertical`]:i==="vertical"},s,l),x=g.useContext(O5),v=No(c),w=g.useMemo(()=>v.map((S,C)=>{const _=S&&S.key||`${f}-item-${C}`;return g.createElement(bQ,{key:_,compactSize:d,compactDirection:i,isFirstItem:C===0&&(!x||x?.isFirstItem),isLastItem:C===v.length-1&&(!x||x?.isLastItem)},S)}),[r,v,x]);return v.length===0?null:p(g.createElement("div",Object.assign({className:b},u),w))},CQ=wQ;var EQ=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const R$=g.createContext(void 0),_Q=t=>{const{getPrefixCls:e,direction:n}=g.useContext(Wt),{prefixCls:r,size:i,className:o}=t,a=EQ(t,["prefixCls","size","className"]),s=e("btn-group",r),[,,l]=Fa();let c="";switch(i){case"large":c="lg";break;case"small":c="sm";break}const u=ye(s,{[`${s}-${c}`]:c,[`${s}-rtl`]:n==="rtl"},o,l);return g.createElement(R$.Provider,{value:i},g.createElement("div",Object.assign({},a,{className:u})))},TQ=_Q,DR=/^[\u4e00-\u9fa5]{2}$/,g7=DR.test.bind(DR);function FR(t){return typeof t=="string"}function r8(t){return t==="text"||t==="link"}function MQ(t,e){if(t==null)return;const n=e?" ":"";return typeof t!="string"&&typeof t!="number"&&FR(t.type)&&g7(t.props.children)?_i(t,{children:t.props.children.split("").join(n)}):FR(t)?g7(t)?se.createElement("span",null,t.split("").join(n)):se.createElement("span",null,t):y$(t)?se.createElement("span",null,t):t}function RQ(t,e){let n=!1;const r=[];return se.Children.forEach(t,i=>{const o=typeof i,a=o==="string"||o==="number";if(n&&a){const s=r.length-1,l=r[s];r[s]=`${l}${i}`}else r.push(i);n=a}),se.Children.map(r,i=>MQ(i,e))}const AQ=g.forwardRef((t,e)=>{const{className:n,style:r,children:i,prefixCls:o}=t,a=ye(`${o}-icon`,n);return se.createElement("span",{ref:e,className:a,style:r},i)}),A$=AQ,$R=g.forwardRef((t,e)=>{let{prefixCls:n,className:r,style:i,iconClassName:o}=t;const a=ye(`${n}-loading-icon`,r);return se.createElement(A$,{prefixCls:n,className:a,style:i,ref:e},se.createElement(rg,{className:o}))}),i8=()=>({width:0,opacity:0,transform:"scale(0)"}),o8=t=>({width:t.scrollWidth,opacity:1,transform:"scale(1)"}),PQ=t=>{const{prefixCls:e,loading:n,existIcon:r,className:i,style:o}=t,a=!!n;return r?se.createElement($R,{prefixCls:e,className:i,style:o}):se.createElement(el,{visible:a,motionName:`${e}-loading-icon-motion`,removeOnLeave:!0,onAppearStart:i8,onAppearActive:o8,onEnterStart:i8,onEnterActive:o8,onLeaveStart:o8,onLeaveActive:i8},(s,l)=>{let{className:c,style:u}=s;return se.createElement($R,{prefixCls:e,className:i,style:Object.assign(Object.assign({},o),u),ref:l,iconClassName:c})})},IQ=PQ,UR=(t,e)=>({[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),NQ=t=>{const{componentCls:e,fontSize:n,lineWidth:r,groupBorderColor:i,colorErrorHover:o}=t;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:-r,[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:n}},UR(`${e}-primary`,i),UR(`${e}-danger`,o)]}},OQ=NQ,LQ=t=>{const{componentCls:e,iconCls:n,fontWeight:r}=t;return{[e]:{outline:"none",position:"relative",display:"inline-block",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:`${t.lineWidth}px ${t.lineType} transparent`,cursor:"pointer",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",lineHeight:t.lineHeight,color:t.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${e}-icon`]:{lineHeight:0},[`> ${n} + span, > span + ${n}`]:{marginInlineStart:t.marginXS},[`&:not(${e}-icon-only) > ${e}-icon`]:{[`&${e}-loading-icon, &:not(:last-child)`]:{marginInlineEnd:t.marginXS}},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},Jh(t)),[`&-icon-only${e}-compact-item`]:{flex:"none"},[`&-compact-item${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-t.lineWidth,insetInlineStart:-t.lineWidth,display:"inline-block",width:t.lineWidth,height:`calc(100% + ${t.lineWidth*2}px)`,backgroundColor:t.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-t.lineWidth,insetInlineStart:-t.lineWidth,display:"inline-block",width:`calc(100% + ${t.lineWidth*2}px)`,height:t.lineWidth,backgroundColor:t.colorPrimaryHover,content:'""'}}}}}}},Vl=(t,e,n)=>({[`&:not(:disabled):not(${t}-disabled)`]:{"&:hover":e,"&:active":n}}),DQ=t=>({minWidth:t.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),FQ=t=>({borderRadius:t.controlHeight,paddingInlineStart:t.controlHeight/2,paddingInlineEnd:t.controlHeight/2}),$Q=t=>({cursor:"not-allowed",borderColor:t.borderColorDisabled,color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,boxShadow:"none"}),ig=(t,e,n,r,i,o,a,s)=>({[`&${t}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,backgroundColor:e,borderColor:r||void 0,boxShadow:"none"},Vl(t,Object.assign({backgroundColor:e},a),Object.assign({backgroundColor:e},s))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:o||void 0}})}),Gw=t=>({[`&:disabled, &${t.componentCls}-disabled`]:Object.assign({},$Q(t))}),P$=t=>Object.assign({},Gw(t)),dy=t=>({[`&:disabled, &${t.componentCls}-disabled`]:{cursor:"not-allowed",color:t.colorTextDisabled}}),I$=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},P$(t)),{backgroundColor:t.defaultBg,borderColor:t.defaultBorderColor,color:t.defaultColor,boxShadow:t.defaultShadow}),Vl(t.componentCls,{color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),ig(t.componentCls,t.ghostBg,t.defaultGhostColor,t.defaultGhostBorderColor,t.colorTextDisabled,t.colorBorder)),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:t.colorError,borderColor:t.colorError},Vl(t.componentCls,{color:t.colorErrorHover,borderColor:t.colorErrorBorderHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),ig(t.componentCls,t.ghostBg,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder)),Gw(t))}),UQ=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},P$(t)),{color:t.primaryColor,backgroundColor:t.colorPrimary,boxShadow:t.primaryShadow}),Vl(t.componentCls,{color:t.colorTextLightSolid,backgroundColor:t.colorPrimaryHover},{color:t.colorTextLightSolid,backgroundColor:t.colorPrimaryActive})),ig(t.componentCls,t.ghostBg,t.colorPrimary,t.colorPrimary,t.colorTextDisabled,t.colorBorder,{color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({backgroundColor:t.colorError,boxShadow:t.dangerShadow,color:t.dangerColor},Vl(t.componentCls,{backgroundColor:t.colorErrorHover},{backgroundColor:t.colorErrorActive})),ig(t.componentCls,t.ghostBg,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder,{color:t.colorErrorHover,borderColor:t.colorErrorHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),Gw(t))}),kQ=t=>Object.assign(Object.assign({},I$(t)),{borderStyle:"dashed"}),BQ=t=>Object.assign(Object.assign(Object.assign({color:t.colorLink},Vl(t.componentCls,{color:t.colorLinkHover,backgroundColor:t.linkHoverBg},{color:t.colorLinkActive})),dy(t)),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign({color:t.colorError},Vl(t.componentCls,{color:t.colorErrorHover},{color:t.colorErrorActive})),dy(t))}),zQ=t=>Object.assign(Object.assign(Object.assign({},Vl(t.componentCls,{color:t.colorText,backgroundColor:t.textHoverBg},{color:t.colorText,backgroundColor:t.colorBgTextActive})),dy(t)),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign({color:t.colorError},dy(t)),Vl(t.componentCls,{color:t.colorErrorHover,backgroundColor:t.colorErrorBg},{color:t.colorErrorHover,backgroundColor:t.colorErrorBg}))}),HQ=t=>{const{componentCls:e}=t;return{[`${e}-default`]:I$(t),[`${e}-primary`]:UQ(t),[`${e}-dashed`]:kQ(t),[`${e}-link`]:BQ(t),[`${e}-text`]:zQ(t),[`${e}-ghost`]:ig(t.componentCls,t.ghostBg,t.colorBgContainer,t.colorBgContainer,t.colorTextDisabled,t.colorBorder)}},Vw=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:n,controlHeight:r,fontSize:i,lineHeight:o,lineWidth:a,borderRadius:s,buttonPaddingHorizontal:l,iconCls:c}=t,u=Math.max(0,(r-i*o)/2-a),d=`${n}-icon-only`;return[{[`${n}${e}`]:{fontSize:i,height:r,padding:`${u}px ${l}px`,borderRadius:s,[`&${d}`]:{width:r,paddingInlineStart:0,paddingInlineEnd:0,[`&${n}-round`]:{width:"auto"},[c]:{fontSize:t.buttonIconOnlyFontSize}},[`&${n}-loading`]:{opacity:t.opacityLoading,cursor:"default"},[`${n}-loading-icon`]:{transition:`width ${t.motionDurationSlow} ${t.motionEaseInOut}, opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`}}},{[`${n}${n}-circle${e}`]:DQ(t)},{[`${n}${n}-round${e}`]:FQ(t)}]},GQ=t=>Vw(pn(t,{fontSize:t.contentFontSize})),VQ=t=>{const e=pn(t,{controlHeight:t.controlHeightSM,fontSize:t.contentFontSizeSM,padding:t.paddingXS,buttonPaddingHorizontal:t.paddingInlineSM,borderRadius:t.borderRadiusSM,buttonIconOnlyFontSize:t.onlyIconSizeSM});return Vw(e,`${t.componentCls}-sm`)},WQ=t=>{const e=pn(t,{controlHeight:t.controlHeightLG,fontSize:t.contentFontSizeLG,buttonPaddingHorizontal:t.paddingInlineLG,borderRadius:t.borderRadiusLG,buttonIconOnlyFontSize:t.onlyIconSizeLG});return Vw(e,`${t.componentCls}-lg`)},jQ=t=>{const{componentCls:e}=t;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},N$=t=>{const{paddingInline:e,onlyIconSize:n}=t;return pn(t,{buttonPaddingHorizontal:e,buttonIconOnlyFontSize:n})},O$=t=>({fontWeight:400,defaultShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlTmpOutline}`,primaryShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlOutline}`,dangerShadow:`0 ${t.controlOutlineWidth}px 0 ${t.colorErrorOutline}`,primaryColor:t.colorTextLightSolid,dangerColor:t.colorTextLightSolid,borderColorDisabled:t.colorBorder,defaultGhostColor:t.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:t.colorBgContainer,paddingInline:t.paddingContentHorizontal-t.lineWidth,paddingInlineLG:t.paddingContentHorizontal-t.lineWidth,paddingInlineSM:8-t.lineWidth,onlyIconSize:t.fontSizeLG,onlyIconSizeSM:t.fontSizeLG-2,onlyIconSizeLG:t.fontSizeLG+2,groupBorderColor:t.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:t.colorBgTextHover,defaultColor:t.colorText,defaultBg:t.colorBgContainer,defaultBorderColor:t.colorBorder,defaultBorderColorDisabled:t.colorBorder,contentFontSize:t.fontSize,contentFontSizeSM:t.fontSize,contentFontSizeLG:t.fontSizeLG}),XQ=lr("Button",t=>{const e=N$(t);return[LQ(e),VQ(e),GQ(e),WQ(e),jQ(e),HQ(e),OQ(e)]},O$);function qQ(t,e,n){const{focusElCls:r,focus:i,borderElCls:o}=n,a=o?"> *":"",s=["hover",i?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${a}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:-t.lineWidth},"&-item":Object.assign(Object.assign({[s]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${a}`]:{zIndex:0}})}}function KQ(t,e,n){const{borderElCls:r}=n,i=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function L5(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:n}=t,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},qQ(t,r,e)),KQ(n,r,e))}}function YQ(t,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:-t.lineWidth},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function ZQ(t,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function QQ(t){const e=`${t.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},YQ(t,e)),ZQ(t.componentCls,e))}}const JQ=uY(["Button","compact"],t=>{const e=N$(t);return[L5(e),QQ(e)]},O$);var eJ=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function tJ(t){if(typeof t=="object"&&t){const e=t?.delay;return{loading:!1,delay:!Number.isNaN(e)&&typeof e=="number"?e:0}}return{loading:!!t,delay:0}}const nJ=(t,e)=>{var n,r;const{loading:i=!1,prefixCls:o,type:a="default",danger:s,shape:l="default",size:c,styles:u,disabled:d,className:f,rootClassName:p,children:y,icon:b,ghost:x=!1,block:v=!1,htmlType:w="button",classNames:S,style:C={}}=t,_=eJ(t,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","ghost","block","htmlType","classNames","style"]),{getPrefixCls:T,autoInsertSpaceInButton:M,direction:I,button:R}=g.useContext(Wt),P=T("btn",o),[L,k]=XQ(P),H=g.useContext(Hd),D=d??H,G=g.useContext(R$),B=g.useMemo(()=>tJ(i),[i]),[$,O]=g.useState(B.loading),[z,V]=g.useState(!1),W=mo(e,g.createRef()),q=g.Children.count(y)===1&&!b&&!r8(a);g.useEffect(()=>{let Ae=null;B.delay>0?Ae=setTimeout(()=>{Ae=null,O(!0)},B.delay):O(B.loading);function Le(){Ae&&(clearTimeout(Ae),Ae=null)}return Le},[B]),g.useEffect(()=>{if(!W||!W.current||M===!1)return;const Ae=W.current.textContent;q&&g7(Ae)?z||V(!0):z&&V(!1)},[W]);const Z=Ae=>{const{onClick:Le}=t;if($||D){Ae.preventDefault();return}Le?.(Ae)},ee=M!==!1,{compactSize:oe,compactItemClassnames:re}=Hp(P,I),ce={large:"lg",small:"sm",middle:void 0},Se=ra(Ae=>{var Le,Je;return(Je=(Le=c??oe)!==null&&Le!==void 0?Le:G)!==null&&Je!==void 0?Je:Ae}),Pe=Se&&ce[Se]||"",xe=$?"loading":b,X=Yr(_,["navigate"]),fe=ye(P,k,{[`${P}-${l}`]:l!=="default"&&l,[`${P}-${a}`]:a,[`${P}-${Pe}`]:Pe,[`${P}-icon-only`]:!y&&y!==0&&!!xe,[`${P}-background-ghost`]:x&&!r8(a),[`${P}-loading`]:$,[`${P}-two-chinese-chars`]:z&&ee&&!$,[`${P}-block`]:v,[`${P}-dangerous`]:!!s,[`${P}-rtl`]:I==="rtl"},re,f,p,R?.className),pe=Object.assign(Object.assign({},R?.style),C),Ce=ye(S?.icon,(n=R?.classNames)===null||n===void 0?void 0:n.icon),me=Object.assign(Object.assign({},u?.icon||{}),((r=R?.styles)===null||r===void 0?void 0:r.icon)||{}),Ge=b&&!$?se.createElement(A$,{prefixCls:P,className:Ce,style:me},b):se.createElement(IQ,{existIcon:!!b,prefixCls:P,loading:!!$}),ve=y||y===0?RQ(y,q&&ee):null;if(X.href!==void 0)return L(se.createElement("a",Object.assign({},X,{className:ye(fe,{[`${P}-disabled`]:D}),style:pe,onClick:Z,ref:W}),Ge,ve));let Re=se.createElement("button",Object.assign({},_,{type:w,className:fe,style:pe,onClick:Z,disabled:D,ref:W}),Ge,ve,re&&se.createElement(JQ,{key:"compact",prefixCls:P}));return r8(a)||(Re=se.createElement(mQ,{component:"Button",disabled:!!$},Re)),L(Re)},Ww=g.forwardRef(nJ);Ww.Group=TQ;Ww.__ANT_BUTTON=!0;const wa=Ww;var L$=g.createContext(null),kR=[];function rJ(t,e){var n=g.useState(function(){if(!$i())return null;var y=document.createElement("div");return y}),r=Ne(n,1),i=r[0],o=g.useRef(!1),a=g.useContext(L$),s=g.useState(kR),l=Ne(s,2),c=l[0],u=l[1],d=a||(o.current?void 0:function(y){u(function(b){var x=[y].concat(mt(b));return x})});function f(){i.parentElement||document.body.appendChild(i),o.current=!0}function p(){var y;(y=i.parentElement)===null||y===void 0||y.removeChild(i),o.current=!1}return Yn(function(){return t?a?a(f):f():p(),p},[t]),Yn(function(){c.length&&(c.forEach(function(y){return y()}),u(kR))},[c]),[i,d]}var a8;function iJ(t){if(typeof document>"u")return 0;if(t||a8===void 0){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(e),document.body.appendChild(n);var i=e.offsetWidth;n.style.overflow="scroll";var o=e.offsetWidth;i===o&&(o=n.clientWidth),document.body.removeChild(n),a8=i-o}return a8}function BR(t){var e=t.match(/^(.*)px$/),n=Number(e?.[1]);return Number.isNaN(n)?iJ():n}function oJ(t){if(typeof document>"u"||!t||!(t instanceof Element))return{width:0,height:0};var e=getComputedStyle(t,"::-webkit-scrollbar"),n=e.width,r=e.height;return{width:BR(n),height:BR(r)}}function aJ(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var sJ="rc-util-locker-".concat(Date.now()),zR=0;function lJ(t){var e=!!t,n=g.useState(function(){return zR+=1,"".concat(sJ,"_").concat(zR)}),r=Ne(n,1),i=r[0];Yn(function(){if(e){var o=oJ(document.body).width,a=aJ();Yh(`
html body {
  overflow-y: hidden;
  `.concat(a?"width: calc(100% - ".concat(o,"px);"):"",`
}`),i)}else oy(i);return function(){oy(i)}},[e,i])}var HR=!1;function cJ(t){return typeof t=="boolean"&&(HR=t),HR}var GR=function(e){return e===!1?!1:!$i()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},D$=g.forwardRef(function(t,e){var n=t.open,r=t.autoLock,i=t.getContainer;t.debug;var o=t.autoDestroy,a=o===void 0?!0:o,s=t.children,l=g.useState(n),c=Ne(l,2),u=c[0],d=c[1],f=u||n;g.useEffect(function(){(a||n)&&d(n)},[n,a]);var p=g.useState(function(){return GR(i)}),y=Ne(p,2),b=y[0],x=y[1];g.useEffect(function(){var L=GR(i);x(L??null)});var v=rJ(f&&!b),w=Ne(v,2),S=w[0],C=w[1],_=b??S;lJ(r&&n&&$i()&&(_===S||_===document.body));var T=null;if(s&&ou(s)&&e){var M=s;T=M.ref}var I=Wg(T,e);if(!f||!$i()||b===void 0)return null;var R=_===!1||cJ(),P=s;return e&&(P=g.cloneElement(s,{ref:I})),g.createElement(L$.Provider,{value:C},R?P:Na.createPortal(P,_))});function uJ(){var t=be({},qy);return t.useId}var VR=0;function dJ(t){var e=g.useState("ssr-id"),n=Ne(e,2),r=n[0],i=n[1],o=uJ(),a=o?.();return g.useEffect(function(){if(!o){var s=VR;VR+=1,i("rc_unique_".concat(s))}},[]),t||a||r}var F$=function(e){if($i()&&window.document.documentElement){var n=Array.isArray(e)?e:[e],r=window.document.documentElement;return n.some(function(i){return i in r.style})}return!1},fJ=function(e,n){if(!F$(e))return!1;var r=document.createElement("div"),i=r.style[e];return r.style[e]=n,r.style[e]!==i};function WR(t,e){return!Array.isArray(t)&&e!==void 0?fJ(t,e):F$(t)}var Ku="RC_FORM_INTERNAL_HOOKS",ir=function(){hi(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},np=g.createContext({getFieldValue:ir,getFieldsValue:ir,getFieldError:ir,getFieldWarning:ir,getFieldsError:ir,isFieldsTouched:ir,isFieldTouched:ir,isFieldValidating:ir,isFieldsValidating:ir,resetFields:ir,setFields:ir,setFieldValue:ir,setFieldsValue:ir,validateFields:ir,submit:ir,getInternalHooks:function(){return ir(),{dispatch:ir,initEntityValue:ir,registerField:ir,useSubscribe:ir,setInitialValues:ir,destroyForm:ir,setCallbacks:ir,registerWatch:ir,getFields:ir,setValidateMessages:ir,setPreserve:ir,getInitialValue:ir}}}),fy=g.createContext(null);function v7(t){return t==null?[]:Array.isArray(t)?t:[t]}function hJ(t){return t&&!!t._init}function Yu(){return Yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yu.apply(this,arguments)}function pJ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,og(t,e)}function y7(t){return y7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},y7(t)}function og(t,e){return og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},og(t,e)}function mJ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v2(t,e,n){return mJ()?v2=Reflect.construct.bind():v2=function(i,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(i,s),c=new l;return a&&og(c,a.prototype),c},v2.apply(null,arguments)}function gJ(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function x7(t){var e=typeof Map=="function"?new Map:void 0;return x7=function(r){if(r===null||!gJ(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return v2(r,arguments,y7(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),og(i,r)},x7(t)}var vJ=/%[sdj%]/g,yJ=function(){};typeof process<"u"&&process.env;function S7(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function qo(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var a=t.replace(vJ,function(s){if(s==="%%")return"%";if(i>=o)return s;switch(s){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return s}});return a}return t}function xJ(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function pi(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||xJ(e)&&typeof t=="string"&&!t)}function SJ(t,e,n){var r=[],i=0,o=t.length;function a(s){r.push.apply(r,s||[]),i++,i===o&&n(r)}t.forEach(function(s){e(s,a)})}function jR(t,e,n){var r=0,i=t.length;function o(a){if(a&&a.length){n(a);return}var s=r;r=r+1,s<i?e(t[s],o):n([])}o([])}function bJ(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var XR=function(t){pJ(e,t);function e(n,r){var i;return i=t.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return e}(x7(Error));function wJ(t,e,n,r,i){if(e.first){var o=new Promise(function(f,p){var y=function(v){return r(v),v.length?p(new XR(v,S7(v))):f(i)},b=bJ(t);jR(b,n,y)});return o.catch(function(f){return f}),o}var a=e.firstFields===!0?Object.keys(t):e.firstFields||[],s=Object.keys(t),l=s.length,c=0,u=[],d=new Promise(function(f,p){var y=function(x){if(u.push.apply(u,x),c++,c===l)return r(u),u.length?p(new XR(u,S7(u))):f(i)};s.length||(r(u),f(i)),s.forEach(function(b){var x=t[b];a.indexOf(b)!==-1?jR(x,n,y):SJ(x,n,y)})});return d.catch(function(f){return f}),d}function CJ(t){return!!(t&&t.message!==void 0)}function EJ(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function qR(t,e){return function(n){var r;return t.fullFields?r=EJ(e,t.fullFields):r=e[n.field||t.fullField],CJ(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function KR(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=Yu({},t[n],r):t[n]=r}}return t}var $$=function(e,n,r,i,o,a){e.required&&(!r.hasOwnProperty(e.field)||pi(n,a||e.type))&&i.push(qo(o.messages.required,e.fullField))},_J=function(e,n,r,i,o){(/^\s+$/.test(n)||n==="")&&i.push(qo(o.messages.whitespace,e.fullField))},Gv,TJ=function(){if(Gv)return Gv;var t="[a-fA-F\\d:]",e=function(C){return C&&C.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),a=new RegExp("^"+n+"$"),s=new RegExp("^"+i+"$"),l=function(C){return C&&C.exact?o:new RegExp("(?:"+e(C)+n+e(C)+")|(?:"+e(C)+i+e(C)+")","g")};l.v4=function(S){return S&&S.exact?a:new RegExp(""+e(S)+n+e(S),"g")},l.v6=function(S){return S&&S.exact?s:new RegExp(""+e(S)+i+e(S),"g")};var c="(?:(?:[a-z]+:)?//)",u="(?:\\S+(?::\\S*)?@)?",d=l.v4().source,f=l.v6().source,p="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",y="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",b="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",x="(?::\\d{2,5})?",v='(?:[/?#][^\\s"]*)?',w="(?:"+c+"|www\\.)"+u+"(?:localhost|"+d+"|"+f+"|"+p+y+b+")"+x+v;return Gv=new RegExp("(?:^"+w+"$)","i"),Gv},YR={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},om={integer:function(e){return om.number(e)&&parseInt(e,10)===e},float:function(e){return om.number(e)&&!om.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!om.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(YR.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(TJ())},hex:function(e){return typeof e=="string"&&!!e.match(YR.hex)}},MJ=function(e,n,r,i,o){if(e.required&&n===void 0){$$(e,n,r,i,o);return}var a=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=e.type;a.indexOf(s)>-1?om[s](n)||i.push(qo(o.messages.types[s],e.fullField,e.type)):s&&typeof n!==e.type&&i.push(qo(o.messages.types[s],e.fullField,e.type))},RJ=function(e,n,r,i,o){var a=typeof e.len=="number",s=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=n,d=null,f=typeof n=="number",p=typeof n=="string",y=Array.isArray(n);if(f?d="number":p?d="string":y&&(d="array"),!d)return!1;y&&(u=n.length),p&&(u=n.replace(c,"_").length),a?u!==e.len&&i.push(qo(o.messages[d].len,e.fullField,e.len)):s&&!l&&u<e.min?i.push(qo(o.messages[d].min,e.fullField,e.min)):l&&!s&&u>e.max?i.push(qo(o.messages[d].max,e.fullField,e.max)):s&&l&&(u<e.min||u>e.max)&&i.push(qo(o.messages[d].range,e.fullField,e.min,e.max))},gf="enum",AJ=function(e,n,r,i,o){e[gf]=Array.isArray(e[gf])?e[gf]:[],e[gf].indexOf(n)===-1&&i.push(qo(o.messages[gf],e.fullField,e[gf].join(", ")))},PJ=function(e,n,r,i,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push(qo(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var a=new RegExp(e.pattern);a.test(n)||i.push(qo(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},On={required:$$,whitespace:_J,type:MJ,range:RJ,enum:AJ,pattern:PJ},IJ=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(pi(n,"string")&&!e.required)return r();On.required(e,n,i,a,o,"string"),pi(n,"string")||(On.type(e,n,i,a,o),On.range(e,n,i,a,o),On.pattern(e,n,i,a,o),e.whitespace===!0&&On.whitespace(e,n,i,a,o))}r(a)},NJ=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(pi(n)&&!e.required)return r();On.required(e,n,i,a,o),n!==void 0&&On.type(e,n,i,a,o)}r(a)},OJ=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(n===""&&(n=void 0),pi(n)&&!e.required)return r();On.required(e,n,i,a,o),n!==void 0&&(On.type(e,n,i,a,o),On.range(e,n,i,a,o))}r(a)},LJ=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(pi(n)&&!e.required)return r();On.required(e,n,i,a,o),n!==void 0&&On.type(e,n,i,a,o)}r(a)},DJ=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(pi(n)&&!e.required)return r();On.required(e,n,i,a,o),pi(n)||On.type(e,n,i,a,o)}r(a)},FJ=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(pi(n)&&!e.required)return r();On.required(e,n,i,a,o),n!==void 0&&(On.type(e,n,i,a,o),On.range(e,n,i,a,o))}r(a)},$J=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(pi(n)&&!e.required)return r();On.required(e,n,i,a,o),n!==void 0&&(On.type(e,n,i,a,o),On.range(e,n,i,a,o))}r(a)},UJ=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(n==null&&!e.required)return r();On.required(e,n,i,a,o,"array"),n!=null&&(On.type(e,n,i,a,o),On.range(e,n,i,a,o))}r(a)},kJ=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(pi(n)&&!e.required)return r();On.required(e,n,i,a,o),n!==void 0&&On.type(e,n,i,a,o)}r(a)},BJ="enum",zJ=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(pi(n)&&!e.required)return r();On.required(e,n,i,a,o),n!==void 0&&On[BJ](e,n,i,a,o)}r(a)},HJ=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(pi(n,"string")&&!e.required)return r();On.required(e,n,i,a,o),pi(n,"string")||On.pattern(e,n,i,a,o)}r(a)},GJ=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(pi(n,"date")&&!e.required)return r();if(On.required(e,n,i,a,o),!pi(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),On.type(e,l,i,a,o),l&&On.range(e,l.getTime(),i,a,o)}}r(a)},VJ=function(e,n,r,i,o){var a=[],s=Array.isArray(n)?"array":typeof n;On.required(e,n,i,a,o,s),r(a)},s8=function(e,n,r,i,o){var a=e.type,s=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(pi(n,a)&&!e.required)return r();On.required(e,n,i,s,o,a),pi(n,a)||On.type(e,n,i,s,o)}r(s)},WJ=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(pi(n)&&!e.required)return r();On.required(e,n,i,a,o)}r(a)},Em={string:IJ,method:NJ,number:OJ,boolean:LJ,regexp:DJ,integer:FJ,float:$J,array:UJ,object:kJ,enum:zJ,pattern:HJ,date:GJ,url:s8,hex:s8,email:s8,required:VJ,any:WJ};function b7(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var w7=b7(),Yg=function(){function t(n){this.rules=null,this._messages=w7,this.define(n)}var e=t.prototype;return e.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(o){var a=r[o];i.rules[o]=Array.isArray(a)?a:[a]})},e.messages=function(r){return r&&(this._messages=KR(b7(),r)),this._messages},e.validate=function(r,i,o){var a=this;i===void 0&&(i={}),o===void 0&&(o=function(){});var s=r,l=i,c=o;if(typeof l=="function"&&(c=l,l={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,s),Promise.resolve(s);function u(b){var x=[],v={};function w(C){if(Array.isArray(C)){var _;x=(_=x).concat.apply(_,C)}else x.push(C)}for(var S=0;S<b.length;S++)w(b[S]);x.length?(v=S7(x),c(x,v)):c(null,s)}if(l.messages){var d=this.messages();d===w7&&(d=b7()),KR(d,l.messages),l.messages=d}else l.messages=this.messages();var f={},p=l.keys||Object.keys(this.rules);p.forEach(function(b){var x=a.rules[b],v=s[b];x.forEach(function(w){var S=w;typeof S.transform=="function"&&(s===r&&(s=Yu({},s)),v=s[b]=S.transform(v)),typeof S=="function"?S={validator:S}:S=Yu({},S),S.validator=a.getValidationMethod(S),S.validator&&(S.field=b,S.fullField=S.fullField||b,S.type=a.getType(S),f[b]=f[b]||[],f[b].push({rule:S,value:v,source:s,field:b}))})});var y={};return wJ(f,l,function(b,x){var v=b.rule,w=(v.type==="object"||v.type==="array")&&(typeof v.fields=="object"||typeof v.defaultField=="object");w=w&&(v.required||!v.required&&b.value),v.field=b.field;function S(T,M){return Yu({},M,{fullField:v.fullField+"."+T,fullFields:v.fullFields?[].concat(v.fullFields,[T]):[T]})}function C(T){T===void 0&&(T=[]);var M=Array.isArray(T)?T:[T];!l.suppressWarning&&M.length&&t.warning("async-validator:",M),M.length&&v.message!==void 0&&(M=[].concat(v.message));var I=M.map(qR(v,s));if(l.first&&I.length)return y[v.field]=1,x(I);if(!w)x(I);else{if(v.required&&!b.value)return v.message!==void 0?I=[].concat(v.message).map(qR(v,s)):l.error&&(I=[l.error(v,qo(l.messages.required,v.field))]),x(I);var R={};v.defaultField&&Object.keys(b.value).map(function(k){R[k]=v.defaultField}),R=Yu({},R,b.rule.fields);var P={};Object.keys(R).forEach(function(k){var H=R[k],D=Array.isArray(H)?H:[H];P[k]=D.map(S.bind(null,k))});var L=new t(P);L.messages(l.messages),b.rule.options&&(b.rule.options.messages=l.messages,b.rule.options.error=l.error),L.validate(b.value,b.rule.options||l,function(k){var H=[];I&&I.length&&H.push.apply(H,I),k&&k.length&&H.push.apply(H,k),x(H.length?H:null)})}}var _;if(v.asyncValidator)_=v.asyncValidator(v,b.value,C,b.source,l);else if(v.validator){try{_=v.validator(v,b.value,C,b.source,l)}catch(T){console.error?.(T),l.suppressValidatorError||setTimeout(function(){throw T},0),C(T.message)}_===!0?C():_===!1?C(typeof v.message=="function"?v.message(v.fullField||v.field):v.message||(v.fullField||v.field)+" fails"):_ instanceof Array?C(_):_ instanceof Error&&C(_.message)}_&&_.then&&_.then(function(){return C()},function(T){return C(T)})},function(b){u(b)},s)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Em.hasOwnProperty(r.type))throw new Error(qo("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),o=i.indexOf("message");return o!==-1&&i.splice(o,1),i.length===1&&i[0]==="required"?Em.required:Em[this.getType(r)]||void 0},t}();Yg.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Em[e]=n};Yg.warning=yJ;Yg.messages=w7;Yg.validators=Em;var zo="'${name}' is not a valid ${type}",U$={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:zo,method:zo,array:zo,object:zo,number:zo,date:zo,boolean:zo,integer:zo,float:zo,regexp:zo,email:zo,url:zo,hex:zo},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},ZR=Yg;function jJ(t,e){return t.replace(/\$\{\w+\}/g,function(n){var r=n.slice(2,-1);return e[r]})}var QR="CODE_LOGIC_ERROR";function C7(t,e,n,r,i){return E7.apply(this,arguments)}function E7(){return E7=su(Ui().mark(function t(e,n,r,i,o){var a,s,l,c,u,d,f,p,y;return Ui().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return a=be({},r),delete a.ruleIndex,ZR.warning=function(){},a.validator&&(s=a.validator,a.validator=function(){try{return s.apply(void 0,arguments)}catch(v){return console.error(v),Promise.reject(QR)}}),l=null,a&&a.type==="array"&&a.defaultField&&(l=a.defaultField,delete a.defaultField),c=new ZR(ie({},e,[a])),u=vh(U$,i.validateMessages),c.messages(u),d=[],x.prev=10,x.next=13,Promise.resolve(c.validate(ie({},e,n),be({},i)));case 13:x.next=18;break;case 15:x.prev=15,x.t0=x.catch(10),x.t0.errors&&(d=x.t0.errors.map(function(v,w){var S=v.message,C=S===QR?u.default:S;return g.isValidElement(C)?g.cloneElement(C,{key:"error_".concat(w)}):C}));case 18:if(!(!d.length&&l)){x.next=23;break}return x.next=21,Promise.all(n.map(function(v,w){return C7("".concat(e,".").concat(w),v,l,i,o)}));case 21:return f=x.sent,x.abrupt("return",f.reduce(function(v,w){return[].concat(mt(v),mt(w))},[]));case 23:return p=be(be({},r),{},{name:e,enum:(r.enum||[]).join(", ")},o),y=d.map(function(v){return typeof v=="string"?jJ(v,p):v}),x.abrupt("return",y);case 26:case"end":return x.stop()}},t,null,[[10,15]])})),E7.apply(this,arguments)}function XJ(t,e,n,r,i,o){var a=t.join("."),s=n.map(function(u,d){var f=u.validator,p=be(be({},u),{},{ruleIndex:d});return f&&(p.validator=function(y,b,x){var v=!1,w=function(){for(var _=arguments.length,T=new Array(_),M=0;M<_;M++)T[M]=arguments[M];Promise.resolve().then(function(){hi(!v,"Your validator function has already return a promise. `callback` will be ignored."),v||x.apply(void 0,T)})},S=f(y,b,w);v=S&&typeof S.then=="function"&&typeof S.catch=="function",hi(v,"`callback` is deprecated. Please return a promise instead."),v&&S.then(function(){x()}).catch(function(C){x(C||" ")})}),p}).sort(function(u,d){var f=u.warningOnly,p=u.ruleIndex,y=d.warningOnly,b=d.ruleIndex;return!!f==!!y?p-b:f?1:-1}),l;if(i===!0)l=new Promise(function(){var u=su(Ui().mark(function d(f,p){var y,b,x;return Ui().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:y=0;case 1:if(!(y<s.length)){w.next=12;break}return b=s[y],w.next=5,C7(a,e,b,r,o);case 5:if(x=w.sent,!x.length){w.next=9;break}return p([{errors:x,rule:b}]),w.abrupt("return");case 9:y+=1,w.next=1;break;case 12:f([]);case 13:case"end":return w.stop()}},d)}));return function(d,f){return u.apply(this,arguments)}}());else{var c=s.map(function(u){return C7(a,e,u,r,o).then(function(d){return{errors:d,rule:u}})});l=(i?KJ(c):qJ(c)).then(function(u){return Promise.reject(u)})}return l.catch(function(u){return u}),l}function qJ(t){return _7.apply(this,arguments)}function _7(){return _7=su(Ui().mark(function t(e){return Ui().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(e).then(function(i){var o,a=(o=[]).concat.apply(o,mt(i));return a}));case 1:case"end":return r.stop()}},t)})),_7.apply(this,arguments)}function KJ(t){return T7.apply(this,arguments)}function T7(){return T7=su(Ui().mark(function t(e){var n;return Ui().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=0,i.abrupt("return",new Promise(function(o){e.forEach(function(a){a.then(function(s){s.errors.length&&o([s]),n+=1,n===e.length&&o([])})})}));case 2:case"end":return i.stop()}},t)})),T7.apply(this,arguments)}function Wr(t){return v7(t)}function JR(t,e){var n={};return e.forEach(function(r){var i=ts(t,r);n=Ka(n,r,i)}),n}function $h(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return t&&t.some(function(r){return k$(e,r,n)})}function k$(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!t||!e||!n&&t.length!==e.length?!1:e.every(function(r,i){return t[i]===r})}function YJ(t,e){if(t===e)return!0;if(!t&&e||t&&!e||!t||!e||Xt(t)!=="object"||Xt(e)!=="object")return!1;var n=Object.keys(t),r=Object.keys(e),i=new Set([].concat(n,r));return mt(i).every(function(o){var a=t[o],s=e[o];return typeof a=="function"&&typeof s=="function"?!0:a===s})}function ZJ(t){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&Xt(e.target)==="object"&&t in e.target?e.target[t]:e}function eA(t,e,n){var r=t.length;if(e<0||e>=r||n<0||n>=r)return t;var i=t[e],o=e-n;return o>0?[].concat(mt(t.slice(0,n)),[i],mt(t.slice(n,e)),mt(t.slice(e+1,r))):o<0?[].concat(mt(t.slice(0,e)),mt(t.slice(e+1,n+1)),[i],mt(t.slice(n+1,r))):t}var QJ=["name"],pa=[];function tA(t,e,n,r,i,o){return typeof t=="function"?t(e,n,"source"in o?{source:o.source}:{}):r!==i}var jw=function(t){Qs(n,t);var e=Js(n);function n(r){var i;if(ii(this,n),i=e.call(this,r),ie(kn(i),"state",{resetCount:0}),ie(kn(i),"cancelRegisterFunc",null),ie(kn(i),"mounted",!1),ie(kn(i),"touched",!1),ie(kn(i),"dirty",!1),ie(kn(i),"validatePromise",void 0),ie(kn(i),"prevValidating",void 0),ie(kn(i),"errors",pa),ie(kn(i),"warnings",pa),ie(kn(i),"cancelRegister",function(){var l=i.props,c=l.preserve,u=l.isListField,d=l.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(u,c,Wr(d)),i.cancelRegisterFunc=null}),ie(kn(i),"getNamePath",function(){var l=i.props,c=l.name,u=l.fieldContext,d=u.prefixName,f=d===void 0?[]:d;return c!==void 0?[].concat(mt(f),mt(c)):[]}),ie(kn(i),"getRules",function(){var l=i.props,c=l.rules,u=c===void 0?[]:c,d=l.fieldContext;return u.map(function(f){return typeof f=="function"?f(d):f})}),ie(kn(i),"refresh",function(){i.mounted&&i.setState(function(l){var c=l.resetCount;return{resetCount:c+1}})}),ie(kn(i),"metaCache",null),ie(kn(i),"triggerMetaEvent",function(l){var c=i.props.onMetaChange;if(c){var u=be(be({},i.getMeta()),{},{destroy:l});b5(i.metaCache,u)||c(u),i.metaCache=u}else i.metaCache=null}),ie(kn(i),"onStoreChange",function(l,c,u){var d=i.props,f=d.shouldUpdate,p=d.dependencies,y=p===void 0?[]:p,b=d.onReset,x=u.store,v=i.getNamePath(),w=i.getValue(l),S=i.getValue(x),C=c&&$h(c,v);switch(u.type==="valueUpdate"&&u.source==="external"&&w!==S&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=pa,i.warnings=pa,i.triggerMetaEvent()),u.type){case"reset":if(!c||C){i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=pa,i.warnings=pa,i.triggerMetaEvent(),b?.(),i.refresh();return}break;case"remove":{if(f){i.reRender();return}break}case"setField":{var _=u.data;if(C){"touched"in _&&(i.touched=_.touched),"validating"in _&&!("originRCField"in _)&&(i.validatePromise=_.validating?Promise.resolve([]):null),"errors"in _&&(i.errors=_.errors||pa),"warnings"in _&&(i.warnings=_.warnings||pa),i.dirty=!0,i.triggerMetaEvent(),i.reRender();return}else if("value"in _&&$h(c,v,!0)){i.reRender();return}if(f&&!v.length&&tA(f,l,x,w,S,u)){i.reRender();return}break}case"dependenciesUpdate":{var T=y.map(Wr);if(T.some(function(M){return $h(u.relatedFields,M)})){i.reRender();return}break}default:if(C||(!y.length||v.length||f)&&tA(f,l,x,w,S,u)){i.reRender();return}break}f===!0&&i.reRender()}),ie(kn(i),"validateRules",function(l){var c=i.getNamePath(),u=i.getValue(),d=l||{},f=d.triggerName,p=d.validateOnly,y=p===void 0?!1:p,b=Promise.resolve().then(su(Ui().mark(function x(){var v,w,S,C,_,T,M;return Ui().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(i.mounted){R.next=2;break}return R.abrupt("return",[]);case 2:if(v=i.props,w=v.validateFirst,S=w===void 0?!1:w,C=v.messageVariables,_=v.validateDebounce,T=i.getRules(),f&&(T=T.filter(function(P){return P}).filter(function(P){var L=P.validateTrigger;if(!L)return!0;var k=v7(L);return k.includes(f)})),!(_&&f)){R.next=10;break}return R.next=8,new Promise(function(P){setTimeout(P,_)});case 8:if(i.validatePromise===b){R.next=10;break}return R.abrupt("return",[]);case 10:return M=XJ(c,u,T,l,S,C),M.catch(function(P){return P}).then(function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pa;if(i.validatePromise===b){var L;i.validatePromise=null;var k=[],H=[];(L=P.forEach)===null||L===void 0||L.call(P,function(D){var G=D.rule.warningOnly,B=D.errors,$=B===void 0?pa:B;G?H.push.apply(H,mt($)):k.push.apply(k,mt($))}),i.errors=k,i.warnings=H,i.triggerMetaEvent(),i.reRender()}}),R.abrupt("return",M);case 13:case"end":return R.stop()}},x)})));return y||(i.validatePromise=b,i.dirty=!0,i.errors=pa,i.warnings=pa,i.triggerMetaEvent(),i.reRender()),b}),ie(kn(i),"isFieldValidating",function(){return!!i.validatePromise}),ie(kn(i),"isFieldTouched",function(){return i.touched}),ie(kn(i),"isFieldDirty",function(){if(i.dirty||i.props.initialValue!==void 0)return!0;var l=i.props.fieldContext,c=l.getInternalHooks(Ku),u=c.getInitialValue;return u(i.getNamePath())!==void 0}),ie(kn(i),"getErrors",function(){return i.errors}),ie(kn(i),"getWarnings",function(){return i.warnings}),ie(kn(i),"isListField",function(){return i.props.isListField}),ie(kn(i),"isList",function(){return i.props.isList}),ie(kn(i),"isPreserve",function(){return i.props.preserve}),ie(kn(i),"getMeta",function(){i.prevValidating=i.isFieldValidating();var l={touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:i.validatePromise===null};return l}),ie(kn(i),"getOnlyChild",function(l){if(typeof l=="function"){var c=i.getMeta();return be(be({},i.getOnlyChild(l(i.getControlled(),c,i.props.fieldContext))),{},{isFunction:!0})}var u=No(l);return u.length!==1||!g.isValidElement(u[0])?{child:u,isFunction:!1}:{child:u[0],isFunction:!1}}),ie(kn(i),"getValue",function(l){var c=i.props.fieldContext.getFieldsValue,u=i.getNamePath();return ts(l||c(!0),u)}),ie(kn(i),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=i.props,u=c.trigger,d=c.validateTrigger,f=c.getValueFromEvent,p=c.normalize,y=c.valuePropName,b=c.getValueProps,x=c.fieldContext,v=d!==void 0?d:x.validateTrigger,w=i.getNamePath(),S=x.getInternalHooks,C=x.getFieldsValue,_=S(Ku),T=_.dispatch,M=i.getValue(),I=b||function(k){return ie({},y,k)},R=l[u],P=be(be({},l),I(M));P[u]=function(){i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var k,H=arguments.length,D=new Array(H),G=0;G<H;G++)D[G]=arguments[G];f?k=f.apply(void 0,D):k=ZJ.apply(void 0,[y].concat(D)),p&&(k=p(k,M,C(!0))),T({type:"updateValue",namePath:w,value:k}),R&&R.apply(void 0,D)};var L=v7(v||[]);return L.forEach(function(k){var H=P[k];P[k]=function(){H&&H.apply(void 0,arguments);var D=i.props.rules;D&&D.length&&T({type:"validateField",namePath:w,triggerName:k})}}),P}),r.fieldContext){var o=r.fieldContext.getInternalHooks,a=o(Ku),s=a.initEntityValue;s(kn(i))}return i}return oi(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.shouldUpdate,a=i.fieldContext;if(this.mounted=!0,a){var s=a.getInternalHooks,l=s(Ku),c=l.registerField;this.cancelRegisterFunc=c(this)}o===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var i=this.state.resetCount,o=this.props.children,a=this.getOnlyChild(o),s=a.child,l=a.isFunction,c;return l?c=s:g.isValidElement(s)?c=g.cloneElement(s,this.getControlled(s.props)):(hi(!s,"`children` of Field is not validate ReactElement."),c=s),g.createElement(g.Fragment,{key:i},c)}}]),n}(g.Component);ie(jw,"contextType",np);ie(jw,"defaultProps",{trigger:"onChange",valuePropName:"value"});function B$(t){var e=t.name,n=Yt(t,QJ),r=g.useContext(np),i=g.useContext(fy),o=e!==void 0?Wr(e):void 0,a="keep";return n.isListField||(a="_".concat((o||[]).join("_"))),g.createElement(jw,it({key:a,name:o,isListField:!!i},n,{fieldContext:r}))}function JJ(t){var e=t.name,n=t.initialValue,r=t.children,i=t.rules,o=t.validateTrigger,a=t.isListField,s=g.useContext(np),l=g.useContext(fy),c=g.useRef({keys:[],id:0}),u=c.current,d=g.useMemo(function(){var b=Wr(s.prefixName)||[];return[].concat(mt(b),mt(Wr(e)))},[s.prefixName,e]),f=g.useMemo(function(){return be(be({},s),{},{prefixName:d})},[s,d]),p=g.useMemo(function(){return{getKey:function(x){var v=d.length,w=x[v];return[u.keys[w],x.slice(v+1)]}}},[d]);if(typeof r!="function")return hi(!1,"Form.List only accepts function as children."),null;var y=function(x,v,w){var S=w.source;return S==="internal"?!1:x!==v};return g.createElement(fy.Provider,{value:p},g.createElement(np.Provider,{value:f},g.createElement(B$,{name:[],shouldUpdate:y,rules:i,validateTrigger:o,initialValue:n,isList:!0,isListField:a??!!l},function(b,x){var v=b.value,w=v===void 0?[]:v,S=b.onChange,C=s.getFieldValue,_=function(){var R=C(d||[]);return R||[]},T={add:function(R,P){var L=_();P>=0&&P<=L.length?(u.keys=[].concat(mt(u.keys.slice(0,P)),[u.id],mt(u.keys.slice(P))),S([].concat(mt(L.slice(0,P)),[R],mt(L.slice(P))))):(u.keys=[].concat(mt(u.keys),[u.id]),S([].concat(mt(L),[R]))),u.id+=1},remove:function(R){var P=_(),L=new Set(Array.isArray(R)?R:[R]);L.size<=0||(u.keys=u.keys.filter(function(k,H){return!L.has(H)}),S(P.filter(function(k,H){return!L.has(H)})))},move:function(R,P){if(R!==P){var L=_();R<0||R>=L.length||P<0||P>=L.length||(u.keys=eA(u.keys,R,P),S(eA(L,R,P)))}}},M=w||[];return Array.isArray(M)||(M=[]),r(M.map(function(I,R){var P=u.keys[R];return P===void 0&&(u.keys[R]=u.id,P=u.keys[R],u.id+=1),{name:R,key:P,isListField:!0}}),T,x)})))}function eee(t){var e=!1,n=t.length,r=[];return t.length?new Promise(function(i,o){t.forEach(function(a,s){a.catch(function(l){return e=!0,l}).then(function(l){n-=1,r[s]=l,!(n>0)&&(e&&o(r),i(r))})})}):Promise.resolve([])}var z$="__@field_split__";function l8(t){return t.map(function(e){return"".concat(Xt(e),":").concat(e)}).join(z$)}var vf=function(){function t(){ii(this,t),ie(this,"kvs",new Map)}return oi(t,[{key:"set",value:function(n,r){this.kvs.set(l8(n),r)}},{key:"get",value:function(n){return this.kvs.get(l8(n))}},{key:"update",value:function(n,r){var i=this.get(n),o=r(i);o?this.set(n,o):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(l8(n))}},{key:"map",value:function(n){return mt(this.kvs.entries()).map(function(r){var i=Ne(r,2),o=i[0],a=i[1],s=o.split(z$);return n({key:s.map(function(l){var c=l.match(/^([^:]*):(.*)$/),u=Ne(c,3),d=u[1],f=u[2];return d==="number"?Number(f):f}),value:a})})}},{key:"toJSON",value:function(){var n={};return this.map(function(r){var i=r.key,o=r.value;return n[i.join(".")]=o,null}),n}}]),t}(),tee=["name"],nee=oi(function t(e){var n=this;ii(this,t),ie(this,"formHooked",!1),ie(this,"forceRootUpdate",void 0),ie(this,"subscribable",!0),ie(this,"store",{}),ie(this,"fieldEntities",[]),ie(this,"initialValues",{}),ie(this,"callbacks",{}),ie(this,"validateMessages",null),ie(this,"preserve",null),ie(this,"lastValidatePromise",null),ie(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),ie(this,"getInternalHooks",function(r){return r===Ku?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(hi(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),ie(this,"useSubscribe",function(r){n.subscribable=r}),ie(this,"prevWithoutPreserves",null),ie(this,"setInitialValues",function(r,i){if(n.initialValues=r||{},i){var o,a=vh(r,n.store);(o=n.prevWithoutPreserves)===null||o===void 0||o.map(function(s){var l=s.key;a=Ka(a,l,ts(r,l))}),n.prevWithoutPreserves=null,n.updateStore(a)}}),ie(this,"destroyForm",function(){var r=new vf;n.getFieldEntities(!0).forEach(function(i){n.isMergedPreserve(i.isPreserve())||r.set(i.getNamePath(),!0)}),n.prevWithoutPreserves=r}),ie(this,"getInitialValue",function(r){var i=ts(n.initialValues,r);return r.length?vh(i):i}),ie(this,"setCallbacks",function(r){n.callbacks=r}),ie(this,"setValidateMessages",function(r){n.validateMessages=r}),ie(this,"setPreserve",function(r){n.preserve=r}),ie(this,"watchList",[]),ie(this,"registerWatch",function(r){return n.watchList.push(r),function(){n.watchList=n.watchList.filter(function(i){return i!==r})}}),ie(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var i=n.getFieldsValue(),o=n.getFieldsValue(!0);n.watchList.forEach(function(a){a(i,o,r)})}}),ie(this,"timeoutId",null),ie(this,"warningUnhooked",function(){}),ie(this,"updateStore",function(r){n.store=r}),ie(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?n.fieldEntities.filter(function(i){return i.getNamePath().length}):n.fieldEntities}),ie(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new vf;return n.getFieldEntities(r).forEach(function(o){var a=o.getNamePath();i.set(a,o)}),i}),ie(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return n.getFieldEntities(!0);var i=n.getFieldsMap(!0);return r.map(function(o){var a=Wr(o);return i.get(a)||{INVALIDATE_NAME_PATH:Wr(o)}})}),ie(this,"getFieldsValue",function(r,i){n.warningUnhooked();var o,a,s;if(r===!0||Array.isArray(r)?(o=r,a=i):r&&Xt(r)==="object"&&(s=r.strict,a=r.filter),o===!0&&!a)return n.store;var l=n.getFieldEntitiesForNamePathList(Array.isArray(o)?o:null),c=[];return l.forEach(function(u){var d,f,p="INVALIDATE_NAME_PATH"in u?u.INVALIDATE_NAME_PATH:u.getNamePath();if(s){var y,b;if((y=(b=u).isList)!==null&&y!==void 0&&y.call(b))return}else if(!o&&(d=(f=u).isListField)!==null&&d!==void 0&&d.call(f))return;if(!a)c.push(p);else{var x="getMeta"in u?u.getMeta():null;a(x)&&c.push(p)}}),JR(n.store,c.map(Wr))}),ie(this,"getFieldValue",function(r){n.warningUnhooked();var i=Wr(r);return ts(n.store,i)}),ie(this,"getFieldsError",function(r){n.warningUnhooked();var i=n.getFieldEntitiesForNamePathList(r);return i.map(function(o,a){return o&&!("INVALIDATE_NAME_PATH"in o)?{name:o.getNamePath(),errors:o.getErrors(),warnings:o.getWarnings()}:{name:Wr(r[a]),errors:[],warnings:[]}})}),ie(this,"getFieldError",function(r){n.warningUnhooked();var i=Wr(r),o=n.getFieldsError([i])[0];return o.errors}),ie(this,"getFieldWarning",function(r){n.warningUnhooked();var i=Wr(r),o=n.getFieldsError([i])[0];return o.warnings}),ie(this,"isFieldsTouched",function(){n.warningUnhooked();for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i[0],s=i[1],l,c=!1;i.length===0?l=null:i.length===1?Array.isArray(a)?(l=a.map(Wr),c=!1):(l=null,c=a):(l=a.map(Wr),c=s);var u=n.getFieldEntities(!0),d=function(x){return x.isFieldTouched()};if(!l)return c?u.every(d):u.some(d);var f=new vf;l.forEach(function(b){f.set(b,[])}),u.forEach(function(b){var x=b.getNamePath();l.forEach(function(v){v.every(function(w,S){return x[S]===w})&&f.update(v,function(w){return[].concat(mt(w),[b])})})});var p=function(x){return x.some(d)},y=f.map(function(b){var x=b.value;return x});return c?y.every(p):y.some(p)}),ie(this,"isFieldTouched",function(r){return n.warningUnhooked(),n.isFieldsTouched([r])}),ie(this,"isFieldsValidating",function(r){n.warningUnhooked();var i=n.getFieldEntities();if(!r)return i.some(function(a){return a.isFieldValidating()});var o=r.map(Wr);return i.some(function(a){var s=a.getNamePath();return $h(o,s)&&a.isFieldValidating()})}),ie(this,"isFieldValidating",function(r){return n.warningUnhooked(),n.isFieldsValidating([r])}),ie(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new vf,o=n.getFieldEntities(!0);o.forEach(function(l){var c=l.props.initialValue,u=l.getNamePath();if(c!==void 0){var d=i.get(u)||new Set;d.add({entity:l,value:c}),i.set(u,d)}});var a=function(c){c.forEach(function(u){var d=u.props.initialValue;if(d!==void 0){var f=u.getNamePath(),p=n.getInitialValue(f);if(p!==void 0)hi(!1,"Form already set 'initialValues' with path '".concat(f.join("."),"'. Field can not overwrite it."));else{var y=i.get(f);if(y&&y.size>1)hi(!1,"Multiple Field with path '".concat(f.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(y){var b=n.getFieldValue(f);(!r.skipExist||b===void 0)&&n.updateStore(Ka(n.store,f,mt(y)[0].value))}}}})},s;r.entities?s=r.entities:r.namePathList?(s=[],r.namePathList.forEach(function(l){var c=i.get(l);if(c){var u;(u=s).push.apply(u,mt(mt(c).map(function(d){return d.entity})))}})):s=o,a(s)}),ie(this,"resetFields",function(r){n.warningUnhooked();var i=n.store;if(!r){n.updateStore(vh(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(i,null,{type:"reset"}),n.notifyWatch();return}var o=r.map(Wr);o.forEach(function(a){var s=n.getInitialValue(a);n.updateStore(Ka(n.store,a,s))}),n.resetWithFieldInitialValue({namePathList:o}),n.notifyObservers(i,o,{type:"reset"}),n.notifyWatch(o)}),ie(this,"setFields",function(r){n.warningUnhooked();var i=n.store,o=[];r.forEach(function(a){var s=a.name,l=Yt(a,tee),c=Wr(s);o.push(c),"value"in l&&n.updateStore(Ka(n.store,c,l.value)),n.notifyObservers(i,[c],{type:"setField",data:a})}),n.notifyWatch(o)}),ie(this,"getFields",function(){var r=n.getFieldEntities(!0),i=r.map(function(o){var a=o.getNamePath(),s=o.getMeta(),l=be(be({},s),{},{name:a,value:n.getFieldValue(a)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return i}),ie(this,"initEntityValue",function(r){var i=r.props.initialValue;if(i!==void 0){var o=r.getNamePath(),a=ts(n.store,o);a===void 0&&n.updateStore(Ka(n.store,o,i))}}),ie(this,"isMergedPreserve",function(r){var i=r!==void 0?r:n.preserve;return i??!0}),ie(this,"registerField",function(r){n.fieldEntities.push(r);var i=r.getNamePath();if(n.notifyWatch([i]),r.props.initialValue!==void 0){var o=n.store;n.resetWithFieldInitialValue({entities:[r],skipExist:!0}),n.notifyObservers(o,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(a,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(d){return d!==r}),!n.isMergedPreserve(s)&&(!a||l.length>1)){var c=a?void 0:n.getInitialValue(i);if(i.length&&n.getFieldValue(i)!==c&&n.fieldEntities.every(function(d){return!k$(d.getNamePath(),i)})){var u=n.store;n.updateStore(Ka(u,i,c,!0)),n.notifyObservers(u,[i],{type:"remove"}),n.triggerDependenciesUpdate(u,i)}}n.notifyWatch([i])}}),ie(this,"dispatch",function(r){switch(r.type){case"updateValue":{var i=r.namePath,o=r.value;n.updateValue(i,o);break}case"validateField":{var a=r.namePath,s=r.triggerName;n.validateFields([a],{triggerName:s});break}}}),ie(this,"notifyObservers",function(r,i,o){if(n.subscribable){var a=be(be({},o),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(s){var l=s.onStoreChange;l(r,i,a)})}else n.forceRootUpdate()}),ie(this,"triggerDependenciesUpdate",function(r,i){var o=n.getDependencyChildrenFields(i);return o.length&&n.validateFields(o),n.notifyObservers(r,o,{type:"dependenciesUpdate",relatedFields:[i].concat(mt(o))}),o}),ie(this,"updateValue",function(r,i){var o=Wr(r),a=n.store;n.updateStore(Ka(n.store,o,i)),n.notifyObservers(a,[o],{type:"valueUpdate",source:"internal"}),n.notifyWatch([o]);var s=n.triggerDependenciesUpdate(a,o),l=n.callbacks.onValuesChange;if(l){var c=JR(n.store,[o]);l(c,n.getFieldsValue())}n.triggerOnFieldsChange([o].concat(mt(s)))}),ie(this,"setFieldsValue",function(r){n.warningUnhooked();var i=n.store;if(r){var o=vh(n.store,r);n.updateStore(o)}n.notifyObservers(i,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),ie(this,"setFieldValue",function(r,i){n.setFields([{name:r,value:i}])}),ie(this,"getDependencyChildrenFields",function(r){var i=new Set,o=[],a=new vf;n.getFieldEntities().forEach(function(l){var c=l.props.dependencies;(c||[]).forEach(function(u){var d=Wr(u);a.update(d,function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return f.add(l),f})})});var s=function l(c){var u=a.get(c)||new Set;u.forEach(function(d){if(!i.has(d)){i.add(d);var f=d.getNamePath();d.isFieldDirty()&&f.length&&(o.push(f),l(f))}})};return s(r),o}),ie(this,"triggerOnFieldsChange",function(r,i){var o=n.callbacks.onFieldsChange;if(o){var a=n.getFields();if(i){var s=new vf;i.forEach(function(c){var u=c.name,d=c.errors;s.set(u,d)}),a.forEach(function(c){c.errors=s.get(c.name)||c.errors})}var l=a.filter(function(c){var u=c.name;return $h(r,u)});l.length&&o(l,a)}}),ie(this,"validateFields",function(r,i){var o;n.warningUnhooked();var a,s;Array.isArray(r)||typeof r=="string"||typeof i=="string"?(a=r,s=i):s=r;var l=!!a,c=l?a.map(Wr):[],u=[],d=String(Date.now()),f=new Set,p=(o=s)===null||o===void 0?void 0:o.recursive;n.getFieldEntities(!0).forEach(function(v){if(l||c.push(v.getNamePath()),!(!v.props.rules||!v.props.rules.length)){var w=v.getNamePath();if(f.add(w.join(d)),!l||$h(c,w,p)){var S=v.validateRules(be({validateMessages:be(be({},U$),n.validateMessages)},s));u.push(S.then(function(){return{name:w,errors:[],warnings:[]}}).catch(function(C){var _,T=[],M=[];return(_=C.forEach)===null||_===void 0||_.call(C,function(I){var R=I.rule.warningOnly,P=I.errors;R?M.push.apply(M,mt(P)):T.push.apply(T,mt(P))}),T.length?Promise.reject({name:w,errors:T,warnings:M}):{name:w,errors:T,warnings:M}}))}}});var y=eee(u);n.lastValidatePromise=y,y.catch(function(v){return v}).then(function(v){var w=v.map(function(S){var C=S.name;return C});n.notifyObservers(n.store,w,{type:"validateFinish"}),n.triggerOnFieldsChange(w,v)});var b=y.then(function(){return n.lastValidatePromise===y?Promise.resolve(n.getFieldsValue(c)):Promise.reject([])}).catch(function(v){var w=v.filter(function(S){return S&&S.errors.length});return Promise.reject({values:n.getFieldsValue(c),errorFields:w,outOfDate:n.lastValidatePromise!==y})});b.catch(function(v){return v});var x=c.filter(function(v){return f.has(v.join(d))});return n.triggerOnFieldsChange(x),b}),ie(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(r){var i=n.callbacks.onFinish;if(i)try{i(r)}catch(o){console.error(o)}}).catch(function(r){var i=n.callbacks.onFinishFailed;i&&i(r)})}),this.forceRootUpdate=e});function H$(t){var e=g.useRef(),n=g.useState({}),r=Ne(n,2),i=r[1];if(!e.current)if(t)e.current=t;else{var o=function(){i({})},a=new nee(o);e.current=a.getForm()}return[e.current]}var M7=g.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),ree=function(e){var n=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,o=e.children,a=g.useContext(M7),s=g.useRef({});return g.createElement(M7.Provider,{value:be(be({},a),{},{validateMessages:be(be({},a.validateMessages),n),triggerFormChange:function(c,u){r&&r(c,{changedFields:u,forms:s.current}),a.triggerFormChange(c,u)},triggerFormFinish:function(c,u){i&&i(c,{values:u,forms:s.current}),a.triggerFormFinish(c,u)},registerForm:function(c,u){c&&(s.current=be(be({},s.current),{},ie({},c,u))),a.registerForm(c,u)},unregisterForm:function(c){var u=be({},s.current);delete u[c],s.current=u,a.unregisterForm(c)}})},o)},iee=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],oee=function(e,n){var r=e.name,i=e.initialValues,o=e.fields,a=e.form,s=e.preserve,l=e.children,c=e.component,u=c===void 0?"form":c,d=e.validateMessages,f=e.validateTrigger,p=f===void 0?"onChange":f,y=e.onValuesChange,b=e.onFieldsChange,x=e.onFinish,v=e.onFinishFailed,w=Yt(e,iee),S=g.useContext(M7),C=H$(a),_=Ne(C,1),T=_[0],M=T.getInternalHooks(Ku),I=M.useSubscribe,R=M.setInitialValues,P=M.setCallbacks,L=M.setValidateMessages,k=M.setPreserve,H=M.destroyForm;g.useImperativeHandle(n,function(){return T}),g.useEffect(function(){return S.registerForm(r,T),function(){S.unregisterForm(r)}},[S,T,r]),L(be(be({},S.validateMessages),d)),P({onValuesChange:y,onFieldsChange:function(W){if(S.triggerFormChange(r,W),b){for(var q=arguments.length,Z=new Array(q>1?q-1:0),ee=1;ee<q;ee++)Z[ee-1]=arguments[ee];b.apply(void 0,[W].concat(Z))}},onFinish:function(W){S.triggerFormFinish(r,W),x&&x(W)},onFinishFailed:v}),k(s);var D=g.useRef(null);R(i,!D.current),D.current||(D.current=!0),g.useEffect(function(){return H},[]);var G,B=typeof l=="function";if(B){var $=T.getFieldsValue(!0);G=l($,T)}else G=l;I(!B);var O=g.useRef();g.useEffect(function(){YJ(O.current||[],o||[])||T.setFields(o||[]),O.current=o},[o,T]);var z=g.useMemo(function(){return be(be({},T),{},{validateTrigger:p})},[T,p]),V=g.createElement(fy.Provider,{value:null},g.createElement(np.Provider,{value:z},G));return u===!1?V:g.createElement(u,it({},w,{onSubmit:function(W){W.preventDefault(),W.stopPropagation(),T.submit()},onReset:function(W){var q;W.preventDefault(),T.resetFields(),(q=w.onReset)===null||q===void 0||q.call(w,W)}}),V)};function nA(t){try{return JSON.stringify(t)}catch{return Math.random()}}function aee(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=r===void 0?[]:r,o=e[1],a=o===void 0?{}:o,s=hJ(a)?{form:a}:a,l=s.form,c=g.useState(),u=Ne(c,2),d=u[0],f=u[1],p=g.useMemo(function(){return nA(d)},[d]),y=g.useRef(p);y.current=p;var b=g.useContext(np),x=l||b,v=x&&x._init,w=Wr(i),S=g.useRef(w);return S.current=w,g.useEffect(function(){if(v){var C=x.getFieldsValue,_=x.getInternalHooks,T=_(Ku),M=T.registerWatch,I=M(function(P,L){var k=ts(s.preserve?L:P,S.current),H=nA(k);y.current!==H&&(y.current=H,f(k))}),R=ts(s.preserve?C(!0):C(),S.current);return d!==R&&f(R),I}},[v]),d}var see=g.forwardRef(oee),Zg=see;Zg.FormProvider=ree;Zg.Field=B$;Zg.List=JJ;Zg.useForm=H$;Zg.useWatch=aee;const Wl=g.createContext({}),ag=t=>{let{children:e,status:n,override:r}=t;const i=g.useContext(Wl),o=g.useMemo(()=>{const a=Object.assign({},i);return r&&delete a.isFormItemInput,n&&(delete a.status,delete a.hasFeedback,delete a.feedbackIcon),a},[n,r,i]);return g.createElement(Wl.Provider,{value:o},e)},lee=t=>({animationDuration:t,animationFillMode:"both"}),cee=t=>({animationDuration:t,animationFillMode:"both"}),D5=function(t,e,n,r){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${t}-enter,
      ${o}${t}-appear
    `]:Object.assign(Object.assign({},lee(r)),{animationPlayState:"paused"}),[`${o}${t}-leave`]:Object.assign(Object.assign({},cee(r)),{animationPlayState:"paused"}),[`
      ${o}${t}-enter${t}-enter-active,
      ${o}${t}-appear${t}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${o}${t}-leave${t}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},uee=new Mn("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),dee=new Mn("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),fee=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:n}=t,r=`${n}-fade`,i=e?"&":"";return[D5(r,uee,dee,t.motionDurationMid,e),{[`
        ${i}${r}-enter,
        ${i}${r}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${i}${r}-leave`]:{animationTimingFunction:"linear"}}]},hee=new Mn("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),pee=new Mn("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),mee=new Mn("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),gee=new Mn("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),vee=new Mn("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),yee=new Mn("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),xee=new Mn("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),See=new Mn("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),bee={"move-up":{inKeyframes:xee,outKeyframes:See},"move-down":{inKeyframes:hee,outKeyframes:pee},"move-left":{inKeyframes:mee,outKeyframes:gee},"move-right":{inKeyframes:vee,outKeyframes:yee}},hy=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=bee[e];return[D5(r,i,o,t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{opacity:0,animationTimingFunction:t.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},Xw=new Mn("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),qw=new Mn("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),Kw=new Mn("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),Yw=new Mn("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),wee=new Mn("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),Cee=new Mn("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),Eee=new Mn("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),_ee=new Mn("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),Tee={"slide-up":{inKeyframes:Xw,outKeyframes:qw},"slide-down":{inKeyframes:Kw,outKeyframes:Yw},"slide-left":{inKeyframes:wee,outKeyframes:Cee},"slide-right":{inKeyframes:Eee,outKeyframes:_ee}},Yc=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=Tee[e];return[D5(r,i,o,t.motionDurationMid),{[`
      ${r}-enter,
      ${r}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:t.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInQuint}}]},Mee=new Mn("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Ree=new Mn("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),rA=new Mn("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),iA=new Mn("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),Aee=new Mn("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),Pee=new Mn("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),Iee=new Mn("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),Nee=new Mn("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),Oee=new Mn("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),Lee=new Mn("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),Dee=new Mn("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),Fee=new Mn("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),$ee={zoom:{inKeyframes:Mee,outKeyframes:Ree},"zoom-big":{inKeyframes:rA,outKeyframes:iA},"zoom-big-fast":{inKeyframes:rA,outKeyframes:iA},"zoom-left":{inKeyframes:Iee,outKeyframes:Nee},"zoom-right":{inKeyframes:Oee,outKeyframes:Lee},"zoom-up":{inKeyframes:Aee,outKeyframes:Pee},"zoom-down":{inKeyframes:Dee,outKeyframes:Fee}},F5=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=$ee[e];return[D5(r,i,o,e==="zoom-big-fast"?t.motionDurationFast:t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:t.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},Uee=t=>({[t.componentCls]:{[`${t.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}},[`${t.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}}}),Zw=Uee;function kee(t){return function(n){return g.createElement(au,{theme:{token:{motion:!1,zIndexPopupBase:0}}},g.createElement(t,Object.assign({},n)))}}function Qw(t,e,n,r){function i(o){const{prefixCls:a,style:s}=o,l=g.useRef(null),[c,u]=g.useState(0),[d,f]=g.useState(0),[p,y]=kr(!1,{value:o.open}),{getPrefixCls:b}=g.useContext(Wt),x=b(e||"select",a);g.useEffect(()=>{if(y(!0),typeof ResizeObserver<"u"){const w=new ResizeObserver(C=>{const _=C[0].target;u(_.offsetHeight+8),f(_.offsetWidth)}),S=setInterval(()=>{var C;const _=n?`.${n(x)}`:`.${x}-dropdown`,T=(C=l.current)===null||C===void 0?void 0:C.querySelector(_);T&&(clearInterval(S),w.observe(T))},10);return()=>{clearInterval(S),w.disconnect()}}},[]);let v=Object.assign(Object.assign({},o),{style:Object.assign(Object.assign({},s),{margin:0}),open:p,visible:p,getPopupContainer:()=>l.current});return r&&(v=r(v)),g.createElement("div",{ref:l,style:{paddingBottom:c,position:"relative",minWidth:d}},g.createElement(t,Object.assign({},v)))}return kee(i)}const $5=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t?.substr(0,4))};var U5=function(e){var n=e.className,r=e.customizeIcon,i=e.customizeIconProps,o=e.onMouseDown,a=e.onClick,s=e.children,l;return typeof r=="function"?l=r(i):l=r,g.createElement("span",{className:n,onMouseDown:function(u){u.preventDefault(),o&&o(u)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},l!==void 0?l:g.createElement("span",{className:ye(n.split(/\s+/).map(function(c){return"".concat(c,"-icon")}))},s))};function Bee(t,e,n,r,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,a=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=se.useMemo(function(){if(Xt(r)==="object")return r.clearIcon;if(i)return i},[r,i]),c=se.useMemo(function(){return!!(!o&&r&&(n.length||a)&&!(s==="combobox"&&a===""))},[r,o,n.length,a,s]);return{allowClear:c,clearIcon:se.createElement(U5,{className:"".concat(t,"-clear"),onMouseDown:e,customizeIcon:l},"")}}var G$=g.createContext(null);function zee(){return g.useContext(G$)}function Hee(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=g.useState(!1),n=Ne(e,2),r=n[0],i=n[1],o=g.useRef(null),a=function(){window.clearTimeout(o.current)};g.useEffect(function(){return a},[]);var s=function(c,u){a(),o.current=window.setTimeout(function(){i(c),u&&u()},t)};return[r,s,a]}function V$(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=g.useRef(null),n=g.useRef(null);g.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]);function r(i){(i||e.current===null)&&(e.current=i),window.clearTimeout(n.current),n.current=window.setTimeout(function(){e.current=null},t)}return[function(){return e.current},r]}function Gee(t,e,n,r){var i=g.useRef(null);i.current={open:e,triggerOpen:n,customizedTrigger:r},g.useEffect(function(){function o(a){var s;if(!((s=i.current)!==null&&s!==void 0&&s.customizedTrigger)){var l=a.target;l.shadowRoot&&a.composed&&(l=a.composedPath()[0]||l),i.current.open&&t().filter(function(c){return c}).every(function(c){return!c.contains(l)&&c!==l})&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",o),function(){return window.removeEventListener("mousedown",o)}},[])}var Vee=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],yf=void 0;function Wee(t,e){var n=t.prefixCls,r=t.invalidate,i=t.item,o=t.renderItem,a=t.responsive,s=t.responsiveDisabled,l=t.registerSize,c=t.itemKey,u=t.className,d=t.style,f=t.children,p=t.display,y=t.order,b=t.component,x=b===void 0?"div":b,v=Yt(t,Vee),w=a&&!p;function S(I){l(c,I)}g.useEffect(function(){return function(){S(null)}},[]);var C=o&&i!==yf?o(i):f,_;r||(_={opacity:w?0:1,height:w?0:yf,overflowY:w?"hidden":yf,order:a?y:yf,pointerEvents:w?"none":yf,position:w?"absolute":yf});var T={};w&&(T["aria-hidden"]=!0);var M=g.createElement(x,it({className:ye(!r&&n,u),style:be(be({},_),d)},T,v,{ref:e}),C);return a&&(M=g.createElement(Ta,{onResize:function(R){var P=R.offsetWidth;S(P)},disabled:s},M)),M}var _m=g.forwardRef(Wee);_m.displayName="Item";function jee(t){if(typeof MessageChannel>"u")Un(t);else{var e=new MessageChannel;e.port1.onmessage=function(){return t()},e.port2.postMessage(void 0)}}function Xee(){var t=g.useRef(null),e=function(r){t.current||(t.current=[],jee(function(){Na.unstable_batchedUpdates(function(){t.current.forEach(function(i){i()}),t.current=null})})),t.current.push(r)};return e}function N0(t,e){var n=g.useState(e),r=Ne(n,2),i=r[0],o=r[1],a=Zi(function(s){t(function(){o(s)})});return[i,a]}var py=se.createContext(null),qee=["component"],Kee=["className"],Yee=["className"],Zee=function(e,n){var r=g.useContext(py);if(!r){var i=e.component,o=i===void 0?"div":i,a=Yt(e,qee);return g.createElement(o,it({},a,{ref:n}))}var s=r.className,l=Yt(r,Kee),c=e.className,u=Yt(e,Yee);return g.createElement(py.Provider,{value:null},g.createElement(_m,it({ref:n,className:ye(s,c)},l,u)))},W$=g.forwardRef(Zee);W$.displayName="RawItem";var Qee=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],j$="responsive",X$="invalidate";function Jee(t){return"+ ".concat(t.length," ...")}function ete(t,e){var n=t.prefixCls,r=n===void 0?"rc-overflow":n,i=t.data,o=i===void 0?[]:i,a=t.renderItem,s=t.renderRawItem,l=t.itemKey,c=t.itemWidth,u=c===void 0?10:c,d=t.ssr,f=t.style,p=t.className,y=t.maxCount,b=t.renderRest,x=t.renderRawRest,v=t.suffix,w=t.component,S=w===void 0?"div":w,C=t.itemComponent,_=t.onVisibleChange,T=Yt(t,Qee),M=d==="full",I=Xee(),R=N0(I,null),P=Ne(R,2),L=P[0],k=P[1],H=L||0,D=N0(I,new Map),G=Ne(D,2),B=G[0],$=G[1],O=N0(I,0),z=Ne(O,2),V=z[0],F=z[1],W=N0(I,0),q=Ne(W,2),Z=q[0],ee=q[1],oe=N0(I,0),re=Ne(oe,2),ce=re[0],Se=re[1],Pe=g.useState(null),xe=Ne(Pe,2),X=xe[0],fe=xe[1],pe=g.useState(null),Ce=Ne(pe,2),me=Ce[0],Ge=Ce[1],ve=g.useMemo(function(){return me===null&&M?Number.MAX_SAFE_INTEGER:me||0},[me,L]),Re=g.useState(!1),Ae=Ne(Re,2),Le=Ae[0],Je=Ae[1],K="".concat(r,"-item"),j=Math.max(V,Z),ae=y===j$,Ee=o.length&&ae,Oe=y===X$,je=Ee||typeof y=="number"&&o.length>y,Be=g.useMemo(function(){var pt=o;return Ee?L===null&&M?pt=o:pt=o.slice(0,Math.min(o.length,H/u)):typeof y=="number"&&(pt=o.slice(0,y)),pt},[o,u,L,y,Ee]),Fe=g.useMemo(function(){return Ee?o.slice(ve+1):o.slice(Be.length)},[o,Be,Ee,ve]),Ue=g.useCallback(function(pt,Xe){var lt;return typeof l=="function"?l(pt):(lt=l&&pt?.[l])!==null&&lt!==void 0?lt:Xe},[l]),et=g.useCallback(a||function(pt){return pt},[a]);function at(pt,Xe,lt){me===pt&&(Xe===void 0||Xe===X)||(Ge(pt),lt||(Je(pt<o.length-1),_?.(pt)),Xe!==void 0&&fe(Xe))}function We(pt,Xe){k(Xe.clientWidth)}function ut(pt,Xe){$(function(lt){var ot=new Map(lt);return Xe===null?ot.delete(pt):ot.set(pt,Xe),ot})}function te(pt,Xe){ee(Xe),F(Z)}function ke(pt,Xe){Se(Xe)}function ze(pt){return B.get(Ue(Be[pt],pt))}Yn(function(){if(H&&typeof j=="number"&&Be){var pt=ce,Xe=Be.length,lt=Xe-1;if(!Xe){at(0,null);return}for(var ot=0;ot<Xe;ot+=1){var gt=ze(ot);if(M&&(gt=gt||0),gt===void 0){at(ot-1,void 0,!0);break}if(pt+=gt,lt===0&&pt<=H||ot===lt-1&&pt+ze(lt)<=H){at(lt,null);break}else if(pt+j>H){at(ot-1,pt-gt-ce+Z);break}}v&&ze(0)+ce>H&&fe(null)}},[H,B,Z,ce,Ue,Be]);var J=Le&&!!Fe.length,de={};X!==null&&Ee&&(de={position:"absolute",left:X,top:0});var ue={prefixCls:K,responsive:Ee,component:C,invalidate:Oe},De=s?function(pt,Xe){var lt=Ue(pt,Xe);return g.createElement(py.Provider,{key:lt,value:be(be({},ue),{},{order:Xe,item:pt,itemKey:lt,registerSize:ut,display:Xe<=ve})},s(pt,Xe))}:function(pt,Xe){var lt=Ue(pt,Xe);return g.createElement(_m,it({},ue,{order:Xe,key:lt,item:pt,renderItem:et,itemKey:lt,registerSize:ut,display:Xe<=ve}))},Ie,_e={order:J?ve:Number.MAX_SAFE_INTEGER,className:"".concat(K,"-rest"),registerSize:te,display:J};if(x)x&&(Ie=g.createElement(py.Provider,{value:be(be({},ue),_e)},x(Fe)));else{var rt=b||Jee;Ie=g.createElement(_m,it({},ue,_e),typeof rt=="function"?rt(Fe):rt)}var ct=g.createElement(S,it({className:ye(!Oe&&r,p),style:f,ref:e},T),Be.map(De),je?Ie:null,v&&g.createElement(_m,it({},ue,{responsive:ae,responsiveDisabled:!Ee,order:ve,className:"".concat(K,"-suffix"),registerSize:ke,display:!0,style:de}),v));return ae&&(ct=g.createElement(Ta,{onResize:We,disabled:!Ee},ct)),ct}var Gs=g.forwardRef(ete);Gs.displayName="Overflow";Gs.Item=W$;Gs.RESPONSIVE=j$;Gs.INVALIDATE=X$;var tte=function(e,n){var r,i,o=e.prefixCls,a=e.id,s=e.inputElement,l=e.disabled,c=e.tabIndex,u=e.autoFocus,d=e.autoComplete,f=e.editable,p=e.activeDescendantId,y=e.value,b=e.maxLength,x=e.onKeyDown,v=e.onMouseDown,w=e.onChange,S=e.onPaste,C=e.onCompositionStart,_=e.onCompositionEnd,T=e.open,M=e.attrs,I=s||g.createElement("input",null),R=I,P=R.ref,L=R.props,k=L.onKeyDown,H=L.onChange,D=L.onMouseDown,G=L.onCompositionStart,B=L.onCompositionEnd,$=L.style;return"maxLength"in I.props,I=g.cloneElement(I,be(be(be({type:"search"},L),{},{id:a,ref:mo(n,P),disabled:l,tabIndex:c,autoComplete:d||"off",autoFocus:u,className:ye("".concat(o,"-selection-search-input"),(r=I)===null||r===void 0||(i=r.props)===null||i===void 0?void 0:i.className),role:"combobox","aria-label":"Search","aria-expanded":T||!1,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":T?p:void 0},M),{},{value:f?y:"",maxLength:b,readOnly:!f,unselectable:f?null:"on",style:be(be({},$),{},{opacity:f?null:0}),onKeyDown:function(z){x(z),k&&k(z)},onMouseDown:function(z){v(z),D&&D(z)},onChange:function(z){w(z),H&&H(z)},onCompositionStart:function(z){C(z),G&&G(z)},onCompositionEnd:function(z){_(z),B&&B(z)},onPaste:S})),I},Jw=g.forwardRef(tte);Jw.displayName="Input";function q$(t){return Array.isArray(t)?t:t!==void 0?[t]:[]}var nte=typeof window<"u"&&window.document&&window.document.documentElement,rte=nte;function ite(t){return t!=null}function ote(t){return!t&&t!==0}function oA(t){return["string","number"].includes(Xt(t))}function K$(t){var e=void 0;return t&&(oA(t.title)?e=t.title.toString():oA(t.label)&&(e=t.label.toString())),e}function ate(t,e){rte?g.useLayoutEffect(t,e):g.useEffect(t,e)}function ste(t){var e;return(e=t.key)!==null&&e!==void 0?e:t.value}var aA=function(e){e.preventDefault(),e.stopPropagation()},lte=function(e){var n=e.id,r=e.prefixCls,i=e.values,o=e.open,a=e.searchValue,s=e.autoClearSearchValue,l=e.inputRef,c=e.placeholder,u=e.disabled,d=e.mode,f=e.showSearch,p=e.autoFocus,y=e.autoComplete,b=e.activeDescendantId,x=e.tabIndex,v=e.removeIcon,w=e.maxTagCount,S=e.maxTagTextLength,C=e.maxTagPlaceholder,_=C===void 0?function(fe){return"+ ".concat(fe.length," ...")}:C,T=e.tagRender,M=e.onToggleOpen,I=e.onRemove,R=e.onInputChange,P=e.onInputPaste,L=e.onInputKeyDown,k=e.onInputMouseDown,H=e.onInputCompositionStart,D=e.onInputCompositionEnd,G=g.useRef(null),B=g.useState(0),$=Ne(B,2),O=$[0],z=$[1],V=g.useState(!1),F=Ne(V,2),W=F[0],q=F[1],Z="".concat(r,"-selection"),ee=o||d==="multiple"&&s===!1||d==="tags"?a:"",oe=d==="tags"||d==="multiple"&&s===!1||f&&(o||W);ate(function(){z(G.current.scrollWidth)},[ee]);function re(fe,pe,Ce,me,Ge){return g.createElement("span",{className:ye("".concat(Z,"-item"),ie({},"".concat(Z,"-item-disabled"),Ce)),title:K$(fe)},g.createElement("span",{className:"".concat(Z,"-item-content")},pe),me&&g.createElement(U5,{className:"".concat(Z,"-item-remove"),onMouseDown:aA,onClick:Ge,customizeIcon:v},""))}function ce(fe,pe,Ce,me,Ge){var ve=function(Ae){aA(Ae),M(!o)};return g.createElement("span",{onMouseDown:ve},T({label:pe,value:fe,disabled:Ce,closable:me,onClose:Ge}))}function Se(fe){var pe=fe.disabled,Ce=fe.label,me=fe.value,Ge=!u&&!pe,ve=Ce;if(typeof S=="number"&&(typeof Ce=="string"||typeof Ce=="number")){var Re=String(ve);Re.length>S&&(ve="".concat(Re.slice(0,S),"..."))}var Ae=function(Je){Je&&Je.stopPropagation(),I(fe)};return typeof T=="function"?ce(me,ve,pe,Ge,Ae):re(fe,ve,pe,Ge,Ae)}function Pe(fe){var pe=typeof _=="function"?_(fe):_;return re({title:pe},pe,!1)}var xe=g.createElement("div",{className:"".concat(Z,"-search"),style:{width:O},onFocus:function(){q(!0)},onBlur:function(){q(!1)}},g.createElement(Jw,{ref:l,open:o,prefixCls:r,id:n,inputElement:null,disabled:u,autoFocus:p,autoComplete:y,editable:oe,activeDescendantId:b,value:ee,onKeyDown:L,onMouseDown:k,onChange:R,onPaste:P,onCompositionStart:H,onCompositionEnd:D,tabIndex:x,attrs:ep(e,!0)}),g.createElement("span",{ref:G,className:"".concat(Z,"-search-mirror"),"aria-hidden":!0},ee,"")),X=g.createElement(Gs,{prefixCls:"".concat(Z,"-overflow"),data:i,renderItem:Se,renderRest:Pe,suffix:xe,itemKey:ste,maxCount:w});return g.createElement(g.Fragment,null,X,!i.length&&!ee&&g.createElement("span",{className:"".concat(Z,"-placeholder")},c))},cte=function(e){var n=e.inputElement,r=e.prefixCls,i=e.id,o=e.inputRef,a=e.disabled,s=e.autoFocus,l=e.autoComplete,c=e.activeDescendantId,u=e.mode,d=e.open,f=e.values,p=e.placeholder,y=e.tabIndex,b=e.showSearch,x=e.searchValue,v=e.activeValue,w=e.maxLength,S=e.onInputKeyDown,C=e.onInputMouseDown,_=e.onInputChange,T=e.onInputPaste,M=e.onInputCompositionStart,I=e.onInputCompositionEnd,R=e.title,P=g.useState(!1),L=Ne(P,2),k=L[0],H=L[1],D=u==="combobox",G=D||b,B=f[0],$=x||"";D&&v&&!k&&($=v),g.useEffect(function(){D&&H(!1)},[D,v]);var O=u!=="combobox"&&!d&&!b?!1:!!$,z=R===void 0?K$(B):R,V=function(){if(B)return null;var W=O?{visibility:"hidden"}:void 0;return g.createElement("span",{className:"".concat(r,"-selection-placeholder"),style:W},p)};return g.createElement(g.Fragment,null,g.createElement("span",{className:"".concat(r,"-selection-search")},g.createElement(Jw,{ref:o,prefixCls:r,id:i,open:d,inputElement:n,disabled:a,autoFocus:s,autoComplete:l,editable:G,activeDescendantId:c,value:$,onKeyDown:S,onMouseDown:C,onChange:function(W){H(!0),_(W)},onPaste:T,onCompositionStart:M,onCompositionEnd:I,tabIndex:y,attrs:ep(e,!0),maxLength:D?w:void 0})),!D&&B?g.createElement("span",{className:"".concat(r,"-selection-item"),title:z,style:O?{visibility:"hidden"}:void 0},B.label):null,V())};function ute(t){return![nt.ESC,nt.SHIFT,nt.BACKSPACE,nt.TAB,nt.WIN_KEY,nt.ALT,nt.META,nt.WIN_KEY_RIGHT,nt.CTRL,nt.SEMICOLON,nt.EQUALS,nt.CAPS_LOCK,nt.CONTEXT_MENU,nt.F1,nt.F2,nt.F3,nt.F4,nt.F5,nt.F6,nt.F7,nt.F8,nt.F9,nt.F10,nt.F11,nt.F12].includes(t)}var dte=function(e,n){var r=g.useRef(null),i=g.useRef(!1),o=e.prefixCls,a=e.open,s=e.mode,l=e.showSearch,c=e.tokenWithEnter,u=e.autoClearSearchValue,d=e.onSearch,f=e.onSearchSubmit,p=e.onToggleOpen,y=e.onInputKeyDown,b=e.domRef;g.useImperativeHandle(n,function(){return{focus:function(){r.current.focus()},blur:function(){r.current.blur()}}});var x=V$(0),v=Ne(x,2),w=v[0],S=v[1],C=function($){var O=$.which;(O===nt.UP||O===nt.DOWN)&&$.preventDefault(),y&&y($),O===nt.ENTER&&s==="tags"&&!i.current&&!a&&f?.($.target.value),ute(O)&&p(!0)},_=function(){S(!0)},T=g.useRef(null),M=function($){d($,!0,i.current)!==!1&&p(!0)},I=function(){i.current=!0},R=function($){i.current=!1,s!=="combobox"&&M($.target.value)},P=function($){var O=$.target.value;if(c&&T.current&&/[\r\n]/.test(T.current)){var z=T.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");O=O.replace(z,T.current)}T.current=null,M(O)},L=function($){var O=$.clipboardData,z=O.getData("text");T.current=z},k=function($){var O=$.target;if(O!==r.current){var z=document.body.style.msTouchAction!==void 0;z?setTimeout(function(){r.current.focus()}):r.current.focus()}},H=function($){var O=w();$.target!==r.current&&!O&&s!=="combobox"&&$.preventDefault(),(s!=="combobox"&&(!l||!O)||!a)&&(a&&u!==!1&&d("",!0,!1),p())},D={inputRef:r,onInputKeyDown:C,onInputMouseDown:_,onInputChange:P,onInputPaste:L,onInputCompositionStart:I,onInputCompositionEnd:R},G=s==="multiple"||s==="tags"?g.createElement(lte,it({},e,D)):g.createElement(cte,it({},e,D));return g.createElement("div",{ref:b,className:"".concat(o,"-selector"),onClick:k,onMouseDown:H},G)},Y$=g.forwardRef(dte);Y$.displayName="Selector";var sA=g.createContext(null);function lA(t){return t?Array.isArray(t)?t:[t]:[]}function fte(t,e,n,r){return g.useMemo(function(){var i=lA(n??e),o=lA(r??e),a=new Set(i),s=new Set(o);return t&&(a.has("hover")&&(a.delete("hover"),a.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[a,s]},[t,e,n,r])}function hte(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function pte(t,e,n,r){for(var i=n.points,o=Object.keys(t),a=0;a<o.length;a+=1){var s,l=o[a];if(hte((s=t[l])===null||s===void 0?void 0:s.points,i,r))return"".concat(e,"-placement-").concat(l)}return""}function cA(t,e,n,r){return e||(n?{motionName:"".concat(t,"-").concat(n)}:r?{motionName:r}:null)}function Qg(t){return t.ownerDocument.defaultView}function R7(t){for(var e=[],n=t?.parentElement,r=["hidden","scroll","clip","auto"];n;){var i=Qg(n).getComputedStyle(n),o=i.overflowX,a=i.overflowY,s=i.overflow;[o,a,s].some(function(l){return r.includes(l)})&&e.push(n),n=n.parentElement}return e}function sg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(t)?e:t}function O0(t){return sg(parseFloat(t),0)}function uA(t,e){var n=be({},t);return(e||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var i=Qg(r).getComputedStyle(r),o=i.overflow,a=i.overflowClipMargin,s=i.borderTopWidth,l=i.borderBottomWidth,c=i.borderLeftWidth,u=i.borderRightWidth,d=r.getBoundingClientRect(),f=r.offsetHeight,p=r.clientHeight,y=r.offsetWidth,b=r.clientWidth,x=O0(s),v=O0(l),w=O0(c),S=O0(u),C=sg(Math.round(d.width/y*1e3)/1e3),_=sg(Math.round(d.height/f*1e3)/1e3),T=(y-b-w-S)*C,M=(f-p-x-v)*_,I=x*_,R=v*_,P=w*C,L=S*C,k=0,H=0;if(o==="clip"){var D=O0(a);k=D*C,H=D*_}var G=d.x+P-k,B=d.y+I-H,$=G+d.width+2*k-P-L-T,O=B+d.height+2*H-I-R-M;n.left=Math.max(n.left,G),n.top=Math.max(n.top,B),n.right=Math.min(n.right,$),n.bottom=Math.min(n.bottom,O)}}),n}function dA(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n="".concat(e),r=n.match(/^(.*)\%$/);return r?t*(parseFloat(r[1])/100):parseFloat(n)}function fA(t,e){var n=e||[],r=Ne(n,2),i=r[0],o=r[1];return[dA(t.width,i),dA(t.height,o)]}function hA(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[t[0],t[1]]}function xf(t,e){var n=e[0],r=e[1],i,o;return n==="t"?o=t.y:n==="b"?o=t.y+t.height:o=t.y+t.height/2,r==="l"?i=t.x:r==="r"?i=t.x+t.width:i=t.x+t.width/2,{x:i,y:o}}function lc(t,e){var n={t:"b",b:"t",l:"r",r:"l"};return t.map(function(r,i){return i===e?n[r]||"c":r}).join("")}function mte(t,e,n,r,i,o,a){var s=g.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[r]||{}}),l=Ne(s,2),c=l[0],u=l[1],d=g.useRef(0),f=g.useMemo(function(){return e?R7(e):[]},[e]),p=g.useRef({}),y=function(){p.current={}};t||y();var b=Zi(function(){if(e&&n&&t){let Ri=function(ol,al){var Ts=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Re,sl=z.x+ol,Ms=z.y+al,Rs=sl+ce,i0=Ms+re,hu=Math.max(sl,Ts.left),In=Math.max(Ms,Ts.top),Zd=Math.min(Rs,Ts.right),At=Math.min(i0,Ts.bottom);return Math.max(0,(Zd-hu)*(At-In))},ro=function(){tn=z.y+_e,nr=tn+re,_r=z.x+Ie,nn=_r+ce};var w,S,C=e,_=C.ownerDocument,T=Qg(C),M=T.getComputedStyle(C),I=M.width,R=M.height,P=M.position,L=C.style.left,k=C.style.top,H=C.style.right,D=C.style.bottom,G=be(be({},i[r]),o),B=_.createElement("div");(w=C.parentElement)===null||w===void 0||w.appendChild(B),B.style.left="".concat(C.offsetLeft,"px"),B.style.top="".concat(C.offsetTop,"px"),B.style.position=P,B.style.height="".concat(C.offsetHeight,"px"),B.style.width="".concat(C.offsetWidth,"px"),C.style.left="0",C.style.top="0",C.style.right="auto",C.style.bottom="auto";var $;if(Array.isArray(n))$={x:n[0],y:n[1],width:0,height:0};else{var O=n.getBoundingClientRect();$={x:O.x,y:O.y,width:O.width,height:O.height}}var z=C.getBoundingClientRect(),V=_.documentElement,F=V.clientWidth,W=V.clientHeight,q=V.scrollWidth,Z=V.scrollHeight,ee=V.scrollTop,oe=V.scrollLeft,re=z.height,ce=z.width,Se=$.height,Pe=$.width,xe={left:0,top:0,right:F,bottom:W},X={left:-oe,top:-ee,right:q-oe,bottom:Z-ee},fe=G.htmlRegion,pe="visible",Ce="visibleFirst";fe!=="scroll"&&fe!==Ce&&(fe=pe);var me=fe===Ce,Ge=uA(X,f),ve=uA(xe,f),Re=fe===pe?ve:Ge,Ae=me?ve:Re;C.style.left="auto",C.style.top="auto",C.style.right="0",C.style.bottom="0";var Le=C.getBoundingClientRect();C.style.left=L,C.style.top=k,C.style.right=H,C.style.bottom=D,(S=C.parentElement)===null||S===void 0||S.removeChild(B);var Je=sg(Math.round(ce/parseFloat(I)*1e3)/1e3),K=sg(Math.round(re/parseFloat(R)*1e3)/1e3);if(Je===0||K===0||ty(n)&&!Hw(n))return;var j=G.offset,ae=G.targetOffset,Ee=fA(z,j),Oe=Ne(Ee,2),je=Oe[0],Be=Oe[1],Fe=fA($,ae),Ue=Ne(Fe,2),et=Ue[0],at=Ue[1];$.x-=et,$.y-=at;var We=G.points||[],ut=Ne(We,2),te=ut[0],ke=ut[1],ze=hA(ke),J=hA(te),de=xf($,ze),ue=xf(z,J),De=be({},G),Ie=de.x-ue.x+je,_e=de.y-ue.y+Be,rt=Ri(Ie,_e),ct=Ri(Ie,_e,ve),pt=xf($,["t","l"]),Xe=xf(z,["t","l"]),lt=xf($,["b","r"]),ot=xf(z,["b","r"]),gt=G.overflow||{},cn=gt.adjustX,an=gt.adjustY,Fn=gt.shiftX,Xn=gt.shiftY,An=function(al){return typeof al=="boolean"?al:al>=0},tn,nr,_r,nn;ro();var Y=An(an),le=J[0]===ze[0];if(Y&&J[0]==="t"&&(nr>Ae.bottom||p.current.bt)){var he=_e;le?he-=re-Se:he=pt.y-ot.y-Be;var ge=Ri(Ie,he),Te=Ri(Ie,he,ve);ge>rt||ge===rt&&(!me||Te>=ct)?(p.current.bt=!0,_e=he,Be=-Be,De.points=[lc(J,0),lc(ze,0)]):p.current.bt=!1}if(Y&&J[0]==="b"&&(tn<Ae.top||p.current.tb)){var ft=_e;le?ft+=re-Se:ft=lt.y-Xe.y-Be;var Ot=Ri(Ie,ft),Dt=Ri(Ie,ft,ve);Ot>rt||Ot===rt&&(!me||Dt>=ct)?(p.current.tb=!0,_e=ft,Be=-Be,De.points=[lc(J,0),lc(ze,0)]):p.current.tb=!1}var Ft=An(cn),qt=J[1]===ze[1];if(Ft&&J[1]==="l"&&(nn>Ae.right||p.current.rl)){var Mt=Ie;qt?Mt-=ce-Pe:Mt=pt.x-ot.x-je;var kt=Ri(Mt,_e),$n=Ri(Mt,_e,ve);kt>rt||kt===rt&&(!me||$n>=ct)?(p.current.rl=!0,Ie=Mt,je=-je,De.points=[lc(J,1),lc(ze,1)]):p.current.rl=!1}if(Ft&&J[1]==="r"&&(_r<Ae.left||p.current.lr)){var Cn=Ie;qt?Cn+=ce-Pe:Cn=lt.x-Xe.x-je;var Zn=Ri(Cn,_e),vr=Ri(Cn,_e,ve);Zn>rt||Zn===rt&&(!me||vr>=ct)?(p.current.lr=!0,Ie=Cn,je=-je,De.points=[lc(J,1),lc(ze,1)]):p.current.lr=!1}ro();var En=Fn===!0?0:Fn;typeof En=="number"&&(_r<ve.left&&(Ie-=_r-ve.left-je,$.x+Pe<ve.left+En&&(Ie+=$.x-ve.left+Pe-En)),nn>ve.right&&(Ie-=nn-ve.right-je,$.x>ve.right-En&&(Ie+=$.x-ve.right+En)));var Gt=Xn===!0?0:Xn;typeof Gt=="number"&&(tn<ve.top&&(_e-=tn-ve.top-Be,$.y+Se<ve.top+Gt&&(_e+=$.y-ve.top+Se-Gt)),nr>ve.bottom&&(_e-=nr-ve.bottom-Be,$.y>ve.bottom-Gt&&(_e+=$.y-ve.bottom+Gt)));var un=z.x+Ie,Bt=un+ce,rr=z.y+_e,Hn=rr+re,_t=$.x,zt=_t+Pe,Tt=$.y,Et=Tt+Se,Ht=Math.max(un,_t),Zt=Math.min(Bt,zt),Pn=(Ht+Zt)/2,yr=Pn-un,fr=Math.max(rr,Tt),xr=Math.min(Hn,Et),vo=(fr+xr)/2,il=vo-rr;a?.(e,De);var r0=Le.right-z.x-(Ie+z.width),Zl=Le.bottom-z.y-(_e+z.height);u({ready:!0,offsetX:Ie/Je,offsetY:_e/K,offsetR:r0/Je,offsetB:Zl/K,arrowX:yr/Je,arrowY:il/K,scaleX:Je,scaleY:K,align:De})}}),x=function(){d.current+=1;var S=d.current;Promise.resolve().then(function(){d.current===S&&b()})},v=function(){u(function(S){return be(be({},S),{},{ready:!1})})};return Yn(v,[r]),Yn(function(){t||v()},[t]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,x]}function gte(t,e,n,r,i){Yn(function(){if(t&&e&&n){let d=function(){r(),i()};var o=e,a=n,s=R7(o),l=R7(a),c=Qg(a),u=new Set([c].concat(mt(s),mt(l)));return u.forEach(function(f){f.addEventListener("scroll",d,{passive:!0})}),c.addEventListener("resize",d,{passive:!0}),r(),function(){u.forEach(function(f){f.removeEventListener("scroll",d),c.removeEventListener("resize",d)})}}},[t,e,n])}function vte(t,e,n,r,i,o,a,s){var l=g.useRef(t),c=g.useRef(!1);l.current!==t&&(c.current=!0,l.current=t),g.useEffect(function(){var u=Un(function(){c.current=!1});return function(){Un.cancel(u)}},[t]),g.useEffect(function(){if(e&&r&&(!i||o)){var u=function(){var T=!1,M=function(P){var L=P.target;T=a(L)},I=function(P){var L=P.target;!c.current&&l.current&&!T&&!a(L)&&s(!1)};return[M,I]},d=u(),f=Ne(d,2),p=f[0],y=f[1],b=u(),x=Ne(b,2),v=x[0],w=x[1],S=Qg(r);S.addEventListener("mousedown",p,!0),S.addEventListener("click",y,!0),S.addEventListener("contextmenu",y,!0);var C=cy(n);return C&&(C.addEventListener("mousedown",v,!0),C.addEventListener("click",w,!0),C.addEventListener("contextmenu",w,!0)),function(){S.removeEventListener("mousedown",p,!0),S.removeEventListener("click",y,!0),S.removeEventListener("contextmenu",y,!0),C&&(C.removeEventListener("mousedown",v,!0),C.removeEventListener("click",w,!0),C.removeEventListener("contextmenu",w,!0))}}},[e,n,r,i,o])}function yte(t){var e=t.prefixCls,n=t.align,r=t.arrow,i=t.arrowPos,o=r||{},a=o.className,s=o.content,l=i.x,c=l===void 0?0:l,u=i.y,d=u===void 0?0:u,f=g.useRef();if(!n||!n.points)return null;var p={position:"absolute"};if(n.autoArrow!==!1){var y=n.points[0],b=n.points[1],x=y[0],v=y[1],w=b[0],S=b[1];x===w||!["t","b"].includes(x)?p.top=d:x==="t"?p.top=0:p.bottom=0,v===S||!["l","r"].includes(v)?p.left=c:v==="l"?p.left=0:p.right=0}return g.createElement("div",{ref:f,className:ye("".concat(e,"-arrow"),a),style:p},s)}function xte(t){var e=t.prefixCls,n=t.open,r=t.zIndex,i=t.mask,o=t.motion;return i?g.createElement(el,it({},o,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(a){var s=a.className;return g.createElement("div",{style:{zIndex:r},className:ye("".concat(e,"-mask"),s)})}):null}var Ste=g.memo(function(t){var e=t.children;return e},function(t,e){return e.cache}),bte=g.forwardRef(function(t,e){var n=t.popup,r=t.className,i=t.prefixCls,o=t.style,a=t.target,s=t.onVisibleChanged,l=t.open,c=t.keepDom,u=t.fresh,d=t.onClick,f=t.mask,p=t.arrow,y=t.arrowPos,b=t.align,x=t.motion,v=t.maskMotion,w=t.forceRender,S=t.getPopupContainer,C=t.autoDestroy,_=t.portal,T=t.zIndex,M=t.onMouseEnter,I=t.onMouseLeave,R=t.onPointerEnter,P=t.ready,L=t.offsetX,k=t.offsetY,H=t.offsetR,D=t.offsetB,G=t.onAlign,B=t.onPrepare,$=t.stretch,O=t.targetWidth,z=t.targetHeight,V=typeof n=="function"?n():n,F=l||c,W=S?.length>0,q=g.useState(!S||!W),Z=Ne(q,2),ee=Z[0],oe=Z[1];if(Yn(function(){!ee&&W&&a&&oe(!0)},[ee,W,a]),!ee)return null;var re="auto",ce={left:"-1000vw",top:"-1000vh",right:re,bottom:re};if(P||!l){var Se,Pe=b.points,xe=b.dynamicInset||((Se=b._experimental)===null||Se===void 0?void 0:Se.dynamicInset),X=xe&&Pe[0][1]==="r",fe=xe&&Pe[0][0]==="b";X?(ce.right=H,ce.left=re):(ce.left=L,ce.right=re),fe?(ce.bottom=D,ce.top=re):(ce.top=k,ce.bottom=re)}var pe={};return $&&($.includes("height")&&z?pe.height=z:$.includes("minHeight")&&z&&(pe.minHeight=z),$.includes("width")&&O?pe.width=O:$.includes("minWidth")&&O&&(pe.minWidth=O)),l||(pe.pointerEvents="none"),g.createElement(_,{open:w||F,getContainer:S&&function(){return S(a)},autoDestroy:C},g.createElement(xte,{prefixCls:i,open:l,zIndex:T,mask:f,motion:v}),g.createElement(Ta,{onResize:G,disabled:!l},function(Ce){return g.createElement(el,it({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:w,leavedClassName:"".concat(i,"-hidden")},x,{onAppearPrepare:B,onEnterPrepare:B,visible:l,onVisibleChanged:function(Ge){var ve;x==null||(ve=x.onVisibleChanged)===null||ve===void 0||ve.call(x,Ge),s(Ge)}}),function(me,Ge){var ve=me.className,Re=me.style,Ae=ye(i,ve,r);return g.createElement("div",{ref:mo(Ce,e,Ge),className:Ae,style:be(be(be(be({"--arrow-x":"".concat(y.x||0,"px"),"--arrow-y":"".concat(y.y||0,"px")},ce),pe),Re),{},{boxSizing:"border-box",zIndex:T},o),onMouseEnter:M,onMouseLeave:I,onPointerEnter:R,onClick:d},p&&g.createElement(yte,{prefixCls:i,arrow:p,arrowPos:y,align:b}),g.createElement(Ste,{cache:!l&&!u},V))})}))}),wte=g.forwardRef(function(t,e){var n=t.children,r=t.getTriggerDOMNode,i=ou(n),o=g.useCallback(function(s){Tw(e,r?r(s):s)},[r]),a=Wg(o,n.ref);return i?g.cloneElement(n,{ref:a}):n}),Cte=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Ete(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:D$,e=g.forwardRef(function(n,r){var i=n.prefixCls,o=i===void 0?"rc-trigger-popup":i,a=n.children,s=n.action,l=s===void 0?"hover":s,c=n.showAction,u=n.hideAction,d=n.popupVisible,f=n.defaultPopupVisible,p=n.onPopupVisibleChange,y=n.afterPopupVisibleChange,b=n.mouseEnterDelay,x=n.mouseLeaveDelay,v=x===void 0?.1:x,w=n.focusDelay,S=n.blurDelay,C=n.mask,_=n.maskClosable,T=_===void 0?!0:_,M=n.getPopupContainer,I=n.forceRender,R=n.autoDestroy,P=n.destroyPopupOnHide,L=n.popup,k=n.popupClassName,H=n.popupStyle,D=n.popupPlacement,G=n.builtinPlacements,B=G===void 0?{}:G,$=n.popupAlign,O=n.zIndex,z=n.stretch,V=n.getPopupClassNameFromAlign,F=n.fresh,W=n.alignPoint,q=n.onPopupClick,Z=n.onPopupAlign,ee=n.arrow,oe=n.popupMotion,re=n.maskMotion,ce=n.popupTransitionName,Se=n.popupAnimation,Pe=n.maskTransitionName,xe=n.maskAnimation,X=n.className,fe=n.getTriggerDOMNode,pe=Yt(n,Cte),Ce=R||P||!1,me=g.useState(!1),Ge=Ne(me,2),ve=Ge[0],Re=Ge[1];Yn(function(){Re($5())},[]);var Ae=g.useRef({}),Le=g.useContext(sA),Je=g.useMemo(function(){return{registerSubPopup:function(dn,Sr){Ae.current[dn]=Sr,Le?.registerSubPopup(dn,Sr)}}},[Le]),K=dJ(),j=g.useState(null),ae=Ne(j,2),Ee=ae[0],Oe=ae[1],je=Zi(function(At){ty(At)&&Ee!==At&&Oe(At),Le?.registerSubPopup(K,At)}),Be=g.useState(null),Fe=Ne(Be,2),Ue=Fe[0],et=Fe[1],at=Zi(function(At){ty(At)&&Ue!==At&&et(At)}),We=g.Children.only(a),ut=We?.props||{},te={},ke=Zi(function(At){var dn,Sr,Hr=Ue;return Hr?.contains(At)||((dn=cy(Hr))===null||dn===void 0?void 0:dn.host)===At||At===Hr||Ee?.contains(At)||((Sr=cy(Ee))===null||Sr===void 0?void 0:Sr.host)===At||At===Ee||Object.values(Ae.current).some(function(vn){return vn?.contains(At)||At===vn})}),ze=cA(o,oe,Se,ce),J=cA(o,re,xe,Pe),de=g.useState(f||!1),ue=Ne(de,2),De=ue[0],Ie=ue[1],_e=d??De,rt=Zi(function(At){d===void 0&&Ie(At)});Yn(function(){Ie(d||!1)},[d]);var ct=g.useRef(_e);ct.current=_e;var pt=Zi(function(At){Na.flushSync(function(){_e!==At&&(rt(At),p?.(At))})}),Xe=g.useRef(),lt=function(){clearTimeout(Xe.current)},ot=function(dn){var Sr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;lt(),Sr===0?pt(dn):Xe.current=setTimeout(function(){pt(dn)},Sr*1e3)};g.useEffect(function(){return lt},[]);var gt=g.useState(!1),cn=Ne(gt,2),an=cn[0],Fn=cn[1];Yn(function(At){(!At||_e)&&Fn(!0)},[_e]);var Xn=g.useState(null),An=Ne(Xn,2),tn=An[0],nr=An[1],_r=g.useState([0,0]),nn=Ne(_r,2),Y=nn[0],le=nn[1],he=function(dn){le([dn.clientX,dn.clientY])},ge=mte(_e,Ee,W?Y:Ue,D,B,$,Z),Te=Ne(ge,11),ft=Te[0],Ot=Te[1],Dt=Te[2],Ft=Te[3],qt=Te[4],Mt=Te[5],kt=Te[6],$n=Te[7],Cn=Te[8],Zn=Te[9],vr=Te[10],En=fte(ve,l,c,u),Gt=Ne(En,2),un=Gt[0],Bt=Gt[1],rr=un.has("click"),Hn=Bt.has("click")||Bt.has("contextMenu"),_t=Zi(function(){an||vr()}),zt=function(){ct.current&&W&&Hn&&ot(!1)};gte(_e,Ue,Ee,_t,zt),Yn(function(){_t()},[Y,D]),Yn(function(){_e&&!(B!=null&&B[D])&&_t()},[JSON.stringify($)]);var Tt=g.useMemo(function(){var At=pte(B,o,Zn,W);return ye(At,V?.(Zn))},[Zn,V,B,o,W]);g.useImperativeHandle(r,function(){return{forceAlign:_t}});var Et=g.useState(0),Ht=Ne(Et,2),Zt=Ht[0],Pn=Ht[1],yr=g.useState(0),fr=Ne(yr,2),xr=fr[0],vo=fr[1],il=function(){if(z&&Ue){var dn=Ue.getBoundingClientRect();Pn(dn.width),vo(dn.height)}},r0=function(){il(),_t()},Zl=function(dn){Fn(!1),vr(),y?.(dn)},Ri=function(){return new Promise(function(dn){il(),nr(function(){return dn})})};Yn(function(){tn&&(vr(),tn(),nr(null))},[tn]);function ro(At,dn,Sr,Hr){te[At]=function(vn){var Ql;Hr?.(vn),ot(dn,Sr);for(var o0=arguments.length,Qd=new Array(o0>1?o0-1:0),Jd=1;Jd<o0;Jd++)Qd[Jd-1]=arguments[Jd];(Ql=ut[At])===null||Ql===void 0||Ql.call.apply(Ql,[ut,vn].concat(Qd))}}(rr||Hn)&&(te.onClick=function(At){var dn;ct.current&&Hn?ot(!1):!ct.current&&rr&&(he(At),ot(!0));for(var Sr=arguments.length,Hr=new Array(Sr>1?Sr-1:0),vn=1;vn<Sr;vn++)Hr[vn-1]=arguments[vn];(dn=ut.onClick)===null||dn===void 0||dn.call.apply(dn,[ut,At].concat(Hr))}),vte(_e,Hn,Ue,Ee,C,T,ke,ot);var ol=un.has("hover"),al=Bt.has("hover"),Ts,sl;ol&&(ro("onMouseEnter",!0,b,function(At){he(At)}),ro("onPointerEnter",!0,b,function(At){he(At)}),Ts=function(){(_e||an)&&ot(!0,b)},W&&(te.onMouseMove=function(At){var dn;(dn=ut.onMouseMove)===null||dn===void 0||dn.call(ut,At)})),al&&(ro("onMouseLeave",!1,v),ro("onPointerLeave",!1,v),sl=function(){ot(!1,v)}),un.has("focus")&&ro("onFocus",!0,w),Bt.has("focus")&&ro("onBlur",!1,S),un.has("contextMenu")&&(te.onContextMenu=function(At){var dn;ct.current&&Bt.has("contextMenu")?ot(!1):(he(At),ot(!0)),At.preventDefault();for(var Sr=arguments.length,Hr=new Array(Sr>1?Sr-1:0),vn=1;vn<Sr;vn++)Hr[vn-1]=arguments[vn];(dn=ut.onContextMenu)===null||dn===void 0||dn.call.apply(dn,[ut,At].concat(Hr))}),X&&(te.className=ye(ut.className,X));var Ms=be(be({},ut),te),Rs={},i0=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];i0.forEach(function(At){pe[At]&&(Rs[At]=function(){for(var dn,Sr=arguments.length,Hr=new Array(Sr),vn=0;vn<Sr;vn++)Hr[vn]=arguments[vn];(dn=Ms[At])===null||dn===void 0||dn.call.apply(dn,[Ms].concat(Hr)),pe[At].apply(pe,Hr)})});var hu=g.cloneElement(We,be(be({},Ms),Rs)),In={x:Mt,y:kt},Zd=ee?be({},ee!==!0?ee:{}):null;return g.createElement(g.Fragment,null,g.createElement(Ta,{disabled:!_e,ref:at,onResize:r0},g.createElement(wte,{getTriggerDOMNode:fe},hu)),g.createElement(sA.Provider,{value:Je},g.createElement(bte,{portal:t,ref:je,prefixCls:o,popup:L,className:ye(k,Tt),style:H,target:Ue,onMouseEnter:Ts,onMouseLeave:sl,onPointerEnter:Ts,zIndex:O,open:_e,keepDom:an,fresh:F,onClick:q,mask:C,motion:ze,maskMotion:J,onVisibleChanged:Zl,onPrepare:Ri,forceRender:I,autoDestroy:Ce,getPopupContainer:M,align:Zn,arrow:Zd,arrowPos:In,ready:ft,offsetX:Ot,offsetY:Dt,offsetR:Ft,offsetB:qt,onAlign:_t,stretch:z,targetWidth:Zt/$n,targetHeight:xr/Cn})))});return e}const k5=Ete(D$);var _te=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Tte=function(e){var n=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"}}},Mte=function(e,n){var r=e.prefixCls;e.disabled;var i=e.visible,o=e.children,a=e.popupElement,s=e.animation,l=e.transitionName,c=e.dropdownStyle,u=e.dropdownClassName,d=e.direction,f=d===void 0?"ltr":d,p=e.placement,y=e.builtinPlacements,b=e.dropdownMatchSelectWidth,x=e.dropdownRender,v=e.dropdownAlign,w=e.getPopupContainer,S=e.empty,C=e.getTriggerDOMNode,_=e.onPopupVisibleChange,T=e.onPopupMouseEnter,M=Yt(e,_te),I="".concat(r,"-dropdown"),R=a;x&&(R=x(a));var P=g.useMemo(function(){return y||Tte(b)},[y,b]),L=s?"".concat(I,"-").concat(s):l,k=typeof b=="number",H=g.useMemo(function(){return k?null:b===!1?"minWidth":"width"},[b,k]),D=c;k&&(D=be(be({},D),{},{width:b}));var G=g.useRef(null);return g.useImperativeHandle(n,function(){return{getPopupElement:function(){return G.current}}}),g.createElement(k5,it({},M,{showAction:_?["click"]:[],hideAction:_?["click"]:[],popupPlacement:p||(f==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:P,prefixCls:I,popupTransitionName:L,popup:g.createElement("div",{ref:G,onMouseEnter:T},R),stretch:H,popupAlign:v,popupVisible:i,getPopupContainer:w,popupClassName:ye(u,ie({},"".concat(I,"-empty"),S)),popupStyle:D,getTriggerDOMNode:C,onPopupVisibleChange:_}),o)},Z$=g.forwardRef(Mte);Z$.displayName="SelectTrigger";function pA(t,e){var n=t.key,r;return"value"in t&&(r=t.value),n??(r!==void 0?r:"rc-index-key-".concat(e))}function Q$(t,e){var n=t||{},r=n.label,i=n.value,o=n.options,a=n.groupLabel,s=r||(e?"children":"label");return{label:s,value:i||"value",options:o||"options",groupLabel:a||s}}function Rte(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.fieldNames,r=e.childrenAsData,i=[],o=Q$(n,!1),a=o.label,s=o.value,l=o.options,c=o.groupLabel;function u(d,f){d.forEach(function(p){if(f||!(l in p)){var y=p[s];i.push({key:pA(p,i.length),groupOption:f,data:p,label:p[a],value:y})}else{var b=p[c];b===void 0&&r&&(b=p.label),i.push({key:pA(p,i.length),group:!0,data:p,label:b}),u(p[l],!0)}})}return u(t,!1),i}function A7(t){var e=be({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return hi(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}function Ate(t,e){if(!e||!e.length)return null;var n=!1;function r(o,a){var s=$F(a),l=s[0],c=s.slice(1);if(!l)return[o];var u=o.split(l);return n=n||u.length>1,u.reduce(function(d,f){return[].concat(mt(d),mt(r(f,c)))},[]).filter(function(d){return d})}var i=r(t,e);return n?i:null}var Pte=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Ite=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function P7(t){return t==="tags"||t==="multiple"}var Nte=g.forwardRef(function(t,e){var n,r,i=t.id,o=t.prefixCls,a=t.className,s=t.showSearch,l=t.tagRender,c=t.direction,u=t.omitDomProps,d=t.displayValues,f=t.onDisplayValuesChange,p=t.emptyOptions,y=t.notFoundContent,b=y===void 0?"Not Found":y,x=t.onClear,v=t.mode,w=t.disabled,S=t.loading,C=t.getInputElement,_=t.getRawInputElement,T=t.open,M=t.defaultOpen,I=t.onDropdownVisibleChange,R=t.activeValue,P=t.onActiveValueChange,L=t.activeDescendantId,k=t.searchValue,H=t.autoClearSearchValue,D=t.onSearch,G=t.onSearchSplit,B=t.tokenSeparators,$=t.allowClear,O=t.suffixIcon,z=t.clearIcon,V=t.OptionList,F=t.animation,W=t.transitionName,q=t.dropdownStyle,Z=t.dropdownClassName,ee=t.dropdownMatchSelectWidth,oe=t.dropdownRender,re=t.dropdownAlign,ce=t.placement,Se=t.builtinPlacements,Pe=t.getPopupContainer,xe=t.showAction,X=xe===void 0?[]:xe,fe=t.onFocus,pe=t.onBlur,Ce=t.onKeyUp,me=t.onKeyDown,Ge=t.onMouseDown,ve=Yt(t,Pte),Re=P7(v),Ae=(s!==void 0?s:Re)||v==="combobox",Le=be({},ve);Ite.forEach(function(_t){delete Le[_t]}),u?.forEach(function(_t){delete Le[_t]});var Je=g.useState(!1),K=Ne(Je,2),j=K[0],ae=K[1];g.useEffect(function(){ae($5())},[]);var Ee=g.useRef(null),Oe=g.useRef(null),je=g.useRef(null),Be=g.useRef(null),Fe=g.useRef(null),Ue=Hee(),et=Ne(Ue,3),at=et[0],We=et[1],ut=et[2];g.useImperativeHandle(e,function(){var _t,zt;return{focus:(_t=Be.current)===null||_t===void 0?void 0:_t.focus,blur:(zt=Be.current)===null||zt===void 0?void 0:zt.blur,scrollTo:function(Et){var Ht;return(Ht=Fe.current)===null||Ht===void 0?void 0:Ht.scrollTo(Et)}}});var te=g.useMemo(function(){var _t;if(v!=="combobox")return k;var zt=(_t=d[0])===null||_t===void 0?void 0:_t.value;return typeof zt=="string"||typeof zt=="number"?String(zt):""},[k,v,d]),ke=v==="combobox"&&typeof C=="function"&&C()||null,ze=typeof _=="function"&&_(),J=Wg(Oe,ze==null||(n=ze.props)===null||n===void 0?void 0:n.ref),de=g.useState(!1),ue=Ne(de,2),De=ue[0],Ie=ue[1];Yn(function(){Ie(!0)},[]);var _e=kr(!1,{defaultValue:M,value:T}),rt=Ne(_e,2),ct=rt[0],pt=rt[1],Xe=De?ct:!1,lt=!b&&p;(w||lt&&Xe&&v==="combobox")&&(Xe=!1);var ot=lt?!1:Xe,gt=g.useCallback(function(_t){var zt=_t!==void 0?_t:!Xe;w||(pt(zt),Xe!==zt&&I?.(zt))},[w,Xe,pt,I]),cn=g.useMemo(function(){return(B||[]).some(function(_t){return[`
`,`\r
`].includes(_t)})},[B]),an=function(zt,Tt,Et){var Ht=!0,Zt=zt;P?.(null);var Pn=Et?null:Ate(zt,B);return v!=="combobox"&&Pn&&(Zt="",G?.(Pn),gt(!1),Ht=!1),D&&te!==Zt&&D(Zt,{source:Tt?"typing":"effect"}),Ht},Fn=function(zt){!zt||!zt.trim()||D(zt,{source:"submit"})};g.useEffect(function(){!Xe&&!Re&&v!=="combobox"&&an("",!1,!1)},[Xe]),g.useEffect(function(){ct&&w&&pt(!1),w&&We(!1)},[w]);var Xn=V$(),An=Ne(Xn,2),tn=An[0],nr=An[1],_r=function(zt){var Tt=tn(),Et=zt.which;if(Et===nt.ENTER&&(v!=="combobox"&&zt.preventDefault(),Xe||gt(!0)),nr(!!te),Et===nt.BACKSPACE&&!Tt&&Re&&!te&&d.length){for(var Ht=mt(d),Zt=null,Pn=Ht.length-1;Pn>=0;Pn-=1){var yr=Ht[Pn];if(!yr.disabled){Ht.splice(Pn,1),Zt=yr;break}}Zt&&f(Ht,{type:"remove",values:[Zt]})}for(var fr=arguments.length,xr=new Array(fr>1?fr-1:0),vo=1;vo<fr;vo++)xr[vo-1]=arguments[vo];if(Xe&&Fe.current){var il;(il=Fe.current).onKeyDown.apply(il,[zt].concat(xr))}me?.apply(void 0,[zt].concat(xr))},nn=function(zt){for(var Tt=arguments.length,Et=new Array(Tt>1?Tt-1:0),Ht=1;Ht<Tt;Ht++)Et[Ht-1]=arguments[Ht];if(Xe&&Fe.current){var Zt;(Zt=Fe.current).onKeyUp.apply(Zt,[zt].concat(Et))}Ce?.apply(void 0,[zt].concat(Et))},Y=function(zt){var Tt=d.filter(function(Et){return Et!==zt});f(Tt,{type:"remove",values:[zt]})},le=g.useRef(!1),he=function(){We(!0),w||(fe&&!le.current&&fe.apply(void 0,arguments),X.includes("focus")&&gt(!0)),le.current=!0},ge=function(){We(!1,function(){le.current=!1,gt(!1)}),!w&&(te&&(v==="tags"?D(te,{source:"submit"}):v==="multiple"&&D("",{source:"blur"})),pe&&pe.apply(void 0,arguments))},Te=[];g.useEffect(function(){return function(){Te.forEach(function(_t){return clearTimeout(_t)}),Te.splice(0,Te.length)}},[]);var ft=function(zt){var Tt,Et=zt.target,Ht=(Tt=je.current)===null||Tt===void 0?void 0:Tt.getPopupElement();if(Ht&&Ht.contains(Et)){var Zt=setTimeout(function(){var xr=Te.indexOf(Zt);if(xr!==-1&&Te.splice(xr,1),ut(),!j&&!Ht.contains(document.activeElement)){var vo;(vo=Be.current)===null||vo===void 0||vo.focus()}});Te.push(Zt)}for(var Pn=arguments.length,yr=new Array(Pn>1?Pn-1:0),fr=1;fr<Pn;fr++)yr[fr-1]=arguments[fr];Ge?.apply(void 0,[zt].concat(yr))},Ot=g.useState({}),Dt=Ne(Ot,2),Ft=Dt[1];function qt(){Ft({})}var Mt;ze&&(Mt=function(zt){gt(zt)}),Gee(function(){var _t;return[Ee.current,(_t=je.current)===null||_t===void 0?void 0:_t.getPopupElement()]},ot,gt,!!ze);var kt=g.useMemo(function(){return be(be({},t),{},{notFoundContent:b,open:Xe,triggerOpen:ot,id:i,showSearch:Ae,multiple:Re,toggleOpen:gt})},[t,b,ot,Xe,i,Ae,Re,gt]),$n=!!O||S,Cn;$n&&(Cn=g.createElement(U5,{className:ye("".concat(o,"-arrow"),ie({},"".concat(o,"-arrow-loading"),S)),customizeIcon:O,customizeIconProps:{loading:S,searchValue:te,open:Xe,focused:at,showSearch:Ae}}));var Zn=function(){var zt;x?.(),(zt=Be.current)===null||zt===void 0||zt.focus(),f([],{type:"clear",values:d}),an("",!1,!1)},vr=Bee(o,Zn,d,$,z,w,te,v),En=vr.allowClear,Gt=vr.clearIcon,un=g.createElement(V,{ref:Fe}),Bt=ye(o,a,(r={},ie(r,"".concat(o,"-focused"),at),ie(r,"".concat(o,"-multiple"),Re),ie(r,"".concat(o,"-single"),!Re),ie(r,"".concat(o,"-allow-clear"),$),ie(r,"".concat(o,"-show-arrow"),$n),ie(r,"".concat(o,"-disabled"),w),ie(r,"".concat(o,"-loading"),S),ie(r,"".concat(o,"-open"),Xe),ie(r,"".concat(o,"-customize-input"),ke),ie(r,"".concat(o,"-show-search"),Ae),r)),rr=g.createElement(Z$,{ref:je,disabled:w,prefixCls:o,visible:ot,popupElement:un,animation:F,transitionName:W,dropdownStyle:q,dropdownClassName:Z,direction:c,dropdownMatchSelectWidth:ee,dropdownRender:oe,dropdownAlign:re,placement:ce,builtinPlacements:Se,getPopupContainer:Pe,empty:p,getTriggerDOMNode:function(){return Oe.current},onPopupVisibleChange:Mt,onPopupMouseEnter:qt},ze?g.cloneElement(ze,{ref:J}):g.createElement(Y$,it({},t,{domRef:Oe,prefixCls:o,inputElement:ke,ref:Be,id:i,showSearch:Ae,autoClearSearchValue:H,mode:v,activeDescendantId:L,tagRender:l,values:d,open:Xe,onToggleOpen:gt,activeValue:R,searchValue:te,onSearch:an,onSearchSubmit:Fn,onRemove:Y,tokenWithEnter:cn}))),Hn;return ze?Hn=rr:Hn=g.createElement("div",it({className:Bt},Le,{ref:Ee,onMouseDown:ft,onKeyDown:_r,onKeyUp:nn,onFocus:he,onBlur:ge}),at&&!Xe&&g.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(d.map(function(_t){var zt=_t.label,Tt=_t.value;return["number","string"].includes(Xt(zt))?zt:Tt}).join(", "))),rr,Cn,En&&Gt),g.createElement(G$.Provider,{value:kt},Hn)});const Ote=function(t,e){var n=g.useRef({values:new Map,options:new Map}),r=g.useMemo(function(){var o=n.current,a=o.values,s=o.options,l=t.map(function(d){if(d.label===void 0){var f;return be(be({},d),{},{label:(f=a.get(d.value))===null||f===void 0?void 0:f.label})}return d}),c=new Map,u=new Map;return l.forEach(function(d){c.set(d.value,d),u.set(d.value,e.get(d.value)||s.get(d.value))}),n.current.values=c,n.current.options=u,l},[t,e]),i=g.useCallback(function(o){return e.get(o)||n.current.options.get(o)},[e]);return[r,i]};function c8(t,e){return q$(t).join("").toUpperCase().includes(e)}const Lte=function(t,e,n,r,i){return g.useMemo(function(){if(!n||r===!1)return t;var o=e.options,a=e.label,s=e.value,l=[],c=typeof r=="function",u=n.toUpperCase(),d=c?r:function(p,y){return i?c8(y[i],u):y[o]?c8(y[a!=="children"?a:"label"],u):c8(y[s],u)},f=c?function(p){return A7(p)}:function(p){return p};return t.forEach(function(p){if(p[o]){var y=d(n,f(p));if(y)l.push(p);else{var b=p[o].filter(function(x){return d(n,f(x))});b.length&&l.push(be(be({},p),{},ie({},o,b)))}return}d(n,f(p))&&l.push(p)}),l},[t,r,i,n,e])};var mA=0,Dte=$i();function Fte(){var t;return Dte?(t=mA,mA+=1):t="TEST_OR_SSR",t}function $te(t){var e=g.useState(),n=Ne(e,2),r=n[0],i=n[1];return g.useEffect(function(){i("rc_select_".concat(Fte()))},[]),t||r}var Ute=["children","value"],kte=["children"];function Bte(t){var e=t,n=e.key,r=e.props,i=r.children,o=r.value,a=Yt(r,Ute);return be({key:n,value:o!==void 0?o:n,children:i},a)}function J$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return No(t).map(function(n,r){if(!g.isValidElement(n)||!n.type)return null;var i=n,o=i.type.isSelectOptGroup,a=i.key,s=i.props,l=s.children,c=Yt(s,kte);return e||!o?Bte(n):be(be({key:"__RC_SELECT_GRP__".concat(a===null?r:a,"__"),label:a},c),{},{options:J$(l)})}).filter(function(n){return n})}function zte(t,e,n,r,i){return g.useMemo(function(){var o=t,a=!t;a&&(o=J$(e));var s=new Map,l=new Map,c=function(f,p,y){y&&typeof y=="string"&&f.set(p[y],p)};function u(d){for(var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=0;p<d.length;p+=1){var y=d[p];!y[n.options]||f?(s.set(y[n.value],y),c(l,y,n.label),c(l,y,r),c(l,y,i)):u(y[n.options],!0)}}return u(o),{options:o,valueOptions:s,labelOptions:l}},[t,e,n,r,i])}function gA(t){var e=g.useRef();e.current=t;var n=g.useCallback(function(){return e.current.apply(e,arguments)},[]);return n}var eC=function(){return null};eC.isSelectOptGroup=!0;var tC=function(){return null};tC.isSelectOption=!0;var eU=g.forwardRef(function(t,e){var n=t.height,r=t.offsetY,i=t.offsetX,o=t.children,a=t.prefixCls,s=t.onInnerResize,l=t.innerProps,c=t.rtl,u=t.extra,d={},f={display:"flex",flexDirection:"column"};if(r!==void 0){var p;d={height:n,position:"relative",overflow:"hidden"},f=be(be({},f),{},(p={transform:"translateY(".concat(r,"px)")},ie(p,c?"marginRight":"marginLeft",-i),ie(p,"position","absolute"),ie(p,"left",0),ie(p,"right",0),ie(p,"top",0),p))}return g.createElement("div",{style:d},g.createElement(Ta,{onResize:function(b){var x=b.offsetHeight;x&&s&&s()}},g.createElement("div",it({style:f,className:ye(ie({},"".concat(a,"-holder-inner"),a)),ref:e},l),o,u)))});eU.displayName="Filler";function vA(t,e){var n="touches"in t?t.touches[0]:t;return n[e?"pageX":"pageY"]}var yA=g.forwardRef(function(t,e){var n,r=t.prefixCls,i=t.rtl,o=t.scrollOffset,a=t.scrollRange,s=t.onStartMove,l=t.onStopMove,c=t.onScroll,u=t.horizontal,d=t.spinSize,f=t.containerSize,p=t.style,y=t.thumbStyle,b=g.useState(!1),x=Ne(b,2),v=x[0],w=x[1],S=g.useState(null),C=Ne(S,2),_=C[0],T=C[1],M=g.useState(null),I=Ne(M,2),R=I[0],P=I[1],L=!i,k=g.useRef(),H=g.useRef(),D=g.useState(!1),G=Ne(D,2),B=G[0],$=G[1],O=g.useRef(),z=function(){clearTimeout(O.current),$(!0),O.current=setTimeout(function(){$(!1)},3e3)},V=a-f||0,F=f-d||0,W=V>0,q=g.useMemo(function(){if(o===0||V===0)return 0;var X=o/V;return X*F},[o,V,F]),Z=function(fe){fe.stopPropagation(),fe.preventDefault()},ee=g.useRef({top:q,dragging:v,pageY:_,startTop:R});ee.current={top:q,dragging:v,pageY:_,startTop:R};var oe=function(fe){w(!0),T(vA(fe,u)),P(ee.current.top),s(),fe.stopPropagation(),fe.preventDefault()};g.useEffect(function(){var X=function(me){me.preventDefault()},fe=k.current,pe=H.current;return fe.addEventListener("touchstart",X),pe.addEventListener("touchstart",oe),function(){fe.removeEventListener("touchstart",X),pe.removeEventListener("touchstart",oe)}},[]);var re=g.useRef();re.current=V;var ce=g.useRef();ce.current=F,g.useEffect(function(){if(v){var X,fe=function(me){var Ge=ee.current,ve=Ge.dragging,Re=Ge.pageY,Ae=Ge.startTop;if(Un.cancel(X),ve){var Le=vA(me,u)-Re,Je=Ae;!L&&u?Je-=Le:Je+=Le;var K=re.current,j=ce.current,ae=j?Je/j:0,Ee=Math.ceil(ae*K);Ee=Math.max(Ee,0),Ee=Math.min(Ee,K),X=Un(function(){c(Ee,u)})}},pe=function(){w(!1),l()};return window.addEventListener("mousemove",fe),window.addEventListener("touchmove",fe),window.addEventListener("mouseup",pe),window.addEventListener("touchend",pe),function(){window.removeEventListener("mousemove",fe),window.removeEventListener("touchmove",fe),window.removeEventListener("mouseup",pe),window.removeEventListener("touchend",pe),Un.cancel(X)}}},[v]),g.useEffect(function(){z()},[o]),g.useImperativeHandle(e,function(){return{delayHidden:z}});var Se="".concat(r,"-scrollbar"),Pe={position:"absolute",visibility:B&&W?null:"hidden"},xe={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return u?(Pe.height=8,Pe.left=0,Pe.right=0,Pe.bottom=0,xe.height="100%",xe.width=d,L?xe.left=q:xe.right=q):(Pe.width=8,Pe.top=0,Pe.bottom=0,L?Pe.right=0:Pe.left=0,xe.width="100%",xe.height=d,xe.top=q),g.createElement("div",{ref:k,className:ye(Se,(n={},ie(n,"".concat(Se,"-horizontal"),u),ie(n,"".concat(Se,"-vertical"),!u),ie(n,"".concat(Se,"-visible"),B),n)),style:be(be({},Pe),p),onMouseDown:Z,onMouseMove:z},g.createElement("div",{ref:H,className:ye("".concat(Se,"-thumb"),ie({},"".concat(Se,"-thumb-moving"),v)),style:be(be({},xe),y),onMouseDown:oe}))});function Hte(t){var e=t.children,n=t.setRef,r=g.useCallback(function(i){n(i)},[]);return g.cloneElement(e,{ref:r})}function Gte(t,e,n,r,i,o,a){var s=a.getKey;return t.slice(e,n+1).map(function(l,c){var u=e+c,d=o(l,u,{style:{width:r}}),f=s(l);return g.createElement(Hte,{key:f,setRef:function(y){return i(l,y)}},d)})}var Vte=function(){function t(){ii(this,t),this.maps=void 0,this.id=0,this.maps=Object.create(null)}return oi(t,[{key:"set",value:function(n,r){this.maps[n]=r,this.id+=1}},{key:"get",value:function(n){return this.maps[n]}}]),t}();function Wte(t,e,n){var r=g.useState(0),i=Ne(r,2),o=i[0],a=i[1],s=g.useRef(new Map),l=g.useRef(new Vte),c=g.useRef();function u(){Un.cancel(c.current)}function d(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;u();var y=function(){s.current.forEach(function(x,v){if(x&&x.offsetParent){var w=ny(x),S=w.offsetHeight;l.current.get(v)!==S&&l.current.set(v,w.offsetHeight)}}),a(function(x){return x+1})};p?y():c.current=Un(y)}function f(p,y){var b=t(p),x=s.current.get(b);y?(s.current.set(b,y),d()):s.current.delete(b),!x!=!y&&(y?e?.(p):n?.(p))}return g.useEffect(function(){return u},[]),[f,d,l.current,o]}var jte=10;function Xte(t,e,n,r,i,o,a,s){var l=g.useRef(),c=g.useState(null),u=Ne(c,2),d=u[0],f=u[1];return Yn(function(){if(d&&d.times<jte){if(!t.current){f(function(z){return be({},z)});return}o();var p=d.targetAlign,y=d.originAlign,b=d.index,x=d.offset,v=t.current.clientHeight,w=!1,S=p,C=null;if(v){for(var _=p||y,T=0,M=0,I=0,R=Math.min(e.length-1,b),P=0;P<=R;P+=1){var L=i(e[P]);M=T;var k=n.get(L);I=M+(k===void 0?r:k),T=I}for(var H=_==="top"?x:v-x,D=R;D>=0;D-=1){var G=i(e[D]),B=n.get(G);if(B===void 0){w=!0;break}if(H-=B,H<=0)break}switch(_){case"top":C=M-x;break;case"bottom":C=I-v+x;break;default:{var $=t.current.scrollTop,O=$+v;M<$?S="top":I>O&&(S="bottom")}}C!==null&&a(C),C!==d.lastTop&&(w=!0)}w&&f(function(z){return be(be({},z),{},{times:z.times+1,targetAlign:S,lastTop:C})})}},[d,t.current]),function(p){if(p==null){s();return}if(Un.cancel(l.current),typeof p=="number")a(p);else if(p&&Xt(p)==="object"){var y,b=p.align;"index"in p?y=p.index:y=e.findIndex(function(w){return i(w)===p.key});var x=p.offset,v=x===void 0?0:x;f({times:0,index:y,offset:v,originAlign:b})}}}function qte(t,e,n){var r=t.length,i=e.length,o,a;if(r===0&&i===0)return null;r<i?(o=t,a=e):(o=e,a=t);var s={__EMPTY_ITEM__:!0};function l(y){return y!==void 0?n(y):s}for(var c=null,u=Math.abs(r-i)!==1,d=0;d<a.length;d+=1){var f=l(o[d]),p=l(a[d]);if(f!==p){c=d,u=u||f!==l(a[d+1]);break}}return c===null?null:{index:c,multiple:u}}function Kte(t,e,n){var r=g.useState(t),i=Ne(r,2),o=i[0],a=i[1],s=g.useState(null),l=Ne(s,2),c=l[0],u=l[1];return g.useEffect(function(){var d=qte(o||[],t||[],e);d?.index!==void 0&&(n?.(d.index),u(t[d.index])),a(t)},[t]),[c]}var xA=(typeof navigator>"u"?"undefined":Xt(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const tU=function(t,e){var n=g.useRef(!1),r=g.useRef(null);function i(){clearTimeout(r.current),n.current=!0,r.current=setTimeout(function(){n.current=!1},50)}var o=g.useRef({top:t,bottom:e});return o.current.top=t,o.current.bottom=e,function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=a<0&&o.current.top||a>0&&o.current.bottom;return s&&l?(clearTimeout(r.current),n.current=!1):(!l||n.current)&&i(),!n.current&&l}};function Yte(t,e,n,r,i){var o=g.useRef(0),a=g.useRef(null),s=g.useRef(null),l=g.useRef(!1),c=tU(e,n);function u(x,v){Un.cancel(a.current),o.current+=v,s.current=v,!c(v)&&(xA||x.preventDefault(),a.current=Un(function(){var w=l.current?10:1;i(o.current*w),o.current=0}))}function d(x,v){i(v,!0),xA||x.preventDefault()}var f=g.useRef(null),p=g.useRef(null);function y(x){if(t){Un.cancel(p.current),p.current=Un(function(){f.current=null},2);var v=x.deltaX,w=x.deltaY,S=x.shiftKey,C=v,_=w;(f.current==="sx"||!f.current&&S&&w&&!v)&&(C=w,_=0,f.current="sx");var T=Math.abs(C),M=Math.abs(_);f.current===null&&(f.current=r&&T>M?"x":"y"),f.current==="y"?u(x,_):d(x,C)}}function b(x){t&&(l.current=x.detail===s.current)}return[y,b]}var Zte=14/15;function Qte(t,e,n){var r=g.useRef(!1),i=g.useRef(0),o=g.useRef(null),a=g.useRef(null),s,l=function(f){if(r.current){var p=Math.ceil(f.touches[0].pageY),y=i.current-p;i.current=p,n(y)&&f.preventDefault(),clearInterval(a.current),a.current=setInterval(function(){y*=Zte,(!n(y,!0)||Math.abs(y)<=.1)&&clearInterval(a.current)},16)}},c=function(){r.current=!1,s()},u=function(f){s(),f.touches.length===1&&!r.current&&(r.current=!0,i.current=Math.ceil(f.touches[0].pageY),o.current=f.target,o.current.addEventListener("touchmove",l),o.current.addEventListener("touchend",c))};s=function(){o.current&&(o.current.removeEventListener("touchmove",l),o.current.removeEventListener("touchend",c))},Yn(function(){return t&&e.current.addEventListener("touchstart",u),function(){var d;(d=e.current)===null||d===void 0||d.removeEventListener("touchstart",u),s(),clearInterval(a.current)}},[t])}var Jte=20;function SA(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t/e*100;return isNaN(n)&&(n=0),n=Math.max(n,Jte),n=Math.min(n,t/2),Math.floor(n)}function ene(t,e,n,r){var i=g.useMemo(function(){return[new Map,[]]},[t,n.id,r]),o=Ne(i,2),a=o[0],s=o[1],l=function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u,f=a.get(u),p=a.get(d);if(f===void 0||p===void 0)for(var y=t.length,b=s.length;b<y;b+=1){var x,v=t[b],w=e(v);a.set(w,b);var S=(x=n.get(w))!==null&&x!==void 0?x:r;if(s[b]=(s[b-1]||0)+S,w===u&&(f=b),w===d&&(p=b),f!==void 0&&p!==void 0)break}return{top:s[f-1]||0,bottom:s[p]}};return l}var tne=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],nne=[],rne={overflowY:"auto",overflowAnchor:"none"};function ine(t,e){var n=t.prefixCls,r=n===void 0?"rc-virtual-list":n,i=t.className,o=t.height,a=t.itemHeight,s=t.fullHeight,l=s===void 0?!0:s,c=t.style,u=t.data,d=t.children,f=t.itemKey,p=t.virtual,y=t.direction,b=t.scrollWidth,x=t.component,v=x===void 0?"div":x,w=t.onScroll,S=t.onVirtualScroll,C=t.onVisibleChange,_=t.innerProps,T=t.extraRender,M=t.styles,I=Yt(t,tne),R=!!(p!==!1&&o&&a),P=R&&u&&(a*u.length>o||!!b),L=y==="rtl",k=ye(r,ie({},"".concat(r,"-rtl"),L),i),H=u||nne,D=g.useRef(),G=g.useRef(),B=g.useState(0),$=Ne(B,2),O=$[0],z=$[1],V=g.useState(0),F=Ne(V,2),W=F[0],q=F[1],Z=g.useState(!1),ee=Ne(Z,2),oe=ee[0],re=ee[1],ce=function(){re(!0)},Se=function(){re(!1)},Pe=g.useCallback(function(le){return typeof f=="function"?f(le):le?.[f]},[f]),xe={getKey:Pe};function X(le){z(function(he){var ge;typeof le=="function"?ge=le(he):ge=le;var Te=de(ge);return D.current.scrollTop=Te,Te})}var fe=g.useRef({start:0,end:H.length}),pe=g.useRef(),Ce=Kte(H,Pe),me=Ne(Ce,1),Ge=me[0];pe.current=Ge;var ve=Wte(Pe,null,null),Re=Ne(ve,4),Ae=Re[0],Le=Re[1],Je=Re[2],K=Re[3],j=g.useMemo(function(){if(!R)return{scrollHeight:void 0,start:0,end:H.length-1,offset:void 0};if(!P){var le;return{scrollHeight:((le=G.current)===null||le===void 0?void 0:le.offsetHeight)||0,start:0,end:H.length-1,offset:void 0}}for(var he=0,ge,Te,ft,Ot=H.length,Dt=0;Dt<Ot;Dt+=1){var Ft=H[Dt],qt=Pe(Ft),Mt=Je.get(qt),kt=he+(Mt===void 0?a:Mt);kt>=O&&ge===void 0&&(ge=Dt,Te=he),kt>O+o&&ft===void 0&&(ft=Dt),he=kt}return ge===void 0&&(ge=0,Te=0,ft=Math.ceil(o/a)),ft===void 0&&(ft=H.length-1),ft=Math.min(ft+1,H.length-1),{scrollHeight:he,start:ge,end:ft,offset:Te}},[P,R,O,H,K,o]),ae=j.scrollHeight,Ee=j.start,Oe=j.end,je=j.offset;fe.current.start=Ee,fe.current.end=Oe;var Be=g.useState({width:0,height:o}),Fe=Ne(Be,2),Ue=Fe[0],et=Fe[1],at=function(he){et(he)},We=g.useRef(),ut=g.useRef(),te=g.useMemo(function(){return SA(Ue.width,b)},[Ue.width,b]),ke=g.useMemo(function(){return SA(Ue.height,ae)},[Ue.height,ae]),ze=ae-o,J=g.useRef(ze);J.current=ze;function de(le){var he=le;return Number.isNaN(J.current)||(he=Math.min(he,J.current)),he=Math.max(he,0),he}var ue=O<=0,De=O>=ze,Ie=tU(ue,De),_e=function(){return{x:L?-W:W,y:O}},rt=g.useRef(_e()),ct=Zi(function(){if(S){var le=_e();(rt.current.x!==le.x||rt.current.y!==le.y)&&(S(le),rt.current=le)}});function pt(le,he){var ge=le;he?(Na.flushSync(function(){q(ge)}),ct()):X(ge)}function Xe(le){var he=le.currentTarget.scrollTop;he!==O&&X(he),w?.(le),ct()}var lt=function(he){var ge=he,Te=b-Ue.width;return ge=Math.max(ge,0),ge=Math.min(ge,Te),ge},ot=Zi(function(le,he){he?(Na.flushSync(function(){q(function(ge){var Te=ge+(L?-le:le);return lt(Te)})}),ct()):X(function(ge){var Te=ge+le;return Te})}),gt=Yte(R,ue,De,!!b,ot),cn=Ne(gt,2),an=cn[0],Fn=cn[1];Qte(R,D,function(le,he){return Ie(le,he)?!1:(an({preventDefault:function(){},deltaY:le}),!0)}),Yn(function(){function le(ge){R&&ge.preventDefault()}var he=D.current;return he.addEventListener("wheel",an),he.addEventListener("DOMMouseScroll",Fn),he.addEventListener("MozMousePixelScroll",le),function(){he.removeEventListener("wheel",an),he.removeEventListener("DOMMouseScroll",Fn),he.removeEventListener("MozMousePixelScroll",le)}},[R]),Yn(function(){b&&q(function(le){return lt(le)})},[Ue.width,b]);var Xn=function(){var he,ge;(he=We.current)===null||he===void 0||he.delayHidden(),(ge=ut.current)===null||ge===void 0||ge.delayHidden()},An=Xte(D,H,Je,a,Pe,function(){return Le(!0)},X,Xn);g.useImperativeHandle(e,function(){return{getScrollInfo:_e,scrollTo:function(he){function ge(Te){return Te&&Xt(Te)==="object"&&("left"in Te||"top"in Te)}ge(he)?(he.left!==void 0&&q(lt(he.left)),An(he.top)):An(he)}}}),Yn(function(){if(C){var le=H.slice(Ee,Oe+1);C(le,H)}},[Ee,Oe,H]);var tn=ene(H,Pe,Je,a),nr=T?.({start:Ee,end:Oe,virtual:P,offsetX:W,offsetY:je,rtl:L,getSize:tn}),_r=Gte(H,Ee,Oe,b,Ae,d,xe),nn=null;o&&(nn=be(ie({},l?"height":"maxHeight",o),rne),R&&(nn.overflowY="hidden",b&&(nn.overflowX="hidden"),oe&&(nn.pointerEvents="none")));var Y={};return L&&(Y.dir="rtl"),g.createElement("div",it({style:be(be({},c),{},{position:"relative"}),className:k},Y,I),g.createElement(Ta,{onResize:at},g.createElement(v,{className:"".concat(r,"-holder"),style:nn,ref:D,onScroll:Xe,onMouseEnter:Xn},g.createElement(eU,{prefixCls:r,height:ae,offsetX:W,offsetY:je,scrollWidth:b,onInnerResize:Le,ref:G,innerProps:_,rtl:L,extra:nr},_r))),P&&ae>o&&g.createElement(yA,{ref:We,prefixCls:r,scrollOffset:O,scrollRange:ae,rtl:L,onScroll:pt,onStartMove:ce,onStopMove:Se,spinSize:ke,containerSize:Ue.height,style:M?.verticalScrollBar,thumbStyle:M?.verticalScrollBarThumb}),P&&b&&g.createElement(yA,{ref:ut,prefixCls:r,scrollOffset:W,scrollRange:b,rtl:L,onScroll:pt,onStartMove:ce,onStopMove:Se,spinSize:te,containerSize:Ue.width,horizontal:!0,style:M?.horizontalScrollBar,thumbStyle:M?.horizontalScrollBarThumb}))}var nU=g.forwardRef(ine);nU.displayName="List";var rU=g.createContext(null);function one(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var ane=["disabled","title","children","style","className"];function bA(t){return typeof t=="string"||typeof t=="number"}var sne=function(e,n){var r=zee(),i=r.prefixCls,o=r.id,a=r.open,s=r.multiple,l=r.mode,c=r.searchValue,u=r.toggleOpen,d=r.notFoundContent,f=r.onPopupScroll,p=g.useContext(rU),y=p.flattenOptions,b=p.onActiveValue,x=p.defaultActiveFirstOption,v=p.onSelect,w=p.menuItemSelectedIcon,S=p.rawValues,C=p.fieldNames,_=p.virtual,T=p.direction,M=p.listHeight,I=p.listItemHeight,R="".concat(i,"-item"),P=Vg(function(){return y},[a,y],function(re,ce){return ce[0]&&re[1]!==ce[1]}),L=g.useRef(null),k=function(ce){ce.preventDefault()},H=function(ce){L.current&&L.current.scrollTo(typeof ce=="number"?{index:ce}:ce)},D=function(ce){for(var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Pe=P.length,xe=0;xe<Pe;xe+=1){var X=(ce+xe*Se+Pe)%Pe,fe=P[X],pe=fe.group,Ce=fe.data;if(!pe&&!Ce.disabled)return X}return-1},G=g.useState(function(){return D(0)}),B=Ne(G,2),$=B[0],O=B[1],z=function(ce){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;O(ce);var Pe={source:Se?"keyboard":"mouse"},xe=P[ce];if(!xe){b(null,-1,Pe);return}b(xe.value,ce,Pe)};g.useEffect(function(){z(x!==!1?D(0):-1)},[P.length,c]);var V=g.useCallback(function(re){return S.has(re)&&l!=="combobox"},[l,mt(S).toString(),S.size]);g.useEffect(function(){var re=setTimeout(function(){if(!s&&a&&S.size===1){var Se=Array.from(S)[0],Pe=P.findIndex(function(xe){var X=xe.data;return X.value===Se});Pe!==-1&&(z(Pe),H(Pe))}});if(a){var ce;(ce=L.current)===null||ce===void 0||ce.scrollTo(void 0)}return function(){return clearTimeout(re)}},[a,c,y.length]);var F=function(ce){ce!==void 0&&v(ce,{selected:!S.has(ce)}),s||u(!1)};if(g.useImperativeHandle(n,function(){return{onKeyDown:function(ce){var Se=ce.which,Pe=ce.ctrlKey;switch(Se){case nt.N:case nt.P:case nt.UP:case nt.DOWN:{var xe=0;if(Se===nt.UP?xe=-1:Se===nt.DOWN?xe=1:one()&&Pe&&(Se===nt.N?xe=1:Se===nt.P&&(xe=-1)),xe!==0){var X=D($+xe,xe);H(X),z(X,!0)}break}case nt.ENTER:{var fe=P[$];fe&&!fe.data.disabled?F(fe.value):F(void 0),a&&ce.preventDefault();break}case nt.ESC:u(!1),a&&ce.stopPropagation()}},onKeyUp:function(){},scrollTo:function(ce){H(ce)}}}),P.length===0)return g.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(R,"-empty"),onMouseDown:k},d);var W=Object.keys(C).map(function(re){return C[re]}),q=function(ce){return ce.label};function Z(re,ce){var Se=re.group;return{role:Se?"presentation":"option",id:"".concat(o,"_list_").concat(ce)}}var ee=function(ce){var Se=P[ce];if(!Se)return null;var Pe=Se.data||{},xe=Pe.value,X=Se.group,fe=ep(Pe,!0),pe=q(Se);return Se?g.createElement("div",it({"aria-label":typeof pe=="string"&&!X?pe:null},fe,{key:ce},Z(Se,ce),{"aria-selected":V(xe)}),xe):null},oe={role:"listbox",id:"".concat(o,"_list")};return g.createElement(g.Fragment,null,_&&g.createElement("div",it({},oe,{style:{height:0,width:0,overflow:"hidden"}}),ee($-1),ee($),ee($+1)),g.createElement(nU,{itemKey:"key",ref:L,data:P,height:M,itemHeight:I,fullHeight:!1,onMouseDown:k,onScroll:f,virtual:_,direction:T,innerProps:_?null:oe},function(re,ce){var Se,Pe=re.group,xe=re.groupOption,X=re.data,fe=re.label,pe=re.value,Ce=X.key;if(Pe){var me,Ge=(me=X.title)!==null&&me!==void 0?me:bA(fe)?fe.toString():void 0;return g.createElement("div",{className:ye(R,"".concat(R,"-group")),title:Ge},fe!==void 0?fe:Ce)}var ve=X.disabled,Re=X.title;X.children;var Ae=X.style,Le=X.className,Je=Yt(X,ane),K=Yr(Je,W),j=V(pe),ae="".concat(R,"-option"),Ee=ye(R,ae,Le,(Se={},ie(Se,"".concat(ae,"-grouped"),xe),ie(Se,"".concat(ae,"-active"),$===ce&&!ve),ie(Se,"".concat(ae,"-disabled"),ve),ie(Se,"".concat(ae,"-selected"),j),Se)),Oe=q(re),je=!w||typeof w=="function"||j,Be=typeof Oe=="number"?Oe:Oe||pe,Fe=bA(Be)?Be.toString():void 0;return Re!==void 0&&(Fe=Re),g.createElement("div",it({},ep(K),_?{}:Z(re,ce),{"aria-selected":j,className:Ee,title:Fe,onMouseMove:function(){$===ce||ve||z(ce)},onClick:function(){ve||F(pe)},style:Ae}),g.createElement("div",{className:"".concat(ae,"-content")},Be),g.isValidElement(w)||j,je&&g.createElement(U5,{className:"".concat(R,"-option-state"),customizeIcon:w,customizeIconProps:{isSelected:j}},j?"":null))}))},iU=g.forwardRef(sne);iU.displayName="OptionList";var lne=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],cne=["inputValue"];function une(t){return!t||Xt(t)!=="object"}var dne=g.forwardRef(function(t,e){var n=t.id,r=t.mode,i=t.prefixCls,o=i===void 0?"rc-select":i,a=t.backfill,s=t.fieldNames,l=t.inputValue,c=t.searchValue,u=t.onSearch,d=t.autoClearSearchValue,f=d===void 0?!0:d,p=t.onSelect,y=t.onDeselect,b=t.dropdownMatchSelectWidth,x=b===void 0?!0:b,v=t.filterOption,w=t.filterSort,S=t.optionFilterProp,C=t.optionLabelProp,_=t.options,T=t.children,M=t.defaultActiveFirstOption,I=t.menuItemSelectedIcon,R=t.virtual,P=t.direction,L=t.listHeight,k=L===void 0?200:L,H=t.listItemHeight,D=H===void 0?20:H,G=t.value,B=t.defaultValue,$=t.labelInValue,O=t.onChange,z=Yt(t,lne),V=$te(n),F=P7(r),W=!!(!_&&T),q=g.useMemo(function(){return v===void 0&&r==="combobox"?!1:v},[v,r]),Z=g.useMemo(function(){return Q$(s,W)},[JSON.stringify(s),W]),ee=kr("",{value:c!==void 0?c:l,postState:function(lt){return lt||""}}),oe=Ne(ee,2),re=oe[0],ce=oe[1],Se=zte(_,T,Z,S,C),Pe=Se.valueOptions,xe=Se.labelOptions,X=Se.options,fe=g.useCallback(function(Xe){var lt=q$(Xe);return lt.map(function(ot){var gt,cn,an,Fn,Xn;if(une(ot))gt=ot;else{var An;an=ot.key,cn=ot.label,gt=(An=ot.value)!==null&&An!==void 0?An:an}var tn=Pe.get(gt);if(tn){var nr;cn===void 0&&(cn=tn?.[C||Z.label]),an===void 0&&(an=(nr=tn?.key)!==null&&nr!==void 0?nr:gt),Fn=tn?.disabled,Xn=tn?.title}return{label:cn,value:gt,key:an,disabled:Fn,title:Xn}})},[Z,C,Pe]),pe=kr(B,{value:G}),Ce=Ne(pe,2),me=Ce[0],Ge=Ce[1],ve=g.useMemo(function(){var Xe,lt=fe(me);return r==="combobox"&&ote((Xe=lt[0])===null||Xe===void 0?void 0:Xe.value)?[]:lt},[me,fe,r]),Re=Ote(ve,Pe),Ae=Ne(Re,2),Le=Ae[0],Je=Ae[1],K=g.useMemo(function(){if(!r&&Le.length===1){var Xe=Le[0];if(Xe.value===null&&(Xe.label===null||Xe.label===void 0))return[]}return Le.map(function(lt){var ot;return be(be({},lt),{},{label:(ot=lt.label)!==null&&ot!==void 0?ot:lt.value})})},[r,Le]),j=g.useMemo(function(){return new Set(Le.map(function(Xe){return Xe.value}))},[Le]);g.useEffect(function(){if(r==="combobox"){var Xe,lt=(Xe=Le[0])===null||Xe===void 0?void 0:Xe.value;ce(ite(lt)?String(lt):"")}},[Le]);var ae=gA(function(Xe,lt){var ot,gt=lt??Xe;return ot={},ie(ot,Z.value,Xe),ie(ot,Z.label,gt),ot}),Ee=g.useMemo(function(){if(r!=="tags")return X;var Xe=mt(X),lt=function(gt){return Pe.has(gt)};return mt(Le).sort(function(ot,gt){return ot.value<gt.value?-1:1}).forEach(function(ot){var gt=ot.value;lt(gt)||Xe.push(ae(gt,ot.label))}),Xe},[ae,X,Pe,Le,r]),Oe=Lte(Ee,Z,re,q,S),je=g.useMemo(function(){return r!=="tags"||!re||Oe.some(function(Xe){return Xe[S||"value"]===re})||Oe.some(function(Xe){return Xe[Z.value]===re})?Oe:[ae(re)].concat(mt(Oe))},[ae,S,r,Oe,re,Z]),Be=g.useMemo(function(){return w?mt(je).sort(function(Xe,lt){return w(Xe,lt)}):je},[je,w]),Fe=g.useMemo(function(){return Rte(Be,{fieldNames:Z,childrenAsData:W})},[Be,Z,W]),Ue=function(lt){var ot=fe(lt);if(Ge(ot),O&&(ot.length!==Le.length||ot.some(function(an,Fn){var Xn;return((Xn=Le[Fn])===null||Xn===void 0?void 0:Xn.value)!==an?.value}))){var gt=$?ot:ot.map(function(an){return an.value}),cn=ot.map(function(an){return A7(Je(an.value))});O(F?gt:gt[0],F?cn:cn[0])}},et=g.useState(null),at=Ne(et,2),We=at[0],ut=at[1],te=g.useState(0),ke=Ne(te,2),ze=ke[0],J=ke[1],de=M!==void 0?M:r!=="combobox",ue=g.useCallback(function(Xe,lt){var ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},gt=ot.source,cn=gt===void 0?"keyboard":gt;J(lt),a&&r==="combobox"&&Xe!==null&&cn==="keyboard"&&ut(String(Xe))},[a,r]),De=function(lt,ot,gt){var cn=function(){var le,he=Je(lt);return[$?{label:he?.[Z.label],value:lt,key:(le=he?.key)!==null&&le!==void 0?le:lt}:lt,A7(he)]};if(ot&&p){var an=cn(),Fn=Ne(an,2),Xn=Fn[0],An=Fn[1];p(Xn,An)}else if(!ot&&y&&gt!=="clear"){var tn=cn(),nr=Ne(tn,2),_r=nr[0],nn=nr[1];y(_r,nn)}},Ie=gA(function(Xe,lt){var ot,gt=F?lt.selected:!0;gt?ot=F?[].concat(mt(Le),[Xe]):[Xe]:ot=Le.filter(function(cn){return cn.value!==Xe}),Ue(ot),De(Xe,gt),r==="combobox"?ut(""):(!P7||f)&&(ce(""),ut(""))}),_e=function(lt,ot){Ue(lt);var gt=ot.type,cn=ot.values;(gt==="remove"||gt==="clear")&&cn.forEach(function(an){De(an.value,!1,gt)})},rt=function(lt,ot){if(ce(lt),ut(null),ot.source==="submit"){var gt=(lt||"").trim();if(gt){var cn=Array.from(new Set([].concat(mt(j),[gt])));Ue(cn),De(gt,!0),ce("")}return}ot.source!=="blur"&&(r==="combobox"&&Ue(lt),u?.(lt))},ct=function(lt){var ot=lt;r!=="tags"&&(ot=lt.map(function(cn){var an=xe.get(cn);return an?.value}).filter(function(cn){return cn!==void 0}));var gt=Array.from(new Set([].concat(mt(j),mt(ot))));Ue(gt),gt.forEach(function(cn){De(cn,!0)})},pt=g.useMemo(function(){var Xe=R!==!1&&x!==!1;return be(be({},Se),{},{flattenOptions:Fe,onActiveValue:ue,defaultActiveFirstOption:de,onSelect:Ie,menuItemSelectedIcon:I,rawValues:j,fieldNames:Z,virtual:Xe,direction:P,listHeight:k,listItemHeight:D,childrenAsData:W})},[Se,Fe,ue,de,Ie,I,j,Z,R,x,k,D,W]);return g.createElement(rU.Provider,{value:pt},g.createElement(Nte,it({},z,{id:V,prefixCls:o,ref:e,omitDomProps:cne,mode:r,displayValues:K,onDisplayValuesChange:_e,direction:P,searchValue:re,onSearch:rt,autoClearSearchValue:f,onSearchSplit:ct,dropdownMatchSelectWidth:x,OptionList:iU,emptyOptions:!Fe.length,activeValue:We,activeDescendantId:"".concat(V,"_list_").concat(ze)})))}),nC=dne;nC.Option=tC;nC.OptGroup=eC;function Vs(t,e,n){return ye({[`${t}-status-success`]:e==="success",[`${t}-status-warning`]:e==="warning",[`${t}-status-error`]:e==="error",[`${t}-status-validating`]:e==="validating",[`${t}-has-feedback`]:n})}const B5=(t,e)=>e||t,fne=()=>{const[,t]=Fa(),n=new qr(t.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return g.createElement("svg",{style:n,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},g.createElement("g",{fill:"none",fillRule:"evenodd"},g.createElement("g",{transform:"translate(24 31.67)"},g.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),g.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),g.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),g.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),g.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),g.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),g.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},g.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),g.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},hne=fne,pne=()=>{const[,t]=Fa(),{colorFill:e,colorFillTertiary:n,colorFillQuaternary:r,colorBgContainer:i}=t,{borderColor:o,shadowColor:a,contentColor:s}=g.useMemo(()=>({borderColor:new qr(e).onBackground(i).toHexShortString(),shadowColor:new qr(n).onBackground(i).toHexShortString(),contentColor:new qr(r).onBackground(i).toHexShortString()}),[e,n,r,i]);return g.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},g.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},g.createElement("ellipse",{fill:a,cx:"32",cy:"33",rx:"32",ry:"7"}),g.createElement("g",{fillRule:"nonzero",stroke:o},g.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),g.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:s}))))},mne=pne,gne=t=>{const{componentCls:e,margin:n,marginXS:r,marginXL:i,fontSize:o,lineHeight:a}=t;return{[e]:{marginInline:r,fontSize:o,lineHeight:a,textAlign:"center",[`${e}-image`]:{height:t.emptyImgHeight,marginBottom:r,opacity:t.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${e}-description`]:{color:t.colorText},[`${e}-footer`]:{marginTop:n},"&-normal":{marginBlock:i,color:t.colorTextDisabled,[`${e}-description`]:{color:t.colorTextDisabled},[`${e}-image`]:{height:t.emptyImgHeightMD}},"&-small":{marginBlock:r,color:t.colorTextDisabled,[`${e}-image`]:{height:t.emptyImgHeightSM}}}}},vne=lr("Empty",t=>{const{componentCls:e,controlHeightLG:n}=t,r=pn(t,{emptyImgCls:`${e}-img`,emptyImgHeight:n*2.5,emptyImgHeightMD:n,emptyImgHeightSM:n*.875});return[gne(r)]});var yne=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const oU=g.createElement(hne,null),aU=g.createElement(mne,null),rC=t=>{var{className:e,rootClassName:n,prefixCls:r,image:i=oU,description:o,children:a,imageStyle:s,style:l}=t,c=yne(t,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:u,direction:d,empty:f}=g.useContext(Wt),p=u("empty",r),[y,b]=vne(p),[x]=jg("Empty"),v=typeof o<"u"?o:x?.description,w=typeof v=="string"?v:"empty";let S=null;return typeof i=="string"?S=g.createElement("img",{alt:w,src:i}):S=i,y(g.createElement("div",Object.assign({className:ye(b,p,f?.className,{[`${p}-normal`]:i===aU,[`${p}-rtl`]:d==="rtl"},e,n),style:Object.assign(Object.assign({},f?.style),l)},c),g.createElement("div",{className:`${p}-image`,style:s},S),v&&g.createElement("div",{className:`${p}-description`},v),a&&g.createElement("div",{className:`${p}-footer`},a)))};rC.PRESENTED_IMAGE_DEFAULT=oU;rC.PRESENTED_IMAGE_SIMPLE=aU;const L0=rC,xne=t=>{const{componentName:e}=t,{getPrefixCls:n}=g.useContext(Wt),r=n("empty");switch(e){case"Table":case"List":return se.createElement(L0,{image:L0.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return se.createElement(L0,{image:L0.PRESENTED_IMAGE_SIMPLE,className:`${r}-small`});default:return se.createElement(L0,null)}},sU=xne,Sne=t=>{const{optionHeight:e,optionFontSize:n,optionLineHeight:r,optionPadding:i}=t;return{position:"relative",display:"block",minHeight:e,padding:i,color:t.colorText,fontWeight:"normal",fontSize:n,lineHeight:r,boxSizing:"border-box"}},bne=t=>{const{antCls:e,componentCls:n}=t,r=`${n}-item`,i=`&${e}-slide-up-enter${e}-slide-up-enter-active`,o=`&${e}-slide-up-appear${e}-slide-up-appear-active`,a=`&${e}-slide-up-leave${e}-slide-up-leave-active`,s=`${n}-dropdown-placement-`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},Ir(t)),{position:"absolute",top:-9999,zIndex:t.zIndexPopup,boxSizing:"border-box",padding:t.paddingXXS,overflow:"hidden",fontSize:t.fontSize,fontVariant:"initial",backgroundColor:t.colorBgElevated,borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary,[`
          ${i}${s}bottomLeft,
          ${o}${s}bottomLeft
        `]:{animationName:Xw},[`
          ${i}${s}topLeft,
          ${o}${s}topLeft,
          ${i}${s}topRight,
          ${o}${s}topRight
        `]:{animationName:Kw},[`${a}${s}bottomLeft`]:{animationName:qw},[`
          ${a}${s}topLeft,
          ${a}${s}topRight
        `]:{animationName:Yw},"&-hidden":{display:"none"},[`${r}`]:Object.assign(Object.assign({},Sne(t)),{cursor:"pointer",transition:`background ${t.motionDurationSlow} ease`,borderRadius:t.borderRadiusSM,"&-group":{color:t.colorTextDescription,fontSize:t.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},Hl),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:t.optionActiveBg},[`&-selected:not(${r}-option-disabled)`]:{color:t.optionSelectedColor,fontWeight:t.optionSelectedFontWeight,backgroundColor:t.optionSelectedBg,[`${r}-option-state`]:{color:t.colorPrimary}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:t.colorBgContainerDisabled},color:t.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:t.controlPaddingHorizontal*2}}}),"&-rtl":{direction:"rtl"}})},Yc(t,"slide-up"),Yc(t,"slide-down"),hy(t,"move-up"),hy(t,"move-down")]},wne=bne,Sf=2,lU=t=>{let{multipleSelectItemHeight:e,selectHeight:n,lineWidth:r}=t;const i=(n-e)/2-r,o=Math.ceil(i/2);return[i,o]};function u8(t,e){const{componentCls:n,iconCls:r}=t,i=`${n}-selection-overflow`,o=t.multipleSelectItemHeight,[a]=lU(t),s=e?`${n}-${e}`:"";return{[`${n}-multiple${s}`]:{fontSize:t.fontSize,[i]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}},[`${n}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",padding:`${a-Sf}px ${Sf*2}px`,borderRadius:t.borderRadius,[`${n}-show-search&`]:{cursor:"text"},[`${n}-disabled&`]:{background:t.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${Sf}px 0`,lineHeight:`${o}px`,visibility:"hidden",content:'"\\a0"'}},[`
        &${n}-show-arrow ${n}-selector,
        &${n}-allow-clear ${n}-selector
      `]:{paddingInlineEnd:t.fontSizeIcon+t.controlPaddingHorizontal},[`${n}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:o,marginTop:Sf,marginBottom:Sf,lineHeight:`${o-t.lineWidth*2}px`,background:t.multipleItemBg,border:`${t.lineWidth}px ${t.lineType} ${t.multipleItemBorderColor}`,borderRadius:t.borderRadiusSM,cursor:"default",transition:`font-size ${t.motionDurationSlow}, line-height ${t.motionDurationSlow}, height ${t.motionDurationSlow}`,marginInlineEnd:Sf*2,paddingInlineStart:t.paddingXS,paddingInlineEnd:t.paddingXS/2,[`${n}-disabled&`]:{color:t.multipleItemColorDisabled,borderColor:t.multipleItemBorderColorDisabled,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:t.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},zp()),{display:"inline-flex",alignItems:"center",color:t.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${r}`]:{verticalAlign:"-0.2em"},"&:hover":{color:t.colorIconHover}})},[`${i}-item + ${i}-item`]:{[`${n}-selection-search`]:{marginInlineStart:0}},[`${i}-item-suffix`]:{height:"100%"},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:t.inputPaddingHorizontalBase-a,"\n          &-input,\n          &-mirror\n        ":{height:o,fontFamily:t.fontFamily,lineHeight:`${o}px`,transition:`all ${t.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:t.inputPaddingHorizontalBase,insetInlineEnd:t.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${t.motionDurationSlow}`}}}}const Cne=t=>{const{componentCls:e}=t,n=pn(t,{selectHeight:t.controlHeightSM,multipleSelectItemHeight:t.controlHeightXS,borderRadius:t.borderRadiusSM,borderRadiusSM:t.borderRadiusXS}),r=pn(t,{fontSize:t.fontSizeLG,selectHeight:t.controlHeightLG,multipleSelectItemHeight:t.multipleItemHeightLG,borderRadius:t.borderRadiusLG,borderRadiusSM:t.borderRadius}),[,i]=lU(t);return[u8(t),u8(n,"sm"),{[`${e}-multiple${e}-sm`]:{[`${e}-selection-placeholder`]:{insetInline:t.controlPaddingHorizontalSM-t.lineWidth},[`${e}-selection-search`]:{marginInlineStart:i}}},u8(r,"lg")]},Ene=Cne;function d8(t,e){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:i}=t,o=t.controlHeight-t.lineWidth*2,a=Math.ceil(t.fontSize*1.25),s=e?`${n}-${e}`:"";return{[`${n}-single${s}`]:{fontSize:t.fontSize,height:t.controlHeight,[`${n}-selector`]:Object.assign(Object.assign({},Ir(t)),{display:"flex",borderRadius:i,[`${n}-selection-search`]:{position:"absolute",top:0,insetInlineStart:r,insetInlineEnd:r,bottom:0,"&-input":{width:"100%"}},[`
          ${n}-selection-item,
          ${n}-selection-placeholder
        `]:{padding:0,lineHeight:`${o}px`,transition:`all ${t.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:empty:after`,`${n}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${n}-show-arrow ${n}-selection-item,
        &${n}-show-arrow ${n}-selection-placeholder
      `]:{paddingInlineEnd:a},[`&${n}-open ${n}-selection-item`]:{color:t.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:"100%",padding:`0 ${r}px`,[`${n}-selection-search-input`]:{height:o},"&:after":{lineHeight:`${o}px`}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${r}px`,"&:after":{display:"none"}}}}}}}function _ne(t){const{componentCls:e}=t,n=t.controlPaddingHorizontalSM-t.lineWidth;return[d8(t),d8(pn(t,{controlHeight:t.controlHeightSM,borderRadius:t.borderRadiusSM}),"sm"),{[`${e}-single${e}-sm`]:{[`&:not(${e}-customize-input)`]:{[`${e}-selection-search`]:{insetInlineStart:n,insetInlineEnd:n},[`${e}-selector`]:{padding:`0 ${n}px`},[`&${e}-show-arrow ${e}-selection-search`]:{insetInlineEnd:n+t.fontSize*1.5},[`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]:{paddingInlineEnd:t.fontSize*1.5}}}},d8(pn(t,{controlHeight:t.singleItemHeightLG,fontSize:t.fontSizeLG,borderRadius:t.borderRadiusLG}),"lg")]}const Tne=t=>{const{componentCls:e,selectorBg:n}=t;return{position:"relative",backgroundColor:n,border:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,input:{cursor:"pointer"},[`${e}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${e}-disabled&`]:{color:t.colorTextDisabled,background:t.colorBgContainerDisabled,cursor:"not-allowed",[`${e}-multiple&`]:{background:t.multipleSelectorBgDisabled},input:{cursor:"not-allowed"}}}},f8=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{componentCls:r,borderHoverColor:i,outlineColor:o,antCls:a}=e,s=n?{[`${r}-selector`]:{borderColor:i}}:{};return{[t]:{[`&:not(${r}-disabled):not(${r}-customize-input):not(${a}-pagination-size-changer)`]:Object.assign(Object.assign({},s),{[`${r}-focused& ${r}-selector`]:{borderColor:i,boxShadow:`0 0 0 ${e.controlOutlineWidth}px ${o}`,outline:0},[`&:hover ${r}-selector`]:{borderColor:i}})}}},Mne=t=>{const{componentCls:e}=t;return{[`${e}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},Rne=t=>{const{antCls:e,componentCls:n,inputPaddingHorizontalBase:r,iconCls:i}=t;return{[n]:Object.assign(Object.assign({},Ir(t)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${n}-customize-input) ${n}-selector`]:Object.assign(Object.assign({},Tne(t)),Mne(t)),[`${n}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},Hl),{[`> ${e}-typography`]:{display:"inline"}}),[`${n}-selection-placeholder`]:Object.assign(Object.assign({},Hl),{flex:1,color:t.colorTextPlaceholder,pointerEvents:"none"}),[`${n}-arrow`]:Object.assign(Object.assign({},zp()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,height:t.fontSizeIcon,marginTop:-t.fontSizeIcon/2,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",[i]:{verticalAlign:"top",transition:`transform ${t.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${n}-suffix)`]:{pointerEvents:"auto"}},[`${n}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,zIndex:1,display:"inline-block",width:t.fontSizeIcon,height:t.fontSizeIcon,marginTop:-t.fontSizeIcon/2,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:t.clearBg,cursor:"pointer",opacity:0,transition:`color ${t.motionDurationMid} ease, opacity ${t.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:t.colorTextTertiary}},"&:hover":{[`${n}-clear`]:{opacity:1}}}),[`${n}-has-feedback`]:{[`${n}-clear`]:{insetInlineEnd:r+t.fontSize+t.paddingXS}}}},Ane=t=>{const{componentCls:e}=t;return[{[e]:{[`&-borderless ${e}-selector`]:{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"},[`&${e}-in-form-item`]:{width:"100%"}}},Rne(t),_ne(t),Ene(t),wne(t),{[`${e}-rtl`]:{direction:"rtl"}},f8(e,pn(t,{borderHoverColor:t.colorPrimaryHover,outlineColor:t.controlOutline})),f8(`${e}-status-error`,pn(t,{borderHoverColor:t.colorErrorHover,outlineColor:t.colorErrorOutline}),!0),f8(`${e}-status-warning`,pn(t,{borderHoverColor:t.colorWarningHover,outlineColor:t.colorWarningOutline}),!0),L5(t,{borderElCls:`${e}-selector`,focusElCls:`${e}-focused`})]},Pne=lr("Select",(t,e)=>{let{rootPrefixCls:n}=e;const r=pn(t,{rootPrefixCls:n,inputPaddingHorizontalBase:t.paddingSM-1,multipleSelectItemHeight:t.multipleItemHeight,selectHeight:t.controlHeight});return[Ane(r)]},t=>{const{fontSize:e,lineHeight:n,controlHeight:r,controlPaddingHorizontal:i,zIndexPopupBase:o,colorText:a,fontWeightStrong:s,controlItemBgActive:l,controlItemBgHover:c,colorBgContainer:u,colorFillSecondary:d,controlHeightLG:f,controlHeightSM:p,colorBgContainerDisabled:y,colorTextDisabled:b}=t;return{zIndexPopup:o+50,optionSelectedColor:a,optionSelectedFontWeight:s,optionSelectedBg:l,optionActiveBg:c,optionPadding:`${(r-e*n)/2}px ${i}px`,optionFontSize:e,optionLineHeight:n,optionHeight:r,selectorBg:u,clearBg:u,singleItemHeightLG:f,multipleItemBg:d,multipleItemBorderColor:"transparent",multipleItemHeight:p,multipleItemHeightLG:r,multipleSelectorBgDisabled:y,multipleItemColorDisabled:b,multipleItemBorderColorDisabled:"transparent"}}),Ine=t=>{const n={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:t==="scroll"?"scroll":"visible",_experimental:{dynamicInset:!0}};return{bottomLeft:Object.assign(Object.assign({},n),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},n),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},n),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},n),{points:["br","tr"],offset:[0,-4]})}};function Nne(t,e){return t||Ine(e)}function One(t,e){return e!==void 0?e:t!==null}var Lne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};const Dne=Lne;var Fne=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:Dne}))};const iC=g.forwardRef(Fne);var $ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};const Une=$ne;var kne=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:Une}))};const my=g.forwardRef(kne);var Bne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};const zne=Bne;var Hne=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:zne}))};const cU=g.forwardRef(Hne);function Gne(t){let{suffixIcon:e,clearIcon:n,menuItemSelectedIcon:r,removeIcon:i,loading:o,multiple:a,hasFeedback:s,prefixCls:l,showSuffixIcon:c,feedbackIcon:u,showArrow:d,componentName:f}=t;const p=n??g.createElement(Xg,null),y=w=>e===null&&!s&&!d?null:g.createElement(g.Fragment,null,c!==!1&&w,s&&u);let b=null;if(e!==void 0)b=y(e);else if(o)b=y(g.createElement(rg,{spin:!0}));else{const w=`${l}-suffix`;b=S=>{let{open:C,showSearch:_}=S;return y(C&&_?g.createElement(cU,{className:w}):g.createElement(my,{className:w}))}}let x=null;r!==void 0?x=r:a?x=g.createElement(iC,null):x=null;let v=null;return i!==void 0?v=i:v=g.createElement(qg,null),{clearIcon:p,suffixIcon:b,itemIcon:x,removeIcon:v}}var Vne=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const uU="SECRET_COMBOBOX_MODE_DO_NOT_USE",Wne=(t,e)=>{var n,{prefixCls:r,bordered:i=!0,className:o,rootClassName:a,getPopupContainer:s,popupClassName:l,dropdownClassName:c,listHeight:u=256,placement:d,listItemHeight:f=24,size:p,disabled:y,notFoundContent:b,status:x,builtinPlacements:v,dropdownMatchSelectWidth:w,popupMatchSelectWidth:S,direction:C,style:_,allowClear:T}=t,M=Vne(t,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear"]);const{getPopupContainer:I,getPrefixCls:R,renderEmpty:P,direction:L,virtual:k,popupMatchSelectWidth:H,popupOverflow:D,select:G}=g.useContext(Wt),B=R("select",r),$=R(),O=C??L,{compactSize:z,compactItemClassnames:V}=Hp(B,O),[F,W]=Pne(B),q=g.useMemo(()=>{const{mode:Ee}=M;if(Ee!=="combobox")return Ee===uU?"combobox":Ee},[M.mode]),Z=q==="multiple"||q==="tags",ee=One(M.suffixIcon,M.showArrow),oe=(n=S??w)!==null&&n!==void 0?n:H,{status:re,hasFeedback:ce,isFormItemInput:Se,feedbackIcon:Pe}=g.useContext(Wl),xe=B5(re,x);let X;b!==void 0?X=b:q==="combobox"?X=null:X=P?.("Select")||g.createElement(sU,{componentName:"Select"});const{suffixIcon:fe,itemIcon:pe,removeIcon:Ce,clearIcon:me}=Gne(Object.assign(Object.assign({},M),{multiple:Z,hasFeedback:ce,feedbackIcon:Pe,showSuffixIcon:ee,prefixCls:B,showArrow:M.showArrow,componentName:"Select"})),Ge=T===!0?{clearIcon:me}:T,ve=Yr(M,["suffixIcon","itemIcon"]),Re=ye(l||c,{[`${B}-dropdown-${O}`]:O==="rtl"},a,W),Ae=ra(Ee=>{var Oe;return(Oe=p??z)!==null&&Oe!==void 0?Oe:Ee}),Le=g.useContext(Hd),Je=y??Le,K=ye({[`${B}-lg`]:Ae==="large",[`${B}-sm`]:Ae==="small",[`${B}-rtl`]:O==="rtl",[`${B}-borderless`]:!i,[`${B}-in-form-item`]:Se},Vs(B,xe,ce),V,G?.className,o,a,W),j=g.useMemo(()=>d!==void 0?d:O==="rtl"?"bottomRight":"bottomLeft",[d,O]),ae=Nne(v,D);return F(g.createElement(nC,Object.assign({ref:e,virtual:k,showSearch:G?.showSearch},ve,{style:Object.assign(Object.assign({},G?.style),_),dropdownMatchSelectWidth:oe,builtinPlacements:ae,transitionName:N5($,"slide-up",M.transitionName),listHeight:u,listItemHeight:f,mode:q,prefixCls:B,placement:j,direction:O,suffixIcon:fe,menuItemSelectedIcon:pe,removeIcon:Ce,allowClear:Ge,notFoundContent:X,className:K,getPopupContainer:s||I,dropdownClassName:Re,disabled:Je})))},Gp=g.forwardRef(Wne),jne=Qw(Gp);Gp.SECRET_COMBOBOX_MODE_DO_NOT_USE=uU;Gp.Option=tC;Gp.OptGroup=eC;Gp._InternalPanelDoNotUseOrYouWillBeFired=jne;const Jg=Gp,Td=["xxl","xl","lg","md","sm","xs"],Xne=t=>({xs:`(max-width: ${t.screenXSMax}px)`,sm:`(min-width: ${t.screenSM}px)`,md:`(min-width: ${t.screenMD}px)`,lg:`(min-width: ${t.screenLG}px)`,xl:`(min-width: ${t.screenXL}px)`,xxl:`(min-width: ${t.screenXXL}px)`}),qne=t=>{const e=t,n=[].concat(Td).reverse();return n.forEach((r,i)=>{const o=r.toUpperCase(),a=`screen${o}Min`,s=`screen${o}`;if(!(e[a]<=e[s]))throw new Error(`${a}<=${s} fails : !(${e[a]}<=${e[s]})`);if(i<n.length-1){const l=`screen${o}Max`;if(!(e[s]<=e[l]))throw new Error(`${s}<=${l} fails : !(${e[s]}<=${e[l]})`);const u=`screen${n[i+1].toUpperCase()}Min`;if(!(e[l]<=e[u]))throw new Error(`${l}<=${u} fails : !(${e[l]}<=${e[u]})`)}}),t};function dU(){const[,t]=Fa(),e=Xne(qne(t));return se.useMemo(()=>{const n=new Map;let r=-1,i={};return{matchHandlers:{},dispatch(o){return i=o,n.forEach(a=>a(i)),n.size>=1},subscribe(o){return n.size||this.register(),r+=1,n.set(r,o),o(i),r},unsubscribe(o){n.delete(o),n.size||this.unregister()},unregister(){Object.keys(e).forEach(o=>{const a=e[o],s=this.matchHandlers[a];s?.mql.removeListener(s?.listener)}),n.clear()},register(){Object.keys(e).forEach(o=>{const a=e[o],s=c=>{let{matches:u}=c;this.dispatch(Object.assign(Object.assign({},i),{[o]:u}))},l=window.matchMedia(a);l.addListener(s),this.matchHandlers[a]={mql:l,listener:s},s(l)})},responsiveMap:e}},[t])}function fU(){const[,t]=g.useReducer(e=>e+1,0);return t}function hU(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const e=g.useRef({}),n=fU(),r=dU();return Yn(()=>{const i=r.subscribe(o=>{e.current=o,t&&n()});return()=>r.unsubscribe(i)},[]),e.current}const gy=t=>t?typeof t=="function"?t():t:null;var bf={shiftX:64,adjustY:1},wf={adjustX:1,shiftY:!0},ma=[0,0],Kne={left:{points:["cr","cl"],overflow:wf,offset:[-4,0],targetOffset:ma},right:{points:["cl","cr"],overflow:wf,offset:[4,0],targetOffset:ma},top:{points:["bc","tc"],overflow:bf,offset:[0,-4],targetOffset:ma},bottom:{points:["tc","bc"],overflow:bf,offset:[0,4],targetOffset:ma},topLeft:{points:["bl","tl"],overflow:bf,offset:[0,-4],targetOffset:ma},leftTop:{points:["tr","tl"],overflow:wf,offset:[-4,0],targetOffset:ma},topRight:{points:["br","tr"],overflow:bf,offset:[0,-4],targetOffset:ma},rightTop:{points:["tl","tr"],overflow:wf,offset:[4,0],targetOffset:ma},bottomRight:{points:["tr","br"],overflow:bf,offset:[0,4],targetOffset:ma},rightBottom:{points:["bl","br"],overflow:wf,offset:[4,0],targetOffset:ma},bottomLeft:{points:["tl","bl"],overflow:bf,offset:[0,4],targetOffset:ma},leftBottom:{points:["br","bl"],overflow:wf,offset:[-4,0],targetOffset:ma}};function oC(t){var e=t.children,n=t.prefixCls,r=t.id,i=t.overlayInnerStyle,o=t.className,a=t.style;return g.createElement("div",{className:ye("".concat(n,"-content"),o),style:a},g.createElement("div",{className:"".concat(n,"-inner"),id:r,role:"tooltip",style:i},typeof e=="function"?e():e))}var Yne=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],Zne=function(e,n){var r=e.overlayClassName,i=e.trigger,o=i===void 0?["hover"]:i,a=e.mouseEnterDelay,s=a===void 0?0:a,l=e.mouseLeaveDelay,c=l===void 0?.1:l,u=e.overlayStyle,d=e.prefixCls,f=d===void 0?"rc-tooltip":d,p=e.children,y=e.onVisibleChange,b=e.afterVisibleChange,x=e.transitionName,v=e.animation,w=e.motion,S=e.placement,C=S===void 0?"right":S,_=e.align,T=_===void 0?{}:_,M=e.destroyTooltipOnHide,I=M===void 0?!1:M,R=e.defaultVisible,P=e.getTooltipContainer,L=e.overlayInnerStyle;e.arrowContent;var k=e.overlay,H=e.id,D=e.showArrow,G=D===void 0?!0:D,B=Yt(e,Yne),$=g.useRef(null);g.useImperativeHandle(n,function(){return $.current});var O=be({},B);"visible"in e&&(O.popupVisible=e.visible);var z=function(){return g.createElement(oC,{key:"content",prefixCls:f,id:H,overlayInnerStyle:L},k)};return g.createElement(k5,it({popupClassName:r,prefixCls:f,popup:z,action:o,builtinPlacements:Kne,popupPlacement:C,ref:$,popupAlign:T,getPopupContainer:P,onPopupVisibleChange:y,afterPopupVisibleChange:b,popupTransitionName:x,popupAnimation:v,popupMotion:w,defaultPopupVisible:R,autoDestroy:I,mouseLeaveDelay:c,popupStyle:u,mouseEnterDelay:s,arrow:G},O),p)};const Qne=g.forwardRef(Zne),pU=8;function aC(t){const e=pU,{contentRadius:n,limitVerticalRadius:r}=t,i=n>12?n+2:12;return{dropdownArrowOffset:i,dropdownArrowOffsetVertical:r?e:i}}function Vv(t,e){return t?e:{}}function sC(t,e){const{componentCls:n,sizePopupArrow:r,borderRadiusXS:i,borderRadiusOuter:o,boxShadowPopoverArrow:a}=t,{colorBg:s,contentRadius:l=t.borderRadiusLG,limitVerticalRadius:c,arrowDistance:u=0,arrowPlacement:d={left:!0,right:!0,top:!0,bottom:!0}}=e,{dropdownArrowOffsetVertical:f,dropdownArrowOffset:p}=aC({contentRadius:l,limitVerticalRadius:c});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({[`${n}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},iY(r,i,o,s,a)),{"&:before":{background:s}})]},Vv(!!d.top,{[[`&-placement-top ${n}-arrow`,`&-placement-topLeft ${n}-arrow`,`&-placement-topRight ${n}-arrow`].join(",")]:{bottom:u,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft ${n}-arrow`]:{left:{_skip_check_:!0,value:p}},[`&-placement-topRight ${n}-arrow`]:{right:{_skip_check_:!0,value:p}}})),Vv(!!d.bottom,{[[`&-placement-bottom ${n}-arrow`,`&-placement-bottomLeft ${n}-arrow`,`&-placement-bottomRight ${n}-arrow`].join(",")]:{top:u,transform:"translateY(-100%)"},[`&-placement-bottom ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft ${n}-arrow`]:{left:{_skip_check_:!0,value:p}},[`&-placement-bottomRight ${n}-arrow`]:{right:{_skip_check_:!0,value:p}}})),Vv(!!d.left,{[[`&-placement-left ${n}-arrow`,`&-placement-leftTop ${n}-arrow`,`&-placement-leftBottom ${n}-arrow`].join(",")]:{right:{_skip_check_:!0,value:u},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop ${n}-arrow`]:{top:f},[`&-placement-leftBottom ${n}-arrow`]:{bottom:f}})),Vv(!!d.right,{[[`&-placement-right ${n}-arrow`,`&-placement-rightTop ${n}-arrow`,`&-placement-rightBottom ${n}-arrow`].join(",")]:{left:{_skip_check_:!0,value:u},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop ${n}-arrow`]:{top:f},[`&-placement-rightBottom ${n}-arrow`]:{bottom:f}}))}}function Jne(t,e,n,r){if(r===!1)return{adjustX:!1,adjustY:!1};const i=r&&typeof r=="object"?r:{},o={};switch(t){case"top":case"bottom":o.shiftX=e.dropdownArrowOffset*2+n;break;case"left":case"right":o.shiftY=e.dropdownArrowOffsetVertical*2+n;break}const a=Object.assign(Object.assign({},o),i);return a.shiftX||(a.adjustX=!0),a.shiftY||(a.adjustY=!0),a}const wA={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},ere={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},tre=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function mU(t){const{arrowWidth:e,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:i,borderRadius:o,visibleFirst:a}=t,s=e/2,l={};return Object.keys(wA).forEach(c=>{const u=r&&ere[c]||wA[c],d=Object.assign(Object.assign({},u),{offset:[0,0]});switch(l[c]=d,tre.has(c)&&(d.autoArrow=!1),c){case"top":case"topLeft":case"topRight":d.offset[1]=-s-i;break;case"bottom":case"bottomLeft":case"bottomRight":d.offset[1]=s+i;break;case"left":case"leftTop":case"leftBottom":d.offset[0]=-s-i;break;case"right":case"rightTop":case"rightBottom":d.offset[0]=s+i;break}const f=aC({contentRadius:o,limitVerticalRadius:!0});if(r)switch(c){case"topLeft":case"bottomLeft":d.offset[0]=-f.dropdownArrowOffset-s;break;case"topRight":case"bottomRight":d.offset[0]=f.dropdownArrowOffset+s;break;case"leftTop":case"rightTop":d.offset[1]=-f.dropdownArrowOffset-s;break;case"leftBottom":case"rightBottom":d.offset[1]=f.dropdownArrowOffset+s;break}d.overflow=Jne(c,f,e,n),a&&(d.htmlRegion="visibleFirst")}),l}const nre=t=>{const{componentCls:e,tooltipMaxWidth:n,tooltipColor:r,tooltipBg:i,tooltipBorderRadius:o,zIndexPopup:a,controlHeight:s,boxShadowSecondary:l,paddingSM:c,paddingXS:u,tooltipRadiusOuter:d}=t;return[{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},Ir(t)),{position:"absolute",zIndex:a,display:"block",width:"max-content",maxWidth:n,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":i,[`${e}-inner`]:{minWidth:s,minHeight:s,padding:`${c/2}px ${u}px`,color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:i,borderRadius:o,boxShadow:l,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:Math.min(o,pU)}},[`${e}-content`]:{position:"relative"}}),dY(t,(f,p)=>{let{darkColor:y}=p;return{[`&${e}-${f}`]:{[`${e}-inner`]:{backgroundColor:y},[`${e}-arrow`]:{"--antd-arrow-background-color":y}}}})),{"&-rtl":{direction:"rtl"}})},sC(pn(t,{borderRadiusOuter:d}),{colorBg:"var(--antd-arrow-background-color)",contentRadius:o,limitVerticalRadius:!0}),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow}}]},gU=(t,e)=>lr("Tooltip",r=>{if(e===!1)return[];const{borderRadius:i,colorTextLightSolid:o,colorBgDefault:a,borderRadiusOuter:s}=r,l=pn(r,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:i,tooltipBg:a,tooltipRadiusOuter:s>4?4:s});return[nre(l),F5(r,"zoom-big-fast")]},r=>{let{zIndexPopupBase:i,colorBgSpotlight:o}=r;return{zIndexPopup:i+70,colorBgDefault:o}},{resetStyle:!1})(t),rre=ng.map(t=>`${t}-inverse`);function ire(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(mt(rre),mt(ng)).includes(t):ng.includes(t)}function vU(t,e){const n=ire(e),r=ye({[`${t}-${e}`]:e&&n}),i={},o={};return e&&!n&&(i.background=e,o["--antd-arrow-background-color"]=e),{className:r,overlayStyle:i,arrowStyle:o}}const ore=t=>{const{prefixCls:e,className:n,placement:r="top",title:i,color:o,overlayInnerStyle:a}=t,{getPrefixCls:s}=g.useContext(Wt),l=s("tooltip",e),[c,u]=gU(l,!0),d=vU(l,o),f=d.arrowStyle,p=Object.assign(Object.assign({},a),d.overlayStyle),y=ye(u,l,`${l}-pure`,`${l}-placement-${r}`,n,d.className);return c(g.createElement("div",{className:y,style:f},g.createElement("div",{className:`${l}-arrow`}),g.createElement(oC,Object.assign({},t,{className:u,prefixCls:l,overlayInnerStyle:p}),i)))},are=ore;var sre=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const lre=(t,e)=>{const n={},r=Object.assign({},t);return e.forEach(i=>{t&&i in t&&(n[i]=t[i],delete r[i])}),{picked:n,omitted:r}};function cre(t,e){const n=t.type;if((n.__ANT_BUTTON===!0||t.type==="button")&&t.props.disabled||n.__ANT_SWITCH===!0&&(t.props.disabled||t.props.loading)||n.__ANT_RADIO===!0&&t.props.disabled){const{picked:r,omitted:i}=lre(t.props.style,["position","left","right","top","bottom","float","display","zIndex"]),o=Object.assign(Object.assign({display:"inline-block"},r),{cursor:"not-allowed",width:t.props.block?"100%":void 0}),a=Object.assign(Object.assign({},i),{pointerEvents:"none"}),s=_i(t,{style:a,className:null});return g.createElement("span",{style:o,className:ye(t.props.className,`${e}-disabled-compatible-wrapper`)},s)}return t}const yU=g.forwardRef((t,e)=>{var n,r;const{prefixCls:i,openClassName:o,getTooltipContainer:a,overlayClassName:s,color:l,overlayInnerStyle:c,children:u,afterOpenChange:d,afterVisibleChange:f,destroyTooltipOnHide:p,arrow:y=!0,title:b,overlay:x,builtinPlacements:v,arrowPointAtCenter:w=!1,autoAdjustOverflow:S=!0}=t,C=!!y,[,_]=Fa(),{getPopupContainer:T,getPrefixCls:M,direction:I}=g.useContext(Wt),R=Dw(),P=g.useRef(null),L=()=>{var Re;(Re=P.current)===null||Re===void 0||Re.forceAlign()};g.useImperativeHandle(e,()=>({forceAlign:L,forcePopupAlign:()=>{R.deprecated(!1,"forcePopupAlign","forceAlign"),L()}}));const[k,H]=kr(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(r=t.defaultOpen)!==null&&r!==void 0?r:t.defaultVisible}),D=!b&&!x&&b!==0,G=Re=>{var Ae,Le;H(D?!1:Re),D||((Ae=t.onOpenChange)===null||Ae===void 0||Ae.call(t,Re),(Le=t.onVisibleChange)===null||Le===void 0||Le.call(t,Re))},B=g.useMemo(()=>{var Re,Ae;let Le=w;return typeof y=="object"&&(Le=(Ae=(Re=y.pointAtCenter)!==null&&Re!==void 0?Re:y.arrowPointAtCenter)!==null&&Ae!==void 0?Ae:w),v||mU({arrowPointAtCenter:Le,autoAdjustOverflow:S,arrowWidth:C?_.sizePopupArrow:0,borderRadius:_.borderRadius,offset:_.marginXXS,visibleFirst:!0})},[w,y,v,_]),$=g.useMemo(()=>b===0?b:x||b||"",[x,b]),O=g.createElement(tp,null,typeof $=="function"?$():$),{getPopupContainer:z,placement:V="top",mouseEnterDelay:F=.1,mouseLeaveDelay:W=.1,overlayStyle:q,rootClassName:Z}=t,ee=sre(t,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),oe=M("tooltip",i),re=M(),ce=t["data-popover-inject"];let Se=k;!("open"in t)&&!("visible"in t)&&D&&(Se=!1);const Pe=cre(La(u)&&!y$(u)?u:g.createElement("span",null,u),oe),xe=Pe.props,X=!xe.className||typeof xe.className=="string"?ye(xe.className,o||`${oe}-open`):xe.className,[fe,pe]=gU(oe,!ce),Ce=vU(oe,l),me=Ce.arrowStyle,Ge=Object.assign(Object.assign({},c),Ce.overlayStyle),ve=ye(s,{[`${oe}-rtl`]:I==="rtl"},Ce.className,Z,pe);return fe(g.createElement(Qne,Object.assign({},ee,{showArrow:C,placement:V,mouseEnterDelay:F,mouseLeaveDelay:W,prefixCls:oe,overlayClassName:ve,overlayStyle:Object.assign(Object.assign({},me),q),getTooltipContainer:z||a||T,ref:P,builtinPlacements:B,overlay:O,visible:Se,onVisibleChange:G,afterVisibleChange:d??f,overlayInnerStyle:Ge,arrowContent:g.createElement("span",{className:`${oe}-arrow-content`}),motion:{motionName:N5(re,"zoom-big-fast",t.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!p}),Se?_i(Pe,{className:X}):Pe))});yU._InternalPanelDoNotUseOrYouWillBeFired=are;const jl=yU,ure=t=>{const{componentCls:e,popoverColor:n,minWidth:r,fontWeightStrong:i,popoverPadding:o,boxShadowSecondary:a,colorTextHeading:s,borderRadiusLG:l,zIndexPopup:c,marginXS:u,colorBgElevated:d,popoverBg:f}=t;return[{[e]:Object.assign(Object.assign({},Ir(t)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:c,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":d,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${e}-content`]:{position:"relative"},[`${e}-inner`]:{backgroundColor:f,backgroundClip:"padding-box",borderRadius:l,boxShadow:a,padding:o},[`${e}-title`]:{minWidth:r,marginBottom:u,color:s,fontWeight:i},[`${e}-inner-content`]:{color:n}})},sC(t,{colorBg:"var(--antd-arrow-background-color)"}),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow,display:"inline-block",[`${e}-content`]:{display:"inline-block"}}}]},dre=t=>{const{componentCls:e}=t;return{[e]:ng.map(n=>{const r=t[`${n}6`];return{[`&${e}-${n}`]:{"--antd-arrow-background-color":r,[`${e}-inner`]:{backgroundColor:r},[`${e}-arrow`]:{background:"transparent"}}}})}},fre=t=>{const{componentCls:e,lineWidth:n,lineType:r,colorSplit:i,paddingSM:o,controlHeight:a,fontSize:s,lineHeight:l,padding:c}=t,u=a-Math.round(s*l),d=u/2,f=u/2-n,p=c;return{[e]:{[`${e}-inner`]:{padding:0},[`${e}-title`]:{margin:0,padding:`${d}px ${p}px ${f}px`,borderBottom:`${n}px ${r} ${i}`},[`${e}-inner-content`]:{padding:`${o}px ${p}px`}}}},xU=lr("Popover",t=>{const{colorBgElevated:e,colorText:n,wireframe:r}=t,i=pn(t,{popoverPadding:12,popoverBg:e,popoverColor:n});return[ure(i),dre(i),r&&fre(i),F5(i,"zoom-big")]},t=>({width:177,minWidth:177,zIndexPopup:t.zIndexPopupBase+30}),{resetStyle:!1,deprecatedTokens:[["width","minWidth"]]});var hre=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const pre=(t,e,n)=>{if(!(!e&&!n))return g.createElement(g.Fragment,null,e&&g.createElement("div",{className:`${t}-title`},gy(e)),g.createElement("div",{className:`${t}-inner-content`},gy(n)))},mre=t=>{const{hashId:e,prefixCls:n,className:r,style:i,placement:o="top",title:a,content:s,children:l}=t;return g.createElement("div",{className:ye(e,n,`${n}-pure`,`${n}-placement-${o}`,r),style:i},g.createElement("div",{className:`${n}-arrow`}),g.createElement(oC,Object.assign({},t,{className:e,prefixCls:n}),l||pre(n,a,s)))},gre=t=>{const{prefixCls:e}=t,n=hre(t,["prefixCls"]),{getPrefixCls:r}=g.useContext(Wt),i=r("popover",e),[o,a]=xU(i);return o(g.createElement(mre,Object.assign({},n,{prefixCls:i,hashId:a})))},vre=gre;var yre=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const xre=t=>{let{title:e,content:n,prefixCls:r}=t;return g.createElement(g.Fragment,null,e&&g.createElement("div",{className:`${r}-title`},gy(e)),g.createElement("div",{className:`${r}-inner-content`},gy(n)))},SU=g.forwardRef((t,e)=>{const{prefixCls:n,title:r,content:i,overlayClassName:o,placement:a="top",trigger:s="hover",mouseEnterDelay:l=.1,mouseLeaveDelay:c=.1,overlayStyle:u={}}=t,d=yre(t,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),{getPrefixCls:f}=g.useContext(Wt),p=f("popover",n),[y,b]=xU(p),x=f(),v=ye(o,b);return y(g.createElement(jl,Object.assign({placement:a,trigger:s,mouseEnterDelay:l,mouseLeaveDelay:c,overlayStyle:u},d,{prefixCls:p,overlayClassName:v,ref:e,overlay:r||i?g.createElement(xre,{prefixCls:p,title:r,content:i}):null,transitionName:N5(x,"zoom-big",d.transitionName),"data-popover-inject":!0})))});SU._InternalPanelDoNotUseOrYouWillBeFired=vre;const Sre=SU;var bre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};const wre=bre;var Cre=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:wre}))};const vy=g.forwardRef(Cre);var Ere=nt.ESC,_re=nt.TAB;function Tre(t){var e=t.visible,n=t.triggerRef,r=t.onVisibleChange,i=t.autoFocus,o=t.overlayRef,a=g.useRef(!1),s=function(){if(e){var d,f;(d=n.current)===null||d===void 0||(f=d.focus)===null||f===void 0||f.call(d),r?.(!1)}},l=function(){var d;return(d=o.current)!==null&&d!==void 0&&d.focus?(o.current.focus(),a.current=!0,!0):!1},c=function(d){switch(d.keyCode){case Ere:s();break;case _re:{var f=!1;a.current||(f=l()),f?d.preventDefault():s();break}}};g.useEffect(function(){return e?(window.addEventListener("keydown",c),i&&Un(l,3),function(){window.removeEventListener("keydown",c),a.current=!1}):function(){a.current=!1}},[e])}var Mre=g.forwardRef(function(t,e){var n=t.overlay,r=t.arrow,i=t.prefixCls,o=g.useMemo(function(){var s;return typeof n=="function"?s=n():s=n,s},[n]),a=mo(e,o?.ref);return se.createElement(se.Fragment,null,r&&se.createElement("div",{className:"".concat(i,"-arrow")}),se.cloneElement(o,{ref:ou(o)?a:void 0}))}),Cf={adjustX:1,adjustY:1},Ef=[0,0],Rre={topLeft:{points:["bl","tl"],overflow:Cf,offset:[0,-4],targetOffset:Ef},top:{points:["bc","tc"],overflow:Cf,offset:[0,-4],targetOffset:Ef},topRight:{points:["br","tr"],overflow:Cf,offset:[0,-4],targetOffset:Ef},bottomLeft:{points:["tl","bl"],overflow:Cf,offset:[0,4],targetOffset:Ef},bottom:{points:["tc","bc"],overflow:Cf,offset:[0,4],targetOffset:Ef},bottomRight:{points:["tr","br"],overflow:Cf,offset:[0,4],targetOffset:Ef}},Are=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function Pre(t,e){var n,r=t.arrow,i=r===void 0?!1:r,o=t.prefixCls,a=o===void 0?"rc-dropdown":o,s=t.transitionName,l=t.animation,c=t.align,u=t.placement,d=u===void 0?"bottomLeft":u,f=t.placements,p=f===void 0?Rre:f,y=t.getPopupContainer,b=t.showAction,x=t.hideAction,v=t.overlayClassName,w=t.overlayStyle,S=t.visible,C=t.trigger,_=C===void 0?["hover"]:C,T=t.autoFocus,M=t.overlay,I=t.children,R=t.onVisibleChange,P=Yt(t,Are),L=se.useState(),k=Ne(L,2),H=k[0],D=k[1],G="visible"in t?S:H,B=se.useRef(null),$=se.useRef(null),O=se.useRef(null);se.useImperativeHandle(e,function(){return B.current});var z=function(ce){D(ce),R?.(ce)};Tre({visible:G,triggerRef:O,onVisibleChange:z,autoFocus:T,overlayRef:$});var V=function(ce){var Se=t.onOverlayClick;D(!1),Se&&Se(ce)},F=function(){return se.createElement(Mre,{ref:$,overlay:M,prefixCls:a,arrow:i})},W=function(){return typeof M=="function"?F:F()},q=function(){var ce=t.minOverlayWidthMatchTrigger,Se=t.alignPoint;return"minOverlayWidthMatchTrigger"in t?ce:!Se},Z=function(){var ce=t.openClassName;return ce!==void 0?ce:"".concat(a,"-open")},ee=se.cloneElement(I,{className:ye((n=I.props)===null||n===void 0?void 0:n.className,G&&Z()),ref:ou(I)?mo(O,I.ref):void 0}),oe=x;return!oe&&_.indexOf("contextMenu")!==-1&&(oe=["click"]),se.createElement(k5,it({builtinPlacements:p},P,{prefixCls:a,ref:B,popupClassName:ye(v,ie({},"".concat(a,"-show-arrow"),i)),popupStyle:w,action:_,showAction:b,hideAction:oe,popupPlacement:d,popupAlign:c,popupTransitionName:s,popupAnimation:l,popupVisible:G,stretch:q()?"minWidth":"",popup:W(),onPopupVisibleChange:z,onPopupClick:V,getPopupContainer:y}),ee)}const bU=se.forwardRef(Pre);var wU=g.createContext(null);function lC(t,e){return t===void 0?null:"".concat(t,"-").concat(e)}function CU(t){var e=g.useContext(wU);return lC(e,t)}var Ire=["children","locked"],us=g.createContext(null);function Nre(t,e){var n=be({},t);return Object.keys(e).forEach(function(r){var i=e[r];i!==void 0&&(n[r]=i)}),n}function lg(t){var e=t.children,n=t.locked,r=Yt(t,Ire),i=g.useContext(us),o=Vg(function(){return Nre(i,r)},[i,r],function(a,s){return!n&&(a[0]!==s[0]||!b5(a[1],s[1],!0))});return g.createElement(us.Provider,{value:o},e)}var Ore=[],EU=g.createContext(null);function z5(){return g.useContext(EU)}var _U=g.createContext(Ore);function Vp(t){var e=g.useContext(_U);return g.useMemo(function(){return t!==void 0?[].concat(mt(e),[t]):e},[e,t])}var TU=g.createContext(null),cC=g.createContext({});function CA(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Hw(t)){var n=t.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||t.isContentEditable||n==="a"&&!!t.getAttribute("href"),i=t.getAttribute("tabindex"),o=Number(i),a=null;return i&&!Number.isNaN(o)?a=o:r&&a===null&&(a=0),r&&t.disabled&&(a=null),a!==null&&(a>=0||e&&a<0)}return!1}function Lre(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=mt(t.querySelectorAll("*")).filter(function(r){return CA(r,e)});return CA(t,e)&&n.unshift(t),n}var I7=nt.LEFT,N7=nt.RIGHT,O7=nt.UP,y2=nt.DOWN,x2=nt.ENTER,MU=nt.ESC,D0=nt.HOME,F0=nt.END,EA=[O7,y2,I7,N7];function Dre(t,e,n,r){var i,o,a,s,l="prev",c="next",u="children",d="parent";if(t==="inline"&&r===x2)return{inlineTrigger:!0};var f=(i={},ie(i,O7,l),ie(i,y2,c),i),p=(o={},ie(o,I7,n?c:l),ie(o,N7,n?l:c),ie(o,y2,u),ie(o,x2,u),o),y=(a={},ie(a,O7,l),ie(a,y2,c),ie(a,x2,u),ie(a,MU,d),ie(a,I7,n?u:d),ie(a,N7,n?d:u),a),b={inline:f,horizontal:p,vertical:y,inlineSub:f,horizontalSub:y,verticalSub:y},x=(s=b["".concat(t).concat(e?"":"Sub")])===null||s===void 0?void 0:s[r];switch(x){case l:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case d:return{offset:-1,sibling:!1};case u:return{offset:1,sibling:!1};default:return null}}function Fre(t){for(var e=t;e;){if(e.getAttribute("data-menu-list"))return e;e=e.parentElement}return null}function $re(t,e){for(var n=t||document.activeElement;n;){if(e.has(n))return n;n=n.parentElement}return null}function RU(t,e){var n=Lre(t,!0);return n.filter(function(r){return e.has(r)})}function _A(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!t)return null;var i=RU(t,e),o=i.length,a=i.findIndex(function(s){return n===s});return r<0?a===-1?a=o-1:a-=1:r>0&&(a+=1),a=(a+o)%o,i[a]}function Ure(t,e,n,r,i,o,a,s,l,c){var u=g.useRef(),d=g.useRef();d.current=e;var f=function(){Un.cancel(u.current)};return g.useEffect(function(){return function(){f()}},[]),function(p){var y=p.which;if([].concat(EA,[x2,MU,D0,F0]).includes(y)){var b,x,v,w=function(){b=new Set,x=new Map,v=new Map;var G=o();return G.forEach(function(B){var $=document.querySelector("[data-menu-id='".concat(lC(r,B),"']"));$&&(b.add($),v.set($,B),x.set(B,$))}),b};w();var S=x.get(e),C=$re(S,b),_=v.get(C),T=Dre(t,a(_,!0).length===1,n,y);if(!T&&y!==D0&&y!==F0)return;(EA.includes(y)||[D0,F0].includes(y))&&p.preventDefault();var M=function(G){if(G){var B=G,$=G.querySelector("a");$!=null&&$.getAttribute("href")&&(B=$);var O=v.get(G);s(O),f(),u.current=Un(function(){d.current===O&&B.focus()})}};if([D0,F0].includes(y)||T.sibling||!C){var I;!C||t==="inline"?I=i.current:I=Fre(C);var R,P=RU(I,b);y===D0?R=P[0]:y===F0?R=P[P.length-1]:R=_A(I,b,C,T.offset),M(R)}else if(T.inlineTrigger)l(_);else if(T.offset>0)l(_,!0),f(),u.current=Un(function(){w();var D=C.getAttribute("aria-controls"),G=document.getElementById(D),B=_A(G,b);M(B)},5);else if(T.offset<0){var L=a(_,!0),k=L[L.length-2],H=x.get(k);l(k,!1),M(H)}}c?.(p)}}function kre(t){Promise.resolve().then(t)}var uC="__RC_UTIL_PATH_SPLIT__",TA=function(e){return e.join(uC)},Bre=function(e){return e.split(uC)},L7="rc-menu-more";function zre(){var t=g.useState({}),e=Ne(t,2),n=e[1],r=g.useRef(new Map),i=g.useRef(new Map),o=g.useState([]),a=Ne(o,2),s=a[0],l=a[1],c=g.useRef(0),u=g.useRef(!1),d=function(){u.current||n({})},f=g.useCallback(function(S,C){var _=TA(C);i.current.set(_,S),r.current.set(S,_),c.current+=1;var T=c.current;kre(function(){T===c.current&&d()})},[]),p=g.useCallback(function(S,C){var _=TA(C);i.current.delete(_),r.current.delete(S)},[]),y=g.useCallback(function(S){l(S)},[]),b=g.useCallback(function(S,C){var _=r.current.get(S)||"",T=Bre(_);return C&&s.includes(T[0])&&T.unshift(L7),T},[s]),x=g.useCallback(function(S,C){return S.some(function(_){var T=b(_,!0);return T.includes(C)})},[b]),v=function(){var C=mt(r.current.keys());return s.length&&C.push(L7),C},w=g.useCallback(function(S){var C="".concat(r.current.get(S)).concat(uC),_=new Set;return mt(i.current.keys()).forEach(function(T){T.startsWith(C)&&_.add(i.current.get(T))}),_},[]);return g.useEffect(function(){return function(){u.current=!0}},[]),{registerPath:f,unregisterPath:p,refreshOverflowKeys:y,isSubPathKey:x,getKeyPath:b,getKeys:v,getSubPathKeys:w}}function am(t){var e=g.useRef(t);e.current=t;var n=g.useCallback(function(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return t?n:void 0}var Hre=Math.random().toFixed(5).toString().slice(2),MA=0;function Gre(t){var e=kr(t,{value:t}),n=Ne(e,2),r=n[0],i=n[1];return g.useEffect(function(){MA+=1;var o="".concat(Hre,"-").concat(MA);i("rc-menu-uuid-".concat(o))},[]),r}function AU(t,e,n,r){var i=g.useContext(us),o=i.activeKey,a=i.onActive,s=i.onInactive,l={active:o===t};return e||(l.onMouseEnter=function(c){n?.({key:t,domEvent:c}),a(t)},l.onMouseLeave=function(c){r?.({key:t,domEvent:c}),s(t)}),l}function PU(t){var e=g.useContext(us),n=e.mode,r=e.rtl,i=e.inlineIndent;if(n!=="inline")return null;var o=t;return r?{paddingRight:o*i}:{paddingLeft:o*i}}function IU(t){var e=t.icon,n=t.props,r=t.children,i;return e===null||e===!1?null:(typeof e=="function"?i=g.createElement(e,be({},n)):typeof e!="boolean"&&(i=e),i||r||null)}var Vre=["item"];function yy(t){var e=t.item,n=Yt(t,Vre);return Object.defineProperty(n,"item",{get:function(){return hi(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),e}}),n}var Wre=["title","attribute","elementRef"],jre=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Xre=["active"],qre=function(t){Qs(n,t);var e=Js(n);function n(){return ii(this,n),e.apply(this,arguments)}return oi(n,[{key:"render",value:function(){var i=this.props,o=i.title,a=i.attribute,s=i.elementRef,l=Yt(i,Wre),c=Yr(l,["eventKey","popupClassName","popupOffset","onTitleClick"]);return hi(!a,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),g.createElement(Gs.Item,it({},a,{title:typeof o=="string"?o:void 0},c,{ref:s}))}}]),n}(g.Component),Kre=g.forwardRef(function(t,e){var n,r=t.style,i=t.className,o=t.eventKey;t.warnKey;var a=t.disabled,s=t.itemIcon,l=t.children,c=t.role,u=t.onMouseEnter,d=t.onMouseLeave,f=t.onClick,p=t.onKeyDown,y=t.onFocus,b=Yt(t,jre),x=CU(o),v=g.useContext(us),w=v.prefixCls,S=v.onItemClick,C=v.disabled,_=v.overflowDisabled,T=v.itemIcon,M=v.selectedKeys,I=v.onActive,R=g.useContext(cC),P=R._internalRenderMenuItem,L="".concat(w,"-item"),k=g.useRef(),H=g.useRef(),D=C||a,G=Wg(e,H),B=Vp(o),$=function(Pe){return{key:o,keyPath:mt(B).reverse(),item:k.current,domEvent:Pe}},O=s||T,z=AU(o,D,u,d),V=z.active,F=Yt(z,Xre),W=M.includes(o),q=PU(B.length),Z=function(Pe){if(!D){var xe=$(Pe);f?.(yy(xe)),S(xe)}},ee=function(Pe){if(p?.(Pe),Pe.which===nt.ENTER){var xe=$(Pe);f?.(yy(xe)),S(xe)}},oe=function(Pe){I(o),y?.(Pe)},re={};t.role==="option"&&(re["aria-selected"]=W);var ce=g.createElement(qre,it({ref:k,elementRef:G,role:c===null?"none":c||"menuitem",tabIndex:a?null:-1,"data-menu-id":_&&x?null:x},b,F,re,{component:"li","aria-disabled":a,style:be(be({},q),r),className:ye(L,(n={},ie(n,"".concat(L,"-active"),V),ie(n,"".concat(L,"-selected"),W),ie(n,"".concat(L,"-disabled"),D),n),i),onClick:Z,onKeyDown:ee,onFocus:oe}),l,g.createElement(IU,{props:be(be({},t),{},{isSelected:W}),icon:O}));return P&&(ce=P(ce,t,{selected:W})),ce});function Yre(t,e){var n=t.eventKey,r=z5(),i=Vp(n);return g.useEffect(function(){if(r)return r.registerPath(n,i),function(){r.unregisterPath(n,i)}},[i]),r?null:g.createElement(Kre,it({},t,{ref:e}))}const e3=g.forwardRef(Yre);var Zre=["className","children"],Qre=function(e,n){var r=e.className,i=e.children,o=Yt(e,Zre),a=g.useContext(us),s=a.prefixCls,l=a.mode,c=a.rtl;return g.createElement("ul",it({className:ye(s,c&&"".concat(s,"-rtl"),"".concat(s,"-sub"),"".concat(s,"-").concat(l==="inline"?"inline":"vertical"),r),role:"menu"},o,{"data-menu-list":!0,ref:n}),i)},dC=g.forwardRef(Qre);dC.displayName="SubMenuList";function fC(t,e){return No(t).map(function(n,r){if(g.isValidElement(n)){var i,o,a=n.key,s=(i=(o=n.props)===null||o===void 0?void 0:o.eventKey)!==null&&i!==void 0?i:a,l=s==null;l&&(s="tmp_key-".concat([].concat(mt(e),[r]).join("-")));var c={key:s,eventKey:s};return g.cloneElement(n,c)}return n})}var Ki={adjustX:1,adjustY:1},Jre={topLeft:{points:["bl","tl"],overflow:Ki},topRight:{points:["br","tr"],overflow:Ki},bottomLeft:{points:["tl","bl"],overflow:Ki},bottomRight:{points:["tr","br"],overflow:Ki},leftTop:{points:["tr","tl"],overflow:Ki},leftBottom:{points:["br","bl"],overflow:Ki},rightTop:{points:["tl","tr"],overflow:Ki},rightBottom:{points:["bl","br"],overflow:Ki}},eie={topLeft:{points:["bl","tl"],overflow:Ki},topRight:{points:["br","tr"],overflow:Ki},bottomLeft:{points:["tl","bl"],overflow:Ki},bottomRight:{points:["tr","br"],overflow:Ki},rightTop:{points:["tr","tl"],overflow:Ki},rightBottom:{points:["br","bl"],overflow:Ki},leftTop:{points:["tl","tr"],overflow:Ki},leftBottom:{points:["bl","br"],overflow:Ki}};function NU(t,e,n){if(e)return e;if(n)return n[t]||n.other}var tie={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function nie(t){var e=t.prefixCls,n=t.visible,r=t.children,i=t.popup,o=t.popupStyle,a=t.popupClassName,s=t.popupOffset,l=t.disabled,c=t.mode,u=t.onVisibleChange,d=g.useContext(us),f=d.getPopupContainer,p=d.rtl,y=d.subMenuOpenDelay,b=d.subMenuCloseDelay,x=d.builtinPlacements,v=d.triggerSubMenuAction,w=d.forceSubMenuRender,S=d.rootClassName,C=d.motion,_=d.defaultMotions,T=g.useState(!1),M=Ne(T,2),I=M[0],R=M[1],P=be(p?be({},eie):be({},Jre),x),L=tie[c],k=NU(c,C,_),H=g.useRef(k);c!=="inline"&&(H.current=k);var D=be(be({},H.current),{},{leavedClassName:"".concat(e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),G=g.useRef();return g.useEffect(function(){return G.current=Un(function(){R(n)}),function(){Un.cancel(G.current)}},[n]),g.createElement(k5,{prefixCls:e,popupClassName:ye("".concat(e,"-popup"),ie({},"".concat(e,"-rtl"),p),a,S),stretch:c==="horizontal"?"minWidth":null,getPopupContainer:f,builtinPlacements:P,popupPlacement:L,popupVisible:I,popup:i,popupStyle:o,popupAlign:s&&{offset:s},action:l?[]:[v],mouseEnterDelay:y,mouseLeaveDelay:b,onPopupVisibleChange:u,forceRender:w,popupMotion:D},r)}function rie(t){var e=t.id,n=t.open,r=t.keyPath,i=t.children,o="inline",a=g.useContext(us),s=a.prefixCls,l=a.forceSubMenuRender,c=a.motion,u=a.defaultMotions,d=a.mode,f=g.useRef(!1);f.current=d===o;var p=g.useState(!f.current),y=Ne(p,2),b=y[0],x=y[1],v=f.current?n:!1;g.useEffect(function(){f.current&&x(!1)},[d]);var w=be({},NU(o,c,u));r.length>1&&(w.motionAppear=!1);var S=w.onVisibleChanged;return w.onVisibleChanged=function(C){return!f.current&&!C&&x(!0),S?.(C)},b?null:g.createElement(lg,{mode:o,locked:!f.current},g.createElement(el,it({visible:v},w,{forceRender:l,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),function(C){var _=C.className,T=C.style;return g.createElement(dC,{id:e,className:_,style:T},i)}))}var iie=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],oie=["active"],aie=function(e){var n,r=e.style,i=e.className,o=e.title,a=e.eventKey;e.warnKey;var s=e.disabled,l=e.internalPopupClose,c=e.children,u=e.itemIcon,d=e.expandIcon,f=e.popupClassName,p=e.popupOffset,y=e.popupStyle,b=e.onClick,x=e.onMouseEnter,v=e.onMouseLeave,w=e.onTitleClick,S=e.onTitleMouseEnter,C=e.onTitleMouseLeave,_=Yt(e,iie),T=CU(a),M=g.useContext(us),I=M.prefixCls,R=M.mode,P=M.openKeys,L=M.disabled,k=M.overflowDisabled,H=M.activeKey,D=M.selectedKeys,G=M.itemIcon,B=M.expandIcon,$=M.onItemClick,O=M.onOpenChange,z=M.onActive,V=g.useContext(cC),F=V._internalRenderSubMenuItem,W=g.useContext(TU),q=W.isSubPathKey,Z=Vp(),ee="".concat(I,"-submenu"),oe=L||s,re=g.useRef(),ce=g.useRef(),Se=u??G,Pe=d??B,xe=P.includes(a),X=!k&&xe,fe=q(D,a),pe=AU(a,oe,S,C),Ce=pe.active,me=Yt(pe,oie),Ge=g.useState(!1),ve=Ne(Ge,2),Re=ve[0],Ae=ve[1],Le=function(te){oe||Ae(te)},Je=function(te){Le(!0),x?.({key:a,domEvent:te})},K=function(te){Le(!1),v?.({key:a,domEvent:te})},j=g.useMemo(function(){return Ce||(R!=="inline"?Re||q([H],a):!1)},[R,Ce,H,Re,a,q]),ae=PU(Z.length),Ee=function(te){oe||(w?.({key:a,domEvent:te}),R==="inline"&&O(a,!xe))},Oe=am(function(ut){b?.(yy(ut)),$(ut)}),je=function(te){R!=="inline"&&O(a,te)},Be=function(){z(a)},Fe=T&&"".concat(T,"-popup"),Ue=g.createElement("div",it({role:"menuitem",style:ae,className:"".concat(ee,"-title"),tabIndex:oe?null:-1,ref:re,title:typeof o=="string"?o:null,"data-menu-id":k&&T?null:T,"aria-expanded":X,"aria-haspopup":!0,"aria-controls":Fe,"aria-disabled":oe,onClick:Ee,onFocus:Be},me),o,g.createElement(IU,{icon:R!=="horizontal"?Pe:void 0,props:be(be({},e),{},{isOpen:X,isSubMenu:!0})},g.createElement("i",{className:"".concat(ee,"-arrow")}))),et=g.useRef(R);if(R!=="inline"&&Z.length>1?et.current="vertical":et.current=R,!k){var at=et.current;Ue=g.createElement(nie,{mode:at,prefixCls:ee,visible:!l&&X&&R!=="inline",popupClassName:f,popupOffset:p,popupStyle:y,popup:g.createElement(lg,{mode:at==="horizontal"?"vertical":at},g.createElement(dC,{id:Fe,ref:ce},c)),disabled:oe,onVisibleChange:je},Ue)}var We=g.createElement(Gs.Item,it({role:"none"},_,{component:"li",style:r,className:ye(ee,"".concat(ee,"-").concat(R),i,(n={},ie(n,"".concat(ee,"-open"),X),ie(n,"".concat(ee,"-active"),j),ie(n,"".concat(ee,"-selected"),fe),ie(n,"".concat(ee,"-disabled"),oe),n)),onMouseEnter:Je,onMouseLeave:K}),Ue,!k&&g.createElement(rie,{id:Fe,open:X,keyPath:Z},c));return F&&(We=F(We,e,{selected:fe,active:j,open:X,disabled:oe})),g.createElement(lg,{onItemClick:Oe,mode:R==="horizontal"?"vertical":R,itemIcon:Se,expandIcon:Pe},We)};function H5(t){var e=t.eventKey,n=t.children,r=Vp(e),i=fC(n,r),o=z5();g.useEffect(function(){if(o)return o.registerPath(e,r),function(){o.unregisterPath(e,r)}},[r]);var a;return o?a=i:a=g.createElement(aie,t,i),g.createElement(_U.Provider,{value:r},a)}var sie=["className","title","eventKey","children"],lie=["children"],cie=function(e){var n=e.className,r=e.title;e.eventKey;var i=e.children,o=Yt(e,sie),a=g.useContext(us),s=a.prefixCls,l="".concat(s,"-item-group");return g.createElement("li",it({role:"presentation"},o,{onClick:function(u){return u.stopPropagation()},className:ye(l,n)}),g.createElement("div",{role:"presentation",className:"".concat(l,"-title"),title:typeof r=="string"?r:void 0},r),g.createElement("ul",{role:"group",className:"".concat(l,"-list")},i))};function G5(t){var e=t.children,n=Yt(t,lie),r=Vp(n.eventKey),i=fC(e,r),o=z5();return o?i:g.createElement(cie,Yr(n,["warnKey"]),i)}function hC(t){var e=t.className,n=t.style,r=g.useContext(us),i=r.prefixCls,o=z5();return o?null:g.createElement("li",{role:"separator",className:ye("".concat(i,"-item-divider"),e),style:n})}var uie=["label","children","key","type"];function D7(t){return(t||[]).map(function(e,n){if(e&&Xt(e)==="object"){var r=e,i=r.label,o=r.children,a=r.key,s=r.type,l=Yt(r,uie),c=a??"tmp-".concat(n);return o||s==="group"?s==="group"?g.createElement(G5,it({key:c},l,{title:i}),D7(o)):g.createElement(H5,it({key:c},l,{title:i}),D7(o)):s==="divider"?g.createElement(hC,it({key:c},l)):g.createElement(e3,it({key:c},l),i)}return null}).filter(function(e){return e})}function die(t,e,n){var r=t;return e&&(r=D7(e)),fC(r,n)}var fie=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],_f=[],hie=g.forwardRef(function(t,e){var n,r,i=t,o=i.prefixCls,a=o===void 0?"rc-menu":o,s=i.rootClassName,l=i.style,c=i.className,u=i.tabIndex,d=u===void 0?0:u,f=i.items,p=i.children,y=i.direction,b=i.id,x=i.mode,v=x===void 0?"vertical":x,w=i.inlineCollapsed,S=i.disabled,C=i.disabledOverflow,_=i.subMenuOpenDelay,T=_===void 0?.1:_,M=i.subMenuCloseDelay,I=M===void 0?.1:M,R=i.forceSubMenuRender,P=i.defaultOpenKeys,L=i.openKeys,k=i.activeKey,H=i.defaultActiveFirst,D=i.selectable,G=D===void 0?!0:D,B=i.multiple,$=B===void 0?!1:B,O=i.defaultSelectedKeys,z=i.selectedKeys,V=i.onSelect,F=i.onDeselect,W=i.inlineIndent,q=W===void 0?24:W,Z=i.motion,ee=i.defaultMotions,oe=i.triggerSubMenuAction,re=oe===void 0?"hover":oe,ce=i.builtinPlacements,Se=i.itemIcon,Pe=i.expandIcon,xe=i.overflowedIndicator,X=xe===void 0?"...":xe,fe=i.overflowedIndicatorPopupClassName,pe=i.getPopupContainer,Ce=i.onClick,me=i.onOpenChange,Ge=i.onKeyDown;i.openAnimation,i.openTransitionName;var ve=i._internalRenderMenuItem,Re=i._internalRenderSubMenuItem,Ae=Yt(i,fie),Le=g.useMemo(function(){return die(p,f,_f)},[p,f]),Je=g.useState(!1),K=Ne(Je,2),j=K[0],ae=K[1],Ee=g.useRef(),Oe=Gre(b),je=y==="rtl",Be=kr(P,{value:L,postState:function(Et){return Et||_f}}),Fe=Ne(Be,2),Ue=Fe[0],et=Fe[1],at=function(Et){var Ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function Zt(){et(Et),me?.(Et)}Ht?Na.flushSync(Zt):Zt()},We=g.useState(Ue),ut=Ne(We,2),te=ut[0],ke=ut[1],ze=g.useRef(!1),J=g.useMemo(function(){return(v==="inline"||v==="vertical")&&w?["vertical",w]:[v,!1]},[v,w]),de=Ne(J,2),ue=de[0],De=de[1],Ie=ue==="inline",_e=g.useState(ue),rt=Ne(_e,2),ct=rt[0],pt=rt[1],Xe=g.useState(De),lt=Ne(Xe,2),ot=lt[0],gt=lt[1];g.useEffect(function(){pt(ue),gt(De),ze.current&&(Ie?et(te):at(_f))},[ue,De]);var cn=g.useState(0),an=Ne(cn,2),Fn=an[0],Xn=an[1],An=Fn>=Le.length-1||ct!=="horizontal"||C;g.useEffect(function(){Ie&&ke(Ue)},[Ue]),g.useEffect(function(){return ze.current=!0,function(){ze.current=!1}},[]);var tn=zre(),nr=tn.registerPath,_r=tn.unregisterPath,nn=tn.refreshOverflowKeys,Y=tn.isSubPathKey,le=tn.getKeyPath,he=tn.getKeys,ge=tn.getSubPathKeys,Te=g.useMemo(function(){return{registerPath:nr,unregisterPath:_r}},[nr,_r]),ft=g.useMemo(function(){return{isSubPathKey:Y}},[Y]);g.useEffect(function(){nn(An?_f:Le.slice(Fn+1).map(function(Tt){return Tt.key}))},[Fn,An]);var Ot=kr(k||H&&((n=Le[0])===null||n===void 0?void 0:n.key),{value:k}),Dt=Ne(Ot,2),Ft=Dt[0],qt=Dt[1],Mt=am(function(Tt){qt(Tt)}),kt=am(function(){qt(void 0)});g.useImperativeHandle(e,function(){return{list:Ee.current,focus:function(Et){var Ht,Zt=Ft??((Ht=Le.find(function(xr){return!xr.props.disabled}))===null||Ht===void 0?void 0:Ht.key);if(Zt){var Pn,yr,fr;(Pn=Ee.current)===null||Pn===void 0||(yr=Pn.querySelector("li[data-menu-id='".concat(lC(Oe,Zt),"']")))===null||yr===void 0||(fr=yr.focus)===null||fr===void 0||fr.call(yr,Et)}}}});var $n=kr(O||[],{value:z,postState:function(Et){return Array.isArray(Et)?Et:Et==null?_f:[Et]}}),Cn=Ne($n,2),Zn=Cn[0],vr=Cn[1],En=function(Et){if(G){var Ht=Et.key,Zt=Zn.includes(Ht),Pn;$?Zt?Pn=Zn.filter(function(fr){return fr!==Ht}):Pn=[].concat(mt(Zn),[Ht]):Pn=[Ht],vr(Pn);var yr=be(be({},Et),{},{selectedKeys:Pn});Zt?F?.(yr):V?.(yr)}!$&&Ue.length&&ct!=="inline"&&at(_f)},Gt=am(function(Tt){Ce?.(yy(Tt)),En(Tt)}),un=am(function(Tt,Et){var Ht=Ue.filter(function(Pn){return Pn!==Tt});if(Et)Ht.push(Tt);else if(ct!=="inline"){var Zt=ge(Tt);Ht=Ht.filter(function(Pn){return!Zt.has(Pn)})}b5(Ue,Ht,!0)||at(Ht,!0)}),Bt=function(Et,Ht){var Zt=Ht??!Ue.includes(Et);un(Et,Zt)},rr=Ure(ct,Ft,je,Oe,Ee,he,le,qt,Bt,Ge);g.useEffect(function(){ae(!0)},[]);var Hn=g.useMemo(function(){return{_internalRenderMenuItem:ve,_internalRenderSubMenuItem:Re}},[ve,Re]),_t=ct!=="horizontal"||C?Le:Le.map(function(Tt,Et){return g.createElement(lg,{key:Tt.key,overflowDisabled:Et>Fn},Tt)}),zt=g.createElement(Gs,it({id:b,ref:Ee,prefixCls:"".concat(a,"-overflow"),component:"ul",itemComponent:e3,className:ye(a,"".concat(a,"-root"),"".concat(a,"-").concat(ct),c,(r={},ie(r,"".concat(a,"-inline-collapsed"),ot),ie(r,"".concat(a,"-rtl"),je),r),s),dir:y,style:l,role:"menu",tabIndex:d,data:_t,renderRawItem:function(Et){return Et},renderRawRest:function(Et){var Ht=Et.length,Zt=Ht?Le.slice(-Ht):null;return g.createElement(H5,{eventKey:L7,title:X,disabled:An,internalPopupClose:Ht===0,popupClassName:fe},Zt)},maxCount:ct!=="horizontal"||C?Gs.INVALIDATE:Gs.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(Et){Xn(Et)},onKeyDown:rr},Ae));return g.createElement(cC.Provider,{value:Hn},g.createElement(wU.Provider,{value:Oe},g.createElement(lg,{prefixCls:a,rootClassName:s,mode:ct,openKeys:Ue,rtl:je,disabled:S,motion:j?Z:null,defaultMotions:j?ee:null,activeKey:Ft,onActive:Mt,onInactive:kt,selectedKeys:Zn,inlineIndent:q,subMenuOpenDelay:T,subMenuCloseDelay:I,forceSubMenuRender:R,builtinPlacements:ce,triggerSubMenuAction:re,getPopupContainer:pe,itemIcon:Se,expandIcon:Pe,onItemClick:Gt,onOpenChange:un},g.createElement(TU.Provider,{value:ft},zt),g.createElement("div",{style:{display:"none"},"aria-hidden":!0},g.createElement(EU.Provider,{value:Te},Le)))))}),Wp=hie;Wp.Item=e3;Wp.SubMenu=H5;Wp.ItemGroup=G5;Wp.Divider=hC;var pie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};const mie=pie;var gie=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:mie}))};const RA=g.forwardRef(gie);globalThis&&globalThis.__rest;const OU=g.createContext({});var vie=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const yie=t=>{const{prefixCls:e,className:n,dashed:r}=t,i=vie(t,["prefixCls","className","dashed"]),{getPrefixCls:o}=g.useContext(Wt),a=o("menu",e),s=ye({[`${a}-item-divider-dashed`]:!!r},n);return g.createElement(hC,Object.assign({className:s},i))},LU=yie,xie=g.createContext({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),xy=xie,Sie=t=>{var e;const{className:n,children:r,icon:i,title:o,danger:a}=t,{prefixCls:s,firstLevel:l,direction:c,disableMenuItemTitleTooltip:u,inlineCollapsed:d}=g.useContext(xy),f=w=>{const S=g.createElement("span",{className:`${s}-title-content`},r);return(!i||La(r)&&r.type==="span")&&r&&w&&l&&typeof r=="string"?g.createElement("div",{className:`${s}-inline-collapsed-noicon`},r.charAt(0)):S},{siderCollapsed:p}=g.useContext(OU);let y=o;typeof o>"u"?y=l?r:"":o===!1&&(y="");const b={title:y};!p&&!d&&(b.title=null,b.open=!1);const x=No(r).length;let v=g.createElement(e3,Object.assign({},Yr(t,["title","icon","danger"]),{className:ye({[`${s}-item-danger`]:a,[`${s}-item-only-child`]:(i?x+1:x)===1},n),title:typeof o=="string"?o:void 0}),_i(i,{className:ye(La(i)?(e=i.props)===null||e===void 0?void 0:e.className:"",`${s}-item-icon`)}),f(d));return u||(v=g.createElement(jl,Object.assign({},b,{placement:c==="rtl"?"left":"right",overlayClassName:`${s}-inline-collapsed-tooltip`}),v)),v},DU=Sie,bie=t=>{var e;const{popupClassName:n,icon:r,title:i,theme:o}=t,a=g.useContext(xy),{prefixCls:s,inlineCollapsed:l,theme:c}=a,u=Vp();let d;if(!r)d=l&&!u.length&&i&&typeof i=="string"?g.createElement("div",{className:`${s}-inline-collapsed-noicon`},i.charAt(0)):g.createElement("span",{className:`${s}-title-content`},i);else{const p=La(i)&&i.type==="span";d=g.createElement(g.Fragment,null,_i(r,{className:ye(La(r)?(e=r.props)===null||e===void 0?void 0:e.className:"",`${s}-item-icon`)}),p?i:g.createElement("span",{className:`${s}-title-content`},i))}const f=g.useMemo(()=>Object.assign(Object.assign({},a),{firstLevel:!1}),[a]);return g.createElement(xy.Provider,{value:f},g.createElement(H5,Object.assign({},Yr(t,["icon"]),{title:d,popupClassName:ye(s,n,`${s}-${o||c}`)})))},FU=bie;var wie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};const Cie=wie;var Eie=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:Cie}))};const pC=g.forwardRef(Eie);var _ie=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function F7(t){return(t||[]).map((e,n)=>{if(e&&typeof e=="object"){const r=e,{label:i,children:o,key:a,type:s}=r,l=_ie(r,["label","children","key","type"]),c=a??`tmp-${n}`;return o||s==="group"?s==="group"?g.createElement(G5,Object.assign({key:c},l,{title:i}),F7(o)):g.createElement(FU,Object.assign({key:c},l,{title:i}),F7(o)):s==="divider"?g.createElement(LU,Object.assign({key:c},l)):g.createElement(DU,Object.assign({key:c},l),i)}return null}).filter(e=>e)}function Tie(t){return g.useMemo(()=>t&&F7(t),[t])}var Mie=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const $7=g.createContext(null),Rie=g.forwardRef((t,e)=>{const{children:n}=t,r=Mie(t,["children"]),i=g.useContext($7),o=g.useMemo(()=>Object.assign(Object.assign({},i),r),[i,r.prefixCls,r.mode,r.selectable]);return g.createElement($7.Provider,{value:o},g.createElement(tp,null,AX(n)?g.cloneElement(n,{ref:e}):n))}),AA=$7,Aie=t=>{const{componentCls:e,motionDurationSlow:n,horizontalLineHeight:r,colorSplit:i,lineWidth:o,lineType:a,itemPaddingInline:s}=t;return{[`${e}-horizontal`]:{lineHeight:r,border:0,borderBottom:`${o}px ${a} ${i}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${e}-item, ${e}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:s},[`> ${e}-item:hover,
        > ${e}-item-active,
        > ${e}-submenu ${e}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${e}-item, ${e}-submenu-title`]:{transition:[`border-color ${n}`,`background ${n}`].join(",")},[`${e}-submenu-arrow`]:{display:"none"}}}},Pie=Aie,Iie=t=>{let{componentCls:e,menuArrowOffset:n}=t;return{[`${e}-rtl`]:{direction:"rtl"},[`${e}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${e}-rtl${e}-vertical,
    ${e}-submenu-rtl ${e}-vertical`]:{[`${e}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(-${n})`},"&::after":{transform:`rotate(45deg) translateY(${n})`}}}}},Nie=Iie,PA=t=>Object.assign({},sy(t)),Oie=(t,e)=>{const{componentCls:n,itemColor:r,itemSelectedColor:i,groupTitleColor:o,itemBg:a,subMenuItemBg:s,itemSelectedBg:l,activeBarHeight:c,activeBarWidth:u,activeBarBorderWidth:d,motionDurationSlow:f,motionEaseInOut:p,motionEaseOut:y,itemPaddingInline:b,motionDurationMid:x,itemHoverColor:v,lineType:w,colorSplit:S,itemDisabledColor:C,dangerItemColor:_,dangerItemHoverColor:T,dangerItemSelectedColor:M,dangerItemActiveBg:I,dangerItemSelectedBg:R,itemHoverBg:P,itemActiveBg:L,menuSubMenuBg:k,horizontalItemSelectedColor:H,horizontalItemSelectedBg:D,horizontalItemBorderRadius:G,horizontalItemHoverBg:B,popupBg:$}=t;return{[`${n}-${e}, ${n}-${e} > ${n}`]:{color:r,background:a,[`&${n}-root:focus-visible`]:Object.assign({},PA(t)),[`${n}-item-group-title`]:{color:o},[`${n}-submenu-selected`]:{[`> ${n}-submenu-title`]:{color:i}},[`${n}-item-disabled, ${n}-submenu-disabled`]:{color:`${C} !important`},[`${n}-item:not(${n}-item-selected):not(${n}-submenu-selected)`]:{[`&:hover, > ${n}-submenu-title:hover`]:{color:v}},[`&:not(${n}-horizontal)`]:{[`${n}-item:not(${n}-item-selected)`]:{"&:hover":{backgroundColor:P},"&:active":{backgroundColor:L}},[`${n}-submenu-title`]:{"&:hover":{backgroundColor:P},"&:active":{backgroundColor:L}}},[`${n}-item-danger`]:{color:_,[`&${n}-item:hover`]:{[`&:not(${n}-item-selected):not(${n}-submenu-selected)`]:{color:T}},[`&${n}-item:active`]:{background:I}},[`${n}-item a`]:{"&, &:hover":{color:"inherit"}},[`${n}-item-selected`]:{color:i,[`&${n}-item-danger`]:{color:M},"a, a:hover":{color:"inherit"}},[`& ${n}-item-selected`]:{backgroundColor:l,[`&${n}-item-danger`]:{backgroundColor:R}},[`${n}-item, ${n}-submenu-title`]:{[`&:not(${n}-item-disabled):focus-visible`]:Object.assign({},PA(t))},[`&${n}-submenu > ${n}`]:{backgroundColor:k},[`&${n}-popup > ${n}`]:{backgroundColor:$},[`&${n}-horizontal`]:Object.assign(Object.assign({},e==="dark"?{borderBottom:0}:{}),{[`> ${n}-item, > ${n}-submenu`]:{top:d,marginTop:-d,marginBottom:0,borderRadius:G,"&::after":{position:"absolute",insetInline:b,bottom:0,borderBottom:`${c}px solid transparent`,transition:`border-color ${f} ${p}`,content:'""'},"&:hover, &-active, &-open":{background:B,"&::after":{borderBottomWidth:c,borderBottomColor:H}},"&-selected":{color:H,backgroundColor:D,"&:hover":{backgroundColor:D},"&::after":{borderBottomWidth:c,borderBottomColor:H}}}}),[`&${n}-root`]:{[`&${n}-inline, &${n}-vertical`]:{borderInlineEnd:`${d}px ${w} ${S}`}},[`&${n}-inline`]:{[`${n}-sub${n}-inline`]:{background:s},[`${n}-item, ${n}-submenu-title`]:d&&u?{width:`calc(100% + ${d}px)`}:{},[`${n}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${u}px solid ${i}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${x} ${y}`,`opacity ${x} ${y}`].join(","),content:'""'},[`&${n}-item-danger`]:{"&::after":{borderInlineEndColor:M}}},[`${n}-selected, ${n}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${x} ${p}`,`opacity ${x} ${p}`].join(",")}}}}}},IA=Oie,NA=t=>{const{componentCls:e,itemHeight:n,itemMarginInline:r,padding:i,menuArrowSize:o,marginXS:a,itemMarginBlock:s}=t,l=i+o+a;return{[`${e}-item`]:{position:"relative",overflow:"hidden"},[`${e}-item, ${e}-submenu-title`]:{height:n,lineHeight:`${n}px`,paddingInline:i,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:s,width:`calc(100% - ${r*2}px)`},[`> ${e}-item,
            > ${e}-submenu > ${e}-submenu-title`]:{height:n,lineHeight:`${n}px`},[`${e}-item-group-list ${e}-submenu-title,
            ${e}-submenu-title`]:{paddingInlineEnd:l}}},Lie=t=>{const{componentCls:e,iconCls:n,itemHeight:r,colorTextLightSolid:i,dropdownWidth:o,controlHeightLG:a,motionDurationMid:s,motionEaseOut:l,paddingXL:c,itemMarginInline:u,fontSizeLG:d,motionDurationSlow:f,paddingXS:p,boxShadowSecondary:y,collapsedWidth:b,collapsedIconSize:x}=t,v={height:r,lineHeight:`${r}px`,listStylePosition:"inside",listStyleType:"disc"};return[{[e]:{"&-inline, &-vertical":Object.assign({[`&${e}-root`]:{boxShadow:"none"}},NA(t))},[`${e}-submenu-popup`]:{[`${e}-vertical`]:Object.assign(Object.assign({},NA(t)),{boxShadow:y})}},{[`${e}-submenu-popup ${e}-vertical${e}-sub`]:{minWidth:o,maxHeight:`calc(100vh - ${a*2.5}px)`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${e}-inline`]:{width:"100%",[`&${e}-root`]:{[`${e}-item, ${e}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${f}`,`background ${f}`,`padding ${s} ${l}`].join(","),[`> ${e}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${e}-sub${e}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${e}-submenu > ${e}-submenu-title`]:v,[`& ${e}-item-group-title`]:{paddingInlineStart:c}},[`${e}-item`]:v}},{[`${e}-inline-collapsed`]:{width:b,[`&${e}-root`]:{[`${e}-item, ${e}-submenu ${e}-submenu-title`]:{[`> ${e}-inline-collapsed-noicon`]:{fontSize:d,textAlign:"center"}}},[`> ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-submenu > ${e}-submenu-title,
          > ${e}-submenu > ${e}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${d/2}px - ${u}px)`,textOverflow:"clip",[`
            ${e}-submenu-arrow,
            ${e}-submenu-expand-icon
          `]:{opacity:0},[`${e}-item-icon, ${n}`]:{margin:0,fontSize:x,lineHeight:`${r}px`,"+ span":{display:"inline-block",opacity:0}}},[`${e}-item-icon, ${n}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${e}-item-icon, ${n}`]:{display:"none"},"a, a:hover":{color:i}},[`${e}-item-group-title`]:Object.assign(Object.assign({},Hl),{paddingInline:p})}}]},Die=Lie,OA=t=>{const{componentCls:e,motionDurationSlow:n,motionDurationMid:r,motionEaseInOut:i,motionEaseOut:o,iconCls:a,iconSize:s,iconMarginInlineEnd:l}=t;return{[`${e}-item, ${e}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${n}`,`background ${n}`,`padding ${n} ${i}`].join(","),[`${e}-item-icon, ${a}`]:{minWidth:s,fontSize:s,transition:[`font-size ${r} ${o}`,`margin ${n} ${i}`,`color ${n}`].join(","),"+ span":{marginInlineStart:l,opacity:1,transition:[`opacity ${n} ${i}`,`margin ${n}`,`color ${n}`].join(",")}},[`${e}-item-icon`]:Object.assign({},zp()),[`&${e}-item-only-child`]:{[`> ${a}, > ${e}-item-icon`]:{marginInlineEnd:0}}},[`${e}-item-disabled, ${e}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${e}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},LA=t=>{const{componentCls:e,motionDurationSlow:n,motionEaseInOut:r,borderRadius:i,menuArrowSize:o,menuArrowOffset:a}=t;return{[`${e}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:t.margin,width:o,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${n} ${r}, opacity ${n}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:o*.6,height:o*.15,backgroundColor:"currentcolor",borderRadius:i,transition:[`background ${n} ${r}`,`transform ${n} ${r}`,`top ${n} ${r}`,`color ${n} ${r}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(-${a})`},"&::after":{transform:`rotate(-45deg) translateY(${a})`}}}}},Fie=t=>{const{antCls:e,componentCls:n,fontSize:r,motionDurationSlow:i,motionDurationMid:o,motionEaseInOut:a,paddingXS:s,padding:l,colorSplit:c,lineWidth:u,zIndexPopup:d,borderRadiusLG:f,subMenuItemBorderRadius:p,menuArrowSize:y,menuArrowOffset:b,lineType:x,menuPanelMaskInset:v,groupTitleLineHeight:w,groupTitleFontSize:S}=t;return[{"":{[`${n}`]:Object.assign(Object.assign({},Gl()),{"&-hidden":{display:"none"}})},[`${n}-submenu-hidden`]:{display:"none"}},{[n]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ir(t)),Gl()),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${i} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${n}-item`]:{flex:"none"}},[`${n}-item, ${n}-submenu, ${n}-submenu-title`]:{borderRadius:t.itemBorderRadius},[`${n}-item-group-title`]:{padding:`${s}px ${l}px`,fontSize:S,lineHeight:w,transition:`all ${i}`},[`&-horizontal ${n}-submenu`]:{transition:[`border-color ${i} ${a}`,`background ${i} ${a}`].join(",")},[`${n}-submenu, ${n}-submenu-inline`]:{transition:[`border-color ${i} ${a}`,`background ${i} ${a}`,`padding ${o} ${a}`].join(",")},[`${n}-submenu ${n}-sub`]:{cursor:"initial",transition:[`background ${i} ${a}`,`padding ${i} ${a}`].join(",")},[`${n}-title-content`]:{transition:`color ${i}`},[`${n}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${n}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:c,borderStyle:x,borderWidth:0,borderTopWidth:u,marginBlock:u,padding:0,"&-dashed":{borderStyle:"dashed"}}}),OA(t)),{[`${n}-item-group`]:{[`${n}-item-group-list`]:{margin:0,padding:0,[`${n}-item, ${n}-submenu-title`]:{paddingInline:`${r*2}px ${l}px`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:d,borderRadius:f,boxShadow:"none",transformOrigin:"0 0",[`&${n}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:`${v}px 0 0`,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'}},"&-placement-rightTop::before":{top:0,insetInlineStart:v},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:t.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:t.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:t.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:t.paddingXS},[`> ${n}`]:Object.assign(Object.assign(Object.assign({borderRadius:f},OA(t)),LA(t)),{[`${n}-item, ${n}-submenu > ${n}-submenu-title`]:{borderRadius:p},[`${n}-submenu-title::after`]:{transition:`transform ${i} ${a}`}})}}),LA(t)),{[`&-inline-collapsed ${n}-submenu-arrow,
        &-inline ${n}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${b})`},"&::after":{transform:`rotate(45deg) translateX(-${b})`}},[`${n}-submenu-open${n}-submenu-inline > ${n}-submenu-title > ${n}-submenu-arrow`]:{transform:`translateY(-${y*.2}px)`,"&::after":{transform:`rotate(-45deg) translateX(-${b})`},"&::before":{transform:`rotate(45deg) translateX(${b})`}}})},{[`${e}-layout-header`]:{[n]:{lineHeight:"inherit"}}}]},$ie=(t,e)=>lr("Menu",r=>{if(e===!1)return[];const{colorBgElevated:i,colorPrimary:o,colorTextLightSolid:a,controlHeightLG:s,fontSize:l,darkItemColor:c,darkDangerItemColor:u,darkItemBg:d,darkSubMenuItemBg:f,darkItemSelectedColor:p,darkItemSelectedBg:y,darkDangerItemSelectedBg:b,darkItemHoverBg:x,darkGroupTitleColor:v,darkItemHoverColor:w,darkItemDisabledColor:S,darkDangerItemHoverColor:C,darkDangerItemSelectedColor:_,darkDangerItemActiveBg:T}=r,M=l/7*5,I=pn(r,{menuArrowSize:M,menuHorizontalHeight:s*1.15,menuArrowOffset:`${M*.25}px`,menuPanelMaskInset:-7,menuSubMenuBg:i}),R=pn(I,{itemColor:c,itemHoverColor:w,groupTitleColor:v,itemSelectedColor:p,itemBg:d,popupBg:d,subMenuItemBg:f,itemActiveBg:"transparent",itemSelectedBg:y,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:x,itemDisabledColor:S,dangerItemColor:u,dangerItemHoverColor:C,dangerItemSelectedColor:_,dangerItemActiveBg:T,dangerItemSelectedBg:b,menuSubMenuBg:f,horizontalItemSelectedColor:a,horizontalItemSelectedBg:o});return[Fie(I),Pie(I),Die(I),IA(I,"light"),IA(R,"dark"),Nie(I),Zw(I),Yc(I,"slide-up"),Yc(I,"slide-down"),F5(I,"zoom-big")]},r=>{const{colorPrimary:i,colorError:o,colorTextDisabled:a,colorErrorBg:s,colorText:l,colorTextDescription:c,colorBgContainer:u,colorFillAlter:d,colorFillContent:f,lineWidth:p,lineWidthBold:y,controlItemBgActive:b,colorBgTextHover:x,controlHeightLG:v,lineHeight:w,colorBgElevated:S,marginXXS:C,padding:_,fontSize:T,controlHeightSM:M,fontSizeLG:I,colorTextLightSolid:R,colorErrorHover:P}=r,L=new qr(R).setAlpha(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:r.zIndexPopupBase+50,radiusItem:r.borderRadiusLG,itemBorderRadius:r.borderRadiusLG,radiusSubMenuItem:r.borderRadiusSM,subMenuItemBorderRadius:r.borderRadiusSM,colorItemText:l,itemColor:l,colorItemTextHover:l,itemHoverColor:l,colorItemTextHoverHorizontal:i,horizontalItemHoverColor:i,colorGroupTitle:c,groupTitleColor:c,colorItemTextSelected:i,itemSelectedColor:i,colorItemTextSelectedHorizontal:i,horizontalItemSelectedColor:i,colorItemBg:u,itemBg:u,colorItemBgHover:x,itemHoverBg:x,colorItemBgActive:f,itemActiveBg:b,colorSubItemBg:d,subMenuItemBg:d,colorItemBgSelected:b,itemSelectedBg:b,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:0,colorActiveBarHeight:y,activeBarHeight:y,colorActiveBarBorderSize:p,activeBarBorderWidth:p,colorItemTextDisabled:a,itemDisabledColor:a,colorDangerItemText:o,dangerItemColor:o,colorDangerItemTextHover:o,dangerItemHoverColor:o,colorDangerItemTextSelected:o,dangerItemSelectedColor:o,colorDangerItemBgActive:s,dangerItemActiveBg:s,colorDangerItemBgSelected:s,dangerItemSelectedBg:s,itemMarginInline:r.marginXXS,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:v,groupTitleLineHeight:w,collapsedWidth:v*2,popupBg:S,itemMarginBlock:C,itemPaddingInline:_,horizontalLineHeight:`${v*1.15}px`,iconSize:T,iconMarginInlineEnd:M-T,collapsedIconSize:I,groupTitleFontSize:T,darkItemDisabledColor:new qr(R).setAlpha(.25).toRgbString(),darkItemColor:L,darkDangerItemColor:o,darkItemBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:R,darkItemSelectedBg:i,darkDangerItemSelectedBg:o,darkItemHoverBg:"transparent",darkGroupTitleColor:L,darkItemHoverColor:R,darkDangerItemHoverColor:P,darkDangerItemSelectedColor:R,darkDangerItemActiveBg:o}},{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]]})(t);var Uie=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const kie=g.forwardRef((t,e)=>{var n,r;const i=g.useContext(AA),o=i||{},{getPrefixCls:a,getPopupContainer:s,direction:l,menu:c}=g.useContext(Wt),u=a(),{prefixCls:d,className:f,style:p,theme:y="light",expandIcon:b,_internalDisableMenuItemTitleTooltip:x,inlineCollapsed:v,siderCollapsed:w,items:S,children:C,rootClassName:_,mode:T,selectable:M,onClick:I,overflowedIndicatorPopupClassName:R}=t,P=Uie(t,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","items","children","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),L=Yr(P,["collapsedWidth"]),k=Tie(S)||C;(n=o.validator)===null||n===void 0||n.call(o,{mode:T});const H=Zi(function(){var Z;I?.apply(void 0,arguments),(Z=o.onClick)===null||Z===void 0||Z.call(o)}),D=o.mode||T,G=M??o.selectable,B=g.useMemo(()=>w!==void 0?w:v,[v,w]),$={horizontal:{motionName:`${u}-slide-up`},inline:zw(u),other:{motionName:`${u}-zoom-big`}},O=a("menu",d||o.prefixCls),[z,V]=$ie(O,!i),F=ye(`${O}-${y}`,c?.className,f);let W;if(typeof b=="function")W=b;else if(b===null||b===!1)W=null;else if(o.expandIcon===null||o.expandIcon===!1)W=null;else{const Z=b??o.expandIcon;W=_i(Z,{className:ye(`${O}-submenu-expand-icon`,La(Z)?(r=Z.props)===null||r===void 0?void 0:r.className:"")})}const q=g.useMemo(()=>({prefixCls:O,inlineCollapsed:B||!1,direction:l,firstLevel:!0,theme:y,mode:D,disableMenuItemTitleTooltip:x}),[O,B,l,x,y]);return z(g.createElement(AA.Provider,{value:null},g.createElement(xy.Provider,{value:q},g.createElement(Wp,Object.assign({getPopupContainer:s,overflowedIndicator:g.createElement(pC,null),overflowedIndicatorPopupClassName:ye(O,`${O}-${y}`,R),mode:D,selectable:G,onClick:H},L,{inlineCollapsed:B,style:Object.assign(Object.assign({},c?.style),p),className:F,prefixCls:O,direction:l,defaultMotions:$,expandIcon:W,ref:e,rootClassName:ye(_,V)}),k))))}),Bie=kie,t3=g.forwardRef((t,e)=>{const n=g.useRef(null),r=g.useContext(OU);return g.useImperativeHandle(e,()=>({menu:n.current,focus:i=>{var o;(o=n.current)===null||o===void 0||o.focus(i)}})),g.createElement(Bie,Object.assign({ref:n},t,r))});t3.Item=DU;t3.SubMenu=FU;t3.Divider=LU;t3.ItemGroup=G5;const Sy=t3,zie=t=>{const{componentCls:e,menuCls:n,colorError:r,colorTextLightSolid:i}=t,o=`${n}-item`;return{[`${e}, ${e}-menu-submenu`]:{[`${n} ${o}`]:{[`&${o}-danger:not(${o}-disabled)`]:{color:r,"&:hover":{color:i,backgroundColor:r}}}}}},Hie=zie,Gie=t=>{const{componentCls:e,menuCls:n,zIndexPopup:r,dropdownArrowDistance:i,sizePopupArrow:o,antCls:a,iconCls:s,motionDurationMid:l,dropdownPaddingVertical:c,fontSize:u,dropdownEdgeChildPadding:d,colorTextDisabled:f,fontSizeIcon:p,controlPaddingHorizontal:y,colorBgElevated:b}=t;return[{[e]:Object.assign(Object.assign({},Ir(t)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:r,display:"block","&::before":{position:"absolute",insetBlock:-i+o/2,zIndex:-9999,opacity:1e-4,content:'""'},[`&-trigger${a}-btn`]:{[`& > ${s}-down, & > ${a}-btn-icon > ${s}-down`]:{fontSize:p}},[`${e}-wrap`]:{position:"relative",[`${a}-btn > ${s}-down`]:{fontSize:p},[`${s}-down::before`]:{transition:`transform ${l}`}},[`${e}-wrap-open`]:{[`${s}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${a}-slide-down-enter${a}-slide-down-enter-active${e}-placement-bottomLeft,
          &${a}-slide-down-appear${a}-slide-down-appear-active${e}-placement-bottomLeft,
          &${a}-slide-down-enter${a}-slide-down-enter-active${e}-placement-bottom,
          &${a}-slide-down-appear${a}-slide-down-appear-active${e}-placement-bottom,
          &${a}-slide-down-enter${a}-slide-down-enter-active${e}-placement-bottomRight,
          &${a}-slide-down-appear${a}-slide-down-appear-active${e}-placement-bottomRight`]:{animationName:Xw},[`&${a}-slide-up-enter${a}-slide-up-enter-active${e}-placement-topLeft,
          &${a}-slide-up-appear${a}-slide-up-appear-active${e}-placement-topLeft,
          &${a}-slide-up-enter${a}-slide-up-enter-active${e}-placement-top,
          &${a}-slide-up-appear${a}-slide-up-appear-active${e}-placement-top,
          &${a}-slide-up-enter${a}-slide-up-enter-active${e}-placement-topRight,
          &${a}-slide-up-appear${a}-slide-up-appear-active${e}-placement-topRight`]:{animationName:Kw},[`&${a}-slide-down-leave${a}-slide-down-leave-active${e}-placement-bottomLeft,
          &${a}-slide-down-leave${a}-slide-down-leave-active${e}-placement-bottom,
          &${a}-slide-down-leave${a}-slide-down-leave-active${e}-placement-bottomRight`]:{animationName:qw},[`&${a}-slide-up-leave${a}-slide-up-leave-active${e}-placement-topLeft,
          &${a}-slide-up-leave${a}-slide-up-leave-active${e}-placement-top,
          &${a}-slide-up-leave${a}-slide-up-leave-active${e}-placement-topRight`]:{animationName:Yw}})},sC(t,{colorBg:b,limitVerticalRadius:!0,arrowPlacement:{top:!0,bottom:!0}}),{[`${e} ${n}`]:{position:"relative",margin:0},[`${n}-submenu-popup`]:{position:"absolute",zIndex:r,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${e}, ${e}-menu-submenu`]:{[n]:Object.assign(Object.assign({padding:d,listStyleType:"none",backgroundColor:b,backgroundClip:"padding-box",borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary},Jh(t)),{[`${n}-item-group-title`]:{padding:`${c}px ${y}px`,color:t.colorTextDescription,transition:`all ${l}`},[`${n}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${n}-item-icon`]:{minWidth:u,marginInlineEnd:t.marginXS,fontSize:t.fontSizeSM},[`${n}-title-content`]:{flex:"auto","> a":{color:"inherit",transition:`all ${l}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}},[`${n}-item, ${n}-submenu-title`]:Object.assign(Object.assign({clear:"both",margin:0,padding:`${c}px ${y}px`,color:t.colorText,fontWeight:"normal",fontSize:u,lineHeight:t.lineHeight,cursor:"pointer",transition:`all ${l}`,borderRadius:t.borderRadiusSM,"&:hover, &-active":{backgroundColor:t.controlItemBgHover}},Jh(t)),{"&-selected":{color:t.colorPrimary,backgroundColor:t.controlItemBgActive,"&:hover, &-active":{backgroundColor:t.controlItemBgActiveHover}},"&-disabled":{color:f,cursor:"not-allowed","&:hover":{color:f,backgroundColor:b,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${t.marginXXS}px 0`,overflow:"hidden",lineHeight:0,backgroundColor:t.colorSplit},[`${e}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:t.paddingXS,[`${e}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:t.colorTextDescription,fontSize:p,fontStyle:"normal"}}}),[`${n}-item-group-list`]:{margin:`0 ${t.marginXS}px`,padding:0,listStyle:"none"},[`${n}-submenu-title`]:{paddingInlineEnd:y+t.fontSizeSM},[`${n}-submenu-vertical`]:{position:"relative"},[`${n}-submenu${n}-submenu-disabled ${e}-menu-submenu-title`]:{[`&, ${e}-menu-submenu-arrow-icon`]:{color:f,backgroundColor:b,cursor:"not-allowed"}},[`${n}-submenu-selected ${e}-menu-submenu-title`]:{color:t.colorPrimary}})}},[Yc(t,"slide-up"),Yc(t,"slide-down"),hy(t,"move-up"),hy(t,"move-down"),F5(t,"zoom-big")]]},$U=lr("Dropdown",(t,e)=>{let{rootPrefixCls:n}=e;const{marginXXS:r,sizePopupArrow:i,controlHeight:o,fontSize:a,lineHeight:s,paddingXXS:l,componentCls:c,borderRadiusLG:u}=t,d=(o-a*s)/2,{dropdownArrowOffset:f}=aC({contentRadius:u}),p=pn(t,{menuCls:`${c}-menu`,rootPrefixCls:n,dropdownArrowDistance:i/2+r,dropdownArrowOffset:f,dropdownPaddingVertical:d,dropdownEdgeChildPadding:l});return[Gie(p),Hie(p)]},t=>({zIndexPopup:t.zIndexPopupBase+50})),mC=t=>{const{menu:e,arrow:n,prefixCls:r,children:i,trigger:o,disabled:a,dropdownRender:s,getPopupContainer:l,overlayClassName:c,rootClassName:u,open:d,onOpenChange:f,visible:p,onVisibleChange:y,mouseEnterDelay:b=.15,mouseLeaveDelay:x=.1,autoAdjustOverflow:v=!0,placement:w="",overlay:S,transitionName:C}=t,{getPopupContainer:_,getPrefixCls:T,direction:M}=g.useContext(Wt);Dw();const I=g.useMemo(()=>{const ee=T();return C!==void 0?C:w.includes("top")?`${ee}-slide-down`:`${ee}-slide-up`},[T,w,C]),R=g.useMemo(()=>w?w.includes("Center")?w.slice(0,w.indexOf("Center")):w:M==="rtl"?"bottomRight":"bottomLeft",[w,M]),P=T("dropdown",r),[L,k]=$U(P),[,H]=Fa(),D=g.Children.only(i),G=_i(D,{className:ye(`${P}-trigger`,{[`${P}-rtl`]:M==="rtl"},D.props.className),disabled:a}),B=a?[]:o;let $;B&&B.includes("contextMenu")&&($=!0);const[O,z]=kr(!1,{value:d??p}),V=Zi(ee=>{f?.(ee),y?.(ee),z(ee)}),F=ye(c,u,k,{[`${P}-rtl`]:M==="rtl"}),W=mU({arrowPointAtCenter:typeof n=="object"&&n.pointAtCenter,autoAdjustOverflow:v,offset:H.marginXXS,arrowWidth:n?H.sizePopupArrow:0,borderRadius:H.borderRadius}),q=g.useCallback(()=>{z(!1)},[]),Z=()=>{let ee;return e?.items?ee=g.createElement(Sy,Object.assign({},e)):typeof S=="function"?ee=S():ee=S,s&&(ee=s(ee)),ee=g.Children.only(typeof ee=="string"?g.createElement("span",null,ee):ee),g.createElement(Rie,{prefixCls:`${P}-menu`,expandIcon:g.createElement("span",{className:`${P}-menu-submenu-arrow`},g.createElement(vy,{className:`${P}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:q,validator:oe=>{}},ee)};return L(g.createElement(bU,Object.assign({alignPoint:$},Yr(t,["rootClassName"]),{mouseEnterDelay:b,mouseLeaveDelay:x,visible:O,builtinPlacements:W,arrow:!!n,overlayClassName:F,prefixCls:P,getPopupContainer:l||_,transitionName:I,trigger:B,overlay:Z,placement:R,onVisibleChange:V}),G))};function Vie(t){return Object.assign(Object.assign({},t),{align:{overflow:{adjustX:!1,adjustY:!1}}})}const Wie=Qw(mC,"dropdown",t=>t,Vie),jie=t=>g.createElement(Wie,Object.assign({},t),g.createElement("span",null));mC._InternalPanelDoNotUseOrYouWillBeFired=jie;const UU=mC,kU=t=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:t,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),n3=t=>({borderColor:t.hoverBorderColor}),by=t=>({borderColor:t.activeBorderColor,boxShadow:t.activeShadow,outline:0}),gC=t=>({color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":Object.assign({},n3(pn(t,{hoverBorderColor:t.colorBorder})))}),BU=t=>{const{paddingBlockLG:e,fontSizeLG:n,lineHeightLG:r,borderRadiusLG:i,paddingInlineLG:o}=t;return{padding:`${e}px ${o}px`,fontSize:n,lineHeight:r,borderRadius:i}},vC=t=>({padding:`${t.paddingBlockSM}px ${t.paddingInlineSM}px`,borderRadius:t.borderRadiusSM}),V5=(t,e)=>{const{componentCls:n,colorError:r,colorWarning:i,errorActiveShadow:o,warningActiveShadow:a,colorErrorBorderHover:s,colorWarningBorderHover:l}=t;return{[`&-status-error:not(${e}-disabled):not(${e}-borderless)${e}`]:{borderColor:r,"&:hover":{borderColor:s},"&:focus, &-focused":Object.assign({},by(pn(t,{activeBorderColor:r,activeShadow:o}))),[`${n}-prefix, ${n}-suffix`]:{color:r}},[`&-status-warning:not(${e}-disabled):not(${e}-borderless)${e}`]:{borderColor:i,"&:hover":{borderColor:l},"&:focus, &-focused":Object.assign({},by(pn(t,{activeBorderColor:i,activeShadow:a}))),[`${n}-prefix, ${n}-suffix`]:{color:i}}}},r3=t=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${t.paddingBlock}px ${t.paddingInline}px`,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,backgroundColor:t.colorBgContainer,backgroundImage:"none",borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:t.colorBorder,borderRadius:t.borderRadius,transition:`all ${t.motionDurationMid}`},kU(t.colorTextPlaceholder)),{"&:hover":Object.assign({},n3(t)),"&:focus, &-focused":Object.assign({},by(t)),"&-disabled, &[disabled]":Object.assign({},gC(t)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:t.controlHeight,lineHeight:t.lineHeight,verticalAlign:"bottom",transition:`all ${t.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},BU(t)),"&-sm":Object.assign({},vC(t)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}}),zU=t=>{const{componentCls:e,antCls:n}=t;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:t.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:Object.assign({},BU(t)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:Object.assign({},vC(t)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:t.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:t.controlHeightSM},[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${t.paddingInline}px`,color:t.colorText,fontWeight:"normal",fontSize:t.fontSize,textAlign:"center",backgroundColor:t.colorFillAlter,border:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`-${t.paddingBlock+1}px -${t.paddingInline}px`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${t.lineWidth}px ${t.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${n}-select-selector`]:{color:t.colorPrimary}}},[`${n}-cascader-picker`]:{margin:`-9px -${t.paddingInline}px`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}},[`${e}`]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:Object.assign(Object.assign({display:"block"},Gl()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:t.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}},"& > *":{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${e}-affix-wrapper,
        & > ${e}-number-affix-wrapper,
        & > ${n}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:-t.lineWidth,borderInlineEndWidth:t.lineWidth},[`${e}`]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,
      & > ${n}-select-auto-complete ${e},
      & > ${n}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:t.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${n}-select:first-child > ${n}-select-selector,
      & > ${n}-select-auto-complete:first-child ${e},
      & > ${n}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius},[`& > *:last-child,
      & > ${n}-select:last-child > ${n}-select-selector,
      & > ${n}-cascader-picker:last-child ${e},
      & > ${n}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:t.lineWidth,borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius},[`& > ${n}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:-t.lineWidth,[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:t.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:t.borderRadius}}}})}},Xie=t=>{const{componentCls:e,controlHeightSM:n,lineWidth:r}=t,i=16,o=(n-r*2-i)/2;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},Ir(t)),r3(t)),V5(t,e)),{'&[type="color"]':{height:t.controlHeight,[`&${e}-lg`]:{height:t.controlHeightLG},[`&${e}-sm`]:{height:n,paddingTop:o,paddingBottom:o}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},qie=t=>{const{componentCls:e}=t;return{[`${e}-clear-icon`]:{margin:0,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"&:hover":{color:t.colorTextTertiary},"&:active":{color:t.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${t.inputAffixPadding}px`}}}},Kie=t=>{const{componentCls:e,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:i,colorIcon:o,colorIconHover:a,iconCls:s}=t;return{[`${e}-affix-wrapper`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},r3(t)),{display:"inline-flex",[`&:not(${e}-affix-wrapper-disabled):hover`]:Object.assign(Object.assign({},n3(t)),{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}}),"&-focused, &:focus":{zIndex:1},"&-disabled":{[`${e}[disabled]`]:{background:"transparent"}},[`> input${e}`]:{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${e}`]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:t.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:t.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),qie(t)),{[`${s}${e}-password-icon`]:{color:o,cursor:"pointer",transition:`all ${i}`,"&:hover":{color:a}}}),V5(t,`${e}-affix-wrapper`))}},Yie=t=>{const{componentCls:e,colorError:n,colorWarning:r,borderRadiusLG:i,borderRadiusSM:o}=t;return{[`${e}-group`]:Object.assign(Object.assign(Object.assign({},Ir(t)),zU(t)),{"&-rtl":{direction:"rtl"},"&-wrapper":{display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:i,fontSize:t.fontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:o}},"&-status-error":{[`${e}-group-addon`]:{color:n,borderColor:n}},"&-status-warning":{[`${e}-group-addon`]:{color:r,borderColor:r}},"&-disabled":{[`${e}-group-addon`]:Object.assign({},gC(t))},[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}})}},Zie=t=>{const{componentCls:e,antCls:n}=t,r=`${e}-search`;return{[r]:{[`${e}`]:{"&:hover, &:focus":{borderColor:t.colorPrimaryHover,[`+ ${e}-group-addon ${r}-button:not(${n}-btn-primary)`]:{borderInlineStartColor:t.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{borderRadius:0},[`${e}-lg`]:{lineHeight:t.lineHeightLG-2e-4},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${n}-btn-primary)`]:{color:t.colorTextDescription,"&:hover":{color:t.colorPrimaryHover},"&:active":{color:t.colorPrimaryActive},[`&${n}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:t.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${r}-button`]:{height:t.controlHeightLG},[`&-small ${r}-button`]:{height:t.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:-t.lineWidth,borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover,&:focus,&:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}},Qie=t=>{const{componentCls:e,paddingLG:n}=t,r=`${e}-textarea`;return{[r]:{position:"relative","&-show-count":{[`> ${e}`]:{height:"100%"},[`${e}-data-count`]:{position:"absolute",bottom:-t.fontSize*t.lineHeight,insetInlineEnd:0,color:t.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},"&-allow-clear":{[`> ${e}`]:{paddingInlineEnd:n}},[`&-affix-wrapper${r}-has-feedback`]:{[`${e}`]:{paddingInlineEnd:n}},[`&-affix-wrapper${e}-affix-wrapper`]:{padding:0,[`> textarea${e}`]:{fontSize:"inherit",border:"none",outline:"none","&:focus":{boxShadow:"none !important"}},[`${e}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${e}-clear-icon`]:{position:"absolute",insetInlineEnd:t.paddingXS,insetBlockStart:t.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:t.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}}}}};function yC(t){return pn(t,{inputAffixPadding:t.paddingXXS})}const xC=t=>{const{controlHeight:e,fontSize:n,lineHeight:r,lineWidth:i,controlHeightSM:o,controlHeightLG:a,fontSizeLG:s,lineHeightLG:l,paddingSM:c,controlPaddingHorizontalSM:u,controlPaddingHorizontal:d,colorFillAlter:f,colorPrimaryHover:p,controlOutlineWidth:y,controlOutline:b,colorErrorOutline:x,colorWarningOutline:v}=t;return{paddingBlock:Math.max(Math.round((e-n*r)/2*10)/10-i,3),paddingBlockSM:Math.max(Math.round((o-n*r)/2*10)/10-i,0),paddingBlockLG:Math.ceil((a-s*l)/2*10)/10-i,paddingInline:c-i,paddingInlineSM:u-i,paddingInlineLG:d-i,addonBg:f,activeBorderColor:p,hoverBorderColor:p,activeShadow:`0 0 0 ${y}px ${b}`,errorActiveShadow:`0 0 0 ${y}px ${x}`,warningActiveShadow:`0 0 0 ${y}px ${v}`}},SC=lr("Input",t=>{const e=pn(t,yC(t));return[Xie(e),Qie(e),Kie(e),Yie(e),Zie(e),L5(e)]},xC),Jie=t=>{const{prefixCls:e,className:n,style:r,size:i,shape:o}=t,a=ye({[`${e}-lg`]:i==="large",[`${e}-sm`]:i==="small"}),s=ye({[`${e}-circle`]:o==="circle",[`${e}-square`]:o==="square",[`${e}-round`]:o==="round"}),l=g.useMemo(()=>typeof i=="number"?{width:i,height:i,lineHeight:`${i}px`}:{},[i]);return g.createElement("span",{className:ye(e,a,s,n),style:Object.assign(Object.assign({},l),r)})},W5=Jie,eoe=new Mn("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),j5=t=>({height:t,lineHeight:`${t}px`}),Uh=t=>Object.assign({width:t},j5(t)),toe=t=>({background:t.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:eoe,animationDuration:t.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),h8=t=>Object.assign({width:t*5,minWidth:t*5},j5(t)),noe=t=>{const{skeletonAvatarCls:e,gradientFromColor:n,controlHeight:r,controlHeightLG:i,controlHeightSM:o}=t;return{[`${e}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},Uh(r)),[`${e}${e}-circle`]:{borderRadius:"50%"},[`${e}${e}-lg`]:Object.assign({},Uh(i)),[`${e}${e}-sm`]:Object.assign({},Uh(o))}},roe=t=>{const{controlHeight:e,borderRadiusSM:n,skeletonInputCls:r,controlHeightLG:i,controlHeightSM:o,gradientFromColor:a}=t;return{[`${r}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:a,borderRadius:n},h8(e)),[`${r}-lg`]:Object.assign({},h8(i)),[`${r}-sm`]:Object.assign({},h8(o))}},DA=t=>Object.assign({width:t},j5(t)),ioe=t=>{const{skeletonImageCls:e,imageSizeBase:n,gradientFromColor:r,borderRadiusSM:i}=t;return{[`${e}`]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:r,borderRadius:i},DA(n*2)),{[`${e}-path`]:{fill:"#bfbfbf"},[`${e}-svg`]:Object.assign(Object.assign({},DA(n)),{maxWidth:n*4,maxHeight:n*4}),[`${e}-svg${e}-svg-circle`]:{borderRadius:"50%"}}),[`${e}${e}-circle`]:{borderRadius:"50%"}}},p8=(t,e,n)=>{const{skeletonButtonCls:r}=t;return{[`${n}${r}-circle`]:{width:e,minWidth:e,borderRadius:"50%"},[`${n}${r}-round`]:{borderRadius:e}}},m8=t=>Object.assign({width:t*2,minWidth:t*2},j5(t)),ooe=t=>{const{borderRadiusSM:e,skeletonButtonCls:n,controlHeight:r,controlHeightLG:i,controlHeightSM:o,gradientFromColor:a}=t;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[`${n}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:a,borderRadius:e,width:r*2,minWidth:r*2},m8(r))},p8(t,r,n)),{[`${n}-lg`]:Object.assign({},m8(i))}),p8(t,i,`${n}-lg`)),{[`${n}-sm`]:Object.assign({},m8(o))}),p8(t,o,`${n}-sm`))},aoe=t=>{const{componentCls:e,skeletonAvatarCls:n,skeletonTitleCls:r,skeletonParagraphCls:i,skeletonButtonCls:o,skeletonInputCls:a,skeletonImageCls:s,controlHeight:l,controlHeightLG:c,controlHeightSM:u,gradientFromColor:d,padding:f,marginSM:p,borderRadius:y,titleHeight:b,blockRadius:x,paragraphLiHeight:v,controlHeightXS:w,paragraphMarginTop:S}=t;return{[`${e}`]:{display:"table",width:"100%",[`${e}-header`]:{display:"table-cell",paddingInlineEnd:f,verticalAlign:"top",[`${n}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:d},Uh(l)),[`${n}-circle`]:{borderRadius:"50%"},[`${n}-lg`]:Object.assign({},Uh(c)),[`${n}-sm`]:Object.assign({},Uh(u))},[`${e}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${r}`]:{width:"100%",height:b,background:d,borderRadius:x,[`+ ${i}`]:{marginBlockStart:u}},[`${i}`]:{padding:0,"> li":{width:"100%",height:v,listStyle:"none",background:d,borderRadius:x,"+ li":{marginBlockStart:w}}},[`${i}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${e}-content`]:{[`${r}, ${i} > li`]:{borderRadius:y}}},[`${e}-with-avatar ${e}-content`]:{[`${r}`]:{marginBlockStart:p,[`+ ${i}`]:{marginBlockStart:S}}},[`${e}${e}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},ooe(t)),noe(t)),roe(t)),ioe(t)),[`${e}${e}-block`]:{width:"100%",[`${o}`]:{width:"100%"},[`${a}`]:{width:"100%"}},[`${e}${e}-active`]:{[`
        ${r},
        ${i} > li,
        ${n},
        ${o},
        ${a},
        ${s}
      `]:Object.assign({},toe(t))}}},jp=lr("Skeleton",t=>{const{componentCls:e}=t,n=pn(t,{skeletonAvatarCls:`${e}-avatar`,skeletonTitleCls:`${e}-title`,skeletonParagraphCls:`${e}-paragraph`,skeletonButtonCls:`${e}-button`,skeletonInputCls:`${e}-input`,skeletonImageCls:`${e}-image`,imageSizeBase:t.controlHeight*1.5,borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${t.gradientFromColor} 25%, ${t.gradientToColor} 37%, ${t.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[aoe(n)]},t=>{const{colorFillContent:e,colorFill:n}=t,r=e,i=n;return{color:r,colorGradientEnd:i,gradientFromColor:r,gradientToColor:i,titleHeight:t.controlHeight/2,blockRadius:t.borderRadiusSM,paragraphMarginTop:t.marginLG+t.marginXXS,paragraphLiHeight:t.controlHeight/2}},{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),soe=t=>{const{prefixCls:e,className:n,rootClassName:r,active:i,shape:o="circle",size:a="default"}=t,{getPrefixCls:s}=g.useContext(Wt),l=s("skeleton",e),[c,u]=jp(l),d=Yr(t,["prefixCls","className"]),f=ye(l,`${l}-element`,{[`${l}-active`]:i},n,r,u);return c(g.createElement("div",{className:f},g.createElement(W5,Object.assign({prefixCls:`${l}-avatar`,shape:o,size:a},d))))},loe=soe,coe=t=>{const{prefixCls:e,className:n,rootClassName:r,active:i,block:o=!1,size:a="default"}=t,{getPrefixCls:s}=g.useContext(Wt),l=s("skeleton",e),[c,u]=jp(l),d=Yr(t,["prefixCls"]),f=ye(l,`${l}-element`,{[`${l}-active`]:i,[`${l}-block`]:o},n,r,u);return c(g.createElement("div",{className:f},g.createElement(W5,Object.assign({prefixCls:`${l}-button`,size:a},d))))},uoe=coe,doe="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",foe=t=>{const{prefixCls:e,className:n,rootClassName:r,style:i,active:o}=t,{getPrefixCls:a}=g.useContext(Wt),s=a("skeleton",e),[l,c]=jp(s),u=ye(s,`${s}-element`,{[`${s}-active`]:o},n,r,c);return l(g.createElement("div",{className:u},g.createElement("div",{className:ye(`${s}-image`,n),style:i},g.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${s}-image-svg`},g.createElement("path",{d:doe,className:`${s}-image-path`})))))},hoe=foe,poe=t=>{const{prefixCls:e,className:n,rootClassName:r,active:i,block:o,size:a="default"}=t,{getPrefixCls:s}=g.useContext(Wt),l=s("skeleton",e),[c,u]=jp(l),d=Yr(t,["prefixCls"]),f=ye(l,`${l}-element`,{[`${l}-active`]:i,[`${l}-block`]:o},n,r,u);return c(g.createElement("div",{className:f},g.createElement(W5,Object.assign({prefixCls:`${l}-input`,size:a},d))))},moe=poe;var goe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};const voe=goe;var yoe=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:voe}))};const xoe=g.forwardRef(yoe),Soe=t=>{const{prefixCls:e,className:n,rootClassName:r,style:i,active:o,children:a}=t,{getPrefixCls:s}=g.useContext(Wt),l=s("skeleton",e),[c,u]=jp(l),d=ye(l,`${l}-element`,{[`${l}-active`]:o},u,n,r),f=a??g.createElement(xoe,null);return c(g.createElement("div",{className:d},g.createElement("div",{className:ye(`${l}-image`,n),style:i},f)))},boe=Soe,woe=t=>{const e=s=>{const{width:l,rows:c=2}=t;if(Array.isArray(l))return l[s];if(c-1===s)return l},{prefixCls:n,className:r,style:i,rows:o}=t,a=mt(Array(o)).map((s,l)=>g.createElement("li",{key:l,style:{width:e(l)}}));return g.createElement("ul",{className:ye(n,r),style:i},a)},Coe=woe,Eoe=t=>{let{prefixCls:e,className:n,width:r,style:i}=t;return g.createElement("h3",{className:ye(e,n),style:Object.assign({width:r},i)})},_oe=Eoe;function g8(t){return t&&typeof t=="object"?t:{}}function Toe(t,e){return t&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Moe(t,e){return!t&&e?{width:"38%"}:t&&e?{width:"50%"}:{}}function Roe(t,e){const n={};return(!t||!e)&&(n.width="61%"),!t&&e?n.rows=3:n.rows=2,n}const Xp=t=>{const{prefixCls:e,loading:n,className:r,rootClassName:i,style:o,children:a,avatar:s=!1,title:l=!0,paragraph:c=!0,active:u,round:d}=t,{getPrefixCls:f,direction:p,skeleton:y}=g.useContext(Wt),b=f("skeleton",e),[x,v]=jp(b);if(n||!("loading"in t)){const w=!!s,S=!!l,C=!!c;let _;if(w){const I=Object.assign(Object.assign({prefixCls:`${b}-avatar`},Toe(S,C)),g8(s));_=g.createElement("div",{className:`${b}-header`},g.createElement(W5,Object.assign({},I)))}let T;if(S||C){let I;if(S){const P=Object.assign(Object.assign({prefixCls:`${b}-title`},Moe(w,C)),g8(l));I=g.createElement(_oe,Object.assign({},P))}let R;if(C){const P=Object.assign(Object.assign({prefixCls:`${b}-paragraph`},Roe(w,S)),g8(c));R=g.createElement(Coe,Object.assign({},P))}T=g.createElement("div",{className:`${b}-content`},I,R)}const M=ye(b,{[`${b}-with-avatar`]:w,[`${b}-active`]:u,[`${b}-rtl`]:p==="rtl",[`${b}-round`]:d},y?.className,r,i,v);return x(g.createElement("div",{className:M,style:Object.assign(Object.assign({},y?.style),o)},_,T))}return typeof a<"u"?a:null};Xp.Button=uoe;Xp.Avatar=loe;Xp.Input=moe;Xp.Image=hoe;Xp.Node=boe;const Aoe=Xp;var Poe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const Ioe=Poe;var Noe=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:Ioe}))};const Ooe=g.forwardRef(Noe),X5=g.createContext(null);var HU=g.forwardRef(function(t,e){var n=t.prefixCls,r=t.className,i=t.style,o=t.id,a=t.active,s=t.tabKey,l=t.children;return g.createElement("div",{id:o&&"".concat(o,"-panel-").concat(s),role:"tabpanel",tabIndex:a?0:-1,"aria-labelledby":o&&"".concat(o,"-tab-").concat(s),"aria-hidden":!a,style:i,className:ye(n,a&&"".concat(n,"-active"),r),ref:e},l)}),Loe=["key","forceRender","style","className"];function Doe(t){var e=t.id,n=t.activeKey,r=t.animated,i=t.tabPosition,o=t.destroyInactiveTabPane,a=g.useContext(X5),s=a.prefixCls,l=a.tabs,c=r.tabPane,u="".concat(s,"-tabpane");return g.createElement("div",{className:ye("".concat(s,"-content-holder"))},g.createElement("div",{className:ye("".concat(s,"-content"),"".concat(s,"-content-").concat(i),ie({},"".concat(s,"-content-animated"),c))},l.map(function(d){var f=d.key,p=d.forceRender,y=d.style,b=d.className,x=Yt(d,Loe),v=f===n;return g.createElement(el,it({key:f,visible:v,forceRender:p,removeOnLeave:!!o,leavedClassName:"".concat(u,"-hidden")},r.tabPaneMotion),function(w,S){var C=w.style,_=w.className;return g.createElement(HU,it({},x,{prefixCls:u,id:e,tabKey:f,animated:c,active:v,style:be(be({},y),C),className:ye(b,_),ref:S}))})})))}var FA={width:0,height:0,left:0,top:0};function Foe(t,e,n){return g.useMemo(function(){for(var r,i=new Map,o=e.get((r=t[0])===null||r===void 0?void 0:r.key)||FA,a=o.left+o.width,s=0;s<t.length;s+=1){var l=t[s].key,c=e.get(l);if(!c){var u;c=e.get((u=t[s-1])===null||u===void 0?void 0:u.key)||FA}var d=i.get(l)||be({},c);d.right=a-d.left-d.width,i.set(l,d)}return i},[t.map(function(r){return r.key}).join("_"),e,n])}function $A(t,e){var n=g.useRef(t),r=g.useState({}),i=Ne(r,2),o=i[1];function a(s){var l=typeof s=="function"?s(n.current):s;l!==n.current&&e(l,n.current),n.current=l,o({})}return[n.current,a]}var $oe=.1,UA=.01,S2=20,kA=Math.pow(.995,S2);function Uoe(t,e){var n=g.useState(),r=Ne(n,2),i=r[0],o=r[1],a=g.useState(0),s=Ne(a,2),l=s[0],c=s[1],u=g.useState(0),d=Ne(u,2),f=d[0],p=d[1],y=g.useState(),b=Ne(y,2),x=b[0],v=b[1],w=g.useRef();function S(R){var P=R.touches[0],L=P.screenX,k=P.screenY;o({x:L,y:k}),window.clearInterval(w.current)}function C(R){if(i){R.preventDefault();var P=R.touches[0],L=P.screenX,k=P.screenY;o({x:L,y:k});var H=L-i.x,D=k-i.y;e(H,D);var G=Date.now();c(G),p(G-l),v({x:H,y:D})}}function _(){if(i&&(o(null),v(null),x)){var R=x.x/f,P=x.y/f,L=Math.abs(R),k=Math.abs(P);if(Math.max(L,k)<$oe)return;var H=R,D=P;w.current=window.setInterval(function(){if(Math.abs(H)<UA&&Math.abs(D)<UA){window.clearInterval(w.current);return}H*=kA,D*=kA,e(H*S2,D*S2)},S2)}}var T=g.useRef();function M(R){var P=R.deltaX,L=R.deltaY,k=0,H=Math.abs(P),D=Math.abs(L);H===D?k=T.current==="x"?P:L:H>D?(k=P,T.current="x"):(k=L,T.current="y"),e(-k,-k)&&R.preventDefault()}var I=g.useRef(null);I.current={onTouchStart:S,onTouchMove:C,onTouchEnd:_,onWheel:M},g.useEffect(function(){function R(H){I.current.onTouchStart(H)}function P(H){I.current.onTouchMove(H)}function L(H){I.current.onTouchEnd(H)}function k(H){I.current.onWheel(H)}return document.addEventListener("touchmove",P,{passive:!1}),document.addEventListener("touchend",L,{passive:!1}),t.current.addEventListener("touchstart",R,{passive:!1}),t.current.addEventListener("wheel",k),function(){document.removeEventListener("touchmove",P),document.removeEventListener("touchend",L)}},[])}function GU(t){var e=g.useState(0),n=Ne(e,2),r=n[0],i=n[1],o=g.useRef(0),a=g.useRef();return a.current=t,Lh(function(){var s;(s=a.current)===null||s===void 0||s.call(a)},[r]),function(){o.current===r&&(o.current+=1,i(o.current))}}function koe(t){var e=g.useRef([]),n=g.useState({}),r=Ne(n,2),i=r[1],o=g.useRef(typeof t=="function"?t():t),a=GU(function(){var l=o.current;e.current.forEach(function(c){l=c(l)}),e.current=[],o.current=l,i({})});function s(l){e.current.push(l),a()}return[o.current,s]}var BA={width:0,height:0,left:0,top:0,right:0};function Boe(t,e,n,r,i,o,a){var s=a.tabs,l=a.tabPosition,c=a.rtl,u,d,f;return["top","bottom"].includes(l)?(u="width",d=c?"right":"left",f=Math.abs(n)):(u="height",d="top",f=-n),g.useMemo(function(){if(!s.length)return[0,0];for(var p=s.length,y=p,b=0;b<p;b+=1){var x=t.get(s[b].key)||BA;if(x[d]+x[u]>f+e){y=b-1;break}}for(var v=0,w=p-1;w>=0;w-=1){var S=t.get(s[w].key)||BA;if(S[d]<f){v=w+1;break}}return v>=y?[0,0]:[v,y]},[t,e,r,i,o,f,l,s.map(function(p){return p.key}).join("_"),c])}function zA(t){var e;return t instanceof Map?(e={},t.forEach(function(n,r){e[r]=n})):e=t,JSON.stringify(e)}var zoe="TABS_DQ";function VU(t){return String(t).replace(/"/g,zoe)}function WU(t,e,n,r){return!(!n||r||t===!1||t===void 0&&(e===!1||e===null))}function Hoe(t,e){var n=t.prefixCls,r=t.editable,i=t.locale,o=t.style;return!r||r.showAdd===!1?null:g.createElement("button",{ref:e,type:"button",className:"".concat(n,"-nav-add"),style:o,"aria-label":i?.addAriaLabel||"Add tab",onClick:function(s){r.onEdit("add",{event:s})}},r.addIcon||"+")}const jU=g.forwardRef(Hoe);var HA=g.forwardRef(function(t,e){var n=t.position,r=t.prefixCls,i=t.extra;if(!i)return null;var o,a={};return Xt(i)==="object"&&!g.isValidElement(i)?a=i:a.right=i,n==="right"&&(o=a.right),n==="left"&&(o=a.left),o?g.createElement("div",{className:"".concat(r,"-extra-content"),ref:e},o):null});function Goe(t,e){var n=t.prefixCls,r=t.id,i=t.tabs,o=t.locale,a=t.mobile,s=t.moreIcon,l=s===void 0?"More":s,c=t.moreTransitionName,u=t.style,d=t.className,f=t.editable,p=t.tabBarGutter,y=t.rtl,b=t.removeAriaLabel,x=t.onTabClick,v=t.getPopupContainer,w=t.popupClassName,S=g.useState(!1),C=Ne(S,2),_=C[0],T=C[1],M=g.useState(null),I=Ne(M,2),R=I[0],P=I[1],L="".concat(r,"-more-popup"),k="".concat(n,"-dropdown"),H=R!==null?"".concat(L,"-").concat(R):null,D=o?.dropdownAriaLabel;function G(W,q){W.preventDefault(),W.stopPropagation(),f.onEdit("remove",{key:q,event:W})}var B=g.createElement(Wp,{onClick:function(q){var Z=q.key,ee=q.domEvent;x(Z,ee),T(!1)},prefixCls:"".concat(k,"-menu"),id:L,tabIndex:-1,role:"listbox","aria-activedescendant":H,selectedKeys:[R],"aria-label":D!==void 0?D:"expanded dropdown"},i.map(function(W){var q=W.closable,Z=W.disabled,ee=W.closeIcon,oe=W.key,re=W.label,ce=WU(q,ee,f,Z);return g.createElement(e3,{key:oe,id:"".concat(L,"-").concat(oe),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(oe),disabled:Z},g.createElement("span",null,re),ce&&g.createElement("button",{type:"button","aria-label":b||"remove",tabIndex:0,className:"".concat(k,"-menu-item-remove"),onClick:function(Pe){Pe.stopPropagation(),G(Pe,oe)}},ee||f.removeIcon||""))}));function $(W){for(var q=i.filter(function(ce){return!ce.disabled}),Z=q.findIndex(function(ce){return ce.key===R})||0,ee=q.length,oe=0;oe<ee;oe+=1){Z=(Z+W+ee)%ee;var re=q[Z];if(!re.disabled){P(re.key);return}}}function O(W){var q=W.which;if(!_){[nt.DOWN,nt.SPACE,nt.ENTER].includes(q)&&(T(!0),W.preventDefault());return}switch(q){case nt.UP:$(-1),W.preventDefault();break;case nt.DOWN:$(1),W.preventDefault();break;case nt.ESC:T(!1);break;case nt.SPACE:case nt.ENTER:R!==null&&x(R,W);break}}g.useEffect(function(){var W=document.getElementById(H);W&&W.scrollIntoView&&W.scrollIntoView(!1)},[R]),g.useEffect(function(){_||P(null)},[_]);var z=ie({},y?"marginRight":"marginLeft",p);i.length||(z.visibility="hidden",z.order=1);var V=ye(ie({},"".concat(k,"-rtl"),y)),F=a?null:g.createElement(bU,{prefixCls:k,overlay:B,trigger:["hover"],visible:i.length?_:!1,transitionName:c,onVisibleChange:T,overlayClassName:ye(V,w),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:v},g.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:z,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":L,id:"".concat(r,"-more"),"aria-expanded":_,onKeyDown:O},l));return g.createElement("div",{className:ye("".concat(n,"-nav-operations"),d),style:u,ref:e},F,g.createElement(jU,{prefixCls:n,locale:o,editable:f}))}const Voe=g.memo(g.forwardRef(Goe),function(t,e){return e.tabMoving});function Woe(t){var e,n=t.prefixCls,r=t.id,i=t.active,o=t.tab,a=o.key,s=o.label,l=o.disabled,c=o.closeIcon,u=t.closable,d=t.renderWrapper,f=t.removeAriaLabel,p=t.editable,y=t.onClick,b=t.onFocus,x=t.style,v="".concat(n,"-tab"),w=WU(u,c,p,l);function S(T){l||y(T)}function C(T){T.preventDefault(),T.stopPropagation(),p.onEdit("remove",{key:a,event:T})}var _=g.createElement("div",{key:a,"data-node-key":VU(a),className:ye(v,(e={},ie(e,"".concat(v,"-with-remove"),w),ie(e,"".concat(v,"-active"),i),ie(e,"".concat(v,"-disabled"),l),e)),style:x,onClick:S},g.createElement("div",{role:"tab","aria-selected":i,id:r&&"".concat(r,"-tab-").concat(a),className:"".concat(v,"-btn"),"aria-controls":r&&"".concat(r,"-panel-").concat(a),"aria-disabled":l,tabIndex:l?null:0,onClick:function(M){M.stopPropagation(),S(M)},onKeyDown:function(M){[nt.SPACE,nt.ENTER].includes(M.which)&&(M.preventDefault(),S(M))},onFocus:b},s),w&&g.createElement("button",{type:"button","aria-label":f||"remove",tabIndex:0,className:"".concat(v,"-remove"),onClick:function(M){M.stopPropagation(),C(M)}},c||p.removeIcon||""));return d?d(_):_}var joe=function(e){var n=e.activeTabOffset,r=e.horizontal,i=e.rtl,o=e.indicatorSize,a=g.useState(),s=Ne(a,2),l=s[0],c=s[1],u=g.useRef(),d=function(y){return typeof o=="function"?o(y):typeof o=="number"?o:y};function f(){Un.cancel(u.current)}return g.useEffect(function(){var p={};return n&&(r?(i?(p.right=n.right+n.width/2,p.transform="translateX(50%)"):(p.left=n.left+n.width/2,p.transform="translateX(-50%)"),p.width=d(n.width)):(p.top=n.top+n.height/2,p.transform="translateY(-50%)",p.height=d(n.height))),f(),u.current=Un(function(){c(p)}),f},[n,r,i,o]),{style:l}},Tf=function(e){var n=e.current||{},r=n.offsetWidth,i=r===void 0?0:r,o=n.offsetHeight,a=o===void 0?0:o;return[i,a]},Wv=function(e,n){return e[n?0:1]};function Xoe(t,e){var n,r=g.useContext(X5),i=r.prefixCls,o=r.tabs,a=t.className,s=t.style,l=t.id,c=t.animated,u=t.activeKey,d=t.rtl,f=t.extra,p=t.editable,y=t.locale,b=t.tabPosition,x=t.tabBarGutter,v=t.children,w=t.onTabClick,S=t.onTabScroll,C=t.indicatorSize,_=g.useRef(),T=g.useRef(),M=g.useRef(),I=g.useRef(),R=g.useRef(),P=g.useRef(),L=g.useRef(),k=b==="top"||b==="bottom",H=$A(0,function(nn,Y){k&&S&&S({direction:nn>Y?"left":"right"})}),D=Ne(H,2),G=D[0],B=D[1],$=$A(0,function(nn,Y){!k&&S&&S({direction:nn>Y?"top":"bottom"})}),O=Ne($,2),z=O[0],V=O[1],F=g.useState([0,0]),W=Ne(F,2),q=W[0],Z=W[1],ee=g.useState([0,0]),oe=Ne(ee,2),re=oe[0],ce=oe[1],Se=g.useState([0,0]),Pe=Ne(Se,2),xe=Pe[0],X=Pe[1],fe=g.useState([0,0]),pe=Ne(fe,2),Ce=pe[0],me=pe[1],Ge=koe(new Map),ve=Ne(Ge,2),Re=ve[0],Ae=ve[1],Le=Foe(o,Re,re[0]),Je=Wv(q,k),K=Wv(re,k),j=Wv(xe,k),ae=Wv(Ce,k),Ee=Je<K+j,Oe=Ee?Je-ae:Je-j,je="".concat(i,"-nav-operations-hidden"),Be=0,Fe=0;k&&d?(Be=0,Fe=Math.max(0,K-Oe)):(Be=Math.min(0,Oe-K),Fe=0);function Ue(nn){return nn<Be?Be:nn>Fe?Fe:nn}var et=g.useRef(),at=g.useState(),We=Ne(at,2),ut=We[0],te=We[1];function ke(){te(Date.now())}function ze(){window.clearTimeout(et.current)}Uoe(I,function(nn,Y){function le(he,ge){he(function(Te){var ft=Ue(Te+ge);return ft})}return Ee?(k?le(B,nn):le(V,Y),ze(),ke(),!0):!1}),g.useEffect(function(){return ze(),ut&&(et.current=window.setTimeout(function(){te(0)},100)),ze},[ut]);var J=Boe(Le,Oe,k?G:z,K,j,ae,be(be({},t),{},{tabs:o})),de=Ne(J,2),ue=de[0],De=de[1],Ie=Zi(function(){var nn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u,Y=Le.get(nn)||{width:0,height:0,left:0,right:0,top:0};if(k){var le=G;d?Y.right<G?le=Y.right:Y.right+Y.width>G+Oe&&(le=Y.right+Y.width-Oe):Y.left<-G?le=-Y.left:Y.left+Y.width>-G+Oe&&(le=-(Y.left+Y.width-Oe)),V(0),B(Ue(le))}else{var he=z;Y.top<-z?he=-Y.top:Y.top+Y.height>-z+Oe&&(he=-(Y.top+Y.height-Oe)),B(0),V(Ue(he))}}),_e={};b==="top"||b==="bottom"?_e[d?"marginRight":"marginLeft"]=x:_e.marginTop=x;var rt=o.map(function(nn,Y){var le=nn.key;return g.createElement(Woe,{id:l,prefixCls:i,key:le,tab:nn,style:Y===0?void 0:_e,closable:nn.closable,editable:p,active:le===u,renderWrapper:v,removeAriaLabel:y?.removeAriaLabel,onClick:function(ge){w(le,ge)},onFocus:function(){Ie(le),ke(),I.current&&(d||(I.current.scrollLeft=0),I.current.scrollTop=0)}})}),ct=function(){return Ae(function(){var Y=new Map;return o.forEach(function(le){var he,ge=le.key,Te=(he=R.current)===null||he===void 0?void 0:he.querySelector('[data-node-key="'.concat(VU(ge),'"]'));Te&&Y.set(ge,{width:Te.offsetWidth,height:Te.offsetHeight,left:Te.offsetLeft,top:Te.offsetTop})}),Y})};g.useEffect(function(){ct()},[o.map(function(nn){return nn.key}).join("_")]);var pt=GU(function(){var nn=Tf(_),Y=Tf(T),le=Tf(M);Z([nn[0]-Y[0]-le[0],nn[1]-Y[1]-le[1]]);var he=Tf(L);X(he);var ge=Tf(P);me(ge);var Te=Tf(R);ce([Te[0]-he[0],Te[1]-he[1]]),ct()}),Xe=o.slice(0,ue),lt=o.slice(De+1),ot=[].concat(mt(Xe),mt(lt)),gt=Le.get(u),cn=joe({activeTabOffset:gt,horizontal:k,rtl:d,indicatorSize:C}),an=cn.style;g.useEffect(function(){Ie()},[u,Be,Fe,zA(gt),zA(Le),k]),g.useEffect(function(){pt()},[d]);var Fn=!!ot.length,Xn="".concat(i,"-nav-wrap"),An,tn,nr,_r;return k?d?(tn=G>0,An=G!==Fe):(An=G<0,tn=G!==Be):(nr=z<0,_r=z!==Be),g.createElement(Ta,{onResize:pt},g.createElement("div",{ref:Wg(e,_),role:"tablist",className:ye("".concat(i,"-nav"),a),style:s,onKeyDown:function(){ke()}},g.createElement(HA,{ref:T,position:"left",extra:f,prefixCls:i}),g.createElement(Ta,{onResize:pt},g.createElement("div",{className:ye(Xn,(n={},ie(n,"".concat(Xn,"-ping-left"),An),ie(n,"".concat(Xn,"-ping-right"),tn),ie(n,"".concat(Xn,"-ping-top"),nr),ie(n,"".concat(Xn,"-ping-bottom"),_r),n)),ref:I},g.createElement(Ta,{onResize:pt},g.createElement("div",{ref:R,className:"".concat(i,"-nav-list"),style:{transform:"translate(".concat(G,"px, ").concat(z,"px)"),transition:ut?"none":void 0}},rt,g.createElement(jU,{ref:L,prefixCls:i,locale:y,editable:p,style:be(be({},rt.length===0?void 0:_e),{},{visibility:Fn?"hidden":null})}),g.createElement("div",{className:ye("".concat(i,"-ink-bar"),ie({},"".concat(i,"-ink-bar-animated"),c.inkBar)),style:an}))))),g.createElement(Voe,it({},t,{removeAriaLabel:y?.removeAriaLabel,ref:P,prefixCls:i,tabs:ot,className:!Fn&&je,tabMoving:!!ut})),g.createElement(HA,{ref:M,position:"right",extra:f,prefixCls:i})))}const GA=g.forwardRef(Xoe);var qoe=["renderTabBar"],Koe=["label","key"];function Yoe(t){var e=t.renderTabBar,n=Yt(t,qoe),r=g.useContext(X5),i=r.tabs;if(e){var o=be(be({},n),{},{panes:i.map(function(a){var s=a.label,l=a.key,c=Yt(a,Koe);return g.createElement(HU,it({tab:s,key:l,tabKey:l},c))})});return e(o,GA)}return g.createElement(GA,n)}function Zoe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},e;return t===!1?e={inkBar:!1,tabPane:!1}:t===!0?e={inkBar:!0,tabPane:!1}:e=be({inkBar:!0},Xt(t)==="object"?t:{}),e.tabPaneMotion&&e.tabPane===void 0&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}var Qoe=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicatorSize"],VA=0;function Joe(t,e){var n,r=t.id,i=t.prefixCls,o=i===void 0?"rc-tabs":i,a=t.className,s=t.items,l=t.direction,c=t.activeKey,u=t.defaultActiveKey,d=t.editable,f=t.animated,p=t.tabPosition,y=p===void 0?"top":p,b=t.tabBarGutter,x=t.tabBarStyle,v=t.tabBarExtraContent,w=t.locale,S=t.moreIcon,C=t.moreTransitionName,_=t.destroyInactiveTabPane,T=t.renderTabBar,M=t.onChange,I=t.onTabClick,R=t.onTabScroll,P=t.getPopupContainer,L=t.popupClassName,k=t.indicatorSize,H=Yt(t,Qoe),D=g.useMemo(function(){return(s||[]).filter(function(me){return me&&Xt(me)==="object"&&"key"in me})},[s]),G=l==="rtl",B=Zoe(f),$=g.useState(!1),O=Ne($,2),z=O[0],V=O[1];g.useEffect(function(){V($5())},[]);var F=kr(function(){var me;return(me=D[0])===null||me===void 0?void 0:me.key},{value:c,defaultValue:u}),W=Ne(F,2),q=W[0],Z=W[1],ee=g.useState(function(){return D.findIndex(function(me){return me.key===q})}),oe=Ne(ee,2),re=oe[0],ce=oe[1];g.useEffect(function(){var me=D.findIndex(function(ve){return ve.key===q});if(me===-1){var Ge;me=Math.max(0,Math.min(re,D.length-1)),Z((Ge=D[me])===null||Ge===void 0?void 0:Ge.key)}ce(me)},[D.map(function(me){return me.key}).join("_"),q,re]);var Se=kr(null,{value:r}),Pe=Ne(Se,2),xe=Pe[0],X=Pe[1];g.useEffect(function(){r||(X("rc-tabs-".concat(VA)),VA+=1)},[]);function fe(me,Ge){I?.(me,Ge);var ve=me!==q;Z(me),ve&&M?.(me)}var pe={id:xe,activeKey:q,animated:B,tabPosition:y,rtl:G,mobile:z},Ce=be(be({},pe),{},{editable:d,locale:w,moreIcon:S,moreTransitionName:C,tabBarGutter:b,onTabClick:fe,onTabScroll:R,extra:v,style:x,panes:null,getPopupContainer:P,popupClassName:L,indicatorSize:k});return g.createElement(X5.Provider,{value:{tabs:D,prefixCls:o}},g.createElement("div",it({ref:e,id:r,className:ye(o,"".concat(o,"-").concat(y),(n={},ie(n,"".concat(o,"-mobile"),z),ie(n,"".concat(o,"-editable"),d),ie(n,"".concat(o,"-rtl"),G),n),a)},H),g.createElement(Yoe,it({},Ce,{renderTabBar:T})),g.createElement(Doe,it({destroyInactiveTabPane:_},pe,{animated:B}))))}var eae=g.forwardRef(Joe);const tae={motionAppear:!1,motionEnter:!0,motionLeave:!0};function nae(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},n;return e===!1?n={inkBar:!1,tabPane:!1}:e===!0?n={inkBar:!0,tabPane:!0}:n=Object.assign({inkBar:!0},typeof e=="object"?e:{}),n.tabPane&&(n.tabPaneMotion=Object.assign(Object.assign({},tae),{motionName:N5(t,"switch")})),n}var rae=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function iae(t){return t.filter(e=>e)}function oae(t,e){if(t)return t;const n=No(e).map(r=>{if(g.isValidElement(r)){const{key:i,props:o}=r,a=o||{},{tab:s}=a,l=rae(a,["tab"]);return Object.assign(Object.assign({key:String(i)},l),{label:s})}return null});return iae(n)}const aae=t=>{const{componentCls:e,motionDurationSlow:n}=t;return[{[e]:{[`${e}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${n}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${n}`}}}}},[Yc(t,"slide-up"),Yc(t,"slide-down")]]},sae=aae,lae=t=>{const{componentCls:e,tabsCardPadding:n,cardBg:r,cardGutter:i,colorBorderSecondary:o,itemSelectedColor:a}=t;return{[`${e}-card`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{margin:0,padding:n,background:r,border:`${t.lineWidth}px ${t.lineType} ${o}`,transition:`all ${t.motionDurationSlow} ${t.motionEaseInOut}`},[`${e}-tab-active`]:{color:a,background:t.colorBgContainer},[`${e}-ink-bar`]:{visibility:"hidden"}},[`&${e}-top, &${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginLeft:{_skip_check_:!0,value:`${i}px`}}}},[`&${e}-top`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:`${t.borderRadiusLG}px ${t.borderRadiusLG}px 0 0`},[`${e}-tab-active`]:{borderBottomColor:t.colorBgContainer}}},[`&${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:`0 0 ${t.borderRadiusLG}px ${t.borderRadiusLG}px`},[`${e}-tab-active`]:{borderTopColor:t.colorBgContainer}}},[`&${e}-left, &${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginTop:`${i}px`}}},[`&${e}-left`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`${t.borderRadiusLG}px 0 0 ${t.borderRadiusLG}px`}},[`${e}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:t.colorBgContainer}}}},[`&${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${t.borderRadiusLG}px ${t.borderRadiusLG}px 0`}},[`${e}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:t.colorBgContainer}}}}}}},cae=t=>{const{componentCls:e,itemHoverColor:n,dropdownEdgeChildVerticalPadding:r}=t;return{[`${e}-dropdown`]:Object.assign(Object.assign({},Ir(t)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:t.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${e}-dropdown-menu`]:{maxHeight:t.tabsDropdownHeight,margin:0,padding:`${r}px 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:t.colorBgContainer,backgroundClip:"padding-box",borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary,"&-item":Object.assign(Object.assign({},Hl),{display:"flex",alignItems:"center",minWidth:t.tabsDropdownWidth,margin:0,padding:`${t.paddingXXS}px ${t.paddingSM}px`,color:t.colorText,fontWeight:"normal",fontSize:t.fontSize,lineHeight:t.lineHeight,cursor:"pointer",transition:`all ${t.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:t.marginSM},color:t.colorTextDescription,fontSize:t.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:n}},"&:hover":{background:t.controlItemBgHover},"&-disabled":{"&, &:hover":{color:t.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},uae=t=>{const{componentCls:e,margin:n,colorBorderSecondary:r,horizontalMargin:i,verticalItemPadding:o,verticalItemMargin:a}=t;return{[`${e}-top, ${e}-bottom`]:{flexDirection:"column",[`> ${e}-nav, > div > ${e}-nav`]:{margin:i,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${t.lineWidth}px ${t.lineType} ${r}`,content:"''"},[`${e}-ink-bar`]:{height:t.lineWidthBold,"&-animated":{transition:`width ${t.motionDurationSlow}, left ${t.motionDurationSlow},
            right ${t.motionDurationSlow}`}},[`${e}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:t.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:t.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:t.boxShadowTabsOverflowRight},[`&${e}-nav-wrap-ping-left::before`]:{opacity:1},[`&${e}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${e}-top`]:{[`> ${e}-nav,
        > div > ${e}-nav`]:{"&::before":{bottom:0},[`${e}-ink-bar`]:{bottom:0}}},[`${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{order:1,marginTop:`${n}px`,marginBottom:0,"&::before":{top:0},[`${e}-ink-bar`]:{top:0}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{order:0}},[`${e}-left, ${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{flexDirection:"column",minWidth:t.controlHeight*1.25,[`${e}-tab`]:{padding:o,textAlign:"center"},[`${e}-tab + ${e}-tab`]:{margin:a},[`${e}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:t.controlHeight},"&::before":{top:0,boxShadow:t.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:t.boxShadowTabsOverflowBottom},[`&${e}-nav-wrap-ping-top::before`]:{opacity:1},[`&${e}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${e}-ink-bar`]:{width:t.lineWidthBold,"&-animated":{transition:`height ${t.motionDurationSlow}, top ${t.motionDurationSlow}`}},[`${e}-nav-list, ${e}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${e}-left`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{marginLeft:{_skip_check_:!0,value:`-${t.lineWidth}px`},borderLeft:{_skip_check_:!0,value:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`},[`> ${e}-content > ${e}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:t.paddingLG}}}},[`${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{order:1,[`${e}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:-t.lineWidth},borderRight:{_skip_check_:!0,value:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`},[`> ${e}-content > ${e}-tabpane`]:{paddingRight:{_skip_check_:!0,value:t.paddingLG}}}}}},dae=t=>{const{componentCls:e,cardPaddingSM:n,cardPaddingLG:r,horizontalItemPaddingSM:i,horizontalItemPaddingLG:o}=t;return{[e]:{"&-small":{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:i,fontSize:t.titleFontSizeSM}}},"&-large":{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:o,fontSize:t.titleFontSizeLG}}}},[`${e}-card`]:{[`&${e}-small`]:{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:n}},[`&${e}-bottom`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:`0 0 ${t.borderRadius}px ${t.borderRadius}px`}},[`&${e}-top`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:`${t.borderRadius}px ${t.borderRadius}px 0 0`}},[`&${e}-right`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${t.borderRadius}px ${t.borderRadius}px 0`}}},[`&${e}-left`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`${t.borderRadius}px 0 0 ${t.borderRadius}px`}}}},[`&${e}-large`]:{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:r}}}}}},fae=t=>{const{componentCls:e,itemActiveColor:n,itemHoverColor:r,iconCls:i,tabsHorizontalItemMargin:o,horizontalItemPadding:a,itemSelectedColor:s,itemColor:l}=t,c=`${e}-tab`;return{[c]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:a,fontSize:t.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:l,"&-btn, &-remove":Object.assign({"&:focus:not(:focus-visible), &:active":{color:n}},Jh(t)),"&-btn":{outline:"none",transition:"all 0.3s"},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:-t.marginXXS},marginLeft:{_skip_check_:!0,value:t.marginXS},color:t.colorTextDescription,fontSize:t.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${t.motionDurationSlow}`,"&:hover":{color:t.colorTextHeading}},"&:hover":{color:r},[`&${c}-active ${c}-btn`]:{color:s,textShadow:t.tabsActiveTextShadow},[`&${c}-disabled`]:{color:t.colorTextDisabled,cursor:"not-allowed"},[`&${c}-disabled ${c}-btn, &${c}-disabled ${e}-remove`]:{"&:focus, &:active":{color:t.colorTextDisabled}},[`& ${c}-remove ${i}`]:{margin:0},[i]:{marginRight:{_skip_check_:!0,value:t.marginSM}}},[`${c} + ${c}`]:{margin:{_skip_check_:!0,value:o}}}},hae=t=>{const{componentCls:e,tabsHorizontalItemMarginRTL:n,iconCls:r,cardGutter:i}=t;return{[`${e}-rtl`]:{direction:"rtl",[`${e}-nav`]:{[`${e}-tab`]:{margin:{_skip_check_:!0,value:n},[`${e}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[r]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:`${t.marginSM}px`}},[`${e}-tab-remove`]:{marginRight:{_skip_check_:!0,value:`${t.marginXS}px`},marginLeft:{_skip_check_:!0,value:`-${t.marginXXS}px`},[r]:{margin:0}}}},[`&${e}-left`]:{[`> ${e}-nav`]:{order:1},[`> ${e}-content-holder`]:{order:0}},[`&${e}-right`]:{[`> ${e}-nav`]:{order:0},[`> ${e}-content-holder`]:{order:1}},[`&${e}-card${e}-top, &${e}-card${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginRight:{_skip_check_:!0,value:i},marginLeft:{_skip_check_:!0,value:0}}}}},[`${e}-dropdown-rtl`]:{direction:"rtl"},[`${e}-menu-item`]:{[`${e}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},pae=t=>{const{componentCls:e,tabsCardPadding:n,cardHeight:r,cardGutter:i,itemHoverColor:o,itemActiveColor:a,colorBorderSecondary:s}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},Ir(t)),{display:"flex",[`> ${e}-nav, > div > ${e}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${e}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${t.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${e}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${t.motionDurationSlow}`},[`${e}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${e}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${e}-nav-more`]:{position:"relative",padding:n,background:"transparent",border:0,color:t.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:t.controlHeightLG/8,transform:"translateY(100%)",content:"''"}},[`${e}-nav-add`]:Object.assign({minWidth:r,marginLeft:{_skip_check_:!0,value:i},padding:`0 ${t.paddingXS}px`,background:"transparent",border:`${t.lineWidth}px ${t.lineType} ${s}`,borderRadius:`${t.borderRadiusLG}px ${t.borderRadiusLG}px 0 0`,outline:"none",cursor:"pointer",color:t.colorText,transition:`all ${t.motionDurationSlow} ${t.motionEaseInOut}`,"&:hover":{color:o},"&:active, &:focus:not(:focus-visible)":{color:a}},Jh(t))},[`${e}-extra-content`]:{flex:"none"},[`${e}-ink-bar`]:{position:"absolute",background:t.inkBarColor,pointerEvents:"none"}}),fae(t)),{[`${e}-content`]:{position:"relative",width:"100%"},[`${e}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${e}-tabpane`]:{outline:"none","&-hidden":{display:"none"}}}),[`${e}-centered`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-nav-wrap`]:{[`&:not([class*='${e}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}},mae=lr("Tabs",t=>{const e=pn(t,{tabsCardPadding:t.cardPadding||`${(t.cardHeight-Math.round(t.fontSize*t.lineHeight))/2-t.lineWidth}px ${t.padding}px`,dropdownEdgeChildVerticalPadding:t.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${t.horizontalItemGutter}px`,tabsHorizontalItemMarginRTL:`0 0 0 ${t.horizontalItemGutter}px`});return[dae(e),hae(e),uae(e),cae(e),lae(e),pae(e),sae(e)]},t=>{const e=t.controlHeightLG;return{zIndexPopup:t.zIndexPopupBase+50,cardBg:t.colorFillAlter,cardHeight:e,cardPadding:"",cardPaddingSM:`${t.paddingXXS*1.5}px ${t.padding}px`,cardPaddingLG:`${t.paddingXS}px ${t.padding}px ${t.paddingXXS*1.5}px`,titleFontSize:t.fontSize,titleFontSizeLG:t.fontSizeLG,titleFontSizeSM:t.fontSize,inkBarColor:t.colorPrimary,horizontalMargin:`0 0 ${t.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${t.paddingSM}px 0`,horizontalItemPaddingSM:`${t.paddingXS}px 0`,horizontalItemPaddingLG:`${t.padding}px 0`,verticalItemPadding:`${t.paddingXS}px ${t.paddingLG}px`,verticalItemMargin:`${t.margin}px 0 0 0`,itemColor:t.colorText,itemSelectedColor:t.colorPrimary,itemHoverColor:t.colorPrimaryHover,itemActiveColor:t.colorPrimaryActive,cardGutter:t.marginXXS/2}}),gae=()=>null,vae=gae;var yae=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const XU=t=>{const{type:e,className:n,rootClassName:r,size:i,onEdit:o,hideAdd:a,centered:s,addIcon:l,popupClassName:c,children:u,items:d,animated:f,style:p,indicatorSize:y}=t,b=yae(t,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","popupClassName","children","items","animated","style","indicatorSize"]),{prefixCls:x,moreIcon:v=g.createElement(pC,null)}=b,{direction:w,tabs:S,getPrefixCls:C,getPopupContainer:_}=g.useContext(Wt),T=C("tabs",x),[M,I]=mae(T);let R;e==="editable-card"&&(R={onEdit:(G,B)=>{let{key:$,event:O}=B;o?.(G==="add"?O:$,G)},removeIcon:g.createElement(qg,null),addIcon:l||g.createElement(Ooe,null),showAdd:a!==!0});const P=C(),L=oae(d,u),k=nae(T,f),H=ra(i),D=Object.assign(Object.assign({},S?.style),p);return M(g.createElement(eae,Object.assign({direction:w,getPopupContainer:_,moreTransitionName:`${P}-slide-up`},b,{items:L,className:ye({[`${T}-${H}`]:H,[`${T}-card`]:["card","editable-card"].includes(e),[`${T}-editable-card`]:e==="editable-card",[`${T}-centered`]:s},S?.className,n,r,I),popupClassName:ye(c,I),style:D,editable:R,moreIcon:v,prefixCls:T,animated:k,indicatorSize:y??S?.indicatorSize})))};XU.TabPane=vae;const xae=XU;var Sae=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const bae=t=>{var{prefixCls:e,className:n,hoverable:r=!0}=t,i=Sae(t,["prefixCls","className","hoverable"]);const{getPrefixCls:o}=g.useContext(Wt),a=o("card",e),s=ye(`${a}-grid`,n,{[`${a}-grid-hoverable`]:r});return g.createElement("div",Object.assign({},i,{className:s}))},qU=bae,wae=t=>{const{antCls:e,componentCls:n,headerHeight:r,cardPaddingBase:i,tabsMarginBottom:o}=t;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:r,marginBottom:-1,padding:`0 ${i}px`,color:t.colorTextHeading,fontWeight:t.fontWeightStrong,fontSize:t.headerFontSize,background:t.headerBg,borderBottom:`${t.lineWidth}px ${t.lineType} ${t.colorBorderSecondary}`,borderRadius:`${t.borderRadiusLG}px ${t.borderRadiusLG}px 0 0`},Gl()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},Hl),{[`
          > ${n}-typography,
          > ${n}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${e}-tabs-top`]:{clear:"both",marginBottom:o,color:t.colorText,fontWeight:"normal",fontSize:t.fontSize,"&-bar":{borderBottom:`${t.lineWidth}px ${t.lineType} ${t.colorBorderSecondary}`}}})},Cae=t=>{const{cardPaddingBase:e,colorBorderSecondary:n,cardShadow:r,lineWidth:i}=t;return{width:"33.33%",padding:e,border:0,borderRadius:0,boxShadow:`
      ${i}px 0 0 0 ${n},
      0 ${i}px 0 0 ${n},
      ${i}px ${i}px 0 0 ${n},
      ${i}px 0 0 0 ${n} inset,
      0 ${i}px 0 0 ${n} inset;
    `,transition:`all ${t.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:r}}},Eae=t=>{const{componentCls:e,iconCls:n,actionsLiMargin:r,cardActionsIconSize:i,colorBorderSecondary:o,actionsBg:a}=t;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:a,borderTop:`${t.lineWidth}px ${t.lineType} ${o}`,display:"flex",borderRadius:`0 0 ${t.borderRadiusLG}px ${t.borderRadiusLG}px `},Gl()),{"& > li":{margin:r,color:t.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:t.cardActionsIconSize*2,fontSize:t.fontSize,lineHeight:t.lineHeight,cursor:"pointer","&:hover":{color:t.colorPrimary,transition:`color ${t.motionDurationMid}`},[`a:not(${e}-btn), > ${n}`]:{display:"inline-block",width:"100%",color:t.colorTextDescription,lineHeight:`${t.fontSize*t.lineHeight}px`,transition:`color ${t.motionDurationMid}`,"&:hover":{color:t.colorPrimary}},[`> ${n}`]:{fontSize:i,lineHeight:`${i*t.lineHeight}px`}},"&:not(:last-child)":{borderInlineEnd:`${t.lineWidth}px ${t.lineType} ${o}`}}})},_ae=t=>Object.assign(Object.assign({margin:`-${t.marginXXS}px 0`,display:"flex"},Gl()),{"&-avatar":{paddingInlineEnd:t.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:t.marginXS}},"&-title":Object.assign({color:t.colorTextHeading,fontWeight:t.fontWeightStrong,fontSize:t.fontSizeLG},Hl),"&-description":{color:t.colorTextDescription}}),Tae=t=>{const{componentCls:e,cardPaddingBase:n,colorFillAlter:r}=t;return{[`${e}-head`]:{padding:`0 ${n}px`,background:r,"&-title":{fontSize:t.fontSize}},[`${e}-body`]:{padding:`${t.padding}px ${n}px`}}},Mae=t=>{const{componentCls:e}=t;return{overflow:"hidden",[`${e}-body`]:{userSelect:"none"}}},Rae=t=>{const{antCls:e,componentCls:n,cardShadow:r,cardHeadPadding:i,colorBorderSecondary:o,boxShadowTertiary:a,cardPaddingBase:s,extraColor:l}=t;return{[n]:Object.assign(Object.assign({},Ir(t)),{position:"relative",background:t.colorBgContainer,borderRadius:t.borderRadiusLG,[`&:not(${n}-bordered)`]:{boxShadow:a},[`${n}-head`]:wae(t),[`${n}-extra`]:{marginInlineStart:"auto",color:l,fontWeight:"normal",fontSize:t.fontSize},[`${n}-body`]:Object.assign({padding:s,borderRadius:` 0 0 ${t.borderRadiusLG}px ${t.borderRadiusLG}px`},Gl()),[`${n}-grid`]:Cae(t),[`${n}-cover`]:{"> *":{display:"block",width:"100%"},[`img, img + ${e}-image-mask`]:{borderRadius:`${t.borderRadiusLG}px ${t.borderRadiusLG}px 0 0`}},[`${n}-actions`]:Eae(t),[`${n}-meta`]:_ae(t)}),[`${n}-bordered`]:{border:`${t.lineWidth}px ${t.lineType} ${o}`,[`${n}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${n}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${t.motionDurationMid}, border-color ${t.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:r}},[`${n}-contain-grid`]:{borderRadius:`${t.borderRadiusLG}px ${t.borderRadiusLG}px 0 0 `,[`${n}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${n}-loading) ${n}-body`]:{marginBlockStart:-t.lineWidth,marginInlineStart:-t.lineWidth,padding:0}},[`${n}-contain-tabs`]:{[`> ${n}-head`]:{[`${n}-head-title, ${n}-extra`]:{paddingTop:i}}},[`${n}-type-inner`]:Tae(t),[`${n}-loading`]:Mae(t),[`${n}-rtl`]:{direction:"rtl"}}},Aae=t=>{const{componentCls:e,cardPaddingSM:n,headerHeightSM:r,headerFontSizeSM:i}=t;return{[`${e}-small`]:{[`> ${e}-head`]:{minHeight:r,padding:`0 ${n}px`,fontSize:i,[`> ${e}-head-wrapper`]:{[`> ${e}-extra`]:{fontSize:t.fontSize}}},[`> ${e}-body`]:{padding:n}},[`${e}-small${e}-contain-tabs`]:{[`> ${e}-head`]:{[`${e}-head-title, ${e}-extra`]:{minHeight:r,paddingTop:0,display:"flex",alignItems:"center"}}}}},Pae=lr("Card",t=>{const e=pn(t,{cardShadow:t.boxShadowCard,cardHeadPadding:t.padding,cardPaddingBase:t.paddingLG,cardActionsIconSize:t.fontSize,cardPaddingSM:12});return[Rae(e),Aae(e)]},t=>({headerBg:"transparent",headerFontSize:t.fontSizeLG,headerFontSizeSM:t.fontSize,headerHeight:t.fontSizeLG*t.lineHeightLG+t.padding*2,headerHeightSM:t.fontSize*t.lineHeight+t.paddingXS*2,actionsBg:t.colorBgContainer,actionsLiMargin:`${t.paddingSM}px 0`,tabsMarginBottom:-t.padding-t.lineWidth,extraColor:t.colorText}));var WA=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Iae(t){return t.map((e,n)=>g.createElement("li",{style:{width:`${100/t.length}%`},key:`action-${n}`},g.createElement("span",null,e)))}const Nae=g.forwardRef((t,e)=>{const{prefixCls:n,className:r,rootClassName:i,style:o,extra:a,headStyle:s={},bodyStyle:l={},title:c,loading:u,bordered:d=!0,size:f,type:p,cover:y,actions:b,tabList:x,children:v,activeTabKey:w,defaultActiveTabKey:S,tabBarExtraContent:C,hoverable:_,tabProps:T={}}=t,M=WA(t,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),{getPrefixCls:I,direction:R,card:P}=g.useContext(Wt),L=Se=>{var Pe;(Pe=t.onTabChange)===null||Pe===void 0||Pe.call(t,Se)},k=g.useMemo(()=>{let Se=!1;return g.Children.forEach(v,Pe=>{Pe&&Pe.type&&Pe.type===qU&&(Se=!0)}),Se},[v]),H=I("card",n),[D,G]=Pae(H),B=g.createElement(Aoe,{loading:!0,active:!0,paragraph:{rows:4},title:!1},v),$=w!==void 0,O=Object.assign(Object.assign({},T),{[$?"activeKey":"defaultActiveKey"]:$?w:S,tabBarExtraContent:C});let z;const V=ra(f),F=!V||V==="default"?"large":V,W=x?g.createElement(xae,Object.assign({size:F},O,{className:`${H}-head-tabs`,onChange:L,items:x.map(Se=>{var{tab:Pe}=Se,xe=WA(Se,["tab"]);return Object.assign({label:Pe},xe)})})):null;(c||a||W)&&(z=g.createElement("div",{className:`${H}-head`,style:s},g.createElement("div",{className:`${H}-head-wrapper`},c&&g.createElement("div",{className:`${H}-head-title`},c),a&&g.createElement("div",{className:`${H}-extra`},a)),W));const q=y?g.createElement("div",{className:`${H}-cover`},y):null,Z=g.createElement("div",{className:`${H}-body`,style:l},u?B:v),ee=b&&b.length?g.createElement("ul",{className:`${H}-actions`},Iae(b)):null,oe=Yr(M,["onTabChange"]),re=ye(H,P?.className,{[`${H}-loading`]:u,[`${H}-bordered`]:d,[`${H}-hoverable`]:_,[`${H}-contain-grid`]:k,[`${H}-contain-tabs`]:x&&x.length,[`${H}-${V}`]:V,[`${H}-type-${p}`]:!!p,[`${H}-rtl`]:R==="rtl"},r,i,G),ce=Object.assign(Object.assign({},P?.style),o);return D(g.createElement("div",Object.assign({ref:e},oe,{className:re,style:ce}),z,q,Z,ee))}),Oae=Nae;var Lae=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Dae=t=>{const{prefixCls:e,className:n,avatar:r,title:i,description:o}=t,a=Lae(t,["prefixCls","className","avatar","title","description"]),{getPrefixCls:s}=g.useContext(Wt),l=s("card",e),c=ye(`${l}-meta`,n),u=r?g.createElement("div",{className:`${l}-meta-avatar`},r):null,d=i?g.createElement("div",{className:`${l}-meta-title`},i):null,f=o?g.createElement("div",{className:`${l}-meta-description`},o):null,p=d||f?g.createElement("div",{className:`${l}-meta-detail`},d,f):null;return g.createElement("div",Object.assign({},a,{className:c}),u,p)},Fae=Dae,bC=Oae;bC.Grid=qU;bC.Meta=Fae;const $ae=bC;function Uae(t,e,n){var r=n||{},i=r.noTrailing,o=i===void 0?!1:i,a=r.noLeading,s=a===void 0?!1:a,l=r.debounceMode,c=l===void 0?void 0:l,u,d=!1,f=0;function p(){u&&clearTimeout(u)}function y(x){var v=x||{},w=v.upcomingOnly,S=w===void 0?!1:w;p(),d=!S}function b(){for(var x=arguments.length,v=new Array(x),w=0;w<x;w++)v[w]=arguments[w];var S=this,C=Date.now()-f;if(d)return;function _(){f=Date.now(),e.apply(S,v)}function T(){u=void 0}!s&&c&&!u&&_(),p(),c===void 0&&C>t?s?(f=Date.now(),o||(u=setTimeout(c?T:_,t))):_():o!==!0&&(u=setTimeout(c?T:_,c===void 0?t-C:t))}return b.cancel=y,b}function kae(t,e,n){var r=n||{},i=r.atBegin,o=i===void 0?!1:i;return Uae(t,e,{debounceMode:o!==!1})}const Bae=g.createContext({}),KU=Bae,zae=t=>{const{componentCls:e}=t;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},Hae=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},Gae=(t,e)=>{const{componentCls:n,gridColumns:r}=t,i={};for(let o=r;o>=0;o--)o===0?(i[`${n}${e}-${o}`]={display:"none"},i[`${n}-push-${o}`]={insetInlineStart:"auto"},i[`${n}-pull-${o}`]={insetInlineEnd:"auto"},i[`${n}${e}-push-${o}`]={insetInlineStart:"auto"},i[`${n}${e}-pull-${o}`]={insetInlineEnd:"auto"},i[`${n}${e}-offset-${o}`]={marginInlineStart:0},i[`${n}${e}-order-${o}`]={order:0}):(i[`${n}${e}-${o}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${o/r*100}%`,maxWidth:`${o/r*100}%`}],i[`${n}${e}-push-${o}`]={insetInlineStart:`${o/r*100}%`},i[`${n}${e}-pull-${o}`]={insetInlineEnd:`${o/r*100}%`},i[`${n}${e}-offset-${o}`]={marginInlineStart:`${o/r*100}%`},i[`${n}${e}-order-${o}`]={order:o});return i},U7=(t,e)=>Gae(t,e),Vae=(t,e,n)=>({[`@media (min-width: ${e}px)`]:Object.assign({},U7(t,n))}),Wae=lr("Grid",t=>[zae(t)]),jae=lr("Grid",t=>{const e=pn(t,{gridColumns:24}),n={"-sm":e.screenSMMin,"-md":e.screenMDMin,"-lg":e.screenLGMin,"-xl":e.screenXLMin,"-xxl":e.screenXXLMin};return[Hae(e),U7(e,""),U7(e,"-xs"),Object.keys(n).map(r=>Vae(e,n[r],r)).reduce((r,i)=>Object.assign(Object.assign({},r),i),{})]});var Xae=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function qae(t){return typeof t=="number"?`${t} ${t} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?`0 0 ${t}`:t}const Kae=["xs","sm","md","lg","xl","xxl"],Yae=g.forwardRef((t,e)=>{const{getPrefixCls:n,direction:r}=g.useContext(Wt),{gutter:i,wrap:o}=g.useContext(KU),{prefixCls:a,span:s,order:l,offset:c,push:u,pull:d,className:f,children:p,flex:y,style:b}=t,x=Xae(t,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),v=n("col",a),[w,S]=jae(v);let C={};Kae.forEach(M=>{let I={};const R=t[M];typeof R=="number"?I.span=R:typeof R=="object"&&(I=R||{}),delete x[M],C=Object.assign(Object.assign({},C),{[`${v}-${M}-${I.span}`]:I.span!==void 0,[`${v}-${M}-order-${I.order}`]:I.order||I.order===0,[`${v}-${M}-offset-${I.offset}`]:I.offset||I.offset===0,[`${v}-${M}-push-${I.push}`]:I.push||I.push===0,[`${v}-${M}-pull-${I.pull}`]:I.pull||I.pull===0,[`${v}-${M}-flex-${I.flex}`]:I.flex||I.flex==="auto",[`${v}-rtl`]:r==="rtl"})});const _=ye(v,{[`${v}-${s}`]:s!==void 0,[`${v}-order-${l}`]:l,[`${v}-offset-${c}`]:c,[`${v}-push-${u}`]:u,[`${v}-pull-${d}`]:d},f,C,S),T={};if(i&&i[0]>0){const M=i[0]/2;T.paddingLeft=M,T.paddingRight=M}return y&&(T.flex=qae(y),o===!1&&!T.minWidth&&(T.minWidth=0)),w(g.createElement("div",Object.assign({},x,{style:Object.assign(Object.assign({},T),b),className:_,ref:e}),p))}),Qa=Yae;var Zae=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function jA(t,e){const[n,r]=g.useState(typeof t=="string"?t:""),i=()=>{if(typeof t=="string"&&r(t),typeof t=="object")for(let o=0;o<Td.length;o++){const a=Td[o];if(!e[a])continue;const s=t[a];if(s!==void 0){r(s);return}}};return g.useEffect(()=>{i()},[JSON.stringify(t),e]),n}const Qae=g.forwardRef((t,e)=>{const{prefixCls:n,justify:r,align:i,className:o,style:a,children:s,gutter:l=0,wrap:c}=t,u=Zae(t,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:d,direction:f}=g.useContext(Wt),[p,y]=g.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[b,x]=g.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),v=jA(i,b),w=jA(r,b),S=g.useRef(l),C=dU();g.useEffect(()=>{const B=C.subscribe($=>{x($);const O=S.current||0;(!Array.isArray(O)&&typeof O=="object"||Array.isArray(O)&&(typeof O[0]=="object"||typeof O[1]=="object"))&&y($)});return()=>C.unsubscribe(B)},[]);const _=()=>{const B=[void 0,void 0];return(Array.isArray(l)?l:[l,void 0]).forEach((O,z)=>{if(typeof O=="object")for(let V=0;V<Td.length;V++){const F=Td[V];if(p[F]&&O[F]!==void 0){B[z]=O[F];break}}else B[z]=O}),B},T=d("row",n),[M,I]=Wae(T),R=_(),P=ye(T,{[`${T}-no-wrap`]:c===!1,[`${T}-${w}`]:w,[`${T}-${v}`]:v,[`${T}-rtl`]:f==="rtl"},o,I),L={},k=R[0]!=null&&R[0]>0?R[0]/-2:void 0;k&&(L.marginLeft=k,L.marginRight=k),[,L.rowGap]=R;const[H,D]=R,G=g.useMemo(()=>({gutter:[H,D],wrap:c}),[H,D,c]);return M(g.createElement(KU.Provider,{value:G},g.createElement("div",Object.assign({},u,{className:P,style:Object.assign(Object.assign({},L),a),ref:e}),s)))}),Tl=Qae;var YU=se.forwardRef(function(t,e){var n,r=t.prefixCls,i=t.forceRender,o=t.className,a=t.style,s=t.children,l=t.isActive,c=t.role,u=se.useState(l||i),d=Ne(u,2),f=d[0],p=d[1];return se.useEffect(function(){(i||l)&&p(!0)},[i,l]),f?se.createElement("div",{ref:e,className:ye("".concat(r,"-content"),(n={},ie(n,"".concat(r,"-content-active"),l),ie(n,"".concat(r,"-content-inactive"),!l),n),o),style:a,role:c},se.createElement("div",{className:"".concat(r,"-content-box")},s)):null});YU.displayName="PanelContent";var Jae=["showArrow","headerClass","isActive","onItemClick","forceRender","className","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],ZU=se.forwardRef(function(t,e){var n,r,i=t.showArrow,o=i===void 0?!0:i,a=t.headerClass,s=t.isActive,l=t.onItemClick,c=t.forceRender,u=t.className,d=t.prefixCls,f=t.collapsible,p=t.accordion,y=t.panelKey,b=t.extra,x=t.header,v=t.expandIcon,w=t.openMotion,S=t.destroyInactivePanel,C=t.children,_=Yt(t,Jae),T=f==="disabled",M=f==="header",I=f==="icon",R=b!=null&&typeof b!="boolean",P=function(){l?.(y)},L=function($){($.key==="Enter"||$.keyCode===nt.ENTER||$.which===nt.ENTER)&&P()},k=typeof v=="function"?v(t):se.createElement("i",{className:"arrow"});k&&(k=se.createElement("div",{className:"".concat(d,"-expand-icon"),onClick:["header","icon"].includes(f)?P:void 0},k));var H=ye((n={},ie(n,"".concat(d,"-item"),!0),ie(n,"".concat(d,"-item-active"),s),ie(n,"".concat(d,"-item-disabled"),T),n),u),D=ye(a,(r={},ie(r,"".concat(d,"-header"),!0),ie(r,"".concat(d,"-header-collapsible-only"),M),ie(r,"".concat(d,"-icon-collapsible-only"),I),r)),G={className:D,"aria-expanded":s,"aria-disabled":T,onKeyDown:L};return!M&&!I&&(G.onClick=P,G.role=p?"tab":"button",G.tabIndex=T?-1:0),se.createElement("div",it({},_,{ref:e,className:H}),se.createElement("div",G,o&&k,se.createElement("span",{className:"".concat(d,"-header-text"),onClick:f==="header"?P:void 0},x),R&&se.createElement("div",{className:"".concat(d,"-extra")},b)),se.createElement(el,it({visible:s,leavedClassName:"".concat(d,"-content-hidden")},w,{forceRender:c,removeOnLeave:S}),function(B,$){var O=B.className,z=B.style;return se.createElement(YU,{ref:$,prefixCls:d,className:O,style:z,isActive:s,forceRender:c,role:p?"tabpanel":void 0},C)}))}),ese=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],tse=function(e,n){var r=n.prefixCls,i=n.accordion,o=n.collapsible,a=n.destroyInactivePanel,s=n.onItemClick,l=n.activeKey,c=n.openMotion,u=n.expandIcon;return e.map(function(d,f){var p=d.children,y=d.label,b=d.key,x=d.collapsible,v=d.onItemClick,w=d.destroyInactivePanel,S=Yt(d,ese),C=String(b??f),_=x??o,T=w??a,M=function(P){_!=="disabled"&&(s(P),v?.(P))},I=!1;return i?I=l[0]===C:I=l.indexOf(C)>-1,se.createElement(ZU,it({},S,{prefixCls:r,key:C,panelKey:C,isActive:I,accordion:i,openMotion:c,expandIcon:u,header:y,collapsible:_,onItemClick:M,destroyInactivePanel:T}),p)})},nse=function(e,n,r){if(!e)return null;var i=r.prefixCls,o=r.accordion,a=r.collapsible,s=r.destroyInactivePanel,l=r.onItemClick,c=r.activeKey,u=r.openMotion,d=r.expandIcon,f=e.key||String(n),p=e.props,y=p.header,b=p.headerClass,x=p.destroyInactivePanel,v=p.collapsible,w=p.onItemClick,S=!1;o?S=c[0]===f:S=c.indexOf(f)>-1;var C=v??a,_=function(I){C!=="disabled"&&(l(I),w?.(I))},T={key:f,panelKey:f,header:y,headerClass:b,isActive:S,prefixCls:i,destroyInactivePanel:x??s,openMotion:u,accordion:o,children:e.props.children,onItemClick:_,expandIcon:d,collapsible:C};return typeof e.type=="string"?e:(Object.keys(T).forEach(function(M){typeof T[M]>"u"&&delete T[M]}),se.cloneElement(e,T))};function rse(t,e,n){return Array.isArray(t)?tse(t,n):No(e).map(function(r,i){return nse(r,i,n)})}function ise(t){var e=t;if(!Array.isArray(e)){var n=Xt(e);e=n==="number"||n==="string"?[e]:[]}return e.map(function(r){return String(r)})}var ose=se.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-collapse":n,i=t.destroyInactivePanel,o=i===void 0?!1:i,a=t.style,s=t.accordion,l=t.className,c=t.children,u=t.collapsible,d=t.openMotion,f=t.expandIcon,p=t.activeKey,y=t.defaultActiveKey,b=t.onChange,x=t.items,v=ye(r,l),w=kr([],{value:p,onChange:function(R){return b?.(R)},defaultValue:y,postState:ise}),S=Ne(w,2),C=S[0],_=S[1],T=function(R){return _(function(){if(s)return C[0]===R?[]:[R];var P=C.indexOf(R),L=P>-1;return L?C.filter(function(k){return k!==R}):[].concat(mt(C),[R])})};hi(!c,"`children` will be removed in next major version. Please use `items` instead.");var M=rse(x,c,{prefixCls:r,accordion:s,openMotion:d,expandIcon:f,collapsible:u,destroyInactivePanel:o,onItemClick:T,activeKey:C});return se.createElement("div",{ref:e,className:v,style:a,role:s?"tablist":void 0},M)});const wC=Object.assign(ose,{Panel:ZU});wC.Panel;const ase=g.forwardRef((t,e)=>{const{getPrefixCls:n}=g.useContext(Wt),{prefixCls:r,className:i,showArrow:o=!0}=t,a=n("collapse",r),s=ye({[`${a}-no-arrow`]:!o},i);return g.createElement(wC.Panel,Object.assign({ref:e},t,{prefixCls:a,className:s}))}),sse=ase,lse=t=>{const{componentCls:e,contentBg:n,padding:r,headerBg:i,headerPadding:o,collapseHeaderPaddingSM:a,collapseHeaderPaddingLG:s,collapsePanelBorderRadius:l,lineWidth:c,lineType:u,colorBorder:d,colorText:f,colorTextHeading:p,colorTextDisabled:y,fontSize:b,fontSizeLG:x,lineHeight:v,marginSM:w,paddingSM:S,paddingLG:C,paddingXS:_,motionDurationSlow:T,fontSizeIcon:M,contentPadding:I}=t,R=`${c}px ${u} ${d}`;return{[e]:Object.assign(Object.assign({},Ir(t)),{backgroundColor:i,border:R,borderBottom:0,borderRadius:`${l}px`,"&-rtl":{direction:"rtl"},[`& > ${e}-item`]:{borderBottom:R,"&:last-child":{[`
            &,
            & > ${e}-header`]:{borderRadius:`0 0 ${l}px ${l}px`}},[`> ${e}-header`]:{position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:o,color:p,lineHeight:v,cursor:"pointer",transition:`all ${T}, visibility 0s`,[`> ${e}-header-text`]:{flex:"auto"},"&:focus":{outline:"none"},[`${e}-expand-icon`]:{height:b*v,display:"flex",alignItems:"center",paddingInlineEnd:w},[`${e}-arrow`]:Object.assign(Object.assign({},zp()),{fontSize:M,svg:{transition:`transform ${T}`}}),[`${e}-header-text`]:{marginInlineEnd:"auto"}},[`${e}-header-collapsible-only`]:{cursor:"default",[`${e}-header-text`]:{flex:"none",cursor:"pointer"}},[`${e}-icon-collapsible-only`]:{cursor:"default",[`${e}-expand-icon`]:{cursor:"pointer"}}},[`${e}-content`]:{color:f,backgroundColor:n,borderTop:R,[`& > ${e}-content-box`]:{padding:I},"&-hidden":{display:"none"}},"&-small":{[`> ${e}-item`]:{[`> ${e}-header`]:{padding:a,paddingInlineStart:_,[`> ${e}-expand-icon`]:{marginInlineStart:S-_}},[`> ${e}-content > ${e}-content-box`]:{padding:S}}},"&-large":{[`> ${e}-item`]:{fontSize:x,[`> ${e}-header`]:{padding:s,paddingInlineStart:r,[`> ${e}-expand-icon`]:{height:x*v,marginInlineStart:C-r}},[`> ${e}-content > ${e}-content-box`]:{padding:C}}},[`${e}-item:last-child`]:{[`> ${e}-content`]:{borderRadius:`0 0 ${l}px ${l}px`}},[`& ${e}-item-disabled > ${e}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:y,cursor:"not-allowed"}},[`&${e}-icon-position-end`]:{[`& > ${e}-item`]:{[`> ${e}-header`]:{[`${e}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:w}}}}})}},cse=t=>{const{componentCls:e}=t,n=`> ${e}-item > ${e}-header ${e}-arrow svg`;return{[`${e}-rtl`]:{[n]:{transform:"rotate(180deg)"}}}},use=t=>{const{componentCls:e,headerBg:n,paddingXXS:r,colorBorder:i}=t;return{[`${e}-borderless`]:{backgroundColor:n,border:0,[`> ${e}-item`]:{borderBottom:`1px solid ${i}`},[`
        > ${e}-item:last-child,
        > ${e}-item:last-child ${e}-header
      `]:{borderRadius:0},[`> ${e}-item:last-child`]:{borderBottom:0},[`> ${e}-item > ${e}-content`]:{backgroundColor:"transparent",borderTop:0},[`> ${e}-item > ${e}-content > ${e}-content-box`]:{paddingTop:r}}}},dse=t=>{const{componentCls:e,paddingSM:n}=t;return{[`${e}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${e}-item`]:{borderBottom:0,[`> ${e}-content`]:{backgroundColor:"transparent",border:0,[`> ${e}-content-box`]:{paddingBlock:n}}}}}},fse=lr("Collapse",t=>{const e=pn(t,{collapseHeaderPaddingSM:`${t.paddingXS}px ${t.paddingSM}px`,collapseHeaderPaddingLG:`${t.padding}px ${t.paddingLG}px`,collapsePanelBorderRadius:t.borderRadiusLG});return[lse(e),use(e),dse(e),cse(e),Zw(e)]},t=>({headerPadding:`${t.paddingSM}px ${t.padding}px`,headerBg:t.colorFillAlter,contentPadding:`${t.padding}px 16px`,contentBg:t.colorBgContainer})),hse=g.forwardRef((t,e)=>{const{getPrefixCls:n,direction:r,collapse:i}=g.useContext(Wt),{prefixCls:o,className:a,rootClassName:s,style:l,bordered:c=!0,ghost:u,size:d,expandIconPosition:f="start",children:p,expandIcon:y}=t,b=ra(R=>{var P;return(P=d??R)!==null&&P!==void 0?P:"middle"}),x=n("collapse",o),v=n(),[w,S]=fse(x),C=g.useMemo(()=>f==="left"?"start":f==="right"?"end":f,[f]),_=function(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const P=y?y(R):g.createElement(vy,{rotate:R.isActive?90:void 0});return _i(P,()=>({className:ye(P.props.className,`${x}-arrow`)}))},T=ye(`${x}-icon-position-${C}`,{[`${x}-borderless`]:!c,[`${x}-rtl`]:r==="rtl",[`${x}-ghost`]:!!u,[`${x}-${b}`]:b!=="middle"},i?.className,a,s,S),M=Object.assign(Object.assign({},zw(v)),{motionAppear:!1,leavedClassName:`${x}-content-hidden`}),I=g.useMemo(()=>p?No(p).map((R,P)=>{var L,k;if(!((L=R.props)===null||L===void 0)&&L.disabled){const H=(k=R.key)!==null&&k!==void 0?k:String(P),{disabled:D,collapsible:G}=R.props,B=Object.assign(Object.assign({},Yr(R.props,["disabled"])),{key:H,collapsible:G??(D?"disabled":void 0)});return _i(R,B)}return R}):null,[p]);return w(g.createElement(wC,Object.assign({ref:e,openMotion:M},Yr(t,["rootClassName"]),{expandIcon:_,prefixCls:x,className:T,style:Object.assign(Object.assign({},i?.style),l)}),I))}),pse=Object.assign(hse,{Panel:sse}),mse=t=>{const{componentCls:e,sizePaddingEdgeHorizontal:n,colorSplit:r,lineWidth:i,textPaddingInline:o,orientationMargin:a,verticalMarginInline:s}=t;return{[e]:Object.assign(Object.assign({},Ir(t)),{borderBlockStart:`${i}px solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:s,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${i}px solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${t.dividerHorizontalGutterMargin}px 0`},[`&-horizontal${e}-with-text`]:{display:"flex",alignItems:"center",margin:`${t.dividerHorizontalWithTextGutterMargin}px 0`,color:t.colorTextHeading,fontWeight:500,fontSize:t.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${i}px solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${e}-with-text-left`]:{"&::before":{width:`${a*100}%`},"&::after":{width:`${100-a*100}%`}},[`&-horizontal${e}-with-text-right`]:{"&::before":{width:`${100-a*100}%`},"&::after":{width:`${a*100}%`}},[`${e}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:o},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${i}px 0 0`},[`&-horizontal${e}-with-text${e}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${e}-dashed`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${e}-with-text`]:{color:t.colorText,fontWeight:"normal",fontSize:t.fontSize},[`&-horizontal${e}-with-text-left${e}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${e}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${e}-with-text-right${e}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${e}-inner-text`]:{paddingInlineEnd:n}}})}},gse=lr("Divider",t=>{const e=pn(t,{dividerHorizontalWithTextGutterMargin:t.margin,dividerHorizontalGutterMargin:t.marginLG,sizePaddingEdgeHorizontal:0});return[mse(e)]},t=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:t.marginXS}));var vse=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const yse=t=>{const{getPrefixCls:e,direction:n,divider:r}=g.useContext(Wt),{prefixCls:i,type:o="horizontal",orientation:a="center",orientationMargin:s,className:l,rootClassName:c,children:u,dashed:d,plain:f,style:p}=t,y=vse(t,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),b=e("divider",i),[x,v]=gse(b),w=a.length>0?`-${a}`:a,S=!!u,C=a==="left"&&s!=null,_=a==="right"&&s!=null,T=ye(b,r?.className,v,`${b}-${o}`,{[`${b}-with-text`]:S,[`${b}-with-text${w}`]:S,[`${b}-dashed`]:!!d,[`${b}-plain`]:!!f,[`${b}-rtl`]:n==="rtl",[`${b}-no-default-orientation-margin-left`]:C,[`${b}-no-default-orientation-margin-right`]:_},l,c),M=g.useMemo(()=>typeof s=="number"?s:/^\d+$/.test(s)?Number(s):s,[s]),I=Object.assign(Object.assign({},C&&{marginLeft:M}),_&&{marginRight:M});return x(g.createElement("div",Object.assign({className:T,style:Object.assign(Object.assign({},r?.style),p)},y,{role:"separator"}),u&&o!=="vertical"&&g.createElement("span",{className:`${b}-inner-text`,style:I},u)))},CC=yse;var xse=["b"],Sse=["v"],v8=function(e){return Math.round(Number(e||0))},bse=function(e){if(e&&Xt(e)==="object"&&"h"in e&&"b"in e){var n=e,r=n.b,i=Yt(n,xse);return be(be({},i),{},{v:r})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},wy=function(t){Qs(n,t);var e=Js(n);function n(r){return ii(this,n),e.call(this,bse(r))}return oi(n,[{key:"toHsbString",value:function(){var i=this.toHsb(),o=v8(i.s*100),a=v8(i.b*100),s=v8(i.h),l=i.a,c="hsb(".concat(s,", ").concat(o,"%, ").concat(a,"%)"),u="hsba(".concat(s,", ").concat(o,"%, ").concat(a,"%, ").concat(l.toFixed(l===0?0:2),")");return l===1?c:u}},{key:"toHsb",value:function(){var i=this.toHsv();Xt(this.originalInput)==="object"&&this.originalInput&&"h"in this.originalInput&&(i=this.originalInput);var o=i;o.v;var a=Yt(o,Sse);return be(be({},a),{},{b:i.v})}}]),n}(qr),wse="rc-color-picker",Hc=function(e){return e instanceof wy?e:new wy(e)},Cse=Hc("#1677ff"),QU=function(e){var n=e.offset,r=e.targetRef,i=e.containerRef,o=e.color,a=e.type,s=i.current.getBoundingClientRect(),l=s.width,c=s.height,u=r.current.getBoundingClientRect(),d=u.width,f=u.height,p=d/2,y=f/2,b=(n.x+p)/l,x=1-(n.y+y)/c,v=o.toHsb(),w=b,S=(n.x+p)/l*360;if(a)switch(a){case"hue":return Hc(be(be({},v),{},{h:S<=0?0:S}));case"alpha":return Hc(be(be({},v),{},{a:w<=0?0:w}))}return Hc({h:v.h,s:b<=0?0:b,b:x>=1?1:x,a:v.a})},JU=function(e,n,r,i){var o=e.current.getBoundingClientRect(),a=o.width,s=o.height,l=n.current.getBoundingClientRect(),c=l.width,u=l.height,d=c/2,f=u/2,p=r.toHsb();if(!(c===0&&u===0||c!==u)){if(i)switch(i){case"hue":return{x:p.h/360*a-d,y:-f/3};case"alpha":return{x:p.a/1*a-d,y:-f/3}}return{x:p.s*a-d,y:(1-p.b)*s-f}}},EC=function(e){var n=e.color,r=e.prefixCls,i=e.className,o=e.style,a=e.onClick,s="".concat(r,"-color-block");return se.createElement("div",{className:ye(s,i),style:o,onClick:a},se.createElement("div",{className:"".concat(s,"-inner"),style:{background:n}}))};function Ese(t){var e="touches"in t?t.touches[0]:t,n=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,r=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:e.pageX-n,pageY:e.pageY-r}}function ek(t){var e=t.offset,n=t.targetRef,r=t.containerRef,i=t.direction,o=t.onDragChange,a=t.onDragChangeComplete,s=t.calculate,l=t.color,c=t.disabledDrag,u=g.useState(e||{x:0,y:0}),d=Ne(u,2),f=d[0],p=d[1],y=g.useRef(null),b=g.useRef(null),x=g.useRef({flag:!1});g.useEffect(function(){if(x.current.flag===!1){var _=s?.(r);_&&p(_)}},[l,r]),g.useEffect(function(){return function(){document.removeEventListener("mousemove",y.current),document.removeEventListener("mouseup",b.current),document.removeEventListener("touchmove",y.current),document.removeEventListener("touchend",b.current),y.current=null,b.current=null}},[]);var v=function(T){var M=Ese(T),I=M.pageX,R=M.pageY,P=r.current.getBoundingClientRect(),L=P.x,k=P.y,H=P.width,D=P.height,G=n.current.getBoundingClientRect(),B=G.width,$=G.height,O=B/2,z=$/2,V=Math.max(0,Math.min(I-L,H))-O,F=Math.max(0,Math.min(R-k,D))-z,W={x:V,y:i==="x"?f.y:F};if(B===0&&$===0||B!==$)return!1;p(W),o?.(W)},w=function(T){T.preventDefault(),v(T)},S=function(T){T.preventDefault(),x.current.flag=!1,document.removeEventListener("mousemove",y.current),document.removeEventListener("mouseup",b.current),document.removeEventListener("touchmove",y.current),document.removeEventListener("touchend",b.current),y.current=null,b.current=null,a?.()},C=function(T){document.removeEventListener("mousemove",y.current),document.removeEventListener("mouseup",b.current),!c&&(v(T),x.current.flag=!0,document.addEventListener("mousemove",w),document.addEventListener("mouseup",S),document.addEventListener("touchmove",w),document.addEventListener("touchend",S),y.current=w,b.current=S)};return[f,C]}var tk=function(e){var n=e.size,r=n===void 0?"default":n,i=e.color,o=e.prefixCls;return se.createElement("div",{className:ye("".concat(o,"-handler"),ie({},"".concat(o,"-handler-sm"),r==="small")),style:{backgroundColor:i}})},nk=function(e){var n=e.children,r=e.style,i=e.prefixCls;return se.createElement("div",{className:"".concat(i,"-palette"),style:be({position:"relative"},r)},n)},rk=g.forwardRef(function(t,e){var n=t.children,r=t.offset;return se.createElement("div",{ref:e,style:{position:"absolute",left:r.x,top:r.y,zIndex:1}},n)}),_se=function(e){var n=e.color,r=e.onChange,i=e.prefixCls,o=e.onChangeComplete,a=e.disabled,s=g.useRef(),l=g.useRef(),c=g.useRef(n),u=ek({color:n,containerRef:s,targetRef:l,calculate:function(b){return JU(b,l,n)},onDragChange:function(b){var x=QU({offset:b,targetRef:l,containerRef:s,color:n});c.current=x,r(x)},onDragChangeComplete:function(){return o?.(c.current)},disabledDrag:a}),d=Ne(u,2),f=d[0],p=d[1];return se.createElement("div",{ref:s,className:"".concat(i,"-select"),onMouseDown:p,onTouchStart:p},se.createElement(nk,{prefixCls:i},se.createElement(rk,{offset:f,ref:l},se.createElement(tk,{color:n.toRgbString(),prefixCls:i})),se.createElement("div",{className:"".concat(i,"-saturation"),style:{backgroundColor:"hsl(".concat(n.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},Tse=function(e){var n=e.colors,r=e.children,i=e.direction,o=i===void 0?"to right":i,a=e.type,s=e.prefixCls,l=g.useMemo(function(){return n.map(function(c,u){var d=Hc(c);return a==="alpha"&&u===n.length-1&&d.setAlpha(1),d.toRgbString()}).join(",")},[n,a]);return se.createElement("div",{className:"".concat(s,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(o,", ").concat(l,")")}},r)},XA=function(e){var n=e.gradientColors,r=e.direction,i=e.type,o=i===void 0?"hue":i,a=e.color,s=e.value,l=e.onChange,c=e.onChangeComplete,u=e.disabled,d=e.prefixCls,f=g.useRef(),p=g.useRef(),y=g.useRef(a),b=ek({color:a,targetRef:p,containerRef:f,calculate:function(C){return JU(C,p,a,o)},onDragChange:function(C){var _=QU({offset:C,targetRef:p,containerRef:f,color:a,type:o});y.current=_,l(_)},onDragChangeComplete:function(){c?.(y.current,o)},direction:"x",disabledDrag:u}),x=Ne(b,2),v=x[0],w=x[1];return se.createElement("div",{ref:f,className:ye("".concat(d,"-slider"),"".concat(d,"-slider-").concat(o)),onMouseDown:w,onTouchStart:w},se.createElement(nk,{prefixCls:d},se.createElement(rk,{offset:v,ref:p},se.createElement(tk,{size:"small",color:s,prefixCls:d})),se.createElement(Tse,{colors:n,direction:r,type:o,prefixCls:d})))};function qA(t){return t!==void 0}var Mse=function(e,n){var r=n.defaultValue,i=n.value,o=g.useState(function(){var c;return qA(i)?c=i:qA(r)?c=r:c=e,Hc(c)}),a=Ne(o,2),s=a[0],l=a[1];return g.useEffect(function(){i&&l(Hc(i))},[i]),[s,l]},Rse=["rgb(255, 0, 0) 0%","rgb(255, 255, 0) 17%","rgb(0, 255, 0) 33%","rgb(0, 255, 255) 50%","rgb(0, 0, 255) 67%","rgb(255, 0, 255) 83%","rgb(255, 0, 0) 100%"];const Ase=g.forwardRef(function(t,e){var n=t.value,r=t.defaultValue,i=t.prefixCls,o=i===void 0?wse:i,a=t.onChange,s=t.onChangeComplete,l=t.className,c=t.style,u=t.panelRender,d=t.disabledAlpha,f=d===void 0?!1:d,p=t.disabled,y=p===void 0?!1:p,b=Mse(Cse,{value:n,defaultValue:r}),x=Ne(b,2),v=x[0],w=x[1],S=g.useMemo(function(){var I=Hc(v.toRgbString());return I.setAlpha(1),I.toRgbString()},[v]),C=ye("".concat(o,"-panel"),l,ie({},"".concat(o,"-panel-disabled"),y)),_={prefixCls:o,onChangeComplete:s,disabled:y},T=function(R,P){n||w(R),a?.(R,P)},M=se.createElement(se.Fragment,null,se.createElement(_se,it({color:v,onChange:T},_)),se.createElement("div",{className:"".concat(o,"-slider-container")},se.createElement("div",{className:ye("".concat(o,"-slider-group"),ie({},"".concat(o,"-slider-group-disabled-alpha"),f))},se.createElement(XA,it({gradientColors:Rse,color:v,value:"hsl(".concat(v.toHsb().h,",100%, 50%)"),onChange:function(R){return T(R,"hue")}},_)),!f&&se.createElement(XA,it({type:"alpha",gradientColors:["rgba(255, 0, 4, 0) 0%",S],color:v,value:v.toRgbString(),onChange:function(R){return T(R,"alpha")}},_))),se.createElement(EC,{color:v.toRgbString(),prefixCls:o})));return se.createElement("div",{className:C,style:c,ref:e},typeof u=="function"?u(M):M)}),ik=se.createContext({}),ok=se.createContext({}),{Provider:Pse}=ik,{Provider:Ise}=ok,b2=(t,e)=>t?.replace(/[^\w/]/gi,"").slice(0,e?8:6)||"",Nse=(t,e)=>t?b2(t,e):"";let KA=function(){function t(e){ii(this,t),this.metaColor=new wy(e),e||this.metaColor.setAlpha(0)}return oi(t,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return Nse(this.toHexString(),this.metaColor.getAlpha()<1)}},{key:"toHexString",value:function(){return this.metaColor.getAlpha()===1?this.metaColor.toHexString():this.metaColor.toHex8String()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}}]),t}();const Ose="ant-color-picker",eo=t=>t instanceof KA?t:new KA(t),w2=t=>Math.round(Number(t||0)),Cy=t=>w2(t.toHsb().a*100),y8=(t,e)=>{const n=t.toHsb();return n.a=e||1,eo(n)},Lse=t=>{let{prefixCls:e,value:n,colorCleared:r,onChange:i}=t;const o=()=>{if(n&&!r){const a=n.toHsb();a.a=0;const s=eo(a);i?.(s)}};return se.createElement("div",{className:`${e}-clear`,onClick:o})},ak=Lse;var Il;(function(t){t.hex="hex",t.rgb="rgb",t.hsb="hsb"})(Il||(Il={}));var Dse={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"};const Fse=Dse;var $se=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:Fse}))};const Use=g.forwardRef($se);function k7(){return typeof BigInt=="function"}function sk(t){return!t&&t!==0&&!Number.isNaN(t)||!String(t).trim()}function cd(t){var e=t.trim(),n=e.startsWith("-");n&&(e=e.slice(1)),e=e.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),e.startsWith(".")&&(e="0".concat(e));var r=e||"0",i=r.split("."),o=i[0]||"0",a=i[1]||"0";o==="0"&&a==="0"&&(n=!1);var s=n?"-":"";return{negative:n,negativeStr:s,trimStr:r,integerStr:o,decimalStr:a,fullStr:"".concat(s).concat(r)}}function _C(t){var e=String(t);return!Number.isNaN(Number(e))&&e.includes("e")}function Zu(t){var e=String(t);if(_C(t)){var n=Number(e.slice(e.indexOf("e-")+2)),r=e.match(/\.(\d+)/);return r!=null&&r[1]&&(n+=r[1].length),n}return e.includes(".")&&TC(e)?e.length-e.indexOf(".")-1:0}function q5(t){var e=String(t);if(_C(t)){if(t>Number.MAX_SAFE_INTEGER)return String(k7()?BigInt(t).toString():Number.MAX_SAFE_INTEGER);if(t<Number.MIN_SAFE_INTEGER)return String(k7()?BigInt(t).toString():Number.MIN_SAFE_INTEGER);e=t.toFixed(Zu(e))}return cd(e).fullStr}function TC(t){return typeof t=="number"?!Number.isNaN(t):t?/^\s*-?\d+(\.\d+)?\s*$/.test(t)||/^\s*-?\d+\.\s*$/.test(t)||/^\s*-?\.\d+\s*$/.test(t):!1}var kse=function(){function t(e){if(ii(this,t),ie(this,"origin",""),ie(this,"negative",void 0),ie(this,"integer",void 0),ie(this,"decimal",void 0),ie(this,"decimalLen",void 0),ie(this,"empty",void 0),ie(this,"nan",void 0),sk(e)){this.empty=!0;return}if(this.origin=String(e),e==="-"||Number.isNaN(e)){this.nan=!0;return}var n=e;if(_C(n)&&(n=Number(n)),n=typeof n=="string"?n:q5(n),TC(n)){var r=cd(n);this.negative=r.negative;var i=r.trimStr.split(".");this.integer=BigInt(i[0]);var o=i[1]||"0";this.decimal=BigInt(o),this.decimalLen=o.length}else this.nan=!0}return oi(t,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(n){var r="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(n,"0"));return BigInt(r)}},{key:"negate",value:function(){var n=new t(this.toString());return n.negative=!n.negative,n}},{key:"cal",value:function(n,r,i){var o=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),a=this.alignDecimal(o),s=n.alignDecimal(o),l=r(a,s).toString(),c=i(o),u=cd(l),d=u.negativeStr,f=u.trimStr,p="".concat(d).concat(f.padStart(c+1,"0"));return new t("".concat(p.slice(0,-c),".").concat(p.slice(-c)))}},{key:"add",value:function(n){if(this.isInvalidate())return new t(n);var r=new t(n);return r.isInvalidate()?this:this.cal(r,function(i,o){return i+o},function(i){return i})}},{key:"multi",value:function(n){var r=new t(n);return this.isInvalidate()||r.isInvalidate()?new t(NaN):this.cal(r,function(i,o){return i*o},function(i){return i*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toString()===n?.toString()}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":cd("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),t}(),Bse=function(){function t(e){if(ii(this,t),ie(this,"origin",""),ie(this,"number",void 0),ie(this,"empty",void 0),sk(e)){this.empty=!0;return}this.origin=String(e),this.number=Number(e)}return oi(t,[{key:"negate",value:function(){return new t(-this.toNumber())}},{key:"add",value:function(n){if(this.isInvalidate())return new t(n);var r=Number(n);if(Number.isNaN(r))return this;var i=this.number+r;if(i>Number.MAX_SAFE_INTEGER)return new t(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new t(Number.MIN_SAFE_INTEGER);var o=Math.max(Zu(this.number),Zu(r));return new t(i.toFixed(o))}},{key:"multi",value:function(n){var r=Number(n);if(this.isInvalidate()||Number.isNaN(r))return new t(NaN);var i=this.number*r;if(i>Number.MAX_SAFE_INTEGER)return new t(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new t(Number.MIN_SAFE_INTEGER);var o=Math.max(Zu(this.number),Zu(r));return new t(i.toFixed(o))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toNumber()===n?.toNumber()}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":q5(this.number):this.origin}}]),t}();function Va(t){return k7()?new kse(t):new Bse(t)}function C2(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t==="")return"";var i=cd(t),o=i.negativeStr,a=i.integerStr,s=i.decimalStr,l="".concat(e).concat(s),c="".concat(o).concat(a);if(n>=0){var u=Number(s[n]);if(u>=5&&!r){var d=Va(t).add("".concat(o,"0.").concat("0".repeat(n)).concat(10-u));return C2(d.toString(),e,n,r)}return n===0?c:"".concat(c).concat(e).concat(s.padEnd(n,"0").slice(0,n))}return l===".0"?c:"".concat(c).concat(l)}function Mf(t){return!!(t.addonBefore||t.addonAfter)}function x8(t){return!!(t.prefix||t.suffix||t.allowClear)}function Tm(t,e,n,r){if(n){var i=e;if(e.type==="click"){var o=t.cloneNode(!0);i=Object.create(e,{target:{value:o},currentTarget:{value:o}}),o.value="",n(i);return}if(r!==void 0){i=Object.create(e,{target:{value:t},currentTarget:{value:t}}),t.value=r,n(i);return}n(i)}}function lk(t,e){if(t){t.focus(e);var n=e||{},r=n.cursor;if(r){var i=t.value.length;switch(r){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(i,i);break;default:t.setSelectionRange(0,i)}}}}function B7(t){return typeof t>"u"||t===null?"":String(t)}var MC=function(e){var n,r,i=e.inputElement,o=e.prefixCls,a=e.prefix,s=e.suffix,l=e.addonBefore,c=e.addonAfter,u=e.className,d=e.style,f=e.disabled,p=e.readOnly,y=e.focused,b=e.triggerFocus,x=e.allowClear,v=e.value,w=e.handleReset,S=e.hidden,C=e.classes,_=e.classNames,T=e.dataAttrs,M=e.styles,I=e.components,R=I?.affixWrapper||"span",P=I?.groupWrapper||"span",L=I?.wrapper||"span",k=I?.groupAddon||"span",H=g.useRef(null),D=function(oe){var re;(re=H.current)!==null&&re!==void 0&&re.contains(oe.target)&&b?.()},G=function(){var oe;if(!x)return null;var re=!f&&!p&&v,ce="".concat(o,"-clear-icon"),Se=Xt(x)==="object"&&x!==null&&x!==void 0&&x.clearIcon?x.clearIcon:"";return se.createElement("span",{onClick:w,onMouseDown:function(xe){return xe.preventDefault()},className:ye(ce,(oe={},ie(oe,"".concat(ce,"-hidden"),!re),ie(oe,"".concat(ce,"-has-suffix"),!!s),oe)),role:"button",tabIndex:-1},Se)},B=g.cloneElement(i,{value:v,hidden:S,className:ye((n=i.props)===null||n===void 0?void 0:n.className,!x8(e)&&!Mf(e)&&u)||null,style:be(be({},(r=i.props)===null||r===void 0?void 0:r.style),!x8(e)&&!Mf(e)?d:{})});if(x8(e)){var $,O="".concat(o,"-affix-wrapper"),z=ye(O,($={},ie($,"".concat(O,"-disabled"),f),ie($,"".concat(O,"-focused"),y),ie($,"".concat(O,"-readonly"),p),ie($,"".concat(O,"-input-with-clear-btn"),s&&x&&v),$),!Mf(e)&&u,C?.affixWrapper,_?.affixWrapper),V=(s||x)&&se.createElement("span",{className:ye("".concat(o,"-suffix"),_?.suffix),style:M?.suffix},G(),s);B=se.createElement(R,it({className:z,style:be(be({},Mf(e)?void 0:d),M?.affixWrapper),hidden:!Mf(e)&&S,onClick:D},T?.affixWrapper,{ref:H}),a&&se.createElement("span",{className:ye("".concat(o,"-prefix"),_?.prefix),style:M?.prefix},a),g.cloneElement(i,{value:v,hidden:null}),V)}if(Mf(e)){var F="".concat(o,"-group"),W="".concat(F,"-addon"),q=ye("".concat(o,"-wrapper"),F,C?.wrapper),Z=ye("".concat(o,"-group-wrapper"),u,C?.group);return se.createElement(P,{className:Z,style:d,hidden:S},se.createElement(L,{className:q},l&&se.createElement(k,{className:W},l),g.cloneElement(B,{hidden:null}),c&&se.createElement(k,{className:W},c)))}return B},zse=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","classes","classNames","styles"],Hse=g.forwardRef(function(t,e){var n=t.autoComplete,r=t.onChange,i=t.onFocus,o=t.onBlur,a=t.onPressEnter,s=t.onKeyDown,l=t.prefixCls,c=l===void 0?"rc-input":l,u=t.disabled,d=t.htmlSize,f=t.className,p=t.maxLength,y=t.suffix,b=t.showCount,x=t.type,v=x===void 0?"text":x,w=t.classes,S=t.classNames,C=t.styles,_=Yt(t,zse),T=kr(t.defaultValue,{value:t.value}),M=Ne(T,2),I=M[0],R=M[1],P=g.useState(!1),L=Ne(P,2),k=L[0],H=L[1],D=g.useRef(null),G=function(Z){D.current&&lk(D.current,Z)};g.useImperativeHandle(e,function(){return{focus:G,blur:function(){var Z;(Z=D.current)===null||Z===void 0||Z.blur()},setSelectionRange:function(Z,ee,oe){var re;(re=D.current)===null||re===void 0||re.setSelectionRange(Z,ee,oe)},select:function(){var Z;(Z=D.current)===null||Z===void 0||Z.select()},input:D.current}}),g.useEffect(function(){H(function(q){return q&&u?!1:q})},[u]);var B=function(Z){t.value===void 0&&R(Z.target.value),D.current&&Tm(D.current,Z,r)},$=function(Z){a&&Z.key==="Enter"&&a(Z),s?.(Z)},O=function(Z){H(!0),i?.(Z)},z=function(Z){H(!1),o?.(Z)},V=function(Z){R(""),G(),D.current&&Tm(D.current,Z,r)},F=function(){var Z=Yr(t,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","classes","htmlSize","styles","classNames"]);return se.createElement("input",it({autoComplete:n},Z,{onChange:B,onFocus:O,onBlur:z,onKeyDown:$,className:ye(c,ie({},"".concat(c,"-disabled"),u),S?.input),style:C?.input,ref:D,size:d,type:v}))},W=function(){var Z=Number(p)>0;if(y||b){var ee=B7(I),oe=mt(ee).length,re=Xt(b)==="object"?b.formatter({value:ee,count:oe,maxLength:p}):"".concat(oe).concat(Z?" / ".concat(p):"");return se.createElement(se.Fragment,null,!!b&&se.createElement("span",{className:ye("".concat(c,"-show-count-suffix"),ie({},"".concat(c,"-show-count-has-suffix"),!!y),S?.count),style:be({},C?.count)},re),y)}return null};return se.createElement(MC,it({},_,{prefixCls:c,className:f,inputElement:F(),handleReset:V,value:B7(I),focused:k,triggerFocus:G,suffix:W(),disabled:u,classes:w,classNames:S,styles:C}))});function Gse(t,e){var n=g.useRef(null);function r(){try{var o=t.selectionStart,a=t.selectionEnd,s=t.value,l=s.substring(0,o),c=s.substring(a);n.current={start:o,end:a,value:s,beforeTxt:l,afterTxt:c}}catch{}}function i(){if(t&&n.current&&e)try{var o=t.value,a=n.current,s=a.beforeTxt,l=a.afterTxt,c=a.start,u=o.length;if(o.endsWith(l))u=o.length-n.current.afterTxt.length;else if(o.startsWith(s))u=s.length;else{var d=s[c-1],f=o.indexOf(d,c-1);f!==-1&&(u=f+1)}t.setSelectionRange(u,u)}catch(p){hi(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(p.message))}}return[r,i]}var Vse=function(){var e=g.useState(!1),n=Ne(e,2),r=n[0],i=n[1];return Yn(function(){i($5())},[]),r},Wse=200,jse=600;function Xse(t){var e=t.prefixCls,n=t.upNode,r=t.downNode,i=t.upDisabled,o=t.downDisabled,a=t.onStep,s=g.useRef(),l=g.useRef([]),c=g.useRef();c.current=a;var u=function(){clearTimeout(s.current)},d=function(S,C){S.preventDefault(),u(),c.current(C);function _(){c.current(C),s.current=setTimeout(_,Wse)}s.current=setTimeout(_,jse)};g.useEffect(function(){return function(){u(),l.current.forEach(function(w){return Un.cancel(w)})}},[]);var f=Vse();if(f)return null;var p="".concat(e,"-handler"),y=ye(p,"".concat(p,"-up"),ie({},"".concat(p,"-up-disabled"),i)),b=ye(p,"".concat(p,"-down"),ie({},"".concat(p,"-down-disabled"),o)),x=function(){return l.current.push(Un(u))},v={unselectable:"on",role:"button",onMouseUp:x,onMouseLeave:x};return g.createElement("div",{className:"".concat(p,"-wrap")},g.createElement("span",it({},v,{onMouseDown:function(S){d(S,!0)},"aria-label":"Increase Value","aria-disabled":i,className:y}),n||g.createElement("span",{unselectable:"on",className:"".concat(e,"-handler-up-inner")})),g.createElement("span",it({},v,{onMouseDown:function(S){d(S,!1)},"aria-label":"Decrease Value","aria-disabled":o,className:b}),r||g.createElement("span",{unselectable:"on",className:"".concat(e,"-handler-down-inner")})))}function YA(t){var e=typeof t=="number"?q5(t):cd(t).fullStr,n=e.includes(".");return n?cd(e.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:t+"0"}const qse=function(){var t=g.useRef(0),e=function(){Un.cancel(t.current)};return g.useEffect(function(){return e},[]),function(n){e(),t.current=Un(function(){n()})}};var Kse=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],Yse=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","classes","className","classNames"],ZA=function(e,n){return e||n.isEmpty()?n.toString():n.toNumber()},QA=function(e){var n=Va(e);return n.isInvalidate()?null:n},Zse=g.forwardRef(function(t,e){var n,r=t.prefixCls,i=r===void 0?"rc-input-number":r,o=t.className,a=t.style,s=t.min,l=t.max,c=t.step,u=c===void 0?1:c,d=t.defaultValue,f=t.value,p=t.disabled,y=t.readOnly,b=t.upHandler,x=t.downHandler,v=t.keyboard,w=t.controls,S=w===void 0?!0:w,C=t.classNames,_=t.stringMode,T=t.parser,M=t.formatter,I=t.precision,R=t.decimalSeparator,P=t.onChange,L=t.onInput,k=t.onPressEnter,H=t.onStep,D=Yt(t,Kse),G="".concat(i,"-input"),B=g.useRef(null),$=g.useState(!1),O=Ne($,2),z=O[0],V=O[1],F=g.useRef(!1),W=g.useRef(!1),q=g.useRef(!1),Z=g.useState(function(){return Va(f??d)}),ee=Ne(Z,2),oe=ee[0],re=ee[1];function ce(de){f===void 0&&re(de)}var Se=g.useCallback(function(de,ue){if(!ue)return I>=0?I:Math.max(Zu(de),Zu(u))},[I,u]),Pe=g.useCallback(function(de){var ue=String(de);if(T)return T(ue);var De=ue;return R&&(De=De.replace(R,".")),De.replace(/[^\w.-]+/g,"")},[T,R]),xe=g.useRef(""),X=g.useCallback(function(de,ue){if(M)return M(de,{userTyping:ue,input:String(xe.current)});var De=typeof de=="number"?q5(de):de;if(!ue){var Ie=Se(De,ue);if(TC(De)&&(R||Ie>=0)){var _e=R||".";De=C2(De,_e,Ie)}}return De},[M,Se,R]),fe=g.useState(function(){var de=d??f;return oe.isInvalidate()&&["string","number"].includes(Xt(de))?Number.isNaN(de)?"":de:X(oe.toString(),!1)}),pe=Ne(fe,2),Ce=pe[0],me=pe[1];xe.current=Ce;function Ge(de,ue){me(X(de.isInvalidate()?de.toString(!1):de.toString(!ue),ue))}var ve=g.useMemo(function(){return QA(l)},[l,I]),Re=g.useMemo(function(){return QA(s)},[s,I]),Ae=g.useMemo(function(){return!ve||!oe||oe.isInvalidate()?!1:ve.lessEquals(oe)},[ve,oe]),Le=g.useMemo(function(){return!Re||!oe||oe.isInvalidate()?!1:oe.lessEquals(Re)},[Re,oe]),Je=Gse(B.current,z),K=Ne(Je,2),j=K[0],ae=K[1],Ee=function(ue){return ve&&!ue.lessEquals(ve)?ve:Re&&!Re.lessEquals(ue)?Re:null},Oe=function(ue){return!Ee(ue)},je=function(ue,De){var Ie=ue,_e=Oe(Ie)||Ie.isEmpty();if(!Ie.isEmpty()&&!De&&(Ie=Ee(Ie)||Ie,_e=!0),!y&&!p&&_e){var rt=Ie.toString(),ct=Se(rt,De);return ct>=0&&(Ie=Va(C2(rt,".",ct)),Oe(Ie)||(Ie=Va(C2(rt,".",ct,!0)))),Ie.equals(oe)||(ce(Ie),P?.(Ie.isEmpty()?null:ZA(_,Ie)),f===void 0&&Ge(Ie,De)),Ie}return oe},Be=qse(),Fe=function de(ue){if(j(),xe.current=ue,me(ue),!W.current){var De=Pe(ue),Ie=Va(De);Ie.isNaN()||je(Ie,!0)}L?.(ue),Be(function(){var _e=ue;T||(_e=ue.replace(//g,".")),_e!==ue&&de(_e)})},Ue=function(){W.current=!0},et=function(){W.current=!1,Fe(B.current.value)},at=function(ue){Fe(ue.target.value)},We=function(ue){var De;if(!(ue&&Ae||!ue&&Le)){F.current=!1;var Ie=Va(q.current?YA(u):u);ue||(Ie=Ie.negate());var _e=(oe||Va(0)).add(Ie.toString()),rt=je(_e,!1);H?.(ZA(_,rt),{offset:q.current?YA(u):u,type:ue?"up":"down"}),(De=B.current)===null||De===void 0||De.focus()}},ut=function(ue){var De=Va(Pe(Ce)),Ie=De;De.isNaN()?Ie=je(oe,ue):Ie=je(De,ue),f!==void 0?Ge(oe,!1):Ie.isNaN()||Ge(Ie,!1)},te=function(){F.current=!0},ke=function(ue){var De=ue.key,Ie=ue.shiftKey;F.current=!0,q.current=Ie,De==="Enter"&&(W.current||(F.current=!1),ut(!1),k?.(ue)),v!==!1&&!W.current&&["Up","ArrowUp","Down","ArrowDown"].includes(De)&&(We(De==="Up"||De==="ArrowUp"),ue.preventDefault())},ze=function(){F.current=!1,q.current=!1},J=function(){ut(!1),V(!1),F.current=!1};return Lh(function(){oe.isInvalidate()||Ge(oe,!1)},[I]),Lh(function(){var de=Va(f);re(de);var ue=Va(Pe(Ce));(!de.equals(ue)||!F.current||M)&&Ge(de,F.current)},[f]),Lh(function(){M&&ae()},[Ce]),g.createElement("div",{className:ye(i,C?.input,o,(n={},ie(n,"".concat(i,"-focused"),z),ie(n,"".concat(i,"-disabled"),p),ie(n,"".concat(i,"-readonly"),y),ie(n,"".concat(i,"-not-a-number"),oe.isNaN()),ie(n,"".concat(i,"-out-of-range"),!oe.isInvalidate()&&!Oe(oe)),n)),style:a,onFocus:function(){V(!0)},onBlur:J,onKeyDown:ke,onKeyUp:ze,onCompositionStart:Ue,onCompositionEnd:et,onBeforeInput:te},S&&g.createElement(Xse,{prefixCls:i,upNode:b,downNode:x,upDisabled:Ae,downDisabled:Le,onStep:We}),g.createElement("div",{className:"".concat(G,"-wrap")},g.createElement("input",it({autoComplete:"off",role:"spinbutton","aria-valuemin":s,"aria-valuemax":l,"aria-valuenow":oe.isInvalidate()?null:oe.toString(),step:u},D,{ref:mo(B,e),className:G,value:Ce,onChange:at,disabled:p,readOnly:y}))))}),ck=g.forwardRef(function(t,e){var n=t.disabled,r=t.style,i=t.prefixCls,o=t.value,a=t.prefix,s=t.suffix,l=t.addonBefore,c=t.addonAfter,u=t.classes,d=t.className,f=t.classNames,p=Yt(t,Yse),y=g.useRef(null),b=function(v){y.current&&lk(y.current,v)};return g.createElement(MC,{inputElement:g.createElement(Zse,it({prefixCls:i,disabled:n,classNames:f,ref:mo(y,e)},p)),className:d,triggerFocus:b,prefixCls:i,value:o,disabled:n,style:r,prefix:a,suffix:s,addonAfter:c,addonBefore:l,classes:u,classNames:f,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"}})});ck.displayName="InputNumber";const JA=(t,e)=>{let{componentCls:n,borderRadiusSM:r,borderRadiusLG:i}=t;const o=e==="lg"?i:r;return{[`&-${e}`]:{[`${n}-handler-wrap`]:{borderStartEndRadius:o,borderEndEndRadius:o},[`${n}-handler-up`]:{borderStartEndRadius:o},[`${n}-handler-down`]:{borderEndEndRadius:o}}}},Qse=t=>{const{componentCls:e,lineWidth:n,lineType:r,colorBorder:i,borderRadius:o,fontSizeLG:a,controlHeightLG:s,controlHeightSM:l,colorError:c,paddingInlineSM:u,colorTextDescription:d,motionDurationMid:f,handleHoverColor:p,paddingInline:y,paddingBlock:b,handleBg:x,handleActiveBg:v,colorTextDisabled:w,borderRadiusSM:S,borderRadiusLG:C,controlWidth:_,handleVisible:T,handleBorderColor:M}=t;return[{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},Ir(t)),r3(t)),V5(t,e)),{display:"inline-block",width:_,margin:0,padding:0,border:`${n}px ${r} ${i}`,borderRadius:o,"&-rtl":{direction:"rtl",[`${e}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:a,borderRadius:C,[`input${e}-input`]:{height:s-2*n}},"&-sm":{padding:0,borderRadius:S,[`input${e}-input`]:{height:l-2*n,padding:`0 ${u}px`}},"&:hover":Object.assign({},n3(t)),"&-focused":Object.assign({},by(t)),"&-out-of-range":{[`${e}-input-wrap`]:{input:{color:c}}},"&-group":Object.assign(Object.assign(Object.assign({},Ir(t)),zU(t)),{"&-wrapper":{display:"inline-block",textAlign:"start",verticalAlign:"top",[`${e}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${e}-group-addon`]:{borderRadius:C,fontSize:t.fontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:S}},[`${e}-wrapper-disabled > ${e}-group-addon`]:Object.assign({},gC(t))}}),[`&-disabled ${e}-input`]:{cursor:"not-allowed"},[e]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},Ir(t)),{width:"100%",padding:`${b}px ${y}px`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:o,outline:0,transition:`all ${f} linear`,appearance:"textfield",fontSize:"inherit"}),kU(t.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})}})},{[e]:Object.assign(Object.assign(Object.assign({[`&:hover ${e}-handler-wrap, &-focused ${e}-handler-wrap`]:{opacity:1},[`${e}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:t.handleWidth,height:"100%",background:x,borderStartStartRadius:0,borderStartEndRadius:o,borderEndEndRadius:o,borderEndStartRadius:0,opacity:T===!0?1:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`opacity ${f} linear ${f}`,[`${e}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${e}-handler-up-inner,
              ${e}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:t.handleFontSize}}},[`${e}-handler`]:{height:"50%",overflow:"hidden",color:d,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${n}px ${r} ${M}`,transition:`all ${f} linear`,"&:active":{background:v},"&:hover":{height:"60%",[`
              ${e}-handler-up-inner,
              ${e}-handler-down-inner
            `]:{color:p}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},zp()),{color:d,transition:`all ${f} linear`,userSelect:"none"})},[`${e}-handler-up`]:{borderStartEndRadius:o},[`${e}-handler-down`]:{borderBlockStart:`${n}px ${r} ${M}`,borderEndEndRadius:o}},JA(t,"lg")),JA(t,"sm")),{"&-disabled, &-readonly":{[`${e}-handler-wrap`]:{display:"none"},[`${e}-input`]:{color:"inherit"}},[`
          ${e}-handler-up-disabled,
          ${e}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${e}-handler-up-disabled:hover &-handler-up-inner,
          ${e}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:w}})},{[`${e}-borderless`]:{borderColor:"transparent",boxShadow:"none",[`${e}-handler-down`]:{borderBlockStartWidth:0}}}]},Jse=t=>{const{componentCls:e,paddingBlock:n,paddingInline:r,inputAffixPadding:i,controlWidth:o,borderRadiusLG:a,borderRadiusSM:s}=t;return{[`${e}-affix-wrapper`]:Object.assign(Object.assign(Object.assign({},r3(t)),V5(t,`${e}-affix-wrapper`)),{position:"relative",display:"inline-flex",width:o,padding:0,paddingInlineStart:r,"&-lg":{borderRadius:a},"&-sm":{borderRadius:s},[`&:not(${e}-affix-wrapper-disabled):hover`]:Object.assign(Object.assign({},n3(t)),{zIndex:1}),"&-focused, &:focus":{zIndex:1},[`&-disabled > ${e}-disabled`]:{background:"transparent"},[`> div${e}`]:{width:"100%",border:"none",outline:"none",[`&${e}-focused`]:{boxShadow:"none !important"}},[`input${e}-input`]:{padding:`${n}px 0`},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${e}-handler-wrap`]:{zIndex:2},[e]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:i},"&-suffix":{position:"absolute",insetBlockStart:0,insetInlineEnd:0,zIndex:1,height:"100%",marginInlineEnd:r,marginInlineStart:i}}})}},ele=lr("InputNumber",t=>{const e=pn(t,yC(t));return[Qse(e),Jse(e),L5(e)]},t=>Object.assign(Object.assign({},xC(t)),{controlWidth:90,handleWidth:t.controlHeightSM-t.lineWidth*2,handleFontSize:t.fontSize/2,handleVisible:"auto",handleActiveBg:t.colorFillAlter,handleBg:t.colorBgContainer,handleHoverColor:t.colorPrimary,handleBorderColor:t.colorBorder}));var tle=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const uk=g.forwardRef((t,e)=>{const{getPrefixCls:n,direction:r}=g.useContext(Wt),i=g.useRef(null);g.useImperativeHandle(e,()=>i.current);const{className:o,rootClassName:a,size:s,disabled:l,prefixCls:c,addonBefore:u,addonAfter:d,prefix:f,bordered:p=!0,readOnly:y,status:b,controls:x}=t,v=tle(t,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),w=n("input-number",c),[S,C]=ele(w),{compactSize:_,compactItemClassnames:T}=Hp(w,r);let M=g.createElement(Use,{className:`${w}-handler-up-inner`}),I=g.createElement(my,{className:`${w}-handler-down-inner`});const R=typeof x=="boolean"?x:void 0;typeof x=="object"&&(M=typeof x.upIcon>"u"?M:g.createElement("span",{className:`${w}-handler-up-inner`},x.upIcon),I=typeof x.downIcon>"u"?I:g.createElement("span",{className:`${w}-handler-down-inner`},x.downIcon));const{hasFeedback:P,status:L,isFormItemInput:k,feedbackIcon:H}=g.useContext(Wl),D=B5(L,b),G=ra(F=>{var W;return(W=s??_)!==null&&W!==void 0?W:F}),B=g.useContext(Hd),$=l??B,O=ye({[`${w}-lg`]:G==="large",[`${w}-sm`]:G==="small",[`${w}-rtl`]:r==="rtl",[`${w}-borderless`]:!p,[`${w}-in-form-item`]:k},Vs(w,D),T,C),z=`${w}-group`,V=g.createElement(ck,Object.assign({ref:i,disabled:$,className:ye(o,a),upHandler:M,downHandler:I,prefixCls:w,readOnly:y,controls:R,prefix:f,suffix:P&&H,addonAfter:d&&g.createElement(tp,null,g.createElement(ag,{override:!0,status:!0},d)),addonBefore:u&&g.createElement(tp,null,g.createElement(ag,{override:!0,status:!0},u)),classNames:{input:O},classes:{affixWrapper:ye(Vs(`${w}-affix-wrapper`,D,P),{[`${w}-affix-wrapper-sm`]:G==="small",[`${w}-affix-wrapper-lg`]:G==="large",[`${w}-affix-wrapper-rtl`]:r==="rtl",[`${w}-affix-wrapper-borderless`]:!p},C),wrapper:ye({[`${z}-rtl`]:r==="rtl",[`${w}-wrapper-disabled`]:$},C),group:ye({[`${w}-group-wrapper-sm`]:G==="small",[`${w}-group-wrapper-lg`]:G==="large",[`${w}-group-wrapper-rtl`]:r==="rtl"},Vs(`${w}-group-wrapper`,D,P),C)}},v));return S(V)}),dk=uk,nle=t=>g.createElement(au,{theme:{components:{InputNumber:{handleVisible:!0}}}},g.createElement(uk,Object.assign({},t)));dk._InternalPanelDoNotUseOrYouWillBeFired=nle;const rle=dk,ile=t=>{let{prefixCls:e,min:n=0,max:r=100,value:i,onChange:o,className:a,formatter:s}=t;const l=`${e}-steppers`,[c,u]=g.useState(i);return g.useEffect(()=>{Number.isNaN(i)||u(i)},[i]),se.createElement(rle,{className:ye(l,a),min:n,max:r,value:c,formatter:s,size:"small",onChange:d=>{i||u(d||0),o?.(d)}})},ud=ile,ole=t=>{let{prefixCls:e,value:n,onChange:r}=t;const i=`${e}-alpha-input`,[o,a]=g.useState(eo(n||"#000"));g.useEffect(()=>{n&&a(n)},[n]);const s=l=>{const c=o.toHsb();c.a=(l||0)/100;const u=eo(c);n||a(u),r?.(u)};return se.createElement(ud,{value:Cy(o),prefixCls:e,formatter:l=>`${l}%`,className:i,onChange:s})},ale=ole,sle=t=>{const{getPrefixCls:e,direction:n}=g.useContext(Wt),{prefixCls:r,className:i}=t,o=e("input-group",r),a=e("input"),[s,l]=SC(a),c=ye(o,{[`${o}-lg`]:t.size==="large",[`${o}-sm`]:t.size==="small",[`${o}-compact`]:t.compact,[`${o}-rtl`]:n==="rtl"},l,i),u=g.useContext(Wl),d=g.useMemo(()=>Object.assign(Object.assign({},u),{isFormItemInput:!1}),[u]);return s(g.createElement("span",{className:c,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onFocus:t.onFocus,onBlur:t.onBlur},g.createElement(Wl.Provider,{value:d},t.children)))},lle=sle;function fk(t,e){const n=g.useRef([]),r=()=>{n.current.push(setTimeout(()=>{var i,o,a,s;!((i=t.current)===null||i===void 0)&&i.input&&((o=t.current)===null||o===void 0?void 0:o.input.getAttribute("type"))==="password"&&(!((a=t.current)===null||a===void 0)&&a.input.hasAttribute("value"))&&((s=t.current)===null||s===void 0||s.input.removeAttribute("value"))}))};return g.useEffect(()=>(e&&r(),()=>n.current.forEach(i=>{i&&clearTimeout(i)})),[]),r}function cle(t){return!!(t.prefix||t.suffix||t.allowClear)}var ule=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function dle(t,e){if(!t)return;t.focus(e);const{cursor:n}=e||{};if(n){const r=t.value.length;switch(n){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(r,r);break;default:t.setSelectionRange(0,r);break}}}const RC=g.forwardRef((t,e)=>{var n;const{prefixCls:r,bordered:i=!0,status:o,size:a,disabled:s,onBlur:l,onFocus:c,suffix:u,allowClear:d,addonAfter:f,addonBefore:p,className:y,style:b,styles:x,rootClassName:v,onChange:w,classNames:S}=t,C=ule(t,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames"]),{getPrefixCls:_,direction:T,input:M}=se.useContext(Wt),I=_("input",r),R=g.useRef(null),[P,L]=SC(I),{compactSize:k,compactItemClassnames:H}=Hp(I,T),D=ra(ce=>{var Se;return(Se=a??k)!==null&&Se!==void 0?Se:ce}),G=se.useContext(Hd),B=s??G,{status:$,hasFeedback:O,feedbackIcon:z}=g.useContext(Wl),V=B5($,o),F=cle(t)||!!O;g.useRef(F);const W=fk(R,!0),q=ce=>{W(),l?.(ce)},Z=ce=>{W(),c?.(ce)},ee=ce=>{W(),w?.(ce)},oe=(O||u)&&se.createElement(se.Fragment,null,u,O&&z);let re;return typeof d=="object"&&d?.clearIcon?re=d:d&&(re={clearIcon:se.createElement(Xg,null)}),P(se.createElement(Hse,Object.assign({ref:mo(e,R),prefixCls:I,autoComplete:M?.autoComplete},C,{disabled:B,onBlur:q,onFocus:Z,style:Object.assign(Object.assign({},M?.style),b),styles:Object.assign(Object.assign({},M?.styles),x),suffix:oe,allowClear:re,className:ye(y,v,H,M?.className),onChange:ee,addonAfter:f&&se.createElement(tp,null,se.createElement(ag,{override:!0,status:!0},f)),addonBefore:p&&se.createElement(tp,null,se.createElement(ag,{override:!0,status:!0},p)),classNames:Object.assign(Object.assign(Object.assign({},S),M?.classNames),{input:ye({[`${I}-sm`]:D==="small",[`${I}-lg`]:D==="large",[`${I}-rtl`]:T==="rtl",[`${I}-borderless`]:!i},!F&&Vs(I,V),S?.input,(n=M?.classNames)===null||n===void 0?void 0:n.input,L)}),classes:{affixWrapper:ye({[`${I}-affix-wrapper-sm`]:D==="small",[`${I}-affix-wrapper-lg`]:D==="large",[`${I}-affix-wrapper-rtl`]:T==="rtl",[`${I}-affix-wrapper-borderless`]:!i},Vs(`${I}-affix-wrapper`,V,O),L),wrapper:ye({[`${I}-group-rtl`]:T==="rtl"},L),group:ye({[`${I}-group-wrapper-sm`]:D==="small",[`${I}-group-wrapper-lg`]:D==="large",[`${I}-group-wrapper-rtl`]:T==="rtl",[`${I}-group-wrapper-disabled`]:B},Vs(`${I}-group-wrapper`,V,O),L)}})))});var fle={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};const hle=fle;var ple=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:hle}))};const mle=g.forwardRef(ple);var gle={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};const vle=gle;var yle=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:vle}))};const hk=g.forwardRef(yle);var xle=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Sle=t=>t?g.createElement(hk,null):g.createElement(mle,null),ble={click:"onClick",hover:"onMouseOver"},wle=g.forwardRef((t,e)=>{const{visibilityToggle:n=!0}=t,r=typeof n=="object"&&n.visible!==void 0,[i,o]=g.useState(()=>r?n.visible:!1),a=g.useRef(null);g.useEffect(()=>{r&&o(n.visible)},[r,n]);const s=fk(a),l=()=>{const{disabled:_}=t;_||(i&&s(),o(T=>{var M;const I=!T;return typeof n=="object"&&((M=n.onVisibleChange)===null||M===void 0||M.call(n,I)),I}))},c=_=>{const{action:T="click",iconRender:M=Sle}=t,I=ble[T]||"",R=M(i),P={[I]:l,className:`${_}-icon`,key:"passwordIcon",onMouseDown:L=>{L.preventDefault()},onMouseUp:L=>{L.preventDefault()}};return g.cloneElement(g.isValidElement(R)?R:g.createElement("span",null,R),P)},{className:u,prefixCls:d,inputPrefixCls:f,size:p}=t,y=xle(t,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:b}=g.useContext(Wt),x=b("input",f),v=b("input-password",d),w=n&&c(v),S=ye(v,u,{[`${v}-${p}`]:!!p}),C=Object.assign(Object.assign({},Yr(y,["suffix","iconRender","visibilityToggle"])),{type:i?"text":"password",className:S,prefixCls:x,suffix:w});return p&&(C.size=p),g.createElement(RC,Object.assign({ref:mo(e,a)},C))}),Cle=wle;var Ele=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const _le=g.forwardRef((t,e)=>{const{prefixCls:n,inputPrefixCls:r,className:i,size:o,suffix:a,enterButton:s=!1,addonAfter:l,loading:c,disabled:u,onSearch:d,onChange:f,onCompositionStart:p,onCompositionEnd:y}=t,b=Ele(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:x,direction:v}=g.useContext(Wt),w=g.useRef(!1),S=x("input-search",n),C=x("input",r),{compactSize:_}=Hp(S,v),T=ra(V=>{var F;return(F=o??_)!==null&&F!==void 0?F:V}),M=g.useRef(null),I=V=>{V&&V.target&&V.type==="click"&&d&&d(V.target.value,V,{source:"clear"}),f&&f(V)},R=V=>{var F;document.activeElement===((F=M.current)===null||F===void 0?void 0:F.input)&&V.preventDefault()},P=V=>{var F,W;d&&d((W=(F=M.current)===null||F===void 0?void 0:F.input)===null||W===void 0?void 0:W.value,V,{source:"input"})},L=V=>{w.current||c||P(V)},k=typeof s=="boolean"?g.createElement(cU,null):null,H=`${S}-button`;let D;const G=s||{},B=G.type&&G.type.__ANT_BUTTON===!0;B||G.type==="button"?D=_i(G,Object.assign({onMouseDown:R,onClick:V=>{var F,W;(W=(F=G?.props)===null||F===void 0?void 0:F.onClick)===null||W===void 0||W.call(F,V),P(V)},key:"enterButton"},B?{className:H,size:T}:{})):D=g.createElement(wa,{className:H,type:s?"primary":void 0,size:T,disabled:u,key:"enterButton",onMouseDown:R,onClick:P,loading:c,icon:k},s),l&&(D=[D,_i(l,{key:"addonAfter"})]);const $=ye(S,{[`${S}-rtl`]:v==="rtl",[`${S}-${T}`]:!!T,[`${S}-with-button`]:!!s},i),O=V=>{w.current=!0,p?.(V)},z=V=>{w.current=!1,y?.(V)};return g.createElement(RC,Object.assign({ref:mo(M,e),onPressEnter:L},b,{size:T,onCompositionStart:O,onCompositionEnd:z,prefixCls:C,addonAfter:D,suffix:a,onChange:I,className:$,disabled:u}))}),Tle=_le;var Mle=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,Rle=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],S8={},ga;function Ale(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(e&&S8[n])return S8[n];var r=window.getComputedStyle(t),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=Rle.map(function(c){return"".concat(c,":").concat(r.getPropertyValue(c))}).join(";"),l={sizingStyle:s,paddingSize:o,borderSize:a,boxSizing:i};return e&&n&&(S8[n]=l),l}function Ple(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;ga||(ga=document.createElement("textarea"),ga.setAttribute("tab-index","-1"),ga.setAttribute("aria-hidden","true"),document.body.appendChild(ga)),t.getAttribute("wrap")?ga.setAttribute("wrap",t.getAttribute("wrap")):ga.removeAttribute("wrap");var i=Ale(t,e),o=i.paddingSize,a=i.borderSize,s=i.boxSizing,l=i.sizingStyle;ga.setAttribute("style","".concat(l,";").concat(Mle)),ga.value=t.value||t.placeholder||"";var c=void 0,u=void 0,d,f=ga.scrollHeight;if(s==="border-box"?f+=a:s==="content-box"&&(f-=o),n!==null||r!==null){ga.value=" ";var p=ga.scrollHeight-o;n!==null&&(c=p*n,s==="border-box"&&(c=c+o+a),f=Math.max(c,f)),r!==null&&(u=p*r,s==="border-box"&&(u=u+o+a),d=f>u?"":"hidden",f=Math.min(u,f))}var y={height:f,overflowY:d,resize:"none"};return c&&(y.minHeight=c),u&&(y.maxHeight=u),y}var Ile=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],b8=0,w8=1,C8=2,Nle=g.forwardRef(function(t,e){var n=t,r=n.prefixCls;n.onPressEnter;var i=n.defaultValue,o=n.value,a=n.autoSize,s=n.onResize,l=n.className,c=n.style,u=n.disabled,d=n.onChange;n.onInternalAutoSize;var f=Yt(n,Ile),p=kr(i,{value:o,postState:function(Z){return Z??""}}),y=Ne(p,2),b=y[0],x=y[1],v=function(Z){x(Z.target.value),d?.(Z)},w=g.useRef();g.useImperativeHandle(e,function(){return{textArea:w.current}});var S=g.useMemo(function(){return a&&Xt(a)==="object"?[a.minRows,a.maxRows]:[]},[a]),C=Ne(S,2),_=C[0],T=C[1],M=!!a,I=function(){try{if(document.activeElement===w.current){var Z=w.current,ee=Z.selectionStart,oe=Z.selectionEnd,re=Z.scrollTop;w.current.setSelectionRange(ee,oe),w.current.scrollTop=re}}catch{}},R=g.useState(C8),P=Ne(R,2),L=P[0],k=P[1],H=g.useState(),D=Ne(H,2),G=D[0],B=D[1],$=function(){k(b8)};Yn(function(){M&&$()},[o,_,T,M]),Yn(function(){if(L===b8)k(w8);else if(L===w8){var q=Ple(w.current,!1,_,T);k(C8),B(q)}else I()},[L]);var O=g.useRef(),z=function(){Un.cancel(O.current)},V=function(Z){L===C8&&(s?.(Z),a&&(z(),O.current=Un(function(){$()})))};g.useEffect(function(){return z},[]);var F=M?G:null,W=be(be({},c),F);return(L===b8||L===w8)&&(W.overflowY="hidden",W.overflowX="hidden"),g.createElement(Ta,{onResize:V,disabled:!(a||s)},g.createElement("textarea",it({},f,{ref:w,style:W,className:ye(r,l,ie({},"".concat(r,"-disabled"),u)),disabled:u,value:b,onChange:v})))}),Ole=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","classes","showCount","className","style","disabled","hidden","classNames","styles","onResize"];function pk(t,e){return mt(t||"").slice(0,e).join("")}function eP(t,e,n,r){var i=n;return t?i=pk(n,r):mt(e||"").length<n.length&&mt(n||"").length>r&&(i=e),i}var Lle=se.forwardRef(function(t,e){var n,r=t.defaultValue,i=t.value,o=t.onFocus,a=t.onBlur,s=t.onChange,l=t.allowClear,c=t.maxLength,u=t.onCompositionStart,d=t.onCompositionEnd,f=t.suffix,p=t.prefixCls,y=p===void 0?"rc-textarea":p,b=t.classes,x=t.showCount,v=t.className,w=t.style,S=t.disabled,C=t.hidden,_=t.classNames,T=t.styles,M=t.onResize,I=Yt(t,Ole),R=kr(r,{value:i,defaultValue:r}),P=Ne(R,2),L=P[0],k=P[1],H=g.useRef(null),D=se.useState(!1),G=Ne(D,2),B=G[0],$=G[1],O=se.useState(!1),z=Ne(O,2),V=z[0],F=z[1],W=se.useRef(),q=se.useRef(0),Z=se.useState(null),ee=Ne(Z,2),oe=ee[0],re=ee[1],ce=function(){var ae;(ae=H.current)===null||ae===void 0||ae.textArea.focus()};g.useImperativeHandle(e,function(){return{resizableTextArea:H.current,focus:ce,blur:function(){var ae;(ae=H.current)===null||ae===void 0||ae.textArea.blur()}}}),g.useEffect(function(){$(function(j){return!S&&j})},[S]);var Se=Number(c)>0,Pe=function(ae){F(!0),W.current=L,q.current=ae.currentTarget.selectionStart,u?.(ae)},xe=function(ae){F(!1);var Ee=ae.currentTarget.value;if(Se){var Oe,je=q.current>=c+1||q.current===((Oe=W.current)===null||Oe===void 0?void 0:Oe.length);Ee=eP(je,W.current,Ee,c)}Ee!==L&&(k(Ee),Tm(ae.currentTarget,ae,s,Ee)),d?.(ae)},X=function(ae){var Ee=ae.target.value;if(!V&&Se){var Oe=ae.target.selectionStart>=c+1||ae.target.selectionStart===Ee.length||!ae.target.selectionStart;Ee=eP(Oe,L,Ee,c)}k(Ee),Tm(ae.currentTarget,ae,s,Ee)},fe=function(ae){var Ee=I.onPressEnter,Oe=I.onKeyDown;ae.key==="Enter"&&Ee&&Ee(ae),Oe?.(ae)},pe=function(ae){$(!0),o?.(ae)},Ce=function(ae){$(!1),a?.(ae)},me=function(ae){var Ee;k(""),ce(),Tm((Ee=H.current)===null||Ee===void 0?void 0:Ee.textArea,ae,s)},Ge=B7(L);!V&&Se&&i==null&&(Ge=pk(Ge,c));var ve=f,Re;if(x){var Ae=mt(Ge).length;Xt(x)==="object"?Re=x.formatter({value:Ge,count:Ae,maxLength:c}):Re="".concat(Ae).concat(Se?" / ".concat(c):""),ve=se.createElement(se.Fragment,null,ve,se.createElement("span",{className:ye("".concat(y,"-data-count"),_?.count),style:T?.count},Re))}var Le=function(ae){var Ee;M?.(ae),(Ee=H.current)!==null&&Ee!==void 0&&Ee.textArea.style.height&&re(!0)},Je=!I.autoSize&&!x&&!l,K=se.createElement(MC,{value:Ge,allowClear:l,handleReset:me,suffix:ve,prefixCls:y,classes:{affixWrapper:ye(b?.affixWrapper,(n={},ie(n,"".concat(y,"-show-count"),x),ie(n,"".concat(y,"-textarea-allow-clear"),l),n))},disabled:S,focused:B,className:v,style:be(be({},w),oe&&!Je?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof Re=="string"?Re:void 0}},hidden:C,inputElement:se.createElement(Nle,it({},I,{onKeyDown:fe,onChange:X,onFocus:pe,onBlur:Ce,onCompositionStart:Pe,onCompositionEnd:xe,className:_?.textarea,style:be(be({},T?.textarea),{},{resize:w?.resize}),disabled:S,prefixCls:y,onResize:Le,ref:H}))});return K}),Dle=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Fle=g.forwardRef((t,e)=>{const{prefixCls:n,bordered:r=!0,size:i,disabled:o,status:a,allowClear:s,showCount:l,classNames:c,rootClassName:u,className:d}=t,f=Dle(t,["prefixCls","bordered","size","disabled","status","allowClear","showCount","classNames","rootClassName","className"]),{getPrefixCls:p,direction:y}=g.useContext(Wt),b=ra(i),x=g.useContext(Hd),v=o??x,{status:w,hasFeedback:S,feedbackIcon:C}=g.useContext(Wl),_=B5(w,a),T=g.useRef(null);g.useImperativeHandle(e,()=>{var L;return{resizableTextArea:(L=T.current)===null||L===void 0?void 0:L.resizableTextArea,focus:k=>{var H,D;dle((D=(H=T.current)===null||H===void 0?void 0:H.resizableTextArea)===null||D===void 0?void 0:D.textArea,k)},blur:()=>{var k;return(k=T.current)===null||k===void 0?void 0:k.blur()}}});const M=p("input",n);let I;typeof s=="object"&&s?.clearIcon?I=s:s&&(I={clearIcon:g.createElement(Xg,null)});const[R,P]=SC(M);return R(g.createElement(Lle,Object.assign({},f,{disabled:v,allowClear:I,className:ye(d,u),classes:{affixWrapper:ye(`${M}-textarea-affix-wrapper`,{[`${M}-affix-wrapper-rtl`]:y==="rtl",[`${M}-affix-wrapper-borderless`]:!r,[`${M}-affix-wrapper-sm`]:b==="small",[`${M}-affix-wrapper-lg`]:b==="large",[`${M}-textarea-show-count`]:l},Vs(`${M}-affix-wrapper`,_),P)},classNames:Object.assign(Object.assign({},c),{textarea:ye({[`${M}-borderless`]:!r,[`${M}-sm`]:b==="small",[`${M}-lg`]:b==="large"},Vs(M,_),P,c?.textarea)}),prefixCls:M,suffix:S&&g.createElement("span",{className:`${M}-textarea-suffix`},C),showCount:l,ref:T})))}),mk=Fle,i3=RC;i3.Group=lle;i3.Search=Tle;i3.TextArea=mk;i3.Password=Cle;const $le=i3,Ule=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,tP=t=>Ule.test(`#${t}`),kle=t=>{let{prefixCls:e,value:n,onChange:r}=t;const i=`${e}-hex-input`,[o,a]=g.useState(n?.toHex());g.useEffect(()=>{const l=n?.toHex();tP(l)&&n&&a(b2(l))},[n]);const s=l=>{const c=l.target.value;a(b2(c)),tP(b2(c,!0))&&r?.(eo(c))};return se.createElement($le,{className:i,value:o,prefix:"#",onChange:s,size:"small"})},Ble=kle,zle=t=>{let{prefixCls:e,value:n,onChange:r}=t;const i=`${e}-hsb-input`,[o,a]=g.useState(eo(n||"#000"));g.useEffect(()=>{n&&a(n)},[n]);const s=(l,c)=>{const u=o.toHsb();u[c]=c==="h"?l:(l||0)/100;const d=eo(u);n||a(d),r?.(d)};return se.createElement("div",{className:i},se.createElement(ud,{max:360,min:0,value:Number(o.toHsb().h),prefixCls:e,className:i,formatter:l=>w2(l||0).toString(),onChange:l=>s(Number(l),"h")}),se.createElement(ud,{max:100,min:0,value:Number(o.toHsb().s)*100,prefixCls:e,className:i,formatter:l=>`${w2(l||0)}%`,onChange:l=>s(Number(l),"s")}),se.createElement(ud,{max:100,min:0,value:Number(o.toHsb().b)*100,prefixCls:e,className:i,formatter:l=>`${w2(l||0)}%`,onChange:l=>s(Number(l),"b")}))},Hle=zle,Gle=t=>{let{prefixCls:e,value:n,onChange:r}=t;const i=`${e}-rgb-input`,[o,a]=g.useState(eo(n||"#000"));g.useEffect(()=>{n&&a(n)},[n]);const s=(l,c)=>{const u=o.toRgb();u[c]=l||0;const d=eo(u);n||a(d),r?.(d)};return se.createElement("div",{className:i},se.createElement(ud,{max:255,min:0,value:Number(o.toRgb().r),prefixCls:e,className:i,onChange:l=>s(Number(l),"r")}),se.createElement(ud,{max:255,min:0,value:Number(o.toRgb().g),prefixCls:e,className:i,onChange:l=>s(Number(l),"g")}),se.createElement(ud,{max:255,min:0,value:Number(o.toRgb().b),prefixCls:e,className:i,onChange:l=>s(Number(l),"b")}))},Vle=Gle,Wle=[Il.hex,Il.hsb,Il.rgb].map(t=>({value:t,label:t.toLocaleUpperCase()})),jle=t=>{const{prefixCls:e,format:n,value:r,disabledAlpha:i,onFormatChange:o,onChange:a}=t,[s,l]=kr(Il.hex,{value:n,onChange:o}),c=`${e}-input`,u=f=>{l(f)},d=g.useMemo(()=>{const f={value:r,prefixCls:e,onChange:a};switch(s){case Il.hsb:return se.createElement(Hle,Object.assign({},f));case Il.rgb:return se.createElement(Vle,Object.assign({},f));case Il.hex:default:return se.createElement(Ble,Object.assign({},f))}},[s,e,r,a]);return se.createElement("div",{className:`${c}-container`},se.createElement(Jg,{value:s,bordered:!1,getPopupContainer:f=>f,popupMatchSelectWidth:68,placement:"bottomRight",onChange:u,className:`${e}-format-select`,size:"small",options:Wle}),se.createElement("div",{className:c},d),!i&&se.createElement(ale,{prefixCls:e,value:r,onChange:a}))},Xle=jle;var qle=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Kle=()=>{const t=g.useContext(ik),{prefixCls:e,colorCleared:n,allowClear:r,value:i,disabledAlpha:o,onChange:a,onClear:s,onChangeComplete:l}=t,c=qle(t,["prefixCls","colorCleared","allowClear","value","disabledAlpha","onChange","onClear","onChangeComplete"]);return se.createElement(se.Fragment,null,r&&se.createElement(ak,Object.assign({prefixCls:e,value:i,colorCleared:n,onChange:u=>{a?.(u),s?.()}},c)),se.createElement(Ase,{prefixCls:e,value:i?.toHsb(),disabledAlpha:o,onChange:(u,d)=>a?.(u,d,!0),onChangeComplete:l}),se.createElement(Xle,Object.assign({value:i,onChange:a,prefixCls:e,disabledAlpha:o},c)))},nP=Kle,E8=t=>t.map(e=>(e.colors=e.colors.map(eo),e)),Yle=(t,e)=>{const{r:n,g:r,b:i,a:o}=t.toRgb(),a=new wy(t.toRgbString()).onBackground(e).toHsv();return o<=.5?a.v>.5:n*.299+r*.587+i*.114>192},Zle=t=>{let{prefixCls:e,presets:n,value:r,onChange:i}=t;const[o]=jg("ColorPicker"),[,a]=Fa(),[s]=kr(E8(n),{value:E8(n),postState:E8}),l=`${e}-presets`,c=g.useMemo(()=>s.map(f=>`panel-${f.label}`),[s]),u=f=>{i?.(f)},d=s.map(f=>{var p;return{key:`panel-${f.label}`,label:se.createElement("div",{className:`${l}-label`},f?.label),children:se.createElement("div",{className:`${l}-items`},Array.isArray(f?.colors)&&((p=f.colors)===null||p===void 0?void 0:p.length)>0?f.colors.map((y,b)=>se.createElement(EC,{key:`preset-${b}-${y.toHexString()}`,color:eo(y).toRgbString(),prefixCls:e,className:ye(`${l}-color`,{[`${l}-color-checked`]:y.toHexString()===r?.toHexString(),[`${l}-color-bright`]:Yle(y,a.colorBgElevated)}),onClick:()=>u(y)})):se.createElement("span",{className:`${l}-empty`},o.presetEmpty))}});return se.createElement("div",{className:l},se.createElement(pse,{defaultActiveKey:c,ghost:!0,items:d}))},Qle=Zle,Jle=()=>{const{prefixCls:t,value:e,presets:n,onChange:r}=g.useContext(ok);return Array.isArray(n)?se.createElement(Qle,{value:e,presets:n,prefixCls:t,onChange:r}):null},rP=Jle;var ece=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const tce=t=>{const{prefixCls:e,presets:n,panelRender:r,color:i,onChange:o,onClear:a}=t,s=ece(t,["prefixCls","presets","panelRender","color","onChange","onClear"]),l=`${e}-inner-content`,c=Object.assign({prefixCls:e,value:i,onChange:o,onClear:a},s),u=se.useMemo(()=>({prefixCls:e,value:i,presets:n,onChange:o}),[e,i,n,o]),d=se.createElement(se.Fragment,null,se.createElement(nP,null),Array.isArray(n)&&se.createElement(CC,{className:`${l}-divider`}),se.createElement(rP,null));return se.createElement(Pse,{value:c},se.createElement(Ise,{value:u},se.createElement("div",{className:l},typeof r=="function"?r(d,{components:{Picker:nP,Presets:rP}}):d)))},nce=tce;var rce=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const ice=g.forwardRef((t,e)=>{const{color:n,prefixCls:r,open:i,colorCleared:o,disabled:a,format:s,className:l,showText:c}=t,u=rce(t,["color","prefixCls","open","colorCleared","disabled","format","className","showText"]),d=`${r}-trigger`,f=g.useMemo(()=>o?se.createElement(ak,{prefixCls:r}):se.createElement(EC,{prefixCls:r,color:n.toRgbString()}),[n,o,r]),p=()=>{const b=n.toHexString().toUpperCase(),x=Cy(n);switch(s){case"rgb":return n.toRgbString();case"hsb":return n.toHsbString();case"hex":default:return x<100?`${b.slice(0,7)},${x}%`:b}},y=()=>{if(typeof c=="function")return c(n);if(c)return p()};return se.createElement("div",Object.assign({ref:e,className:ye(d,l,{[`${d}-active`]:i,[`${d}-disabled`]:a})},u),f,c&&se.createElement("div",{className:`${d}-text`},y()))}),oce=ice;function iP(t){return t!==void 0}const ace=(t,e)=>{const{defaultValue:n,value:r}=e,[i,o]=g.useState(()=>{let a;return iP(r)?a=r:iP(n)?a=n:a=t,eo(a||"")});return g.useEffect(()=>{r&&o(eo(r))},[r]),[i,o]},sce=ace,gk=(t,e)=>({backgroundImage:`conic-gradient(${e} 0 25%, transparent 0 50%, ${e} 0 75%, transparent 0)`,backgroundSize:`${t} ${t}`}),lce=(t,e)=>{const{componentCls:n,borderRadiusSM:r,colorPickerInsetShadow:i,lineWidth:o,colorFillSecondary:a}=t;return{[`${n}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:r,width:e,height:e,boxShadow:i},gk("50%",t.colorFillSecondary)),{[`${n}-color-block-inner`]:{width:"100%",height:"100%",border:`${o}px solid ${a}`,borderRadius:"inherit"}})}},oP=lce,cce=t=>{const{componentCls:e,antCls:n,fontSizeSM:r,lineHeightSM:i,colorPickerAlphaInputWidth:o,marginXXS:a,paddingXXS:s,controlHeightSM:l,marginXS:c,fontSizeIcon:u,paddingXS:d,colorTextPlaceholder:f,colorPickerInputNumberHandleWidth:p,lineWidth:y}=t;return{[`${e}-input-container`]:{display:"flex",[`${e}-steppers${n}-input-number`]:{fontSize:r,lineHeight:i,[`${n}-input-number-input`]:{paddingInlineStart:s,paddingInlineEnd:0},[`${n}-input-number-handler-wrap`]:{width:p}},[`${e}-steppers${e}-alpha-input`]:{flex:`0 0 ${o}px`,marginInlineStart:a},[`${e}-format-select${n}-select`]:{marginInlineEnd:c,width:"auto","&-single":{[`${n}-select-selector`]:{padding:0,border:0},[`${n}-select-arrow`]:{insetInlineEnd:0},[`${n}-select-selection-item`]:{paddingInlineEnd:u+a,fontSize:r,lineHeight:`${l}px`},[`${n}-select-item-option-content`]:{fontSize:r,lineHeight:i},[`${n}-select-dropdown`]:{[`${n}-select-item`]:{minHeight:"auto"}}}},[`${e}-input`]:{gap:a,alignItems:"center",flex:1,width:0,[`${e}-hsb-input,${e}-rgb-input`]:{display:"flex",gap:a,alignItems:"center"},[`${e}-steppers`]:{flex:1},[`${e}-hex-input${n}-input-affix-wrapper`]:{flex:1,padding:`0 ${d}px`,[`${n}-input`]:{fontSize:r,textTransform:"uppercase",lineHeight:`${l-2*y}px`},[`${n}-input-prefix`]:{color:f}}}}}},uce=cce,dce=t=>{const{componentCls:e,controlHeightLG:n,borderRadiusSM:r,colorPickerInsetShadow:i,marginSM:o,colorBgElevated:a,colorFillSecondary:s,lineWidthBold:l,colorPickerHandlerSize:c,colorPickerHandlerSizeSM:u,colorPickerSliderHeight:d}=t;return{[`${e}-select`]:{[`${e}-palette`]:{minHeight:n*4,overflow:"hidden",borderRadius:r},[`${e}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:i,inset:0},marginBottom:o},[`${e}-handler`]:{width:c,height:c,border:`${l}px solid ${a}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${i}, 0 0 0 1px ${s}`,"&-sm":{width:u,height:u}},[`${e}-slider`]:{borderRadius:d/2,[`${e}-palette`]:{height:d},[`${e}-gradient`]:{borderRadius:d/2,boxShadow:i},"&-alpha":gk(`${d}px`,t.colorFillSecondary),"&-hue":{marginBottom:o}},[`${e}-slider-container`]:{display:"flex",gap:o,marginBottom:o,[`${e}-slider-group`]:{flex:1,"&-disabled-alpha":{display:"flex",alignItems:"center",[`${e}-slider`]:{flex:1,marginBottom:0}}}}}},fce=dce,hce=t=>{const{componentCls:e,antCls:n,colorTextQuaternary:r,paddingXXS:i,colorPickerPresetColorSize:o,fontSizeSM:a,colorText:s,lineHeightSM:l,lineWidth:c,borderRadius:u,colorFill:d,colorWhite:f,marginXXS:p,paddingXS:y}=t;return{[`${e}-presets`]:{[`${n}-collapse-item > ${n}-collapse-header`]:{padding:0,[`${n}-collapse-expand-icon`]:{height:a*l,color:r,paddingInlineEnd:i}},[`${n}-collapse`]:{display:"flex",flexDirection:"column",gap:p},[`${n}-collapse-item > ${n}-collapse-content > ${n}-collapse-content-box`]:{padding:`${y}px 0`},"&-label":{fontSize:a,color:s,lineHeight:l},"&-items":{display:"flex",flexWrap:"wrap",gap:p*1.5,[`${e}-presets-color`]:{position:"relative",cursor:"pointer",width:o,height:o,"&::before":{content:'""',pointerEvents:"none",width:o+4*c,height:o+4*c,position:"absolute",top:-2*c,insetInlineStart:-2*c,borderRadius:u,border:`${c}px solid transparent`,transition:`border-color ${t.motionDurationMid} ${t.motionEaseInBack}`},"&:hover::before":{borderColor:d},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:o/13*5,height:o/13*8,border:`${t.lineWidthBold}px solid ${t.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${t.motionDurationFast} ${t.motionEaseInBack}, opacity ${t.motionDurationFast}`},[`&${e}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:f,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${t.motionDurationMid} ${t.motionEaseOutBack} ${t.motionDurationFast}`},[`&${e}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:a,color:r}}}},pce=hce,z7=t=>({boxShadow:`0 0 0 ${t.controlOutlineWidth}px ${t.controlOutline}`,borderInlineEndWidth:t.lineWidth,outline:0}),mce=t=>{const{componentCls:e}=t;return{"&-rtl":{[`${e}-presets-color`]:{"&::after":{direction:"ltr"}},[`${e}-clear`]:{"&::after":{direction:"ltr"}}}}},aP=(t,e,n)=>{const{componentCls:r,borderRadiusSM:i,lineWidth:o,colorSplit:a,red6:s}=t;return{[`${r}-clear`]:Object.assign(Object.assign({width:e,height:e,borderRadius:i,border:`${o}px solid ${a}`,position:"relative",cursor:"pointer",overflow:"hidden"},n),{"&::after":{content:'""',position:"absolute",insetInlineEnd:o,top:0,display:"block",width:40,height:2,transformOrigin:"right",transform:"rotate(-45deg)",backgroundColor:s}})}},gce=t=>{const{componentCls:e,colorError:n,colorWarning:r,colorErrorBorderHover:i,colorWarningBorderHover:o,colorErrorOutline:a,colorWarningOutline:s}=t;return{[`&${e}-status-error`]:{borderColor:n,"&:hover":{borderColor:i},[`&${e}-trigger-active`]:Object.assign({},z7(pn(t,{controlOutline:a})))},[`&${e}-status-warning`]:{borderColor:r,"&:hover":{borderColor:o},[`&${e}-trigger-active`]:Object.assign({},z7(pn(t,{controlOutline:s})))}}},vce=t=>{const{componentCls:e,controlHeightLG:n,controlHeightSM:r,controlHeight:i,controlHeightXS:o,borderRadius:a,borderRadiusSM:s,borderRadiusXS:l,borderRadiusLG:c,fontSizeLG:u}=t;return{[`&${e}-lg`]:{minWidth:n,height:n,borderRadius:c,[`${e}-color-block, ${e}-clear`]:{width:i,height:i,borderRadius:a},[`${e}-trigger-text`]:{fontSize:u}},[`&${e}-sm`]:{minWidth:r,height:r,borderRadius:s,[`${e}-color-block, ${e}-clear`]:{width:o,height:o,borderRadius:l}}}},yce=t=>{const{componentCls:e,colorPickerWidth:n,colorPrimary:r,motionDurationMid:i,colorBgElevated:o,colorTextDisabled:a,colorText:s,colorBgContainerDisabled:l,borderRadius:c,marginXS:u,marginSM:d,controlHeight:f,controlHeightSM:p,colorBgTextActive:y,colorPickerPresetColorSize:b,colorPickerPreviewSize:x,lineWidth:v,colorBorder:w,paddingXXS:S,fontSize:C}=t;return[{[e]:Object.assign({[`${e}-inner-content`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"flex",flexDirection:"column",width:n,"&-divider":{margin:`${d}px 0 ${u}px`},[`${e}-panel`]:Object.assign({},fce(t))},oP(t,x)),uce(t)),pce(t)),aP(t,b,{marginInlineStart:"auto",marginBottom:u})),"&-trigger":Object.assign(Object.assign(Object.assign(Object.assign({minWidth:f,height:f,borderRadius:c,border:`${v}px solid ${w}`,cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",transition:`all ${i}`,background:o,padding:S-v,[`${e}-trigger-text`]:{marginInlineStart:u,marginInlineEnd:u-(S-v),fontSize:C,color:s},"&-active":Object.assign(Object.assign({},z7(t)),{borderColor:r}),"&:hover":{borderColor:r},"&-disabled":{color:a,background:l,cursor:"not-allowed","&:hover":{borderColor:y},[`${e}-trigger-text`]:{color:a}}},aP(t,p)),oP(t,p)),gce(t)),vce(t))},mce(t))}]},xce=lr("ColorPicker",t=>{const{colorTextQuaternary:e,marginSM:n}=t,r=8,i=pn(t,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:18,colorPickerInsetShadow:`inset 0 0 1px 0 ${e}`,colorPickerSliderHeight:r,colorPickerPreviewSize:r*2+n});return[yce(i)]}),AC=t=>{const{value:e,defaultValue:n,format:r,defaultFormat:i,allowClear:o=!1,presets:a,children:s,trigger:l="click",open:c,disabled:u,placement:d="bottomLeft",arrow:f=!0,panelRender:p,showText:y,style:b,className:x,size:v,rootClassName:w,styles:S,disabledAlpha:C=!1,onFormatChange:_,onChange:T,onClear:M,onOpenChange:I,onChangeComplete:R,getPopupContainer:P,autoAdjustOverflow:L=!0,destroyTooltipOnHide:k}=t,{getPrefixCls:H,direction:D,colorPicker:G}=g.useContext(Wt),[,B]=Fa(),[$,O]=sce(B.colorPrimary,{value:e,defaultValue:n}),[z,V]=kr(!1,{value:c,postState:Je=>!u&&Je,onChange:I}),[F,W]=kr(r,{value:r,defaultValue:i,onChange:_}),[q,Z]=g.useState(!1),ee=H("color-picker",Ose),oe=g.useMemo(()=>Cy($)<100,[$]),{status:re}=se.useContext(Wl),ce=ra(v),[Se,Pe]=xce(ee),xe={[`${ee}-rtl`]:D},X=ye(w,xe),fe=ye(Vs(ee,re),{[`${ee}-sm`]:ce==="small",[`${ee}-lg`]:ce==="large"},G?.className,X,x,Pe),pe=ye(ee,xe),Ce=g.useRef(!0),me=(Je,K,j)=>{let ae=eo(Je);(q||(e===null||!e&&n===null))&&(Z(!1),Cy($)===0&&K!=="alpha"&&(ae=y8(ae))),C&&oe&&(ae=y8(ae)),j?Ce.current=!1:R?.(ae),O(ae),T?.(ae,ae.toHexString())},Ge=()=>{Z(!0),M?.()},ve=Je=>{Ce.current=!0;let K=eo(Je);C&&oe&&(K=y8(Je)),R?.(K)},Re={open:z,trigger:l,placement:d,arrow:f,rootClassName:w,getPopupContainer:P,autoAdjustOverflow:L,destroyTooltipOnHide:k},Ae={prefixCls:ee,color:$,allowClear:o,colorCleared:q,disabled:u,disabledAlpha:C,presets:a,panelRender:p,format:F,onFormatChange:W,onChangeComplete:ve},Le=Object.assign(Object.assign({},G?.style),b);return Se(se.createElement(Sre,Object.assign({style:S?.popup,overlayInnerStyle:S?.popupOverlayInner,onOpenChange:Je=>{Ce.current&&!u&&V(Je)},content:se.createElement(ag,{override:!0,status:!0},se.createElement(nce,Object.assign({},Ae,{onChange:me,onChangeComplete:ve,onClear:Ge}))),overlayClassName:pe},Re),s||se.createElement(oce,{open:z,className:fe,style:Le,color:e?eo(e):$,prefixCls:ee,disabled:u,colorCleared:q,showText:y,format:F})))},Sce=Qw(AC,"color-picker",t=>t,t=>Object.assign(Object.assign({},t),{placement:"bottom",autoAdjustOverflow:!1}));AC._InternalPanelDoNotUseOrYouWillBeFired=Sce;const sP=AC;function lP(t){return["small","middle","large"].includes(t)}function cP(t){return t?typeof t=="number"&&!Number.isNaN(t):!1}const vk=se.createContext({latestIndex:0}),bce=vk.Provider,wce=t=>{let{className:e,index:n,children:r,split:i,style:o}=t;const{latestIndex:a}=g.useContext(vk);return r==null?null:g.createElement(g.Fragment,null,g.createElement("div",{className:e,style:o},r),n<a&&i&&g.createElement("span",{className:`${e}-split`},i))},Cce=wce;var Ece=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const _ce=g.forwardRef((t,e)=>{var n,r;const{getPrefixCls:i,space:o,direction:a}=g.useContext(Wt),{size:s=o?.size||"small",align:l,className:c,rootClassName:u,children:d,direction:f="horizontal",prefixCls:p,split:y,style:b,wrap:x=!1,classNames:v,styles:w}=t,S=Ece(t,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[C,_]=Array.isArray(s)?s:[s,s],T=lP(_),M=lP(C),I=cP(_),R=cP(C),P=No(d,{keepEmpty:!0}),L=l===void 0&&f==="horizontal"?"center":l,k=i("space",p),[H,D]=T$(k),G=ye(k,o?.className,D,`${k}-${f}`,{[`${k}-rtl`]:a==="rtl",[`${k}-align-${L}`]:L,[`${k}-gap-row-${_}`]:T,[`${k}-gap-col-${C}`]:M},c,u),B=ye(`${k}-item`,(n=v?.item)!==null&&n!==void 0?n:(r=o?.classNames)===null||r===void 0?void 0:r.item);let $=0;const O=P.map((F,W)=>{var q,Z;F!=null&&($=W);const ee=F&&F.key||`${B}-${W}`;return g.createElement(Cce,{className:B,key:ee,index:W,split:y,style:(q=w?.item)!==null&&q!==void 0?q:(Z=o?.styles)===null||Z===void 0?void 0:Z.item},F)}),z=g.useMemo(()=>({latestIndex:$}),[$]);if(P.length===0)return null;const V={};return x&&(V.flexWrap="wrap"),!M&&R&&(V.columnGap=C),!T&&I&&(V.rowGap=_),H(g.createElement("div",Object.assign({ref:e,className:G,style:Object.assign(Object.assign(Object.assign({},V),o?.style),b)},S),g.createElement(bce,{value:z},O)))}),yk=_ce;yk.Compact=CQ;const cg=yk;var Tce=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const xk=t=>{const{getPopupContainer:e,getPrefixCls:n,direction:r}=g.useContext(Wt),{prefixCls:i,type:o="default",danger:a,disabled:s,loading:l,onClick:c,htmlType:u,children:d,className:f,menu:p,arrow:y,autoFocus:b,overlay:x,trigger:v,align:w,open:S,onOpenChange:C,placement:_,getPopupContainer:T,href:M,icon:I=g.createElement(pC,null),title:R,buttonsRender:P=Pe=>Pe,mouseEnterDelay:L,mouseLeaveDelay:k,overlayClassName:H,overlayStyle:D,destroyPopupOnHide:G,dropdownRender:B}=t,$=Tce(t,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),O=n("dropdown",i),z=`${O}-button`,[V,F]=$U(O),W={menu:p,arrow:y,autoFocus:b,align:w,disabled:s,trigger:s?[]:v,onOpenChange:C,getPopupContainer:T||e,mouseEnterDelay:L,mouseLeaveDelay:k,overlayClassName:H,overlayStyle:D,destroyPopupOnHide:G,dropdownRender:B},{compactSize:q,compactItemClassnames:Z}=Hp(O,r),ee=ye(z,Z,f,F);"overlay"in t&&(W.overlay=x),"open"in t&&(W.open=S),"placement"in t?W.placement=_:W.placement=r==="rtl"?"bottomLeft":"bottomRight";const oe=g.createElement(wa,{type:o,danger:a,disabled:s,loading:l,onClick:c,htmlType:u,href:M,title:R},d),re=g.createElement(wa,{type:o,danger:a,icon:I}),[ce,Se]=P([oe,re]);return V(g.createElement(cg.Compact,Object.assign({className:ee,size:q,block:!0},$),ce,g.createElement(UU,Object.assign({},W),Se)))};xk.__ANT_BUTTON=!0;const Mce=xk,Sk=UU;Sk.Button=Mce;const uP=Sk;var Rce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};const Ace=Rce;var Pce=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:Ace}))};const Ice=g.forwardRef(Pce);function Nce(){const t=Object.assign({},arguments.length<=0?void 0:arguments[0]);for(let e=1;e<arguments.length;e++){const n=e<0||arguments.length<=e?void 0:arguments[e];n&&Object.keys(n).forEach(r=>{const i=n[r];i!==void 0&&(t[r]=i)})}return t}var Oce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"};const Lce=Oce;var Dce=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:Lce}))};const H7=g.forwardRef(Dce);var Fce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"};const $ce=Fce;var Uce=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:$ce}))};const G7=g.forwardRef(Uce);var Uu={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40};const kce={items_per_page:"/",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5 ",next_5:" 5 ",prev_3:" 3 ",next_3:" 3 ",page_size:""};var bk=function(t){Qs(n,t);var e=Js(n);function n(){var r;ii(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),r.state={goInputText:""},r.getValidValue=function(){var s=r.state.goInputText;return!s||Number.isNaN(s)?void 0:Number(s)},r.buildOptionText=function(s){return"".concat(s," ").concat(r.props.locale.items_per_page)},r.changeSize=function(s){r.props.changeSize(Number(s))},r.handleChange=function(s){r.setState({goInputText:s.target.value})},r.handleBlur=function(s){var l=r.props,c=l.goButton,u=l.quickGo,d=l.rootPrefixCls,f=r.state.goInputText;c||f===""||(r.setState({goInputText:""}),!(s.relatedTarget&&(s.relatedTarget.className.indexOf("".concat(d,"-item-link"))>=0||s.relatedTarget.className.indexOf("".concat(d,"-item"))>=0))&&u(r.getValidValue()))},r.go=function(s){var l=r.state.goInputText;l!==""&&(s.keyCode===Uu.ENTER||s.type==="click")&&(r.setState({goInputText:""}),r.props.quickGo(r.getValidValue()))},r}return oi(n,[{key:"getPageSizeOptions",value:function(){var i=this.props,o=i.pageSize,a=i.pageSizeOptions;return a.some(function(s){return s.toString()===o.toString()})?a:a.concat([o.toString()]).sort(function(s,l){var c=Number.isNaN(Number(s))?0:Number(s),u=Number.isNaN(Number(l))?0:Number(l);return c-u})}},{key:"render",value:function(){var i=this,o=this.props,a=o.pageSize,s=o.locale,l=o.rootPrefixCls,c=o.changeSize,u=o.quickGo,d=o.goButton,f=o.selectComponentClass,p=o.buildOptionText,y=o.selectPrefixCls,b=o.disabled,x=this.state.goInputText,v="".concat(l,"-options"),w=f,S=null,C=null,_=null;if(!c&&!u)return null;var T=this.getPageSizeOptions();if(c&&w){var M=T.map(function(I,R){return se.createElement(w.Option,{key:R,value:I.toString()},(p||i.buildOptionText)(I))});S=se.createElement(w,{disabled:b,prefixCls:y,showSearch:!1,className:"".concat(v,"-size-changer"),optionLabelProp:"children",popupMatchSelectWidth:!1,value:(a||T[0]).toString(),onChange:this.changeSize,getPopupContainer:function(R){return R.parentNode},"aria-label":s.page_size,defaultOpen:!1},M)}return u&&(d&&(_=typeof d=="boolean"?se.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:b,className:"".concat(v,"-quick-jumper-button")},s.jump_to_confirm):se.createElement("span",{onClick:this.go,onKeyUp:this.go},d)),C=se.createElement("div",{className:"".concat(v,"-quick-jumper")},s.jump_to,se.createElement("input",{disabled:b,type:"text",value:x,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":s.page}),s.page,_)),se.createElement("li",{className:"".concat(v)},S,C)}}]),n}(se.Component);bk.defaultProps={pageSizeOptions:["10","20","50","100"]};var $0=function(e){var n,r=e.rootPrefixCls,i=e.page,o=e.active,a=e.className,s=e.showTitle,l=e.onClick,c=e.onKeyPress,u=e.itemRender,d="".concat(r,"-item"),f=ye(d,"".concat(d,"-").concat(i),(n={},ie(n,"".concat(d,"-active"),o),ie(n,"".concat(d,"-disabled"),!i),ie(n,e.className,a),n)),p=function(){l(i)},y=function(v){c(v,l,i)},b=u(i,"page",se.createElement("a",{rel:"nofollow"},i));return b?se.createElement("li",{title:s?i.toString():null,className:f,onClick:p,onKeyPress:y,tabIndex:0},b):null};function V7(){}function dP(t){var e=Number(t);return typeof e=="number"&&!Number.isNaN(e)&&isFinite(e)&&Math.floor(e)===e}var Bce=function(e,n,r){return r};function cc(t,e,n){var r=typeof t>"u"?e.pageSize:t;return Math.floor((n.total-1)/r)+1}var wk=function(t){Qs(n,t);var e=Js(n);function n(r){var i;ii(this,n),i=e.call(this,r),i.paginationNode=se.createRef(),i.getJumpPrevPage=function(){return Math.max(1,i.state.current-(i.props.showLessItems?3:5))},i.getJumpNextPage=function(){return Math.min(cc(void 0,i.state,i.props),i.state.current+(i.props.showLessItems?3:5))},i.getItemIcon=function(c,u){var d=i.props.prefixCls,f=c||se.createElement("button",{type:"button","aria-label":u,className:"".concat(d,"-item-link")});return typeof c=="function"&&(f=se.createElement(c,be({},i.props))),f},i.isValid=function(c){var u=i.props.total;return dP(c)&&c!==i.state.current&&dP(u)&&u>0},i.shouldDisplayQuickJumper=function(){var c=i.props,u=c.showQuickJumper,d=c.total,f=i.state.pageSize;return d<=f?!1:u},i.handleKeyDown=function(c){(c.keyCode===Uu.ARROW_UP||c.keyCode===Uu.ARROW_DOWN)&&c.preventDefault()},i.handleKeyUp=function(c){var u=i.getValidValue(c),d=i.state.currentInputValue;u!==d&&i.setState({currentInputValue:u}),c.keyCode===Uu.ENTER?i.handleChange(u):c.keyCode===Uu.ARROW_UP?i.handleChange(u-1):c.keyCode===Uu.ARROW_DOWN&&i.handleChange(u+1)},i.handleBlur=function(c){var u=i.getValidValue(c);i.handleChange(u)},i.changePageSize=function(c){var u=i.state.current,d=cc(c,i.state,i.props);u=u>d?d:u,d===0&&(u=i.state.current),typeof c=="number"&&("pageSize"in i.props||i.setState({pageSize:c}),"current"in i.props||i.setState({current:u,currentInputValue:u})),i.props.onShowSizeChange(u,c),"onChange"in i.props&&i.props.onChange&&i.props.onChange(u,c)},i.handleChange=function(c){var u=i.props,d=u.disabled,f=u.onChange,p=i.state,y=p.pageSize,b=p.current,x=p.currentInputValue;if(i.isValid(c)&&!d){var v=cc(void 0,i.state,i.props),w=c;return c>v?w=v:c<1&&(w=1),"current"in i.props||i.setState({current:w}),w!==x&&i.setState({currentInputValue:w}),f(w,y),w}return b},i.prev=function(){i.hasPrev()&&i.handleChange(i.state.current-1)},i.next=function(){i.hasNext()&&i.handleChange(i.state.current+1)},i.jumpPrev=function(){i.handleChange(i.getJumpPrevPage())},i.jumpNext=function(){i.handleChange(i.getJumpNextPage())},i.hasPrev=function(){return i.state.current>1},i.hasNext=function(){return i.state.current<cc(void 0,i.state,i.props)},i.runIfEnter=function(c,u){if(c.key==="Enter"||c.charCode===13){for(var d=arguments.length,f=new Array(d>2?d-2:0),p=2;p<d;p++)f[p-2]=arguments[p];u.apply(void 0,f)}},i.runIfEnterPrev=function(c){i.runIfEnter(c,i.prev)},i.runIfEnterNext=function(c){i.runIfEnter(c,i.next)},i.runIfEnterJumpPrev=function(c){i.runIfEnter(c,i.jumpPrev)},i.runIfEnterJumpNext=function(c){i.runIfEnter(c,i.jumpNext)},i.handleGoTO=function(c){(c.keyCode===Uu.ENTER||c.type==="click")&&i.handleChange(i.state.currentInputValue)},i.renderPrev=function(c){var u=i.props,d=u.prevIcon,f=u.itemRender,p=f(c,"prev",i.getItemIcon(d,"prev page")),y=!i.hasPrev();return g.isValidElement(p)?g.cloneElement(p,{disabled:y}):p},i.renderNext=function(c){var u=i.props,d=u.nextIcon,f=u.itemRender,p=f(c,"next",i.getItemIcon(d,"next page")),y=!i.hasNext();return g.isValidElement(p)?g.cloneElement(p,{disabled:y}):p};var o=r.onChange!==V7,a="current"in r;a&&!o&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var s=r.defaultCurrent;"current"in r&&(s=r.current);var l=r.defaultPageSize;return"pageSize"in r&&(l=r.pageSize),s=Math.min(s,cc(l,void 0,r)),i.state={current:s,currentInputValue:s,pageSize:l},i}return oi(n,[{key:"componentDidUpdate",value:function(i,o){var a=this.props.prefixCls;if(o.current!==this.state.current&&this.paginationNode.current){var s=this.paginationNode.current.querySelector(".".concat(a,"-item-").concat(o.current));if(s&&document.activeElement===s){var l;s==null||(l=s.blur)===null||l===void 0||l.call(s)}}}},{key:"getValidValue",value:function(i){var o=i.target.value,a=cc(void 0,this.state,this.props),s=this.state.currentInputValue,l;return o===""?l=o:Number.isNaN(Number(o))?l=s:o>=a?l=a:l=Number(o),l}},{key:"getShowSizeChanger",value:function(){var i=this.props,o=i.showSizeChanger,a=i.total,s=i.totalBoundaryShowSizeChanger;return typeof o<"u"?o:a>s}},{key:"render",value:function(){var i=this.props,o=i.prefixCls,a=i.className,s=i.style,l=i.disabled,c=i.hideOnSinglePage,u=i.total,d=i.locale,f=i.showQuickJumper,p=i.showLessItems,y=i.showTitle,b=i.showTotal,x=i.simple,v=i.itemRender,w=i.showPrevNextJumpers,S=i.jumpPrevIcon,C=i.jumpNextIcon,_=i.selectComponentClass,T=i.selectPrefixCls,M=i.pageSizeOptions,I=this.state,R=I.current,P=I.pageSize,L=I.currentInputValue;if(c===!0&&u<=P)return null;var k=cc(void 0,this.state,this.props),H=[],D=null,G=null,B=null,$=null,O=null,z=f&&f.goButton,V=p?1:2,F=R-1>0?R-1:0,W=R+1<k?R+1:k,q=ep(this.props,{aria:!0,data:!0}),Z=b&&se.createElement("li",{className:"".concat(o,"-total-text")},b(u,[u===0?0:(R-1)*P+1,R*P>u?u:R*P]));if(x){z&&(typeof z=="boolean"?O=se.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},d.jump_to_confirm):O=se.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},z),O=se.createElement("li",{title:y?"".concat(d.jump_to).concat(R,"/").concat(k):null,className:"".concat(o,"-simple-pager")},O));var ee=this.renderPrev(F);return se.createElement("ul",it({className:ye(o,"".concat(o,"-simple"),ie({},"".concat(o,"-disabled"),l),a),style:s,ref:this.paginationNode},q),Z,ee?se.createElement("li",{title:y?d.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:ye("".concat(o,"-prev"),ie({},"".concat(o,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},ee):null,se.createElement("li",{title:y?"".concat(R,"/").concat(k):null,className:"".concat(o,"-simple-pager")},se.createElement("input",{type:"text",value:L,disabled:l,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:3}),se.createElement("span",{className:"".concat(o,"-slash")},"/"),k),se.createElement("li",{title:y?d.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:ye("".concat(o,"-next"),ie({},"".concat(o,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(W)),O)}if(k<=3+V*2){var oe={locale:d,rootPrefixCls:o,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:y,itemRender:v};k||H.push(se.createElement($0,it({},oe,{key:"noPager",page:1,className:"".concat(o,"-item-disabled")})));for(var re=1;re<=k;re+=1){var ce=R===re;H.push(se.createElement($0,it({},oe,{key:re,page:re,active:ce})))}}else{var Se=p?d.prev_3:d.prev_5,Pe=p?d.next_3:d.next_5,xe=v(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(S,"prev page")),X=v(this.getJumpNextPage(),"jump-next",this.getItemIcon(C,"next page"));w&&(D=xe?se.createElement("li",{title:y?Se:null,key:"prev",onClick:this.jumpPrev,tabIndex:0,onKeyPress:this.runIfEnterJumpPrev,className:ye("".concat(o,"-jump-prev"),ie({},"".concat(o,"-jump-prev-custom-icon"),!!S))},xe):null,G=X?se.createElement("li",{title:y?Pe:null,key:"next",tabIndex:0,onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:ye("".concat(o,"-jump-next"),ie({},"".concat(o,"-jump-next-custom-icon"),!!C))},X):null),$=se.createElement($0,{locale:d,last:!0,rootPrefixCls:o,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:k,page:k,active:!1,showTitle:y,itemRender:v}),B=se.createElement($0,{locale:d,rootPrefixCls:o,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:y,itemRender:v});var fe=Math.max(1,R-V),pe=Math.min(R+V,k);R-1<=V&&(pe=1+V*2),k-R<=V&&(fe=k-V*2);for(var Ce=fe;Ce<=pe;Ce+=1){var me=R===Ce;H.push(se.createElement($0,{locale:d,rootPrefixCls:o,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:Ce,page:Ce,active:me,showTitle:y,itemRender:v}))}R-1>=V*2&&R!==1+2&&(H[0]=g.cloneElement(H[0],{className:"".concat(o,"-item-after-jump-prev")}),H.unshift(D)),k-R>=V*2&&R!==k-2&&(H[H.length-1]=g.cloneElement(H[H.length-1],{className:"".concat(o,"-item-before-jump-next")}),H.push(G)),fe!==1&&H.unshift(B),pe!==k&&H.push($)}var Ge=!this.hasPrev()||!k,ve=!this.hasNext()||!k,Re=this.renderPrev(F),Ae=this.renderNext(W);return se.createElement("ul",it({className:ye(o,a,ie({},"".concat(o,"-disabled"),l)),style:s,ref:this.paginationNode},q),Z,Re?se.createElement("li",{title:y?d.prev_page:null,onClick:this.prev,tabIndex:Ge?null:0,onKeyPress:this.runIfEnterPrev,className:ye("".concat(o,"-prev"),ie({},"".concat(o,"-disabled"),Ge)),"aria-disabled":Ge},Re):null,H,Ae?se.createElement("li",{title:y?d.next_page:null,onClick:this.next,tabIndex:ve?null:0,onKeyPress:this.runIfEnterNext,className:ye("".concat(o,"-next"),ie({},"".concat(o,"-disabled"),ve)),"aria-disabled":ve},Ae):null,se.createElement(bk,{disabled:l,locale:d,rootPrefixCls:o,selectComponentClass:_,selectPrefixCls:T,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:R,pageSize:P,pageSizeOptions:M,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:z}))}}],[{key:"getDerivedStateFromProps",value:function(i,o){var a={};if("current"in i&&(a.current=i.current,i.current!==o.current&&(a.currentInputValue=a.current)),"pageSize"in i&&i.pageSize!==o.pageSize){var s=o.current,l=cc(i.pageSize,o,i);s=s>l?l:s,"current"in i||(a.current=s,a.currentInputValue=s),a.pageSize=i.pageSize}return a}}]),n}(se.Component);wk.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:V7,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:V7,locale:kce,style:{},itemRender:Bce,totalBoundaryShowSizeChanger:50};const Ck=t=>g.createElement(Jg,Object.assign({},t,{showSearch:!0,size:"small"})),Ek=t=>g.createElement(Jg,Object.assign({},t,{showSearch:!0,size:"middle"}));Ck.Option=Jg.Option;Ek.Option=Jg.Option;const zce=t=>{const{componentCls:e}=t;return{[`${e}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}},[`&${e}-disabled`]:{cursor:"not-allowed",[`${e}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:t.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:t.colorBorder,backgroundColor:t.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:t.itemActiveBgDisabled},a:{color:t.itemActiveColorDisabled}}},[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${e}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${e}-simple-pager`]:{color:t.colorTextDisabled},[`${e}-jump-prev, ${e}-jump-next`]:{[`${e}-item-link-icon`]:{opacity:0},[`${e}-item-ellipsis`]:{opacity:1}}},[`&${e}-simple`]:{[`${e}-prev, ${e}-next`]:{[`&${e}-disabled ${e}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},Hce=t=>{const{componentCls:e}=t;return{[`&${e}-mini ${e}-total-text, &${e}-mini ${e}-simple-pager`]:{height:t.itemSizeSM,lineHeight:`${t.itemSizeSM}px`},[`&${e}-mini ${e}-item`]:{minWidth:t.itemSizeSM,height:t.itemSizeSM,margin:0,lineHeight:`${t.itemSizeSM-2}px`},[`&${e}-mini:not(${e}-disabled) ${e}-item:not(${e}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},[`&${e}-mini ${e}-prev, &${e}-mini ${e}-next`]:{minWidth:t.itemSizeSM,height:t.itemSizeSM,margin:0,lineHeight:`${t.itemSizeSM}px`},[`&${e}-mini:not(${e}-disabled)`]:{[`${e}-prev, ${e}-next`]:{[`&:hover ${e}-item-link`]:{backgroundColor:t.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:t.colorBgTextActive},[`&${e}-disabled:hover ${e}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${e}-mini ${e}-prev ${e}-item-link,
    &${e}-mini ${e}-next ${e}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:t.itemSizeSM,lineHeight:`${t.itemSizeSM}px`}},[`&${e}-mini ${e}-jump-prev, &${e}-mini ${e}-jump-next`]:{height:t.itemSizeSM,marginInlineEnd:0,lineHeight:`${t.itemSizeSM}px`},[`&${e}-mini ${e}-options`]:{marginInlineStart:t.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:t.miniOptionsSizeChangerTop},"&-quick-jumper":{height:t.itemSizeSM,lineHeight:`${t.itemSizeSM}px`,input:Object.assign(Object.assign({},vC(t)),{width:t.paginationMiniQuickJumperInputWidth,height:t.controlHeightSM})}}}},Gce=t=>{const{componentCls:e}=t;return{[`
    &${e}-simple ${e}-prev,
    &${e}-simple ${e}-next
    `]:{height:t.itemSizeSM,lineHeight:`${t.itemSizeSM}px`,verticalAlign:"top",[`${e}-item-link`]:{height:t.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive},"&::after":{height:t.itemSizeSM,lineHeight:`${t.itemSizeSM}px`}}},[`&${e}-simple ${e}-simple-pager`]:{display:"inline-block",height:t.itemSizeSM,marginInlineEnd:t.marginXS,input:{boxSizing:"border-box",height:"100%",marginInlineEnd:t.marginXS,padding:`0 ${t.paginationItemPaddingInline}px`,textAlign:"center",backgroundColor:t.itemInputBg,border:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadius,outline:"none",transition:`border-color ${t.motionDurationMid}`,color:"inherit","&:hover":{borderColor:t.colorPrimary},"&:focus":{borderColor:t.colorPrimaryHover,boxShadow:`${t.inputOutlineOffset}px 0 ${t.controlOutlineWidth}px ${t.controlOutline}`},"&[disabled]":{color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,cursor:"not-allowed"}}}}},Vce=t=>{const{componentCls:e}=t;return{[`${e}-jump-prev, ${e}-jump-next`]:{outline:0,[`${e}-item-container`]:{position:"relative",[`${e}-item-link-icon`]:{color:t.colorPrimary,fontSize:t.fontSizeSM,opacity:0,transition:`all ${t.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${e}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:t.colorTextDisabled,fontFamily:"Arial, Helvetica, sans-serif",letterSpacing:t.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:t.paginationEllipsisTextIndent,opacity:1,transition:`all ${t.motionDurationMid}`}},"&:hover":{[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}}},[`
    ${e}-prev,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{marginInlineEnd:t.marginXS},[`
    ${e}-prev,
    ${e}-next,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{display:"inline-block",minWidth:t.itemSize,height:t.itemSize,color:t.colorText,fontFamily:t.fontFamily,lineHeight:`${t.itemSize}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}`},[`${e}-prev, ${e}-next`]:{fontFamily:"Arial, Helvetica, sans-serif",outline:0,button:{color:t.colorText,cursor:"pointer",userSelect:"none"},[`${e}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:t.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${t.lineWidth}px ${t.lineType} transparent`,borderRadius:t.borderRadius,outline:"none",transition:`all ${t.motionDurationMid}`},[`&:hover ${e}-item-link`]:{backgroundColor:t.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:t.colorBgTextActive},[`&${e}-disabled:hover`]:{[`${e}-item-link`]:{backgroundColor:"transparent"}}},[`${e}-slash`]:{marginInlineEnd:t.paginationSlashMarginInlineEnd,marginInlineStart:t.paginationSlashMarginInlineStart},[`${e}-options`]:{display:"inline-block",marginInlineStart:t.margin,verticalAlign:"middle","&-size-changer.-select":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:t.controlHeight,marginInlineStart:t.marginXS,lineHeight:`${t.controlHeight}px`,verticalAlign:"top",input:Object.assign(Object.assign({},r3(t)),{width:t.controlHeightLG*1.25,height:t.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:t.marginXS,marginInlineEnd:t.marginXS})}}}},Wce=t=>{const{componentCls:e}=t;return{[`${e}-item`]:{display:"inline-block",minWidth:t.itemSize,height:t.itemSize,marginInlineEnd:t.marginXS,fontFamily:t.fontFamily,lineHeight:`${t.itemSize-2}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:"transparent",border:`${t.lineWidth}px ${t.lineType} transparent`,borderRadius:t.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${t.paginationItemPaddingInline}px`,color:t.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${e}-item-active)`]:{"&:hover":{transition:`all ${t.motionDurationMid}`,backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},"&-active":{fontWeight:t.fontWeightStrong,backgroundColor:t.itemActiveBg,borderColor:t.colorPrimary,a:{color:t.colorPrimary},"&:hover":{borderColor:t.colorPrimaryHover},"&:hover a":{color:t.colorPrimaryHover}}}}},jce=t=>{const{componentCls:e}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ir(t)),{"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${e}-total-text`]:{display:"inline-block",height:t.itemSize,marginInlineEnd:t.marginXS,lineHeight:`${t.itemSize-2}px`,verticalAlign:"middle"}}),Wce(t)),Vce(t)),Gce(t)),Hce(t)),zce(t)),{[`@media only screen and (max-width: ${t.screenLG}px)`]:{[`${e}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${t.screenSM}px)`]:{[`${e}-options`]:{display:"none"}}}),[`&${t.componentCls}-rtl`]:{direction:"rtl"}}},Xce=t=>{const{componentCls:e}=t;return{[`${e}${e}-disabled:not(${e}-mini)`]:{"&, &:hover":{[`${e}-item-link`]:{borderColor:t.colorBorder}},"&:focus-visible":{[`${e}-item-link`]:{borderColor:t.colorBorder}},[`${e}-item, ${e}-item-link`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,[`&:hover:not(${e}-item-active)`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,a:{color:t.colorTextDisabled}},[`&${e}-item-active`]:{backgroundColor:t.itemActiveBgDisabled}},[`${e}-prev, ${e}-next`]:{"&:hover button":{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,color:t.colorTextDisabled},[`${e}-item-link`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder}}},[`${e}:not(${e}-mini)`]:{[`${e}-prev, ${e}-next`]:{"&:hover button":{borderColor:t.colorPrimaryHover,backgroundColor:t.itemBg},[`${e}-item-link`]:{backgroundColor:t.itemLinkBg,borderColor:t.colorBorder},[`&:hover ${e}-item-link`]:{borderColor:t.colorPrimary,backgroundColor:t.itemBg,color:t.colorPrimary},[`&${e}-disabled`]:{[`${e}-item-link`]:{borderColor:t.colorBorder,color:t.colorTextDisabled}}},[`${e}-item`]:{backgroundColor:t.itemBg,border:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,[`&:hover:not(${e}-item-active)`]:{borderColor:t.colorPrimary,backgroundColor:t.itemBg,a:{color:t.colorPrimary}},"&-active":{borderColor:t.colorPrimary}}}}},qce=t=>{const{componentCls:e}=t;return{[`${e}:not(${e}-disabled)`]:{[`${e}-item`]:Object.assign({},Jh(t)),[`${e}-jump-prev, ${e}-jump-next`]:{"&:focus-visible":Object.assign({[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}},sy(t))},[`${e}-prev, ${e}-next`]:{[`&:focus-visible ${e}-item-link`]:Object.assign({},sy(t))}}}},Kce=lr("Pagination",t=>{const e=pn(t,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:t.marginXXS/2,paginationMiniQuickJumperInputWidth:t.controlHeightLG*1.1,paginationItemPaddingInline:t.marginXXS*1.5,paginationEllipsisLetterSpacing:t.marginXXS/2,paginationSlashMarginInlineStart:t.marginXXS,paginationSlashMarginInlineEnd:t.marginSM,paginationEllipsisTextIndent:"0.13em"},yC(t),xC(t));return[jce(e),qce(e),t.wireframe&&Xce(e)]},t=>({itemBg:t.colorBgContainer,itemSize:t.controlHeight,itemSizeSM:t.controlHeightSM,itemActiveBg:t.colorBgContainer,itemLinkBg:t.colorBgContainer,itemActiveColorDisabled:t.colorTextDisabled,itemActiveBgDisabled:t.controlItemBgActiveDisabled,itemInputBg:t.colorBgContainer,miniOptionsSizeChangerTop:0}));var Yce=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Zce=t=>{const{prefixCls:e,selectPrefixCls:n,className:r,rootClassName:i,style:o,size:a,locale:s,selectComponentClass:l,responsive:c,showSizeChanger:u}=t,d=Yce(t,["prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","selectComponentClass","responsive","showSizeChanger"]),{xs:f}=hU(c),{getPrefixCls:p,direction:y,pagination:b={}}=g.useContext(Wt),x=p("pagination",e),[v,w]=Kce(x),S=u??b.showSizeChanger,C=g.useMemo(()=>{const k=g.createElement("span",{className:`${x}-item-ellipsis`},""),H=g.createElement("button",{className:`${x}-item-link`,type:"button",tabIndex:-1},y==="rtl"?g.createElement(vy,null):g.createElement(RA,null)),D=g.createElement("button",{className:`${x}-item-link`,type:"button",tabIndex:-1},y==="rtl"?g.createElement(RA,null):g.createElement(vy,null)),G=g.createElement("a",{className:`${x}-item-link`},g.createElement("div",{className:`${x}-item-container`},y==="rtl"?g.createElement(G7,{className:`${x}-item-link-icon`}):g.createElement(H7,{className:`${x}-item-link-icon`}),k)),B=g.createElement("a",{className:`${x}-item-link`},g.createElement("div",{className:`${x}-item-container`},y==="rtl"?g.createElement(H7,{className:`${x}-item-link-icon`}):g.createElement(G7,{className:`${x}-item-link-icon`}),k));return{prevIcon:H,nextIcon:D,jumpPrevIcon:G,jumpNextIcon:B}},[y,x]),[_]=jg("Pagination",kF),T=Object.assign(Object.assign({},_),s),M=ra(a),I=M==="small"||!!(f&&!M&&c),R=p("select",n),P=ye({[`${x}-mini`]:I,[`${x}-rtl`]:y==="rtl"},b?.className,r,i,w),L=Object.assign(Object.assign({},b?.style),o);return v(g.createElement(wk,Object.assign({},C,d,{style:L,prefixCls:x,selectPrefixCls:R,className:P,selectComponentClass:l||(I?Ck:Ek),locale:T,showSizeChanger:S})))},Qce=Zce,Jce=new Mn("antSpinMove",{to:{opacity:1}}),eue=new Mn("antRotate",{to:{transform:"rotate(405deg)"}}),tue=t=>({[`${t.componentCls}`]:Object.assign(Object.assign({},Ir(t)),{position:"absolute",display:"none",color:t.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${t.motionDurationSlow} ${t.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":{position:"relative",[`> div > ${t.componentCls}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:t.contentHeight,[`${t.componentCls}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-t.dotSize/2},[`${t.componentCls}-text`]:{position:"absolute",top:"50%",width:"100%",paddingTop:(t.dotSize-t.fontSize)/2+2,textShadow:`0 1px 2px ${t.colorBgContainer}`,fontSize:t.fontSize},[`&${t.componentCls}-show-text ${t.componentCls}-dot`]:{marginTop:-(t.dotSize/2)-10},"&-sm":{[`${t.componentCls}-dot`]:{margin:-t.dotSizeSM/2},[`${t.componentCls}-text`]:{paddingTop:(t.dotSizeSM-t.fontSize)/2+2},[`&${t.componentCls}-show-text ${t.componentCls}-dot`]:{marginTop:-(t.dotSizeSM/2)-10}},"&-lg":{[`${t.componentCls}-dot`]:{margin:-(t.dotSizeLG/2)},[`${t.componentCls}-text`]:{paddingTop:(t.dotSizeLG-t.fontSize)/2+2},[`&${t.componentCls}-show-text ${t.componentCls}-dot`]:{marginTop:-(t.dotSizeLG/2)-10}}},[`${t.componentCls}-container`]:{position:"relative",transition:`opacity ${t.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:t.colorBgContainer,opacity:0,transition:`all ${t.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${t.componentCls}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:t.spinDotDefault},[`${t.componentCls}-dot`]:{position:"relative",display:"inline-block",fontSize:t.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(t.dotSize-t.marginXXS/2)/2,height:(t.dotSize-t.marginXXS/2)/2,backgroundColor:t.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:Jce,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:eue,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${t.componentCls}-dot`]:{fontSize:t.dotSizeSM,i:{width:(t.dotSizeSM-t.marginXXS/2)/2,height:(t.dotSizeSM-t.marginXXS/2)/2}},[`&-lg ${t.componentCls}-dot`]:{fontSize:t.dotSizeLG,i:{width:(t.dotSizeLG-t.marginXXS)/2,height:(t.dotSizeLG-t.marginXXS)/2}},[`&${t.componentCls}-show-text ${t.componentCls}-text`]:{display:"block"}})}),nue=lr("Spin",t=>{const e=pn(t,{spinDotDefault:t.colorTextDescription});return[tue(e)]},t=>({contentHeight:400,dotSize:t.controlHeightLG/2,dotSizeSM:t.controlHeightLG*.35,dotSizeLG:t.controlHeight}));var rue=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};let E2=null;function iue(t,e){const{indicator:n}=e,r=`${t}-dot`;return n===null?null:La(n)?_i(n,{className:ye(n.props.className,r)}):La(E2)?_i(E2,{className:ye(E2.props.className,r)}):g.createElement("span",{className:ye(r,`${t}-dot-spin`)},g.createElement("i",{className:`${t}-dot-item`,key:1}),g.createElement("i",{className:`${t}-dot-item`,key:2}),g.createElement("i",{className:`${t}-dot-item`,key:3}),g.createElement("i",{className:`${t}-dot-item`,key:4}))}function oue(t,e){return!!t&&!!e&&!isNaN(Number(e))}const aue=t=>{const{spinPrefixCls:e,spinning:n=!0,delay:r=0,className:i,rootClassName:o,size:a="default",tip:s,wrapperClassName:l,style:c,children:u,hashId:d}=t,f=rue(t,["spinPrefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","hashId"]),[p,y]=g.useState(()=>n&&!oue(n,r));g.useEffect(()=>{if(n){const M=kae(r,()=>{y(!0)});return M(),()=>{var I;(I=M?.cancel)===null||I===void 0||I.call(M)}}y(!1)},[r,n]);const b=g.useMemo(()=>typeof u<"u",[u]),{direction:x,spin:v}=g.useContext(Wt),w=ye(e,v?.className,{[`${e}-sm`]:a==="small",[`${e}-lg`]:a==="large",[`${e}-spinning`]:p,[`${e}-show-text`]:!!s,[`${e}-rtl`]:x==="rtl"},i,o,d),S=ye(`${e}-container`,{[`${e}-blur`]:p}),C=Yr(f,["indicator","prefixCls"]),_=Object.assign(Object.assign({},v?.style),c),T=g.createElement("div",Object.assign({},C,{style:_,className:w,"aria-live":"polite","aria-busy":p}),iue(e,t),s&&b?g.createElement("div",{className:`${e}-text`},s):null);return b?g.createElement("div",Object.assign({},C,{className:ye(`${e}-nested-loading`,l,d)}),p&&g.createElement("div",{key:"loading"},T),g.createElement("div",{className:S,key:"container"},u)):T},_k=t=>{const{prefixCls:e}=t,{getPrefixCls:n}=g.useContext(Wt),r=n("spin",e),[i,o]=nue(r),a=Object.assign(Object.assign({},t),{spinPrefixCls:r,hashId:o});return i(g.createElement(aue,Object.assign({},a)))};_k.setDefaultIndicator=t=>{E2=t};const sue=_k,PC=se.createContext({});PC.Consumer;var Tk=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const lue=t=>{var{prefixCls:e,className:n,avatar:r,title:i,description:o}=t,a=Tk(t,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:s}=g.useContext(Wt),l=s("list",e),c=ye(`${l}-item-meta`,n),u=se.createElement("div",{className:`${l}-item-meta-content`},i&&se.createElement("h4",{className:`${l}-item-meta-title`},i),o&&se.createElement("div",{className:`${l}-item-meta-description`},o));return se.createElement("div",Object.assign({},a,{className:c}),r&&se.createElement("div",{className:`${l}-item-meta-avatar`},r),(i||o)&&u)},cue=(t,e)=>{var{prefixCls:n,children:r,actions:i,extra:o,className:a,colStyle:s}=t,l=Tk(t,["prefixCls","children","actions","extra","className","colStyle"]);const{grid:c,itemLayout:u}=g.useContext(PC),{getPrefixCls:d}=g.useContext(Wt),f=()=>{let w;return g.Children.forEach(r,S=>{typeof S=="string"&&(w=!0)}),w&&g.Children.count(r)>1},p=()=>u==="vertical"?!!o:!f(),y=d("list",n),b=i&&i.length>0&&se.createElement("ul",{className:`${y}-item-action`,key:"actions"},i.map((w,S)=>se.createElement("li",{key:`${y}-item-action-${S}`},w,S!==i.length-1&&se.createElement("em",{className:`${y}-item-action-split`})))),x=c?"div":"li",v=se.createElement(x,Object.assign({},l,c?{}:{ref:e},{className:ye(`${y}-item`,{[`${y}-item-no-flex`]:!p()},a)}),u==="vertical"&&o?[se.createElement("div",{className:`${y}-item-main`,key:"content"},r,b),se.createElement("div",{className:`${y}-item-extra`,key:"extra"},o)]:[r,b,_i(o,{key:"extra"})]);return c?se.createElement(Qa,{ref:e,flex:1,style:s},v):v},Mk=g.forwardRef(cue);Mk.Meta=lue;const uue=Mk,due=t=>{const{listBorderedCls:e,componentCls:n,paddingLG:r,margin:i,itemPaddingSM:o,itemPaddingLG:a,marginLG:s,borderRadiusLG:l}=t;return{[`${e}`]:{border:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,borderRadius:l,[`${n}-header,${n}-footer,${n}-item`]:{paddingInline:r},[`${n}-pagination`]:{margin:`${i}px ${s}px`}},[`${e}${n}-sm`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:o}},[`${e}${n}-lg`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:a}}}},fue=t=>{const{componentCls:e,screenSM:n,screenMD:r,marginLG:i,marginSM:o,margin:a}=t;return{[`@media screen and (max-width:${r})`]:{[`${e}`]:{[`${e}-item`]:{[`${e}-item-action`]:{marginInlineStart:i}}},[`${e}-vertical`]:{[`${e}-item`]:{[`${e}-item-extra`]:{marginInlineStart:i}}}},[`@media screen and (max-width: ${n})`]:{[`${e}`]:{[`${e}-item`]:{flexWrap:"wrap",[`${e}-action`]:{marginInlineStart:o}}},[`${e}-vertical`]:{[`${e}-item`]:{flexWrap:"wrap-reverse",[`${e}-item-main`]:{minWidth:t.contentWidth},[`${e}-item-extra`]:{margin:`auto auto ${a}px`}}}}}},hue=t=>{const{componentCls:e,antCls:n,controlHeight:r,minHeight:i,paddingSM:o,marginLG:a,padding:s,itemPadding:l,colorPrimary:c,itemPaddingSM:u,itemPaddingLG:d,paddingXS:f,margin:p,colorText:y,colorTextDescription:b,motionDurationSlow:x,lineWidth:v,headerBg:w,footerBg:S,emptyTextPadding:C,metaMarginBottom:_,avatarMarginRight:T,titleMarginBottom:M,descriptionFontSize:I}=t,R={};return["start","center","end"].forEach(P=>{R[`&-align-${P}`]={textAlign:P}}),{[`${e}`]:Object.assign(Object.assign({},Ir(t)),{position:"relative","*":{outline:"none"},[`${e}-header`]:{background:w},[`${e}-footer`]:{background:S},[`${e}-header, ${e}-footer`]:{paddingBlock:o},[`${e}-pagination`]:Object.assign(Object.assign({marginBlockStart:a},R),{[`${n}-pagination-options`]:{textAlign:"start"}}),[`${e}-spin`]:{minHeight:i,textAlign:"center"},[`${e}-items`]:{margin:0,padding:0,listStyle:"none"},[`${e}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:l,color:y,[`${e}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${e}-item-meta-avatar`]:{marginInlineEnd:T},[`${e}-item-meta-content`]:{flex:"1 0",width:0,color:y},[`${e}-item-meta-title`]:{margin:`0 0 ${t.marginXXS}px 0`,color:y,fontSize:t.fontSize,lineHeight:t.lineHeight,"> a":{color:y,transition:`all ${x}`,"&:hover":{color:c}}},[`${e}-item-meta-description`]:{color:b,fontSize:I,lineHeight:t.lineHeight}},[`${e}-item-action`]:{flex:"0 0 auto",marginInlineStart:t.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${f}px`,color:b,fontSize:t.fontSize,lineHeight:t.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${e}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:v,height:Math.ceil(t.fontSize*t.lineHeight)-t.marginXXS*2,transform:"translateY(-50%)",backgroundColor:t.colorSplit}}},[`${e}-empty`]:{padding:`${s}px 0`,color:b,fontSize:t.fontSizeSM,textAlign:"center"},[`${e}-empty-text`]:{padding:C,color:t.colorTextDisabled,fontSize:t.fontSize,textAlign:"center"},[`${e}-item-no-flex`]:{display:"block"}}),[`${e}-grid ${n}-col > ${e}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:p,paddingBlock:0,borderBlockEnd:"none"},[`${e}-vertical ${e}-item`]:{alignItems:"initial",[`${e}-item-main`]:{display:"block",flex:1},[`${e}-item-extra`]:{marginInlineStart:a},[`${e}-item-meta`]:{marginBlockEnd:_,[`${e}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:M,color:y,fontSize:t.fontSizeLG,lineHeight:t.lineHeightLG}},[`${e}-item-action`]:{marginBlockStart:s,marginInlineStart:"auto","> li":{padding:`0 ${s}px`,"&:first-child":{paddingInlineStart:0}}}},[`${e}-split ${e}-item`]:{borderBlockEnd:`${t.lineWidth}px ${t.lineType} ${t.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${e}-split ${e}-header`]:{borderBlockEnd:`${t.lineWidth}px ${t.lineType} ${t.colorSplit}`},[`${e}-split${e}-empty ${e}-footer`]:{borderTop:`${t.lineWidth}px ${t.lineType} ${t.colorSplit}`},[`${e}-loading ${e}-spin-nested-loading`]:{minHeight:r},[`${e}-split${e}-something-after-last-item ${n}-spin-container > ${e}-items > ${e}-item:last-child`]:{borderBlockEnd:`${t.lineWidth}px ${t.lineType} ${t.colorSplit}`},[`${e}-lg ${e}-item`]:{padding:d},[`${e}-sm ${e}-item`]:{padding:u},[`${e}:not(${e}-vertical)`]:{[`${e}-item-no-flex`]:{[`${e}-item-action`]:{float:"right"}}}}},pue=lr("List",t=>{const e=pn(t,{listBorderedCls:`${t.componentCls}-bordered`,minHeight:t.controlHeightLG});return[hue(e),due(e),fue(e)]},t=>({contentWidth:220,itemPadding:`${t.paddingContentVertical}px 0`,itemPaddingSM:`${t.paddingContentVerticalSM}px ${t.paddingContentHorizontal}px`,itemPaddingLG:`${t.paddingContentVerticalLG}px ${t.paddingContentHorizontalLG}px`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:t.padding,metaMarginBottom:t.padding,avatarMarginRight:t.padding,titleMarginBottom:t.paddingSM,descriptionFontSize:t.fontSize}));var mue=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function W7(t){var e,{pagination:n=!1,prefixCls:r,bordered:i=!1,split:o=!0,className:a,rootClassName:s,style:l,children:c,itemLayout:u,loadMore:d,grid:f,dataSource:p=[],size:y,header:b,footer:x,loading:v=!1,rowKey:w,renderItem:S,locale:C}=t,_=mue(t,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]);const T=n&&typeof n=="object"?n:{},[M,I]=g.useState(T.defaultCurrent||1),[R,P]=g.useState(T.defaultPageSize||10),{getPrefixCls:L,renderEmpty:k,direction:H,list:D}=g.useContext(Wt),G={current:1,total:0},B=Ae=>(Le,Je)=>{var K;I(Le),P(Je),n&&n[Ae]&&((K=n?.[Ae])===null||K===void 0||K.call(n,Le,Je))},$=B("onChange"),O=B("onShowSizeChange"),z=(Ae,Le)=>{if(!S)return null;let Je;return typeof w=="function"?Je=w(Ae):w?Je=Ae[w]:Je=Ae.key,Je||(Je=`list-item-${Le}`),g.createElement(g.Fragment,{key:Je},S(Ae,Le))},V=()=>!!(d||n||x),F=L("list",r),[W,q]=pue(F);let Z=v;typeof Z=="boolean"&&(Z={spinning:Z});const ee=Z&&Z.spinning,oe=ra(y);let re="";switch(oe){case"large":re="lg";break;case"small":re="sm";break}const ce=ye(F,{[`${F}-vertical`]:u==="vertical",[`${F}-${re}`]:re,[`${F}-split`]:o,[`${F}-bordered`]:i,[`${F}-loading`]:ee,[`${F}-grid`]:!!f,[`${F}-something-after-last-item`]:V(),[`${F}-rtl`]:H==="rtl"},D?.className,a,s,q),Se=Nce(G,{total:p.length,current:M,pageSize:R},n||{}),Pe=Math.ceil(Se.total/Se.pageSize);Se.current>Pe&&(Se.current=Pe);const xe=n?g.createElement("div",{className:ye(`${F}-pagination`,`${F}-pagination-align-${(e=Se?.align)!==null&&e!==void 0?e:"end"}`)},g.createElement(Qce,Object.assign({},Se,{onChange:$,onShowSizeChange:O}))):null;let X=mt(p);n&&p.length>(Se.current-1)*Se.pageSize&&(X=mt(p).splice((Se.current-1)*Se.pageSize,Se.pageSize));const fe=Object.keys(f||{}).some(Ae=>["xs","sm","md","lg","xl","xxl"].includes(Ae)),pe=hU(fe),Ce=g.useMemo(()=>{for(let Ae=0;Ae<Td.length;Ae+=1){const Le=Td[Ae];if(pe[Le])return Le}},[pe]),me=g.useMemo(()=>{if(!f)return;const Ae=Ce&&f[Ce]?f[Ce]:f.column;if(Ae)return{width:`${100/Ae}%`,maxWidth:`${100/Ae}%`}},[f?.column,Ce]);let Ge=ee&&g.createElement("div",{style:{minHeight:53}});if(X.length>0){const Ae=X.map((Le,Je)=>z(Le,Je));Ge=f?g.createElement(Tl,{gutter:f.gutter},g.Children.map(Ae,Le=>g.createElement("div",{key:Le?.key,style:me},Le))):g.createElement("ul",{className:`${F}-items`},Ae)}else!c&&!ee&&(Ge=g.createElement("div",{className:`${F}-empty-text`},C&&C.emptyText||k?.("List")||g.createElement(sU,{componentName:"List"})));const ve=Se.position||"bottom",Re=g.useMemo(()=>({grid:f,itemLayout:u}),[JSON.stringify(f),u]);return W(g.createElement(PC.Provider,{value:Re},g.createElement("div",Object.assign({style:Object.assign(Object.assign({},D?.style),l),className:ce},_),(ve==="top"||ve==="both")&&xe,b&&g.createElement("div",{className:`${F}-header`},b),g.createElement(sue,Object.assign({},Z),Ge,c),x&&g.createElement("div",{className:`${F}-footer`},x),d||(ve==="bottom"||ve==="both")&&xe)))}W7.Item=uue;let ya=null,Qu=t=>t(),ug=[],Ey={};function fP(){const{prefixCls:t,getContainer:e,duration:n,rtl:r,maxCount:i,top:o}=Ey,a=t??f$().getPrefixCls("message"),s=e?.()||document.body;return{prefixCls:a,getContainer:()=>s,duration:n,rtl:r,maxCount:i,top:o}}const gue=g.forwardRef((t,e)=>{const[n,r]=g.useState(fP),[i,o]=C$(n),a=f$(),s=a.getRootPrefixCls(),l=a.getIconPrefixCls(),c=a.getTheme(),u=()=>{r(fP)};return g.useEffect(u,[]),g.useImperativeHandle(e,()=>{const d=Object.assign({},i);return Object.keys(d).forEach(f=>{d[f]=function(){return u(),i[f].apply(i,arguments)}}),{instance:d,sync:u}}),g.createElement(au,{prefixCls:s,iconPrefixCls:l,theme:c},o)});function K5(){if(!ya){const t=document.createDocumentFragment(),e={fragment:t};ya=e,Qu(()=>{E$(g.createElement(gue,{ref:n=>{const{instance:r,sync:i}=n||{};Promise.resolve().then(()=>{!e.instance&&r&&(e.instance=r,e.sync=i,K5())})}}),t)});return}ya.instance&&(ug.forEach(t=>{const{type:e,skipped:n}=t;if(!n)switch(e){case"open":{Qu(()=>{const r=ya.instance.open(Object.assign(Object.assign({},Ey),t.config));r?.then(t.resolve),t.setCloseFn(r)});break}case"destroy":Qu(()=>{ya?.instance.destroy(t.key)});break;default:Qu(()=>{var r;const i=(r=ya.instance)[e].apply(r,mt(t.args));i?.then(t.resolve),t.setCloseFn(i)})}}),ug=[])}function vue(t){Ey=Object.assign(Object.assign({},Ey),t),Qu(()=>{var e;(e=ya?.sync)===null||e===void 0||e.call(ya)})}function yue(t){const e=Bw(n=>{let r;const i={type:"open",config:t,resolve:n,setCloseFn:o=>{r=o}};return ug.push(i),()=>{r?Qu(()=>{r()}):i.skipped=!0}});return K5(),e}function xue(t,e){const n=Bw(r=>{let i;const o={type:t,args:e,resolve:r,setCloseFn:a=>{i=a}};return ug.push(o),()=>{i?Qu(()=>{i()}):o.skipped=!0}});return K5(),n}function Sue(t){ug.push({type:"destroy",key:t}),K5()}const bue=["success","info","warning","error","loading"],wue={open:yue,destroy:Sue,config:vue,useMessage:KZ,_InternalPanelDoNotUseOrYouWillBeFired:zZ},Rk=wue;bue.forEach(t=>{Rk[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xue(t,n)}});const Cue=Rk;var Eue={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},_ue=function(){var e=g.useRef([]),n=g.useRef(null);return g.useEffect(function(){var r=Date.now(),i=!1;e.current.forEach(function(o){if(o){i=!0;var a=o.style;a.transitionDuration=".3s, .3s, .3s, .06s",n.current&&r-n.current<100&&(a.transitionDuration="0s, 0s")}}),i&&(n.current=Date.now())}),e.current},hP=0,Tue=$i();function Mue(){var t;return Tue?(t=hP,hP+=1):t="TEST_OR_SSR",t}const Rue=function(t){var e=g.useState(),n=Ne(e,2),r=n[0],i=n[1];return g.useEffect(function(){i("rc_progress_".concat(Mue()))},[]),t||r};var pP=function(e){var n=e.bg,r=e.children;return g.createElement("div",{style:{width:"100%",height:"100%",background:n}},r)};function mP(t,e){return Object.keys(t).map(function(n){var r=parseFloat(n),i="".concat(Math.floor(r*e),"%");return"".concat(t[n]," ").concat(i)})}var Aue=g.forwardRef(function(t,e){var n=t.prefixCls,r=t.color,i=t.gradientId,o=t.radius,a=t.style,s=t.ptg,l=t.strokeLinecap,c=t.strokeWidth,u=t.size,d=t.gapDegree,f=r&&Xt(r)==="object",p=f?"#FFF":void 0,y=u/2,b=g.createElement("circle",{className:"".concat(n,"-circle-path"),r:o,cx:y,cy:y,stroke:p,strokeLinecap:l,strokeWidth:c,opacity:s===0?0:1,style:a,ref:e});if(!f)return b;var x="".concat(i,"-conic"),v=d?"".concat(180+d/2,"deg"):"0deg",w=mP(r,(360-d)/360),S=mP(r,1),C="conic-gradient(from ".concat(v,", ").concat(w.join(", "),")"),_="linear-gradient(to ".concat(d?"bottom":"top",", ").concat(S.join(", "),")");return g.createElement(g.Fragment,null,g.createElement("mask",{id:x},b),g.createElement("foreignObject",{x:0,y:0,width:u,height:u,mask:"url(#".concat(x,")")},g.createElement(pP,{bg:_},g.createElement(pP,{bg:C}))))}),sm=100,_8=function(e,n,r,i,o,a,s,l,c,u){var d=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,f=r/100*360*((360-a)/360),p=a===0?0:{bottom:0,top:180,left:90,right:-90}[s],y=(100-i)/100*n;c==="round"&&i!==100&&(y+=u/2,y>=n&&(y=n-.01));var b=sm/2;return{stroke:typeof l=="string"?l:void 0,strokeDasharray:"".concat(n,"px ").concat(e),strokeDashoffset:y+d,transform:"rotate(".concat(o+f+p,"deg)"),transformOrigin:"".concat(b,"px ").concat(b,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},Pue=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function gP(t){var e=t??[];return Array.isArray(e)?e:[e]}var Iue=function(e){var n=be(be({},Eue),e),r=n.id,i=n.prefixCls,o=n.steps,a=n.strokeWidth,s=n.trailWidth,l=n.gapDegree,c=l===void 0?0:l,u=n.gapPosition,d=n.trailColor,f=n.strokeLinecap,p=n.style,y=n.className,b=n.strokeColor,x=n.percent,v=Yt(n,Pue),w=sm/2,S=Rue(r),C="".concat(S,"-gradient"),_=w-a/2,T=Math.PI*2*_,M=c>0?90+c/2:-90,I=T*((360-c)/360),R=Xt(o)==="object"?o:{count:o,space:2},P=R.count,L=R.space,k=gP(x),H=gP(b),D=H.find(function(F){return F&&Xt(F)==="object"}),G=D&&Xt(D)==="object",B=G?"butt":f,$=_8(T,I,0,100,M,c,u,d,B,a),O=_ue(),z=function(){var W=0;return k.map(function(q,Z){var ee=H[Z]||H[H.length-1],oe=_8(T,I,W,q,M,c,u,ee,B,a);return W+=q,g.createElement(Aue,{key:Z,color:ee,ptg:q,radius:_,prefixCls:i,gradientId:C,style:oe,strokeLinecap:B,strokeWidth:a,gapDegree:c,ref:function(ce){O[Z]=ce},size:sm})}).reverse()},V=function(){var W=Math.round(P*(k[0]/100)),q=100/P,Z=0;return new Array(P).fill(null).map(function(ee,oe){var re=oe<=W-1?H[0]:d,ce=re&&Xt(re)==="object"?"url(#".concat(C,")"):void 0,Se=_8(T,I,Z,q,M,c,u,re,"butt",a,L);return Z+=(I-Se.strokeDashoffset+L)*100/I,g.createElement("circle",{key:oe,className:"".concat(i,"-circle-path"),r:_,cx:w,cy:w,stroke:ce,strokeWidth:a,opacity:1,style:Se,ref:function(xe){O[oe]=xe}})})};return g.createElement("svg",it({className:ye("".concat(i,"-circle"),y),viewBox:"0 0 ".concat(sm," ").concat(sm),style:p,id:r,role:"presentation"},v),!P&&g.createElement("circle",{className:"".concat(i,"-circle-trail"),r:_,cx:w,cy:w,stroke:d,strokeLinecap:B,strokeWidth:s||a,style:$}),P?V():z())};function dd(t){return!t||t<0?0:t>100?100:t}function _y(t){let{success:e,successPercent:n}=t,r=n;return e&&"progress"in e&&(r=e.progress),e&&"percent"in e&&(r=e.percent),r}const Nue=t=>{let{percent:e,success:n,successPercent:r}=t;const i=dd(_y({success:n,successPercent:r}));return[i,dd(dd(e)-i)]},Oue=t=>{let{success:e={},strokeColor:n}=t;const{strokeColor:r}=e;return[r||Dh.green,n||null]},Y5=(t,e,n)=>{var r,i,o,a;let s=-1,l=-1;if(e==="step"){const c=n.steps,u=n.strokeWidth;typeof t=="string"||typeof t>"u"?(s=t==="small"?2:14,l=u??8):typeof t=="number"?[s,l]=[t,t]:[s=14,l=8]=t,s*=c}else if(e==="line"){const c=n?.strokeWidth;typeof t=="string"||typeof t>"u"?l=c||(t==="small"?6:8):typeof t=="number"?[s,l]=[t,t]:[s=-1,l=8]=t}else(e==="circle"||e==="dashboard")&&(typeof t=="string"||typeof t>"u"?[s,l]=t==="small"?[60,60]:[120,120]:typeof t=="number"?[s,l]=[t,t]:(s=(i=(r=t[0])!==null&&r!==void 0?r:t[1])!==null&&i!==void 0?i:120,l=(a=(o=t[0])!==null&&o!==void 0?o:t[1])!==null&&a!==void 0?a:120));return[s,l]},Lue=3,Due=t=>Lue/t*100,Fue=t=>{const{prefixCls:e,trailColor:n=null,strokeLinecap:r="round",gapPosition:i,gapDegree:o,width:a=120,type:s,children:l,success:c,size:u=a}=t,[d,f]=Y5(u,"circle");let{strokeWidth:p}=t;p===void 0&&(p=Math.max(Due(d),6));const y={width:d,height:f,fontSize:d*.15+6},b=g.useMemo(()=>{if(o||o===0)return o;if(s==="dashboard")return 75},[o,s]),x=i||s==="dashboard"&&"bottom"||void 0,v=Object.prototype.toString.call(t.strokeColor)==="[object Object]",w=Oue({success:c,strokeColor:t.strokeColor}),S=ye(`${e}-inner`,{[`${e}-circle-gradient`]:v}),C=g.createElement(Iue,{percent:Nue(t),strokeWidth:p,trailWidth:p,strokeColor:w,strokeLinecap:r,trailColor:n,prefixCls:e,gapDegree:b,gapPosition:x});return g.createElement("div",{className:S,style:y},d<=20?g.createElement(jl,{title:l},g.createElement("span",null,C)):g.createElement(g.Fragment,null,C,l))},$ue=Fue;var Uue=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const kue=t=>{let e=[];return Object.keys(t).forEach(n=>{const r=parseFloat(n.replace(/%/g,""));isNaN(r)||e.push({key:r,value:t[n]})}),e=e.sort((n,r)=>n.key-r.key),e.map(n=>{let{key:r,value:i}=n;return`${i} ${r}%`}).join(", ")},Bue=(t,e)=>{const{from:n=Dh.blue,to:r=Dh.blue,direction:i=e==="rtl"?"to left":"to right"}=t,o=Uue(t,["from","to","direction"]);if(Object.keys(o).length!==0){const a=kue(o);return{backgroundImage:`linear-gradient(${i}, ${a})`}}return{backgroundImage:`linear-gradient(${i}, ${n}, ${r})`}},zue=t=>{const{prefixCls:e,direction:n,percent:r,size:i,strokeWidth:o,strokeColor:a,strokeLinecap:s="round",children:l,trailColor:c=null,success:u}=t,d=a&&typeof a!="string"?Bue(a,n):{backgroundColor:a},f=s==="square"||s==="butt"?0:void 0,p={backgroundColor:c||void 0,borderRadius:f},y=i??[-1,o||(i==="small"?6:8)],[b,x]=Y5(y,"line",{strokeWidth:o}),v=Object.assign({width:`${dd(r)}%`,height:x,borderRadius:f},d),w=_y(t),S={width:`${dd(w)}%`,height:x,borderRadius:f,backgroundColor:u?.strokeColor},C={width:b<0?"100%":b,height:x};return g.createElement(g.Fragment,null,g.createElement("div",{className:`${e}-outer`,style:C},g.createElement("div",{className:`${e}-inner`,style:p},g.createElement("div",{className:`${e}-bg`,style:v}),w!==void 0?g.createElement("div",{className:`${e}-success-bg`,style:S}):null)),l)},Hue=zue,Gue=t=>{const{size:e,steps:n,percent:r=0,strokeWidth:i=8,strokeColor:o,trailColor:a=null,prefixCls:s,children:l}=t,c=Math.round(n*(r/100)),d=e??[e==="small"?2:14,i],[f,p]=Y5(d,"step",{steps:n,strokeWidth:i}),y=f/n,b=new Array(n);for(let x=0;x<n;x++){const v=Array.isArray(o)?o[x]:o;b[x]=g.createElement("div",{key:x,className:ye(`${s}-steps-item`,{[`${s}-steps-item-active`]:x<=c-1}),style:{backgroundColor:x<=c-1?v:a,width:y,height:p}})}return g.createElement("div",{className:`${s}-steps-outer`},b,l)},Vue=Gue,vP=t=>{const e=t?"100%":"-100%";return new Mn(`antProgress${t?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${e}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${e}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},Wue=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:Object.assign(Object.assign({},Ir(t)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:t.fontSize,marginInlineEnd:t.marginXS,marginBottom:t.marginXS},[`${e}-outer`]:{display:"inline-block",width:"100%"},[`&${e}-show-info`]:{[`${e}-outer`]:{marginInlineEnd:`calc(-2em - ${t.marginXS}px)`,paddingInlineEnd:`calc(2em + ${t.paddingXS}px)`}},[`${e}-inner`]:{position:"relative",display:"inline-block",width:"100%",overflow:"hidden",verticalAlign:"middle",backgroundColor:t.remainingColor,borderRadius:t.lineBorderRadius},[`${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.defaultColor}},[`${e}-success-bg, ${e}-bg`]:{position:"relative",backgroundColor:t.defaultColor,borderRadius:t.lineBorderRadius,transition:`all ${t.motionDurationSlow} ${t.motionEaseInOutCirc}`},[`${e}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:t.colorSuccess},[`${e}-text`]:{display:"inline-block",width:"2em",marginInlineStart:t.marginXS,color:t.colorText,lineHeight:1,whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:t.fontSize}},[`&${e}-status-active`]:{[`${e}-bg::before`]:{position:"absolute",inset:0,backgroundColor:t.colorBgContainer,borderRadius:t.lineBorderRadius,opacity:0,animationName:vP(),animationDuration:t.progressActiveMotionDuration,animationTimingFunction:t.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${e}-rtl${e}-status-active`]:{[`${e}-bg::before`]:{animationName:vP(!0)}},[`&${e}-status-exception`]:{[`${e}-bg`]:{backgroundColor:t.colorError},[`${e}-text`]:{color:t.colorError}},[`&${e}-status-exception ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.colorError}},[`&${e}-status-success`]:{[`${e}-bg`]:{backgroundColor:t.colorSuccess},[`${e}-text`]:{color:t.colorSuccess}},[`&${e}-status-success ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.colorSuccess}}})}},jue=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:{[`${e}-circle-trail`]:{stroke:t.remainingColor},[`&${e}-circle ${e}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${e}-circle ${e}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:t.circleTextColor,fontSize:t.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:`${t.fontSize/t.fontSizeSM}em`}},[`${e}-circle&-status-exception`]:{[`${e}-text`]:{color:t.colorError}},[`${e}-circle&-status-success`]:{[`${e}-text`]:{color:t.colorSuccess}}},[`${e}-inline-circle`]:{lineHeight:1,[`${e}-inner`]:{verticalAlign:"bottom"}}}},Xue=t=>{const{componentCls:e}=t;return{[e]:{[`${e}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:t.progressStepMinWidth,marginInlineEnd:t.progressStepMarginInlineEnd,backgroundColor:t.remainingColor,transition:`all ${t.motionDurationSlow}`,"&-active":{backgroundColor:t.defaultColor}}}}}},que=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:{[`${e}-small&-line, ${e}-small&-line ${e}-text ${n}`]:{fontSize:t.fontSizeSM}}}},Kue=lr("Progress",t=>{const e=t.marginXXS/2,n=pn(t,{progressStepMarginInlineEnd:e,progressStepMinWidth:e,progressActiveMotionDuration:"2.4s"});return[Wue(n),jue(n),Xue(n),que(n)]},t=>({circleTextColor:t.colorText,defaultColor:t.colorInfo,remainingColor:t.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em"}));var Yue=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Zue=["normal","exception","active","success"],Que=g.forwardRef((t,e)=>{const{prefixCls:n,className:r,rootClassName:i,steps:o,strokeColor:a,percent:s=0,size:l="default",showInfo:c=!0,type:u="line",status:d,format:f,style:p}=t,y=Yue(t,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style"]),b=g.useMemo(()=>{var k,H;const D=_y(t);return parseInt(D!==void 0?(k=D??0)===null||k===void 0?void 0:k.toString():(H=s??0)===null||H===void 0?void 0:H.toString(),10)},[s,t.success,t.successPercent]),x=g.useMemo(()=>!Zue.includes(d)&&b>=100?"success":d||"normal",[d,b]),{getPrefixCls:v,direction:w,progress:S}=g.useContext(Wt),C=v("progress",n),[_,T]=Kue(C),M=g.useMemo(()=>{if(!c)return null;const k=_y(t);let H;const D=f||(B=>`${B}%`),G=u==="line";return f||x!=="exception"&&x!=="success"?H=D(dd(s),dd(k)):x==="exception"?H=G?g.createElement(Xg,null):g.createElement(qg,null):x==="success"&&(H=G?g.createElement(v$,null):g.createElement(iC,null)),g.createElement("span",{className:`${C}-text`,title:typeof H=="string"?H:void 0},H)},[c,s,b,x,u,C,f]),I=Array.isArray(a)?a[0]:a,R=typeof a=="string"||Array.isArray(a)?a:void 0;let P;u==="line"?P=o?g.createElement(Vue,Object.assign({},t,{strokeColor:R,prefixCls:C,steps:o}),M):g.createElement(Hue,Object.assign({},t,{strokeColor:I,prefixCls:C,direction:w}),M):(u==="circle"||u==="dashboard")&&(P=g.createElement($ue,Object.assign({},t,{strokeColor:I,prefixCls:C,progressStatus:x}),M));const L=ye(C,`${C}-status-${x}`,`${C}-${u==="dashboard"&&"circle"||o&&"steps"||u}`,{[`${C}-inline-circle`]:u==="circle"&&Y5(l,"circle")[0]<=20,[`${C}-show-info`]:c,[`${C}-${l}`]:typeof l=="string",[`${C}-rtl`]:w==="rtl"},S?.className,r,i,T);return _(g.createElement("div",Object.assign({ref:e,style:Object.assign(Object.assign({},S?.style),p),className:L,role:"progressbar","aria-valuenow":b},Yr(y,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),P))}),Jue=Que;var ede={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};const tde=ede;var nde=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:tde}))};const rde=g.forwardRef(nde);var ide=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const ode={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},ade=g.forwardRef((t,e)=>{const n=c=>{const{keyCode:u}=c;u===nt.ENTER&&c.preventDefault()},r=c=>{const{keyCode:u}=c,{onClick:d}=t;u===nt.ENTER&&d&&d()},{style:i,noStyle:o,disabled:a}=t,s=ide(t,["style","noStyle","disabled"]);let l={};return o||(l=Object.assign({},ode)),a&&(l.pointerEvents="none"),l=Object.assign(Object.assign({},l),i),g.createElement("div",Object.assign({role:"button",tabIndex:0,ref:e},s,{onKeyDown:n,onKeyUp:r,style:l}))}),yP=ade;var sde={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};const lde=sde;var cde=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:lde}))};const ude=g.forwardRef(cde);var dde={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};const fde=dde;var hde=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:fde}))};const pde=g.forwardRef(hde);var mde=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],r=0;r<t.rangeCount;r++)n.push(t.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||n.forEach(function(i){t.addRange(i)}),e&&e.focus()}},gde=mde,xP={"text/plain":"Text","text/html":"Url",default:"Text"},vde="Copy to clipboard: #{key}, Enter";function yde(t){var e=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function xde(t,e){var n,r,i,o,a,s,l=!1;e||(e={}),n=e.debug||!1;try{i=gde(),o=document.createRange(),a=document.getSelection(),s=document.createElement("span"),s.textContent=t,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(u){if(u.stopPropagation(),e.format)if(u.preventDefault(),typeof u.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var d=xP[e.format]||xP.default;window.clipboardData.setData(d,t)}else u.clipboardData.clearData(),u.clipboardData.setData(e.format,t);e.onCopy&&(u.preventDefault(),e.onCopy(u.clipboardData))}),document.body.appendChild(s),o.selectNodeContents(s),a.addRange(o);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");l=!0}catch(u){n&&console.error("unable to copy using execCommand: ",u),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),l=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),r=yde("message"in e?e.message:vde),window.prompt(r,t)}}finally{a&&(typeof a.removeRange=="function"?a.removeRange(o):a.removeAllRanges()),s&&document.body.removeChild(s),i()}return l}var Sde=xde;const bde=Fp(Sde);var wde={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"};const Cde=wde;var Ede=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:Cde}))};const _de=g.forwardRef(Ede),Tde=(t,e,n,r)=>{const{titleMarginBottom:i,fontWeightStrong:o}=r;return{marginBottom:i,color:n,fontWeight:o,fontSize:t,lineHeight:e}},Mde=t=>{const e=[1,2,3,4,5],n={};return e.forEach(r=>{n[`
      h${r}&,
      div&-h${r},
      div&-h${r} > textarea,
      h${r}
    `]=Tde(t[`fontSizeHeading${r}`],t[`lineHeightHeading${r}`],t.colorTextHeading,t)}),n},Rde=t=>{const{componentCls:e}=t;return{"a&, a":Object.assign(Object.assign({},YF(t)),{textDecoration:t.linkDecoration,"&:active, &:hover":{textDecoration:t.linkHoverDecoration},[`&[disabled], &${e}-disabled`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:t.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},Ade=t=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:t.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:t.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:BK[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:t.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),Pde=t=>{const{componentCls:e,paddingSM:n}=t,r=n;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:-t.paddingSM,marginTop:-r,marginBottom:`calc(1em - ${r}px)`},[`${e}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:t.marginXS+2,insetBlockEnd:t.marginXS,color:t.colorTextDescription,fontWeight:"normal",fontSize:t.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},Ide=t=>({"&-copy-success":{"\n    &,\n    &:hover,\n    &:focus":{color:t.colorSuccess}}}),Nde=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-single-line":{whiteSpace:"nowrap"},"&-ellipsis-single-line":{overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),Ode=t=>{const{componentCls:e,titleMarginTop:n}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.colorText,wordBreak:"break-word",lineHeight:t.lineHeight,[`&${e}-secondary`]:{color:t.colorTextDescription},[`&${e}-success`]:{color:t.colorSuccess},[`&${e}-warning`]:{color:t.colorWarning},[`&${e}-danger`]:{color:t.colorError,"a&:active, a&:focus":{color:t.colorErrorActive},"a&:hover":{color:t.colorErrorHover}},[`&${e}-disabled`]:{color:t.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},Mde(t)),{[`
      & + h1${e},
      & + h2${e},
      & + h3${e},
      & + h4${e},
      & + h5${e}
      `]:{marginTop:n},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:n}}}),Ade(t)),Rde(t)),{[`
        ${e}-expand,
        ${e}-edit,
        ${e}-copy
      `]:Object.assign(Object.assign({},YF(t)),{marginInlineStart:t.marginXXS})}),Pde(t)),Ide(t)),Nde()),{"&-rtl":{direction:"rtl"}})}},Ak=lr("Typography",t=>[Ode(t)],()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"})),Lde=t=>{const{prefixCls:e,"aria-label":n,className:r,style:i,direction:o,maxLength:a,autoSize:s=!0,value:l,onSave:c,onCancel:u,onEnd:d,component:f,enterIcon:p=g.createElement(_de,null)}=t,y=g.useRef(null),b=g.useRef(!1),x=g.useRef(),[v,w]=g.useState(l);g.useEffect(()=>{w(l)},[l]),g.useEffect(()=>{if(y.current&&y.current.resizableTextArea){const{textArea:D}=y.current.resizableTextArea;D.focus();const{length:G}=D.value;D.setSelectionRange(G,G)}},[]);const S=D=>{let{target:G}=D;w(G.value.replace(/[\n\r]/g,""))},C=()=>{b.current=!0},_=()=>{b.current=!1},T=D=>{let{keyCode:G}=D;b.current||(x.current=G)},M=()=>{c(v.trim())},I=D=>{let{keyCode:G,ctrlKey:B,altKey:$,metaKey:O,shiftKey:z}=D;x.current===G&&!b.current&&!B&&!$&&!O&&!z&&(G===nt.ENTER?(M(),d?.()):G===nt.ESC&&u())},R=()=>{M()},P=f?`${e}-${f}`:"",[L,k]=Ak(e),H=ye(e,`${e}-edit-content`,{[`${e}-rtl`]:o==="rtl"},r,P,k);return L(g.createElement("div",{className:H,style:i},g.createElement(mk,{ref:y,maxLength:a,value:v,onChange:S,onKeyDown:T,onKeyUp:I,onCompositionStart:C,onCompositionEnd:_,onBlur:R,"aria-label":n,rows:1,autoSize:s}),p!==null?_i(p,{className:`${e}-edit-content-confirm`}):null))},Dde=Lde;var Fde=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const $de=g.forwardRef((t,e)=>{const{prefixCls:n,component:r="article",className:i,rootClassName:o,setContentRef:a,children:s,direction:l,style:c}=t,u=Fde(t,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:d,direction:f,typography:p}=g.useContext(Wt),y=l??f;let b=e;a&&(b=mo(e,a));const x=d("typography",n),[v,w]=Ak(x),S=ye(x,p?.className,{[`${x}-rtl`]:y==="rtl"},i,o,w),C=Object.assign(Object.assign({},p?.style),c);return v(g.createElement(r,Object.assign({className:S,style:C,ref:b},u),s))}),Pk=$de;function T8(t,e){return g.useMemo(()=>{const n=!!t;return[n,Object.assign(Object.assign({},e),n&&typeof t=="object"?t:null)]},[t])}const Ude=(t,e)=>{const n=g.useRef(!1);g.useEffect(()=>{n.current?t():n.current=!0},e)},kde=Ude;function Ik(t){const e=typeof t;return e==="string"||e==="number"}function Bde(t){let e=0;return t.forEach(n=>{Ik(n)?e+=String(n).length:e+=1}),e}function M8(t,e){let n=0;const r=[];for(let i=0;i<t.length;i+=1){if(n===e)return r;const o=t[i],s=Ik(o)?String(o).length:1,l=n+s;if(l>e){const c=e-n;return r.push(String(o).slice(0,c)),r}r.push(o),n=l}return t}const zde=0,jv=1,SP=2,R8=3,A8=4,Hde=t=>{let{enabledMeasure:e,children:n,text:r,width:i,fontSize:o,rows:a,onEllipsis:s}=t;const[[l,c,u],d]=g.useState([0,0,0]),[f,p]=g.useState(0),[y,b]=g.useState(zde),[x,v]=g.useState(0),w=g.useRef(null),S=g.useRef(null),C=g.useMemo(()=>No(r),[r]),_=g.useMemo(()=>Bde(C),[C]),T=g.useMemo(()=>!e||y!==R8?f&&y!==A8&&e?n(M8(C,f),f<_):n(C,!1):n(M8(C,c),c<_),[e,y,n,C,c,_]);Yn(()=>{e&&i&&o&&_&&(b(jv),d([0,Math.ceil(_/2),_]))},[e,i,o,r,_,a]),Yn(()=>{var P;y===jv&&v(((P=w.current)===null||P===void 0?void 0:P.offsetHeight)||0)},[y]),Yn(()=>{var P,L;if(x){if(y===jv){const k=((P=S.current)===null||P===void 0?void 0:P.offsetHeight)||0,H=a*x;k<=H?(b(A8),s(!1)):b(SP)}else if(y===SP)if(l!==u){const k=((L=S.current)===null||L===void 0?void 0:L.offsetHeight)||0,H=a*x;let D=l,G=u;l===u-1?G=l:k<=H?D=c:G=c;const B=Math.ceil((D+G)/2);d([D,B,G])}else b(R8),p(c),s(!0)}},[y,l,u,a,x]);const M={width:i,whiteSpace:"normal",margin:0,padding:0},I=(P,L,k)=>g.createElement("span",{"aria-hidden":!0,ref:L,style:Object.assign({position:"fixed",display:"block",left:0,top:0,zIndex:-9999,visibility:"hidden",pointerEvents:"none",fontSize:Math.floor(o/2)*2},k)},P),R=(P,L)=>{const k=M8(C,P);return I(n(k,!0),L,M)};return g.createElement(g.Fragment,null,T,e&&y!==R8&&y!==A8&&g.createElement(g.Fragment,null,I("lg",w,{wordBreak:"keep-all",whiteSpace:"nowrap"}),y===jv?I(n(C,!1),S,M):R(c,S)))},Gde=Hde,Vde=t=>{let{enabledEllipsis:e,isEllipsis:n,children:r,tooltipProps:i}=t;return!i?.title||!e?r:g.createElement(jl,Object.assign({open:n?void 0:!1},i),r)},Wde=Vde;var jde=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Xde(t,e){let{mark:n,code:r,underline:i,delete:o,strong:a,keyboard:s,italic:l}=t,c=e;function u(d,f){f&&(c=g.createElement(d,{},c))}return u("strong",a),u("u",i),u("del",o),u("code",r),u("mark",n),u("kbd",s),u("i",l),c}function Xv(t,e,n){return t===!0||t===void 0?e:t||n&&e}function bP(t){return t===!1?[!1,!1]:Array.isArray(t)?t:[t]}const qde="...",Kde=g.forwardRef((t,e)=>{var n,r,i;const{prefixCls:o,className:a,style:s,type:l,disabled:c,children:u,ellipsis:d,editable:f,copyable:p,component:y,title:b}=t,x=jde(t,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:v,direction:w}=g.useContext(Wt),[S]=jg("Text"),C=g.useRef(null),_=g.useRef(null),T=v("typography",o),M=Yr(x,["mark","code","delete","underline","strong","keyboard","italic"]),[I,R]=T8(f),[P,L]=kr(!1,{value:R.editing}),{triggerType:k=["icon"]}=R,H=de=>{var ue;de&&((ue=R.onStart)===null||ue===void 0||ue.call(R)),L(de)};kde(()=>{var de;P||(de=_.current)===null||de===void 0||de.focus()},[P]);const D=de=>{de?.preventDefault(),H(!0)},G=de=>{var ue;(ue=R.onChange)===null||ue===void 0||ue.call(R,de),H(!1)},B=()=>{var de;(de=R.onCancel)===null||de===void 0||de.call(R),H(!1)},[$,O]=T8(p),[z,V]=g.useState(!1),F=g.useRef(null),W={};O.format&&(W.format=O.format);const q=()=>{F.current&&clearTimeout(F.current)},Z=de=>{var ue;de?.preventDefault(),de?.stopPropagation(),bde(O.text||String(u)||"",W),V(!0),q(),F.current=setTimeout(()=>{V(!1)},3e3),(ue=O.onCopy)===null||ue===void 0||ue.call(O,de)};g.useEffect(()=>q,[]);const[ee,oe]=g.useState(!1),[re,ce]=g.useState(!1),[Se,Pe]=g.useState(!1),[xe,X]=g.useState(!1),[fe,pe]=g.useState(!1),[Ce,me]=g.useState(!0),[Ge,ve]=T8(d,{expandable:!1}),Re=Ge&&!Se,{rows:Ae=1}=ve,Le=g.useMemo(()=>!Re||ve.suffix!==void 0||ve.onEllipsis||ve.expandable||I||$,[Re,ve,I,$]);Yn(()=>{Ge&&!Le&&(oe(WR("webkitLineClamp")),ce(WR("textOverflow")))},[Le,Ge]);const Je=g.useMemo(()=>Le?!1:Ae===1?re:ee,[Le,re,ee]),K=Re&&(Je?fe:xe),j=Re&&Ae===1&&Je,ae=Re&&Ae>1&&Je,Ee=de=>{var ue;Pe(!0),(ue=ve.onExpand)===null||ue===void 0||ue.call(ve,de)},[Oe,je]=g.useState(0),[Be,Fe]=g.useState(0),Ue=(de,ue)=>{let{offsetWidth:De}=de;var Ie;je(De),Fe(parseInt((Ie=window.getComputedStyle)===null||Ie===void 0?void 0:Ie.call(window,ue).fontSize,10)||0)},et=de=>{var ue;X(de),xe!==de&&((ue=ve.onEllipsis)===null||ue===void 0||ue.call(ve,de))};g.useEffect(()=>{const de=C.current;if(Ge&&Je&&de){const ue=ae?de.offsetHeight<de.scrollHeight:de.offsetWidth<de.scrollWidth;fe!==ue&&pe(ue)}},[Ge,Je,u,ae,Ce]),g.useEffect(()=>{const de=C.current;if(typeof IntersectionObserver>"u"||!de||!Je||!Re)return;const ue=new IntersectionObserver(()=>{me(!!de.offsetParent)});return ue.observe(de),()=>{ue.disconnect()}},[Je,Re]);let at={};ve.tooltip===!0?at={title:(n=R.text)!==null&&n!==void 0?n:u}:g.isValidElement(ve.tooltip)?at={title:ve.tooltip}:typeof ve.tooltip=="object"?at=Object.assign({title:(r=R.text)!==null&&r!==void 0?r:u},ve.tooltip):at={title:ve.tooltip};const We=g.useMemo(()=>{const de=ue=>["string","number"].includes(typeof ue);if(!(!Ge||Je)){if(de(R.text))return R.text;if(de(u))return u;if(de(b))return b;if(de(at.title))return at.title}},[Ge,Je,b,at.title,K]);if(P)return g.createElement(Dde,{value:(i=R.text)!==null&&i!==void 0?i:typeof u=="string"?u:"",onSave:G,onCancel:B,onEnd:R.onEnd,prefixCls:T,className:a,style:s,direction:w,component:y,maxLength:R.maxLength,autoSize:R.autoSize,enterIcon:R.enterIcon});const ut=()=>{const{expandable:de,symbol:ue}=ve;if(!de)return null;let De;return ue?De=ue:De=S?.expand,g.createElement("a",{key:"expand",className:`${T}-expand`,onClick:Ee,"aria-label":S?.expand},De)},te=()=>{if(!I)return;const{icon:de,tooltip:ue}=R,De=No(ue)[0]||S?.edit,Ie=typeof De=="string"?De:"";return k.includes("icon")?g.createElement(jl,{key:"edit",title:ue===!1?"":De},g.createElement(yP,{ref:_,className:`${T}-edit`,onClick:D,"aria-label":Ie},de||g.createElement(pde,{role:"button"}))):null},ke=()=>{if(!$)return;const{tooltips:de,icon:ue}=O,De=bP(de),Ie=bP(ue),_e=z?Xv(De[1],S?.copied):Xv(De[0],S?.copy),rt=z?S?.copied:S?.copy,ct=typeof _e=="string"?_e:rt;return g.createElement(jl,{key:"copy",title:_e},g.createElement(yP,{className:ye(`${T}-copy`,z&&`${T}-copy-success`),onClick:Z,"aria-label":ct},z?Xv(Ie[1],g.createElement(iC,null),!0):Xv(Ie[0],g.createElement(ude,null),!0)))},ze=de=>[de&&ut(),te(),ke()],J=de=>[de&&g.createElement("span",{"aria-hidden":!0,key:"ellipsis"},qde),ve.suffix,ze(de)];return g.createElement(Ta,{onResize:Ue,disabled:!Re||Je},de=>g.createElement(Wde,{tooltipProps:at,enabledEllipsis:Re,isEllipsis:K},g.createElement(Pk,Object.assign({className:ye({[`${T}-${l}`]:l,[`${T}-disabled`]:c,[`${T}-ellipsis`]:Ge,[`${T}-single-line`]:Re&&Ae===1,[`${T}-ellipsis-single-line`]:j,[`${T}-ellipsis-multiple-line`]:ae},a),prefixCls:o,style:Object.assign(Object.assign({},s),{WebkitLineClamp:ae?Ae:void 0}),component:y,ref:mo(de,C,e),direction:w,onClick:k.includes("text")?D:void 0,"aria-label":We?.toString(),title:b},M),g.createElement(Gde,{enabledMeasure:Re&&!Je,text:u,rows:Ae,width:Oe,fontSize:Be,onEllipsis:et},(ue,De)=>{let Ie=ue;return ue.length&&De&&We&&(Ie=g.createElement("span",{key:"show-content","aria-hidden":!0},Ie)),Xde(t,g.createElement(g.Fragment,null,Ie,J(De)))}))))}),Z5=Kde;var Yde=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Zde=g.forwardRef((t,e)=>{var{ellipsis:n,rel:r}=t,i=Yde(t,["ellipsis","rel"]);const o=Object.assign(Object.assign({},i),{rel:r===void 0&&i.target==="_blank"?"noopener noreferrer":r});return delete o.navigate,g.createElement(Z5,Object.assign({},o,{ref:e,ellipsis:!!n,component:"a"}))}),Qde=Zde,Jde=g.forwardRef((t,e)=>g.createElement(Z5,Object.assign({ref:e},t,{component:"div"}))),efe=Jde;var tfe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const nfe=(t,e)=>{var{ellipsis:n}=t,r=tfe(t,["ellipsis"]);const i=g.useMemo(()=>n&&typeof n=="object"?Yr(n,["expandable","rows"]):n,[n]);return g.createElement(Z5,Object.assign({ref:e},r,{ellipsis:i,component:"span"}))},rfe=g.forwardRef(nfe);var ife=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const ofe=[1,2,3,4,5],afe=g.forwardRef((t,e)=>{const{level:n=1}=t,r=ife(t,["level"]);let i;return ofe.includes(n)?i=`h${n}`:i="h1",g.createElement(Z5,Object.assign({ref:e},r,{component:i}))}),sfe=afe,o3=Pk;o3.Text=rfe;o3.Link=Qde;o3.Title=sfe;o3.Paragraph=efe;const wP=o3;function lfe(t,e){var n="cannot ".concat(t.method," ").concat(t.action," ").concat(e.status,"'"),r=new Error(n);return r.status=e.status,r.method=t.method,r.url=t.action,r}function CP(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}function cfe(t){var e=new XMLHttpRequest;t.onProgress&&e.upload&&(e.upload.onprogress=function(o){o.total>0&&(o.percent=o.loaded/o.total*100),t.onProgress(o)});var n=new FormData;t.data&&Object.keys(t.data).forEach(function(i){var o=t.data[i];if(Array.isArray(o)){o.forEach(function(a){n.append("".concat(i,"[]"),a)});return}n.append(i,o)}),t.file instanceof Blob?n.append(t.filename,t.file,t.file.name):n.append(t.filename,t.file),e.onerror=function(o){t.onError(o)},e.onload=function(){return e.status<200||e.status>=300?t.onError(lfe(t,e),CP(e)):t.onSuccess(CP(e),e)},e.open(t.method,t.action,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var r=t.headers||{};return r["X-Requested-With"]!==null&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach(function(i){r[i]!==null&&e.setRequestHeader(i,r[i])}),e.send(n),{abort:function(){e.abort()}}}var ufe=+new Date,dfe=0;function P8(){return"rc-upload-".concat(ufe,"-").concat(++dfe)}const I8=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=t.type||"",o=i.replace(/\/.*$/,"");return n.some(function(a){var s=a.trim();if(/^\*(\/\*)?$/.test(a))return!0;if(s.charAt(0)==="."){var l=r.toLowerCase(),c=s.toLowerCase(),u=[c];return(c===".jpg"||c===".jpeg")&&(u=[".jpg",".jpeg"]),u.some(function(d){return l.endsWith(d)})}return/\/\*$/.test(s)?o===s.replace(/\/.*$/,""):i===s?!0:/^\w+$/.test(s)?(hi(!1,"Upload takes an invalidate 'accept' type '".concat(s,"'.Skip for check.")),!0):!1})}return!0};function ffe(t,e){var n=t.createReader(),r=[];function i(){n.readEntries(function(o){var a=Array.prototype.slice.apply(o);r=r.concat(a);var s=!a.length;s?e(r):i()})}i()}var hfe=function(e,n,r){var i=function o(a,s){a&&(a.path=s||"",a.isFile?a.file(function(l){r(l)&&(a.fullPath&&!l.webkitRelativePath&&(Object.defineProperties(l,{webkitRelativePath:{writable:!0}}),l.webkitRelativePath=a.fullPath.replace(/^\//,""),Object.defineProperties(l,{webkitRelativePath:{writable:!1}})),n([l]))}):a.isDirectory&&ffe(a,function(l){l.forEach(function(c){o(c,"".concat(s).concat(a.name,"/"))})}))};e.forEach(function(o){i(o.webkitGetAsEntry())})},pfe=["component","prefixCls","className","disabled","id","style","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave"],mfe=function(t){Qs(n,t);var e=Js(n);function n(){var r;ii(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),r.state={uid:P8()},r.reqs={},r.fileInput=void 0,r._isMounted=void 0,r.onChange=function(s){var l=r.props,c=l.accept,u=l.directory,d=s.target.files,f=mt(d).filter(function(p){return!u||I8(p,c)});r.uploadFiles(f),r.reset()},r.onClick=function(s){var l=r.fileInput;if(l){var c=r.props,u=c.children,d=c.onClick;if(u&&u.type==="button"){var f=l.parentNode;f.focus(),f.querySelector("button").blur()}l.click(),d&&d(s)}},r.onKeyDown=function(s){s.key==="Enter"&&r.onClick(s)},r.onFileDrop=function(s){var l=r.props.multiple;if(s.preventDefault(),s.type!=="dragover")if(r.props.directory)hfe(Array.prototype.slice.call(s.dataTransfer.items),r.uploadFiles,function(u){return I8(u,r.props.accept)});else{var c=mt(s.dataTransfer.files).filter(function(u){return I8(u,r.props.accept)});l===!1&&(c=c.slice(0,1)),r.uploadFiles(c)}},r.uploadFiles=function(s){var l=mt(s),c=l.map(function(u){return u.uid=P8(),r.processFile(u,l)});Promise.all(c).then(function(u){var d=r.props.onBatchStart;d?.(u.map(function(f){var p=f.origin,y=f.parsedFile;return{file:p,parsedFile:y}})),u.filter(function(f){return f.parsedFile!==null}).forEach(function(f){r.post(f)})})},r.processFile=function(){var s=su(Ui().mark(function l(c,u){var d,f,p,y,b,x,v,w,S;return Ui().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(d=r.props.beforeUpload,f=c,!d){_.next=14;break}return _.prev=3,_.next=6,d(c,u);case 6:f=_.sent,_.next=12;break;case 9:_.prev=9,_.t0=_.catch(3),f=!1;case 12:if(f!==!1){_.next=14;break}return _.abrupt("return",{origin:c,parsedFile:null,action:null,data:null});case 14:if(p=r.props.action,typeof p!="function"){_.next=21;break}return _.next=18,p(c);case 18:y=_.sent,_.next=22;break;case 21:y=p;case 22:if(b=r.props.data,typeof b!="function"){_.next=29;break}return _.next=26,b(c);case 26:x=_.sent,_.next=30;break;case 29:x=b;case 30:return v=(Xt(f)==="object"||typeof f=="string")&&f?f:c,v instanceof File?w=v:w=new File([v],c.name,{type:c.type}),S=w,S.uid=c.uid,_.abrupt("return",{origin:c,data:x,parsedFile:S,action:y});case 35:case"end":return _.stop()}},l,null,[[3,9]])}));return function(l,c){return s.apply(this,arguments)}}(),r.saveFileInput=function(s){r.fileInput=s},r}return oi(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(i){var o=this,a=i.data,s=i.origin,l=i.action,c=i.parsedFile;if(this._isMounted){var u=this.props,d=u.onStart,f=u.customRequest,p=u.name,y=u.headers,b=u.withCredentials,x=u.method,v=s.uid,w=f||cfe,S={action:l,filename:p,data:a,file:c,headers:y,withCredentials:b,method:x||"post",onProgress:function(_){var T=o.props.onProgress;T?.(_,c)},onSuccess:function(_,T){var M=o.props.onSuccess;M?.(_,c,T),delete o.reqs[v]},onError:function(_,T){var M=o.props.onError;M?.(_,T,c),delete o.reqs[v]}};d(s),this.reqs[v]=w(S)}}},{key:"reset",value:function(){this.setState({uid:P8()})}},{key:"abort",value:function(i){var o=this.reqs;if(i){var a=i.uid?i.uid:i;o[a]&&o[a].abort&&o[a].abort(),delete o[a]}else Object.keys(o).forEach(function(s){o[s]&&o[s].abort&&o[s].abort(),delete o[s]})}},{key:"render",value:function(){var i,o=this.props,a=o.component,s=o.prefixCls,l=o.className,c=o.disabled,u=o.id,d=o.style,f=o.multiple,p=o.accept,y=o.capture,b=o.children,x=o.directory,v=o.openFileDialogOnClick,w=o.onMouseEnter,S=o.onMouseLeave,C=Yt(o,pfe),_=ye((i={},ie(i,s,!0),ie(i,"".concat(s,"-disabled"),c),ie(i,l,l),i)),T=x?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},M=c?{}:{onClick:v?this.onClick:function(){},onKeyDown:v?this.onKeyDown:function(){},onMouseEnter:w,onMouseLeave:S,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:"0"};return se.createElement(a,it({},M,{className:_,role:"button",style:d}),se.createElement("input",it({},ep(C,{aria:!0,data:!0}),{id:u,disabled:c,type:"file",ref:this.saveFileInput,onClick:function(R){return R.stopPropagation()},key:this.state.uid,style:{display:"none"},accept:p},T,{multiple:f,onChange:this.onChange},y!=null?{capture:y}:{})),b)}}]),n}(g.Component);function N8(){}var j7=function(t){Qs(n,t);var e=Js(n);function n(){var r;ii(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),r.uploader=void 0,r.saveUploader=function(s){r.uploader=s},r}return oi(n,[{key:"abort",value:function(i){this.uploader.abort(i)}},{key:"render",value:function(){return se.createElement(mfe,it({},this.props,{ref:this.saveUploader}))}}]),n}(g.Component);j7.defaultProps={component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:N8,onError:N8,onSuccess:N8,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0};const gfe=t=>{const{componentCls:e,iconCls:n}=t;return{[`${e}-wrapper`]:{[`${e}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:t.colorFillAlter,border:`${t.lineWidth}px dashed ${t.colorBorder}`,borderRadius:t.borderRadiusLG,cursor:"pointer",transition:`border-color ${t.motionDurationSlow}`,[e]:{padding:`${t.padding}px 0`},[`${e}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none"},[`${e}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`&:not(${e}-disabled):hover`]:{borderColor:t.colorPrimaryHover},[`p${e}-drag-icon`]:{marginBottom:t.margin,[n]:{color:t.colorPrimary,fontSize:t.uploadThumbnailSize}},[`p${e}-text`]:{margin:`0 0 ${t.marginXXS}px`,color:t.colorTextHeading,fontSize:t.fontSizeLG},[`p${e}-hint`]:{color:t.colorTextDescription,fontSize:t.fontSize},[`&${e}-disabled`]:{cursor:"not-allowed",[`p${e}-drag-icon ${n},
            p${e}-text,
            p${e}-hint
          `]:{color:t.colorTextDisabled}}}}}},vfe=gfe,yfe=t=>{const{componentCls:e,antCls:n,iconCls:r,fontSize:i,lineHeight:o}=t,a=`${e}-list-item`,s=`${a}-actions`,l=`${a}-action`,c=Math.round(i*o);return{[`${e}-wrapper`]:{[`${e}-list`]:Object.assign(Object.assign({},Gl()),{lineHeight:t.lineHeight,[a]:{position:"relative",height:t.lineHeight*i,marginTop:t.marginXS,fontSize:i,display:"flex",alignItems:"center",transition:`background-color ${t.motionDurationSlow}`,"&:hover":{backgroundColor:t.controlItemBgHover},[`${a}-name`]:Object.assign(Object.assign({},Hl),{padding:`0 ${t.paddingXS}px`,lineHeight:o,flex:"auto",transition:`all ${t.motionDurationSlow}`}),[s]:{[l]:{opacity:0},[`${l}${n}-btn-sm`]:{height:c,border:0,lineHeight:1,"> span":{transform:"scale(1)"}},[`
              ${l}:focus-visible,
              &.picture ${l}
            `]:{opacity:1},[r]:{color:t.actionsColor,transition:`all ${t.motionDurationSlow}`},[`&:hover ${r}`]:{color:t.colorText}},[`${e}-icon ${r}`]:{color:t.colorTextDescription,fontSize:i},[`${a}-progress`]:{position:"absolute",bottom:-t.uploadProgressOffset,width:"100%",paddingInlineStart:i+t.paddingXS,fontSize:i,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${a}:hover ${l}`]:{opacity:1,color:t.colorText},[`${a}-error`]:{color:t.colorError,[`${a}-name, ${e}-icon ${r}`]:{color:t.colorError},[s]:{[`${r}, ${r}:hover`]:{color:t.colorError},[l]:{opacity:1}}},[`${e}-list-item-container`]:{transition:`opacity ${t.motionDurationSlow}, height ${t.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},xfe=yfe,EP=new Mn("uploadAnimateInlineIn",{from:{width:0,height:0,margin:0,padding:0,opacity:0}}),_P=new Mn("uploadAnimateInlineOut",{to:{width:0,height:0,margin:0,padding:0,opacity:0}}),Sfe=t=>{const{componentCls:e}=t,n=`${e}-animate-inline`;return[{[`${e}-wrapper`]:{[`${n}-appear, ${n}-enter, ${n}-leave`]:{animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseInOutCirc,animationFillMode:"forwards"},[`${n}-appear, ${n}-enter`]:{animationName:EP},[`${n}-leave`]:{animationName:_P}}},{[`${e}-wrapper`]:fee(t)},EP,_P]},bfe=Sfe,wfe=t=>{const{componentCls:e,iconCls:n,uploadThumbnailSize:r,uploadProgressOffset:i}=t,o=`${e}-list`,a=`${o}-item`;return{[`${e}-wrapper`]:{[`
        ${o}${o}-picture,
        ${o}${o}-picture-card,
        ${o}${o}-picture-circle
      `]:{[a]:{position:"relative",height:r+t.lineWidth*2+t.paddingXS*2,padding:t.paddingXS,border:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusLG,"&:hover":{background:"transparent"},[`${a}-thumbnail`]:Object.assign(Object.assign({},Hl),{width:r,height:r,lineHeight:`${r+t.paddingSM}px`,textAlign:"center",flex:"none",[n]:{fontSize:t.fontSizeHeading2,color:t.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${a}-progress`]:{bottom:i,width:`calc(100% - ${t.paddingSM*2}px)`,marginTop:0,paddingInlineStart:r+t.paddingXS}},[`${a}-error`]:{borderColor:t.colorError,[`${a}-thumbnail ${n}`]:{[`svg path[fill='${o7[0]}']`]:{fill:t.colorErrorBg},[`svg path[fill='${o7.primary}']`]:{fill:t.colorError}}},[`${a}-uploading`]:{borderStyle:"dashed",[`${a}-name`]:{marginBottom:i}}},[`${o}${o}-picture-circle ${a}`]:{[`&, &::before, ${a}-thumbnail`]:{borderRadius:"50%"}}}}},Cfe=t=>{const{componentCls:e,iconCls:n,fontSizeLG:r,colorTextLightSolid:i}=t,o=`${e}-list`,a=`${o}-item`,s=t.uploadPicCardSize;return{[`
      ${e}-wrapper${e}-picture-card-wrapper,
      ${e}-wrapper${e}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},Gl()),{display:"inline-block",width:"100%",[`${e}${e}-select`]:{width:s,height:s,marginInlineEnd:t.marginXS,marginBottom:t.marginXS,textAlign:"center",verticalAlign:"top",backgroundColor:t.colorFillAlter,border:`${t.lineWidth}px dashed ${t.colorBorder}`,borderRadius:t.borderRadiusLG,cursor:"pointer",transition:`border-color ${t.motionDurationSlow}`,[`> ${e}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${e}-disabled):hover`]:{borderColor:t.colorPrimary}},[`${o}${o}-picture-card, ${o}${o}-picture-circle`]:{[`${o}-item-container`]:{display:"inline-block",width:s,height:s,marginBlock:`0 ${t.marginXS}px`,marginInline:`0 ${t.marginXS}px`,verticalAlign:"top"},"&::after":{display:"none"},[a]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${t.paddingXS*2}px)`,height:`calc(100% - ${t.paddingXS*2}px)`,backgroundColor:t.colorBgMask,opacity:0,transition:`all ${t.motionDurationSlow}`,content:'" "'}},[`${a}:hover`]:{[`&::before, ${a}-actions`]:{opacity:1}},[`${a}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${t.motionDurationSlow}`,[`${n}-eye, ${n}-download, ${n}-delete`]:{zIndex:10,width:r,margin:`0 ${t.marginXXS}px`,fontSize:r,cursor:"pointer",transition:`all ${t.motionDurationSlow}`,svg:{verticalAlign:"baseline"}}},[`${a}-actions, ${a}-actions:hover`]:{[`${n}-eye, ${n}-download, ${n}-delete`]:{color:new qr(i).setAlpha(.65).toRgbString(),"&:hover":{color:i}}},[`${a}-thumbnail, ${a}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${a}-name`]:{display:"none",textAlign:"center"},[`${a}-file + ${a}-name`]:{position:"absolute",bottom:t.margin,display:"block",width:`calc(100% - ${t.paddingXS*2}px)`},[`${a}-uploading`]:{[`&${a}`]:{backgroundColor:t.colorFillAlter},[`&::before, ${n}-eye, ${n}-download, ${n}-delete`]:{display:"none"}},[`${a}-progress`]:{bottom:t.marginXL,width:`calc(100% - ${t.paddingXS*2}px)`,paddingInlineStart:0}}}),[`${e}-wrapper${e}-picture-circle-wrapper`]:{[`${e}${e}-select`]:{borderRadius:"50%"}}}},Efe=t=>{const{componentCls:e}=t;return{[`${e}-rtl`]:{direction:"rtl"}}},_fe=Efe,Tfe=t=>{const{componentCls:e,colorTextDisabled:n}=t;return{[`${e}-wrapper`]:Object.assign(Object.assign({},Ir(t)),{[e]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${e}-select`]:{display:"inline-block"},[`${e}-disabled`]:{color:n,cursor:"not-allowed"}})}},Mfe=lr("Upload",t=>{const{fontSizeHeading3:e,fontSize:n,lineHeight:r,lineWidth:i,controlHeightLG:o}=t,a=Math.round(n*r),s=pn(t,{uploadThumbnailSize:e*2,uploadProgressOffset:a/2+i,uploadPicCardSize:o*2.55});return[Tfe(s),vfe(s),wfe(s),Cfe(s),xfe(s),bfe(s),_fe(s),Zw(s)]},t=>({actionsColor:t.colorTextDescription}));var Rfe={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:n}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"};const Afe=Rfe;var Pfe=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:Afe}))};const Ife=g.forwardRef(Pfe);var Nfe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};const Ofe=Nfe;var Lfe=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:Ofe}))};const Dfe=g.forwardRef(Lfe);var Ffe={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:n}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:n}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:n}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"};const $fe=Ffe;var Ufe=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:$fe}))};const kfe=g.forwardRef(Ufe);function qv(t){return Object.assign(Object.assign({},t),{lastModified:t.lastModified,lastModifiedDate:t.lastModifiedDate,name:t.name,size:t.size,type:t.type,uid:t.uid,percent:0,originFileObj:t})}function Kv(t,e){const n=mt(e),r=n.findIndex(i=>{let{uid:o}=i;return o===t.uid});return r===-1?n.push(t):n[r]=t,n}function O8(t,e){const n=t.uid!==void 0?"uid":"name";return e.filter(r=>r[n]===t[n])[0]}function Bfe(t,e){const n=t.uid!==void 0?"uid":"name",r=e.filter(i=>i[n]!==t[n]);return r.length===e.length?null:r}const zfe=function(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),r=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(r)||[""])[0]},Nk=t=>t.indexOf("image/")===0,Hfe=t=>{if(t.type&&!t.thumbUrl)return Nk(t.type);const e=t.thumbUrl||t.url||"",n=zfe(e);return/^data:image\//.test(e)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(n)?!0:!(/^data:/.test(e)||n)},uc=200;function Gfe(t){return new Promise(e=>{if(!t.type||!Nk(t.type)){e("");return}const n=document.createElement("canvas");n.width=uc,n.height=uc,n.style.cssText=`position: fixed; left: 0; top: 0; width: ${uc}px; height: ${uc}px; z-index: 9999; display: none;`,document.body.appendChild(n);const r=n.getContext("2d"),i=new Image;if(i.onload=()=>{const{width:o,height:a}=i;let s=uc,l=uc,c=0,u=0;o>a?(l=a*(uc/o),u=-(l-s)/2):(s=o*(uc/a),c=-(s-l)/2),r.drawImage(i,c,u,s,l);const d=n.toDataURL();document.body.removeChild(n),window.URL.revokeObjectURL(i.src),e(d)},i.crossOrigin="anonymous",t.type.startsWith("image/svg+xml")){const o=new FileReader;o.onload=()=>{o.result&&(i.src=o.result)},o.readAsDataURL(t)}else if(t.type.startsWith("image/gif")){const o=new FileReader;o.onload=()=>{o.result&&e(o.result)},o.readAsDataURL(t)}else i.src=window.URL.createObjectURL(t)})}var Vfe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};const Wfe=Vfe;var jfe=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:Wfe}))};const Xfe=g.forwardRef(jfe),qfe=g.forwardRef((t,e)=>{let{prefixCls:n,className:r,style:i,locale:o,listType:a,file:s,items:l,progress:c,iconRender:u,actionIconRender:d,itemRender:f,isImgUrl:p,showPreviewIcon:y,showRemoveIcon:b,showDownloadIcon:x,previewIcon:v,removeIcon:w,downloadIcon:S,onPreview:C,onDownload:_,onClose:T}=t;var M,I;const{status:R}=s,[P,L]=g.useState(R);g.useEffect(()=>{R!=="removed"&&L(R)},[R]);const[k,H]=g.useState(!1);g.useEffect(()=>{const xe=setTimeout(()=>{H(!0)},300);return()=>{clearTimeout(xe)}},[]);const D=u(s);let G=g.createElement("div",{className:`${n}-icon`},D);if(a==="picture"||a==="picture-card"||a==="picture-circle")if(P==="uploading"||!s.thumbUrl&&!s.url){const xe=ye(`${n}-list-item-thumbnail`,{[`${n}-list-item-file`]:P!=="uploading"});G=g.createElement("div",{className:xe},D)}else{const xe=p?.(s)?g.createElement("img",{src:s.thumbUrl||s.url,alt:s.name,className:`${n}-list-item-image`,crossOrigin:s.crossOrigin}):D,X=ye(`${n}-list-item-thumbnail`,{[`${n}-list-item-file`]:p&&!p(s)});G=g.createElement("a",{className:X,onClick:fe=>C(s,fe),href:s.url||s.thumbUrl,target:"_blank",rel:"noopener noreferrer"},xe)}const B=ye(`${n}-list-item`,`${n}-list-item-${P}`),$=typeof s.linkProps=="string"?JSON.parse(s.linkProps):s.linkProps,O=b?d((typeof w=="function"?w(s):w)||g.createElement(rde,null),()=>T(s),n,o.removeFile):null,z=x&&P==="done"?d((typeof S=="function"?S(s):S)||g.createElement(Xfe,null),()=>_(s),n,o.downloadFile):null,V=a!=="picture-card"&&a!=="picture-circle"&&g.createElement("span",{key:"download-delete",className:ye(`${n}-list-item-actions`,{picture:a==="picture"})},z,O),F=ye(`${n}-list-item-name`),W=s.url?[g.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:F,title:s.name},$,{href:s.url,onClick:xe=>C(s,xe)}),s.name),V]:[g.createElement("span",{key:"view",className:F,onClick:xe=>C(s,xe),title:s.name},s.name),V],q={pointerEvents:"none",opacity:.5},Z=y?g.createElement("a",{href:s.url||s.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:s.url||s.thumbUrl?void 0:q,onClick:xe=>C(s,xe),title:o.previewFile},typeof v=="function"?v(s):v||g.createElement(hk,null)):null,ee=(a==="picture-card"||a==="picture-circle")&&P!=="uploading"&&g.createElement("span",{className:`${n}-list-item-actions`},Z,P==="done"&&z,O),{getPrefixCls:oe}=g.useContext(Wt),re=oe(),ce=g.createElement("div",{className:B},G,W,ee,k&&g.createElement(el,{motionName:`${re}-fade`,visible:P==="uploading",motionDeadline:2e3},xe=>{let{className:X}=xe;const fe="percent"in s?g.createElement(Jue,Object.assign({},c,{type:"line",percent:s.percent,"aria-label":s["aria-label"],"aria-labelledby":s["aria-labelledby"]})):null;return g.createElement("div",{className:ye(`${n}-list-item-progress`,X)},fe)})),Se=s.response&&typeof s.response=="string"?s.response:((M=s.error)===null||M===void 0?void 0:M.statusText)||((I=s.error)===null||I===void 0?void 0:I.message)||o.uploadError,Pe=P==="error"?g.createElement(jl,{title:Se,getPopupContainer:xe=>xe.parentNode},ce):ce;return g.createElement("div",{className:ye(`${n}-list-item-container`,r),style:i,ref:e},f?f(Pe,s,l,{download:_.bind(null,s),preview:C.bind(null,s),remove:T.bind(null,s)}):Pe)}),Kfe=qfe,Yfe=(t,e)=>{const{listType:n="text",previewFile:r=Gfe,onPreview:i,onDownload:o,onRemove:a,locale:s,iconRender:l,isImageUrl:c=Hfe,prefixCls:u,items:d=[],showPreviewIcon:f=!0,showRemoveIcon:p=!0,showDownloadIcon:y=!1,removeIcon:b,previewIcon:x,downloadIcon:v,progress:w={size:[-1,2],showInfo:!1},appendAction:S,appendActionVisible:C=!0,itemRender:_,disabled:T}=t,M=fU(),[I,R]=g.useState(!1);g.useEffect(()=>{n!=="picture"&&n!=="picture-card"&&n!=="picture-circle"||(d||[]).forEach(q=>{typeof document>"u"||typeof window>"u"||!window.FileReader||!window.File||!(q.originFileObj instanceof File||q.originFileObj instanceof Blob)||q.thumbUrl!==void 0||(q.thumbUrl="",r&&r(q.originFileObj).then(Z=>{q.thumbUrl=Z||"",M()}))})},[n,d,r]),g.useEffect(()=>{R(!0)},[]);const P=(q,Z)=>{if(i)return Z?.preventDefault(),i(q)},L=q=>{typeof o=="function"?o(q):q.url&&window.open(q.url)},k=q=>{a?.(q)},H=q=>{if(l)return l(q,n);const Z=q.status==="uploading",ee=c&&c(q)?g.createElement(kfe,null):g.createElement(Ife,null);let oe=Z?g.createElement(rg,null):g.createElement(Dfe,null);return n==="picture"?oe=Z?g.createElement(rg,null):ee:(n==="picture-card"||n==="picture-circle")&&(oe=Z?s.uploading:ee),oe},D=(q,Z,ee,oe)=>{const re={type:"text",size:"small",title:oe,onClick:ce=>{Z(),La(q)&&q.props.onClick&&q.props.onClick(ce)},className:`${ee}-list-item-action`,disabled:T};if(La(q)){const ce=_i(q,Object.assign(Object.assign({},q.props),{onClick:()=>{}}));return g.createElement(wa,Object.assign({},re,{icon:ce}))}return g.createElement(wa,Object.assign({},re),g.createElement("span",null,q))};g.useImperativeHandle(e,()=>({handlePreview:P,handleDownload:L}));const{getPrefixCls:G}=g.useContext(Wt),B=G("upload",u),$=G(),O=ye(`${B}-list`,`${B}-list-${n}`),z=mt(d.map(q=>({key:q.uid,file:q})));let F={motionDeadline:2e3,motionName:`${B}-${n==="picture-card"||n==="picture-circle"?"animate-inline":"animate"}`,keys:z,motionAppear:I};const W=g.useMemo(()=>{const q=Object.assign({},zw($));return delete q.onAppearEnd,delete q.onEnterEnd,delete q.onLeaveEnd,q},[$]);return n!=="picture-card"&&n!=="picture-circle"&&(F=Object.assign(Object.assign({},W),F)),g.createElement("div",{className:O},g.createElement(c$,Object.assign({},F,{component:!1}),q=>{let{key:Z,file:ee,className:oe,style:re}=q;return g.createElement(Kfe,{key:Z,locale:s,prefixCls:B,className:oe,style:re,file:ee,items:d,progress:w,listType:n,isImgUrl:c,showPreviewIcon:f,showRemoveIcon:p,showDownloadIcon:y,removeIcon:b,previewIcon:x,downloadIcon:v,iconRender:H,actionIconRender:D,itemRender:_,onPreview:P,onDownload:L,onClose:k})}),S&&g.createElement(el,Object.assign({},F,{visible:C,forceRender:!0}),q=>{let{className:Z,style:ee}=q;return _i(S,oe=>({className:ye(oe.className,Z),style:Object.assign(Object.assign(Object.assign({},ee),{pointerEvents:Z?"none":void 0}),oe.style)}))}))},Zfe=g.forwardRef(Yfe),Qfe=Zfe;var Jfe=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};const lm=`__LIST_IGNORE_${Date.now()}__`,ehe=(t,e)=>{const{fileList:n,defaultFileList:r,onRemove:i,showUploadList:o=!0,listType:a="text",onPreview:s,onDownload:l,onChange:c,onDrop:u,previewFile:d,disabled:f,locale:p,iconRender:y,isImageUrl:b,progress:x,prefixCls:v,className:w,type:S="select",children:C,style:_,itemRender:T,maxCount:M,data:I={},multiple:R=!1,action:P="",accept:L="",supportServerRender:k=!0,rootClassName:H}=t,D=g.useContext(Hd),G=f??D,[B,$]=kr(r||[],{value:n,postState:Be=>Be??[]}),[O,z]=g.useState("drop"),V=g.useRef(null);g.useMemo(()=>{const Be=Date.now();(n||[]).forEach((Fe,Ue)=>{!Fe.uid&&!Object.isFrozen(Fe)&&(Fe.uid=`__AUTO__${Be}_${Ue}__`)})},[n]);const F=(Be,Fe,Ue)=>{let et=mt(Fe),at=!1;M===1?et=et.slice(-1):M&&(at=et.length>M,et=et.slice(0,M)),Na.flushSync(()=>{$(et)});const We={file:Be,fileList:et};Ue&&(We.event=Ue),(!at||et.some(ut=>ut.uid===Be.uid))&&Na.flushSync(()=>{c?.(We)})},W=(Be,Fe)=>Jfe(void 0,void 0,void 0,function*(){const{beforeUpload:Ue,transformFile:et}=t;let at=Be;if(Ue){const We=yield Ue(Be,Fe);if(We===!1)return!1;if(delete Be[lm],We===lm)return Object.defineProperty(Be,lm,{value:!0,configurable:!0}),!1;typeof We=="object"&&We&&(at=We)}return et&&(at=yield et(at)),at}),q=Be=>{const Fe=Be.filter(at=>!at.file[lm]);if(!Fe.length)return;const Ue=Fe.map(at=>qv(at.file));let et=mt(B);Ue.forEach(at=>{et=Kv(at,et)}),Ue.forEach((at,We)=>{let ut=at;if(Fe[We].parsedFile)at.status="uploading";else{const{originFileObj:te}=at;let ke;try{ke=new File([te],te.name,{type:te.type})}catch{ke=new Blob([te],{type:te.type}),ke.name=te.name,ke.lastModifiedDate=new Date,ke.lastModified=new Date().getTime()}ke.uid=at.uid,ut=ke}F(ut,et)})},Z=(Be,Fe,Ue)=>{try{typeof Be=="string"&&(Be=JSON.parse(Be))}catch{}if(!O8(Fe,B))return;const et=qv(Fe);et.status="done",et.percent=100,et.response=Be,et.xhr=Ue;const at=Kv(et,B);F(et,at)},ee=(Be,Fe)=>{if(!O8(Fe,B))return;const Ue=qv(Fe);Ue.status="uploading",Ue.percent=Be.percent;const et=Kv(Ue,B);F(Ue,et,Be)},oe=(Be,Fe,Ue)=>{if(!O8(Ue,B))return;const et=qv(Ue);et.error=Be,et.response=Fe,et.status="error";const at=Kv(et,B);F(et,at)},re=Be=>{let Fe;Promise.resolve(typeof i=="function"?i(Be):i).then(Ue=>{var et;if(Ue===!1)return;const at=Bfe(Be,B);at&&(Fe=Object.assign(Object.assign({},Be),{status:"removed"}),B?.forEach(We=>{const ut=Fe.uid!==void 0?"uid":"name";We[ut]===Fe[ut]&&!Object.isFrozen(We)&&(We.status="removed")}),(et=V.current)===null||et===void 0||et.abort(Fe),F(Fe,at))})},ce=Be=>{z(Be.type),Be.type==="drop"&&u?.(Be)};g.useImperativeHandle(e,()=>({onBatchStart:q,onSuccess:Z,onProgress:ee,onError:oe,fileList:B,upload:V.current}));const{getPrefixCls:Se,direction:Pe,upload:xe}=g.useContext(Wt),X=Se("upload",v),fe=Object.assign(Object.assign({onBatchStart:q,onError:oe,onProgress:ee,onSuccess:Z},t),{data:I,multiple:R,action:P,accept:L,supportServerRender:k,prefixCls:X,disabled:G,beforeUpload:W,onChange:void 0});delete fe.className,delete fe.style,(!C||G)&&delete fe.id;const[pe,Ce]=Mfe(X),[me]=jg("Upload",Ed.Upload),{showRemoveIcon:Ge,showPreviewIcon:ve,showDownloadIcon:Re,removeIcon:Ae,previewIcon:Le,downloadIcon:Je}=typeof o=="boolean"?{}:o,K=(Be,Fe)=>o?g.createElement(Qfe,{prefixCls:X,listType:a,items:B,previewFile:d,onPreview:s,onDownload:l,onRemove:re,showRemoveIcon:!G&&Ge,showPreviewIcon:ve,showDownloadIcon:Re,removeIcon:Ae,previewIcon:Le,downloadIcon:Je,iconRender:y,locale:Object.assign(Object.assign({},me),p),isImageUrl:b,progress:x,appendAction:Be,appendActionVisible:Fe,itemRender:T,disabled:G}):Be,j=ye(`${X}-wrapper`,w,H,Ce,xe?.className,{[`${X}-rtl`]:Pe==="rtl",[`${X}-picture-card-wrapper`]:a==="picture-card",[`${X}-picture-circle-wrapper`]:a==="picture-circle"}),ae=Object.assign(Object.assign({},xe?.style),_);if(S==="drag"){const Be=ye(Ce,X,`${X}-drag`,{[`${X}-drag-uploading`]:B.some(Fe=>Fe.status==="uploading"),[`${X}-drag-hover`]:O==="dragover",[`${X}-disabled`]:G,[`${X}-rtl`]:Pe==="rtl"});return pe(g.createElement("span",{className:j},g.createElement("div",{className:Be,style:ae,onDrop:ce,onDragOver:ce,onDragLeave:ce},g.createElement(j7,Object.assign({},fe,{ref:V,className:`${X}-btn`}),g.createElement("div",{className:`${X}-drag-container`},C))),K()))}const Ee=ye(X,`${X}-select`,{[`${X}-disabled`]:G}),je=(Be=>g.createElement("div",{className:Ee,style:Be},g.createElement(j7,Object.assign({},fe,{ref:V}))))(C?void 0:{display:"none"});return pe(a==="picture-card"||a==="picture-circle"?g.createElement("span",{className:j},K(je,!!C)):g.createElement("span",{className:j},je,K()))},the=g.forwardRef(ehe),Ok=the;var nhe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const rhe=g.forwardRef((t,e)=>{var{style:n,height:r}=t,i=nhe(t,["style","height"]);return g.createElement(Ok,Object.assign({ref:e},i,{type:"drag",style:Object.assign(Object.assign({},n),{height:r})}))}),ihe=rhe,IC=Ok;IC.Dragger=ihe;IC.LIST_IGNORE=lm;const ohe=IC;var Ji=function(){return Ji=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ji.apply(this,arguments)};function Ty(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var ahe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rp=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",NC=typeof window<"u"&&"HTMLElement"in window,she=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),Q5=Object.freeze([]),ip=Object.freeze({});function lhe(t,e,n){return n===void 0&&(n=ip),t.theme!==n.theme&&t.theme||e||n.theme}var Lk=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),che=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,uhe=/(^-|-$)/g;function TP(t){return t.replace(che,"-").replace(uhe,"")}var dhe=/(a)(d)/gi,MP=function(t){return String.fromCharCode(t+(t>25?39:97))};function X7(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=MP(e%52)+n;return(MP(e%52)+n).replace(dhe,"$1-$2")}var L8,Sh=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},Dk=function(t){return Sh(5381,t)};function fhe(t){return X7(Dk(t)>>>0)}function hhe(t){return t.displayName||t.name||"Component"}function D8(t){return typeof t=="string"&&!0}var Fk=typeof Symbol=="function"&&Symbol.for,$k=Fk?Symbol.for("react.memo"):60115,phe=Fk?Symbol.for("react.forward_ref"):60112,mhe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ghe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Uk={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},vhe=((L8={})[phe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},L8[$k]=Uk,L8);function RP(t){return("type"in(e=t)&&e.type.$$typeof)===$k?Uk:"$$typeof"in t?vhe[t.$$typeof]:mhe;var e}var yhe=Object.defineProperty,xhe=Object.getOwnPropertyNames,AP=Object.getOwnPropertySymbols,She=Object.getOwnPropertyDescriptor,bhe=Object.getPrototypeOf,PP=Object.prototype;function kk(t,e,n){if(typeof e!="string"){if(PP){var r=bhe(e);r&&r!==PP&&kk(t,r,n)}var i=xhe(e);AP&&(i=i.concat(AP(e)));for(var o=RP(t),a=RP(e),s=0;s<i.length;++s){var l=i[s];if(!(l in ghe||n&&n[l]||a&&l in a||o&&l in o)){var c=She(e,l);try{yhe(t,l,c)}catch{}}}}return t}function Md(t){return typeof t=="function"}function OC(t){return typeof t=="object"&&"styledComponentId"in t}function Ju(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function IP(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function dg(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function q7(t,e,n){if(n===void 0&&(n=!1),!n&&!dg(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=q7(t[r],e[r]);else if(dg(e))for(var r in e)t[r]=q7(t[r],e[r]);return t}function LC(t,e){Object.defineProperty(t,"toString",{value:e})}function Rd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var whe=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,o=i;e>=o;)if((o<<=1)<0)throw Rd(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var a=i;a<o;a++)this.groupSizes[a]=0}for(var s=this.indexOfGroup(e+1),l=(a=0,n.length);a<l;a++)this.tag.insertRule(s,n[a])&&(this.groupSizes[e]++,s++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var o=r;o<i;o++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),o=i+r,a=i;a<o;a++)n+="".concat(this.tag.getRule(a)).concat(`/*!sc*/
`);return n},t}(),_2=new Map,My=new Map,F8=1,Yv=function(t){if(_2.has(t))return _2.get(t);for(;My.has(F8);)F8++;var e=F8++;return _2.set(t,e),My.set(e,t),e},Che=function(t,e){_2.set(t,e),My.set(e,t)},Ehe="style[".concat(rp,"][").concat("data-styled-version",'="').concat("6.0.8",'"]'),_he=new RegExp("^".concat(rp,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),The=function(t,e,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&t.registerName(e,r)},Mhe=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(`/*!sc*/
`),i=[],o=0,a=r.length;o<a;o++){var s=r[o].trim();if(s){var l=s.match(_he);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(Che(u,c),The(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(s)}}};function Rhe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Bk=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(s){var l=Array.from(s.querySelectorAll("style[".concat(rp,"]")));return l[l.length-1]}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(rp,"active"),r.setAttribute("data-styled-version","6.0.8");var a=Rhe();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},Ahe=function(){function t(e){this.element=Bk(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,o=r.length;i<o;i++){var a=r[i];if(a.ownerNode===n)return a}throw Rd(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),Phe=function(){function t(e){this.element=Bk(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),Ihe=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),NP=NC,Nhe={isServer:!NC,useCSSOMInjection:!she},zk=function(){function t(e,n,r){e===void 0&&(e=ip),n===void 0&&(n={});var i=this;this.options=Ji(Ji({},Nhe),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&NC&&NP&&(NP=!1,function(o){for(var a=document.querySelectorAll(Ehe),s=0,l=a.length;s<l;s++){var c=a[s];c&&c.getAttribute(rp)!=="active"&&(Mhe(o,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),LC(this,function(){return function(o){for(var a=o.getTag(),s=a.length,l="",c=function(d){var f=function(v){return My.get(v)}(d);if(f===void 0)return"continue";var p=o.names.get(f),y=a.getGroup(d);if(p===void 0||y.length===0)return"continue";var b="".concat(rp,".g").concat(d,'[id="').concat(f,'"]'),x="";p!==void 0&&p.forEach(function(v){v.length>0&&(x+="".concat(v,","))}),l+="".concat(y).concat(b,'{content:"').concat(x,'"}').concat(`/*!sc*/
`)},u=0;u<s;u++)c(u);return l}(i)})}return t.registerId=function(e){return Yv(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Ji(Ji({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new Ihe(i):r?new Ahe(i):new Phe(i)}(this.options),new whe(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Yv(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Yv(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Yv(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Ohe=/&/g,Lhe=/^\s*\/\/.*$/gm;function Hk(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Hk(n.children,e)),n})}function Dhe(t){var e,n,r,i=t===void 0?ip:t,o=i.options,a=o===void 0?ip:o,s=i.plugins,l=s===void 0?Q5:s,c=function(f,p,y){return y===n||y.startsWith(n)&&y.endsWith(n)&&y.replaceAll(n,"").length>0?".".concat(e):f},u=l.slice();u.push(function(f){f.type===C5&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(Ohe,n).replace(r,c))}),a.prefix&&u.push(Jq),u.push(OF);var d=function(f,p,y,b){p===void 0&&(p=""),y===void 0&&(y=""),b===void 0&&(b="&"),e=b,n=p,r=new RegExp("\\".concat(n,"\\b"),"g");var x=f.replace(Lhe,""),v=IF(y||p?"".concat(y," ").concat(p," { ").concat(x," }"):x);a.namespace&&(v=Hk(v,a.namespace));var w=[];return tg(v,Zq(u.concat(Qq(function(S){return w.push(S)})))),w};return d.hash=l.length?l.reduce(function(f,p){return p.name||Rd(15),Sh(f,p.name)},5381).toString():"",d}var Fhe=new zk,K7=Dhe(),Gk=se.createContext({shouldForwardProp:void 0,styleSheet:Fhe,stylis:K7});Gk.Consumer;se.createContext(void 0);function OP(){return g.useContext(Gk)}var $he=function(){function t(e,n){var r=this;this.inject=function(i,o){o===void 0&&(o=K7);var a=r.name+o.hash;i.hasNameForId(r.id,a)||i.insertRules(r.id,a,o(r.rules,a,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,LC(this,function(){throw Rd(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=K7),this.name+e.hash},t}(),Uhe=function(t){return t>="A"&&t<="Z"};function LP(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;Uhe(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var Vk=function(t){return t==null||t===!1||t===""},Wk=function(t){var e,n,r=[];for(var i in t){var o=t[i];t.hasOwnProperty(i)&&!Vk(o)&&(Array.isArray(o)&&o.isCss||Md(o)?r.push("".concat(LP(i),":"),o,";"):dg(o)?r.push.apply(r,Ty(Ty(["".concat(i," {")],Wk(o),!1),["}"],!1)):r.push("".concat(LP(i),": ").concat((e=i,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in ahe||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function fd(t,e,n,r){if(Vk(t))return[];if(OC(t))return[".".concat(t.styledComponentId)];if(Md(t)){if(!Md(o=t)||o.prototype&&o.prototype.isReactComponent||!e)return[t];var i=t(e);return fd(i,e,n,r)}var o;return t instanceof $he?n?(t.inject(n,r),[t.getName(r)]):[t]:dg(t)?Wk(t):Array.isArray(t)?Array.prototype.concat.apply(Q5,t.map(function(a){return fd(a,e,n,r)})):[t.toString()]}function khe(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Md(n)&&!OC(n))return!1}return!0}var Bhe=Dk("6.0.8"),zhe=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&khe(e),this.componentId=n,this.baseHash=Sh(Bhe,n),this.baseStyle=r,zk.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Ju(i,this.staticRulesId);else{var o=IP(fd(this.rules,e,n,r)),a=X7(Sh(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,a)){var s=r(o,".".concat(a),void 0,this.componentId);n.insertRules(this.componentId,a,s)}i=Ju(i,a),this.staticRulesId=a}else{for(var l=Sh(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var f=IP(fd(d,e,n,r));l=Sh(l,f+u),c+=f}}if(c){var p=X7(l>>>0);n.hasNameForId(this.componentId,p)||n.insertRules(this.componentId,p,r(c,".".concat(p),void 0,this.componentId)),i=Ju(i,p)}}return i},t}(),Ry=se.createContext(void 0);Ry.Consumer;function Hhe(t){var e=se.useContext(Ry),n=g.useMemo(function(){return function(r,i){if(!r)throw Rd(14);if(Md(r)){var o=r(i);return o}if(Array.isArray(r)||typeof r!="object")throw Rd(8);return i?Ji(Ji({},i),r):r}(t.theme,e)},[t.theme,e]);return t.children?se.createElement(Ry.Provider,{value:n},t.children):null}var $8={};function Ghe(t,e,n){var r=OC(t),i=t,o=!D8(t),a=e.attrs,s=a===void 0?Q5:a,l=e.componentId,c=l===void 0?function(S,C){var _=typeof S!="string"?"sc":TP(S);$8[_]=($8[_]||0)+1;var T="".concat(_,"-").concat(fhe("6.0.8"+_+$8[_]));return C?"".concat(C,"-").concat(T):T}(e.displayName,e.parentComponentId):l,u=e.displayName;u===void 0&&function(S){return D8(S)?"styled.".concat(S):"Styled(".concat(hhe(S),")")}(t);var d=e.displayName&&e.componentId?"".concat(TP(e.displayName),"-").concat(e.componentId):e.componentId||c,f=r&&i.attrs?i.attrs.concat(s).filter(Boolean):s,p=e.shouldForwardProp;if(r&&i.shouldForwardProp){var y=i.shouldForwardProp;if(e.shouldForwardProp){var b=e.shouldForwardProp;p=function(S,C){return y(S,C)&&b(S,C)}}else p=y}var x=new zhe(n,d,r?i.componentStyle:void 0);function v(S,C){return function(_,T,M){var I=_.attrs,R=_.componentStyle,P=_.defaultProps,L=_.foldedComponentIds,k=_.styledComponentId,H=_.target,D=se.useContext(Ry),G=OP(),B=_.shouldForwardProp||G.shouldForwardProp,$=function(q,Z,ee){for(var oe,re=Ji(Ji({},Z),{className:void 0,theme:ee}),ce=0;ce<q.length;ce+=1){var Se=Md(oe=q[ce])?oe(re):oe;for(var Pe in Se)re[Pe]=Pe==="className"?Ju(re[Pe],Se[Pe]):Pe==="style"?Ji(Ji({},re[Pe]),Se[Pe]):Se[Pe]}return Z.className&&(re.className=Ju(re.className,Z.className)),re}(I,T,lhe(T,D,P)||ip),O=$.as||H,z={};for(var V in $)$[V]===void 0||V[0]==="$"||V==="as"||V==="theme"||(V==="forwardedAs"?z.as=$.forwardedAs:B&&!B(V,O)||(z[V]=$[V]));var F=function(q,Z){var ee=OP(),oe=q.generateAndInjectStyles(Z,ee.styleSheet,ee.stylis);return oe}(R,$),W=Ju(L,k);return F&&(W+=" "+F),$.className&&(W+=" "+$.className),z[D8(O)&&!Lk.has(O)?"class":"className"]=W,z.ref=M,g.createElement(O,z)}(w,S,C)}var w=se.forwardRef(v);return w.attrs=f,w.componentStyle=x,w.shouldForwardProp=p,w.foldedComponentIds=r?Ju(i.foldedComponentIds,i.styledComponentId):"",w.styledComponentId=d,w.target=r?i.target:t,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(S){this._foldedDefaultProps=r?function(C){for(var _=[],T=1;T<arguments.length;T++)_[T-1]=arguments[T];for(var M=0,I=_;M<I.length;M++)q7(C,I[M],!0);return C}({},i.defaultProps,S):S}}),LC(w,function(){return".".concat(w.styledComponentId)}),o&&kk(w,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function DP(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var FP=function(t){return Object.assign(t,{isCss:!0})};function Vhe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Md(t)||dg(t)){var r=t;return FP(fd(DP(Q5,Ty([r],e,!0))))}var i=t;return e.length===0&&i.length===1&&typeof i[0]=="string"?fd(i):FP(fd(DP(i,e)))}function Y7(t,e,n){if(n===void 0&&(n=ip),!e)throw Rd(1,e);var r=function(i){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];return t(e,n,Vhe.apply(void 0,Ty([i],o,!1)))};return r.attrs=function(i){return Y7(t,e,Ji(Ji({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Y7(t,e,Ji(Ji({},n),i))},r}var jk=function(t){return Y7(Ghe,t)},Dn=jk;Lk.forEach(function(t){Dn[t]=jk(t)});const Whe=Dn.header`
  display: flex;
  align-items: center;
  height: 5rem;
  background-color: ${t=>t.theme.light?"#004b87":"#142c3f"};
  color: ${t=>t.theme.light?"#f5f5f5":"#9faee5"};
`,jhe=Dn.a`
  margin: 0 1rem;
  color: #eee;
  text-decoration: none;
  display: flex;
  align-items: center;
`,Xhe=Dn.img`
  border: 1px solid #000000;
  filter: invert(100%);
  position: relative;
  width: 65px;
  height: 65px;
  color: #eee;
`,qhe=Dn.div`
  position: relative;
  left: 1.4rem;
  bottom: 0.2rem;
  font-family: 'Darumadrop One', cursive;
  font-size: 2.3rem;
`,Khe=Dn.nav`
  display: flex;
  position: absolute;
  right: 1rem;
  flex-direction: row;
  align-items: center;
  margin-right: 2rem;
  @media (max-width: 760px) {
    display: none;
  }
`,Zv=Dn.button`
  font-family: 'Source Code Pro', monospace;
  font-size: 0.8rem;
  color: #000000;
  background-color: #f3f3f3;
  height: 2.7rem;
  width: 4.5rem;
  margin: 0 0.1rem;
  cursor: pointer;
`,Qv=Dn(wa)`
  color: #eeeeee;
  background-color: #00a9ce;
  height: 3.2rem;
  width: 8rem;
  margin: 0 0.2rem;
  cursor: pointer;
  @media (max-width: 760px) {
    margin-bottom: 0.2rem;
  }
`,Yhe=Dn.button`
  display: inline;
  width: 2rem;
  height: 9rem;
  background: none;
  border: none;
  color: white;
  font-size: 2em;
  position: absolute;
  right: 2rem;
  cursor: pointer;
  @media (min-width: 760px) {
    display: none;
  }
`,Zhe=Dn.nav`
  display: inline;
  flex-direction: column;
  align-items: center;
  width: 8.4rem;
  height: 15rem;
  position: absolute;
  top: 4.5rem;
  right: 1rem;
  margin-bottom: 1rem;
  @media (min-width: 760px) {
    display: none;
  }
`;function Qhe(t){const{setCurThemeMode:e,setPage:n}=t,[r,i]=g.useState(!1);return Ke.jsxs(Whe,{children:[Ke.jsxs(jhe,{href:"/",children:[Ke.jsx(Xhe,{src:"/physics.svg",alt:"Physics in the Browser Logo ",width:50,height:50}),Ke.jsx(qhe,{children:"CFlowSim"})]}),Ke.jsx(Yhe,{onClick:()=>{i(o=>!o)},children:r?Ke.jsx(Ke.Fragment,{children:""}):Ke.jsx(Ke.Fragment,{children:""})}),Ke.jsxs(Khe,{children:[Ke.jsx(Qv,{type:"primary",onClick:()=>{n(0)},children:"Simulations"}),Ke.jsx(Qv,{type:"primary",onClick:()=>{n(1)},children:"About"}),Ke.jsx(Zv,{onClick:()=>{e("light")},children:"Light"}),Ke.jsx(Zv,{onClick:()=>{e("dark")},children:"Dark"})]}),r?Ke.jsxs(Zhe,{children:[Ke.jsx(Qv,{type:"primary",onClick:()=>{n(0)},children:"Simulations"}),Ke.jsx(Qv,{type:"primary",onClick:()=>{n(1)},children:"About"}),Ke.jsx(Zv,{onClick:()=>{e("light")},children:"Light"}),Ke.jsx(Zv,{onClick:()=>{e("dark")},children:"Dark"})]}):Ke.jsx(Ke.Fragment,{})]})}var Jhe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"};const epe=Jhe;var tpe=function(e,n){return g.createElement(tr,it({},e,{ref:n,icon:epe}))};const npe=g.forwardRef(tpe);/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Gd="157",ku={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Bu={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},DC=0,Ay=1,FC=2,rpe=3,Xk=0,J5=1,Mm=2,Xa=3,ds=0,Kr=1,co=2,ipe=2,Yo=0,Ma=1,Ad=2,Pd=3,Id=4,e6=5,jo=100,t6=101,n6=102,Py=103,Iy=104,r6=200,i6=201,o6=202,a6=203,a3=204,s3=205,s6=206,l6=207,c6=208,u6=209,d6=210,f6=0,h6=1,p6=2,op=3,m6=4,g6=5,v6=6,y6=7,l3=0,qk=1,Kk=2,Po=0,$C=1,UC=2,kC=3,x6=4,Yk=5,S6=300,fs=301,Ks=302,Zc=303,Qc=304,qp=306,Nd=1e3,Ni=1001,Od=1002,Wn=1003,Ld=1004,ope=1004,Dl=1005,ape=1005,Er=1006,b6=1007,spe=1007,hs=1008,lpe=1008,Io=1009,BC=1010,zC=1011,Kp=1012,w6=1013,Ca=1014,Xr=1015,Ws=1016,C6=1017,E6=1018,Ra=1020,HC=1021,Qi=1023,GC=1024,VC=1025,Aa=1026,ps=1027,ap=1028,_6=1029,T6=1030,M6=1031,R6=1033,hd=33776,Gc=33777,Vc=33778,Wc=33779,fg=35840,hg=35841,pg=35842,mg=35843,WC=36196,sp=37492,lp=37496,cp=37808,up=37809,dp=37810,fp=37811,hp=37812,pp=37813,mp=37814,gp=37815,vp=37816,yp=37817,xp=37818,Sp=37819,bp=37820,wp=37821,pd=36492,Z7=36494,Q7=36495,jC=36283,gg=36284,vg=36285,yg=36286,Zk=2200,Qk=2201,Jk=2202,xg=2300,Sg=2301,T2=2302,ed=2400,td=2401,bg=2402,A6=2500,XC=2501,cpe=0,upe=1,dpe=2,P6=3e3,Fl=3001,eB=3200,tB=3201,Ys=0,qC=1,Oi="",$t="srgb",Oo="srgb-linear",I6="display-p3",c3="display-p3-linear",wg="linear",cr="srgb",Cg="rec709",Eg="p3",nB=0,Rm=7680,rB=7681,iB=7682,oB=7683,aB=34055,sB=34056,lB=5386,cB=512,uB=513,dB=514,fB=515,hB=516,pB=517,mB=518,KC=519,N6=512,u3=513,O6=514,L6=515,D6=516,F6=517,$6=518,U6=519,Cp=35044,k6=35048,fpe=35040,hpe=35045,ppe=35049,mpe=35041,gpe=35046,vpe=35050,ype=35042,xpe="100",J7="300 es",Ny=1035,ns=2e3,Ep=2001;class ys{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}}const Xi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let $P=1234567;const md=Math.PI/180,_p=180/Math.PI;function Zo(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Xi[t&255]+Xi[t>>8&255]+Xi[t>>16&255]+Xi[t>>24&255]+"-"+Xi[e&255]+Xi[e>>8&255]+"-"+Xi[e>>16&15|64]+Xi[e>>24&255]+"-"+Xi[n&63|128]+Xi[n>>8&255]+"-"+Xi[n>>16&255]+Xi[n>>24&255]+Xi[r&255]+Xi[r>>8&255]+Xi[r>>16&255]+Xi[r>>24&255]).toLowerCase()}function $r(t,e,n){return Math.max(e,Math.min(n,t))}function YC(t,e){return(t%e+e)%e}function Spe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function bpe(t,e,n){return t!==e?(n-t)/(e-t):0}function Am(t,e,n){return(1-n)*t+n*e}function wpe(t,e,n,r){return Am(t,e,1-Math.exp(-n*r))}function Cpe(t,e=1){return e-Math.abs(YC(t,e*2)-e)}function Epe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function _pe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Tpe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Mpe(t,e){return t+Math.random()*(e-t)}function Rpe(t){return t*(.5-Math.random())}function Ape(t){t!==void 0&&($P=t);let e=$P+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Ppe(t){return t*md}function Ipe(t){return t*_p}function e9(t){return(t&t-1)===0&&t!==0}function gB(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Oy(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Npe(t,e,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((e+r)/2),u=a((e+r)/2),d=o((e-r)/2),f=a((e-r)/2),p=o((r-e)/2),y=a((r-e)/2);switch(i){case"XYX":t.set(s*u,l*d,l*f,s*c);break;case"YZY":t.set(l*f,s*u,l*d,s*c);break;case"ZXZ":t.set(l*d,l*f,s*u,s*c);break;case"XZX":t.set(s*u,l*y,l*p,s*c);break;case"YXY":t.set(l*p,s*u,l*y,s*c);break;case"ZYZ":t.set(l*y,l*p,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function _o(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function xn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const vB={DEG2RAD:md,RAD2DEG:_p,generateUUID:Zo,clamp:$r,euclideanModulo:YC,mapLinear:Spe,inverseLerp:bpe,lerp:Am,damp:wpe,pingpong:Cpe,smoothstep:Epe,smootherstep:_pe,randInt:Tpe,randFloat:Mpe,randFloatSpread:Rpe,seededRandom:Ape,degToRad:Ppe,radToDeg:Ipe,isPowerOfTwo:e9,ceilPowerOfTwo:gB,floorPowerOfTwo:Oy,setQuaternionFromProperEuler:Npe,normalize:xn,denormalize:_o};class Qe{constructor(e=0,n=0){Qe.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos($r(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,a=this.y-e.y;return this.x=o*r-a*i+e.x,this.y=o*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class mn{constructor(e,n,r,i,o,a,s,l,c){mn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,c)}set(e,n,r,i,o,a,s,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=s,u[3]=n,u[4]=o,u[5]=l,u[6]=r,u[7]=a,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],p=r[5],y=r[8],b=i[0],x=i[3],v=i[6],w=i[1],S=i[4],C=i[7],_=i[2],T=i[5],M=i[8];return o[0]=a*b+s*w+l*_,o[3]=a*x+s*S+l*T,o[6]=a*v+s*C+l*M,o[1]=c*b+u*w+d*_,o[4]=c*x+u*S+d*T,o[7]=c*v+u*C+d*M,o[2]=f*b+p*w+y*_,o[5]=f*x+p*S+y*T,o[8]=f*v+p*C+y*M,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8];return n*a*u-n*s*c-r*o*u+r*s*l+i*o*c-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=u*a-s*c,f=s*l-u*o,p=c*o-a*l,y=n*d+r*f+i*p;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const b=1/y;return e[0]=d*b,e[1]=(i*c-u*r)*b,e[2]=(s*r-i*a)*b,e[3]=f*b,e[4]=(u*n-i*l)*b,e[5]=(i*o-s*n)*b,e[6]=p*b,e[7]=(r*l-c*n)*b,e[8]=(a*n-r*o)*b,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,a,s){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*a+c*s)+a+e,-i*c,i*l,-i*(-c*a+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(U8.makeScale(e,n)),this}rotate(e){return this.premultiply(U8.makeRotation(-e)),this}translate(e,n){return this.premultiply(U8.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const U8=new mn;function yB(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Ope={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function bh(t,e){return new Ope[t](e)}function _g(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function ZC(){const t=_g("canvas");return t.style.display="block",t}const UP={};function Pm(t){t in UP||(UP[t]=!0,console.warn(t))}const kP=new mn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),BP=new mn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Jv={[Oo]:{transfer:wg,primaries:Cg,toReference:t=>t,fromReference:t=>t},[$t]:{transfer:cr,primaries:Cg,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[c3]:{transfer:wg,primaries:Eg,toReference:t=>t.applyMatrix3(BP),fromReference:t=>t.applyMatrix3(kP)},[I6]:{transfer:cr,primaries:Eg,toReference:t=>t.convertSRGBToLinear().applyMatrix3(BP),fromReference:t=>t.applyMatrix3(kP).convertLinearToSRGB()}},Lpe=new Set([Oo,c3]),Qn={enabled:!0,_workingColorSpace:Oo,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!Lpe.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=Jv[e].toReference,i=Jv[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Jv[t].primaries},getTransfer:function(t){return t===Oi?wg:Jv[t].transfer}};function kh(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function k8(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Rf;class QC{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Rf===void 0&&(Rf=_g("canvas")),Rf.width=e.width,Rf.height=e.height;const r=Rf.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Rf}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=_g("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let a=0;a<o.length;a++)o[a]=kh(o[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(kh(n[r]/255)*255):n[r]=kh(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Dpe=0;class nd{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Dpe++}),this.uuid=Zo(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let a=0,s=i.length;a<s;a++)i[a].isDataTexture?o.push(B8(i[a].image)):o.push(B8(i[a]))}else o=B8(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function B8(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?QC.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Fpe=0;class Nr extends ys{constructor(e=Nr.DEFAULT_IMAGE,n=Nr.DEFAULT_MAPPING,r=Ni,i=Ni,o=Er,a=hs,s=Qi,l=Io,c=Nr.DEFAULT_ANISOTROPY,u=Oi){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Fpe++}),this.uuid=Zo(),this.name="",this.source=new nd(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=a,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=l,this.offset=new Qe(0,0),this.repeat=new Qe(1,1),this.center=new Qe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new mn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(Pm("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===Fl?$t:Oi),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==S6)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Nd:e.x=e.x-Math.floor(e.x);break;case Ni:e.x=e.x<0?0:1;break;case Od:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Nd:e.y=e.y-Math.floor(e.y);break;case Ni:e.y=e.y<0?0:1;break;case Od:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Pm("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===$t?Fl:P6}set encoding(e){Pm("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Fl?$t:Oi}}Nr.DEFAULT_IMAGE=null;Nr.DEFAULT_MAPPING=S6;Nr.DEFAULT_ANISOTROPY=1;class Tn{constructor(e=0,n=0,r=0,i=1){Tn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*o,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*o,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*o,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],p=l[5],y=l[9],b=l[2],x=l[6],v=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-b)<.01&&Math.abs(y-x)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+b)<.1&&Math.abs(y+x)<.1&&Math.abs(c+p+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const S=(c+1)/2,C=(p+1)/2,_=(v+1)/2,T=(u+f)/4,M=(d+b)/4,I=(y+x)/4;return S>C&&S>_?S<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(S),i=T/r,o=M/r):C>_?C<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(C),r=T/i,o=I/i):_<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(_),r=M/o,i=I/o),this.set(r,i,o,n),this}let w=Math.sqrt((x-y)*(x-y)+(d-b)*(d-b)+(f-u)*(f-u));return Math.abs(w)<.001&&(w=1),this.x=(x-y)/w,this.y=(d-b)/w,this.z=(f-u)/w,this.w=Math.acos((c+p+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class JC extends ys{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Tn(0,0,e,n),this.scissorTest=!1,this.viewport=new Tn(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(Pm("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Fl?$t:Oi),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Er,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new Nr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new nd(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ms extends JC{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class B6 extends Nr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Wn,this.minFilter=Wn,this.wrapR=Ni,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class $pe extends ms{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new B6(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class eE extends Nr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Wn,this.minFilter=Wn,this.wrapR=Ni,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Upe extends ms{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new eE(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class kpe extends ms{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const o=this.texture;this.texture=[];for(let a=0;a<r;a++)this.texture[a]=o.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.texture.length;i<o;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class to{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,a,s){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const f=o[a+0],p=o[a+1],y=o[a+2],b=o[a+3];if(s===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(s===1){e[n+0]=f,e[n+1]=p,e[n+2]=y,e[n+3]=b;return}if(d!==b||l!==f||c!==p||u!==y){let x=1-s;const v=l*f+c*p+u*y+d*b,w=v>=0?1:-1,S=1-v*v;if(S>Number.EPSILON){const _=Math.sqrt(S),T=Math.atan2(_,v*w);x=Math.sin(x*T)/_,s=Math.sin(s*T)/_}const C=s*w;if(l=l*x+f*C,c=c*x+p*C,u=u*x+y*C,d=d*x+b*C,x===1-s){const _=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=_,c*=_,u*=_,d*=_}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,o,a){const s=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=o[a],f=o[a+1],p=o[a+2],y=o[a+3];return e[n]=s*y+u*d+l*p-c*f,e[n+1]=l*y+u*f+c*d-s*p,e[n+2]=c*y+u*p+s*f-l*d,e[n+3]=u*y-s*d-l*f-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,o=e._z,a=e._order,s=Math.cos,l=Math.sin,c=s(r/2),u=s(i/2),d=s(o/2),f=l(r/2),p=l(i/2),y=l(o/2);switch(a){case"XYZ":this._x=f*u*d+c*p*y,this._y=c*p*d-f*u*y,this._z=c*u*y+f*p*d,this._w=c*u*d-f*p*y;break;case"YXZ":this._x=f*u*d+c*p*y,this._y=c*p*d-f*u*y,this._z=c*u*y-f*p*d,this._w=c*u*d+f*p*y;break;case"ZXY":this._x=f*u*d-c*p*y,this._y=c*p*d+f*u*y,this._z=c*u*y+f*p*d,this._w=c*u*d-f*p*y;break;case"ZYX":this._x=f*u*d-c*p*y,this._y=c*p*d+f*u*y,this._z=c*u*y-f*p*d,this._w=c*u*d+f*p*y;break;case"YZX":this._x=f*u*d+c*p*y,this._y=c*p*d+f*u*y,this._z=c*u*y-f*p*d,this._w=c*u*d-f*p*y;break;case"XZY":this._x=f*u*d-c*p*y,this._y=c*p*d-f*u*y,this._z=c*u*y+f*p*d,this._w=c*u*d+f*p*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=r+s+d;if(f>0){const p=.5/Math.sqrt(f+1);this._w=.25/p,this._x=(u-l)*p,this._y=(o-c)*p,this._z=(a-i)*p}else if(r>s&&r>d){const p=2*Math.sqrt(1+r-s-d);this._w=(u-l)/p,this._x=.25*p,this._y=(i+a)/p,this._z=(o+c)/p}else if(s>d){const p=2*Math.sqrt(1+s-r-d);this._w=(o-c)/p,this._x=(i+a)/p,this._y=.25*p,this._z=(l+u)/p}else{const p=2*Math.sqrt(1+d-r-s);this._w=(a-i)/p,this._x=(o+c)/p,this._y=(l+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs($r(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,a=e._w,s=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+a*s+i*c-o*l,this._y=i*u+a*l+o*s-r*c,this._z=o*u+a*c+r*l-i*s,this._w=a*u-r*s-i*l-o*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,a=this._w;let s=a*e._w+r*e._x+i*e._y+o*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=a,this._x=r,this._y=i,this._z=o,this;const l=1-s*s;if(l<=Number.EPSILON){const p=1-n;return this._w=p*a+n*this._w,this._x=p*r+n*this._x,this._y=p*i+n*this._y,this._z=p*o+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,s),d=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=a*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=o*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(o),r*Math.cos(o),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Q{constructor(e=0,n=0,r=0){Q.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(zP.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(zP.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,a=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*a,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*a,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,a=e.y,s=e.z,l=e.w,c=l*n+a*i-s*r,u=l*r+s*n-o*i,d=l*i+o*r-a*n,f=-o*n-a*r-s*i;return this.x=c*l+f*-o+u*-s-d*-a,this.y=u*l+f*-a+d*-o-c*-s,this.z=d*l+f*-s+c*-a-u*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,a=n.x,s=n.y,l=n.z;return this.x=i*l-o*s,this.y=o*a-r*l,this.z=r*s-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return z8.copy(this).projectOnVector(e),this.sub(z8)}reflect(e){return this.sub(z8.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos($r(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const z8=new Q,zP=new to;class tl{constructor(e=new Q(1/0,1/0,1/0),n=new Q(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(vl.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(vl.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=vl.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Af.copy(e.boundingBox),Af.applyMatrix4(e.matrixWorld),this.union(Af);else{const i=e.geometry;if(i!==void 0)if(n&&i.attributes!==void 0&&i.attributes.position!==void 0){const o=i.attributes.position;for(let a=0,s=o.count;a<s;a++)vl.fromBufferAttribute(o,a).applyMatrix4(e.matrixWorld),this.expandByPoint(vl)}else i.boundingBox===null&&i.computeBoundingBox(),Af.copy(i.boundingBox),Af.applyMatrix4(e.matrixWorld),this.union(Af)}const r=e.children;for(let i=0,o=r.length;i<o;i++)this.expandByObject(r[i],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,vl),vl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(U0),e1.subVectors(this.max,U0),Pf.subVectors(e.a,U0),If.subVectors(e.b,U0),Nf.subVectors(e.c,U0),dc.subVectors(If,Pf),fc.subVectors(Nf,If),Cu.subVectors(Pf,Nf);let n=[0,-dc.z,dc.y,0,-fc.z,fc.y,0,-Cu.z,Cu.y,dc.z,0,-dc.x,fc.z,0,-fc.x,Cu.z,0,-Cu.x,-dc.y,dc.x,0,-fc.y,fc.x,0,-Cu.y,Cu.x,0];return!H8(n,Pf,If,Nf,e1)||(n=[1,0,0,0,1,0,0,0,1],!H8(n,Pf,If,Nf,e1))?!1:(t1.crossVectors(dc,fc),n=[t1.x,t1.y,t1.z],H8(n,Pf,If,Nf,e1))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,vl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(vl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(gl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),gl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),gl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),gl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),gl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),gl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),gl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),gl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(gl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const gl=[new Q,new Q,new Q,new Q,new Q,new Q,new Q,new Q],vl=new Q,Af=new tl,Pf=new Q,If=new Q,Nf=new Q,dc=new Q,fc=new Q,Cu=new Q,U0=new Q,e1=new Q,t1=new Q,Eu=new Q;function H8(t,e,n,r,i){for(let o=0,a=t.length-3;o<=a;o+=3){Eu.fromArray(t,o);const s=i.x*Math.abs(Eu.x)+i.y*Math.abs(Eu.y)+i.z*Math.abs(Eu.z),l=e.dot(Eu),c=n.dot(Eu),u=r.dot(Eu);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>s)return!1}return!0}const Bpe=new tl,k0=new Q,G8=new Q;class xs{constructor(e=new Q,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Bpe.setFromPoints(e).getCenter(r);let i=0;for(let o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;k0.subVectors(e,this.center);const n=k0.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(k0,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(G8.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(k0.copy(e.center).add(G8)),this.expandByPoint(k0.copy(e.center).sub(G8))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const yl=new Q,V8=new Q,n1=new Q,hc=new Q,W8=new Q,r1=new Q,j8=new Q;class Vd{constructor(e=new Q,n=new Q(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,yl)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=yl.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(yl.copy(this.origin).addScaledVector(this.direction,n),yl.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){V8.copy(e).add(n).multiplyScalar(.5),n1.copy(n).sub(e).normalize(),hc.copy(this.origin).sub(V8);const o=e.distanceTo(n)*.5,a=-this.direction.dot(n1),s=hc.dot(this.direction),l=-hc.dot(n1),c=hc.lengthSq(),u=Math.abs(1-a*a);let d,f,p,y;if(u>0)if(d=a*l-s,f=a*s-l,y=o*u,d>=0)if(f>=-y)if(f<=y){const b=1/u;d*=b,f*=b,p=d*(d+a*f+2*s)+f*(a*d+f+2*l)+c}else f=o,d=Math.max(0,-(a*f+s)),p=-d*d+f*(f+2*l)+c;else f=-o,d=Math.max(0,-(a*f+s)),p=-d*d+f*(f+2*l)+c;else f<=-y?(d=Math.max(0,-(-a*o+s)),f=d>0?-o:Math.min(Math.max(-o,-l),o),p=-d*d+f*(f+2*l)+c):f<=y?(d=0,f=Math.min(Math.max(-o,-l),o),p=f*(f+2*l)+c):(d=Math.max(0,-(a*o+s)),f=d>0?o:Math.min(Math.max(-o,-l),o),p=-d*d+f*(f+2*l)+c);else f=a>0?-o:o,d=Math.max(0,-(a*f+s)),p=-d*d+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(V8).addScaledVector(n1,f),p}intersectSphere(e,n){yl.subVectors(e.center,this.origin);const r=yl.dot(this.direction),i=yl.dot(yl)-r*r,o=e.radius*e.radius;if(i>o)return null;const a=Math.sqrt(o-i),s=r-a,l=r+a;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,a,s,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(o=(e.min.y-f.y)*u,a=(e.max.y-f.y)*u):(o=(e.max.y-f.y)*u,a=(e.min.y-f.y)*u),r>a||o>i||((o>r||isNaN(r))&&(r=o),(a<i||isNaN(i))&&(i=a),d>=0?(s=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(s=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,yl)!==null}intersectTriangle(e,n,r,i,o){W8.subVectors(n,e),r1.subVectors(r,e),j8.crossVectors(W8,r1);let a=this.direction.dot(j8),s;if(a>0){if(i)return null;s=1}else if(a<0)s=-1,a=-a;else return null;hc.subVectors(this.origin,e);const l=s*this.direction.dot(r1.crossVectors(hc,r1));if(l<0)return null;const c=s*this.direction.dot(W8.cross(hc));if(c<0||l+c>a)return null;const u=-s*hc.dot(j8);return u<0?null:this.at(u/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class on{constructor(e,n,r,i,o,a,s,l,c,u,d,f,p,y,b,x){on.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,c,u,d,f,p,y,b,x)}set(e,n,r,i,o,a,s,l,c,u,d,f,p,y,b,x){const v=this.elements;return v[0]=e,v[4]=n,v[8]=r,v[12]=i,v[1]=o,v[5]=a,v[9]=s,v[13]=l,v[2]=c,v[6]=u,v[10]=d,v[14]=f,v[3]=p,v[7]=y,v[11]=b,v[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new on().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Of.setFromMatrixColumn(e,0).length(),o=1/Of.setFromMatrixColumn(e,1).length(),a=1/Of.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,a=Math.cos(r),s=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(o),d=Math.sin(o);if(e.order==="XYZ"){const f=a*u,p=a*d,y=s*u,b=s*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=p+y*c,n[5]=f-b*c,n[9]=-s*l,n[2]=b-f*c,n[6]=y+p*c,n[10]=a*l}else if(e.order==="YXZ"){const f=l*u,p=l*d,y=c*u,b=c*d;n[0]=f+b*s,n[4]=y*s-p,n[8]=a*c,n[1]=a*d,n[5]=a*u,n[9]=-s,n[2]=p*s-y,n[6]=b+f*s,n[10]=a*l}else if(e.order==="ZXY"){const f=l*u,p=l*d,y=c*u,b=c*d;n[0]=f-b*s,n[4]=-a*d,n[8]=y+p*s,n[1]=p+y*s,n[5]=a*u,n[9]=b-f*s,n[2]=-a*c,n[6]=s,n[10]=a*l}else if(e.order==="ZYX"){const f=a*u,p=a*d,y=s*u,b=s*d;n[0]=l*u,n[4]=y*c-p,n[8]=f*c+b,n[1]=l*d,n[5]=b*c+f,n[9]=p*c-y,n[2]=-c,n[6]=s*l,n[10]=a*l}else if(e.order==="YZX"){const f=a*l,p=a*c,y=s*l,b=s*c;n[0]=l*u,n[4]=b-f*d,n[8]=y*d+p,n[1]=d,n[5]=a*u,n[9]=-s*u,n[2]=-c*u,n[6]=p*d+y,n[10]=f-b*d}else if(e.order==="XZY"){const f=a*l,p=a*c,y=s*l,b=s*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+b,n[5]=a*u,n[9]=p*d-y,n[2]=y*d-p,n[6]=s*u,n[10]=b*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(zpe,e,Hpe)}lookAt(e,n,r){const i=this.elements;return Ho.subVectors(e,n),Ho.lengthSq()===0&&(Ho.z=1),Ho.normalize(),pc.crossVectors(r,Ho),pc.lengthSq()===0&&(Math.abs(r.z)===1?Ho.x+=1e-4:Ho.z+=1e-4,Ho.normalize(),pc.crossVectors(r,Ho)),pc.normalize(),i1.crossVectors(Ho,pc),i[0]=pc.x,i[4]=i1.x,i[8]=Ho.x,i[1]=pc.y,i[5]=i1.y,i[9]=Ho.y,i[2]=pc.z,i[6]=i1.z,i[10]=Ho.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],p=r[13],y=r[2],b=r[6],x=r[10],v=r[14],w=r[3],S=r[7],C=r[11],_=r[15],T=i[0],M=i[4],I=i[8],R=i[12],P=i[1],L=i[5],k=i[9],H=i[13],D=i[2],G=i[6],B=i[10],$=i[14],O=i[3],z=i[7],V=i[11],F=i[15];return o[0]=a*T+s*P+l*D+c*O,o[4]=a*M+s*L+l*G+c*z,o[8]=a*I+s*k+l*B+c*V,o[12]=a*R+s*H+l*$+c*F,o[1]=u*T+d*P+f*D+p*O,o[5]=u*M+d*L+f*G+p*z,o[9]=u*I+d*k+f*B+p*V,o[13]=u*R+d*H+f*$+p*F,o[2]=y*T+b*P+x*D+v*O,o[6]=y*M+b*L+x*G+v*z,o[10]=y*I+b*k+x*B+v*V,o[14]=y*R+b*H+x*$+v*F,o[3]=w*T+S*P+C*D+_*O,o[7]=w*M+S*L+C*G+_*z,o[11]=w*I+S*k+C*B+_*V,o[15]=w*R+S*H+C*$+_*F,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],a=e[1],s=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],p=e[14],y=e[3],b=e[7],x=e[11],v=e[15];return y*(+o*l*d-i*c*d-o*s*f+r*c*f+i*s*p-r*l*p)+b*(+n*l*p-n*c*f+o*a*f-i*a*p+i*c*u-o*l*u)+x*(+n*c*d-n*s*p-o*a*d+r*a*p+o*s*u-r*c*u)+v*(-i*s*u-n*l*d+n*s*f+i*a*d-r*a*f+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],p=e[11],y=e[12],b=e[13],x=e[14],v=e[15],w=d*x*c-b*f*c+b*l*p-s*x*p-d*l*v+s*f*v,S=y*f*c-u*x*c-y*l*p+a*x*p+u*l*v-a*f*v,C=u*b*c-y*d*c+y*s*p-a*b*p-u*s*v+a*d*v,_=y*d*l-u*b*l-y*s*f+a*b*f+u*s*x-a*d*x,T=n*w+r*S+i*C+o*_;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/T;return e[0]=w*M,e[1]=(b*f*o-d*x*o-b*i*p+r*x*p+d*i*v-r*f*v)*M,e[2]=(s*x*o-b*l*o+b*i*c-r*x*c-s*i*v+r*l*v)*M,e[3]=(d*l*o-s*f*o-d*i*c+r*f*c+s*i*p-r*l*p)*M,e[4]=S*M,e[5]=(u*x*o-y*f*o+y*i*p-n*x*p-u*i*v+n*f*v)*M,e[6]=(y*l*o-a*x*o-y*i*c+n*x*c+a*i*v-n*l*v)*M,e[7]=(a*f*o-u*l*o+u*i*c-n*f*c-a*i*p+n*l*p)*M,e[8]=C*M,e[9]=(y*d*o-u*b*o-y*r*p+n*b*p+u*r*v-n*d*v)*M,e[10]=(a*b*o-y*s*o+y*r*c-n*b*c-a*r*v+n*s*v)*M,e[11]=(u*s*o-a*d*o-u*r*c+n*d*c+a*r*p-n*s*p)*M,e[12]=_*M,e[13]=(u*b*i-y*d*i+y*r*f-n*b*f-u*r*x+n*d*x)*M,e[14]=(y*s*i-a*b*i-y*r*l+n*b*l+a*r*x-n*s*x)*M,e[15]=(a*d*i-u*s*i+u*r*l-n*d*l-a*r*f+n*s*f)*M,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,a=e.x,s=e.y,l=e.z,c=o*a,u=o*s;return this.set(c*a+r,c*s-i*l,c*l+i*s,0,c*s+i*l,u*s+r,u*l-i*a,0,c*l-i*s,u*l+i*a,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,a){return this.set(1,r,o,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,a=n._y,s=n._z,l=n._w,c=o+o,u=a+a,d=s+s,f=o*c,p=o*u,y=o*d,b=a*u,x=a*d,v=s*d,w=l*c,S=l*u,C=l*d,_=r.x,T=r.y,M=r.z;return i[0]=(1-(b+v))*_,i[1]=(p+C)*_,i[2]=(y-S)*_,i[3]=0,i[4]=(p-C)*T,i[5]=(1-(f+v))*T,i[6]=(x+w)*T,i[7]=0,i[8]=(y+S)*M,i[9]=(x-w)*M,i[10]=(1-(f+b))*M,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=Of.set(i[0],i[1],i[2]).length();const a=Of.set(i[4],i[5],i[6]).length(),s=Of.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],za.copy(this);const c=1/o,u=1/a,d=1/s;return za.elements[0]*=c,za.elements[1]*=c,za.elements[2]*=c,za.elements[4]*=u,za.elements[5]*=u,za.elements[6]*=u,za.elements[8]*=d,za.elements[9]*=d,za.elements[10]*=d,n.setFromRotationMatrix(za),r.x=o,r.y=a,r.z=s,this}makePerspective(e,n,r,i,o,a,s=ns){const l=this.elements,c=2*o/(n-e),u=2*o/(r-i),d=(n+e)/(n-e),f=(r+i)/(r-i);let p,y;if(s===ns)p=-(a+o)/(a-o),y=-2*a*o/(a-o);else if(s===Ep)p=-a/(a-o),y=-a*o/(a-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=p,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,o,a,s=ns){const l=this.elements,c=1/(n-e),u=1/(r-i),d=1/(a-o),f=(n+e)*c,p=(r+i)*u;let y,b;if(s===ns)y=(a+o)*d,b=-2*d;else if(s===Ep)y=o*d,b=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-p,l[2]=0,l[6]=0,l[10]=b,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Of=new Q,za=new on,zpe=new Q(0,0,0),Hpe=new Q(1,1,1),pc=new Q,i1=new Q,Ho=new Q,HP=new on,GP=new to;class d3{constructor(e=0,n=0,r=0,i=d3.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],a=i[4],s=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],p=i[10];switch(n){case"XYZ":this._y=Math.asin($r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-$r(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin($r(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-$r(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,p),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin($r(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(s,p));break;case"XZY":this._z=Math.asin(-$r(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return HP.makeRotationFromQuaternion(e),this.setFromRotationMatrix(HP,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return GP.setFromEuler(this),this.setFromQuaternion(GP,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}d3.DEFAULT_ORDER="XYZ";class gd{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Gpe=0;const VP=new Q,Lf=new to,xl=new on,o1=new Q,B0=new Q,Vpe=new Q,Wpe=new to,WP=new Q(1,0,0),jP=new Q(0,1,0),XP=new Q(0,0,1),jpe={type:"added"},Xpe={type:"removed"};class jn extends ys{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Gpe++}),this.uuid=Zo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=jn.DEFAULT_UP.clone();const e=new Q,n=new d3,r=new to,i=new Q(1,1,1);function o(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new on},normalMatrix:{value:new mn}}),this.matrix=new on,this.matrixWorld=new on,this.matrixAutoUpdate=jn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=jn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new gd,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Lf.setFromAxisAngle(e,n),this.quaternion.multiply(Lf),this}rotateOnWorldAxis(e,n){return Lf.setFromAxisAngle(e,n),this.quaternion.premultiply(Lf),this}rotateX(e){return this.rotateOnAxis(WP,e)}rotateY(e){return this.rotateOnAxis(jP,e)}rotateZ(e){return this.rotateOnAxis(XP,e)}translateOnAxis(e,n){return VP.copy(e).applyQuaternion(this.quaternion),this.position.add(VP.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(WP,e)}translateY(e){return this.translateOnAxis(jP,e)}translateZ(e){return this.translateOnAxis(XP,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(xl.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?o1.copy(e):o1.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),B0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?xl.lookAt(B0,o1,this.up):xl.lookAt(o1,B0,this.up),this.quaternion.setFromRotationMatrix(xl),i&&(xl.extractRotation(i.matrixWorld),Lf.setFromRotationMatrix(xl),this.quaternion.premultiply(Lf.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(jpe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Xpe)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),xl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),xl.multiply(e.parent.matrixWorld)),e.applyMatrix4(xl),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,o=this.children.length;i<o;i++){const a=this.children[i].getObjectsByProperty(e,n);a.length>0&&(r=r.concat(a))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(B0,e,Vpe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(B0,Wpe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const o=n[r];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let o=0,a=i.length;o<a;o++){const s=i[o];s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function o(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];o(e.shapes,d)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,c=this.material.length;l<c;l++)s.push(o(e.materials,this.material[l]));i.material=s}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(o(e.animations,l))}}if(n){const s=a(e.geometries),l=a(e.materials),c=a(e.textures),u=a(e.images),d=a(e.shapes),f=a(e.skeletons),p=a(e.animations),y=a(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),p.length>0&&(r.animations=p),y.length>0&&(r.nodes=y)}return r.object=i,r;function a(s){const l=[];for(const c in s){const u=s[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}jn.DEFAULT_UP=new Q(0,1,0);jn.DEFAULT_MATRIX_AUTO_UPDATE=!0;jn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ha=new Q,Sl=new Q,X8=new Q,bl=new Q,Df=new Q,Ff=new Q,qP=new Q,q8=new Q,K8=new Q,Y8=new Q;let a1=!1;class Co{constructor(e=new Q,n=new Q,r=new Q){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Ha.subVectors(e,n),i.cross(Ha);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){Ha.subVectors(i,n),Sl.subVectors(r,n),X8.subVectors(e,n);const a=Ha.dot(Ha),s=Ha.dot(Sl),l=Ha.dot(X8),c=Sl.dot(Sl),u=Sl.dot(X8),d=a*c-s*s;if(d===0)return o.set(-2,-1,-1);const f=1/d,p=(c*l-s*u)*f,y=(a*u-s*l)*f;return o.set(1-p-y,y,p)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,bl),bl.x>=0&&bl.y>=0&&bl.x+bl.y<=1}static getUV(e,n,r,i,o,a,s,l){return a1===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),a1=!0),this.getInterpolation(e,n,r,i,o,a,s,l)}static getInterpolation(e,n,r,i,o,a,s,l){return this.getBarycoord(e,n,r,i,bl),l.setScalar(0),l.addScaledVector(o,bl.x),l.addScaledVector(a,bl.y),l.addScaledVector(s,bl.z),l}static isFrontFacing(e,n,r,i){return Ha.subVectors(r,n),Sl.subVectors(e,n),Ha.cross(Sl).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ha.subVectors(this.c,this.b),Sl.subVectors(this.a,this.b),Ha.cross(Sl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Co.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Co.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,o){return a1===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),a1=!0),Co.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}getInterpolation(e,n,r,i,o){return Co.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return Co.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Co.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let a,s;Df.subVectors(i,r),Ff.subVectors(o,r),q8.subVectors(e,r);const l=Df.dot(q8),c=Ff.dot(q8);if(l<=0&&c<=0)return n.copy(r);K8.subVectors(e,i);const u=Df.dot(K8),d=Ff.dot(K8);if(u>=0&&d<=u)return n.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return a=l/(l-u),n.copy(r).addScaledVector(Df,a);Y8.subVectors(e,o);const p=Df.dot(Y8),y=Ff.dot(Y8);if(y>=0&&p<=y)return n.copy(o);const b=p*c-l*y;if(b<=0&&c>=0&&y<=0)return s=c/(c-y),n.copy(r).addScaledVector(Ff,s);const x=u*y-p*d;if(x<=0&&d-u>=0&&p-y>=0)return qP.subVectors(o,i),s=(d-u)/(d-u+(p-y)),n.copy(i).addScaledVector(qP,s);const v=1/(x+b+f);return a=b*v,s=f*v,n.copy(r).addScaledVector(Df,a).addScaledVector(Ff,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let qpe=0;class Mi extends ys{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:qpe++}),this.uuid=Zo(),this.name="",this.type="Material",this.blending=Ma,this.side=ds,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=a3,this.blendDst=s3,this.blendEquation=jo,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=op,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=KC,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Rm,this.stencilZFail=Rm,this.stencilZPass=Rm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Ma&&(r.blending=this.blending),this.side!==ds&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const a=[];for(const s in o){const l=o[s];delete l.metadata,a.push(l)}return a}if(n){const o=i(e.textures),a=i(e.images);o.length>0&&(r.textures=o),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const xB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},mc={h:0,s:0,l:0},s1={h:0,s:0,l:0};function Z8(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class St{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=$t){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Qn.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Qn.workingColorSpace){return this.r=e,this.g=n,this.b=r,Qn.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Qn.workingColorSpace){if(e=YC(e,1),n=$r(n,0,1),r=$r(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;this.r=Z8(a,o,e+1/3),this.g=Z8(a,o,e),this.b=Z8(a,o,e-1/3)}return Qn.toWorkingColorSpace(this,i),this}setStyle(e,n=$t){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const a=i[1],s=i[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],a=o.length;if(a===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=$t){const r=xB[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=kh(e.r),this.g=kh(e.g),this.b=kh(e.b),this}copyLinearToSRGB(e){return this.r=k8(e.r),this.g=k8(e.g),this.b=k8(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=$t){return Qn.fromWorkingColorSpace(qi.copy(this),e),Math.round($r(qi.r*255,0,255))*65536+Math.round($r(qi.g*255,0,255))*256+Math.round($r(qi.b*255,0,255))}getHexString(e=$t){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Qn.workingColorSpace){Qn.fromWorkingColorSpace(qi.copy(this),n);const r=qi.r,i=qi.g,o=qi.b,a=Math.max(r,i,o),s=Math.min(r,i,o);let l,c;const u=(s+a)/2;if(s===a)l=0,c=0;else{const d=a-s;switch(c=u<=.5?d/(a+s):d/(2-a-s),a){case r:l=(i-o)/d+(i<o?6:0);break;case i:l=(o-r)/d+2;break;case o:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=Qn.workingColorSpace){return Qn.fromWorkingColorSpace(qi.copy(this),n),e.r=qi.r,e.g=qi.g,e.b=qi.b,e}getStyle(e=$t){Qn.fromWorkingColorSpace(qi.copy(this),e);const n=qi.r,r=qi.g,i=qi.b;return e!==$t?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(mc),this.setHSL(mc.h+e,mc.s+n,mc.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(mc),e.getHSL(s1);const r=Am(mc.h,s1.h,n),i=Am(mc.s,s1.s,n),o=Am(mc.l,s1.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const qi=new St;St.NAMES=xB;class lu extends Mi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new St(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=l3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Rl=Kpe();function Kpe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,o[l]=c|u}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:a,offsetTable:s}}function bo(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=$r(t,-65504,65504),Rl.floatView[0]=t;const e=Rl.uint32View[0],n=e>>23&511;return Rl.baseTable[n]+((e&8388607)>>Rl.shiftTable[n])}function cm(t){const e=t>>10;return Rl.uint32View[0]=Rl.mantissaTable[Rl.offsetTable[e]+(t&1023)]+Rl.exponentTable[e],Rl.floatView[0]}const Ype={toHalfFloat:bo,fromHalfFloat:cm},Jr=new Q,l1=new Qe;class sr{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Cp,this.updateRange={offset:0,count:-1},this.gpuType=Xr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)l1.fromBufferAttribute(this,n),l1.applyMatrix3(e),this.setXY(n,l1.x,l1.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Jr.fromBufferAttribute(this,n),Jr.applyMatrix3(e),this.setXYZ(n,Jr.x,Jr.y,Jr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Jr.fromBufferAttribute(this,n),Jr.applyMatrix4(e),this.setXYZ(n,Jr.x,Jr.y,Jr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Jr.fromBufferAttribute(this,n),Jr.applyNormalMatrix(e),this.setXYZ(n,Jr.x,Jr.y,Jr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Jr.fromBufferAttribute(this,n),Jr.transformDirection(e),this.setXYZ(n,Jr.x,Jr.y,Jr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=_o(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=xn(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=_o(n,this.array)),n}setX(e,n){return this.normalized&&(n=xn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=_o(n,this.array)),n}setY(e,n){return this.normalized&&(n=xn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=_o(n,this.array)),n}setZ(e,n){return this.normalized&&(n=xn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=_o(n,this.array)),n}setW(e,n){return this.normalized&&(n=xn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=xn(n,this.array),r=xn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=xn(n,this.array),r=xn(r,this.array),i=xn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=xn(n,this.array),r=xn(r,this.array),i=xn(i,this.array),o=xn(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Cp&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class Zpe extends sr{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Qpe extends sr{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Jpe extends sr{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class e0e extends sr{constructor(e,n,r){super(new Int16Array(e),n,r)}}class z6 extends sr{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class t0e extends sr{constructor(e,n,r){super(new Int32Array(e),n,r)}}class H6 extends sr{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class tE extends sr{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=cm(this.array[e*this.itemSize]);return this.normalized&&(n=_o(n,this.array)),n}setX(e,n){return this.normalized&&(n=xn(n,this.array)),this.array[e*this.itemSize]=bo(n),this}getY(e){let n=cm(this.array[e*this.itemSize+1]);return this.normalized&&(n=_o(n,this.array)),n}setY(e,n){return this.normalized&&(n=xn(n,this.array)),this.array[e*this.itemSize+1]=bo(n),this}getZ(e){let n=cm(this.array[e*this.itemSize+2]);return this.normalized&&(n=_o(n,this.array)),n}setZ(e,n){return this.normalized&&(n=xn(n,this.array)),this.array[e*this.itemSize+2]=bo(n),this}getW(e){let n=cm(this.array[e*this.itemSize+3]);return this.normalized&&(n=_o(n,this.array)),n}setW(e,n){return this.normalized&&(n=xn(n,this.array)),this.array[e*this.itemSize+3]=bo(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=xn(n,this.array),r=xn(r,this.array)),this.array[e+0]=bo(n),this.array[e+1]=bo(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=xn(n,this.array),r=xn(r,this.array),i=xn(i,this.array)),this.array[e+0]=bo(n),this.array[e+1]=bo(r),this.array[e+2]=bo(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=xn(n,this.array),r=xn(r,this.array),i=xn(i,this.array),o=xn(o,this.array)),this.array[e+0]=bo(n),this.array[e+1]=bo(r),this.array[e+2]=bo(i),this.array[e+3]=bo(o),this}}class Ut extends sr{constructor(e,n,r){super(new Float32Array(e),n,r)}}class n0e extends sr{constructor(e,n,r){super(new Float64Array(e),n,r)}}let r0e=0;const va=new on,Q8=new jn,$f=new Q,Go=new tl,z0=new tl,Si=new Q;class wn extends ys{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:r0e++}),this.uuid=Zo(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(yB(e)?H6:z6)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new mn().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return va.makeRotationFromQuaternion(e),this.applyMatrix4(va),this}rotateX(e){return va.makeRotationX(e),this.applyMatrix4(va),this}rotateY(e){return va.makeRotationY(e),this.applyMatrix4(va),this}rotateZ(e){return va.makeRotationZ(e),this.applyMatrix4(va),this}translate(e,n,r){return va.makeTranslation(e,n,r),this.applyMatrix4(va),this}scale(e,n,r){return va.makeScale(e,n,r),this.applyMatrix4(va),this}lookAt(e){return Q8.lookAt(e),Q8.updateMatrix(),this.applyMatrix4(Q8.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter($f).negate(),this.translate($f.x,$f.y,$f.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Ut(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new tl);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Q(-1/0,-1/0,-1/0),new Q(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];Go.setFromBufferAttribute(o),this.morphTargetsRelative?(Si.addVectors(this.boundingBox.min,Go.min),this.boundingBox.expandByPoint(Si),Si.addVectors(this.boundingBox.max,Go.max),this.boundingBox.expandByPoint(Si)):(this.boundingBox.expandByPoint(Go.min),this.boundingBox.expandByPoint(Go.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new xs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Q,1/0);return}if(e){const r=this.boundingSphere.center;if(Go.setFromBufferAttribute(e),n)for(let o=0,a=n.length;o<a;o++){const s=n[o];z0.setFromBufferAttribute(s),this.morphTargetsRelative?(Si.addVectors(Go.min,z0.min),Go.expandByPoint(Si),Si.addVectors(Go.max,z0.max),Go.expandByPoint(Si)):(Go.expandByPoint(z0.min),Go.expandByPoint(z0.max))}Go.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)Si.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Si));if(n)for(let o=0,a=n.length;o<a;o++){const s=n[o],l=this.morphTargetsRelative;for(let c=0,u=s.count;c<u;c++)Si.fromBufferAttribute(s,c),l&&($f.fromBufferAttribute(e,c),Si.add($f)),i=Math.max(i,r.distanceToSquared(Si))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,o=n.normal.array,a=n.uv.array,s=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new sr(new Float32Array(4*s),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let P=0;P<s;P++)c[P]=new Q,u[P]=new Q;const d=new Q,f=new Q,p=new Q,y=new Qe,b=new Qe,x=new Qe,v=new Q,w=new Q;function S(P,L,k){d.fromArray(i,P*3),f.fromArray(i,L*3),p.fromArray(i,k*3),y.fromArray(a,P*2),b.fromArray(a,L*2),x.fromArray(a,k*2),f.sub(d),p.sub(d),b.sub(y),x.sub(y);const H=1/(b.x*x.y-x.x*b.y);isFinite(H)&&(v.copy(f).multiplyScalar(x.y).addScaledVector(p,-b.y).multiplyScalar(H),w.copy(p).multiplyScalar(b.x).addScaledVector(f,-x.x).multiplyScalar(H),c[P].add(v),c[L].add(v),c[k].add(v),u[P].add(w),u[L].add(w),u[k].add(w))}let C=this.groups;C.length===0&&(C=[{start:0,count:r.length}]);for(let P=0,L=C.length;P<L;++P){const k=C[P],H=k.start,D=k.count;for(let G=H,B=H+D;G<B;G+=3)S(r[G+0],r[G+1],r[G+2])}const _=new Q,T=new Q,M=new Q,I=new Q;function R(P){M.fromArray(o,P*3),I.copy(M);const L=c[P];_.copy(L),_.sub(M.multiplyScalar(M.dot(L))).normalize(),T.crossVectors(I,L);const H=T.dot(u[P])<0?-1:1;l[P*4]=_.x,l[P*4+1]=_.y,l[P*4+2]=_.z,l[P*4+3]=H}for(let P=0,L=C.length;P<L;++P){const k=C[P],H=k.start,D=k.count;for(let G=H,B=H+D;G<B;G+=3)R(r[G+0]),R(r[G+1]),R(r[G+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new sr(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,p=r.count;f<p;f++)r.setXYZ(f,0,0,0);const i=new Q,o=new Q,a=new Q,s=new Q,l=new Q,c=new Q,u=new Q,d=new Q;if(e)for(let f=0,p=e.count;f<p;f+=3){const y=e.getX(f+0),b=e.getX(f+1),x=e.getX(f+2);i.fromBufferAttribute(n,y),o.fromBufferAttribute(n,b),a.fromBufferAttribute(n,x),u.subVectors(a,o),d.subVectors(i,o),u.cross(d),s.fromBufferAttribute(r,y),l.fromBufferAttribute(r,b),c.fromBufferAttribute(r,x),s.add(u),l.add(u),c.add(u),r.setXYZ(y,s.x,s.y,s.z),r.setXYZ(b,l.x,l.y,l.z),r.setXYZ(x,c.x,c.y,c.z)}else for(let f=0,p=n.count;f<p;f+=3)i.fromBufferAttribute(n,f+0),o.fromBufferAttribute(n,f+1),a.fromBufferAttribute(n,f+2),u.subVectors(a,o),d.subVectors(i,o),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Si.fromBufferAttribute(e,n),Si.normalize(),e.setXYZ(n,Si.x,Si.y,Si.z)}toNonIndexed(){function e(s,l){const c=s.array,u=s.itemSize,d=s.normalized,f=new c.constructor(l.length*u);let p=0,y=0;for(let b=0,x=l.length;b<x;b++){s.isInterleavedBufferAttribute?p=l[b]*s.data.stride+s.offset:p=l[b]*u;for(let v=0;v<u;v++)f[y++]=c[p++]}return new sr(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new wn,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],c=e(l,r);n.setAttribute(s,c)}const o=this.morphAttributes;for(const s in o){const l=[],c=o[s];for(let u=0,d=c.length;u<d;u++){const f=c[u],p=e(f,r);l.push(p)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,l=a.length;s<l;s++){const c=a[s];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const p=c[d];u.push(p.toJSON(e.data))}u.length>0&&(i[l]=u,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const o=e.morphAttributes;for(const c in o){const u=[],d=o[c];for(let f=0,p=d.length;f<p;f++)u.push(d[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,u=a.length;c<u;c++){const d=a[c];this.addGroup(d.start,d.count,d.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const KP=new on,_u=new Vd,c1=new xs,YP=new Q,Uf=new Q,kf=new Q,Bf=new Q,J8=new Q,u1=new Q,d1=new Qe,f1=new Qe,h1=new Qe,ZP=new Q,QP=new Q,JP=new Q,p1=new Q,m1=new Q;class fi extends jn{constructor(e=new wn,n=new lu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(o&&s){u1.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const u=s[l],d=o[l];u!==0&&(J8.fromBufferAttribute(d,e),a?u1.addScaledVector(J8,u):u1.addScaledVector(J8.sub(n),u))}n.add(u1)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),c1.copy(r.boundingSphere),c1.applyMatrix4(o),_u.copy(e.ray).recast(e.near),!(c1.containsPoint(_u.origin)===!1&&(_u.intersectSphere(c1,YP)===null||_u.origin.distanceToSquared(YP)>(e.far-e.near)**2))&&(KP.copy(o).invert(),_u.copy(e.ray).applyMatrix4(KP),!(r.boundingBox!==null&&_u.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,_u)))}_computeIntersections(e,n,r){let i;const o=this.geometry,a=this.material,s=o.index,l=o.attributes.position,c=o.attributes.uv,u=o.attributes.uv1,d=o.attributes.normal,f=o.groups,p=o.drawRange;if(s!==null)if(Array.isArray(a))for(let y=0,b=f.length;y<b;y++){const x=f[y],v=a[x.materialIndex],w=Math.max(x.start,p.start),S=Math.min(s.count,Math.min(x.start+x.count,p.start+p.count));for(let C=w,_=S;C<_;C+=3){const T=s.getX(C),M=s.getX(C+1),I=s.getX(C+2);i=g1(this,v,e,r,c,u,d,T,M,I),i&&(i.faceIndex=Math.floor(C/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const y=Math.max(0,p.start),b=Math.min(s.count,p.start+p.count);for(let x=y,v=b;x<v;x+=3){const w=s.getX(x),S=s.getX(x+1),C=s.getX(x+2);i=g1(this,a,e,r,c,u,d,w,S,C),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let y=0,b=f.length;y<b;y++){const x=f[y],v=a[x.materialIndex],w=Math.max(x.start,p.start),S=Math.min(l.count,Math.min(x.start+x.count,p.start+p.count));for(let C=w,_=S;C<_;C+=3){const T=C,M=C+1,I=C+2;i=g1(this,v,e,r,c,u,d,T,M,I),i&&(i.faceIndex=Math.floor(C/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const y=Math.max(0,p.start),b=Math.min(l.count,p.start+p.count);for(let x=y,v=b;x<v;x+=3){const w=x,S=x+1,C=x+2;i=g1(this,a,e,r,c,u,d,w,S,C),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}}}function i0e(t,e,n,r,i,o,a,s){let l;if(e.side===Kr?l=r.intersectTriangle(a,o,i,!0,s):l=r.intersectTriangle(i,o,a,e.side===ds,s),l===null)return null;m1.copy(s),m1.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(m1);return c<n.near||c>n.far?null:{distance:c,point:m1.clone(),object:t}}function g1(t,e,n,r,i,o,a,s,l,c){t.getVertexPosition(s,Uf),t.getVertexPosition(l,kf),t.getVertexPosition(c,Bf);const u=i0e(t,e,n,r,Uf,kf,Bf,p1);if(u){i&&(d1.fromBufferAttribute(i,s),f1.fromBufferAttribute(i,l),h1.fromBufferAttribute(i,c),u.uv=Co.getInterpolation(p1,Uf,kf,Bf,d1,f1,h1,new Qe)),o&&(d1.fromBufferAttribute(o,s),f1.fromBufferAttribute(o,l),h1.fromBufferAttribute(o,c),u.uv1=Co.getInterpolation(p1,Uf,kf,Bf,d1,f1,h1,new Qe),u.uv2=u.uv1),a&&(ZP.fromBufferAttribute(a,s),QP.fromBufferAttribute(a,l),JP.fromBufferAttribute(a,c),u.normal=Co.getInterpolation(p1,Uf,kf,Bf,ZP,QP,JP,new Q),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const d={a:s,b:l,c,normal:new Q,materialIndex:0};Co.getNormal(Uf,kf,Bf,d.normal),u.face=d}return u}class cu extends wn{constructor(e=1,n=1,r=1,i=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:a};const s=this;i=Math.floor(i),o=Math.floor(o),a=Math.floor(a);const l=[],c=[],u=[],d=[];let f=0,p=0;y("z","y","x",-1,-1,r,n,e,a,o,0),y("z","y","x",1,-1,r,n,-e,a,o,1),y("x","z","y",1,1,e,r,n,i,a,2),y("x","z","y",1,-1,e,r,-n,i,a,3),y("x","y","z",1,-1,e,n,r,i,o,4),y("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new Ut(c,3)),this.setAttribute("normal",new Ut(u,3)),this.setAttribute("uv",new Ut(d,2));function y(b,x,v,w,S,C,_,T,M,I,R){const P=C/M,L=_/I,k=C/2,H=_/2,D=T/2,G=M+1,B=I+1;let $=0,O=0;const z=new Q;for(let V=0;V<B;V++){const F=V*L-H;for(let W=0;W<G;W++){const q=W*P-k;z[b]=q*w,z[x]=F*S,z[v]=D,c.push(z.x,z.y,z.z),z[b]=0,z[x]=0,z[v]=T>0?1:-1,u.push(z.x,z.y,z.z),d.push(W/M),d.push(1-V/I),$+=1}}for(let V=0;V<I;V++)for(let F=0;F<M;F++){const W=f+F+G*V,q=f+F+G*(V+1),Z=f+(F+1)+G*(V+1),ee=f+(F+1)+G*V;l.push(W,q,ee),l.push(q,Z,ee),O+=6}s.addGroup(p,O,R),p+=O,f+=$}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Tp(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function so(t){const e={};for(let n=0;n<t.length;n++){const r=Tp(t[n]);for(const i in r)e[i]=r[i]}return e}function o0e(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function SB(t){return t.getRenderTarget()===null?t.outputColorSpace:Qn.workingColorSpace}const nE={clone:Tp,merge:so};var a0e=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,s0e=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Jo extends Mi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=a0e,this.fragmentShader=s0e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Tp(e.uniforms),this.uniformsGroups=o0e(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class f3 extends jn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new on,this.projectionMatrix=new on,this.projectionMatrixInverse=new on,this.coordinateSystem=ns}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Ur extends f3{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=_p*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(md*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return _p*2*Math.atan(Math.tan(md*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,o,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(md*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;o+=a.offsetX*i/l,n-=a.offsetY*r/c,i*=a.width/l,r*=a.height/c}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const zf=-90,Hf=1;class rE extends jn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Ur(zf,Hf,e,n);i.layers=this.layers,this.add(i);const o=new Ur(zf,Hf,e,n);o.layers=this.layers,this.add(o);const a=new Ur(zf,Hf,e,n);a.layers=this.layers,this.add(a);const s=new Ur(zf,Hf,e,n);s.layers=this.layers,this.add(s);const l=new Ur(zf,Hf,e,n);l.layers=this.layers,this.add(l);const c=new Ur(zf,Hf,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,a,s,l]=n;for(const c of n)this.remove(c);if(e===ns)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Ep)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,a,s,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const b=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,s),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=b,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(d,f,p),e.xr.enabled=y,r.texture.needsPMREMUpdate=!0}}class Yp extends Nr{constructor(e,n,r,i,o,a,s,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:fs,super(e,n,r,i,o,a,s,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class iE extends ms{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(Pm("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Fl?$t:Oi),this.texture=new Yp(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Er}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new cu(5,5,5),o=new Jo({name:"CubemapFromEquirect",uniforms:Tp(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Kr,blending:Yo});o.uniforms.tEquirect.value=n;const a=new fi(i,o),s=n.minFilter;return n.minFilter===hs&&(n.minFilter=Er),new rE(1,10,this).update(e,a),n.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(o)}}const eS=new Q,l0e=new Q,c0e=new mn;class Ml{constructor(e=new Q(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=eS.subVectors(r,n).cross(l0e.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(eS),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||c0e.getNormalMatrix(e),i=this.coplanarPoint(eS).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Tu=new xs,v1=new Q;class h3{constructor(e=new Ml,n=new Ml,r=new Ml,i=new Ml,o=new Ml,a=new Ml){this.planes=[e,n,r,i,o,a]}set(e,n,r,i,o,a){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(o),s[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=ns){const r=this.planes,i=e.elements,o=i[0],a=i[1],s=i[2],l=i[3],c=i[4],u=i[5],d=i[6],f=i[7],p=i[8],y=i[9],b=i[10],x=i[11],v=i[12],w=i[13],S=i[14],C=i[15];if(r[0].setComponents(l-o,f-c,x-p,C-v).normalize(),r[1].setComponents(l+o,f+c,x+p,C+v).normalize(),r[2].setComponents(l+a,f+u,x+y,C+w).normalize(),r[3].setComponents(l-a,f-u,x-y,C-w).normalize(),r[4].setComponents(l-s,f-d,x-b,C-S).normalize(),n===ns)r[5].setComponents(l+s,f+d,x+b,C+S).normalize();else if(n===Ep)r[5].setComponents(s,d,b,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Tu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Tu.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Tu)}intersectsSprite(e){return Tu.center.set(0,0,0),Tu.radius=.7071067811865476,Tu.applyMatrix4(e.matrixWorld),this.intersectsSphere(Tu)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(v1.x=i.normal.x>0?e.max.x:e.min.x,v1.y=i.normal.y>0?e.max.y:e.min.y,v1.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(v1)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function bB(){let t=null,e=!1,n=null,r=null;function i(o,a){n(o,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function u0e(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,u){const d=c.array,f=c.usage,p=t.createBuffer();t.bindBuffer(u,p),t.bufferData(u,d,f),c.onUploadCallback();let y;if(d instanceof Float32Array)y=t.FLOAT;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)y=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=t.UNSIGNED_SHORT;else if(d instanceof Int16Array)y=t.SHORT;else if(d instanceof Uint32Array)y=t.UNSIGNED_INT;else if(d instanceof Int32Array)y=t.INT;else if(d instanceof Int8Array)y=t.BYTE;else if(d instanceof Uint8Array)y=t.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)y=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:p,type:y,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function o(c,u,d){const f=u.array,p=u.updateRange;t.bindBuffer(d,c),p.count===-1?t.bufferSubData(d,0,f):(n?t.bufferSubData(d,p.offset*f.BYTES_PER_ELEMENT,f,p.offset,p.count):t.bufferSubData(d,p.offset*f.BYTES_PER_ELEMENT,f.subarray(p.offset,p.offset+p.count)),p.count=-1),u.onUploadCallback()}function a(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function s(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(t.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const f=r.get(c);(!f||f.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);d===void 0?r.set(c,i(c,u)):d.version<c.version&&(o(d.buffer,c,u),d.version=c.version)}return{get:a,remove:s,update:l}}class p3 extends wn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,a=n/2,s=Math.floor(r),l=Math.floor(i),c=s+1,u=l+1,d=e/s,f=n/l,p=[],y=[],b=[],x=[];for(let v=0;v<u;v++){const w=v*f-a;for(let S=0;S<c;S++){const C=S*d-o;y.push(C,-w,0),b.push(0,0,1),x.push(S/s),x.push(1-v/l)}}for(let v=0;v<l;v++)for(let w=0;w<s;w++){const S=w+c*v,C=w+c*(v+1),_=w+1+c*(v+1),T=w+1+c*v;p.push(S,C,T),p.push(C,_,T)}this.setIndex(p),this.setAttribute("position",new Ut(y,3)),this.setAttribute("normal",new Ut(b,3)),this.setAttribute("uv",new Ut(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new p3(e.width,e.height,e.widthSegments,e.heightSegments)}}var d0e=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,f0e=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,h0e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,p0e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,m0e=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,g0e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,v0e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,y0e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,x0e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,S0e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,b0e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,w0e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,C0e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,E0e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,_0e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,T0e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,M0e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,R0e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,A0e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,P0e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,I0e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,N0e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,O0e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,L0e=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,D0e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,F0e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,$0e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,U0e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,k0e="gl_FragColor = linearToOutputTexel( gl_FragColor );",B0e=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,z0e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,H0e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,G0e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,V0e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,W0e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,j0e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,X0e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,q0e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,K0e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Y0e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Z0e=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Q0e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,J0e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,eme=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,tme=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,nme=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,rme=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,ime=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,ome=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,ame=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,sme=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,lme=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,cme=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal;
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,ume=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,dme=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,fme=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,hme=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,pme=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,mme=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,gme=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,vme=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,yme=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,xme=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Sme=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,bme=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,wme=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Cme=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Eme=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,_me=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Tme=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Mme=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Rme=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Ame=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Pme=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Ime=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Nme=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Ome=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Lme=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Dme=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Fme=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,$me=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Ume=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,kme=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Bme=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,zme=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Hme=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Gme=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Vme=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Wme=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,jme=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Xme=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,qme=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Kme=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Yme=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Zme=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Qme=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Jme=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,ege=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tge=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,nge=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,rge=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,ige=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,oge=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,age=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,sge=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const lge=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,cge=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,uge=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,dge=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,fge=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,hge=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,pge=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,mge=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,gge=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,vge=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,yge=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,xge=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Sge=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,bge=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,wge=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Cge=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ege=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_ge=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Tge=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Mge=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rge=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Age=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Pge=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ige=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Nge=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Oge=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Lge=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Dge=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Fge=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,$ge=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Uge=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kge=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Bge=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,zge=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,yn={alphahash_fragment:d0e,alphahash_pars_fragment:f0e,alphamap_fragment:h0e,alphamap_pars_fragment:p0e,alphatest_fragment:m0e,alphatest_pars_fragment:g0e,aomap_fragment:v0e,aomap_pars_fragment:y0e,begin_vertex:x0e,beginnormal_vertex:S0e,bsdfs:b0e,iridescence_fragment:w0e,bumpmap_pars_fragment:C0e,clipping_planes_fragment:E0e,clipping_planes_pars_fragment:_0e,clipping_planes_pars_vertex:T0e,clipping_planes_vertex:M0e,color_fragment:R0e,color_pars_fragment:A0e,color_pars_vertex:P0e,color_vertex:I0e,common:N0e,cube_uv_reflection_fragment:O0e,defaultnormal_vertex:L0e,displacementmap_pars_vertex:D0e,displacementmap_vertex:F0e,emissivemap_fragment:$0e,emissivemap_pars_fragment:U0e,colorspace_fragment:k0e,colorspace_pars_fragment:B0e,envmap_fragment:z0e,envmap_common_pars_fragment:H0e,envmap_pars_fragment:G0e,envmap_pars_vertex:V0e,envmap_physical_pars_fragment:nme,envmap_vertex:W0e,fog_vertex:j0e,fog_pars_vertex:X0e,fog_fragment:q0e,fog_pars_fragment:K0e,gradientmap_pars_fragment:Y0e,lightmap_fragment:Z0e,lightmap_pars_fragment:Q0e,lights_lambert_fragment:J0e,lights_lambert_pars_fragment:eme,lights_pars_begin:tme,lights_toon_fragment:rme,lights_toon_pars_fragment:ime,lights_phong_fragment:ome,lights_phong_pars_fragment:ame,lights_physical_fragment:sme,lights_physical_pars_fragment:lme,lights_fragment_begin:cme,lights_fragment_maps:ume,lights_fragment_end:dme,logdepthbuf_fragment:fme,logdepthbuf_pars_fragment:hme,logdepthbuf_pars_vertex:pme,logdepthbuf_vertex:mme,map_fragment:gme,map_pars_fragment:vme,map_particle_fragment:yme,map_particle_pars_fragment:xme,metalnessmap_fragment:Sme,metalnessmap_pars_fragment:bme,morphcolor_vertex:wme,morphnormal_vertex:Cme,morphtarget_pars_vertex:Eme,morphtarget_vertex:_me,normal_fragment_begin:Tme,normal_fragment_maps:Mme,normal_pars_fragment:Rme,normal_pars_vertex:Ame,normal_vertex:Pme,normalmap_pars_fragment:Ime,clearcoat_normal_fragment_begin:Nme,clearcoat_normal_fragment_maps:Ome,clearcoat_pars_fragment:Lme,iridescence_pars_fragment:Dme,opaque_fragment:Fme,packing:$me,premultiplied_alpha_fragment:Ume,project_vertex:kme,dithering_fragment:Bme,dithering_pars_fragment:zme,roughnessmap_fragment:Hme,roughnessmap_pars_fragment:Gme,shadowmap_pars_fragment:Vme,shadowmap_pars_vertex:Wme,shadowmap_vertex:jme,shadowmask_pars_fragment:Xme,skinbase_vertex:qme,skinning_pars_vertex:Kme,skinning_vertex:Yme,skinnormal_vertex:Zme,specularmap_fragment:Qme,specularmap_pars_fragment:Jme,tonemapping_fragment:ege,tonemapping_pars_fragment:tge,transmission_fragment:nge,transmission_pars_fragment:rge,uv_pars_fragment:ige,uv_pars_vertex:oge,uv_vertex:age,worldpos_vertex:sge,background_vert:lge,background_frag:cge,backgroundCube_vert:uge,backgroundCube_frag:dge,cube_vert:fge,cube_frag:hge,depth_vert:pge,depth_frag:mge,distanceRGBA_vert:gge,distanceRGBA_frag:vge,equirect_vert:yge,equirect_frag:xge,linedashed_vert:Sge,linedashed_frag:bge,meshbasic_vert:wge,meshbasic_frag:Cge,meshlambert_vert:Ege,meshlambert_frag:_ge,meshmatcap_vert:Tge,meshmatcap_frag:Mge,meshnormal_vert:Rge,meshnormal_frag:Age,meshphong_vert:Pge,meshphong_frag:Ige,meshphysical_vert:Nge,meshphysical_frag:Oge,meshtoon_vert:Lge,meshtoon_frag:Dge,points_vert:Fge,points_frag:$ge,shadow_vert:Uge,shadow_frag:kge,sprite_vert:Bge,sprite_frag:zge},vt={common:{diffuse:{value:new St(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new mn},alphaMap:{value:null},alphaMapTransform:{value:new mn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new mn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new mn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new mn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new mn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new mn},normalScale:{value:new Qe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new mn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new mn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new mn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new mn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new St(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new St(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new mn},alphaTest:{value:0},uvTransform:{value:new mn}},sprite:{diffuse:{value:new St(16777215)},opacity:{value:1},center:{value:new Qe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new mn},alphaMap:{value:null},alphaMapTransform:{value:new mn},alphaTest:{value:0}}},Ja={basic:{uniforms:so([vt.common,vt.specularmap,vt.envmap,vt.aomap,vt.lightmap,vt.fog]),vertexShader:yn.meshbasic_vert,fragmentShader:yn.meshbasic_frag},lambert:{uniforms:so([vt.common,vt.specularmap,vt.envmap,vt.aomap,vt.lightmap,vt.emissivemap,vt.bumpmap,vt.normalmap,vt.displacementmap,vt.fog,vt.lights,{emissive:{value:new St(0)}}]),vertexShader:yn.meshlambert_vert,fragmentShader:yn.meshlambert_frag},phong:{uniforms:so([vt.common,vt.specularmap,vt.envmap,vt.aomap,vt.lightmap,vt.emissivemap,vt.bumpmap,vt.normalmap,vt.displacementmap,vt.fog,vt.lights,{emissive:{value:new St(0)},specular:{value:new St(1118481)},shininess:{value:30}}]),vertexShader:yn.meshphong_vert,fragmentShader:yn.meshphong_frag},standard:{uniforms:so([vt.common,vt.envmap,vt.aomap,vt.lightmap,vt.emissivemap,vt.bumpmap,vt.normalmap,vt.displacementmap,vt.roughnessmap,vt.metalnessmap,vt.fog,vt.lights,{emissive:{value:new St(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:yn.meshphysical_vert,fragmentShader:yn.meshphysical_frag},toon:{uniforms:so([vt.common,vt.aomap,vt.lightmap,vt.emissivemap,vt.bumpmap,vt.normalmap,vt.displacementmap,vt.gradientmap,vt.fog,vt.lights,{emissive:{value:new St(0)}}]),vertexShader:yn.meshtoon_vert,fragmentShader:yn.meshtoon_frag},matcap:{uniforms:so([vt.common,vt.bumpmap,vt.normalmap,vt.displacementmap,vt.fog,{matcap:{value:null}}]),vertexShader:yn.meshmatcap_vert,fragmentShader:yn.meshmatcap_frag},points:{uniforms:so([vt.points,vt.fog]),vertexShader:yn.points_vert,fragmentShader:yn.points_frag},dashed:{uniforms:so([vt.common,vt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:yn.linedashed_vert,fragmentShader:yn.linedashed_frag},depth:{uniforms:so([vt.common,vt.displacementmap]),vertexShader:yn.depth_vert,fragmentShader:yn.depth_frag},normal:{uniforms:so([vt.common,vt.bumpmap,vt.normalmap,vt.displacementmap,{opacity:{value:1}}]),vertexShader:yn.meshnormal_vert,fragmentShader:yn.meshnormal_frag},sprite:{uniforms:so([vt.sprite,vt.fog]),vertexShader:yn.sprite_vert,fragmentShader:yn.sprite_frag},background:{uniforms:{uvTransform:{value:new mn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:yn.background_vert,fragmentShader:yn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:yn.backgroundCube_vert,fragmentShader:yn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:yn.cube_vert,fragmentShader:yn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:yn.equirect_vert,fragmentShader:yn.equirect_frag},distanceRGBA:{uniforms:so([vt.common,vt.displacementmap,{referencePosition:{value:new Q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:yn.distanceRGBA_vert,fragmentShader:yn.distanceRGBA_frag},shadow:{uniforms:so([vt.lights,vt.fog,{color:{value:new St(0)},opacity:{value:1}}]),vertexShader:yn.shadow_vert,fragmentShader:yn.shadow_frag}};Ja.physical={uniforms:so([Ja.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new mn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new mn},clearcoatNormalScale:{value:new Qe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new mn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new mn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new mn},sheen:{value:0},sheenColor:{value:new St(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new mn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new mn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new mn},transmissionSamplerSize:{value:new Qe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new mn},attenuationDistance:{value:0},attenuationColor:{value:new St(0)},specularColor:{value:new St(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new mn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new mn},anisotropyVector:{value:new Qe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new mn}}]),vertexShader:yn.meshphysical_vert,fragmentShader:yn.meshphysical_frag};const y1={r:0,b:0,g:0};function Hge(t,e,n,r,i,o,a){const s=new St(0);let l=o===!0?0:1,c,u,d=null,f=0,p=null;function y(x,v){let w=!1,S=v.isScene===!0?v.background:null;S&&S.isTexture&&(S=(v.backgroundBlurriness>0?n:e).get(S)),S===null?b(s,l):S&&S.isColor&&(b(S,1),w=!0);const C=t.xr.getEnvironmentBlendMode();C==="additive"?r.buffers.color.setClear(0,0,0,1,a):C==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||w)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),S&&(S.isCubeTexture||S.mapping===qp)?(u===void 0&&(u=new fi(new cu(1,1,1),new Jo({name:"BackgroundCubeMaterial",uniforms:Tp(Ja.backgroundCube.uniforms),vertexShader:Ja.backgroundCube.vertexShader,fragmentShader:Ja.backgroundCube.fragmentShader,side:Kr,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(_,T,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=S,u.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=Qn.getTransfer(S.colorSpace)!==cr,(d!==S||f!==S.version||p!==t.toneMapping)&&(u.material.needsUpdate=!0,d=S,f=S.version,p=t.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null)):S&&S.isTexture&&(c===void 0&&(c=new fi(new p3(2,2),new Jo({name:"BackgroundMaterial",uniforms:Tp(Ja.background.uniforms),vertexShader:Ja.background.vertexShader,fragmentShader:Ja.background.fragmentShader,side:ds,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=Qn.getTransfer(S.colorSpace)!==cr,S.matrixAutoUpdate===!0&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(d!==S||f!==S.version||p!==t.toneMapping)&&(c.material.needsUpdate=!0,d=S,f=S.version,p=t.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function b(x,v){x.getRGB(y1,SB(t)),r.buffers.color.setClear(y1.r,y1.g,y1.b,v,a)}return{getClearColor:function(){return s},setClearColor:function(x,v=1){s.set(x),l=v,b(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,b(s,l)},render:y}}function Gge(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||o!==null,s={},l=x(null);let c=l,u=!1;function d(D,G,B,$,O){let z=!1;if(a){const V=b($,B,G);c!==V&&(c=V,p(c.object)),z=v(D,$,B,O),z&&w(D,$,B,O)}else{const V=G.wireframe===!0;(c.geometry!==$.id||c.program!==B.id||c.wireframe!==V)&&(c.geometry=$.id,c.program=B.id,c.wireframe=V,z=!0)}O!==null&&n.update(O,t.ELEMENT_ARRAY_BUFFER),(z||u)&&(u=!1,I(D,G,B,$),O!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(O).buffer))}function f(){return r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function p(D){return r.isWebGL2?t.bindVertexArray(D):o.bindVertexArrayOES(D)}function y(D){return r.isWebGL2?t.deleteVertexArray(D):o.deleteVertexArrayOES(D)}function b(D,G,B){const $=B.wireframe===!0;let O=s[D.id];O===void 0&&(O={},s[D.id]=O);let z=O[G.id];z===void 0&&(z={},O[G.id]=z);let V=z[$];return V===void 0&&(V=x(f()),z[$]=V),V}function x(D){const G=[],B=[],$=[];for(let O=0;O<i;O++)G[O]=0,B[O]=0,$[O]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:G,enabledAttributes:B,attributeDivisors:$,object:D,attributes:{},index:null}}function v(D,G,B,$){const O=c.attributes,z=G.attributes;let V=0;const F=B.getAttributes();for(const W in F)if(F[W].location>=0){const Z=O[W];let ee=z[W];if(ee===void 0&&(W==="instanceMatrix"&&D.instanceMatrix&&(ee=D.instanceMatrix),W==="instanceColor"&&D.instanceColor&&(ee=D.instanceColor)),Z===void 0||Z.attribute!==ee||ee&&Z.data!==ee.data)return!0;V++}return c.attributesNum!==V||c.index!==$}function w(D,G,B,$){const O={},z=G.attributes;let V=0;const F=B.getAttributes();for(const W in F)if(F[W].location>=0){let Z=z[W];Z===void 0&&(W==="instanceMatrix"&&D.instanceMatrix&&(Z=D.instanceMatrix),W==="instanceColor"&&D.instanceColor&&(Z=D.instanceColor));const ee={};ee.attribute=Z,Z&&Z.data&&(ee.data=Z.data),O[W]=ee,V++}c.attributes=O,c.attributesNum=V,c.index=$}function S(){const D=c.newAttributes;for(let G=0,B=D.length;G<B;G++)D[G]=0}function C(D){_(D,0)}function _(D,G){const B=c.newAttributes,$=c.enabledAttributes,O=c.attributeDivisors;B[D]=1,$[D]===0&&(t.enableVertexAttribArray(D),$[D]=1),O[D]!==G&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](D,G),O[D]=G)}function T(){const D=c.newAttributes,G=c.enabledAttributes;for(let B=0,$=G.length;B<$;B++)G[B]!==D[B]&&(t.disableVertexAttribArray(B),G[B]=0)}function M(D,G,B,$,O,z,V){V===!0?t.vertexAttribIPointer(D,G,B,O,z):t.vertexAttribPointer(D,G,B,$,O,z)}function I(D,G,B,$){if(r.isWebGL2===!1&&(D.isInstancedMesh||$.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const O=$.attributes,z=B.getAttributes(),V=G.defaultAttributeValues;for(const F in z){const W=z[F];if(W.location>=0){let q=O[F];if(q===void 0&&(F==="instanceMatrix"&&D.instanceMatrix&&(q=D.instanceMatrix),F==="instanceColor"&&D.instanceColor&&(q=D.instanceColor)),q!==void 0){const Z=q.normalized,ee=q.itemSize,oe=n.get(q);if(oe===void 0)continue;const re=oe.buffer,ce=oe.type,Se=oe.bytesPerElement,Pe=r.isWebGL2===!0&&(ce===t.INT||ce===t.UNSIGNED_INT||q.gpuType===w6);if(q.isInterleavedBufferAttribute){const xe=q.data,X=xe.stride,fe=q.offset;if(xe.isInstancedInterleavedBuffer){for(let pe=0;pe<W.locationSize;pe++)_(W.location+pe,xe.meshPerAttribute);D.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let pe=0;pe<W.locationSize;pe++)C(W.location+pe);t.bindBuffer(t.ARRAY_BUFFER,re);for(let pe=0;pe<W.locationSize;pe++)M(W.location+pe,ee/W.locationSize,ce,Z,X*Se,(fe+ee/W.locationSize*pe)*Se,Pe)}else{if(q.isInstancedBufferAttribute){for(let xe=0;xe<W.locationSize;xe++)_(W.location+xe,q.meshPerAttribute);D.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=q.meshPerAttribute*q.count)}else for(let xe=0;xe<W.locationSize;xe++)C(W.location+xe);t.bindBuffer(t.ARRAY_BUFFER,re);for(let xe=0;xe<W.locationSize;xe++)M(W.location+xe,ee/W.locationSize,ce,Z,ee*Se,ee/W.locationSize*xe*Se,Pe)}}else if(V!==void 0){const Z=V[F];if(Z!==void 0)switch(Z.length){case 2:t.vertexAttrib2fv(W.location,Z);break;case 3:t.vertexAttrib3fv(W.location,Z);break;case 4:t.vertexAttrib4fv(W.location,Z);break;default:t.vertexAttrib1fv(W.location,Z)}}}}T()}function R(){k();for(const D in s){const G=s[D];for(const B in G){const $=G[B];for(const O in $)y($[O].object),delete $[O];delete G[B]}delete s[D]}}function P(D){if(s[D.id]===void 0)return;const G=s[D.id];for(const B in G){const $=G[B];for(const O in $)y($[O].object),delete $[O];delete G[B]}delete s[D.id]}function L(D){for(const G in s){const B=s[G];if(B[D.id]===void 0)continue;const $=B[D.id];for(const O in $)y($[O].object),delete $[O];delete B[D.id]}}function k(){H(),u=!0,c!==l&&(c=l,p(c.object))}function H(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:k,resetDefaultState:H,dispose:R,releaseStatesOfGeometry:P,releaseStatesOfProgram:L,initAttributes:S,enableAttribute:C,disableUnusedAttributes:T}}function Vge(t,e,n,r){const i=r.isWebGL2;let o;function a(c){o=c}function s(c,u){t.drawArrays(o,c,u),n.update(u,o,1)}function l(c,u,d){if(d===0)return;let f,p;if(i)f=t,p="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[p](o,c,u,d),n.update(u,o,d)}this.setMode=a,this.render=s,this.renderInstances=l}function Wge(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const M=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(M){if(M==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";M="mediump"}return M==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let s=n.precision!==void 0?n.precision:"highp";const l=o(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);const c=a||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,d=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),f=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),b=t.getParameter(t.MAX_VERTEX_ATTRIBS),x=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),v=t.getParameter(t.MAX_VARYING_VECTORS),w=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),S=f>0,C=a||e.has("OES_texture_float"),_=S&&C,T=a?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:o,precision:s,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:f,maxTextureSize:p,maxCubemapSize:y,maxAttributes:b,maxVertexUniforms:x,maxVaryings:v,maxFragmentUniforms:w,vertexTextures:S,floatFragmentTextures:C,floatVertexTextures:_,maxSamples:T}}function jge(t){const e=this;let n=null,r=0,i=!1,o=!1;const a=new Ml,s=new mn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const p=d.length!==0||f||r!==0||i;return i=f,r=d.length,p},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(d,f){n=u(d,f,0)},this.setState=function(d,f,p){const y=d.clippingPlanes,b=d.clipIntersection,x=d.clipShadows,v=t.get(d);if(!i||y===null||y.length===0||o&&!x)o?u(null):c();else{const w=o?0:r,S=w*4;let C=v.clippingState||null;l.value=C,C=u(y,f,S,p);for(let _=0;_!==S;++_)C[_]=n[_];v.clippingState=C,this.numIntersection=b?this.numPlanes:0,this.numPlanes+=w}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,f,p,y){const b=d!==null?d.length:0;let x=null;if(b!==0){if(x=l.value,y!==!0||x===null){const v=p+b*4,w=f.matrixWorldInverse;s.getNormalMatrix(w),(x===null||x.length<v)&&(x=new Float32Array(v));for(let S=0,C=p;S!==b;++S,C+=4)a.copy(d[S]).applyMatrix4(w,s),a.normal.toArray(x,C),x[C+3]=a.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=b,e.numIntersection=0,x}}function Xge(t){let e=new WeakMap;function n(a,s){return s===Zc?a.mapping=fs:s===Qc&&(a.mapping=Ks),a}function r(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const s=a.mapping;if(s===Zc||s===Qc)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new iE(l.height/2);return c.fromEquirectangularTexture(t,a),e.set(a,c),a.addEventListener("dispose",i),n(c.texture,a.mapping)}else return null}}return a}function i(a){const s=a.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class Nl extends f3{constructor(e=-1,n=1,r=1,i=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,a=r+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,a=o+c*this.view.width,s-=u*this.view.offsetY,l=s-u*this.view.height}this.projectionMatrix.makeOrthographic(o,a,s,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const wh=4,eI=[.125,.215,.35,.446,.526,.582],Gu=20,tS=new Nl,tI=new St;let nS=null;const zu=(1+Math.sqrt(5))/2,Gf=1/zu,nI=[new Q(1,1,1),new Q(-1,1,1),new Q(1,1,-1),new Q(-1,1,-1),new Q(0,zu,Gf),new Q(0,zu,-Gf),new Q(Gf,0,zu),new Q(-Gf,0,zu),new Q(zu,Gf,0),new Q(-zu,Gf,0)];class t9{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){nS=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=oI(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=iI(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(nS),e.scissorTest=!1,x1(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===fs||e.mapping===Ks?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),nS=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Er,minFilter:Er,generateMipmaps:!1,type:Ws,format:Qi,colorSpace:Oo,depthBuffer:!1},i=rI(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=rI(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=qge(o)),this._blurMaterial=Kge(o,e,n)}return i}_compileMaterial(e){const n=new fi(this._lodPlanes[0],e);this._renderer.compile(n,tS)}_sceneToCubeUV(e,n,r,i){const s=new Ur(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(tI),u.toneMapping=Po,u.autoClear=!1;const p=new lu({name:"PMREM.Background",side:Kr,depthWrite:!1,depthTest:!1}),y=new fi(new cu,p);let b=!1;const x=e.background;x?x.isColor&&(p.color.copy(x),e.background=null,b=!0):(p.color.copy(tI),b=!0);for(let v=0;v<6;v++){const w=v%3;w===0?(s.up.set(0,l[v],0),s.lookAt(c[v],0,0)):w===1?(s.up.set(0,0,l[v]),s.lookAt(0,c[v],0)):(s.up.set(0,l[v],0),s.lookAt(0,0,c[v]));const S=this._cubeSize;x1(i,w*S,v>2?S:0,S,S),u.setRenderTarget(i),b&&u.render(y,s),u.render(e,s)}y.geometry.dispose(),y.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=x}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===fs||e.mapping===Ks;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=oI()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=iI());const o=i?this._cubemapMaterial:this._equirectMaterial,a=new fi(this._lodPlanes[0],o),s=o.uniforms;s.envMap.value=e;const l=this._cubeSize;x1(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,tS)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),a=nI[(i-1)%nI.length];this._blur(e,i-1,i,o,a)}n.autoClear=r}_blur(e,n,r,i,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",o),this._halfBlur(a,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,a,s){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new fi(this._lodPlanes[i],c),f=c.uniforms,p=this._sizeLods[r]-1,y=isFinite(o)?Math.PI/(2*p):2*Math.PI/(2*Gu-1),b=o/y,x=isFinite(o)?1+Math.floor(u*b):Gu;x>Gu&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Gu}`);const v=[];let w=0;for(let M=0;M<Gu;++M){const I=M/b,R=Math.exp(-I*I/2);v.push(R),M===0?w+=R:M<x&&(w+=2*R)}for(let M=0;M<v.length;M++)v[M]=v[M]/w;f.envMap.value=e.texture,f.samples.value=x,f.weights.value=v,f.latitudinal.value=a==="latitudinal",s&&(f.poleAxis.value=s);const{_lodMax:S}=this;f.dTheta.value=y,f.mipInt.value=S-r;const C=this._sizeLods[i],_=3*C*(i>S-wh?i-S+wh:0),T=4*(this._cubeSize-C);x1(n,_,T,3*C,2*C),l.setRenderTarget(n),l.render(d,tS)}}function qge(t){const e=[],n=[],r=[];let i=t;const o=t-wh+1+eI.length;for(let a=0;a<o;a++){const s=Math.pow(2,i);n.push(s);let l=1/s;a>t-wh?l=eI[a-t+wh-1]:a===0&&(l=0),r.push(l);const c=1/(s-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],p=6,y=6,b=3,x=2,v=1,w=new Float32Array(b*y*p),S=new Float32Array(x*y*p),C=new Float32Array(v*y*p);for(let T=0;T<p;T++){const M=T%3*2/3-1,I=T>2?0:-1,R=[M,I,0,M+2/3,I,0,M+2/3,I+1,0,M,I,0,M+2/3,I+1,0,M,I+1,0];w.set(R,b*y*T),S.set(f,x*y*T);const P=[T,T,T,T,T,T];C.set(P,v*y*T)}const _=new wn;_.setAttribute("position",new sr(w,b)),_.setAttribute("uv",new sr(S,x)),_.setAttribute("faceIndex",new sr(C,v)),e.push(_),i>wh&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function rI(t,e,n){const r=new ms(t,e,n);return r.texture.mapping=qp,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function x1(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Kge(t,e,n){const r=new Float32Array(Gu),i=new Q(0,1,0);return new Jo({name:"SphericalGaussianBlur",defines:{n:Gu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:oE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Yo,depthTest:!1,depthWrite:!1})}function iI(){return new Jo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:oE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Yo,depthTest:!1,depthWrite:!1})}function oI(){return new Jo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:oE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Yo,depthTest:!1,depthWrite:!1})}function oE(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Yge(t){let e=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const l=s.mapping,c=l===Zc||l===Qc,u=l===fs||l===Ks;if(c||u)if(s.isRenderTargetTexture&&s.needsPMREMUpdate===!0){s.needsPMREMUpdate=!1;let d=e.get(s);return n===null&&(n=new t9(t)),d=c?n.fromEquirectangular(s,d):n.fromCubemap(s,d),e.set(s,d),d.texture}else{if(e.has(s))return e.get(s).texture;{const d=s.image;if(c&&d&&d.height>0||u&&d&&i(d)){n===null&&(n=new t9(t));const f=c?n.fromEquirectangular(s):n.fromCubemap(s);return e.set(s,f),s.addEventListener("dispose",o),f.texture}else return null}}}return s}function i(s){let l=0;const c=6;for(let u=0;u<c;u++)s[u]!==void 0&&l++;return l===c}function o(s){const l=s.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function Zge(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Qge(t,e,n,r){const i={},o=new WeakMap;function a(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const y in f.attributes)e.remove(f.attributes[y]);for(const y in f.morphAttributes){const b=f.morphAttributes[y];for(let x=0,v=b.length;x<v;x++)e.remove(b[x])}f.removeEventListener("dispose",a),delete i[f.id];const p=o.get(f);p&&(e.remove(p),o.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function s(d,f){return i[f.id]===!0||(f.addEventListener("dispose",a),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const y in f)e.update(f[y],t.ARRAY_BUFFER);const p=d.morphAttributes;for(const y in p){const b=p[y];for(let x=0,v=b.length;x<v;x++)e.update(b[x],t.ARRAY_BUFFER)}}function c(d){const f=[],p=d.index,y=d.attributes.position;let b=0;if(p!==null){const w=p.array;b=p.version;for(let S=0,C=w.length;S<C;S+=3){const _=w[S+0],T=w[S+1],M=w[S+2];f.push(_,T,T,M,M,_)}}else if(y!==void 0){const w=y.array;b=y.version;for(let S=0,C=w.length/3-1;S<C;S+=3){const _=S+0,T=S+1,M=S+2;f.push(_,T,T,M,M,_)}}else return;const x=new(yB(f)?H6:z6)(f,1);x.version=b;const v=o.get(d);v&&e.remove(v),o.set(d,x)}function u(d){const f=o.get(d);if(f){const p=d.index;p!==null&&f.version<p.version&&c(d)}else c(d);return o.get(d)}return{get:s,update:l,getWireframeAttribute:u}}function Jge(t,e,n,r){const i=r.isWebGL2;let o;function a(f){o=f}let s,l;function c(f){s=f.type,l=f.bytesPerElement}function u(f,p){t.drawElements(o,p,s,f*l),n.update(p,o,1)}function d(f,p,y){if(y===0)return;let b,x;if(i)b=t,x="drawElementsInstanced";else if(b=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",b===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}b[x](o,p,s,f*l,y),n.update(p,o,y)}this.setMode=a,this.setIndex=c,this.render=u,this.renderInstances=d}function e3e(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,a,s){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=s*(o/3);break;case t.LINES:n.lines+=s*(o/2);break;case t.LINE_STRIP:n.lines+=s*(o-1);break;case t.LINE_LOOP:n.lines+=s*o;break;case t.POINTS:n.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function t3e(t,e){return t[0]-e[0]}function n3e(t,e){return Math.abs(e[1])-Math.abs(t[1])}function r3e(t,e,n){const r={},i=new Float32Array(8),o=new WeakMap,a=new Tn,s=[];for(let c=0;c<8;c++)s[c]=[c,0];function l(c,u,d){const f=c.morphTargetInfluences;if(e.isWebGL2===!0){const p=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,y=p!==void 0?p.length:0;let b=o.get(u);if(b===void 0||b.count!==y){let D=function(){k.dispose(),o.delete(u),u.removeEventListener("dispose",D)};b!==void 0&&b.texture.dispose();const w=u.morphAttributes.position!==void 0,S=u.morphAttributes.normal!==void 0,C=u.morphAttributes.color!==void 0,_=u.morphAttributes.position||[],T=u.morphAttributes.normal||[],M=u.morphAttributes.color||[];let I=0;w===!0&&(I=1),S===!0&&(I=2),C===!0&&(I=3);let R=u.attributes.position.count*I,P=1;R>e.maxTextureSize&&(P=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const L=new Float32Array(R*P*4*y),k=new B6(L,R,P,y);k.type=Xr,k.needsUpdate=!0;const H=I*4;for(let G=0;G<y;G++){const B=_[G],$=T[G],O=M[G],z=R*P*4*G;for(let V=0;V<B.count;V++){const F=V*H;w===!0&&(a.fromBufferAttribute(B,V),L[z+F+0]=a.x,L[z+F+1]=a.y,L[z+F+2]=a.z,L[z+F+3]=0),S===!0&&(a.fromBufferAttribute($,V),L[z+F+4]=a.x,L[z+F+5]=a.y,L[z+F+6]=a.z,L[z+F+7]=0),C===!0&&(a.fromBufferAttribute(O,V),L[z+F+8]=a.x,L[z+F+9]=a.y,L[z+F+10]=a.z,L[z+F+11]=O.itemSize===4?a.w:1)}}b={count:y,texture:k,size:new Qe(R,P)},o.set(u,b),u.addEventListener("dispose",D)}let x=0;for(let w=0;w<f.length;w++)x+=f[w];const v=u.morphTargetsRelative?1:1-x;d.getUniforms().setValue(t,"morphTargetBaseInfluence",v),d.getUniforms().setValue(t,"morphTargetInfluences",f),d.getUniforms().setValue(t,"morphTargetsTexture",b.texture,n),d.getUniforms().setValue(t,"morphTargetsTextureSize",b.size)}else{const p=f===void 0?0:f.length;let y=r[u.id];if(y===void 0||y.length!==p){y=[];for(let S=0;S<p;S++)y[S]=[S,0];r[u.id]=y}for(let S=0;S<p;S++){const C=y[S];C[0]=S,C[1]=f[S]}y.sort(n3e);for(let S=0;S<8;S++)S<p&&y[S][1]?(s[S][0]=y[S][0],s[S][1]=y[S][1]):(s[S][0]=Number.MAX_SAFE_INTEGER,s[S][1]=0);s.sort(t3e);const b=u.morphAttributes.position,x=u.morphAttributes.normal;let v=0;for(let S=0;S<8;S++){const C=s[S],_=C[0],T=C[1];_!==Number.MAX_SAFE_INTEGER&&T?(b&&u.getAttribute("morphTarget"+S)!==b[_]&&u.setAttribute("morphTarget"+S,b[_]),x&&u.getAttribute("morphNormal"+S)!==x[_]&&u.setAttribute("morphNormal"+S,x[_]),i[S]=T,v+=T):(b&&u.hasAttribute("morphTarget"+S)===!0&&u.deleteAttribute("morphTarget"+S),x&&u.hasAttribute("morphNormal"+S)===!0&&u.deleteAttribute("morphNormal"+S),i[S]=0)}const w=u.morphTargetsRelative?1:1-v;d.getUniforms().setValue(t,"morphTargetBaseInfluence",w),d.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function i3e(t,e,n,r){let i=new WeakMap;function o(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return d}function a(){i=new WeakMap}function s(l){const c=l.target;c.removeEventListener("dispose",s),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:a}}const wB=new Nr,CB=new B6,EB=new eE,_B=new Yp,aI=[],sI=[],lI=new Float32Array(16),cI=new Float32Array(9),uI=new Float32Array(4);function Zp(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=aI[i];if(o===void 0&&(o=new Float32Array(i),aI[i]=o),e!==0){r.toArray(o,0);for(let a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function mi(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function gi(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function G6(t,e){let n=sI[e];n===void 0&&(n=new Int32Array(e),sI[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function o3e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function a3e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mi(n,e))return;t.uniform2fv(this.addr,e),gi(n,e)}}function s3e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(mi(n,e))return;t.uniform3fv(this.addr,e),gi(n,e)}}function l3e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mi(n,e))return;t.uniform4fv(this.addr,e),gi(n,e)}}function c3e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mi(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),gi(n,e)}else{if(mi(n,r))return;uI.set(r),t.uniformMatrix2fv(this.addr,!1,uI),gi(n,r)}}function u3e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mi(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),gi(n,e)}else{if(mi(n,r))return;cI.set(r),t.uniformMatrix3fv(this.addr,!1,cI),gi(n,r)}}function d3e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mi(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),gi(n,e)}else{if(mi(n,r))return;lI.set(r),t.uniformMatrix4fv(this.addr,!1,lI),gi(n,r)}}function f3e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function h3e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mi(n,e))return;t.uniform2iv(this.addr,e),gi(n,e)}}function p3e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(mi(n,e))return;t.uniform3iv(this.addr,e),gi(n,e)}}function m3e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mi(n,e))return;t.uniform4iv(this.addr,e),gi(n,e)}}function g3e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function v3e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mi(n,e))return;t.uniform2uiv(this.addr,e),gi(n,e)}}function y3e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(mi(n,e))return;t.uniform3uiv(this.addr,e),gi(n,e)}}function x3e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mi(n,e))return;t.uniform4uiv(this.addr,e),gi(n,e)}}function S3e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||wB,i)}function b3e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||EB,i)}function w3e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||_B,i)}function C3e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||CB,i)}function E3e(t){switch(t){case 5126:return o3e;case 35664:return a3e;case 35665:return s3e;case 35666:return l3e;case 35674:return c3e;case 35675:return u3e;case 35676:return d3e;case 5124:case 35670:return f3e;case 35667:case 35671:return h3e;case 35668:case 35672:return p3e;case 35669:case 35673:return m3e;case 5125:return g3e;case 36294:return v3e;case 36295:return y3e;case 36296:return x3e;case 35678:case 36198:case 36298:case 36306:case 35682:return S3e;case 35679:case 36299:case 36307:return b3e;case 35680:case 36300:case 36308:case 36293:return w3e;case 36289:case 36303:case 36311:case 36292:return C3e}}function _3e(t,e){t.uniform1fv(this.addr,e)}function T3e(t,e){const n=Zp(e,this.size,2);t.uniform2fv(this.addr,n)}function M3e(t,e){const n=Zp(e,this.size,3);t.uniform3fv(this.addr,n)}function R3e(t,e){const n=Zp(e,this.size,4);t.uniform4fv(this.addr,n)}function A3e(t,e){const n=Zp(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function P3e(t,e){const n=Zp(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function I3e(t,e){const n=Zp(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function N3e(t,e){t.uniform1iv(this.addr,e)}function O3e(t,e){t.uniform2iv(this.addr,e)}function L3e(t,e){t.uniform3iv(this.addr,e)}function D3e(t,e){t.uniform4iv(this.addr,e)}function F3e(t,e){t.uniform1uiv(this.addr,e)}function $3e(t,e){t.uniform2uiv(this.addr,e)}function U3e(t,e){t.uniform3uiv(this.addr,e)}function k3e(t,e){t.uniform4uiv(this.addr,e)}function B3e(t,e,n){const r=this.cache,i=e.length,o=G6(n,i);mi(r,o)||(t.uniform1iv(this.addr,o),gi(r,o));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||wB,o[a])}function z3e(t,e,n){const r=this.cache,i=e.length,o=G6(n,i);mi(r,o)||(t.uniform1iv(this.addr,o),gi(r,o));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||EB,o[a])}function H3e(t,e,n){const r=this.cache,i=e.length,o=G6(n,i);mi(r,o)||(t.uniform1iv(this.addr,o),gi(r,o));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||_B,o[a])}function G3e(t,e,n){const r=this.cache,i=e.length,o=G6(n,i);mi(r,o)||(t.uniform1iv(this.addr,o),gi(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||CB,o[a])}function V3e(t){switch(t){case 5126:return _3e;case 35664:return T3e;case 35665:return M3e;case 35666:return R3e;case 35674:return A3e;case 35675:return P3e;case 35676:return I3e;case 5124:case 35670:return N3e;case 35667:case 35671:return O3e;case 35668:case 35672:return L3e;case 35669:case 35673:return D3e;case 5125:return F3e;case 36294:return $3e;case 36295:return U3e;case 36296:return k3e;case 35678:case 36198:case 36298:case 36306:case 35682:return B3e;case 35679:case 36299:case 36307:return z3e;case 35680:case 36300:case 36308:case 36293:return H3e;case 36289:case 36303:case 36311:case 36292:return G3e}}class W3e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=E3e(n.type)}}class j3e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=V3e(n.type)}}class X3e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,a=i.length;o!==a;++o){const s=i[o];s.setValue(e,n[s.id],r)}}}const rS=/(\w+)(\])?(\[|\.)?/g;function dI(t,e){t.seq.push(e),t.map[e.id]=e}function q3e(t,e,n){const r=t.name,i=r.length;for(rS.lastIndex=0;;){const o=rS.exec(r),a=rS.lastIndex;let s=o[1];const l=o[2]==="]",c=o[3];if(l&&(s=s|0),c===void 0||c==="["&&a+2===i){dI(n,c===void 0?new W3e(s,t,e):new j3e(s,t,e));break}else{let d=n.map[s];d===void 0&&(d=new X3e(s),dI(n,d)),n=d}}}class M2{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),a=e.getUniformLocation(n,o.name);q3e(o,a,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,a=n.length;o!==a;++o){const s=n[o],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function fI(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let K3e=0;function Y3e(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let a=i;a<o;a++){const s=a+1;r.push(`${s===e?">":" "} ${s}: ${n[a]}`)}return r.join(`
`)}function Z3e(t){const e=Qn.getPrimaries(Qn.workingColorSpace),n=Qn.getPrimaries(t);let r;switch(e===n?r="":e===Eg&&n===Cg?r="LinearDisplayP3ToLinearSRGB":e===Cg&&n===Eg&&(r="LinearSRGBToLinearDisplayP3"),t){case Oo:case c3:return[r,"LinearTransferOETF"];case $t:case I6:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function hI(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+Y3e(t.getShaderSource(e),a)}else return i}function Q3e(t,e){const n=Z3e(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function J3e(t,e){let n;switch(e){case $C:n="Linear";break;case UC:n="Reinhard";break;case kC:n="OptimizedCineon";break;case x6:n="ACESFilmic";break;case Yk:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function eve(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(um).join(`
`)}function tve(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function nve(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),a=o.name;let s=1;o.type===t.FLOAT_MAT2&&(s=2),o.type===t.FLOAT_MAT3&&(s=3),o.type===t.FLOAT_MAT4&&(s=4),n[a]={type:o.type,location:t.getAttribLocation(e,a),locationSize:s}}return n}function um(t){return t!==""}function pI(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function mI(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const rve=/^[ \t]*#include +<([\w\d./]+)>/gm;function n9(t){return t.replace(rve,ove)}const ive=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function ove(t,e){let n=yn[e];if(n===void 0){const r=ive.get(e);if(r!==void 0)n=yn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return n9(n)}const ave=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function gI(t){return t.replace(ave,sve)}function sve(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function vI(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function lve(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===J5?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Mm?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Xa&&(e="SHADOWMAP_TYPE_VSM"),e}function cve(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case fs:case Ks:e="ENVMAP_TYPE_CUBE";break;case qp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function uve(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Ks:e="ENVMAP_MODE_REFRACTION";break}return e}function dve(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case l3:e="ENVMAP_BLENDING_MULTIPLY";break;case qk:e="ENVMAP_BLENDING_MIX";break;case Kk:e="ENVMAP_BLENDING_ADD";break}return e}function fve(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function hve(t,e,n,r){const i=t.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=lve(n),c=cve(n),u=uve(n),d=dve(n),f=fve(n),p=n.isWebGL2?"":eve(n),y=tve(o),b=i.createProgram();let x,v,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(um).join(`
`),x.length>0&&(x+=`
`),v=[p,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(um).join(`
`),v.length>0&&(v+=`
`)):(x=[vI(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(um).join(`
`),v=[p,vI(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Po?"#define TONE_MAPPING":"",n.toneMapping!==Po?yn.tonemapping_pars_fragment:"",n.toneMapping!==Po?J3e("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",yn.colorspace_pars_fragment,Q3e("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(um).join(`
`)),a=n9(a),a=pI(a,n),a=mI(a,n),s=n9(s),s=pI(s,n),s=mI(s,n),a=gI(a),s=gI(s),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,v=["#define varying in",n.glslVersion===J7?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===J7?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const S=w+x+a,C=w+v+s,_=fI(i,i.VERTEX_SHADER,S),T=fI(i,i.FRAGMENT_SHADER,C);if(i.attachShader(b,_),i.attachShader(b,T),n.index0AttributeName!==void 0?i.bindAttribLocation(b,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(b,0,"position"),i.linkProgram(b),t.debug.checkShaderErrors){const R=i.getProgramInfoLog(b).trim(),P=i.getShaderInfoLog(_).trim(),L=i.getShaderInfoLog(T).trim();let k=!0,H=!0;if(i.getProgramParameter(b,i.LINK_STATUS)===!1)if(k=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,b,_,T);else{const D=hI(i,_,"vertex"),G=hI(i,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(b,i.VALIDATE_STATUS)+`

Program Info Log: `+R+`
`+D+`
`+G)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(P===""||L==="")&&(H=!1);H&&(this.diagnostics={runnable:k,programLog:R,vertexShader:{log:P,prefix:x},fragmentShader:{log:L,prefix:v}})}i.deleteShader(_),i.deleteShader(T);let M;this.getUniforms=function(){return M===void 0&&(M=new M2(i,b)),M};let I;return this.getAttributes=function(){return I===void 0&&(I=nve(i,b)),I},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(b),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=K3e++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=_,this.fragmentShader=T,this}let pve=0;class mve{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new gve(e),n.set(e,r)),r}}class gve{constructor(e){this.id=pve++,this.code=e,this.usedTimes=0}}function vve(t,e,n,r,i,o,a){const s=new gd,l=new mve,c=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,f=i.vertexTextures;let p=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(R){return R===0?"uv":`uv${R}`}function x(R,P,L,k,H){const D=k.fog,G=H.geometry,B=R.isMeshStandardMaterial?k.environment:null,$=(R.isMeshStandardMaterial?n:e).get(R.envMap||B),O=$&&$.mapping===qp?$.image.height:null,z=y[R.type];R.precision!==null&&(p=i.getMaxPrecision(R.precision),p!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",p,"instead."));const V=G.morphAttributes.position||G.morphAttributes.normal||G.morphAttributes.color,F=V!==void 0?V.length:0;let W=0;G.morphAttributes.position!==void 0&&(W=1),G.morphAttributes.normal!==void 0&&(W=2),G.morphAttributes.color!==void 0&&(W=3);let q,Z,ee,oe;if(z){const Xe=Ja[z];q=Xe.vertexShader,Z=Xe.fragmentShader}else q=R.vertexShader,Z=R.fragmentShader,l.update(R),ee=l.getVertexShaderID(R),oe=l.getFragmentShaderID(R);const re=t.getRenderTarget(),ce=H.isInstancedMesh===!0,Se=!!R.map,Pe=!!R.matcap,xe=!!$,X=!!R.aoMap,fe=!!R.lightMap,pe=!!R.bumpMap,Ce=!!R.normalMap,me=!!R.displacementMap,Ge=!!R.emissiveMap,ve=!!R.metalnessMap,Re=!!R.roughnessMap,Ae=R.anisotropy>0,Le=R.clearcoat>0,Je=R.iridescence>0,K=R.sheen>0,j=R.transmission>0,ae=Ae&&!!R.anisotropyMap,Ee=Le&&!!R.clearcoatMap,Oe=Le&&!!R.clearcoatNormalMap,je=Le&&!!R.clearcoatRoughnessMap,Be=Je&&!!R.iridescenceMap,Fe=Je&&!!R.iridescenceThicknessMap,Ue=K&&!!R.sheenColorMap,et=K&&!!R.sheenRoughnessMap,at=!!R.specularMap,We=!!R.specularColorMap,ut=!!R.specularIntensityMap,te=j&&!!R.transmissionMap,ke=j&&!!R.thicknessMap,ze=!!R.gradientMap,J=!!R.alphaMap,de=R.alphaTest>0,ue=!!R.alphaHash,De=!!R.extensions,Ie=!!G.attributes.uv1,_e=!!G.attributes.uv2,rt=!!G.attributes.uv3;let ct=Po;return R.toneMapped&&(re===null||re.isXRRenderTarget===!0)&&(ct=t.toneMapping),{isWebGL2:u,shaderID:z,shaderType:R.type,shaderName:R.name,vertexShader:q,fragmentShader:Z,defines:R.defines,customVertexShaderID:ee,customFragmentShaderID:oe,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:p,instancing:ce,instancingColor:ce&&H.instanceColor!==null,supportsVertexTextures:f,outputColorSpace:re===null?t.outputColorSpace:re.isXRRenderTarget===!0?re.texture.colorSpace:Oo,map:Se,matcap:Pe,envMap:xe,envMapMode:xe&&$.mapping,envMapCubeUVHeight:O,aoMap:X,lightMap:fe,bumpMap:pe,normalMap:Ce,displacementMap:f&&me,emissiveMap:Ge,normalMapObjectSpace:Ce&&R.normalMapType===qC,normalMapTangentSpace:Ce&&R.normalMapType===Ys,metalnessMap:ve,roughnessMap:Re,anisotropy:Ae,anisotropyMap:ae,clearcoat:Le,clearcoatMap:Ee,clearcoatNormalMap:Oe,clearcoatRoughnessMap:je,iridescence:Je,iridescenceMap:Be,iridescenceThicknessMap:Fe,sheen:K,sheenColorMap:Ue,sheenRoughnessMap:et,specularMap:at,specularColorMap:We,specularIntensityMap:ut,transmission:j,transmissionMap:te,thicknessMap:ke,gradientMap:ze,opaque:R.transparent===!1&&R.blending===Ma,alphaMap:J,alphaTest:de,alphaHash:ue,combine:R.combine,mapUv:Se&&b(R.map.channel),aoMapUv:X&&b(R.aoMap.channel),lightMapUv:fe&&b(R.lightMap.channel),bumpMapUv:pe&&b(R.bumpMap.channel),normalMapUv:Ce&&b(R.normalMap.channel),displacementMapUv:me&&b(R.displacementMap.channel),emissiveMapUv:Ge&&b(R.emissiveMap.channel),metalnessMapUv:ve&&b(R.metalnessMap.channel),roughnessMapUv:Re&&b(R.roughnessMap.channel),anisotropyMapUv:ae&&b(R.anisotropyMap.channel),clearcoatMapUv:Ee&&b(R.clearcoatMap.channel),clearcoatNormalMapUv:Oe&&b(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:je&&b(R.clearcoatRoughnessMap.channel),iridescenceMapUv:Be&&b(R.iridescenceMap.channel),iridescenceThicknessMapUv:Fe&&b(R.iridescenceThicknessMap.channel),sheenColorMapUv:Ue&&b(R.sheenColorMap.channel),sheenRoughnessMapUv:et&&b(R.sheenRoughnessMap.channel),specularMapUv:at&&b(R.specularMap.channel),specularColorMapUv:We&&b(R.specularColorMap.channel),specularIntensityMapUv:ut&&b(R.specularIntensityMap.channel),transmissionMapUv:te&&b(R.transmissionMap.channel),thicknessMapUv:ke&&b(R.thicknessMap.channel),alphaMapUv:J&&b(R.alphaMap.channel),vertexTangents:!!G.attributes.tangent&&(Ce||Ae),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!G.attributes.color&&G.attributes.color.itemSize===4,vertexUv1s:Ie,vertexUv2s:_e,vertexUv3s:rt,pointsUvs:H.isPoints===!0&&!!G.attributes.uv&&(Se||J),fog:!!D,useFog:R.fog===!0,fogExp2:D&&D.isFogExp2,flatShading:R.flatShading===!0,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:H.isSkinnedMesh===!0,morphTargets:G.morphAttributes.position!==void 0,morphNormals:G.morphAttributes.normal!==void 0,morphColors:G.morphAttributes.color!==void 0,morphTargetsCount:F,morphTextureStride:W,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numLightProbes:P.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:R.dithering,shadowMapEnabled:t.shadowMap.enabled&&L.length>0,shadowMapType:t.shadowMap.type,toneMapping:ct,useLegacyLights:t._useLegacyLights,decodeVideoTexture:Se&&R.map.isVideoTexture===!0&&Qn.getTransfer(R.map.colorSpace)===cr,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===co,flipSided:R.side===Kr,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionDerivatives:De&&R.extensions.derivatives===!0,extensionFragDepth:De&&R.extensions.fragDepth===!0,extensionDrawBuffers:De&&R.extensions.drawBuffers===!0,extensionShaderTextureLOD:De&&R.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:R.customProgramCacheKey()}}function v(R){const P=[];if(R.shaderID?P.push(R.shaderID):(P.push(R.customVertexShaderID),P.push(R.customFragmentShaderID)),R.defines!==void 0)for(const L in R.defines)P.push(L),P.push(R.defines[L]);return R.isRawShaderMaterial===!1&&(w(P,R),S(P,R),P.push(t.outputColorSpace)),P.push(R.customProgramCacheKey),P.join()}function w(R,P){R.push(P.precision),R.push(P.outputColorSpace),R.push(P.envMapMode),R.push(P.envMapCubeUVHeight),R.push(P.mapUv),R.push(P.alphaMapUv),R.push(P.lightMapUv),R.push(P.aoMapUv),R.push(P.bumpMapUv),R.push(P.normalMapUv),R.push(P.displacementMapUv),R.push(P.emissiveMapUv),R.push(P.metalnessMapUv),R.push(P.roughnessMapUv),R.push(P.anisotropyMapUv),R.push(P.clearcoatMapUv),R.push(P.clearcoatNormalMapUv),R.push(P.clearcoatRoughnessMapUv),R.push(P.iridescenceMapUv),R.push(P.iridescenceThicknessMapUv),R.push(P.sheenColorMapUv),R.push(P.sheenRoughnessMapUv),R.push(P.specularMapUv),R.push(P.specularColorMapUv),R.push(P.specularIntensityMapUv),R.push(P.transmissionMapUv),R.push(P.thicknessMapUv),R.push(P.combine),R.push(P.fogExp2),R.push(P.sizeAttenuation),R.push(P.morphTargetsCount),R.push(P.morphAttributeCount),R.push(P.numDirLights),R.push(P.numPointLights),R.push(P.numSpotLights),R.push(P.numSpotLightMaps),R.push(P.numHemiLights),R.push(P.numRectAreaLights),R.push(P.numDirLightShadows),R.push(P.numPointLightShadows),R.push(P.numSpotLightShadows),R.push(P.numSpotLightShadowsWithMaps),R.push(P.numLightProbes),R.push(P.shadowMapType),R.push(P.toneMapping),R.push(P.numClippingPlanes),R.push(P.numClipIntersection),R.push(P.depthPacking)}function S(R,P){s.disableAll(),P.isWebGL2&&s.enable(0),P.supportsVertexTextures&&s.enable(1),P.instancing&&s.enable(2),P.instancingColor&&s.enable(3),P.matcap&&s.enable(4),P.envMap&&s.enable(5),P.normalMapObjectSpace&&s.enable(6),P.normalMapTangentSpace&&s.enable(7),P.clearcoat&&s.enable(8),P.iridescence&&s.enable(9),P.alphaTest&&s.enable(10),P.vertexColors&&s.enable(11),P.vertexAlphas&&s.enable(12),P.vertexUv1s&&s.enable(13),P.vertexUv2s&&s.enable(14),P.vertexUv3s&&s.enable(15),P.vertexTangents&&s.enable(16),P.anisotropy&&s.enable(17),R.push(s.mask),s.disableAll(),P.fog&&s.enable(0),P.useFog&&s.enable(1),P.flatShading&&s.enable(2),P.logarithmicDepthBuffer&&s.enable(3),P.skinning&&s.enable(4),P.morphTargets&&s.enable(5),P.morphNormals&&s.enable(6),P.morphColors&&s.enable(7),P.premultipliedAlpha&&s.enable(8),P.shadowMapEnabled&&s.enable(9),P.useLegacyLights&&s.enable(10),P.doubleSided&&s.enable(11),P.flipSided&&s.enable(12),P.useDepthPacking&&s.enable(13),P.dithering&&s.enable(14),P.transmission&&s.enable(15),P.sheen&&s.enable(16),P.opaque&&s.enable(17),P.pointsUvs&&s.enable(18),P.decodeVideoTexture&&s.enable(19),R.push(s.mask)}function C(R){const P=y[R.type];let L;if(P){const k=Ja[P];L=nE.clone(k.uniforms)}else L=R.uniforms;return L}function _(R,P){let L;for(let k=0,H=c.length;k<H;k++){const D=c[k];if(D.cacheKey===P){L=D,++L.usedTimes;break}}return L===void 0&&(L=new hve(t,P,R,o),c.push(L)),L}function T(R){if(--R.usedTimes===0){const P=c.indexOf(R);c[P]=c[c.length-1],c.pop(),R.destroy()}}function M(R){l.remove(R)}function I(){l.dispose()}return{getParameters:x,getProgramCacheKey:v,getUniforms:C,acquireProgram:_,releaseProgram:T,releaseShaderCache:M,programs:c,dispose:I}}function yve(){let t=new WeakMap;function e(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function n(o){t.delete(o)}function r(o,a,s){t.get(o)[a]=s}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function xve(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function yI(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function xI(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function a(d,f,p,y,b,x){let v=t[e];return v===void 0?(v={id:d.id,object:d,geometry:f,material:p,groupOrder:y,renderOrder:d.renderOrder,z:b,group:x},t[e]=v):(v.id=d.id,v.object=d,v.geometry=f,v.material=p,v.groupOrder=y,v.renderOrder=d.renderOrder,v.z=b,v.group=x),e++,v}function s(d,f,p,y,b,x){const v=a(d,f,p,y,b,x);p.transmission>0?r.push(v):p.transparent===!0?i.push(v):n.push(v)}function l(d,f,p,y,b,x){const v=a(d,f,p,y,b,x);p.transmission>0?r.unshift(v):p.transparent===!0?i.unshift(v):n.unshift(v)}function c(d,f){n.length>1&&n.sort(d||xve),r.length>1&&r.sort(f||yI),i.length>1&&i.sort(f||yI)}function u(){for(let d=e,f=t.length;d<f;d++){const p=t[d];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:s,unshift:l,finish:u,sort:c}}function Sve(){let t=new WeakMap;function e(r,i){const o=t.get(r);let a;return o===void 0?(a=new xI,t.set(r,[a])):i>=o.length?(a=new xI,o.push(a)):a=o[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function bve(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Q,color:new St};break;case"SpotLight":n={position:new Q,direction:new Q,color:new St,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Q,color:new St,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Q,skyColor:new St,groundColor:new St};break;case"RectAreaLight":n={color:new St,position:new Q,halfWidth:new Q,halfHeight:new Q};break}return t[e.id]=n,n}}}function wve(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qe};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qe};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qe,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Cve=0;function Eve(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function _ve(t,e){const n=new bve,r=wve(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new Q);const o=new Q,a=new on,s=new on;function l(u,d){let f=0,p=0,y=0;for(let k=0;k<9;k++)i.probe[k].set(0,0,0);let b=0,x=0,v=0,w=0,S=0,C=0,_=0,T=0,M=0,I=0,R=0;u.sort(Eve);const P=d===!0?Math.PI:1;for(let k=0,H=u.length;k<H;k++){const D=u[k],G=D.color,B=D.intensity,$=D.distance,O=D.shadow&&D.shadow.map?D.shadow.map.texture:null;if(D.isAmbientLight)f+=G.r*B*P,p+=G.g*B*P,y+=G.b*B*P;else if(D.isLightProbe){for(let z=0;z<9;z++)i.probe[z].addScaledVector(D.sh.coefficients[z],B);R++}else if(D.isDirectionalLight){const z=n.get(D);if(z.color.copy(D.color).multiplyScalar(D.intensity*P),D.castShadow){const V=D.shadow,F=r.get(D);F.shadowBias=V.bias,F.shadowNormalBias=V.normalBias,F.shadowRadius=V.radius,F.shadowMapSize=V.mapSize,i.directionalShadow[b]=F,i.directionalShadowMap[b]=O,i.directionalShadowMatrix[b]=D.shadow.matrix,C++}i.directional[b]=z,b++}else if(D.isSpotLight){const z=n.get(D);z.position.setFromMatrixPosition(D.matrixWorld),z.color.copy(G).multiplyScalar(B*P),z.distance=$,z.coneCos=Math.cos(D.angle),z.penumbraCos=Math.cos(D.angle*(1-D.penumbra)),z.decay=D.decay,i.spot[v]=z;const V=D.shadow;if(D.map&&(i.spotLightMap[M]=D.map,M++,V.updateMatrices(D),D.castShadow&&I++),i.spotLightMatrix[v]=V.matrix,D.castShadow){const F=r.get(D);F.shadowBias=V.bias,F.shadowNormalBias=V.normalBias,F.shadowRadius=V.radius,F.shadowMapSize=V.mapSize,i.spotShadow[v]=F,i.spotShadowMap[v]=O,T++}v++}else if(D.isRectAreaLight){const z=n.get(D);z.color.copy(G).multiplyScalar(B),z.halfWidth.set(D.width*.5,0,0),z.halfHeight.set(0,D.height*.5,0),i.rectArea[w]=z,w++}else if(D.isPointLight){const z=n.get(D);if(z.color.copy(D.color).multiplyScalar(D.intensity*P),z.distance=D.distance,z.decay=D.decay,D.castShadow){const V=D.shadow,F=r.get(D);F.shadowBias=V.bias,F.shadowNormalBias=V.normalBias,F.shadowRadius=V.radius,F.shadowMapSize=V.mapSize,F.shadowCameraNear=V.camera.near,F.shadowCameraFar=V.camera.far,i.pointShadow[x]=F,i.pointShadowMap[x]=O,i.pointShadowMatrix[x]=D.shadow.matrix,_++}i.point[x]=z,x++}else if(D.isHemisphereLight){const z=n.get(D);z.skyColor.copy(D.color).multiplyScalar(B*P),z.groundColor.copy(D.groundColor).multiplyScalar(B*P),i.hemi[S]=z,S++}}w>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=vt.LTC_FLOAT_1,i.rectAreaLTC2=vt.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=vt.LTC_HALF_1,i.rectAreaLTC2=vt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=f,i.ambient[1]=p,i.ambient[2]=y;const L=i.hash;(L.directionalLength!==b||L.pointLength!==x||L.spotLength!==v||L.rectAreaLength!==w||L.hemiLength!==S||L.numDirectionalShadows!==C||L.numPointShadows!==_||L.numSpotShadows!==T||L.numSpotMaps!==M||L.numLightProbes!==R)&&(i.directional.length=b,i.spot.length=v,i.rectArea.length=w,i.point.length=x,i.hemi.length=S,i.directionalShadow.length=C,i.directionalShadowMap.length=C,i.pointShadow.length=_,i.pointShadowMap.length=_,i.spotShadow.length=T,i.spotShadowMap.length=T,i.directionalShadowMatrix.length=C,i.pointShadowMatrix.length=_,i.spotLightMatrix.length=T+M-I,i.spotLightMap.length=M,i.numSpotLightShadowsWithMaps=I,i.numLightProbes=R,L.directionalLength=b,L.pointLength=x,L.spotLength=v,L.rectAreaLength=w,L.hemiLength=S,L.numDirectionalShadows=C,L.numPointShadows=_,L.numSpotShadows=T,L.numSpotMaps=M,L.numLightProbes=R,i.version=Cve++)}function c(u,d){let f=0,p=0,y=0,b=0,x=0;const v=d.matrixWorldInverse;for(let w=0,S=u.length;w<S;w++){const C=u[w];if(C.isDirectionalLight){const _=i.directional[f];_.direction.setFromMatrixPosition(C.matrixWorld),o.setFromMatrixPosition(C.target.matrixWorld),_.direction.sub(o),_.direction.transformDirection(v),f++}else if(C.isSpotLight){const _=i.spot[y];_.position.setFromMatrixPosition(C.matrixWorld),_.position.applyMatrix4(v),_.direction.setFromMatrixPosition(C.matrixWorld),o.setFromMatrixPosition(C.target.matrixWorld),_.direction.sub(o),_.direction.transformDirection(v),y++}else if(C.isRectAreaLight){const _=i.rectArea[b];_.position.setFromMatrixPosition(C.matrixWorld),_.position.applyMatrix4(v),s.identity(),a.copy(C.matrixWorld),a.premultiply(v),s.extractRotation(a),_.halfWidth.set(C.width*.5,0,0),_.halfHeight.set(0,C.height*.5,0),_.halfWidth.applyMatrix4(s),_.halfHeight.applyMatrix4(s),b++}else if(C.isPointLight){const _=i.point[p];_.position.setFromMatrixPosition(C.matrixWorld),_.position.applyMatrix4(v),p++}else if(C.isHemisphereLight){const _=i.hemi[x];_.direction.setFromMatrixPosition(C.matrixWorld),_.direction.transformDirection(v),x++}}}return{setup:l,setupView:c,state:i}}function SI(t,e){const n=new _ve(t,e),r=[],i=[];function o(){r.length=0,i.length=0}function a(d){r.push(d)}function s(d){i.push(d)}function l(d){n.setup(r,d)}function c(d){n.setupView(r,d)}return{init:o,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:a,pushShadow:s}}function Tve(t,e){let n=new WeakMap;function r(o,a=0){const s=n.get(o);let l;return s===void 0?(l=new SI(t,e),n.set(o,[l])):a>=s.length?(l=new SI(t,e),s.push(l)):l=s[a],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class aE extends Mi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=eB,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class sE extends Mi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Mve=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Rve=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Ave(t,e,n){let r=new h3;const i=new Qe,o=new Qe,a=new Tn,s=new aE({depthPacking:tB}),l=new sE,c={},u=n.maxTextureSize,d={[ds]:Kr,[Kr]:ds,[co]:co},f=new Jo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Qe},radius:{value:4}},vertexShader:Mve,fragmentShader:Rve}),p=f.clone();p.defines.HORIZONTAL_PASS=1;const y=new wn;y.setAttribute("position",new sr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new fi(y,f),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=J5;let v=this.type;this.render=function(_,T,M){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||_.length===0)return;const I=t.getRenderTarget(),R=t.getActiveCubeFace(),P=t.getActiveMipmapLevel(),L=t.state;L.setBlending(Yo),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);const k=v!==Xa&&this.type===Xa,H=v===Xa&&this.type!==Xa;for(let D=0,G=_.length;D<G;D++){const B=_[D],$=B.shadow;if($===void 0){console.warn("THREE.WebGLShadowMap:",B,"has no shadow.");continue}if($.autoUpdate===!1&&$.needsUpdate===!1)continue;i.copy($.mapSize);const O=$.getFrameExtents();if(i.multiply(O),o.copy($.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/O.x),i.x=o.x*O.x,$.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/O.y),i.y=o.y*O.y,$.mapSize.y=o.y)),$.map===null||k===!0||H===!0){const V=this.type!==Xa?{minFilter:Wn,magFilter:Wn}:{};$.map!==null&&$.map.dispose(),$.map=new ms(i.x,i.y,V),$.map.texture.name=B.name+".shadowMap",$.camera.updateProjectionMatrix()}t.setRenderTarget($.map),t.clear();const z=$.getViewportCount();for(let V=0;V<z;V++){const F=$.getViewport(V);a.set(o.x*F.x,o.y*F.y,o.x*F.z,o.y*F.w),L.viewport(a),$.updateMatrices(B,V),r=$.getFrustum(),C(T,M,$.camera,B,this.type)}$.isPointLightShadow!==!0&&this.type===Xa&&w($,M),$.needsUpdate=!1}v=this.type,x.needsUpdate=!1,t.setRenderTarget(I,R,P)};function w(_,T){const M=e.update(b);f.defines.VSM_SAMPLES!==_.blurSamples&&(f.defines.VSM_SAMPLES=_.blurSamples,p.defines.VSM_SAMPLES=_.blurSamples,f.needsUpdate=!0,p.needsUpdate=!0),_.mapPass===null&&(_.mapPass=new ms(i.x,i.y)),f.uniforms.shadow_pass.value=_.map.texture,f.uniforms.resolution.value=_.mapSize,f.uniforms.radius.value=_.radius,t.setRenderTarget(_.mapPass),t.clear(),t.renderBufferDirect(T,null,M,f,b,null),p.uniforms.shadow_pass.value=_.mapPass.texture,p.uniforms.resolution.value=_.mapSize,p.uniforms.radius.value=_.radius,t.setRenderTarget(_.map),t.clear(),t.renderBufferDirect(T,null,M,p,b,null)}function S(_,T,M,I){let R=null;const P=M.isPointLight===!0?_.customDistanceMaterial:_.customDepthMaterial;if(P!==void 0)R=P;else if(R=M.isPointLight===!0?l:s,t.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const L=R.uuid,k=T.uuid;let H=c[L];H===void 0&&(H={},c[L]=H);let D=H[k];D===void 0&&(D=R.clone(),H[k]=D),R=D}if(R.visible=T.visible,R.wireframe=T.wireframe,I===Xa?R.side=T.shadowSide!==null?T.shadowSide:T.side:R.side=T.shadowSide!==null?T.shadowSide:d[T.side],R.alphaMap=T.alphaMap,R.alphaTest=T.alphaTest,R.map=T.map,R.clipShadows=T.clipShadows,R.clippingPlanes=T.clippingPlanes,R.clipIntersection=T.clipIntersection,R.displacementMap=T.displacementMap,R.displacementScale=T.displacementScale,R.displacementBias=T.displacementBias,R.wireframeLinewidth=T.wireframeLinewidth,R.linewidth=T.linewidth,M.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const L=t.properties.get(R);L.light=M}return R}function C(_,T,M,I,R){if(_.visible===!1)return;if(_.layers.test(T.layers)&&(_.isMesh||_.isLine||_.isPoints)&&(_.castShadow||_.receiveShadow&&R===Xa)&&(!_.frustumCulled||r.intersectsObject(_))){_.modelViewMatrix.multiplyMatrices(M.matrixWorldInverse,_.matrixWorld);const k=e.update(_),H=_.material;if(Array.isArray(H)){const D=k.groups;for(let G=0,B=D.length;G<B;G++){const $=D[G],O=H[$.materialIndex];if(O&&O.visible){const z=S(_,O,I,R);t.renderBufferDirect(M,null,k,z,_,$)}}}else if(H.visible){const D=S(_,H,I,R);t.renderBufferDirect(M,null,k,D,_,null)}}const L=_.children;for(let k=0,H=L.length;k<H;k++)C(L[k],T,M,I,R)}}function Pve(t,e,n){const r=n.isWebGL2;function i(){let J=!1;const de=new Tn;let ue=null;const De=new Tn(0,0,0,0);return{setMask:function(Ie){ue!==Ie&&!J&&(t.colorMask(Ie,Ie,Ie,Ie),ue=Ie)},setLocked:function(Ie){J=Ie},setClear:function(Ie,_e,rt,ct,pt){pt===!0&&(Ie*=ct,_e*=ct,rt*=ct),de.set(Ie,_e,rt,ct),De.equals(de)===!1&&(t.clearColor(Ie,_e,rt,ct),De.copy(de))},reset:function(){J=!1,ue=null,De.set(-1,0,0,0)}}}function o(){let J=!1,de=null,ue=null,De=null;return{setTest:function(Ie){Ie?re(t.DEPTH_TEST):ce(t.DEPTH_TEST)},setMask:function(Ie){de!==Ie&&!J&&(t.depthMask(Ie),de=Ie)},setFunc:function(Ie){if(ue!==Ie){switch(Ie){case f6:t.depthFunc(t.NEVER);break;case h6:t.depthFunc(t.ALWAYS);break;case p6:t.depthFunc(t.LESS);break;case op:t.depthFunc(t.LEQUAL);break;case m6:t.depthFunc(t.EQUAL);break;case g6:t.depthFunc(t.GEQUAL);break;case v6:t.depthFunc(t.GREATER);break;case y6:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}ue=Ie}},setLocked:function(Ie){J=Ie},setClear:function(Ie){De!==Ie&&(t.clearDepth(Ie),De=Ie)},reset:function(){J=!1,de=null,ue=null,De=null}}}function a(){let J=!1,de=null,ue=null,De=null,Ie=null,_e=null,rt=null,ct=null,pt=null;return{setTest:function(Xe){J||(Xe?re(t.STENCIL_TEST):ce(t.STENCIL_TEST))},setMask:function(Xe){de!==Xe&&!J&&(t.stencilMask(Xe),de=Xe)},setFunc:function(Xe,lt,ot){(ue!==Xe||De!==lt||Ie!==ot)&&(t.stencilFunc(Xe,lt,ot),ue=Xe,De=lt,Ie=ot)},setOp:function(Xe,lt,ot){(_e!==Xe||rt!==lt||ct!==ot)&&(t.stencilOp(Xe,lt,ot),_e=Xe,rt=lt,ct=ot)},setLocked:function(Xe){J=Xe},setClear:function(Xe){pt!==Xe&&(t.clearStencil(Xe),pt=Xe)},reset:function(){J=!1,de=null,ue=null,De=null,Ie=null,_e=null,rt=null,ct=null,pt=null}}}const s=new i,l=new o,c=new a,u=new WeakMap,d=new WeakMap;let f={},p={},y=new WeakMap,b=[],x=null,v=!1,w=null,S=null,C=null,_=null,T=null,M=null,I=null,R=!1,P=null,L=null,k=null,H=null,D=null;const G=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let B=!1,$=0;const O=t.getParameter(t.VERSION);O.indexOf("WebGL")!==-1?($=parseFloat(/^WebGL (\d)/.exec(O)[1]),B=$>=1):O.indexOf("OpenGL ES")!==-1&&($=parseFloat(/^OpenGL ES (\d)/.exec(O)[1]),B=$>=2);let z=null,V={};const F=t.getParameter(t.SCISSOR_BOX),W=t.getParameter(t.VIEWPORT),q=new Tn().fromArray(F),Z=new Tn().fromArray(W);function ee(J,de,ue,De){const Ie=new Uint8Array(4),_e=t.createTexture();t.bindTexture(J,_e),t.texParameteri(J,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(J,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let rt=0;rt<ue;rt++)r&&(J===t.TEXTURE_3D||J===t.TEXTURE_2D_ARRAY)?t.texImage3D(de,0,t.RGBA,1,1,De,0,t.RGBA,t.UNSIGNED_BYTE,Ie):t.texImage2D(de+rt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ie);return _e}const oe={};oe[t.TEXTURE_2D]=ee(t.TEXTURE_2D,t.TEXTURE_2D,1),oe[t.TEXTURE_CUBE_MAP]=ee(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(oe[t.TEXTURE_2D_ARRAY]=ee(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),oe[t.TEXTURE_3D]=ee(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),s.setClear(0,0,0,1),l.setClear(1),c.setClear(0),re(t.DEPTH_TEST),l.setFunc(op),me(!1),Ge(Ay),re(t.CULL_FACE),pe(Yo);function re(J){f[J]!==!0&&(t.enable(J),f[J]=!0)}function ce(J){f[J]!==!1&&(t.disable(J),f[J]=!1)}function Se(J,de){return p[J]!==de?(t.bindFramebuffer(J,de),p[J]=de,r&&(J===t.DRAW_FRAMEBUFFER&&(p[t.FRAMEBUFFER]=de),J===t.FRAMEBUFFER&&(p[t.DRAW_FRAMEBUFFER]=de)),!0):!1}function Pe(J,de){let ue=b,De=!1;if(J)if(ue=y.get(de),ue===void 0&&(ue=[],y.set(de,ue)),J.isWebGLMultipleRenderTargets){const Ie=J.texture;if(ue.length!==Ie.length||ue[0]!==t.COLOR_ATTACHMENT0){for(let _e=0,rt=Ie.length;_e<rt;_e++)ue[_e]=t.COLOR_ATTACHMENT0+_e;ue.length=Ie.length,De=!0}}else ue[0]!==t.COLOR_ATTACHMENT0&&(ue[0]=t.COLOR_ATTACHMENT0,De=!0);else ue[0]!==t.BACK&&(ue[0]=t.BACK,De=!0);De&&(n.isWebGL2?t.drawBuffers(ue):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ue))}function xe(J){return x!==J?(t.useProgram(J),x=J,!0):!1}const X={[jo]:t.FUNC_ADD,[t6]:t.FUNC_SUBTRACT,[n6]:t.FUNC_REVERSE_SUBTRACT};if(r)X[Py]=t.MIN,X[Iy]=t.MAX;else{const J=e.get("EXT_blend_minmax");J!==null&&(X[Py]=J.MIN_EXT,X[Iy]=J.MAX_EXT)}const fe={[r6]:t.ZERO,[i6]:t.ONE,[o6]:t.SRC_COLOR,[a3]:t.SRC_ALPHA,[d6]:t.SRC_ALPHA_SATURATE,[c6]:t.DST_COLOR,[s6]:t.DST_ALPHA,[a6]:t.ONE_MINUS_SRC_COLOR,[s3]:t.ONE_MINUS_SRC_ALPHA,[u6]:t.ONE_MINUS_DST_COLOR,[l6]:t.ONE_MINUS_DST_ALPHA};function pe(J,de,ue,De,Ie,_e,rt,ct){if(J===Yo){v===!0&&(ce(t.BLEND),v=!1);return}if(v===!1&&(re(t.BLEND),v=!0),J!==e6){if(J!==w||ct!==R){if((S!==jo||T!==jo)&&(t.blendEquation(t.FUNC_ADD),S=jo,T=jo),ct)switch(J){case Ma:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Ad:t.blendFunc(t.ONE,t.ONE);break;case Pd:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Id:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",J);break}else switch(J){case Ma:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Ad:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case Pd:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Id:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",J);break}C=null,_=null,M=null,I=null,w=J,R=ct}return}Ie=Ie||de,_e=_e||ue,rt=rt||De,(de!==S||Ie!==T)&&(t.blendEquationSeparate(X[de],X[Ie]),S=de,T=Ie),(ue!==C||De!==_||_e!==M||rt!==I)&&(t.blendFuncSeparate(fe[ue],fe[De],fe[_e],fe[rt]),C=ue,_=De,M=_e,I=rt),w=J,R=!1}function Ce(J,de){J.side===co?ce(t.CULL_FACE):re(t.CULL_FACE);let ue=J.side===Kr;de&&(ue=!ue),me(ue),J.blending===Ma&&J.transparent===!1?pe(Yo):pe(J.blending,J.blendEquation,J.blendSrc,J.blendDst,J.blendEquationAlpha,J.blendSrcAlpha,J.blendDstAlpha,J.premultipliedAlpha),l.setFunc(J.depthFunc),l.setTest(J.depthTest),l.setMask(J.depthWrite),s.setMask(J.colorWrite);const De=J.stencilWrite;c.setTest(De),De&&(c.setMask(J.stencilWriteMask),c.setFunc(J.stencilFunc,J.stencilRef,J.stencilFuncMask),c.setOp(J.stencilFail,J.stencilZFail,J.stencilZPass)),Re(J.polygonOffset,J.polygonOffsetFactor,J.polygonOffsetUnits),J.alphaToCoverage===!0?re(t.SAMPLE_ALPHA_TO_COVERAGE):ce(t.SAMPLE_ALPHA_TO_COVERAGE)}function me(J){P!==J&&(J?t.frontFace(t.CW):t.frontFace(t.CCW),P=J)}function Ge(J){J!==DC?(re(t.CULL_FACE),J!==L&&(J===Ay?t.cullFace(t.BACK):J===FC?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ce(t.CULL_FACE),L=J}function ve(J){J!==k&&(B&&t.lineWidth(J),k=J)}function Re(J,de,ue){J?(re(t.POLYGON_OFFSET_FILL),(H!==de||D!==ue)&&(t.polygonOffset(de,ue),H=de,D=ue)):ce(t.POLYGON_OFFSET_FILL)}function Ae(J){J?re(t.SCISSOR_TEST):ce(t.SCISSOR_TEST)}function Le(J){J===void 0&&(J=t.TEXTURE0+G-1),z!==J&&(t.activeTexture(J),z=J)}function Je(J,de,ue){ue===void 0&&(z===null?ue=t.TEXTURE0+G-1:ue=z);let De=V[ue];De===void 0&&(De={type:void 0,texture:void 0},V[ue]=De),(De.type!==J||De.texture!==de)&&(z!==ue&&(t.activeTexture(ue),z=ue),t.bindTexture(J,de||oe[J]),De.type=J,De.texture=de)}function K(){const J=V[z];J!==void 0&&J.type!==void 0&&(t.bindTexture(J.type,null),J.type=void 0,J.texture=void 0)}function j(){try{t.compressedTexImage2D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function ae(){try{t.compressedTexImage3D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Ee(){try{t.texSubImage2D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Oe(){try{t.texSubImage3D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function je(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Be(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Fe(){try{t.texStorage2D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Ue(){try{t.texStorage3D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function et(){try{t.texImage2D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function at(){try{t.texImage3D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function We(J){q.equals(J)===!1&&(t.scissor(J.x,J.y,J.z,J.w),q.copy(J))}function ut(J){Z.equals(J)===!1&&(t.viewport(J.x,J.y,J.z,J.w),Z.copy(J))}function te(J,de){let ue=d.get(de);ue===void 0&&(ue=new WeakMap,d.set(de,ue));let De=ue.get(J);De===void 0&&(De=t.getUniformBlockIndex(de,J.name),ue.set(J,De))}function ke(J,de){const De=d.get(de).get(J);u.get(de)!==De&&(t.uniformBlockBinding(de,De,J.__bindingPointIndex),u.set(de,De))}function ze(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},z=null,V={},p={},y=new WeakMap,b=[],x=null,v=!1,w=null,S=null,C=null,_=null,T=null,M=null,I=null,R=!1,P=null,L=null,k=null,H=null,D=null,q.set(0,0,t.canvas.width,t.canvas.height),Z.set(0,0,t.canvas.width,t.canvas.height),s.reset(),l.reset(),c.reset()}return{buffers:{color:s,depth:l,stencil:c},enable:re,disable:ce,bindFramebuffer:Se,drawBuffers:Pe,useProgram:xe,setBlending:pe,setMaterial:Ce,setFlipSided:me,setCullFace:Ge,setLineWidth:ve,setPolygonOffset:Re,setScissorTest:Ae,activeTexture:Le,bindTexture:Je,unbindTexture:K,compressedTexImage2D:j,compressedTexImage3D:ae,texImage2D:et,texImage3D:at,updateUBOMapping:te,uniformBlockBinding:ke,texStorage2D:Fe,texStorage3D:Ue,texSubImage2D:Ee,texSubImage3D:Oe,compressedTexSubImage2D:je,compressedTexSubImage3D:Be,scissor:We,viewport:ut,reset:ze}}function Ive(t,e,n,r,i,o,a){const s=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,d=i.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,p=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let b;const x=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function w(K,j){return v?new OffscreenCanvas(K,j):_g("canvas")}function S(K,j,ae,Ee){let Oe=1;if((K.width>Ee||K.height>Ee)&&(Oe=Ee/Math.max(K.width,K.height)),Oe<1||j===!0)if(typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&K instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&K instanceof ImageBitmap){const je=j?Oy:Math.floor,Be=je(Oe*K.width),Fe=je(Oe*K.height);b===void 0&&(b=w(Be,Fe));const Ue=ae?w(Be,Fe):b;return Ue.width=Be,Ue.height=Fe,Ue.getContext("2d").drawImage(K,0,0,Be,Fe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+K.width+"x"+K.height+") to ("+Be+"x"+Fe+")."),Ue}else return"data"in K&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+K.width+"x"+K.height+")."),K;return K}function C(K){return e9(K.width)&&e9(K.height)}function _(K){return s?!1:K.wrapS!==Ni||K.wrapT!==Ni||K.minFilter!==Wn&&K.minFilter!==Er}function T(K,j){return K.generateMipmaps&&j&&K.minFilter!==Wn&&K.minFilter!==Er}function M(K){t.generateMipmap(K)}function I(K,j,ae,Ee,Oe=!1){if(s===!1)return j;if(K!==null){if(t[K]!==void 0)return t[K];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+K+"'")}let je=j;if(j===t.RED&&(ae===t.FLOAT&&(je=t.R32F),ae===t.HALF_FLOAT&&(je=t.R16F),ae===t.UNSIGNED_BYTE&&(je=t.R8)),j===t.RED_INTEGER&&(ae===t.UNSIGNED_BYTE&&(je=t.R8UI),ae===t.UNSIGNED_SHORT&&(je=t.R16UI),ae===t.UNSIGNED_INT&&(je=t.R32UI),ae===t.BYTE&&(je=t.R8I),ae===t.SHORT&&(je=t.R16I),ae===t.INT&&(je=t.R32I)),j===t.RG&&(ae===t.FLOAT&&(je=t.RG32F),ae===t.HALF_FLOAT&&(je=t.RG16F),ae===t.UNSIGNED_BYTE&&(je=t.RG8)),j===t.RGBA){const Be=Oe?wg:Qn.getTransfer(Ee);ae===t.FLOAT&&(je=t.RGBA32F),ae===t.HALF_FLOAT&&(je=t.RGBA16F),ae===t.UNSIGNED_BYTE&&(je=Be===cr?t.SRGB8_ALPHA8:t.RGBA8),ae===t.UNSIGNED_SHORT_4_4_4_4&&(je=t.RGBA4),ae===t.UNSIGNED_SHORT_5_5_5_1&&(je=t.RGB5_A1)}return(je===t.R16F||je===t.R32F||je===t.RG16F||je===t.RG32F||je===t.RGBA16F||je===t.RGBA32F)&&e.get("EXT_color_buffer_float"),je}function R(K,j,ae){return T(K,ae)===!0||K.isFramebufferTexture&&K.minFilter!==Wn&&K.minFilter!==Er?Math.log2(Math.max(j.width,j.height))+1:K.mipmaps!==void 0&&K.mipmaps.length>0?K.mipmaps.length:K.isCompressedTexture&&Array.isArray(K.image)?j.mipmaps.length:1}function P(K){return K===Wn||K===Ld||K===Dl?t.NEAREST:t.LINEAR}function L(K){const j=K.target;j.removeEventListener("dispose",L),H(j),j.isVideoTexture&&y.delete(j)}function k(K){const j=K.target;j.removeEventListener("dispose",k),G(j)}function H(K){const j=r.get(K);if(j.__webglInit===void 0)return;const ae=K.source,Ee=x.get(ae);if(Ee){const Oe=Ee[j.__cacheKey];Oe.usedTimes--,Oe.usedTimes===0&&D(K),Object.keys(Ee).length===0&&x.delete(ae)}r.remove(K)}function D(K){const j=r.get(K);t.deleteTexture(j.__webglTexture);const ae=K.source,Ee=x.get(ae);delete Ee[j.__cacheKey],a.memory.textures--}function G(K){const j=K.texture,ae=r.get(K),Ee=r.get(j);if(Ee.__webglTexture!==void 0&&(t.deleteTexture(Ee.__webglTexture),a.memory.textures--),K.depthTexture&&K.depthTexture.dispose(),K.isWebGLCubeRenderTarget)for(let Oe=0;Oe<6;Oe++){if(Array.isArray(ae.__webglFramebuffer[Oe]))for(let je=0;je<ae.__webglFramebuffer[Oe].length;je++)t.deleteFramebuffer(ae.__webglFramebuffer[Oe][je]);else t.deleteFramebuffer(ae.__webglFramebuffer[Oe]);ae.__webglDepthbuffer&&t.deleteRenderbuffer(ae.__webglDepthbuffer[Oe])}else{if(Array.isArray(ae.__webglFramebuffer))for(let Oe=0;Oe<ae.__webglFramebuffer.length;Oe++)t.deleteFramebuffer(ae.__webglFramebuffer[Oe]);else t.deleteFramebuffer(ae.__webglFramebuffer);if(ae.__webglDepthbuffer&&t.deleteRenderbuffer(ae.__webglDepthbuffer),ae.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ae.__webglMultisampledFramebuffer),ae.__webglColorRenderbuffer)for(let Oe=0;Oe<ae.__webglColorRenderbuffer.length;Oe++)ae.__webglColorRenderbuffer[Oe]&&t.deleteRenderbuffer(ae.__webglColorRenderbuffer[Oe]);ae.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ae.__webglDepthRenderbuffer)}if(K.isWebGLMultipleRenderTargets)for(let Oe=0,je=j.length;Oe<je;Oe++){const Be=r.get(j[Oe]);Be.__webglTexture&&(t.deleteTexture(Be.__webglTexture),a.memory.textures--),r.remove(j[Oe])}r.remove(j),r.remove(K)}let B=0;function $(){B=0}function O(){const K=B;return K>=l&&console.warn("THREE.WebGLTextures: Trying to use "+K+" texture units while this GPU supports only "+l),B+=1,K}function z(K){const j=[];return j.push(K.wrapS),j.push(K.wrapT),j.push(K.wrapR||0),j.push(K.magFilter),j.push(K.minFilter),j.push(K.anisotropy),j.push(K.internalFormat),j.push(K.format),j.push(K.type),j.push(K.generateMipmaps),j.push(K.premultiplyAlpha),j.push(K.flipY),j.push(K.unpackAlignment),j.push(K.colorSpace),j.join()}function V(K,j){const ae=r.get(K);if(K.isVideoTexture&&Le(K),K.isRenderTargetTexture===!1&&K.version>0&&ae.__version!==K.version){const Ee=K.image;if(Ee===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ee.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Se(ae,K,j);return}}n.bindTexture(t.TEXTURE_2D,ae.__webglTexture,t.TEXTURE0+j)}function F(K,j){const ae=r.get(K);if(K.version>0&&ae.__version!==K.version){Se(ae,K,j);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ae.__webglTexture,t.TEXTURE0+j)}function W(K,j){const ae=r.get(K);if(K.version>0&&ae.__version!==K.version){Se(ae,K,j);return}n.bindTexture(t.TEXTURE_3D,ae.__webglTexture,t.TEXTURE0+j)}function q(K,j){const ae=r.get(K);if(K.version>0&&ae.__version!==K.version){Pe(ae,K,j);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ae.__webglTexture,t.TEXTURE0+j)}const Z={[Nd]:t.REPEAT,[Ni]:t.CLAMP_TO_EDGE,[Od]:t.MIRRORED_REPEAT},ee={[Wn]:t.NEAREST,[Ld]:t.NEAREST_MIPMAP_NEAREST,[Dl]:t.NEAREST_MIPMAP_LINEAR,[Er]:t.LINEAR,[b6]:t.LINEAR_MIPMAP_NEAREST,[hs]:t.LINEAR_MIPMAP_LINEAR},oe={[N6]:t.NEVER,[U6]:t.ALWAYS,[u3]:t.LESS,[L6]:t.LEQUAL,[O6]:t.EQUAL,[$6]:t.GEQUAL,[D6]:t.GREATER,[F6]:t.NOTEQUAL};function re(K,j,ae){if(ae?(t.texParameteri(K,t.TEXTURE_WRAP_S,Z[j.wrapS]),t.texParameteri(K,t.TEXTURE_WRAP_T,Z[j.wrapT]),(K===t.TEXTURE_3D||K===t.TEXTURE_2D_ARRAY)&&t.texParameteri(K,t.TEXTURE_WRAP_R,Z[j.wrapR]),t.texParameteri(K,t.TEXTURE_MAG_FILTER,ee[j.magFilter]),t.texParameteri(K,t.TEXTURE_MIN_FILTER,ee[j.minFilter])):(t.texParameteri(K,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(K,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(K===t.TEXTURE_3D||K===t.TEXTURE_2D_ARRAY)&&t.texParameteri(K,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(j.wrapS!==Ni||j.wrapT!==Ni)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(K,t.TEXTURE_MAG_FILTER,P(j.magFilter)),t.texParameteri(K,t.TEXTURE_MIN_FILTER,P(j.minFilter)),j.minFilter!==Wn&&j.minFilter!==Er&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),j.compareFunction&&(t.texParameteri(K,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(K,t.TEXTURE_COMPARE_FUNC,oe[j.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ee=e.get("EXT_texture_filter_anisotropic");if(j.magFilter===Wn||j.minFilter!==Dl&&j.minFilter!==hs||j.type===Xr&&e.has("OES_texture_float_linear")===!1||s===!1&&j.type===Ws&&e.has("OES_texture_half_float_linear")===!1)return;(j.anisotropy>1||r.get(j).__currentAnisotropy)&&(t.texParameterf(K,Ee.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(j.anisotropy,i.getMaxAnisotropy())),r.get(j).__currentAnisotropy=j.anisotropy)}}function ce(K,j){let ae=!1;K.__webglInit===void 0&&(K.__webglInit=!0,j.addEventListener("dispose",L));const Ee=j.source;let Oe=x.get(Ee);Oe===void 0&&(Oe={},x.set(Ee,Oe));const je=z(j);if(je!==K.__cacheKey){Oe[je]===void 0&&(Oe[je]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,ae=!0),Oe[je].usedTimes++;const Be=Oe[K.__cacheKey];Be!==void 0&&(Oe[K.__cacheKey].usedTimes--,Be.usedTimes===0&&D(j)),K.__cacheKey=je,K.__webglTexture=Oe[je].texture}return ae}function Se(K,j,ae){let Ee=t.TEXTURE_2D;(j.isDataArrayTexture||j.isCompressedArrayTexture)&&(Ee=t.TEXTURE_2D_ARRAY),j.isData3DTexture&&(Ee=t.TEXTURE_3D);const Oe=ce(K,j),je=j.source;n.bindTexture(Ee,K.__webglTexture,t.TEXTURE0+ae);const Be=r.get(je);if(je.version!==Be.__version||Oe===!0){n.activeTexture(t.TEXTURE0+ae);const Fe=Qn.getPrimaries(Qn.workingColorSpace),Ue=j.colorSpace===Oi?null:Qn.getPrimaries(j.colorSpace),et=j.colorSpace===Oi||Fe===Ue?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,j.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,j.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,et);const at=_(j)&&C(j.image)===!1;let We=S(j.image,at,!1,u);We=Je(j,We);const ut=C(We)||s,te=o.convert(j.format,j.colorSpace);let ke=o.convert(j.type),ze=I(j.internalFormat,te,ke,j.colorSpace,j.isVideoTexture);re(Ee,j,ut);let J;const de=j.mipmaps,ue=s&&j.isVideoTexture!==!0,De=Be.__version===void 0||Oe===!0,Ie=R(j,We,ut);if(j.isDepthTexture)ze=t.DEPTH_COMPONENT,s?j.type===Xr?ze=t.DEPTH_COMPONENT32F:j.type===Ca?ze=t.DEPTH_COMPONENT24:j.type===Ra?ze=t.DEPTH24_STENCIL8:ze=t.DEPTH_COMPONENT16:j.type===Xr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),j.format===Aa&&ze===t.DEPTH_COMPONENT&&j.type!==Kp&&j.type!==Ca&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),j.type=Ca,ke=o.convert(j.type)),j.format===ps&&ze===t.DEPTH_COMPONENT&&(ze=t.DEPTH_STENCIL,j.type!==Ra&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),j.type=Ra,ke=o.convert(j.type))),De&&(ue?n.texStorage2D(t.TEXTURE_2D,1,ze,We.width,We.height):n.texImage2D(t.TEXTURE_2D,0,ze,We.width,We.height,0,te,ke,null));else if(j.isDataTexture)if(de.length>0&&ut){ue&&De&&n.texStorage2D(t.TEXTURE_2D,Ie,ze,de[0].width,de[0].height);for(let _e=0,rt=de.length;_e<rt;_e++)J=de[_e],ue?n.texSubImage2D(t.TEXTURE_2D,_e,0,0,J.width,J.height,te,ke,J.data):n.texImage2D(t.TEXTURE_2D,_e,ze,J.width,J.height,0,te,ke,J.data);j.generateMipmaps=!1}else ue?(De&&n.texStorage2D(t.TEXTURE_2D,Ie,ze,We.width,We.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,We.width,We.height,te,ke,We.data)):n.texImage2D(t.TEXTURE_2D,0,ze,We.width,We.height,0,te,ke,We.data);else if(j.isCompressedTexture)if(j.isCompressedArrayTexture){ue&&De&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ie,ze,de[0].width,de[0].height,We.depth);for(let _e=0,rt=de.length;_e<rt;_e++)J=de[_e],j.format!==Qi?te!==null?ue?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,_e,0,0,0,J.width,J.height,We.depth,te,J.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,_e,ze,J.width,J.height,We.depth,0,J.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ue?n.texSubImage3D(t.TEXTURE_2D_ARRAY,_e,0,0,0,J.width,J.height,We.depth,te,ke,J.data):n.texImage3D(t.TEXTURE_2D_ARRAY,_e,ze,J.width,J.height,We.depth,0,te,ke,J.data)}else{ue&&De&&n.texStorage2D(t.TEXTURE_2D,Ie,ze,de[0].width,de[0].height);for(let _e=0,rt=de.length;_e<rt;_e++)J=de[_e],j.format!==Qi?te!==null?ue?n.compressedTexSubImage2D(t.TEXTURE_2D,_e,0,0,J.width,J.height,te,J.data):n.compressedTexImage2D(t.TEXTURE_2D,_e,ze,J.width,J.height,0,J.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ue?n.texSubImage2D(t.TEXTURE_2D,_e,0,0,J.width,J.height,te,ke,J.data):n.texImage2D(t.TEXTURE_2D,_e,ze,J.width,J.height,0,te,ke,J.data)}else if(j.isDataArrayTexture)ue?(De&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ie,ze,We.width,We.height,We.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,We.width,We.height,We.depth,te,ke,We.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,ze,We.width,We.height,We.depth,0,te,ke,We.data);else if(j.isData3DTexture)ue?(De&&n.texStorage3D(t.TEXTURE_3D,Ie,ze,We.width,We.height,We.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,We.width,We.height,We.depth,te,ke,We.data)):n.texImage3D(t.TEXTURE_3D,0,ze,We.width,We.height,We.depth,0,te,ke,We.data);else if(j.isFramebufferTexture){if(De)if(ue)n.texStorage2D(t.TEXTURE_2D,Ie,ze,We.width,We.height);else{let _e=We.width,rt=We.height;for(let ct=0;ct<Ie;ct++)n.texImage2D(t.TEXTURE_2D,ct,ze,_e,rt,0,te,ke,null),_e>>=1,rt>>=1}}else if(de.length>0&&ut){ue&&De&&n.texStorage2D(t.TEXTURE_2D,Ie,ze,de[0].width,de[0].height);for(let _e=0,rt=de.length;_e<rt;_e++)J=de[_e],ue?n.texSubImage2D(t.TEXTURE_2D,_e,0,0,te,ke,J):n.texImage2D(t.TEXTURE_2D,_e,ze,te,ke,J);j.generateMipmaps=!1}else ue?(De&&n.texStorage2D(t.TEXTURE_2D,Ie,ze,We.width,We.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,te,ke,We)):n.texImage2D(t.TEXTURE_2D,0,ze,te,ke,We);T(j,ut)&&M(Ee),Be.__version=je.version,j.onUpdate&&j.onUpdate(j)}K.__version=j.version}function Pe(K,j,ae){if(j.image.length!==6)return;const Ee=ce(K,j),Oe=j.source;n.bindTexture(t.TEXTURE_CUBE_MAP,K.__webglTexture,t.TEXTURE0+ae);const je=r.get(Oe);if(Oe.version!==je.__version||Ee===!0){n.activeTexture(t.TEXTURE0+ae);const Be=Qn.getPrimaries(Qn.workingColorSpace),Fe=j.colorSpace===Oi?null:Qn.getPrimaries(j.colorSpace),Ue=j.colorSpace===Oi||Be===Fe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,j.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,j.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ue);const et=j.isCompressedTexture||j.image[0].isCompressedTexture,at=j.image[0]&&j.image[0].isDataTexture,We=[];for(let _e=0;_e<6;_e++)!et&&!at?We[_e]=S(j.image[_e],!1,!0,c):We[_e]=at?j.image[_e].image:j.image[_e],We[_e]=Je(j,We[_e]);const ut=We[0],te=C(ut)||s,ke=o.convert(j.format,j.colorSpace),ze=o.convert(j.type),J=I(j.internalFormat,ke,ze,j.colorSpace),de=s&&j.isVideoTexture!==!0,ue=je.__version===void 0||Ee===!0;let De=R(j,ut,te);re(t.TEXTURE_CUBE_MAP,j,te);let Ie;if(et){de&&ue&&n.texStorage2D(t.TEXTURE_CUBE_MAP,De,J,ut.width,ut.height);for(let _e=0;_e<6;_e++){Ie=We[_e].mipmaps;for(let rt=0;rt<Ie.length;rt++){const ct=Ie[rt];j.format!==Qi?ke!==null?de?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,rt,0,0,ct.width,ct.height,ke,ct.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,rt,J,ct.width,ct.height,0,ct.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):de?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,rt,0,0,ct.width,ct.height,ke,ze,ct.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,rt,J,ct.width,ct.height,0,ke,ze,ct.data)}}}else{Ie=j.mipmaps,de&&ue&&(Ie.length>0&&De++,n.texStorage2D(t.TEXTURE_CUBE_MAP,De,J,We[0].width,We[0].height));for(let _e=0;_e<6;_e++)if(at){de?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,0,0,We[_e].width,We[_e].height,ke,ze,We[_e].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,J,We[_e].width,We[_e].height,0,ke,ze,We[_e].data);for(let rt=0;rt<Ie.length;rt++){const pt=Ie[rt].image[_e].image;de?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,rt+1,0,0,pt.width,pt.height,ke,ze,pt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,rt+1,J,pt.width,pt.height,0,ke,ze,pt.data)}}else{de?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,0,0,ke,ze,We[_e]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,J,ke,ze,We[_e]);for(let rt=0;rt<Ie.length;rt++){const ct=Ie[rt];de?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,rt+1,0,0,ke,ze,ct.image[_e]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,rt+1,J,ke,ze,ct.image[_e])}}}T(j,te)&&M(t.TEXTURE_CUBE_MAP),je.__version=Oe.version,j.onUpdate&&j.onUpdate(j)}K.__version=j.version}function xe(K,j,ae,Ee,Oe,je){const Be=o.convert(ae.format,ae.colorSpace),Fe=o.convert(ae.type),Ue=I(ae.internalFormat,Be,Fe,ae.colorSpace);if(!r.get(j).__hasExternalTextures){const at=Math.max(1,j.width>>je),We=Math.max(1,j.height>>je);Oe===t.TEXTURE_3D||Oe===t.TEXTURE_2D_ARRAY?n.texImage3D(Oe,je,Ue,at,We,j.depth,0,Be,Fe,null):n.texImage2D(Oe,je,Ue,at,We,0,Be,Fe,null)}n.bindFramebuffer(t.FRAMEBUFFER,K),Ae(j)?f.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ee,Oe,r.get(ae).__webglTexture,0,Re(j)):(Oe===t.TEXTURE_2D||Oe>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Oe<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ee,Oe,r.get(ae).__webglTexture,je),n.bindFramebuffer(t.FRAMEBUFFER,null)}function X(K,j,ae){if(t.bindRenderbuffer(t.RENDERBUFFER,K),j.depthBuffer&&!j.stencilBuffer){let Ee=s===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(ae||Ae(j)){const Oe=j.depthTexture;Oe&&Oe.isDepthTexture&&(Oe.type===Xr?Ee=t.DEPTH_COMPONENT32F:Oe.type===Ca&&(Ee=t.DEPTH_COMPONENT24));const je=Re(j);Ae(j)?f.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,je,Ee,j.width,j.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,je,Ee,j.width,j.height)}else t.renderbufferStorage(t.RENDERBUFFER,Ee,j.width,j.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,K)}else if(j.depthBuffer&&j.stencilBuffer){const Ee=Re(j);ae&&Ae(j)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ee,t.DEPTH24_STENCIL8,j.width,j.height):Ae(j)?f.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ee,t.DEPTH24_STENCIL8,j.width,j.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,j.width,j.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,K)}else{const Ee=j.isWebGLMultipleRenderTargets===!0?j.texture:[j.texture];for(let Oe=0;Oe<Ee.length;Oe++){const je=Ee[Oe],Be=o.convert(je.format,je.colorSpace),Fe=o.convert(je.type),Ue=I(je.internalFormat,Be,Fe,je.colorSpace),et=Re(j);ae&&Ae(j)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,et,Ue,j.width,j.height):Ae(j)?f.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,et,Ue,j.width,j.height):t.renderbufferStorage(t.RENDERBUFFER,Ue,j.width,j.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function fe(K,j){if(j&&j.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,K),!(j.depthTexture&&j.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(j.depthTexture).__webglTexture||j.depthTexture.image.width!==j.width||j.depthTexture.image.height!==j.height)&&(j.depthTexture.image.width=j.width,j.depthTexture.image.height=j.height,j.depthTexture.needsUpdate=!0),V(j.depthTexture,0);const Ee=r.get(j.depthTexture).__webglTexture,Oe=Re(j);if(j.depthTexture.format===Aa)Ae(j)?f.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ee,0,Oe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ee,0);else if(j.depthTexture.format===ps)Ae(j)?f.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ee,0,Oe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ee,0);else throw new Error("Unknown depthTexture format")}function pe(K){const j=r.get(K),ae=K.isWebGLCubeRenderTarget===!0;if(K.depthTexture&&!j.__autoAllocateDepthBuffer){if(ae)throw new Error("target.depthTexture not supported in Cube render targets");fe(j.__webglFramebuffer,K)}else if(ae){j.__webglDepthbuffer=[];for(let Ee=0;Ee<6;Ee++)n.bindFramebuffer(t.FRAMEBUFFER,j.__webglFramebuffer[Ee]),j.__webglDepthbuffer[Ee]=t.createRenderbuffer(),X(j.__webglDepthbuffer[Ee],K,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,j.__webglFramebuffer),j.__webglDepthbuffer=t.createRenderbuffer(),X(j.__webglDepthbuffer,K,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ce(K,j,ae){const Ee=r.get(K);j!==void 0&&xe(Ee.__webglFramebuffer,K,K.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ae!==void 0&&pe(K)}function me(K){const j=K.texture,ae=r.get(K),Ee=r.get(j);K.addEventListener("dispose",k),K.isWebGLMultipleRenderTargets!==!0&&(Ee.__webglTexture===void 0&&(Ee.__webglTexture=t.createTexture()),Ee.__version=j.version,a.memory.textures++);const Oe=K.isWebGLCubeRenderTarget===!0,je=K.isWebGLMultipleRenderTargets===!0,Be=C(K)||s;if(Oe){ae.__webglFramebuffer=[];for(let Fe=0;Fe<6;Fe++)if(s&&j.mipmaps&&j.mipmaps.length>0){ae.__webglFramebuffer[Fe]=[];for(let Ue=0;Ue<j.mipmaps.length;Ue++)ae.__webglFramebuffer[Fe][Ue]=t.createFramebuffer()}else ae.__webglFramebuffer[Fe]=t.createFramebuffer()}else{if(s&&j.mipmaps&&j.mipmaps.length>0){ae.__webglFramebuffer=[];for(let Fe=0;Fe<j.mipmaps.length;Fe++)ae.__webglFramebuffer[Fe]=t.createFramebuffer()}else ae.__webglFramebuffer=t.createFramebuffer();if(je)if(i.drawBuffers){const Fe=K.texture;for(let Ue=0,et=Fe.length;Ue<et;Ue++){const at=r.get(Fe[Ue]);at.__webglTexture===void 0&&(at.__webglTexture=t.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&K.samples>0&&Ae(K)===!1){const Fe=je?j:[j];ae.__webglMultisampledFramebuffer=t.createFramebuffer(),ae.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ae.__webglMultisampledFramebuffer);for(let Ue=0;Ue<Fe.length;Ue++){const et=Fe[Ue];ae.__webglColorRenderbuffer[Ue]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ae.__webglColorRenderbuffer[Ue]);const at=o.convert(et.format,et.colorSpace),We=o.convert(et.type),ut=I(et.internalFormat,at,We,et.colorSpace,K.isXRRenderTarget===!0),te=Re(K);t.renderbufferStorageMultisample(t.RENDERBUFFER,te,ut,K.width,K.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ue,t.RENDERBUFFER,ae.__webglColorRenderbuffer[Ue])}t.bindRenderbuffer(t.RENDERBUFFER,null),K.depthBuffer&&(ae.__webglDepthRenderbuffer=t.createRenderbuffer(),X(ae.__webglDepthRenderbuffer,K,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Oe){n.bindTexture(t.TEXTURE_CUBE_MAP,Ee.__webglTexture),re(t.TEXTURE_CUBE_MAP,j,Be);for(let Fe=0;Fe<6;Fe++)if(s&&j.mipmaps&&j.mipmaps.length>0)for(let Ue=0;Ue<j.mipmaps.length;Ue++)xe(ae.__webglFramebuffer[Fe][Ue],K,j,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,Ue);else xe(ae.__webglFramebuffer[Fe],K,j,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0);T(j,Be)&&M(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(je){const Fe=K.texture;for(let Ue=0,et=Fe.length;Ue<et;Ue++){const at=Fe[Ue],We=r.get(at);n.bindTexture(t.TEXTURE_2D,We.__webglTexture),re(t.TEXTURE_2D,at,Be),xe(ae.__webglFramebuffer,K,at,t.COLOR_ATTACHMENT0+Ue,t.TEXTURE_2D,0),T(at,Be)&&M(t.TEXTURE_2D)}n.unbindTexture()}else{let Fe=t.TEXTURE_2D;if((K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(s?Fe=K.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Fe,Ee.__webglTexture),re(Fe,j,Be),s&&j.mipmaps&&j.mipmaps.length>0)for(let Ue=0;Ue<j.mipmaps.length;Ue++)xe(ae.__webglFramebuffer[Ue],K,j,t.COLOR_ATTACHMENT0,Fe,Ue);else xe(ae.__webglFramebuffer,K,j,t.COLOR_ATTACHMENT0,Fe,0);T(j,Be)&&M(Fe),n.unbindTexture()}K.depthBuffer&&pe(K)}function Ge(K){const j=C(K)||s,ae=K.isWebGLMultipleRenderTargets===!0?K.texture:[K.texture];for(let Ee=0,Oe=ae.length;Ee<Oe;Ee++){const je=ae[Ee];if(T(je,j)){const Be=K.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Fe=r.get(je).__webglTexture;n.bindTexture(Be,Fe),M(Be),n.unbindTexture()}}}function ve(K){if(s&&K.samples>0&&Ae(K)===!1){const j=K.isWebGLMultipleRenderTargets?K.texture:[K.texture],ae=K.width,Ee=K.height;let Oe=t.COLOR_BUFFER_BIT;const je=[],Be=K.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Fe=r.get(K),Ue=K.isWebGLMultipleRenderTargets===!0;if(Ue)for(let et=0;et<j.length;et++)n.bindFramebuffer(t.FRAMEBUFFER,Fe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+et,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Fe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+et,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Fe.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Fe.__webglFramebuffer);for(let et=0;et<j.length;et++){je.push(t.COLOR_ATTACHMENT0+et),K.depthBuffer&&je.push(Be);const at=Fe.__ignoreDepthValues!==void 0?Fe.__ignoreDepthValues:!1;if(at===!1&&(K.depthBuffer&&(Oe|=t.DEPTH_BUFFER_BIT),K.stencilBuffer&&(Oe|=t.STENCIL_BUFFER_BIT)),Ue&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Fe.__webglColorRenderbuffer[et]),at===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[Be]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Be])),Ue){const We=r.get(j[et]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,We,0)}t.blitFramebuffer(0,0,ae,Ee,0,0,ae,Ee,Oe,t.NEAREST),p&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,je)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Ue)for(let et=0;et<j.length;et++){n.bindFramebuffer(t.FRAMEBUFFER,Fe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+et,t.RENDERBUFFER,Fe.__webglColorRenderbuffer[et]);const at=r.get(j[et]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Fe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+et,t.TEXTURE_2D,at,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Fe.__webglMultisampledFramebuffer)}}function Re(K){return Math.min(d,K.samples)}function Ae(K){const j=r.get(K);return s&&K.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&j.__useRenderToTexture!==!1}function Le(K){const j=a.render.frame;y.get(K)!==j&&(y.set(K,j),K.update())}function Je(K,j){const ae=K.colorSpace,Ee=K.format,Oe=K.type;return K.isCompressedTexture===!0||K.isVideoTexture===!0||K.format===Ny||ae!==Oo&&ae!==Oi&&(Qn.getTransfer(ae)===cr?s===!1?e.has("EXT_sRGB")===!0&&Ee===Qi?(K.format=Ny,K.minFilter=Er,K.generateMipmaps=!1):j=QC.sRGBToLinear(j):(Ee!==Qi||Oe!==Io)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ae)),j}this.allocateTextureUnit=O,this.resetTextureUnits=$,this.setTexture2D=V,this.setTexture2DArray=F,this.setTexture3D=W,this.setTextureCube=q,this.rebindTextures=Ce,this.setupRenderTarget=me,this.updateRenderTargetMipmap=Ge,this.updateMultisampleRenderTarget=ve,this.setupDepthRenderbuffer=pe,this.setupFrameBufferTexture=xe,this.useMultisampledRTT=Ae}function TB(t,e,n){const r=n.isWebGL2;function i(o,a=Oi){let s;const l=Qn.getTransfer(a);if(o===Io)return t.UNSIGNED_BYTE;if(o===C6)return t.UNSIGNED_SHORT_4_4_4_4;if(o===E6)return t.UNSIGNED_SHORT_5_5_5_1;if(o===BC)return t.BYTE;if(o===zC)return t.SHORT;if(o===Kp)return t.UNSIGNED_SHORT;if(o===w6)return t.INT;if(o===Ca)return t.UNSIGNED_INT;if(o===Xr)return t.FLOAT;if(o===Ws)return r?t.HALF_FLOAT:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(o===HC)return t.ALPHA;if(o===Qi)return t.RGBA;if(o===GC)return t.LUMINANCE;if(o===VC)return t.LUMINANCE_ALPHA;if(o===Aa)return t.DEPTH_COMPONENT;if(o===ps)return t.DEPTH_STENCIL;if(o===Ny)return s=e.get("EXT_sRGB"),s!==null?s.SRGB_ALPHA_EXT:null;if(o===ap)return t.RED;if(o===_6)return t.RED_INTEGER;if(o===T6)return t.RG;if(o===M6)return t.RG_INTEGER;if(o===R6)return t.RGBA_INTEGER;if(o===hd||o===Gc||o===Vc||o===Wc)if(l===cr)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(o===hd)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===Gc)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===Vc)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===Wc)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(o===hd)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===Gc)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===Vc)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===Wc)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===fg||o===hg||o===pg||o===mg)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(o===fg)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===hg)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===pg)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===mg)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===WC)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===sp||o===lp)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(o===sp)return l===cr?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(o===lp)return l===cr?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===cp||o===up||o===dp||o===fp||o===hp||o===pp||o===mp||o===gp||o===vp||o===yp||o===xp||o===Sp||o===bp||o===wp)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(o===cp)return l===cr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===up)return l===cr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===dp)return l===cr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===fp)return l===cr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===hp)return l===cr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===pp)return l===cr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===mp)return l===cr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===gp)return l===cr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===vp)return l===cr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===yp)return l===cr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===xp)return l===cr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===Sp)return l===cr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===bp)return l===cr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===wp)return l===cr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===pd||o===Z7||o===Q7)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(o===pd)return l===cr?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(o===Z7)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(o===Q7)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(o===jC||o===gg||o===vg||o===yg)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(o===pd)return s.COMPRESSED_RED_RGTC1_EXT;if(o===gg)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===vg)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===yg)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===Ra?r?t.UNSIGNED_INT_24_8:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null):t[o]!==void 0?t[o]:null}return{convert:i}}class MB extends Ur{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ch extends jn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Nve={type:"move"};class iS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ch,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ch,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Q),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ch,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Q),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,a=null;const s=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const b of e.hand.values()){const x=n.getJointPose(b,r),v=this._getHandJoint(c,b);x!==null&&(v.matrix.fromArray(x.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=x.radius),v.visible=x!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),p=.02,y=.005;c.inputState.pinching&&f>p+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=p-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(Nve)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Ch;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class m3 extends Nr{constructor(e,n,r,i,o,a,s,l,c,u){if(u=u!==void 0?u:Aa,u!==Aa&&u!==ps)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Aa&&(r=Ca),r===void 0&&u===ps&&(r=Ra),super(null,i,o,a,s,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=s!==void 0?s:Wn,this.minFilter=l!==void 0?l:Wn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class Ove extends ys{constructor(e,n){super();const r=this;let i=null,o=1,a=null,s="local-floor",l=1,c=null,u=null,d=null,f=null,p=null,y=null;const b=n.getContextAttributes();let x=null,v=null;const w=[],S=[],C=new Ur;C.layers.enable(1),C.viewport=new Tn;const _=new Ur;_.layers.enable(2),_.viewport=new Tn;const T=[C,_],M=new MB;M.layers.enable(1),M.layers.enable(2);let I=null,R=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(F){let W=w[F];return W===void 0&&(W=new iS,w[F]=W),W.getTargetRaySpace()},this.getControllerGrip=function(F){let W=w[F];return W===void 0&&(W=new iS,w[F]=W),W.getGripSpace()},this.getHand=function(F){let W=w[F];return W===void 0&&(W=new iS,w[F]=W),W.getHandSpace()};function P(F){const W=S.indexOf(F.inputSource);if(W===-1)return;const q=w[W];q!==void 0&&(q.update(F.inputSource,F.frame,c||a),q.dispatchEvent({type:F.type,data:F.inputSource}))}function L(){i.removeEventListener("select",P),i.removeEventListener("selectstart",P),i.removeEventListener("selectend",P),i.removeEventListener("squeeze",P),i.removeEventListener("squeezestart",P),i.removeEventListener("squeezeend",P),i.removeEventListener("end",L),i.removeEventListener("inputsourceschange",k);for(let F=0;F<w.length;F++){const W=S[F];W!==null&&(S[F]=null,w[F].disconnect(W))}I=null,R=null,e.setRenderTarget(x),p=null,f=null,d=null,i=null,v=null,V.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(F){o=F,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(F){s=F,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(F){c=F},this.getBaseLayer=function(){return f!==null?f:p},this.getBinding=function(){return d},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=async function(F){if(i=F,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",P),i.addEventListener("selectstart",P),i.addEventListener("selectend",P),i.addEventListener("squeeze",P),i.addEventListener("squeezestart",P),i.addEventListener("squeezeend",P),i.addEventListener("end",L),i.addEventListener("inputsourceschange",k),b.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const W={antialias:i.renderState.layers===void 0?b.antialias:!0,alpha:!0,depth:b.depth,stencil:b.stencil,framebufferScaleFactor:o};p=new XRWebGLLayer(i,n,W),i.updateRenderState({baseLayer:p}),v=new ms(p.framebufferWidth,p.framebufferHeight,{format:Qi,type:Io,colorSpace:e.outputColorSpace,stencilBuffer:b.stencil})}else{let W=null,q=null,Z=null;b.depth&&(Z=b.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,W=b.stencil?ps:Aa,q=b.stencil?Ra:Ca);const ee={colorFormat:n.RGBA8,depthFormat:Z,scaleFactor:o};d=new XRWebGLBinding(i,n),f=d.createProjectionLayer(ee),i.updateRenderState({layers:[f]}),v=new ms(f.textureWidth,f.textureHeight,{format:Qi,type:Io,depthTexture:new m3(f.textureWidth,f.textureHeight,q,void 0,void 0,void 0,void 0,void 0,void 0,W),stencilBuffer:b.stencil,colorSpace:e.outputColorSpace,samples:b.antialias?4:0});const oe=e.properties.get(v);oe.__ignoreDepthValues=f.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await i.requestReferenceSpace(s),V.setContext(i),V.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function k(F){for(let W=0;W<F.removed.length;W++){const q=F.removed[W],Z=S.indexOf(q);Z>=0&&(S[Z]=null,w[Z].disconnect(q))}for(let W=0;W<F.added.length;W++){const q=F.added[W];let Z=S.indexOf(q);if(Z===-1){for(let oe=0;oe<w.length;oe++)if(oe>=S.length){S.push(q),Z=oe;break}else if(S[oe]===null){S[oe]=q,Z=oe;break}if(Z===-1)break}const ee=w[Z];ee&&ee.connect(q)}}const H=new Q,D=new Q;function G(F,W,q){H.setFromMatrixPosition(W.matrixWorld),D.setFromMatrixPosition(q.matrixWorld);const Z=H.distanceTo(D),ee=W.projectionMatrix.elements,oe=q.projectionMatrix.elements,re=ee[14]/(ee[10]-1),ce=ee[14]/(ee[10]+1),Se=(ee[9]+1)/ee[5],Pe=(ee[9]-1)/ee[5],xe=(ee[8]-1)/ee[0],X=(oe[8]+1)/oe[0],fe=re*xe,pe=re*X,Ce=Z/(-xe+X),me=Ce*-xe;W.matrixWorld.decompose(F.position,F.quaternion,F.scale),F.translateX(me),F.translateZ(Ce),F.matrixWorld.compose(F.position,F.quaternion,F.scale),F.matrixWorldInverse.copy(F.matrixWorld).invert();const Ge=re+Ce,ve=ce+Ce,Re=fe-me,Ae=pe+(Z-me),Le=Se*ce/ve*Ge,Je=Pe*ce/ve*Ge;F.projectionMatrix.makePerspective(Re,Ae,Le,Je,Ge,ve),F.projectionMatrixInverse.copy(F.projectionMatrix).invert()}function B(F,W){W===null?F.matrixWorld.copy(F.matrix):F.matrixWorld.multiplyMatrices(W.matrixWorld,F.matrix),F.matrixWorldInverse.copy(F.matrixWorld).invert()}this.updateCamera=function(F){if(i===null)return;M.near=_.near=C.near=F.near,M.far=_.far=C.far=F.far,(I!==M.near||R!==M.far)&&(i.updateRenderState({depthNear:M.near,depthFar:M.far}),I=M.near,R=M.far);const W=F.parent,q=M.cameras;B(M,W);for(let Z=0;Z<q.length;Z++)B(q[Z],W);q.length===2?G(M,C,_):M.projectionMatrix.copy(C.projectionMatrix),$(F,M,W)};function $(F,W,q){q===null?F.matrix.copy(W.matrixWorld):(F.matrix.copy(q.matrixWorld),F.matrix.invert(),F.matrix.multiply(W.matrixWorld)),F.matrix.decompose(F.position,F.quaternion,F.scale),F.updateMatrixWorld(!0),F.projectionMatrix.copy(W.projectionMatrix),F.projectionMatrixInverse.copy(W.projectionMatrixInverse),F.isPerspectiveCamera&&(F.fov=_p*2*Math.atan(1/F.projectionMatrix.elements[5]),F.zoom=1)}this.getCamera=function(){return M},this.getFoveation=function(){if(!(f===null&&p===null))return l},this.setFoveation=function(F){l=F,f!==null&&(f.fixedFoveation=F),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=F)};let O=null;function z(F,W){if(u=W.getViewerPose(c||a),y=W,u!==null){const q=u.views;p!==null&&(e.setRenderTargetFramebuffer(v,p.framebuffer),e.setRenderTarget(v));let Z=!1;q.length!==M.cameras.length&&(M.cameras.length=0,Z=!0);for(let ee=0;ee<q.length;ee++){const oe=q[ee];let re=null;if(p!==null)re=p.getViewport(oe);else{const Se=d.getViewSubImage(f,oe);re=Se.viewport,ee===0&&(e.setRenderTargetTextures(v,Se.colorTexture,f.ignoreDepthValues?void 0:Se.depthStencilTexture),e.setRenderTarget(v))}let ce=T[ee];ce===void 0&&(ce=new Ur,ce.layers.enable(ee),ce.viewport=new Tn,T[ee]=ce),ce.matrix.fromArray(oe.transform.matrix),ce.matrix.decompose(ce.position,ce.quaternion,ce.scale),ce.projectionMatrix.fromArray(oe.projectionMatrix),ce.projectionMatrixInverse.copy(ce.projectionMatrix).invert(),ce.viewport.set(re.x,re.y,re.width,re.height),ee===0&&(M.matrix.copy(ce.matrix),M.matrix.decompose(M.position,M.quaternion,M.scale)),Z===!0&&M.cameras.push(ce)}}for(let q=0;q<w.length;q++){const Z=S[q],ee=w[q];Z!==null&&ee!==void 0&&ee.update(Z,W,c||a)}O&&O(F,W),W.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:W}),y=null}const V=new bB;V.setAnimationLoop(z),this.setAnimationLoop=function(F){O=F},this.dispose=function(){}}}function Lve(t,e){function n(x,v){x.matrixAutoUpdate===!0&&x.updateMatrix(),v.value.copy(x.matrix)}function r(x,v){v.color.getRGB(x.fogColor.value,SB(t)),v.isFog?(x.fogNear.value=v.near,x.fogFar.value=v.far):v.isFogExp2&&(x.fogDensity.value=v.density)}function i(x,v,w,S,C){v.isMeshBasicMaterial||v.isMeshLambertMaterial?o(x,v):v.isMeshToonMaterial?(o(x,v),d(x,v)):v.isMeshPhongMaterial?(o(x,v),u(x,v)):v.isMeshStandardMaterial?(o(x,v),f(x,v),v.isMeshPhysicalMaterial&&p(x,v,C)):v.isMeshMatcapMaterial?(o(x,v),y(x,v)):v.isMeshDepthMaterial?o(x,v):v.isMeshDistanceMaterial?(o(x,v),b(x,v)):v.isMeshNormalMaterial?o(x,v):v.isLineBasicMaterial?(a(x,v),v.isLineDashedMaterial&&s(x,v)):v.isPointsMaterial?l(x,v,w,S):v.isSpriteMaterial?c(x,v):v.isShadowMaterial?(x.color.value.copy(v.color),x.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function o(x,v){x.opacity.value=v.opacity,v.color&&x.diffuse.value.copy(v.color),v.emissive&&x.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(x.map.value=v.map,n(v.map,x.mapTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.bumpMap&&(x.bumpMap.value=v.bumpMap,n(v.bumpMap,x.bumpMapTransform),x.bumpScale.value=v.bumpScale,v.side===Kr&&(x.bumpScale.value*=-1)),v.normalMap&&(x.normalMap.value=v.normalMap,n(v.normalMap,x.normalMapTransform),x.normalScale.value.copy(v.normalScale),v.side===Kr&&x.normalScale.value.negate()),v.displacementMap&&(x.displacementMap.value=v.displacementMap,n(v.displacementMap,x.displacementMapTransform),x.displacementScale.value=v.displacementScale,x.displacementBias.value=v.displacementBias),v.emissiveMap&&(x.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,x.emissiveMapTransform)),v.specularMap&&(x.specularMap.value=v.specularMap,n(v.specularMap,x.specularMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest);const w=e.get(v).envMap;if(w&&(x.envMap.value=w,x.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=v.reflectivity,x.ior.value=v.ior,x.refractionRatio.value=v.refractionRatio),v.lightMap){x.lightMap.value=v.lightMap;const S=t._useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=v.lightMapIntensity*S,n(v.lightMap,x.lightMapTransform)}v.aoMap&&(x.aoMap.value=v.aoMap,x.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,x.aoMapTransform))}function a(x,v){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,v.map&&(x.map.value=v.map,n(v.map,x.mapTransform))}function s(x,v){x.dashSize.value=v.dashSize,x.totalSize.value=v.dashSize+v.gapSize,x.scale.value=v.scale}function l(x,v,w,S){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,x.size.value=v.size*w,x.scale.value=S*.5,v.map&&(x.map.value=v.map,n(v.map,x.uvTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest)}function c(x,v){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,x.rotation.value=v.rotation,v.map&&(x.map.value=v.map,n(v.map,x.mapTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest)}function u(x,v){x.specular.value.copy(v.specular),x.shininess.value=Math.max(v.shininess,1e-4)}function d(x,v){v.gradientMap&&(x.gradientMap.value=v.gradientMap)}function f(x,v){x.metalness.value=v.metalness,v.metalnessMap&&(x.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,x.metalnessMapTransform)),x.roughness.value=v.roughness,v.roughnessMap&&(x.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,x.roughnessMapTransform)),e.get(v).envMap&&(x.envMapIntensity.value=v.envMapIntensity)}function p(x,v,w){x.ior.value=v.ior,v.sheen>0&&(x.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),x.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(x.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,x.sheenColorMapTransform)),v.sheenRoughnessMap&&(x.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,x.sheenRoughnessMapTransform))),v.clearcoat>0&&(x.clearcoat.value=v.clearcoat,x.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(x.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,x.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(x.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===Kr&&x.clearcoatNormalScale.value.negate())),v.iridescence>0&&(x.iridescence.value=v.iridescence,x.iridescenceIOR.value=v.iridescenceIOR,x.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(x.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,x.iridescenceMapTransform)),v.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),v.transmission>0&&(x.transmission.value=v.transmission,x.transmissionSamplerMap.value=w.texture,x.transmissionSamplerSize.value.set(w.width,w.height),v.transmissionMap&&(x.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,x.transmissionMapTransform)),x.thickness.value=v.thickness,v.thicknessMap&&(x.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=v.attenuationDistance,x.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(x.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(x.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=v.specularIntensity,x.specularColor.value.copy(v.specularColor),v.specularColorMap&&(x.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,x.specularColorMapTransform)),v.specularIntensityMap&&(x.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,x.specularIntensityMapTransform))}function y(x,v){v.matcap&&(x.matcap.value=v.matcap)}function b(x,v){const w=e.get(v).light;x.referencePosition.value.setFromMatrixPosition(w.matrixWorld),x.nearDistance.value=w.shadow.camera.near,x.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Dve(t,e,n,r){let i={},o={},a=[];const s=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(w,S){const C=S.program;r.uniformBlockBinding(w,C)}function c(w,S){let C=i[w.id];C===void 0&&(y(w),C=u(w),i[w.id]=C,w.addEventListener("dispose",x));const _=S.program;r.updateUBOMapping(w,_);const T=e.render.frame;o[w.id]!==T&&(f(w),o[w.id]=T)}function u(w){const S=d();w.__bindingPointIndex=S;const C=t.createBuffer(),_=w.__size,T=w.usage;return t.bindBuffer(t.UNIFORM_BUFFER,C),t.bufferData(t.UNIFORM_BUFFER,_,T),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,S,C),C}function d(){for(let w=0;w<s;w++)if(a.indexOf(w)===-1)return a.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(w){const S=i[w.id],C=w.uniforms,_=w.__cache;t.bindBuffer(t.UNIFORM_BUFFER,S);for(let T=0,M=C.length;T<M;T++){const I=C[T];if(p(I,T,_)===!0){const R=I.__offset,P=Array.isArray(I.value)?I.value:[I.value];let L=0;for(let k=0;k<P.length;k++){const H=P[k],D=b(H);typeof H=="number"?(I.__data[0]=H,t.bufferSubData(t.UNIFORM_BUFFER,R+L,I.__data)):H.isMatrix3?(I.__data[0]=H.elements[0],I.__data[1]=H.elements[1],I.__data[2]=H.elements[2],I.__data[3]=H.elements[0],I.__data[4]=H.elements[3],I.__data[5]=H.elements[4],I.__data[6]=H.elements[5],I.__data[7]=H.elements[0],I.__data[8]=H.elements[6],I.__data[9]=H.elements[7],I.__data[10]=H.elements[8],I.__data[11]=H.elements[0]):(H.toArray(I.__data,L),L+=D.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,R,I.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function p(w,S,C){const _=w.value;if(C[S]===void 0){if(typeof _=="number")C[S]=_;else{const T=Array.isArray(_)?_:[_],M=[];for(let I=0;I<T.length;I++)M.push(T[I].clone());C[S]=M}return!0}else if(typeof _=="number"){if(C[S]!==_)return C[S]=_,!0}else{const T=Array.isArray(C[S])?C[S]:[C[S]],M=Array.isArray(_)?_:[_];for(let I=0;I<T.length;I++){const R=T[I];if(R.equals(M[I])===!1)return R.copy(M[I]),!0}}return!1}function y(w){const S=w.uniforms;let C=0;const _=16;let T=0;for(let M=0,I=S.length;M<I;M++){const R=S[M],P={boundary:0,storage:0},L=Array.isArray(R.value)?R.value:[R.value];for(let k=0,H=L.length;k<H;k++){const D=L[k],G=b(D);P.boundary+=G.boundary,P.storage+=G.storage}if(R.__data=new Float32Array(P.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=C,M>0){T=C%_;const k=_-T;T!==0&&k-P.boundary<0&&(C+=_-T,R.__offset=C)}C+=P.storage}return T=C%_,T>0&&(C+=_-T),w.__size=C,w.__cache={},this}function b(w){const S={boundary:0,storage:0};return typeof w=="number"?(S.boundary=4,S.storage=4):w.isVector2?(S.boundary=8,S.storage=8):w.isVector3||w.isColor?(S.boundary=16,S.storage=12):w.isVector4?(S.boundary=16,S.storage=16):w.isMatrix3?(S.boundary=48,S.storage=48):w.isMatrix4?(S.boundary=64,S.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),S}function x(w){const S=w.target;S.removeEventListener("dispose",x);const C=a.indexOf(S.__bindingPointIndex);a.splice(C,1),t.deleteBuffer(i[S.id]),delete i[S.id],delete o[S.id]}function v(){for(const w in i)t.deleteBuffer(i[w]);a=[],i={},o={}}return{bind:l,update:c,dispose:v}}class lE{constructor(e={}){const{canvas:n=ZC(),context:r=null,depth:i=!0,stencil:o=!0,alpha:a=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let f;r!==null?f=r.getContextAttributes().alpha:f=a;const p=new Uint32Array(4),y=new Int32Array(4);let b=null,x=null;const v=[],w=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=$t,this._useLegacyLights=!1,this.toneMapping=Po,this.toneMappingExposure=1;const S=this;let C=!1,_=0,T=0,M=null,I=-1,R=null;const P=new Tn,L=new Tn;let k=null;const H=new St(0);let D=0,G=n.width,B=n.height,$=1,O=null,z=null;const V=new Tn(0,0,G,B),F=new Tn(0,0,G,B);let W=!1;const q=new h3;let Z=!1,ee=!1,oe=null;const re=new on,ce=new Qe,Se=new Q,Pe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function xe(){return M===null?$:1}let X=r;function fe(Y,le){for(let he=0;he<Y.length;he++){const ge=Y[he],Te=n.getContext(ge,le);if(Te!==null)return Te}return null}try{const Y={alpha:!0,depth:i,stencil:o,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Gd}`),n.addEventListener("webglcontextlost",de,!1),n.addEventListener("webglcontextrestored",ue,!1),n.addEventListener("webglcontextcreationerror",De,!1),X===null){const le=["webgl2","webgl","experimental-webgl"];if(S.isWebGL1Renderer===!0&&le.shift(),X=fe(le,Y),X===null)throw fe(le)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&X instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),X.getShaderPrecisionFormat===void 0&&(X.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Y){throw console.error("THREE.WebGLRenderer: "+Y.message),Y}let pe,Ce,me,Ge,ve,Re,Ae,Le,Je,K,j,ae,Ee,Oe,je,Be,Fe,Ue,et,at,We,ut,te,ke;function ze(){pe=new Zge(X),Ce=new Wge(X,pe,e),pe.init(Ce),ut=new TB(X,pe,Ce),me=new Pve(X,pe,Ce),Ge=new e3e(X),ve=new yve,Re=new Ive(X,pe,me,ve,Ce,ut,Ge),Ae=new Xge(S),Le=new Yge(S),Je=new u0e(X,Ce),te=new Gge(X,pe,Je,Ce),K=new Qge(X,Je,Ge,te),j=new i3e(X,K,Je,Ge),et=new r3e(X,Ce,Re),Be=new jge(ve),ae=new vve(S,Ae,Le,pe,Ce,te,Be),Ee=new Lve(S,ve),Oe=new Sve,je=new Tve(pe,Ce),Ue=new Hge(S,Ae,Le,me,j,f,l),Fe=new Ave(S,j,Ce),ke=new Dve(X,Ge,Ce,me),at=new Vge(X,pe,Ge,Ce),We=new Jge(X,pe,Ge,Ce),Ge.programs=ae.programs,S.capabilities=Ce,S.extensions=pe,S.properties=ve,S.renderLists=Oe,S.shadowMap=Fe,S.state=me,S.info=Ge}ze();const J=new Ove(S,X);this.xr=J,this.getContext=function(){return X},this.getContextAttributes=function(){return X.getContextAttributes()},this.forceContextLoss=function(){const Y=pe.get("WEBGL_lose_context");Y&&Y.loseContext()},this.forceContextRestore=function(){const Y=pe.get("WEBGL_lose_context");Y&&Y.restoreContext()},this.getPixelRatio=function(){return $},this.setPixelRatio=function(Y){Y!==void 0&&($=Y,this.setSize(G,B,!1))},this.getSize=function(Y){return Y.set(G,B)},this.setSize=function(Y,le,he=!0){if(J.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}G=Y,B=le,n.width=Math.floor(Y*$),n.height=Math.floor(le*$),he===!0&&(n.style.width=Y+"px",n.style.height=le+"px"),this.setViewport(0,0,Y,le)},this.getDrawingBufferSize=function(Y){return Y.set(G*$,B*$).floor()},this.setDrawingBufferSize=function(Y,le,he){G=Y,B=le,$=he,n.width=Math.floor(Y*he),n.height=Math.floor(le*he),this.setViewport(0,0,Y,le)},this.getCurrentViewport=function(Y){return Y.copy(P)},this.getViewport=function(Y){return Y.copy(V)},this.setViewport=function(Y,le,he,ge){Y.isVector4?V.set(Y.x,Y.y,Y.z,Y.w):V.set(Y,le,he,ge),me.viewport(P.copy(V).multiplyScalar($).floor())},this.getScissor=function(Y){return Y.copy(F)},this.setScissor=function(Y,le,he,ge){Y.isVector4?F.set(Y.x,Y.y,Y.z,Y.w):F.set(Y,le,he,ge),me.scissor(L.copy(F).multiplyScalar($).floor())},this.getScissorTest=function(){return W},this.setScissorTest=function(Y){me.setScissorTest(W=Y)},this.setOpaqueSort=function(Y){O=Y},this.setTransparentSort=function(Y){z=Y},this.getClearColor=function(Y){return Y.copy(Ue.getClearColor())},this.setClearColor=function(){Ue.setClearColor.apply(Ue,arguments)},this.getClearAlpha=function(){return Ue.getClearAlpha()},this.setClearAlpha=function(){Ue.setClearAlpha.apply(Ue,arguments)},this.clear=function(Y=!0,le=!0,he=!0){let ge=0;if(Y){let Te=!1;if(M!==null){const ft=M.texture.format;Te=ft===R6||ft===M6||ft===_6}if(Te){const ft=M.texture.type,Ot=ft===Io||ft===Ca||ft===Kp||ft===Ra||ft===C6||ft===E6,Dt=Ue.getClearColor(),Ft=Ue.getClearAlpha(),qt=Dt.r,Mt=Dt.g,kt=Dt.b;Ot?(p[0]=qt,p[1]=Mt,p[2]=kt,p[3]=Ft,X.clearBufferuiv(X.COLOR,0,p)):(y[0]=qt,y[1]=Mt,y[2]=kt,y[3]=Ft,X.clearBufferiv(X.COLOR,0,y))}else ge|=X.COLOR_BUFFER_BIT}le&&(ge|=X.DEPTH_BUFFER_BIT),he&&(ge|=X.STENCIL_BUFFER_BIT),X.clear(ge)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",de,!1),n.removeEventListener("webglcontextrestored",ue,!1),n.removeEventListener("webglcontextcreationerror",De,!1),Oe.dispose(),je.dispose(),ve.dispose(),Ae.dispose(),Le.dispose(),j.dispose(),te.dispose(),ke.dispose(),ae.dispose(),J.dispose(),J.removeEventListener("sessionstart",Xe),J.removeEventListener("sessionend",lt),oe&&(oe.dispose(),oe=null),ot.stop()};function de(Y){Y.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function ue(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const Y=Ge.autoReset,le=Fe.enabled,he=Fe.autoUpdate,ge=Fe.needsUpdate,Te=Fe.type;ze(),Ge.autoReset=Y,Fe.enabled=le,Fe.autoUpdate=he,Fe.needsUpdate=ge,Fe.type=Te}function De(Y){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Y.statusMessage)}function Ie(Y){const le=Y.target;le.removeEventListener("dispose",Ie),_e(le)}function _e(Y){rt(Y),ve.remove(Y)}function rt(Y){const le=ve.get(Y).programs;le!==void 0&&(le.forEach(function(he){ae.releaseProgram(he)}),Y.isShaderMaterial&&ae.releaseShaderCache(Y))}this.renderBufferDirect=function(Y,le,he,ge,Te,ft){le===null&&(le=Pe);const Ot=Te.isMesh&&Te.matrixWorld.determinant()<0,Dt=nr(Y,le,he,ge,Te);me.setMaterial(ge,Ot);let Ft=he.index,qt=1;if(ge.wireframe===!0){if(Ft=K.getWireframeAttribute(he),Ft===void 0)return;qt=2}const Mt=he.drawRange,kt=he.attributes.position;let $n=Mt.start*qt,Cn=(Mt.start+Mt.count)*qt;ft!==null&&($n=Math.max($n,ft.start*qt),Cn=Math.min(Cn,(ft.start+ft.count)*qt)),Ft!==null?($n=Math.max($n,0),Cn=Math.min(Cn,Ft.count)):kt!=null&&($n=Math.max($n,0),Cn=Math.min(Cn,kt.count));const Zn=Cn-$n;if(Zn<0||Zn===1/0)return;te.setup(Te,ge,Dt,he,Ft);let vr,En=at;if(Ft!==null&&(vr=Je.get(Ft),En=We,En.setIndex(vr)),Te.isMesh)ge.wireframe===!0?(me.setLineWidth(ge.wireframeLinewidth*xe()),En.setMode(X.LINES)):En.setMode(X.TRIANGLES);else if(Te.isLine){let Gt=ge.linewidth;Gt===void 0&&(Gt=1),me.setLineWidth(Gt*xe()),Te.isLineSegments?En.setMode(X.LINES):Te.isLineLoop?En.setMode(X.LINE_LOOP):En.setMode(X.LINE_STRIP)}else Te.isPoints?En.setMode(X.POINTS):Te.isSprite&&En.setMode(X.TRIANGLES);if(Te.isInstancedMesh)En.renderInstances($n,Zn,Te.count);else if(he.isInstancedBufferGeometry){const Gt=he._maxInstanceCount!==void 0?he._maxInstanceCount:1/0,un=Math.min(he.instanceCount,Gt);En.renderInstances($n,Zn,un)}else En.render($n,Zn)},this.compile=function(Y,le){function he(ge,Te,ft){ge.transparent===!0&&ge.side===co&&ge.forceSinglePass===!1?(ge.side=Kr,ge.needsUpdate=!0,An(ge,Te,ft),ge.side=ds,ge.needsUpdate=!0,An(ge,Te,ft),ge.side=co):An(ge,Te,ft)}x=je.get(Y),x.init(),w.push(x),Y.traverseVisible(function(ge){ge.isLight&&ge.layers.test(le.layers)&&(x.pushLight(ge),ge.castShadow&&x.pushShadow(ge))}),x.setupLights(S._useLegacyLights),Y.traverse(function(ge){const Te=ge.material;if(Te)if(Array.isArray(Te))for(let ft=0;ft<Te.length;ft++){const Ot=Te[ft];he(Ot,Y,ge)}else he(Te,Y,ge)}),w.pop(),x=null};let ct=null;function pt(Y){ct&&ct(Y)}function Xe(){ot.stop()}function lt(){ot.start()}const ot=new bB;ot.setAnimationLoop(pt),typeof self<"u"&&ot.setContext(self),this.setAnimationLoop=function(Y){ct=Y,J.setAnimationLoop(Y),Y===null?ot.stop():ot.start()},J.addEventListener("sessionstart",Xe),J.addEventListener("sessionend",lt),this.render=function(Y,le){if(le!==void 0&&le.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;Y.matrixWorldAutoUpdate===!0&&Y.updateMatrixWorld(),le.parent===null&&le.matrixWorldAutoUpdate===!0&&le.updateMatrixWorld(),J.enabled===!0&&J.isPresenting===!0&&(J.cameraAutoUpdate===!0&&J.updateCamera(le),le=J.getCamera()),Y.isScene===!0&&Y.onBeforeRender(S,Y,le,M),x=je.get(Y,w.length),x.init(),w.push(x),re.multiplyMatrices(le.projectionMatrix,le.matrixWorldInverse),q.setFromProjectionMatrix(re),ee=this.localClippingEnabled,Z=Be.init(this.clippingPlanes,ee),b=Oe.get(Y,v.length),b.init(),v.push(b),gt(Y,le,0,S.sortObjects),b.finish(),S.sortObjects===!0&&b.sort(O,z),this.info.render.frame++,Z===!0&&Be.beginShadows();const he=x.state.shadowsArray;if(Fe.render(he,Y,le),Z===!0&&Be.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ue.render(b,Y),x.setupLights(S._useLegacyLights),le.isArrayCamera){const ge=le.cameras;for(let Te=0,ft=ge.length;Te<ft;Te++){const Ot=ge[Te];cn(b,Y,Ot,Ot.viewport)}}else cn(b,Y,le);M!==null&&(Re.updateMultisampleRenderTarget(M),Re.updateRenderTargetMipmap(M)),Y.isScene===!0&&Y.onAfterRender(S,Y,le),te.resetDefaultState(),I=-1,R=null,w.pop(),w.length>0?x=w[w.length-1]:x=null,v.pop(),v.length>0?b=v[v.length-1]:b=null};function gt(Y,le,he,ge){if(Y.visible===!1)return;if(Y.layers.test(le.layers)){if(Y.isGroup)he=Y.renderOrder;else if(Y.isLOD)Y.autoUpdate===!0&&Y.update(le);else if(Y.isLight)x.pushLight(Y),Y.castShadow&&x.pushShadow(Y);else if(Y.isSprite){if(!Y.frustumCulled||q.intersectsSprite(Y)){ge&&Se.setFromMatrixPosition(Y.matrixWorld).applyMatrix4(re);const Ot=j.update(Y),Dt=Y.material;Dt.visible&&b.push(Y,Ot,Dt,he,Se.z,null)}}else if((Y.isMesh||Y.isLine||Y.isPoints)&&(!Y.frustumCulled||q.intersectsObject(Y))){const Ot=j.update(Y),Dt=Y.material;if(ge&&(Y.boundingSphere!==void 0?(Y.boundingSphere===null&&Y.computeBoundingSphere(),Se.copy(Y.boundingSphere.center)):(Ot.boundingSphere===null&&Ot.computeBoundingSphere(),Se.copy(Ot.boundingSphere.center)),Se.applyMatrix4(Y.matrixWorld).applyMatrix4(re)),Array.isArray(Dt)){const Ft=Ot.groups;for(let qt=0,Mt=Ft.length;qt<Mt;qt++){const kt=Ft[qt],$n=Dt[kt.materialIndex];$n&&$n.visible&&b.push(Y,Ot,$n,he,Se.z,kt)}}else Dt.visible&&b.push(Y,Ot,Dt,he,Se.z,null)}}const ft=Y.children;for(let Ot=0,Dt=ft.length;Ot<Dt;Ot++)gt(ft[Ot],le,he,ge)}function cn(Y,le,he,ge){const Te=Y.opaque,ft=Y.transmissive,Ot=Y.transparent;x.setupLightsView(he),Z===!0&&Be.setGlobalState(S.clippingPlanes,he),ft.length>0&&an(Te,ft,le,he),ge&&me.viewport(P.copy(ge)),Te.length>0&&Fn(Te,le,he),ft.length>0&&Fn(ft,le,he),Ot.length>0&&Fn(Ot,le,he),me.buffers.depth.setTest(!0),me.buffers.depth.setMask(!0),me.buffers.color.setMask(!0),me.setPolygonOffset(!1)}function an(Y,le,he,ge){const Te=Ce.isWebGL2;oe===null&&(oe=new ms(1,1,{generateMipmaps:!0,type:pe.has("EXT_color_buffer_half_float")?Ws:Io,minFilter:hs,samples:Te?4:0})),S.getDrawingBufferSize(ce),Te?oe.setSize(ce.x,ce.y):oe.setSize(Oy(ce.x),Oy(ce.y));const ft=S.getRenderTarget();S.setRenderTarget(oe),S.getClearColor(H),D=S.getClearAlpha(),D<1&&S.setClearColor(16777215,.5),S.clear();const Ot=S.toneMapping;S.toneMapping=Po,Fn(Y,he,ge),Re.updateMultisampleRenderTarget(oe),Re.updateRenderTargetMipmap(oe);let Dt=!1;for(let Ft=0,qt=le.length;Ft<qt;Ft++){const Mt=le[Ft],kt=Mt.object,$n=Mt.geometry,Cn=Mt.material,Zn=Mt.group;if(Cn.side===co&&kt.layers.test(ge.layers)){const vr=Cn.side;Cn.side=Kr,Cn.needsUpdate=!0,Xn(kt,he,ge,$n,Cn,Zn),Cn.side=vr,Cn.needsUpdate=!0,Dt=!0}}Dt===!0&&(Re.updateMultisampleRenderTarget(oe),Re.updateRenderTargetMipmap(oe)),S.setRenderTarget(ft),S.setClearColor(H,D),S.toneMapping=Ot}function Fn(Y,le,he){const ge=le.isScene===!0?le.overrideMaterial:null;for(let Te=0,ft=Y.length;Te<ft;Te++){const Ot=Y[Te],Dt=Ot.object,Ft=Ot.geometry,qt=ge===null?Ot.material:ge,Mt=Ot.group;Dt.layers.test(he.layers)&&Xn(Dt,le,he,Ft,qt,Mt)}}function Xn(Y,le,he,ge,Te,ft){Y.onBeforeRender(S,le,he,ge,Te,ft),Y.modelViewMatrix.multiplyMatrices(he.matrixWorldInverse,Y.matrixWorld),Y.normalMatrix.getNormalMatrix(Y.modelViewMatrix),Te.onBeforeRender(S,le,he,ge,Y,ft),Te.transparent===!0&&Te.side===co&&Te.forceSinglePass===!1?(Te.side=Kr,Te.needsUpdate=!0,S.renderBufferDirect(he,le,ge,Te,Y,ft),Te.side=ds,Te.needsUpdate=!0,S.renderBufferDirect(he,le,ge,Te,Y,ft),Te.side=co):S.renderBufferDirect(he,le,ge,Te,Y,ft),Y.onAfterRender(S,le,he,ge,Te,ft)}function An(Y,le,he){le.isScene!==!0&&(le=Pe);const ge=ve.get(Y),Te=x.state.lights,ft=x.state.shadowsArray,Ot=Te.state.version,Dt=ae.getParameters(Y,Te.state,ft,le,he),Ft=ae.getProgramCacheKey(Dt);let qt=ge.programs;ge.environment=Y.isMeshStandardMaterial?le.environment:null,ge.fog=le.fog,ge.envMap=(Y.isMeshStandardMaterial?Le:Ae).get(Y.envMap||ge.environment),qt===void 0&&(Y.addEventListener("dispose",Ie),qt=new Map,ge.programs=qt);let Mt=qt.get(Ft);if(Mt!==void 0){if(ge.currentProgram===Mt&&ge.lightsStateVersion===Ot)return tn(Y,Dt),Mt}else Dt.uniforms=ae.getUniforms(Y),Y.onBuild(he,Dt,S),Y.onBeforeCompile(Dt,S),Mt=ae.acquireProgram(Dt,Ft),qt.set(Ft,Mt),ge.uniforms=Dt.uniforms;const kt=ge.uniforms;(!Y.isShaderMaterial&&!Y.isRawShaderMaterial||Y.clipping===!0)&&(kt.clippingPlanes=Be.uniform),tn(Y,Dt),ge.needsLights=nn(Y),ge.lightsStateVersion=Ot,ge.needsLights&&(kt.ambientLightColor.value=Te.state.ambient,kt.lightProbe.value=Te.state.probe,kt.directionalLights.value=Te.state.directional,kt.directionalLightShadows.value=Te.state.directionalShadow,kt.spotLights.value=Te.state.spot,kt.spotLightShadows.value=Te.state.spotShadow,kt.rectAreaLights.value=Te.state.rectArea,kt.ltc_1.value=Te.state.rectAreaLTC1,kt.ltc_2.value=Te.state.rectAreaLTC2,kt.pointLights.value=Te.state.point,kt.pointLightShadows.value=Te.state.pointShadow,kt.hemisphereLights.value=Te.state.hemi,kt.directionalShadowMap.value=Te.state.directionalShadowMap,kt.directionalShadowMatrix.value=Te.state.directionalShadowMatrix,kt.spotShadowMap.value=Te.state.spotShadowMap,kt.spotLightMatrix.value=Te.state.spotLightMatrix,kt.spotLightMap.value=Te.state.spotLightMap,kt.pointShadowMap.value=Te.state.pointShadowMap,kt.pointShadowMatrix.value=Te.state.pointShadowMatrix);const $n=Mt.getUniforms(),Cn=M2.seqWithValue($n.seq,kt);return ge.currentProgram=Mt,ge.uniformsList=Cn,Mt}function tn(Y,le){const he=ve.get(Y);he.outputColorSpace=le.outputColorSpace,he.instancing=le.instancing,he.instancingColor=le.instancingColor,he.skinning=le.skinning,he.morphTargets=le.morphTargets,he.morphNormals=le.morphNormals,he.morphColors=le.morphColors,he.morphTargetsCount=le.morphTargetsCount,he.numClippingPlanes=le.numClippingPlanes,he.numIntersection=le.numClipIntersection,he.vertexAlphas=le.vertexAlphas,he.vertexTangents=le.vertexTangents,he.toneMapping=le.toneMapping}function nr(Y,le,he,ge,Te){le.isScene!==!0&&(le=Pe),Re.resetTextureUnits();const ft=le.fog,Ot=ge.isMeshStandardMaterial?le.environment:null,Dt=M===null?S.outputColorSpace:M.isXRRenderTarget===!0?M.texture.colorSpace:Oo,Ft=(ge.isMeshStandardMaterial?Le:Ae).get(ge.envMap||Ot),qt=ge.vertexColors===!0&&!!he.attributes.color&&he.attributes.color.itemSize===4,Mt=!!he.attributes.tangent&&(!!ge.normalMap||ge.anisotropy>0),kt=!!he.morphAttributes.position,$n=!!he.morphAttributes.normal,Cn=!!he.morphAttributes.color;let Zn=Po;ge.toneMapped&&(M===null||M.isXRRenderTarget===!0)&&(Zn=S.toneMapping);const vr=he.morphAttributes.position||he.morphAttributes.normal||he.morphAttributes.color,En=vr!==void 0?vr.length:0,Gt=ve.get(ge),un=x.state.lights;if(Z===!0&&(ee===!0||Y!==R)){const Zt=Y===R&&ge.id===I;Be.setState(ge,Y,Zt)}let Bt=!1;ge.version===Gt.__version?(Gt.needsLights&&Gt.lightsStateVersion!==un.state.version||Gt.outputColorSpace!==Dt||Te.isInstancedMesh&&Gt.instancing===!1||!Te.isInstancedMesh&&Gt.instancing===!0||Te.isSkinnedMesh&&Gt.skinning===!1||!Te.isSkinnedMesh&&Gt.skinning===!0||Te.isInstancedMesh&&Gt.instancingColor===!0&&Te.instanceColor===null||Te.isInstancedMesh&&Gt.instancingColor===!1&&Te.instanceColor!==null||Gt.envMap!==Ft||ge.fog===!0&&Gt.fog!==ft||Gt.numClippingPlanes!==void 0&&(Gt.numClippingPlanes!==Be.numPlanes||Gt.numIntersection!==Be.numIntersection)||Gt.vertexAlphas!==qt||Gt.vertexTangents!==Mt||Gt.morphTargets!==kt||Gt.morphNormals!==$n||Gt.morphColors!==Cn||Gt.toneMapping!==Zn||Ce.isWebGL2===!0&&Gt.morphTargetsCount!==En)&&(Bt=!0):(Bt=!0,Gt.__version=ge.version);let rr=Gt.currentProgram;Bt===!0&&(rr=An(ge,le,Te));let Hn=!1,_t=!1,zt=!1;const Tt=rr.getUniforms(),Et=Gt.uniforms;if(me.useProgram(rr.program)&&(Hn=!0,_t=!0,zt=!0),ge.id!==I&&(I=ge.id,_t=!0),Hn||R!==Y){Tt.setValue(X,"projectionMatrix",Y.projectionMatrix),Tt.setValue(X,"viewMatrix",Y.matrixWorldInverse);const Zt=Tt.map.cameraPosition;Zt!==void 0&&Zt.setValue(X,Se.setFromMatrixPosition(Y.matrixWorld)),Ce.logarithmicDepthBuffer&&Tt.setValue(X,"logDepthBufFC",2/(Math.log(Y.far+1)/Math.LN2)),(ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshLambertMaterial||ge.isMeshBasicMaterial||ge.isMeshStandardMaterial||ge.isShaderMaterial)&&Tt.setValue(X,"isOrthographic",Y.isOrthographicCamera===!0),R!==Y&&(R=Y,_t=!0,zt=!0)}if(Te.isSkinnedMesh){Tt.setOptional(X,Te,"bindMatrix"),Tt.setOptional(X,Te,"bindMatrixInverse");const Zt=Te.skeleton;Zt&&(Ce.floatVertexTextures?(Zt.boneTexture===null&&Zt.computeBoneTexture(),Tt.setValue(X,"boneTexture",Zt.boneTexture,Re),Tt.setValue(X,"boneTextureSize",Zt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Ht=he.morphAttributes;if((Ht.position!==void 0||Ht.normal!==void 0||Ht.color!==void 0&&Ce.isWebGL2===!0)&&et.update(Te,he,rr),(_t||Gt.receiveShadow!==Te.receiveShadow)&&(Gt.receiveShadow=Te.receiveShadow,Tt.setValue(X,"receiveShadow",Te.receiveShadow)),ge.isMeshGouraudMaterial&&ge.envMap!==null&&(Et.envMap.value=Ft,Et.flipEnvMap.value=Ft.isCubeTexture&&Ft.isRenderTargetTexture===!1?-1:1),_t&&(Tt.setValue(X,"toneMappingExposure",S.toneMappingExposure),Gt.needsLights&&_r(Et,zt),ft&&ge.fog===!0&&Ee.refreshFogUniforms(Et,ft),Ee.refreshMaterialUniforms(Et,ge,$,B,oe),M2.upload(X,Gt.uniformsList,Et,Re)),ge.isShaderMaterial&&ge.uniformsNeedUpdate===!0&&(M2.upload(X,Gt.uniformsList,Et,Re),ge.uniformsNeedUpdate=!1),ge.isSpriteMaterial&&Tt.setValue(X,"center",Te.center),Tt.setValue(X,"modelViewMatrix",Te.modelViewMatrix),Tt.setValue(X,"normalMatrix",Te.normalMatrix),Tt.setValue(X,"modelMatrix",Te.matrixWorld),ge.isShaderMaterial||ge.isRawShaderMaterial){const Zt=ge.uniformsGroups;for(let Pn=0,yr=Zt.length;Pn<yr;Pn++)if(Ce.isWebGL2){const fr=Zt[Pn];ke.update(fr,rr),ke.bind(fr,rr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return rr}function _r(Y,le){Y.ambientLightColor.needsUpdate=le,Y.lightProbe.needsUpdate=le,Y.directionalLights.needsUpdate=le,Y.directionalLightShadows.needsUpdate=le,Y.pointLights.needsUpdate=le,Y.pointLightShadows.needsUpdate=le,Y.spotLights.needsUpdate=le,Y.spotLightShadows.needsUpdate=le,Y.rectAreaLights.needsUpdate=le,Y.hemisphereLights.needsUpdate=le}function nn(Y){return Y.isMeshLambertMaterial||Y.isMeshToonMaterial||Y.isMeshPhongMaterial||Y.isMeshStandardMaterial||Y.isShadowMaterial||Y.isShaderMaterial&&Y.lights===!0}this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(Y,le,he){ve.get(Y.texture).__webglTexture=le,ve.get(Y.depthTexture).__webglTexture=he;const ge=ve.get(Y);ge.__hasExternalTextures=!0,ge.__hasExternalTextures&&(ge.__autoAllocateDepthBuffer=he===void 0,ge.__autoAllocateDepthBuffer||pe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ge.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Y,le){const he=ve.get(Y);he.__webglFramebuffer=le,he.__useDefaultFramebuffer=le===void 0},this.setRenderTarget=function(Y,le=0,he=0){M=Y,_=le,T=he;let ge=!0,Te=null,ft=!1,Ot=!1;if(Y){const Ft=ve.get(Y);Ft.__useDefaultFramebuffer!==void 0?(me.bindFramebuffer(X.FRAMEBUFFER,null),ge=!1):Ft.__webglFramebuffer===void 0?Re.setupRenderTarget(Y):Ft.__hasExternalTextures&&Re.rebindTextures(Y,ve.get(Y.texture).__webglTexture,ve.get(Y.depthTexture).__webglTexture);const qt=Y.texture;(qt.isData3DTexture||qt.isDataArrayTexture||qt.isCompressedArrayTexture)&&(Ot=!0);const Mt=ve.get(Y).__webglFramebuffer;Y.isWebGLCubeRenderTarget?(Array.isArray(Mt[le])?Te=Mt[le][he]:Te=Mt[le],ft=!0):Ce.isWebGL2&&Y.samples>0&&Re.useMultisampledRTT(Y)===!1?Te=ve.get(Y).__webglMultisampledFramebuffer:Array.isArray(Mt)?Te=Mt[he]:Te=Mt,P.copy(Y.viewport),L.copy(Y.scissor),k=Y.scissorTest}else P.copy(V).multiplyScalar($).floor(),L.copy(F).multiplyScalar($).floor(),k=W;if(me.bindFramebuffer(X.FRAMEBUFFER,Te)&&Ce.drawBuffers&&ge&&me.drawBuffers(Y,Te),me.viewport(P),me.scissor(L),me.setScissorTest(k),ft){const Ft=ve.get(Y.texture);X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_CUBE_MAP_POSITIVE_X+le,Ft.__webglTexture,he)}else if(Ot){const Ft=ve.get(Y.texture),qt=le||0;X.framebufferTextureLayer(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,Ft.__webglTexture,he||0,qt)}I=-1},this.readRenderTargetPixels=function(Y,le,he,ge,Te,ft,Ot){if(!(Y&&Y.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Dt=ve.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&Ot!==void 0&&(Dt=Dt[Ot]),Dt){me.bindFramebuffer(X.FRAMEBUFFER,Dt);try{const Ft=Y.texture,qt=Ft.format,Mt=Ft.type;if(qt!==Qi&&ut.convert(qt)!==X.getParameter(X.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const kt=Mt===Ws&&(pe.has("EXT_color_buffer_half_float")||Ce.isWebGL2&&pe.has("EXT_color_buffer_float"));if(Mt!==Io&&ut.convert(Mt)!==X.getParameter(X.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Mt===Xr&&(Ce.isWebGL2||pe.has("OES_texture_float")||pe.has("WEBGL_color_buffer_float")))&&!kt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}le>=0&&le<=Y.width-ge&&he>=0&&he<=Y.height-Te&&X.readPixels(le,he,ge,Te,ut.convert(qt),ut.convert(Mt),ft)}finally{const Ft=M!==null?ve.get(M).__webglFramebuffer:null;me.bindFramebuffer(X.FRAMEBUFFER,Ft)}}},this.copyFramebufferToTexture=function(Y,le,he=0){const ge=Math.pow(2,-he),Te=Math.floor(le.image.width*ge),ft=Math.floor(le.image.height*ge);Re.setTexture2D(le,0),X.copyTexSubImage2D(X.TEXTURE_2D,he,0,0,Y.x,Y.y,Te,ft),me.unbindTexture()},this.copyTextureToTexture=function(Y,le,he,ge=0){const Te=le.image.width,ft=le.image.height,Ot=ut.convert(he.format),Dt=ut.convert(he.type);Re.setTexture2D(he,0),X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,he.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,he.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,he.unpackAlignment),le.isDataTexture?X.texSubImage2D(X.TEXTURE_2D,ge,Y.x,Y.y,Te,ft,Ot,Dt,le.image.data):le.isCompressedTexture?X.compressedTexSubImage2D(X.TEXTURE_2D,ge,Y.x,Y.y,le.mipmaps[0].width,le.mipmaps[0].height,Ot,le.mipmaps[0].data):X.texSubImage2D(X.TEXTURE_2D,ge,Y.x,Y.y,Ot,Dt,le.image),ge===0&&he.generateMipmaps&&X.generateMipmap(X.TEXTURE_2D),me.unbindTexture()},this.copyTextureToTexture3D=function(Y,le,he,ge,Te=0){if(S.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ft=Y.max.x-Y.min.x+1,Ot=Y.max.y-Y.min.y+1,Dt=Y.max.z-Y.min.z+1,Ft=ut.convert(ge.format),qt=ut.convert(ge.type);let Mt;if(ge.isData3DTexture)Re.setTexture3D(ge,0),Mt=X.TEXTURE_3D;else if(ge.isDataArrayTexture)Re.setTexture2DArray(ge,0),Mt=X.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,ge.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ge.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,ge.unpackAlignment);const kt=X.getParameter(X.UNPACK_ROW_LENGTH),$n=X.getParameter(X.UNPACK_IMAGE_HEIGHT),Cn=X.getParameter(X.UNPACK_SKIP_PIXELS),Zn=X.getParameter(X.UNPACK_SKIP_ROWS),vr=X.getParameter(X.UNPACK_SKIP_IMAGES),En=he.isCompressedTexture?he.mipmaps[0]:he.image;X.pixelStorei(X.UNPACK_ROW_LENGTH,En.width),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,En.height),X.pixelStorei(X.UNPACK_SKIP_PIXELS,Y.min.x),X.pixelStorei(X.UNPACK_SKIP_ROWS,Y.min.y),X.pixelStorei(X.UNPACK_SKIP_IMAGES,Y.min.z),he.isDataTexture||he.isData3DTexture?X.texSubImage3D(Mt,Te,le.x,le.y,le.z,ft,Ot,Dt,Ft,qt,En.data):he.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),X.compressedTexSubImage3D(Mt,Te,le.x,le.y,le.z,ft,Ot,Dt,Ft,En.data)):X.texSubImage3D(Mt,Te,le.x,le.y,le.z,ft,Ot,Dt,Ft,qt,En),X.pixelStorei(X.UNPACK_ROW_LENGTH,kt),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,$n),X.pixelStorei(X.UNPACK_SKIP_PIXELS,Cn),X.pixelStorei(X.UNPACK_SKIP_ROWS,Zn),X.pixelStorei(X.UNPACK_SKIP_IMAGES,vr),Te===0&&ge.generateMipmaps&&X.generateMipmap(Mt),me.unbindTexture()},this.initTexture=function(Y){Y.isCubeTexture?Re.setTextureCube(Y,0):Y.isData3DTexture?Re.setTexture3D(Y,0):Y.isDataArrayTexture||Y.isCompressedArrayTexture?Re.setTexture2DArray(Y,0):Re.setTexture2D(Y,0),me.unbindTexture()},this.resetState=function(){_=0,T=0,M=null,me.reset(),te.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ns}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===I6?"display-p3":"srgb",n.unpackColorSpace=Qn.workingColorSpace===c3?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===$t?Fl:P6}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Fl?$t:Oo}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class RB extends lE{}RB.prototype.isWebGL1Renderer=!0;class V6{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new St(e),this.density=n}clone(){return new V6(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class W6{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new St(e),this.near=n,this.far=r}clone(){return new W6(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Mp extends jn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class g3{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Cp,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Zo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Zo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Zo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ao=new Q;class Jc{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)ao.fromBufferAttribute(this,n),ao.applyMatrix4(e),this.setXYZ(n,ao.x,ao.y,ao.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ao.fromBufferAttribute(this,n),ao.applyNormalMatrix(e),this.setXYZ(n,ao.x,ao.y,ao.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ao.fromBufferAttribute(this,n),ao.transformDirection(e),this.setXYZ(n,ao.x,ao.y,ao.z);return this}setX(e,n){return this.normalized&&(n=xn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=xn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=xn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=xn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=_o(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=_o(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=_o(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=_o(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=xn(n,this.array),r=xn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=xn(n,this.array),r=xn(r,this.array),i=xn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=xn(n,this.array),r=xn(r,this.array),i=xn(i,this.array),o=xn(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new sr(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Jc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class cE extends Mi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new St(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Vf;const H0=new Q,Wf=new Q,jf=new Q,Xf=new Qe,G0=new Qe,AB=new on,S1=new Q,V0=new Q,b1=new Q,bI=new Qe,oS=new Qe,wI=new Qe;class PB extends jn{constructor(e=new cE){if(super(),this.isSprite=!0,this.type="Sprite",Vf===void 0){Vf=new wn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new g3(n,5);Vf.setIndex([0,1,2,0,2,3]),Vf.setAttribute("position",new Jc(r,3,0,!1)),Vf.setAttribute("uv",new Jc(r,2,3,!1))}this.geometry=Vf,this.material=e,this.center=new Qe(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Wf.setFromMatrixScale(this.matrixWorld),AB.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),jf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Wf.multiplyScalar(-jf.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const a=this.center;w1(S1.set(-.5,-.5,0),jf,a,Wf,i,o),w1(V0.set(.5,-.5,0),jf,a,Wf,i,o),w1(b1.set(.5,.5,0),jf,a,Wf,i,o),bI.set(0,0),oS.set(1,0),wI.set(1,1);let s=e.ray.intersectTriangle(S1,V0,b1,!1,H0);if(s===null&&(w1(V0.set(-.5,.5,0),jf,a,Wf,i,o),oS.set(0,1),s=e.ray.intersectTriangle(S1,b1,V0,!1,H0),s===null))return;const l=e.ray.origin.distanceTo(H0);l<e.near||l>e.far||n.push({distance:l,point:H0.clone(),uv:Co.getInterpolation(H0,S1,V0,b1,bI,oS,wI,new Qe),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function w1(t,e,n,r,i,o){Xf.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(G0.x=o*Xf.x-i*Xf.y,G0.y=i*Xf.x+o*Xf.y):G0.copy(Xf),t.copy(e),t.x+=G0.x,t.y+=G0.y,t.applyMatrix4(AB)}const C1=new Q,CI=new Q;class IB extends jn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const o=n[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let o;for(o=0;o<i.length&&!(n<i[o].distance);o++);return i.splice(o,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),e<o)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){C1.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(C1);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){C1.setFromMatrixPosition(e.matrixWorld),CI.setFromMatrixPosition(this.matrixWorld);const r=C1.distanceTo(CI)/e.zoom;n[0].object.visible=!0;let i,o;for(i=1,o=n.length;i<o;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const EI=new Q,_I=new Tn,TI=new Tn,Fve=new Q,MI=new on,qf=new Q,aS=new xs,RI=new on,sS=new Vd;class NB extends fi{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new on,this.bindMatrixInverse=new on,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new tl),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)qf.fromBufferAttribute(n,r),this.applyBoneTransform(r,qf),this.boundingBox.expandByPoint(qf)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new xs),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)qf.fromBufferAttribute(n,r),this.applyBoneTransform(r,qf),this.boundingSphere.expandByPoint(qf)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),aS.copy(this.boundingSphere),aS.applyMatrix4(i),e.ray.intersectsSphere(aS)!==!1&&(RI.copy(i).invert(),sS.copy(e.ray).applyMatrix4(RI),!(this.boundingBox!==null&&sS.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,sS)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Tn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;_I.fromBufferAttribute(i.attributes.skinIndex,e),TI.fromBufferAttribute(i.attributes.skinWeight,e),EI.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const a=TI.getComponent(o);if(a!==0){const s=_I.getComponent(o);MI.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),n.addScaledVector(Fve.copy(EI).applyMatrix4(MI),a)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class uE extends jn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class jc extends Nr{constructor(e=null,n=1,r=1,i,o,a,s,l,c=Wn,u=Wn,d,f){super(null,a,s,l,c,u,i,o,d,f),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const AI=new on,$ve=new on;class j6{constructor(e=[],n=[]){this.uuid=Zo(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new on)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new on;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,a=e.length;o<a;o++){const s=e[o]?e[o].matrixWorld:$ve;AI.multiplyMatrices(s,n[o]),AI.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new j6(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=gB(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new jc(n,e,e,Qi,Xr);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let a=n[o];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),a=new uE),this.bones.push(a),this.boneInverses.push(new on().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const a=n[i];e.bones.push(a.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class Rp extends sr{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Kf=new on,PI=new on,E1=[],II=new tl,Uve=new on,W0=new fi,j0=new xs;class OB extends fi{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Rp(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Uve)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new tl),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Kf),II.copy(e.boundingBox).applyMatrix4(Kf),this.boundingBox.union(II)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new xs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Kf),j0.copy(e.boundingSphere).applyMatrix4(Kf),this.boundingSphere.union(j0)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(W0.geometry=this.geometry,W0.material=this.material,W0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),j0.copy(this.boundingSphere),j0.applyMatrix4(r),e.ray.intersectsSphere(j0)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,Kf),PI.multiplyMatrices(r,Kf),W0.matrixWorld=PI,W0.raycast(e,E1);for(let a=0,s=E1.length;a<s;a++){const l=E1[a];l.instanceId=o,l.object=this,n.push(l)}E1.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Rp(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class go extends Mi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new St(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const NI=new Q,OI=new Q,LI=new on,lS=new Vd,_1=new xs;class eu extends jn{constructor(e=new wn,n=new go){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)NI.fromBufferAttribute(n,i-1),OI.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=NI.distanceTo(OI);e.setAttribute("lineDistance",new Ut(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),_1.copy(r.boundingSphere),_1.applyMatrix4(i),_1.radius+=o,e.ray.intersectsSphere(_1)===!1)return;LI.copy(i).invert(),lS.copy(e.ray).applyMatrix4(LI);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=new Q,u=new Q,d=new Q,f=new Q,p=this.isLineSegments?2:1,y=r.index,x=r.attributes.position;if(y!==null){const v=Math.max(0,a.start),w=Math.min(y.count,a.start+a.count);for(let S=v,C=w-1;S<C;S+=p){const _=y.getX(S),T=y.getX(S+1);if(c.fromBufferAttribute(x,_),u.fromBufferAttribute(x,T),lS.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const I=e.ray.origin.distanceTo(f);I<e.near||I>e.far||n.push({distance:I,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,a.start),w=Math.min(x.count,a.start+a.count);for(let S=v,C=w-1;S<C;S+=p){if(c.fromBufferAttribute(x,S),u.fromBufferAttribute(x,S+1),lS.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(f);T<e.near||T>e.far||n.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}const DI=new Q,FI=new Q;class nl extends eu{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)DI.fromBufferAttribute(n,i),FI.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+DI.distanceTo(FI);e.setAttribute("lineDistance",new Ut(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LB extends eu{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class dE extends Mi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new St(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const $I=new on,r9=new Vd,T1=new xs,M1=new Q;class DB extends jn{constructor(e=new wn,n=new dE){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),T1.copy(r.boundingSphere),T1.applyMatrix4(i),T1.radius+=o,e.ray.intersectsSphere(T1)===!1)return;$I.copy(i).invert(),r9.copy(e.ray).applyMatrix4($I);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=r.index,d=r.attributes.position;if(c!==null){const f=Math.max(0,a.start),p=Math.min(c.count,a.start+a.count);for(let y=f,b=p;y<b;y++){const x=c.getX(y);M1.fromBufferAttribute(d,x),UI(M1,x,l,i,e,n,this)}}else{const f=Math.max(0,a.start),p=Math.min(d.count,a.start+a.count);for(let y=f,b=p;y<b;y++)M1.fromBufferAttribute(d,y),UI(M1,y,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function UI(t,e,n,r,i,o,a){const s=r9.distanceSqToPoint(t);if(s<n){const l=new Q;r9.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:a})}}class kve extends Nr{constructor(e,n,r,i,o,a,s,l,c){super(e,n,r,i,o,a,s,l,c),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:Er,this.magFilter=o!==void 0?o:Er,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Bve extends Nr{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Wn,this.minFilter=Wn,this.generateMipmaps=!1,this.needsUpdate=!0}}class X6 extends Nr{constructor(e,n,r,i,o,a,s,l,c,u,d,f){super(null,a,s,l,c,u,i,o,d,f),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class zve extends X6{constructor(e,n,r,i,o,a){super(e,n,r,o,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Ni}}class Hve extends X6{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,fs),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Gve extends Nr{constructor(e,n,r,i,o,a,s,l,c){super(e,n,r,i,o,a,s,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ss{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const o=r.length;let a;n?a=n:a=e*r[o-1];let s=0,l=o-1,c;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),c=r[i]-a,c<0)s=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(o-1);const u=r[i],f=r[i+1]-u,p=(a-u)/f;return(i+p)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const a=this.getPoint(i),s=this.getPoint(o),l=n||(a.isVector2?new Qe:new Q);return l.copy(s).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new Q,i=[],o=[],a=[],s=new Q,l=new on;for(let p=0;p<=e;p++){const y=p/e;i[p]=this.getTangentAt(y,new Q)}o[0]=new Q,a[0]=new Q;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),d=Math.abs(i[0].y),f=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),f<=c&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],s),a[0].crossVectors(i[0],o[0]);for(let p=1;p<=e;p++){if(o[p]=o[p-1].clone(),a[p]=a[p-1].clone(),s.crossVectors(i[p-1],i[p]),s.length()>Number.EPSILON){s.normalize();const y=Math.acos($r(i[p-1].dot(i[p]),-1,1));o[p].applyMatrix4(l.makeRotationAxis(s,y))}a[p].crossVectors(i[p],o[p])}if(n===!0){let p=Math.acos($r(o[0].dot(o[e]),-1,1));p/=e,i[0].dot(s.crossVectors(o[0],o[e]))>0&&(p=-p);for(let y=1;y<=e;y++)o[y].applyMatrix4(l.makeRotationAxis(i[y],p*y)),a[y].crossVectors(i[y],o[y])}return{tangents:i,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class q6 extends Ss{constructor(e=0,n=0,r=1,i=1,o=0,a=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=s,this.aRotation=l}getPoint(e,n){const r=n||new Qe,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(a?o=0:o=i),this.aClockwise===!0&&!a&&(o===i?o=-i:o=o-i);const s=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,p=c-this.aY;l=f*u-p*d+this.aX,c=f*d+p*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class FB extends q6{constructor(e,n,r,i,o,a){super(e,n,r,r,i,o,a),this.isArcCurve=!0,this.type="ArcCurve"}}function fE(){let t=0,e=0,n=0,r=0;function i(o,a,s,l){t=o,e=s,n=-3*o+3*a-2*s-l,r=2*o-2*a+s+l}return{initCatmullRom:function(o,a,s,l,c){i(a,s,c*(s-o),c*(l-a))},initNonuniformCatmullRom:function(o,a,s,l,c,u,d){let f=(a-o)/c-(s-o)/(c+u)+(s-a)/u,p=(s-a)/u-(l-a)/(u+d)+(l-s)/d;f*=u,p*=u,i(a,s,f,p)},calc:function(o){const a=o*o,s=a*o;return t+e*o+n*a+r*s}}}const R1=new Q,cS=new fE,uS=new fE,dS=new fE;class $B extends Ss{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new Q){const r=n,i=this.points,o=i.length,a=(o-(this.closed?0:1))*e;let s=Math.floor(a),l=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:l===0&&s===o-1&&(s=o-2,l=1);let c,u;this.closed||s>0?c=i[(s-1)%o]:(R1.subVectors(i[0],i[1]).add(i[0]),c=R1);const d=i[s%o],f=i[(s+1)%o];if(this.closed||s+2<o?u=i[(s+2)%o]:(R1.subVectors(i[o-1],i[o-2]).add(i[o-1]),u=R1),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let y=Math.pow(c.distanceToSquared(d),p),b=Math.pow(d.distanceToSquared(f),p),x=Math.pow(f.distanceToSquared(u),p);b<1e-4&&(b=1),y<1e-4&&(y=b),x<1e-4&&(x=b),cS.initNonuniformCatmullRom(c.x,d.x,f.x,u.x,y,b,x),uS.initNonuniformCatmullRom(c.y,d.y,f.y,u.y,y,b,x),dS.initNonuniformCatmullRom(c.z,d.z,f.z,u.z,y,b,x)}else this.curveType==="catmullrom"&&(cS.initCatmullRom(c.x,d.x,f.x,u.x,this.tension),uS.initCatmullRom(c.y,d.y,f.y,u.y,this.tension),dS.initCatmullRom(c.z,d.z,f.z,u.z,this.tension));return r.set(cS.calc(l),uS.calc(l),dS.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Q().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function kI(t,e,n,r,i){const o=(r-e)*.5,a=(i-n)*.5,s=t*t,l=t*s;return(2*n-2*r+o+a)*l+(-3*n+3*r-2*o-a)*s+o*t+n}function Vve(t,e){const n=1-t;return n*n*e}function Wve(t,e){return 2*(1-t)*t*e}function jve(t,e){return t*t*e}function Im(t,e,n,r){return Vve(t,e)+Wve(t,n)+jve(t,r)}function Xve(t,e){const n=1-t;return n*n*n*e}function qve(t,e){const n=1-t;return 3*n*n*t*e}function Kve(t,e){return 3*(1-t)*t*t*e}function Yve(t,e){return t*t*t*e}function Nm(t,e,n,r,i){return Xve(t,e)+qve(t,n)+Kve(t,r)+Yve(t,i)}class hE extends Ss{constructor(e=new Qe,n=new Qe,r=new Qe,i=new Qe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Qe){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Nm(e,i.x,o.x,a.x,s.x),Nm(e,i.y,o.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class UB extends Ss{constructor(e=new Q,n=new Q,r=new Q,i=new Q){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Q){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Nm(e,i.x,o.x,a.x,s.x),Nm(e,i.y,o.y,a.y,s.y),Nm(e,i.z,o.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class pE extends Ss{constructor(e=new Qe,n=new Qe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Qe){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Qe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class kB extends Ss{constructor(e=new Q,n=new Q){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new Q){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Q){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class mE extends Ss{constructor(e=new Qe,n=new Qe,r=new Qe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Qe){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(Im(e,i.x,o.x,a.x),Im(e,i.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gE extends Ss{constructor(e=new Q,n=new Q,r=new Q){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Q){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(Im(e,i.x,o.x,a.x),Im(e,i.y,o.y,a.y),Im(e,i.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vE extends Ss{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Qe){const r=n,i=this.points,o=(i.length-1)*e,a=Math.floor(o),s=o-a,l=i[a===0?a:a-1],c=i[a],u=i[a>i.length-2?i.length-1:a+1],d=i[a>i.length-3?i.length-1:a+2];return r.set(kI(s,l.x,c.x,u.x,d.x),kI(s,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Qe().fromArray(i))}return this}}var Ly=Object.freeze({__proto__:null,ArcCurve:FB,CatmullRomCurve3:$B,CubicBezierCurve:hE,CubicBezierCurve3:UB,EllipseCurve:q6,LineCurve:pE,LineCurve3:kB,QuadraticBezierCurve:mE,QuadraticBezierCurve3:gE,SplineCurve:vE});class BB extends Ss{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Ly[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const a=i[o]-r,s=this.curves[o],l=s.getLength(),c=l===0?0:1-a/l;return s.getPointAt(c,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const a=o[i],s=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(s);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new Ly[i.type]().fromJSON(i))}return this}}let Tg=class extends BB{constructor(e){super(),this.type="Path",this.currentPoint=new Qe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new pE(this.currentPoint.clone(),new Qe(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new mE(this.currentPoint.clone(),new Qe(e,n),new Qe(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,a){const s=new hE(this.currentPoint.clone(),new Qe(e,n),new Qe(r,i),new Qe(o,a));return this.curves.push(s),this.currentPoint.set(o,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new vE(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,a){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,i,o,a),this}absarc(e,n,r,i,o,a){return this.absellipse(e,n,r,r,i,o,a),this}ellipse(e,n,r,i,o,a,s,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,o,a,s,l),this}absellipse(e,n,r,i,o,a,s,l){const c=new q6(e,n,r,i,o,a,s,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class v3 extends wn{constructor(e=[new Qe(0,-.5),new Qe(.5,0),new Qe(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=$r(i,0,Math.PI*2);const o=[],a=[],s=[],l=[],c=[],u=1/n,d=new Q,f=new Qe,p=new Q,y=new Q,b=new Q;let x=0,v=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:x=e[w+1].x-e[w].x,v=e[w+1].y-e[w].y,p.x=v*1,p.y=-x,p.z=v*0,b.copy(p),p.normalize(),l.push(p.x,p.y,p.z);break;case e.length-1:l.push(b.x,b.y,b.z);break;default:x=e[w+1].x-e[w].x,v=e[w+1].y-e[w].y,p.x=v*1,p.y=-x,p.z=v*0,y.copy(p),p.x+=b.x,p.y+=b.y,p.z+=b.z,p.normalize(),l.push(p.x,p.y,p.z),b.copy(y)}for(let w=0;w<=n;w++){const S=r+w*u*i,C=Math.sin(S),_=Math.cos(S);for(let T=0;T<=e.length-1;T++){d.x=e[T].x*C,d.y=e[T].y,d.z=e[T].x*_,a.push(d.x,d.y,d.z),f.x=w/n,f.y=T/(e.length-1),s.push(f.x,f.y);const M=l[3*T+0]*C,I=l[3*T+1],R=l[3*T+0]*_;c.push(M,I,R)}}for(let w=0;w<n;w++)for(let S=0;S<e.length-1;S++){const C=S+w*e.length,_=C,T=C+e.length,M=C+e.length+1,I=C+1;o.push(_,T,I),o.push(M,I,T)}this.setIndex(o),this.setAttribute("position",new Ut(a,3)),this.setAttribute("uv",new Ut(s,2)),this.setAttribute("normal",new Ut(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new v3(e.points,e.segments,e.phiStart,e.phiLength)}}class K6 extends v3{constructor(e=1,n=1,r=4,i=8){const o=new Tg;o.absarc(0,-n/2,e,Math.PI*1.5,0),o.absarc(0,n/2,e,0,Math.PI*.5),super(o.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new K6(e.radius,e.length,e.capSegments,e.radialSegments)}}class Y6 extends wn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],a=[],s=[],l=[],c=new Q,u=new Qe;a.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=n;d++,f+=3){const p=r+d/n*i;c.x=e*Math.cos(p),c.y=e*Math.sin(p),a.push(c.x,c.y,c.z),s.push(0,0,1),u.x=(a[f]/e+1)/2,u.y=(a[f+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)o.push(d,d+1,0);this.setIndex(o),this.setAttribute("position",new Ut(a,3)),this.setAttribute("normal",new Ut(s,3)),this.setAttribute("uv",new Ut(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Y6(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Qp extends wn{constructor(e=1,n=1,r=1,i=32,o=1,a=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l};const c=this;i=Math.floor(i),o=Math.floor(o);const u=[],d=[],f=[],p=[];let y=0;const b=[],x=r/2;let v=0;w(),a===!1&&(e>0&&S(!0),n>0&&S(!1)),this.setIndex(u),this.setAttribute("position",new Ut(d,3)),this.setAttribute("normal",new Ut(f,3)),this.setAttribute("uv",new Ut(p,2));function w(){const C=new Q,_=new Q;let T=0;const M=(n-e)/r;for(let I=0;I<=o;I++){const R=[],P=I/o,L=P*(n-e)+e;for(let k=0;k<=i;k++){const H=k/i,D=H*l+s,G=Math.sin(D),B=Math.cos(D);_.x=L*G,_.y=-P*r+x,_.z=L*B,d.push(_.x,_.y,_.z),C.set(G,M,B).normalize(),f.push(C.x,C.y,C.z),p.push(H,1-P),R.push(y++)}b.push(R)}for(let I=0;I<i;I++)for(let R=0;R<o;R++){const P=b[R][I],L=b[R+1][I],k=b[R+1][I+1],H=b[R][I+1];u.push(P,L,H),u.push(L,k,H),T+=6}c.addGroup(v,T,0),v+=T}function S(C){const _=y,T=new Qe,M=new Q;let I=0;const R=C===!0?e:n,P=C===!0?1:-1;for(let k=1;k<=i;k++)d.push(0,x*P,0),f.push(0,P,0),p.push(.5,.5),y++;const L=y;for(let k=0;k<=i;k++){const D=k/i*l+s,G=Math.cos(D),B=Math.sin(D);M.x=R*B,M.y=x*P,M.z=R*G,d.push(M.x,M.y,M.z),f.push(0,P,0),T.x=G*.5+.5,T.y=B*.5*P+.5,p.push(T.x,T.y),y++}for(let k=0;k<i;k++){const H=_+k,D=L+k;C===!0?u.push(D,D+1,H):u.push(D+1,D,H),I+=3}c.addGroup(v,I,C===!0?1:2),v+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qp(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Z6 extends Qp{constructor(e=1,n=1,r=32,i=1,o=!1,a=0,s=Math.PI*2){super(0,e,n,r,i,o,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s}}static fromJSON(e){return new Z6(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class uu extends wn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],a=[];s(i),c(r),u(),this.setAttribute("position",new Ut(o,3)),this.setAttribute("normal",new Ut(o.slice(),3)),this.setAttribute("uv",new Ut(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(w){const S=new Q,C=new Q,_=new Q;for(let T=0;T<n.length;T+=3)p(n[T+0],S),p(n[T+1],C),p(n[T+2],_),l(S,C,_,w)}function l(w,S,C,_){const T=_+1,M=[];for(let I=0;I<=T;I++){M[I]=[];const R=w.clone().lerp(C,I/T),P=S.clone().lerp(C,I/T),L=T-I;for(let k=0;k<=L;k++)k===0&&I===T?M[I][k]=R:M[I][k]=R.clone().lerp(P,k/L)}for(let I=0;I<T;I++)for(let R=0;R<2*(T-I)-1;R++){const P=Math.floor(R/2);R%2===0?(f(M[I][P+1]),f(M[I+1][P]),f(M[I][P])):(f(M[I][P+1]),f(M[I+1][P+1]),f(M[I+1][P]))}}function c(w){const S=new Q;for(let C=0;C<o.length;C+=3)S.x=o[C+0],S.y=o[C+1],S.z=o[C+2],S.normalize().multiplyScalar(w),o[C+0]=S.x,o[C+1]=S.y,o[C+2]=S.z}function u(){const w=new Q;for(let S=0;S<o.length;S+=3){w.x=o[S+0],w.y=o[S+1],w.z=o[S+2];const C=x(w)/2/Math.PI+.5,_=v(w)/Math.PI+.5;a.push(C,1-_)}y(),d()}function d(){for(let w=0;w<a.length;w+=6){const S=a[w+0],C=a[w+2],_=a[w+4],T=Math.max(S,C,_),M=Math.min(S,C,_);T>.9&&M<.1&&(S<.2&&(a[w+0]+=1),C<.2&&(a[w+2]+=1),_<.2&&(a[w+4]+=1))}}function f(w){o.push(w.x,w.y,w.z)}function p(w,S){const C=w*3;S.x=e[C+0],S.y=e[C+1],S.z=e[C+2]}function y(){const w=new Q,S=new Q,C=new Q,_=new Q,T=new Qe,M=new Qe,I=new Qe;for(let R=0,P=0;R<o.length;R+=9,P+=6){w.set(o[R+0],o[R+1],o[R+2]),S.set(o[R+3],o[R+4],o[R+5]),C.set(o[R+6],o[R+7],o[R+8]),T.set(a[P+0],a[P+1]),M.set(a[P+2],a[P+3]),I.set(a[P+4],a[P+5]),_.copy(w).add(S).add(C).divideScalar(3);const L=x(_);b(T,P+0,w,L),b(M,P+2,S,L),b(I,P+4,C,L)}}function b(w,S,C,_){_<0&&w.x===1&&(a[S]=w.x-1),C.x===0&&C.z===0&&(a[S]=_/2/Math.PI+.5)}function x(w){return Math.atan2(w.z,-w.x)}function v(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uu(e.vertices,e.indices,e.radius,e.details)}}class Q6 extends uu{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Q6(e.radius,e.detail)}}const A1=new Q,P1=new Q,fS=new Q,I1=new Co;class zB extends wn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),o=Math.cos(md*n),a=e.getIndex(),s=e.getAttribute("position"),l=a?a.count:s.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),f={},p=[];for(let y=0;y<l;y+=3){a?(c[0]=a.getX(y),c[1]=a.getX(y+1),c[2]=a.getX(y+2)):(c[0]=y,c[1]=y+1,c[2]=y+2);const{a:b,b:x,c:v}=I1;if(b.fromBufferAttribute(s,c[0]),x.fromBufferAttribute(s,c[1]),v.fromBufferAttribute(s,c[2]),I1.getNormal(fS),d[0]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,d[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,d[2]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let w=0;w<3;w++){const S=(w+1)%3,C=d[w],_=d[S],T=I1[u[w]],M=I1[u[S]],I=`${C}_${_}`,R=`${_}_${C}`;R in f&&f[R]?(fS.dot(f[R].normal)<=o&&(p.push(T.x,T.y,T.z),p.push(M.x,M.y,M.z)),f[R]=null):I in f||(f[I]={index0:c[w],index1:c[S],normal:fS.clone()})}}for(const y in f)if(f[y]){const{index0:b,index1:x}=f[y];A1.fromBufferAttribute(s,b),P1.fromBufferAttribute(s,x),p.push(A1.x,A1.y,A1.z),p.push(P1.x,P1.y,P1.z)}this.setAttribute("position",new Ut(p,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class vd extends Tg{constructor(e){super(e),this.uuid=Zo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Tg().fromJSON(i))}return this}}const Zve={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=HB(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c,u,d,f,p;if(r&&(o=n1e(t,e,o,n)),t.length>80*n){s=c=t[0],l=u=t[1];for(let y=n;y<i;y+=n)d=t[y],f=t[y+1],d<s&&(s=d),f<l&&(l=f),d>c&&(c=d),f>u&&(u=f);p=Math.max(c-s,u-l),p=p!==0?32767/p:0}return Mg(o,a,n,s,l,p,0),a}};function HB(t,e,n,r,i){let o,a;if(i===h1e(t,e,n,r)>0)for(o=e;o<n;o+=r)a=BI(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=BI(o,t[o],t[o+1],a);return a&&J6(a,a.next)&&(Ag(a),a=a.next),a}function Dd(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(J6(n,n.next)||Ar(n.prev,n,n.next)===0)){if(Ag(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Mg(t,e,n,r,i,o,a){if(!t)return;!a&&o&&s1e(t,r,i,o);let s=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,o?Jve(t,r,i,o):Qve(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Ag(t),t=c.next,s=c.next;continue}if(t=c,t===s){a?a===1?(t=e1e(Dd(t),e,n),Mg(t,e,n,r,i,o,2)):a===2&&t1e(t,e,n,r,i,o):Mg(Dd(t),e,n,r,i,o,1);break}}}function Qve(t){const e=t.prev,n=t,r=t.next;if(Ar(e,n,r)>=0)return!1;const i=e.x,o=n.x,a=r.x,s=e.y,l=n.y,c=r.y,u=i<o?i<a?i:a:o<a?o:a,d=s<l?s<c?s:c:l<c?l:c,f=i>o?i>a?i:a:o>a?o:a,p=s>l?s>c?s:c:l>c?l:c;let y=r.next;for(;y!==e;){if(y.x>=u&&y.x<=f&&y.y>=d&&y.y<=p&&Eh(i,s,o,l,a,c,y.x,y.y)&&Ar(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function Jve(t,e,n,r){const i=t.prev,o=t,a=t.next;if(Ar(i,o,a)>=0)return!1;const s=i.x,l=o.x,c=a.x,u=i.y,d=o.y,f=a.y,p=s<l?s<c?s:c:l<c?l:c,y=u<d?u<f?u:f:d<f?d:f,b=s>l?s>c?s:c:l>c?l:c,x=u>d?u>f?u:f:d>f?d:f,v=i9(p,y,e,n,r),w=i9(b,x,e,n,r);let S=t.prevZ,C=t.nextZ;for(;S&&S.z>=v&&C&&C.z<=w;){if(S.x>=p&&S.x<=b&&S.y>=y&&S.y<=x&&S!==i&&S!==a&&Eh(s,u,l,d,c,f,S.x,S.y)&&Ar(S.prev,S,S.next)>=0||(S=S.prevZ,C.x>=p&&C.x<=b&&C.y>=y&&C.y<=x&&C!==i&&C!==a&&Eh(s,u,l,d,c,f,C.x,C.y)&&Ar(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;S&&S.z>=v;){if(S.x>=p&&S.x<=b&&S.y>=y&&S.y<=x&&S!==i&&S!==a&&Eh(s,u,l,d,c,f,S.x,S.y)&&Ar(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;C&&C.z<=w;){if(C.x>=p&&C.x<=b&&C.y>=y&&C.y<=x&&C!==i&&C!==a&&Eh(s,u,l,d,c,f,C.x,C.y)&&Ar(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function e1e(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!J6(i,o)&&GB(i,r,r.next,o)&&Rg(i,o)&&Rg(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),Ag(r),Ag(r.next),r=t=o),r=r.next}while(r!==t);return Dd(r)}function t1e(t,e,n,r,i,o){let a=t;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&u1e(a,s)){let l=VB(a,s);a=Dd(a,a.next),l=Dd(l,l.next),Mg(a,e,n,r,i,o,0),Mg(l,e,n,r,i,o,0);return}s=s.next}a=a.next}while(a!==t)}function n1e(t,e,n,r){const i=[];let o,a,s,l,c;for(o=0,a=e.length;o<a;o++)s=e[o]*r,l=o<a-1?e[o+1]*r:t.length,c=HB(t,s,l,r,!1),c===c.next&&(c.steiner=!0),i.push(c1e(c));for(i.sort(r1e),o=0;o<i.length;o++)n=i1e(i[o],n);return n}function r1e(t,e){return t.x-e.x}function i1e(t,e){const n=o1e(t,e);if(!n)return e;const r=VB(n,t);return Dd(r,r.next),Dd(n,n.next)}function o1e(t,e){let n=e,r=-1/0,i;const o=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const f=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=o&&f>r&&(r=f,i=n.x<n.next.x?n:n.next,f===o))return i}n=n.next}while(n!==e);if(!i)return null;const s=i,l=i.x,c=i.y;let u=1/0,d;n=i;do o>=n.x&&n.x>=l&&o!==n.x&&Eh(a<c?o:r,a,l,c,a<c?r:o,a,n.x,n.y)&&(d=Math.abs(a-n.y)/(o-n.x),Rg(n,t)&&(d<u||d===u&&(n.x>i.x||n.x===i.x&&a1e(i,n)))&&(i=n,u=d)),n=n.next;while(n!==s);return i}function a1e(t,e){return Ar(t.prev,t,e.prev)<0&&Ar(e.next,t,t.next)<0}function s1e(t,e,n,r){let i=t;do i.z===0&&(i.z=i9(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,l1e(i)}function l1e(t){let e,n,r,i,o,a,s,l,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ,!!r);e++);for(l=c;s>0||l>0&&r;)s!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1);return t}function i9(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function c1e(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Eh(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function u1e(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!d1e(t,e)&&(Rg(t,e)&&Rg(e,t)&&f1e(t,e)&&(Ar(t.prev,t,e.prev)||Ar(t,e.prev,e))||J6(t,e)&&Ar(t.prev,t,t.next)>0&&Ar(e.prev,e,e.next)>0)}function Ar(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function J6(t,e){return t.x===e.x&&t.y===e.y}function GB(t,e,n,r){const i=O1(Ar(t,e,n)),o=O1(Ar(t,e,r)),a=O1(Ar(n,r,t)),s=O1(Ar(n,r,e));return!!(i!==o&&a!==s||i===0&&N1(t,n,e)||o===0&&N1(t,r,e)||a===0&&N1(n,t,r)||s===0&&N1(n,e,r))}function N1(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function O1(t){return t>0?1:t<0?-1:0}function d1e(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&GB(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Rg(t,e){return Ar(t.prev,t,t.next)<0?Ar(t,e,t.next)>=0&&Ar(t,t.prev,e)>=0:Ar(t,e,t.prev)<0||Ar(t,t.next,e)<0}function f1e(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function VB(t,e){const n=new o9(t.i,t.x,t.y),r=new o9(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function BI(t,e,n,r){const i=new o9(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ag(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function o9(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function h1e(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}class js{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return js.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];zI(e),HI(r,e);let a=e.length;n.forEach(zI);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,HI(r,n[l]);const s=Zve.triangulate(r,i);for(let l=0;l<s.length;l+=3)o.push(s.slice(l,l+3));return o}}function zI(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function HI(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class ex extends wn{constructor(e=new vd([new Qe(.5,.5),new Qe(-.5,.5),new Qe(-.5,-.5),new Qe(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let s=0,l=e.length;s<l;s++){const c=e[s];a(c)}this.setAttribute("position",new Ut(i,3)),this.setAttribute("uv",new Ut(o,2)),this.computeVertexNormals();function a(s){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,p=n.bevelThickness!==void 0?n.bevelThickness:.2,y=n.bevelSize!==void 0?n.bevelSize:p-.1,b=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:p1e;let S,C=!1,_,T,M,I;v&&(S=v.getSpacedPoints(u),C=!0,f=!1,_=v.computeFrenetFrames(u,!1),T=new Q,M=new Q,I=new Q),f||(x=0,p=0,y=0,b=0);const R=s.extractPoints(c);let P=R.shape;const L=R.holes;if(!js.isClockWise(P)){P=P.reverse();for(let X=0,fe=L.length;X<fe;X++){const pe=L[X];js.isClockWise(pe)&&(L[X]=pe.reverse())}}const H=js.triangulateShape(P,L),D=P;for(let X=0,fe=L.length;X<fe;X++){const pe=L[X];P=P.concat(pe)}function G(X,fe,pe){return fe||console.error("THREE.ExtrudeGeometry: vec does not exist"),X.clone().addScaledVector(fe,pe)}const B=P.length,$=H.length;function O(X,fe,pe){let Ce,me,Ge;const ve=X.x-fe.x,Re=X.y-fe.y,Ae=pe.x-X.x,Le=pe.y-X.y,Je=ve*ve+Re*Re,K=ve*Le-Re*Ae;if(Math.abs(K)>Number.EPSILON){const j=Math.sqrt(Je),ae=Math.sqrt(Ae*Ae+Le*Le),Ee=fe.x-Re/j,Oe=fe.y+ve/j,je=pe.x-Le/ae,Be=pe.y+Ae/ae,Fe=((je-Ee)*Le-(Be-Oe)*Ae)/(ve*Le-Re*Ae);Ce=Ee+ve*Fe-X.x,me=Oe+Re*Fe-X.y;const Ue=Ce*Ce+me*me;if(Ue<=2)return new Qe(Ce,me);Ge=Math.sqrt(Ue/2)}else{let j=!1;ve>Number.EPSILON?Ae>Number.EPSILON&&(j=!0):ve<-Number.EPSILON?Ae<-Number.EPSILON&&(j=!0):Math.sign(Re)===Math.sign(Le)&&(j=!0),j?(Ce=-Re,me=ve,Ge=Math.sqrt(Je)):(Ce=ve,me=Re,Ge=Math.sqrt(Je/2))}return new Qe(Ce/Ge,me/Ge)}const z=[];for(let X=0,fe=D.length,pe=fe-1,Ce=X+1;X<fe;X++,pe++,Ce++)pe===fe&&(pe=0),Ce===fe&&(Ce=0),z[X]=O(D[X],D[pe],D[Ce]);const V=[];let F,W=z.concat();for(let X=0,fe=L.length;X<fe;X++){const pe=L[X];F=[];for(let Ce=0,me=pe.length,Ge=me-1,ve=Ce+1;Ce<me;Ce++,Ge++,ve++)Ge===me&&(Ge=0),ve===me&&(ve=0),F[Ce]=O(pe[Ce],pe[Ge],pe[ve]);V.push(F),W=W.concat(F)}for(let X=0;X<x;X++){const fe=X/x,pe=p*Math.cos(fe*Math.PI/2),Ce=y*Math.sin(fe*Math.PI/2)+b;for(let me=0,Ge=D.length;me<Ge;me++){const ve=G(D[me],z[me],Ce);re(ve.x,ve.y,-pe)}for(let me=0,Ge=L.length;me<Ge;me++){const ve=L[me];F=V[me];for(let Re=0,Ae=ve.length;Re<Ae;Re++){const Le=G(ve[Re],F[Re],Ce);re(Le.x,Le.y,-pe)}}}const q=y+b;for(let X=0;X<B;X++){const fe=f?G(P[X],W[X],q):P[X];C?(M.copy(_.normals[0]).multiplyScalar(fe.x),T.copy(_.binormals[0]).multiplyScalar(fe.y),I.copy(S[0]).add(M).add(T),re(I.x,I.y,I.z)):re(fe.x,fe.y,0)}for(let X=1;X<=u;X++)for(let fe=0;fe<B;fe++){const pe=f?G(P[fe],W[fe],q):P[fe];C?(M.copy(_.normals[X]).multiplyScalar(pe.x),T.copy(_.binormals[X]).multiplyScalar(pe.y),I.copy(S[X]).add(M).add(T),re(I.x,I.y,I.z)):re(pe.x,pe.y,d/u*X)}for(let X=x-1;X>=0;X--){const fe=X/x,pe=p*Math.cos(fe*Math.PI/2),Ce=y*Math.sin(fe*Math.PI/2)+b;for(let me=0,Ge=D.length;me<Ge;me++){const ve=G(D[me],z[me],Ce);re(ve.x,ve.y,d+pe)}for(let me=0,Ge=L.length;me<Ge;me++){const ve=L[me];F=V[me];for(let Re=0,Ae=ve.length;Re<Ae;Re++){const Le=G(ve[Re],F[Re],Ce);C?re(Le.x,Le.y+S[u-1].y,S[u-1].x+pe):re(Le.x,Le.y,d+pe)}}}Z(),ee();function Z(){const X=i.length/3;if(f){let fe=0,pe=B*fe;for(let Ce=0;Ce<$;Ce++){const me=H[Ce];ce(me[2]+pe,me[1]+pe,me[0]+pe)}fe=u+x*2,pe=B*fe;for(let Ce=0;Ce<$;Ce++){const me=H[Ce];ce(me[0]+pe,me[1]+pe,me[2]+pe)}}else{for(let fe=0;fe<$;fe++){const pe=H[fe];ce(pe[2],pe[1],pe[0])}for(let fe=0;fe<$;fe++){const pe=H[fe];ce(pe[0]+B*u,pe[1]+B*u,pe[2]+B*u)}}r.addGroup(X,i.length/3-X,0)}function ee(){const X=i.length/3;let fe=0;oe(D,fe),fe+=D.length;for(let pe=0,Ce=L.length;pe<Ce;pe++){const me=L[pe];oe(me,fe),fe+=me.length}r.addGroup(X,i.length/3-X,1)}function oe(X,fe){let pe=X.length;for(;--pe>=0;){const Ce=pe;let me=pe-1;me<0&&(me=X.length-1);for(let Ge=0,ve=u+x*2;Ge<ve;Ge++){const Re=B*Ge,Ae=B*(Ge+1),Le=fe+Ce+Re,Je=fe+me+Re,K=fe+me+Ae,j=fe+Ce+Ae;Se(Le,Je,K,j)}}}function re(X,fe,pe){l.push(X),l.push(fe),l.push(pe)}function ce(X,fe,pe){Pe(X),Pe(fe),Pe(pe);const Ce=i.length/3,me=w.generateTopUV(r,i,Ce-3,Ce-2,Ce-1);xe(me[0]),xe(me[1]),xe(me[2])}function Se(X,fe,pe,Ce){Pe(X),Pe(fe),Pe(Ce),Pe(fe),Pe(pe),Pe(Ce);const me=i.length/3,Ge=w.generateSideWallUV(r,i,me-6,me-3,me-2,me-1);xe(Ge[0]),xe(Ge[1]),xe(Ge[3]),xe(Ge[1]),xe(Ge[2]),xe(Ge[3])}function Pe(X){i.push(l[X*3+0]),i.push(l[X*3+1]),i.push(l[X*3+2])}function xe(X){o.push(X.x),o.push(X.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return m1e(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,a=e.shapes.length;o<a;o++){const s=n[e.shapes[o]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Ly[i.type]().fromJSON(i)),new ex(r,e.options)}}const p1e={generateTopUV:function(t,e,n,r,i){const o=e[n*3],a=e[n*3+1],s=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Qe(o,a),new Qe(s,l),new Qe(c,u)]},generateSideWallUV:function(t,e,n,r,i,o){const a=e[n*3],s=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],f=e[i*3],p=e[i*3+1],y=e[i*3+2],b=e[o*3],x=e[o*3+1],v=e[o*3+2];return Math.abs(s-u)<Math.abs(a-c)?[new Qe(a,1-l),new Qe(c,1-d),new Qe(f,1-y),new Qe(b,1-v)]:[new Qe(s,1-l),new Qe(u,1-d),new Qe(p,1-y),new Qe(x,1-v)]}};function m1e(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class tx extends uu{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new tx(e.radius,e.detail)}}class y3 extends uu{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new y3(e.radius,e.detail)}}class nx extends wn{constructor(e=.5,n=1,r=32,i=1,o=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],c=[],u=[];let d=e;const f=(n-e)/i,p=new Q,y=new Qe;for(let b=0;b<=i;b++){for(let x=0;x<=r;x++){const v=o+x/r*a;p.x=d*Math.cos(v),p.y=d*Math.sin(v),l.push(p.x,p.y,p.z),c.push(0,0,1),y.x=(p.x/n+1)/2,y.y=(p.y/n+1)/2,u.push(y.x,y.y)}d+=f}for(let b=0;b<i;b++){const x=b*(r+1);for(let v=0;v<r;v++){const w=v+x,S=w,C=w+r+1,_=w+r+2,T=w+1;s.push(S,C,T),s.push(C,_,T)}}this.setIndex(s),this.setAttribute("position",new Ut(l,3)),this.setAttribute("normal",new Ut(c,3)),this.setAttribute("uv",new Ut(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nx(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class rx extends wn{constructor(e=new vd([new Qe(0,.5),new Qe(-.5,-.5),new Qe(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],a=[];let s=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(s,l,u),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new Ut(i,3)),this.setAttribute("normal",new Ut(o,3)),this.setAttribute("uv",new Ut(a,2));function c(u){const d=i.length/3,f=u.extractPoints(n);let p=f.shape;const y=f.holes;js.isClockWise(p)===!1&&(p=p.reverse());for(let x=0,v=y.length;x<v;x++){const w=y[x];js.isClockWise(w)===!0&&(y[x]=w.reverse())}const b=js.triangulateShape(p,y);for(let x=0,v=y.length;x<v;x++){const w=y[x];p=p.concat(w)}for(let x=0,v=p.length;x<v;x++){const w=p[x];i.push(w.x,w.y,0),o.push(0,0,1),a.push(w.x,w.y)}for(let x=0,v=b.length;x<v;x++){const w=b[x],S=w[0]+d,C=w[1]+d,_=w[2]+d;r.push(S,C,_),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return g1e(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const a=n[e.shapes[i]];r.push(a)}return new rx(r,e.curveSegments)}}function g1e(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Jp extends wn{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:a,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+s,Math.PI);let c=0;const u=[],d=new Q,f=new Q,p=[],y=[],b=[],x=[];for(let v=0;v<=r;v++){const w=[],S=v/r;let C=0;v===0&&a===0?C=.5/n:v===r&&l===Math.PI&&(C=-.5/n);for(let _=0;_<=n;_++){const T=_/n;d.x=-e*Math.cos(i+T*o)*Math.sin(a+S*s),d.y=e*Math.cos(a+S*s),d.z=e*Math.sin(i+T*o)*Math.sin(a+S*s),y.push(d.x,d.y,d.z),f.copy(d).normalize(),b.push(f.x,f.y,f.z),x.push(T+C,1-S),w.push(c++)}u.push(w)}for(let v=0;v<r;v++)for(let w=0;w<n;w++){const S=u[v][w+1],C=u[v][w],_=u[v+1][w],T=u[v+1][w+1];(v!==0||a>0)&&p.push(S,C,T),(v!==r-1||l<Math.PI)&&p.push(C,_,T)}this.setIndex(p),this.setAttribute("position",new Ut(y,3)),this.setAttribute("normal",new Ut(b,3)),this.setAttribute("uv",new Ut(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jp(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class ix extends uu{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new ix(e.radius,e.detail)}}class ox extends wn{constructor(e=1,n=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const a=[],s=[],l=[],c=[],u=new Q,d=new Q,f=new Q;for(let p=0;p<=r;p++)for(let y=0;y<=i;y++){const b=y/i*o,x=p/r*Math.PI*2;d.x=(e+n*Math.cos(x))*Math.cos(b),d.y=(e+n*Math.cos(x))*Math.sin(b),d.z=n*Math.sin(x),s.push(d.x,d.y,d.z),u.x=e*Math.cos(b),u.y=e*Math.sin(b),f.subVectors(d,u).normalize(),l.push(f.x,f.y,f.z),c.push(y/i),c.push(p/r)}for(let p=1;p<=r;p++)for(let y=1;y<=i;y++){const b=(i+1)*p+y-1,x=(i+1)*(p-1)+y-1,v=(i+1)*(p-1)+y,w=(i+1)*p+y;a.push(b,x,w),a.push(x,v,w)}this.setIndex(a),this.setAttribute("position",new Ut(s,3)),this.setAttribute("normal",new Ut(l,3)),this.setAttribute("uv",new Ut(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ox(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class ax extends wn{constructor(e=1,n=.4,r=64,i=8,o=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:a},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],c=[],u=[],d=new Q,f=new Q,p=new Q,y=new Q,b=new Q,x=new Q,v=new Q;for(let S=0;S<=r;++S){const C=S/r*o*Math.PI*2;w(C,o,a,e,p),w(C+.01,o,a,e,y),x.subVectors(y,p),v.addVectors(y,p),b.crossVectors(x,v),v.crossVectors(b,x),b.normalize(),v.normalize();for(let _=0;_<=i;++_){const T=_/i*Math.PI*2,M=-n*Math.cos(T),I=n*Math.sin(T);d.x=p.x+(M*v.x+I*b.x),d.y=p.y+(M*v.y+I*b.y),d.z=p.z+(M*v.z+I*b.z),l.push(d.x,d.y,d.z),f.subVectors(d,p).normalize(),c.push(f.x,f.y,f.z),u.push(S/r),u.push(_/i)}}for(let S=1;S<=r;S++)for(let C=1;C<=i;C++){const _=(i+1)*(S-1)+(C-1),T=(i+1)*S+(C-1),M=(i+1)*S+C,I=(i+1)*(S-1)+C;s.push(_,T,I),s.push(T,M,I)}this.setIndex(s),this.setAttribute("position",new Ut(l,3)),this.setAttribute("normal",new Ut(c,3)),this.setAttribute("uv",new Ut(u,2));function w(S,C,_,T,M){const I=Math.cos(S),R=Math.sin(S),P=_/C*S,L=Math.cos(P);M.x=T*(2+L)*.5*I,M.y=T*(2+L)*R*.5,M.z=T*Math.sin(P)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ax(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class sx extends wn{constructor(e=new gE(new Q(-1,-1,0),new Q(-1,1,0),new Q(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const a=e.computeFrenetFrames(n,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new Q,l=new Q,c=new Qe;let u=new Q;const d=[],f=[],p=[],y=[];b(),this.setIndex(y),this.setAttribute("position",new Ut(d,3)),this.setAttribute("normal",new Ut(f,3)),this.setAttribute("uv",new Ut(p,2));function b(){for(let S=0;S<n;S++)x(S);x(o===!1?n:0),w(),v()}function x(S){u=e.getPointAt(S/n,u);const C=a.normals[S],_=a.binormals[S];for(let T=0;T<=i;T++){const M=T/i*Math.PI*2,I=Math.sin(M),R=-Math.cos(M);l.x=R*C.x+I*_.x,l.y=R*C.y+I*_.y,l.z=R*C.z+I*_.z,l.normalize(),f.push(l.x,l.y,l.z),s.x=u.x+r*l.x,s.y=u.y+r*l.y,s.z=u.z+r*l.z,d.push(s.x,s.y,s.z)}}function v(){for(let S=1;S<=n;S++)for(let C=1;C<=i;C++){const _=(i+1)*(S-1)+(C-1),T=(i+1)*S+(C-1),M=(i+1)*S+C,I=(i+1)*(S-1)+C;y.push(_,T,I),y.push(T,M,I)}}function w(){for(let S=0;S<=n;S++)for(let C=0;C<=i;C++)c.x=S/n,c.y=C/i,p.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new sx(new Ly[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class WB extends wn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new Q,o=new Q;if(e.index!==null){const a=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],f=d.start,p=d.count;for(let y=f,b=f+p;y<b;y+=3)for(let x=0;x<3;x++){const v=s.getX(y+x),w=s.getX(y+(x+1)%3);i.fromBufferAttribute(a,v),o.fromBufferAttribute(a,w),GI(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const a=e.attributes.position;for(let s=0,l=a.count/3;s<l;s++)for(let c=0;c<3;c++){const u=3*s+c,d=3*s+(c+1)%3;i.fromBufferAttribute(a,u),o.fromBufferAttribute(a,d),GI(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new Ut(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function GI(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var VI=Object.freeze({__proto__:null,BoxGeometry:cu,CapsuleGeometry:K6,CircleGeometry:Y6,ConeGeometry:Z6,CylinderGeometry:Qp,DodecahedronGeometry:Q6,EdgesGeometry:zB,ExtrudeGeometry:ex,IcosahedronGeometry:tx,LatheGeometry:v3,OctahedronGeometry:y3,PlaneGeometry:p3,PolyhedronGeometry:uu,RingGeometry:nx,ShapeGeometry:rx,SphereGeometry:Jp,TetrahedronGeometry:ix,TorusGeometry:ox,TorusKnotGeometry:ax,TubeGeometry:sx,WireframeGeometry:WB});class jB extends Mi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new St(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class XB extends Jo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class yE extends Mi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new St(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new St(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ys,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class qB extends yE{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Qe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return $r(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new St(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new St(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new St(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class KB extends Mi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new St(16777215),this.specular=new St(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new St(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ys,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=l3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class YB extends Mi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new St(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new St(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ys,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class ZB extends Mi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ys,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class QB extends Mi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new St(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new St(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ys,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=l3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class JB extends Mi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new St(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ys,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ez extends go{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function rd(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function tz(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function nz(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function a9(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,a=0;a!==r;++o){const s=n[o]*e;for(let l=0;l!==e;++l)i[a++]=t[s+l]}return i}function xE(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let a=o[r];if(a!==void 0)if(Array.isArray(a))do a=o[r],a!==void 0&&(e.push(o.time),n.push.apply(n,a)),o=t[i++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[r],a!==void 0&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do a=o[r],a!==void 0&&(e.push(o.time),n.push(a)),o=t[i++];while(o!==void 0)}function v1e(t,e,n,r,i=30){const o=t.clone();o.name=e;const a=[];for(let l=0;l<o.tracks.length;++l){const c=o.tracks[l],u=c.getValueSize(),d=[],f=[];for(let p=0;p<c.times.length;++p){const y=c.times[p]*i;if(!(y<n||y>=r)){d.push(c.times[p]);for(let b=0;b<u;++b)f.push(c.values[p*u+b])}}d.length!==0&&(c.times=rd(d,c.times.constructor),c.values=rd(f,c.values.constructor),a.push(c))}o.tracks=a;let s=1/0;for(let l=0;l<o.tracks.length;++l)s>o.tracks[l].times[0]&&(s=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*s);return o.resetDuration(),o}function y1e(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let a=0;a<i;++a){const s=n.tracks[a],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(v){return v.name===s.name&&v.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let f=0;const p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=p/3);const y=s.times.length-1;let b;if(o<=s.times[0]){const v=u,w=d-u;b=s.values.slice(v,w)}else if(o>=s.times[y]){const v=y*d+u,w=v+d-u;b=s.values.slice(v,w)}else{const v=s.createInterpolant(),w=u,S=d-u;v.evaluate(o),b=v.resultBuffer.slice(w,S)}l==="quaternion"&&new to().fromArray(b).normalize().conjugate().toArray(b);const x=c.times.length;for(let v=0;v<x;++v){const w=v*p+f;if(l==="quaternion")to.multiplyQuaternionsFlat(c.values,w,b,0,c.values,w);else{const S=p-f*2;for(let C=0;C<S;++C)c.values[w+C]-=b[C]}}}return t.blendMode=XC,t}const x1e={convertArray:rd,isTypedArray:tz,getKeyframeOrder:nz,sortedArray:a9,flattenJSON:xE,subclip:v1e,makeClipAdditive:y1e};class x3{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(o=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=o)){const s=n[1];e<s&&(r=2,o=s);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=o,o=n[--r-1],e>=o)break t}a=r,r=0;break n}break e}for(;r<a;){const s=r+a>>>1;e<n[s]?a=s:r=s+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let a=0;a!==i;++a)n[a]=r[o+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class rz extends x3{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ed,endingEnd:ed}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,a=e+1,s=i[o],l=i[a];if(s===void 0)switch(this.getSettings_().endingStart){case td:o=e,s=2*n-r;break;case bg:o=i.length-2,s=n+i[o]-i[o+1];break;default:o=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case td:a=e,l=2*r-n;break;case bg:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-s),this._weightNext=c/(l-r),this._offsetPrev=o*u,this._offsetNext=a*u}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,p=this._weightNext,y=(r-n)/(i-n),b=y*y,x=b*y,v=-f*x+2*f*b-f*y,w=(1+f)*x+(-1.5-2*f)*b+(-.5+f)*y+1,S=(-1-p)*x+(1.5+p)*b+.5*y,C=p*x-p*b;for(let _=0;_!==s;++_)o[_]=v*a[u+_]+w*a[c+_]+S*a[l+_]+C*a[d+_];return o}}class SE extends x3{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,u=(r-n)/(i-n),d=1-u;for(let f=0;f!==s;++f)o[f]=a[c+f]*d+a[l+f]*u;return o}}class iz extends x3{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class bs{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=rd(n,this.TimeBufferType),this.values=rd(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:rd(e.times,Array),values:rd(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new iz(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new SE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new rz(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case xg:n=this.InterpolantFactoryMethodDiscrete;break;case Sg:n=this.InterpolantFactoryMethodLinear;break;case T2:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return xg;case this.InterpolantFactoryMethodLinear:return Sg;case this.InterpolantFactoryMethodSmooth:return T2}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,a=i-1;for(;o!==i&&r[o]<e;)++o;for(;a!==-1&&r[a]>n;)--a;if(++a,o!==0||a!==i){o>=a&&(a=Math.max(a,1),o=a-1);const s=this.getValueSize();this.times=r.slice(o,a),this.values=this.values.slice(o*s,a*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let s=0;s!==o;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,a),e=!1;break}a=l}if(i!==void 0&&tz(i))for(let s=0,l=i.length;s!==l;++s){const c=i[s];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===T2,o=e.length-1;let a=1;for(let s=1;s<o;++s){let l=!1;const c=e[s],u=e[s+1];if(c!==u&&(s!==1||c!==e[0]))if(i)l=!0;else{const d=s*r,f=d-r,p=d+r;for(let y=0;y!==r;++y){const b=n[d+y];if(b!==n[f+y]||b!==n[p+y]){l=!0;break}}}if(l){if(s!==a){e[a]=e[s];const d=s*r,f=a*r;for(let p=0;p!==r;++p)n[f+p]=n[d+p]}++a}}if(o>0){e[a]=e[o];for(let s=o*r,l=a*r,c=0;c!==r;++c)n[l+c]=n[s+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}bs.prototype.TimeBufferType=Float32Array;bs.prototype.ValueBufferType=Float32Array;bs.prototype.DefaultInterpolation=Sg;class Wd extends bs{}Wd.prototype.ValueTypeName="bool";Wd.prototype.ValueBufferType=Array;Wd.prototype.DefaultInterpolation=xg;Wd.prototype.InterpolantFactoryMethodLinear=void 0;Wd.prototype.InterpolantFactoryMethodSmooth=void 0;class bE extends bs{}bE.prototype.ValueTypeName="color";class Pg extends bs{}Pg.prototype.ValueTypeName="number";class oz extends x3{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=(r-n)/(i-n);let c=e*s;for(let u=c+s;c!==u;c+=4)to.slerpFlat(o,0,a,c-s,a,c,l);return o}}class e0 extends bs{InterpolantFactoryMethodLinear(e){return new oz(this.times,this.values,this.getValueSize(),e)}}e0.prototype.ValueTypeName="quaternion";e0.prototype.DefaultInterpolation=Sg;e0.prototype.InterpolantFactoryMethodSmooth=void 0;class jd extends bs{}jd.prototype.ValueTypeName="string";jd.prototype.ValueBufferType=Array;jd.prototype.DefaultInterpolation=xg;jd.prototype.InterpolantFactoryMethodLinear=void 0;jd.prototype.InterpolantFactoryMethodSmooth=void 0;class Ig extends bs{}Ig.prototype.ValueTypeName="vector";class Ng{constructor(e,n=-1,r,i=A6){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Zo(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,s=r.length;a!==s;++a)n.push(b1e(r[a]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,a=r.length;o!==a;++o)n.push(bs.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,a=[];for(let s=0;s<o;s++){let l=[],c=[];l.push((s+o-1)%o,s,(s+1)%o),c.push(0,1,0);const u=nz(l);l=a9(l,1,u),c=a9(c,1,u),!i&&l[0]===0&&(l.push(o),c.push(c[0])),a.push(new Pg(".morphTargetInfluences["+n[s].name+"]",l,c).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const c=e[s],u=c.name.match(o);if(u&&u.length>1){const d=u[1];let f=i[d];f||(i[d]=f=[]),f.push(c)}}const a=[];for(const s in i)a.push(this.CreateFromMorphTargetSequence(s,i[s],n,r));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,f,p,y,b){if(p.length!==0){const x=[],v=[];xE(p,x,v,y),x.length!==0&&b.push(new d(f,x,v))}},i=[],o=e.name||"default",a=e.fps||30,s=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const p={};let y;for(y=0;y<f.length;y++)if(f[y].morphTargets)for(let b=0;b<f[y].morphTargets.length;b++)p[f[y].morphTargets[b]]=-1;for(const b in p){const x=[],v=[];for(let w=0;w!==f[y].morphTargets.length;++w){const S=f[y];x.push(S.time),v.push(S.morphTarget===b?1:0)}i.push(new Pg(".morphTargetInfluence["+b+"]",x,v))}l=p.length*a}else{const p=".bones["+n[d].name+"]";r(Ig,p+".position",f,"pos",i),r(e0,p+".quaternion",f,"rot",i),r(Ig,p+".scale",f,"scl",i)}}return i.length===0?null:new this(o,l,i,s)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function S1e(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Pg;case"vector":case"vector2":case"vector3":case"vector4":return Ig;case"color":return bE;case"quaternion":return e0;case"bool":case"boolean":return Wd;case"string":return jd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function b1e(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=S1e(t.type);if(t.times===void 0){const n=[],r=[];xE(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Fd={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class wE{constructor(e,n,r){const i=this;let o=!1,a=0,s=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){s++,o===!1&&i.onStart!==void 0&&i.onStart(u,a,s),o=!0},this.itemEnd=function(u){a++,i.onProgress!==void 0&&i.onProgress(u,a,s),a===s&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const p=c[d],y=c[d+1];if(p.global&&(p.lastIndex=0),p.test(u))return y}return null}}}const az=new wE;class Do{constructor(e){this.manager=e!==void 0?e:az,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Do.DEFAULT_MATERIAL_NAME="__DEFAULT";const wl={};class w1e extends Error{constructor(e,n){super(e),this.response=n}}class Xl extends Do{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Fd.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(wl[e]!==void 0){wl[e].push({onLoad:n,onProgress:r,onError:i});return}wl[e]=[],wl[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=wl[e],d=c.body.getReader(),f=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),p=f?parseInt(f):0,y=p!==0;let b=0;const x=new ReadableStream({start(v){w();function w(){d.read().then(({done:S,value:C})=>{if(S)v.close();else{b+=C.byteLength;const _=new ProgressEvent("progress",{lengthComputable:y,loaded:b,total:p});for(let T=0,M=u.length;T<M;T++){const I=u[T];I.onProgress&&I.onProgress(_)}v.enqueue(C),w()}})}}});return new Response(x)}else throw new w1e(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,s));case"json":return c.json();default:if(s===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(s),f=d&&d[1]?d[1].toLowerCase():void 0,p=new TextDecoder(f);return c.arrayBuffer().then(y=>p.decode(y))}}}).then(c=>{Fd.add(e,c);const u=wl[e];delete wl[e];for(let d=0,f=u.length;d<f;d++){const p=u[d];p.onLoad&&p.onLoad(c)}}).catch(c=>{const u=wl[e];if(u===void 0)throw this.manager.itemError(e),c;delete wl[e];for(let d=0,f=u.length;d<f;d++){const p=u[d];p.onError&&p.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class C1e extends Do{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new Xl(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Ng.parse(e[r]);n.push(i)}return n}}class E1e extends Do{constructor(e){super(e)}load(e,n,r,i){const o=this,a=[],s=new X6,l=new Xl(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let c=0;function u(d){l.load(e[d],function(f){const p=o.parse(f,!0);a[d]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},c+=1,c===6&&(p.mipmapCount===1&&(s.minFilter=Er),s.image=a,s.format=p.format,s.needsUpdate=!0,n&&n(s))},r,i)}if(Array.isArray(e))for(let d=0,f=e.length;d<f;++d)u(d);else l.load(e,function(d){const f=o.parse(d,!0);if(f.isCubemap){const p=f.mipmaps.length/f.mipmapCount;for(let y=0;y<p;y++){a[y]={mipmaps:[]};for(let b=0;b<f.mipmapCount;b++)a[y].mipmaps.push(f.mipmaps[y*f.mipmapCount+b]),a[y].format=f.format,a[y].width=f.width,a[y].height=f.height}s.image=a}else s.image.width=f.width,s.image.height=f.height,s.mipmaps=f.mipmaps;f.mipmapCount===1&&(s.minFilter=Er),s.format=f.format,s.needsUpdate=!0,n&&n(s)},r,i);return s}}class Og extends Do{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Fd.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a;const s=_g("img");function l(){u(),Fd.add(e,this),n&&n(this),o.manager.itemEnd(e)}function c(d){u(),i&&i(d),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){s.removeEventListener("load",l,!1),s.removeEventListener("error",c,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),o.manager.itemStart(e),s.src=e,s}}class _1e extends Do{constructor(e){super(e)}load(e,n,r,i){const o=new Yp;o.colorSpace=$t;const a=new Og(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let s=0;function l(c){a.load(e[c],function(u){o.images[c]=u,s++,s===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return o}}class T1e extends Do{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new jc,s=new Xl(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(o.withCredentials),s.load(e,function(l){let c;try{c=o.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:Ni,a.wrapT=c.wrapT!==void 0?c.wrapT:Ni,a.magFilter=c.magFilter!==void 0?c.magFilter:Er,a.minFilter=c.minFilter!==void 0?c.minFilter:Er,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?a.colorSpace=c.colorSpace:c.encoding!==void 0&&(a.encoding=c.encoding),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=hs),c.mipmapCount===1&&(a.minFilter=Er),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,n&&n(a,c)},r,i),a}}class M1e extends Do{constructor(e){super(e)}load(e,n,r,i){const o=new Nr,a=new Og(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(s){o.image=s,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class du extends jn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new St(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class sz extends du{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(jn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new St(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const hS=new on,WI=new Q,jI=new Q;class CE{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Qe(512,512),this.map=null,this.mapPass=null,this.matrix=new on,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new h3,this._frameExtents=new Qe(1,1),this._viewportCount=1,this._viewports=[new Tn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;WI.setFromMatrixPosition(e.matrixWorld),n.position.copy(WI),jI.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(jI),n.updateMatrixWorld(),hS.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(hS),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(hS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class R1e extends CE{constructor(){super(new Ur(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=_p*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class lz extends du{constructor(e,n,r=0,i=Math.PI/3,o=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(jn.DEFAULT_UP),this.updateMatrix(),this.target=new jn,this.distance=r,this.angle=i,this.penumbra=o,this.decay=a,this.map=null,this.shadow=new R1e}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const XI=new on,X0=new Q,pS=new Q;class A1e extends CE{constructor(){super(new Ur(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Qe(4,2),this._viewportCount=6,this._viewports=[new Tn(2,1,1,1),new Tn(0,1,1,1),new Tn(3,1,1,1),new Tn(1,1,1,1),new Tn(3,0,1,1),new Tn(1,0,1,1)],this._cubeDirections=[new Q(1,0,0),new Q(-1,0,0),new Q(0,0,1),new Q(0,0,-1),new Q(0,1,0),new Q(0,-1,0)],this._cubeUps=[new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,0,1),new Q(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),X0.setFromMatrixPosition(e.matrixWorld),r.position.copy(X0),pS.copy(r.position),pS.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(pS),r.updateMatrixWorld(),i.makeTranslation(-X0.x,-X0.y,-X0.z),XI.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(XI)}}class cz extends du{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new A1e}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class P1e extends CE{constructor(){super(new Nl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class uz extends du{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(jn.DEFAULT_UP),this.updateMatrix(),this.target=new jn,this.shadow=new P1e}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class dz extends du{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class fz extends du{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class hz{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Q)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*o),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*o)),n.addScaledVector(a[6],.315392*(3*o*o-1)),n.addScaledVector(a[7],1.092548*(r*o)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*o),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*o),n.addScaledVector(a[6],.743125*o*o-.247708),n.addScaledVector(a[7],2*.429043*r*o),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class pz extends du{constructor(e=new hz,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class lx extends Do{constructor(e){super(e),this.textures={}}load(e,n,r,i){const o=this,a=new Xl(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}const i=lx.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new St().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const a=e.uniforms[o];switch(i.uniforms[o]={},a.type){case"t":i.uniforms[o].value=r(a.value);break;case"c":i.uniforms[o].value=new St().setHex(a.value);break;case"v2":i.uniforms[o].value=new Qe().fromArray(a.value);break;case"v3":i.uniforms[o].value=new Q().fromArray(a.value);break;case"v4":i.uniforms[o].value=new Tn().fromArray(a.value);break;case"m3":i.uniforms[o].value=new mn().fromArray(a.value);break;case"m4":i.uniforms[o].value=new on().fromArray(a.value);break;default:i.uniforms[o].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new Qe().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Qe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:jB,SpriteMaterial:cE,RawShaderMaterial:XB,ShaderMaterial:Jo,PointsMaterial:dE,MeshPhysicalMaterial:qB,MeshStandardMaterial:yE,MeshPhongMaterial:KB,MeshToonMaterial:YB,MeshNormalMaterial:ZB,MeshLambertMaterial:QB,MeshDepthMaterial:aE,MeshDistanceMaterial:sE,MeshBasicMaterial:lu,MeshMatcapMaterial:JB,LineDashedMaterial:ez,LineBasicMaterial:go,Material:Mi};return new n[e]}}class s9{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class mz extends wn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class gz extends Do{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new Xl(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(p,y){if(n[y]!==void 0)return n[y];const x=p.interleavedBuffers[y],v=o(p,x.buffer),w=bh(x.type,v),S=new g3(w,x.stride);return S.uuid=x.uuid,n[y]=S,S}function o(p,y){if(r[y]!==void 0)return r[y];const x=p.arrayBuffers[y],v=new Uint32Array(x).buffer;return r[y]=v,v}const a=e.isInstancedBufferGeometry?new mz:new wn,s=e.data.index;if(s!==void 0){const p=bh(s.type,s.array);a.setIndex(new sr(p,1))}const l=e.data.attributes;for(const p in l){const y=l[p];let b;if(y.isInterleavedBufferAttribute){const x=i(e.data,y.data);b=new Jc(x,y.itemSize,y.offset,y.normalized)}else{const x=bh(y.type,y.array),v=y.isInstancedBufferAttribute?Rp:sr;b=new v(x,y.itemSize,y.normalized)}y.name!==void 0&&(b.name=y.name),y.usage!==void 0&&b.setUsage(y.usage),y.updateRange!==void 0&&(b.updateRange.offset=y.updateRange.offset,b.updateRange.count=y.updateRange.count),a.setAttribute(p,b)}const c=e.data.morphAttributes;if(c)for(const p in c){const y=c[p],b=[];for(let x=0,v=y.length;x<v;x++){const w=y[x];let S;if(w.isInterleavedBufferAttribute){const C=i(e.data,w.data);S=new Jc(C,w.itemSize,w.offset,w.normalized)}else{const C=bh(w.type,w.array);S=new sr(C,w.itemSize,w.normalized)}w.name!==void 0&&(S.name=w.name),b.push(S)}a.morphAttributes[p]=b}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let p=0,y=d.length;p!==y;++p){const b=d[p];a.addGroup(b.start,b.count,b.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const p=new Q;f.center!==void 0&&p.fromArray(f.center),a.boundingSphere=new xs(p,f.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class I1e extends Do{constructor(e){super(e)}load(e,n,r,i){const o=this,a=this.path===""?s9.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const s=new Xl(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?s9.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new Xl(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const a=await o.loadAsync(e,n),s=JSON.parse(a),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(c)}),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,o,l,s,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let d=!1;for(const f in a)if(a[f].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,s,a,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new vd().fromJSON(e[r]);n[o.uuid]=o}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=new j6().fromJSON(e[o],i);r[s.uuid]=s}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new gz;for(let o=0,a=e.length;o<a;o++){let s;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;default:l.type in VI?s=VI[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const o=new lx;o.setTextures(n);for(let a=0,s=e.length;a<s;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=o.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=Ng.parse(i);n[o.uuid]=o}return n}parseImages(e,n){const r=this,i={};let o;function a(l){return r.manager.itemStart(l),o.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return a(u)}else return l.data?{data:bh(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new wE(n);o=new Og(l),o.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],f=d.url;if(Array.isArray(f)){const p=[];for(let y=0,b=f.length;y<b;y++){const x=f[y],v=s(x);v!==null&&(v instanceof HTMLImageElement?p.push(v):p.push(new jc(v.data,v.width,v.height)))}i[d.uuid]=new nd(p)}else{const p=s(d.url);i[d.uuid]=new nd(p)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function o(a){if(typeof a=="string"){const s=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:n.resourcePath+s;return await i.loadAsync(l)}else return a.data?{data:bh(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new Og(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,s=e.length;a<s;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,f=c.length;d<f;d++){const p=c[d],y=await o(p);y!==null&&(y instanceof HTMLImageElement?u.push(y):u.push(new jc(y.data,y.width,y.height)))}r[l.uuid]=new nd(u)}else{const u=await o(l.url);r[l.uuid]=new nd(u)}}}return r}parseTextures(e,n){function r(o,a){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),a[o])}const i={};if(e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=e[o];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const l=n[s.image],c=l.data;let u;Array.isArray(c)?(u=new Yp,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new jc:u=new Nr,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=s.uuid,s.name!==void 0&&(u.name=s.name),s.mapping!==void 0&&(u.mapping=r(s.mapping,N1e)),s.channel!==void 0&&(u.channel=s.channel),s.offset!==void 0&&u.offset.fromArray(s.offset),s.repeat!==void 0&&u.repeat.fromArray(s.repeat),s.center!==void 0&&u.center.fromArray(s.center),s.rotation!==void 0&&(u.rotation=s.rotation),s.wrap!==void 0&&(u.wrapS=r(s.wrap[0],qI),u.wrapT=r(s.wrap[1],qI)),s.format!==void 0&&(u.format=s.format),s.internalFormat!==void 0&&(u.internalFormat=s.internalFormat),s.type!==void 0&&(u.type=s.type),s.colorSpace!==void 0&&(u.colorSpace=s.colorSpace),s.encoding!==void 0&&(u.encoding=s.encoding),s.minFilter!==void 0&&(u.minFilter=r(s.minFilter,KI)),s.magFilter!==void 0&&(u.magFilter=r(s.magFilter,KI)),s.anisotropy!==void 0&&(u.anisotropy=s.anisotropy),s.flipY!==void 0&&(u.flipY=s.flipY),s.generateMipmaps!==void 0&&(u.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(u.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(u.compareFunction=s.compareFunction),s.userData!==void 0&&(u.userData=s.userData),i[s.uuid]=u}return i}parseObject(e,n,r,i,o){let a;function s(f){return n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),n[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const p=[];for(let y=0,b=f.length;y<b;y++){const x=f[y];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),p.push(r[x])}return p}return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),r[f]}}function c(f){return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),i[f]}let u,d;switch(e.type){case"Scene":a=new Mp,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new St(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new W6(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new V6(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new Ur(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Nl(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new dz(e.color,e.intensity);break;case"DirectionalLight":a=new uz(e.color,e.intensity);break;case"PointLight":a=new cz(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new fz(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new lz(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new sz(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new pz().fromJSON(e);break;case"SkinnedMesh":u=s(e.geometry),d=l(e.material),a=new NB(u,d),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":u=s(e.geometry),d=l(e.material),a=new fi(u,d);break;case"InstancedMesh":u=s(e.geometry),d=l(e.material);const f=e.count,p=e.instanceMatrix,y=e.instanceColor;a=new OB(u,d,f),a.instanceMatrix=new Rp(new Float32Array(p.array),16),y!==void 0&&(a.instanceColor=new Rp(new Float32Array(y.array),y.itemSize));break;case"LOD":a=new IB;break;case"Line":a=new eu(s(e.geometry),l(e.material));break;case"LineLoop":a=new LB(s(e.geometry),l(e.material));break;case"LineSegments":a=new nl(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new DB(s(e.geometry),l(e.material));break;case"Sprite":a=new PB(l(e.material));break;case"Group":a=new Ch;break;case"Bone":a=new uE;break;default:a=new jn}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let p=0;p<f.length;p++)a.add(this.parseObject(f[p],n,r,i,o))}if(e.animations!==void 0){const f=e.animations;for(let p=0;p<f.length;p++){const y=f[p];a.animations.push(o[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const f=e.levels;for(let p=0;p<f.length;p++){const y=f[p],b=a.getObjectByProperty("uuid",y.object);b!==void 0&&a.addLevel(b,y.distance,y.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const N1e={UVMapping:S6,CubeReflectionMapping:fs,CubeRefractionMapping:Ks,EquirectangularReflectionMapping:Zc,EquirectangularRefractionMapping:Qc,CubeUVReflectionMapping:qp},qI={RepeatWrapping:Nd,ClampToEdgeWrapping:Ni,MirroredRepeatWrapping:Od},KI={NearestFilter:Wn,NearestMipmapNearestFilter:Ld,NearestMipmapLinearFilter:Dl,LinearFilter:Er,LinearMipmapNearestFilter:b6,LinearMipmapLinearFilter:hs};class O1e extends Do{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Fd.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a;const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader,fetch(e,s).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(l){Fd.add(e,l),n&&n(l),o.manager.itemEnd(e)}).catch(function(l){i&&i(l),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}}let L1;class EE{static getContext(){return L1===void 0&&(L1=new(window.AudioContext||window.webkitAudioContext)),L1}static setContext(e){L1=e}}class L1e extends Do{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new Xl(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);EE.getContext().decodeAudioData(c,function(d){n(d)},s)}catch(c){s(c)}},r,i);function s(l){i?i(l):console.error(l),o.manager.itemError(e)}}}const YI=new on,ZI=new on,Mu=new on;class D1e{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ur,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ur,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Mu.copy(e.projectionMatrix);const i=n.eyeSep/2,o=i*n.near/n.focus,a=n.near*Math.tan(md*n.fov*.5)/n.zoom;let s,l;ZI.elements[12]=-i,YI.elements[12]=i,s=-a*n.aspect+o,l=a*n.aspect+o,Mu.elements[0]=2*n.near/(l-s),Mu.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(Mu),s=-a*n.aspect-o,l=a*n.aspect-o,Mu.elements[0]=2*n.near/(l-s),Mu.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(Mu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(ZI),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(YI)}}class _E{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=QI(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=QI();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function QI(){return(typeof performance>"u"?Date:performance).now()}const Ru=new Q,JI=new to,F1e=new Q,Au=new Q;class $1e extends jn{constructor(){super(),this.type="AudioListener",this.context=EE.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new _E}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ru,JI,F1e),Au.set(0,0,-1).applyQuaternion(JI),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Ru.x,i),n.positionY.linearRampToValueAtTime(Ru.y,i),n.positionZ.linearRampToValueAtTime(Ru.z,i),n.forwardX.linearRampToValueAtTime(Au.x,i),n.forwardY.linearRampToValueAtTime(Au.y,i),n.forwardZ.linearRampToValueAtTime(Au.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Ru.x,Ru.y,Ru.z),n.setOrientation(Au.x,Au.y,Au.z,r.x,r.y,r.z)}}class vz extends jn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Pu=new Q,eN=new to,U1e=new Q,Iu=new Q;class k1e extends vz{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Pu,eN,U1e),Iu.set(0,0,1).applyQuaternion(eN);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Pu.x,r),n.positionY.linearRampToValueAtTime(Pu.y,r),n.positionZ.linearRampToValueAtTime(Pu.z,r),n.orientationX.linearRampToValueAtTime(Iu.x,r),n.orientationY.linearRampToValueAtTime(Iu.y,r),n.orientationZ.linearRampToValueAtTime(Iu.z,r)}else n.setPosition(Pu.x,Pu.y,Pu.z),n.setOrientation(Iu.x,Iu.y,Iu.z)}}class B1e{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class yz{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,a;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let s=0;s!==i;++s)r[o+s]=r[s];a=n}else{a+=n;const s=n/a;this._mixBufferRegion(r,o,0,s,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,a=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-o,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,a=i;o!==a;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let a=0;a!==o;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){to.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const a=this._workIndex*o;to.multiplyQuaternionsFlat(e,a,e,n,e,r),to.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,o){const a=1-i;for(let s=0;s!==o;++s){const l=n+s;e[l]=e[l]*a+e[r+s]*i}}_lerpAdditive(e,n,r,i,o){for(let a=0;a!==o;++a){const s=n+a;e[s]=e[s]+e[r+a]*i}}}const TE="\\[\\]\\.:\\/",z1e=new RegExp("["+TE+"]","g"),ME="[^"+TE+"]",H1e="[^"+TE.replace("\\.","")+"]",G1e=/((?:WC+[\/:])*)/.source.replace("WC",ME),V1e=/(WCOD+)?/.source.replace("WCOD",H1e),W1e=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ME),j1e=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ME),X1e=new RegExp("^"+G1e+V1e+W1e+j1e+"$"),q1e=["material","materials","bones","map"];class K1e{constructor(e,n,r){const i=r||Bn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Bn{constructor(e,n,r){this.path=n,this.parsedPath=r||Bn.parseTrackName(n),this.node=Bn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Bn.Composite(e,n,r):new Bn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(z1e,"")}static parseTrackName(e){const n=X1e.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);q1e.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let a=0;a<o.length;a++){const s=o[a];if(s.name===n||s.uuid===n)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=Bn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[i];if(a===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Bn.Composite=K1e;Bn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Bn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Bn.prototype.GetterByBindingType=[Bn.prototype._getValue_direct,Bn.prototype._getValue_array,Bn.prototype._getValue_arrayElement,Bn.prototype._getValue_toArray];Bn.prototype.SetterByBindingTypeAndVersioning=[[Bn.prototype._setValue_direct,Bn.prototype._setValue_direct_setNeedsUpdate,Bn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Bn.prototype._setValue_array,Bn.prototype._setValue_array_setNeedsUpdate,Bn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Bn.prototype._setValue_arrayElement,Bn.prototype._setValue_arrayElement_setNeedsUpdate,Bn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Bn.prototype._setValue_fromArray,Bn.prototype._setValue_fromArray_setNeedsUpdate,Bn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Y1e{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Zo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length;let s,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const f=arguments[u],p=f.uuid;let y=n[p];if(y===void 0){y=l++,n[p]=y,e.push(f);for(let b=0,x=a;b!==x;++b)o[b].push(new Bn(f,r[b],i[b]))}else if(y<c){s=e[y];const b=--c,x=e[b];n[x.uuid]=y,e[y]=x,n[p]=b,e[b]=f;for(let v=0,w=a;v!==w;++v){const S=o[v],C=S[b];let _=S[y];S[y]=C,_===void 0&&(_=new Bn(f,r[v],i[v])),S[b]=_}}else e[y]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let a=0,s=arguments.length;a!==s;++a){const l=arguments[a],c=l.uuid,u=n[c];if(u!==void 0&&u>=o){const d=o++,f=e[d];n[f.uuid]=u,e[u]=f,n[c]=d,e[d]=l;for(let p=0,y=i;p!==y;++p){const b=r[p],x=b[d],v=b[u];b[u]=x,b[d]=v}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,a=e.length;for(let s=0,l=arguments.length;s!==l;++s){const c=arguments[s],u=c.uuid,d=n[u];if(d!==void 0)if(delete n[u],d<o){const f=--o,p=e[f],y=--a,b=e[y];n[p.uuid]=d,e[d]=p,n[b.uuid]=f,e[f]=b,e.pop();for(let x=0,v=i;x!==v;++x){const w=r[x],S=w[f],C=w[y];w[d]=S,w[f]=C,w.pop()}}else{const f=--a,p=e[f];f>0&&(n[p.uuid]=d),e[d]=p,e.pop();for(let y=0,b=i;y!==b;++y){const x=r[y];x[d]=x[f],x.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const a=this._paths,s=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);i=o.length,r[e]=i,a.push(e),s.push(n),o.push(d);for(let f=u,p=l.length;f!==p;++f){const y=l[f];d[f]=new Bn(y,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length-1,l=a[s],c=e[s];n[c]=r,a[r]=l,a.pop(),o[r]=o[s],o.pop(),i[r]=i[s],i.pop()}}}class xz{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,a=o.length,s=new Array(a),l={endingStart:ed,endingEnd:ed};for(let c=0;c!==a;++c){const u=o[c].createInterpolant(null);s[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Qk,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,o=e._clip.duration,a=o/i,s=i/o;e.warp(1,a,n),this.warp(s,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,a=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,c=s.sampleValues;return l[0]=o,l[1]=o+r,c[0]=e/a,c[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),s=this._updateWeight(e);if(s>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case XC:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(a),c[u].accumulateAdditive(s);break;case A6:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(a),c[u].accumulate(i,s)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const a=r===Jk;if(e===0)return o===-1?i:a&&(o&1)===1?n-i:i;if(r===Zk){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const s=Math.floor(i/n);i-=n*s,o+=Math.abs(s);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(a&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=td,i.endingEnd=td):(e?i.endingStart=this.zeroSlopeAtStart?td:ed:i.endingStart=bg,n?i.endingEnd=this.zeroSlopeAtEnd?td:ed:i.endingEnd=bg)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=o,l[0]=n,s[1]=o+e,l[1]=r,this}}const Z1e=new Float32Array(1);class Q1e extends ys{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,a=e._propertyBindings,s=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==o;++d){const f=i[d],p=f.name;let y=u[p];if(y!==void 0)++y.referenceCount,a[d]=y;else{if(y=a[d],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,p));continue}const b=n&&n._propertyBindings[d].binding.parsedPath;y=new yz(Bn.create(r,p,b),f.ValueTypeName,f.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,p),a[d]=y}s[d].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let a=o[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=a;else{const s=a.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,a=this._actionsByClip,s=a[o],l=s.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=s.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete a[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,a=this._bindingsByRootAndName,s=a[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete s[o],Object.keys(s).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new SE(new Float32Array(2),new Float32Array(2),1,Z1e),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let a=typeof e=="string"?Ng.findByName(i,e):e;const s=a!==null?a.uuid:e,l=this._actionsByClip[s];let c=null;if(r===void 0&&(a!==null?r=a.blendMode:r=A6),l!==void 0){const d=l.actionByRoot[o];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const u=new xz(this,a,n,r);return this._bindAction(u,c),this._addInactiveAction(u,s,o),u}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?Ng.findByName(r,e):e,a=o?o.uuid:e,s=this._actionsByClip[a];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,o,a);const s=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)s[c].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const a=o.knownActions;for(let s=0,l=a.length;s!==l;++s){const c=a[s];this._deactivateAction(c);const u=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,n[u]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const s=r[a].actionByRoot,l=s[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const a in o){const s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}let J1e=class Sz{constructor(e){this.value=e}clone(){return new Sz(this.value.clone===void 0?this.value:this.value.clone())}},e2e=0,t2e=class extends ys{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:e2e++}),this.name="",this.usage=Cp,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}};class bz extends g3{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class n2e{constructor(e,n,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class wz{constructor(e,n,r=0,i=1/0){this.ray=new Vd(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new gd,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return l9(e,this,r,n),r.sort(tN),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)l9(e[i],this,r,n);return r.sort(tN),r}}function tN(t,e){return t.distance-e.distance}function l9(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let o=0,a=i.length;o<a;o++)l9(i[o],e,n,!0)}}class c9{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos($r(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class r2e{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const nN=new Qe;class i2e{constructor(e=new Qe(1/0,1/0),n=new Qe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=nN.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,nN).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const rN=new Q,D1=new Q;class o2e{constructor(e=new Q,n=new Q){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){rN.subVectors(e,this.start),D1.subVectors(this.end,this.start);const r=D1.dot(D1);let o=D1.dot(rN)/r;return n&&(o=$r(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const iN=new Q;class a2e extends jn{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new wn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,s=1,l=32;a<l;a++,s++){const c=a/l*Math.PI*2,u=s/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new Ut(i,3));const o=new go({fog:!1,toneMapped:!1});this.cone=new nl(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),iN.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(iN),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const gc=new Q,F1=new on,mS=new on;class s2e extends nl{constructor(e){const n=Cz(e),r=new wn,i=[],o=[],a=new St(0,0,1),s=new St(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(a.r,a.g,a.b),o.push(s.r,s.g,s.b))}r.setAttribute("position",new Ut(i,3)),r.setAttribute("color",new Ut(o,3));const l=new go({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");mS.copy(this.root.matrixWorld).invert();for(let o=0,a=0;o<n.length;o++){const s=n[o];s.parent&&s.parent.isBone&&(F1.multiplyMatrices(mS,s.matrixWorld),gc.setFromMatrixPosition(F1),i.setXYZ(a,gc.x,gc.y,gc.z),F1.multiplyMatrices(mS,s.parent.matrixWorld),gc.setFromMatrixPosition(F1),i.setXYZ(a+1,gc.x,gc.y,gc.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Cz(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,Cz(t.children[n]));return e}class l2e extends fi{constructor(e,n,r){const i=new Jp(n,4,2),o=new lu({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const c2e=new Q,oN=new St,aN=new St;class u2e extends jn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new y3(n);i.rotateY(Math.PI*.5),this.material=new lu({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),a=new Float32Array(o.count*3);i.setAttribute("color",new sr(a,3)),this.add(new fi(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");oN.copy(this.light.color),aN.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?oN:aN;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(c2e.setFromMatrixPosition(this.light.matrixWorld).negate())}}class d2e extends nl{constructor(e=10,n=10,r=4473924,i=8947848){r=new St(r),i=new St(i);const o=n/2,a=e/n,s=e/2,l=[],c=[];for(let f=0,p=0,y=-s;f<=n;f++,y+=a){l.push(-s,0,y,s,0,y),l.push(y,0,-s,y,0,s);const b=f===o?r:i;b.toArray(c,p),p+=3,b.toArray(c,p),p+=3,b.toArray(c,p),p+=3,b.toArray(c,p),p+=3}const u=new wn;u.setAttribute("position",new Ut(l,3)),u.setAttribute("color",new Ut(c,3));const d=new go({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class f2e extends nl{constructor(e=10,n=16,r=8,i=64,o=4473924,a=8947848){o=new St(o),a=new St(a);const s=[],l=[];if(n>1)for(let d=0;d<n;d++){const f=d/n*(Math.PI*2),p=Math.sin(f)*e,y=Math.cos(f)*e;s.push(0,0,0),s.push(p,0,y);const b=d&1?o:a;l.push(b.r,b.g,b.b),l.push(b.r,b.g,b.b)}for(let d=0;d<r;d++){const f=d&1?o:a,p=e-e/r*d;for(let y=0;y<i;y++){let b=y/i*(Math.PI*2),x=Math.sin(b)*p,v=Math.cos(b)*p;s.push(x,0,v),l.push(f.r,f.g,f.b),b=(y+1)/i*(Math.PI*2),x=Math.sin(b)*p,v=Math.cos(b)*p,s.push(x,0,v),l.push(f.r,f.g,f.b)}}const c=new wn;c.setAttribute("position",new Ut(s,3)),c.setAttribute("color",new Ut(l,3));const u=new go({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const sN=new Q,$1=new Q,lN=new Q;class h2e extends jn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new wn;i.setAttribute("position",new Ut([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new go({fog:!1,toneMapped:!1});this.lightPlane=new eu(i,o),this.add(this.lightPlane),i=new wn,i.setAttribute("position",new Ut([0,0,0,0,0,1],3)),this.targetLine=new eu(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),sN.setFromMatrixPosition(this.light.matrixWorld),$1.setFromMatrixPosition(this.light.target.matrixWorld),lN.subVectors($1,sN),this.lightPlane.lookAt($1),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt($1),this.targetLine.scale.z=lN.length()}}const U1=new Q,Dr=new f3;class p2e extends nl{constructor(e){const n=new wn,r=new go({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],a={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(y,b){l(y),l(b)}function l(y){i.push(0,0,0),o.push(0,0,0),a[y]===void 0&&(a[y]=[]),a[y].push(i.length/3-1)}n.setAttribute("position",new Ut(i,3)),n.setAttribute("color",new Ut(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new St(16755200),u=new St(16711680),d=new St(43775),f=new St(16777215),p=new St(3355443);this.setColors(c,u,d,f,p)}setColors(e,n,r,i,o){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,n.r,n.g,n.b),s.setXYZ(25,n.r,n.g,n.b),s.setXYZ(26,n.r,n.g,n.b),s.setXYZ(27,n.r,n.g,n.b),s.setXYZ(28,n.r,n.g,n.b),s.setXYZ(29,n.r,n.g,n.b),s.setXYZ(30,n.r,n.g,n.b),s.setXYZ(31,n.r,n.g,n.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,o.r,o.g,o.b),s.setXYZ(41,o.r,o.g,o.b),s.setXYZ(42,o.r,o.g,o.b),s.setXYZ(43,o.r,o.g,o.b),s.setXYZ(44,o.r,o.g,o.b),s.setXYZ(45,o.r,o.g,o.b),s.setXYZ(46,o.r,o.g,o.b),s.setXYZ(47,o.r,o.g,o.b),s.setXYZ(48,o.r,o.g,o.b),s.setXYZ(49,o.r,o.g,o.b),s.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Dr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Vr("c",n,e,Dr,0,0,-1),Vr("t",n,e,Dr,0,0,1),Vr("n1",n,e,Dr,-r,-i,-1),Vr("n2",n,e,Dr,r,-i,-1),Vr("n3",n,e,Dr,-r,i,-1),Vr("n4",n,e,Dr,r,i,-1),Vr("f1",n,e,Dr,-r,-i,1),Vr("f2",n,e,Dr,r,-i,1),Vr("f3",n,e,Dr,-r,i,1),Vr("f4",n,e,Dr,r,i,1),Vr("u1",n,e,Dr,r*.7,i*1.1,-1),Vr("u2",n,e,Dr,-r*.7,i*1.1,-1),Vr("u3",n,e,Dr,0,i*2,-1),Vr("cf1",n,e,Dr,-r,0,1),Vr("cf2",n,e,Dr,r,0,1),Vr("cf3",n,e,Dr,0,-i,1),Vr("cf4",n,e,Dr,0,i,1),Vr("cn1",n,e,Dr,-r,0,-1),Vr("cn2",n,e,Dr,r,0,-1),Vr("cn3",n,e,Dr,0,-i,-1),Vr("cn4",n,e,Dr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Vr(t,e,n,r,i,o,a){U1.set(i,o,a).unproject(r);const s=e[t];if(s!==void 0){const l=n.getAttribute("position");for(let c=0,u=s.length;c<u;c++)l.setXYZ(s[c],U1.x,U1.y,U1.z)}}const k1=new tl;class m2e extends nl{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new wn;o.setIndex(new sr(r,1)),o.setAttribute("position",new sr(i,3)),super(o,new go({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&k1.setFromObject(this.object),k1.isEmpty())return;const n=k1.min,r=k1.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class g2e extends nl{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new wn;o.setIndex(new sr(r,1)),o.setAttribute("position",new Ut(i,3)),super(o,new go({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class v2e extends eu{constructor(e,n=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new wn;a.setAttribute("position",new Ut(o,3)),a.computeBoundingSphere(),super(a,new go({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new wn;l.setAttribute("position",new Ut(s,3)),l.computeBoundingSphere(),this.add(new fi(l,new lu({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const cN=new Q;let B1,gS;class y2e extends jn{constructor(e=new Q(0,0,1),n=new Q(0,0,0),r=1,i=16776960,o=r*.2,a=o*.2){super(),this.type="ArrowHelper",B1===void 0&&(B1=new wn,B1.setAttribute("position",new Ut([0,0,0,0,1,0],3)),gS=new Qp(0,.5,1,5,1),gS.translate(0,-.5,0)),this.position.copy(n),this.line=new eu(B1,new go({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new fi(gS,new lu({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{cN.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(cN,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class x2e extends nl{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new wn;i.setAttribute("position",new Ut(n,3)),i.setAttribute("color",new Ut(r,3));const o=new go({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){const i=new St,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class S2e{constructor(){this.type="ShapePath",this.color=new St,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Tg,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,a){return this.currentPath.bezierCurveTo(e,n,r,i,o,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(v){const w=[];for(let S=0,C=v.length;S<C;S++){const _=v[S],T=new vd;T.curves=_.curves,w.push(T)}return w}function r(v,w){const S=w.length;let C=!1;for(let _=S-1,T=0;T<S;_=T++){let M=w[_],I=w[T],R=I.x-M.x,P=I.y-M.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(M=w[T],R=-R,I=w[_],P=-P),v.y<M.y||v.y>I.y)continue;if(v.y===M.y){if(v.x===M.x)return!0}else{const L=P*(v.x-M.x)-R*(v.y-M.y);if(L===0)return!0;if(L<0)continue;C=!C}}else{if(v.y!==M.y)continue;if(I.x<=v.x&&v.x<=M.x||M.x<=v.x&&v.x<=I.x)return!0}}return C}const i=js.isClockWise,o=this.subPaths;if(o.length===0)return[];let a,s,l;const c=[];if(o.length===1)return s=o[0],l=new vd,l.curves=s.curves,c.push(l),c;let u=!i(o[0].getPoints());u=e?!u:u;const d=[],f=[];let p=[],y=0,b;f[y]=void 0,p[y]=[];for(let v=0,w=o.length;v<w;v++)s=o[v],b=s.getPoints(),a=i(b),a=e?!a:a,a?(!u&&f[y]&&y++,f[y]={s:new vd,p:b},f[y].s.curves=s.curves,u&&y++,p[y]=[]):p[y].push({h:s,p:b[0]});if(!f[0])return n(o);if(f.length>1){let v=!1,w=0;for(let S=0,C=f.length;S<C;S++)d[S]=[];for(let S=0,C=f.length;S<C;S++){const _=p[S];for(let T=0;T<_.length;T++){const M=_[T];let I=!0;for(let R=0;R<f.length;R++)r(M.p,f[R].p)&&(S!==R&&w++,I?(I=!1,d[R].push(M)):v=!0);I&&d[S].push(M)}}w>0&&v===!1&&(p=d)}let x;for(let v=0,w=f.length;v<w;v++){l=f[v].s,c.push(l),x=p[v];for(let S=0,C=x.length;S<C;S++)l.holes.push(x[S].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Gd}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Gd);const b2e=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:x6,AddEquation:jo,AddOperation:Kk,AdditiveAnimationBlendMode:XC,AdditiveBlending:Ad,AlphaFormat:HC,AlwaysCompare:U6,AlwaysDepth:h6,AlwaysStencilFunc:KC,AmbientLight:dz,AnimationAction:xz,AnimationClip:Ng,AnimationLoader:C1e,AnimationMixer:Q1e,AnimationObjectGroup:Y1e,AnimationUtils:x1e,ArcCurve:FB,ArrayCamera:MB,ArrowHelper:y2e,Audio:vz,AudioAnalyser:B1e,AudioContext:EE,AudioListener:$1e,AudioLoader:L1e,AxesHelper:x2e,BackSide:Kr,BasicDepthPacking:eB,BasicShadowMap:Xk,Bone:uE,BooleanKeyframeTrack:Wd,Box2:i2e,Box3:tl,Box3Helper:g2e,BoxGeometry:cu,BoxHelper:m2e,BufferAttribute:sr,BufferGeometry:wn,BufferGeometryLoader:gz,ByteType:BC,Cache:Fd,Camera:f3,CameraHelper:p2e,CanvasTexture:Gve,CapsuleGeometry:K6,CatmullRomCurve3:$B,CineonToneMapping:kC,CircleGeometry:Y6,ClampToEdgeWrapping:Ni,Clock:_E,Color:St,ColorKeyframeTrack:bE,ColorManagement:Qn,CompressedArrayTexture:zve,CompressedCubeTexture:Hve,CompressedTexture:X6,CompressedTextureLoader:E1e,ConeGeometry:Z6,CubeCamera:rE,CubeReflectionMapping:fs,CubeRefractionMapping:Ks,CubeTexture:Yp,CubeTextureLoader:_1e,CubeUVReflectionMapping:qp,CubicBezierCurve:hE,CubicBezierCurve3:UB,CubicInterpolant:rz,CullFaceBack:Ay,CullFaceFront:FC,CullFaceFrontBack:rpe,CullFaceNone:DC,Curve:Ss,CurvePath:BB,CustomBlending:e6,CustomToneMapping:Yk,CylinderGeometry:Qp,Cylindrical:r2e,Data3DTexture:eE,DataArrayTexture:B6,DataTexture:jc,DataTextureLoader:T1e,DataUtils:Ype,DecrementStencilOp:oB,DecrementWrapStencilOp:sB,DefaultLoadingManager:az,DepthFormat:Aa,DepthStencilFormat:ps,DepthTexture:m3,DirectionalLight:uz,DirectionalLightHelper:h2e,DiscreteInterpolant:iz,DisplayP3ColorSpace:I6,DodecahedronGeometry:Q6,DoubleSide:co,DstAlphaFactor:s6,DstColorFactor:c6,DynamicCopyUsage:vpe,DynamicDrawUsage:k6,DynamicReadUsage:ppe,EdgesGeometry:zB,EllipseCurve:q6,EqualCompare:O6,EqualDepth:m6,EqualStencilFunc:dB,EquirectangularReflectionMapping:Zc,EquirectangularRefractionMapping:Qc,Euler:d3,EventDispatcher:ys,ExtrudeGeometry:ex,FileLoader:Xl,Float16BufferAttribute:tE,Float32BufferAttribute:Ut,Float64BufferAttribute:n0e,FloatType:Xr,Fog:W6,FogExp2:V6,FramebufferTexture:Bve,FrontSide:ds,Frustum:h3,GLBufferAttribute:n2e,GLSL1:xpe,GLSL3:J7,GreaterCompare:D6,GreaterDepth:v6,GreaterEqualCompare:$6,GreaterEqualDepth:g6,GreaterEqualStencilFunc:mB,GreaterStencilFunc:hB,GridHelper:d2e,Group:Ch,HalfFloatType:Ws,HemisphereLight:sz,HemisphereLightHelper:u2e,IcosahedronGeometry:tx,ImageBitmapLoader:O1e,ImageLoader:Og,ImageUtils:QC,IncrementStencilOp:iB,IncrementWrapStencilOp:aB,InstancedBufferAttribute:Rp,InstancedBufferGeometry:mz,InstancedInterleavedBuffer:bz,InstancedMesh:OB,Int16BufferAttribute:e0e,Int32BufferAttribute:t0e,Int8BufferAttribute:Zpe,IntType:w6,InterleavedBuffer:g3,InterleavedBufferAttribute:Jc,Interpolant:x3,InterpolateDiscrete:xg,InterpolateLinear:Sg,InterpolateSmooth:T2,InvertStencilOp:lB,KeepStencilOp:Rm,KeyframeTrack:bs,LOD:IB,LatheGeometry:v3,Layers:gd,LessCompare:u3,LessDepth:p6,LessEqualCompare:L6,LessEqualDepth:op,LessEqualStencilFunc:fB,LessStencilFunc:uB,Light:du,LightProbe:pz,Line:eu,Line3:o2e,LineBasicMaterial:go,LineCurve:pE,LineCurve3:kB,LineDashedMaterial:ez,LineLoop:LB,LineSegments:nl,LinearDisplayP3ColorSpace:c3,LinearEncoding:P6,LinearFilter:Er,LinearInterpolant:SE,LinearMipMapLinearFilter:lpe,LinearMipMapNearestFilter:spe,LinearMipmapLinearFilter:hs,LinearMipmapNearestFilter:b6,LinearSRGBColorSpace:Oo,LinearToneMapping:$C,LinearTransfer:wg,Loader:Do,LoaderUtils:s9,LoadingManager:wE,LoopOnce:Zk,LoopPingPong:Jk,LoopRepeat:Qk,LuminanceAlphaFormat:VC,LuminanceFormat:GC,MOUSE:ku,Material:Mi,MaterialLoader:lx,MathUtils:vB,Matrix3:mn,Matrix4:on,MaxEquation:Iy,Mesh:fi,MeshBasicMaterial:lu,MeshDepthMaterial:aE,MeshDistanceMaterial:sE,MeshLambertMaterial:QB,MeshMatcapMaterial:JB,MeshNormalMaterial:ZB,MeshPhongMaterial:KB,MeshPhysicalMaterial:qB,MeshStandardMaterial:yE,MeshToonMaterial:YB,MinEquation:Py,MirroredRepeatWrapping:Od,MixOperation:qk,MultiplyBlending:Id,MultiplyOperation:l3,NearestFilter:Wn,NearestMipMapLinearFilter:ape,NearestMipMapNearestFilter:ope,NearestMipmapLinearFilter:Dl,NearestMipmapNearestFilter:Ld,NeverCompare:N6,NeverDepth:f6,NeverStencilFunc:cB,NoBlending:Yo,NoColorSpace:Oi,NoToneMapping:Po,NormalAnimationBlendMode:A6,NormalBlending:Ma,NotEqualCompare:F6,NotEqualDepth:y6,NotEqualStencilFunc:pB,NumberKeyframeTrack:Pg,Object3D:jn,ObjectLoader:I1e,ObjectSpaceNormalMap:qC,OctahedronGeometry:y3,OneFactor:i6,OneMinusDstAlphaFactor:l6,OneMinusDstColorFactor:u6,OneMinusSrcAlphaFactor:s3,OneMinusSrcColorFactor:a6,OrthographicCamera:Nl,P3Primaries:Eg,PCFShadowMap:J5,PCFSoftShadowMap:Mm,PMREMGenerator:t9,Path:Tg,PerspectiveCamera:Ur,Plane:Ml,PlaneGeometry:p3,PlaneHelper:v2e,PointLight:cz,PointLightHelper:l2e,Points:DB,PointsMaterial:dE,PolarGridHelper:f2e,PolyhedronGeometry:uu,PositionalAudio:k1e,PropertyBinding:Bn,PropertyMixer:yz,QuadraticBezierCurve:mE,QuadraticBezierCurve3:gE,Quaternion:to,QuaternionKeyframeTrack:e0,QuaternionLinearInterpolant:oz,RED_GREEN_RGTC2_Format:vg,RED_RGTC1_Format:jC,REVISION:Gd,RGBADepthPacking:tB,RGBAFormat:Qi,RGBAIntegerFormat:R6,RGBA_ASTC_10x10_Format:Sp,RGBA_ASTC_10x5_Format:vp,RGBA_ASTC_10x6_Format:yp,RGBA_ASTC_10x8_Format:xp,RGBA_ASTC_12x10_Format:bp,RGBA_ASTC_12x12_Format:wp,RGBA_ASTC_4x4_Format:cp,RGBA_ASTC_5x4_Format:up,RGBA_ASTC_5x5_Format:dp,RGBA_ASTC_6x5_Format:fp,RGBA_ASTC_6x6_Format:hp,RGBA_ASTC_8x5_Format:pp,RGBA_ASTC_8x6_Format:mp,RGBA_ASTC_8x8_Format:gp,RGBA_BPTC_Format:pd,RGBA_ETC2_EAC_Format:lp,RGBA_PVRTC_2BPPV1_Format:mg,RGBA_PVRTC_4BPPV1_Format:pg,RGBA_S3TC_DXT1_Format:Gc,RGBA_S3TC_DXT3_Format:Vc,RGBA_S3TC_DXT5_Format:Wc,RGB_BPTC_SIGNED_Format:Z7,RGB_BPTC_UNSIGNED_Format:Q7,RGB_ETC1_Format:WC,RGB_ETC2_Format:sp,RGB_PVRTC_2BPPV1_Format:hg,RGB_PVRTC_4BPPV1_Format:fg,RGB_S3TC_DXT1_Format:hd,RGFormat:T6,RGIntegerFormat:M6,RawShaderMaterial:XB,Ray:Vd,Raycaster:wz,Rec709Primaries:Cg,RectAreaLight:fz,RedFormat:ap,RedIntegerFormat:_6,ReinhardToneMapping:UC,RenderTarget:JC,RepeatWrapping:Nd,ReplaceStencilOp:rB,ReverseSubtractEquation:n6,RingGeometry:nx,SIGNED_RED_GREEN_RGTC2_Format:yg,SIGNED_RED_RGTC1_Format:gg,SRGBColorSpace:$t,SRGBTransfer:cr,Scene:Mp,ShaderChunk:yn,ShaderLib:Ja,ShaderMaterial:Jo,ShadowMaterial:jB,Shape:vd,ShapeGeometry:rx,ShapePath:S2e,ShapeUtils:js,ShortType:zC,Skeleton:j6,SkeletonHelper:s2e,SkinnedMesh:NB,Source:nd,Sphere:xs,SphereGeometry:Jp,Spherical:c9,SphericalHarmonics3:hz,SplineCurve:vE,SpotLight:lz,SpotLightHelper:a2e,Sprite:PB,SpriteMaterial:cE,SrcAlphaFactor:a3,SrcAlphaSaturateFactor:d6,SrcColorFactor:o6,StaticCopyUsage:gpe,StaticDrawUsage:Cp,StaticReadUsage:hpe,StereoCamera:D1e,StreamCopyUsage:ype,StreamDrawUsage:fpe,StreamReadUsage:mpe,StringKeyframeTrack:jd,SubtractEquation:t6,SubtractiveBlending:Pd,TOUCH:Bu,TangentSpaceNormalMap:Ys,TetrahedronGeometry:ix,Texture:Nr,TextureLoader:M1e,TorusGeometry:ox,TorusKnotGeometry:ax,Triangle:Co,TriangleFanDrawMode:dpe,TriangleStripDrawMode:upe,TrianglesDrawMode:cpe,TubeGeometry:sx,TwoPassDoubleSide:ipe,UVMapping:S6,Uint16BufferAttribute:z6,Uint32BufferAttribute:H6,Uint8BufferAttribute:Qpe,Uint8ClampedBufferAttribute:Jpe,Uniform:J1e,UniformsGroup:t2e,UniformsLib:vt,UniformsUtils:nE,UnsignedByteType:Io,UnsignedInt248Type:Ra,UnsignedIntType:Ca,UnsignedShort4444Type:C6,UnsignedShort5551Type:E6,UnsignedShortType:Kp,VSMShadowMap:Xa,Vector2:Qe,Vector3:Q,Vector4:Tn,VectorKeyframeTrack:Ig,VideoTexture:kve,WebGL1Renderer:RB,WebGL3DRenderTarget:Upe,WebGLArrayRenderTarget:$pe,WebGLCoordinateSystem:ns,WebGLCubeRenderTarget:iE,WebGLMultipleRenderTargets:kpe,WebGLRenderTarget:ms,WebGLRenderer:lE,WebGLUtils:TB,WebGPUCoordinateSystem:Ep,WireframeGeometry:WB,WrapAroundEnding:bg,ZeroCurvatureEnding:ed,ZeroFactor:r6,ZeroSlopeEnding:td,ZeroStencilOp:nB,_SRGBAFormat:Ny,createCanvasElement:ZC,sRGBEncoding:Fl},Symbol.toStringTag,{value:"Module"})),w2e=Dn.button`
  border-radius: 20px;
  height: 35px;
  width: 100%;
  padding: 10px 20px 7px 20px;
  background-color: #d9d9d9;
  color: #464646;
  font-size: 14px;
  border: none;
  cursor: pointer;
`;function Yf(t){return Ke.jsx(w2e,{onClick:t.onClick,children:t.label})}const C2e=Dn.div`
  align-items: center;
  height: 100%;
  display: flex;
  font-weight: bold;
`,E2e=Dn(jl)`
  .ant-tooltip-inner {
    font-weight: normal;
    color: #cfcfcf;
  }
`;function Dy(t){const e=[];return t.tooltip!==void 0&&e.push(Ke.jsx(E2e,{children:Ke.jsx(jl,{placement:"right",title:t.tooltip,getPopupContainer:n=>n,children:Ke.jsx(Ice,{})})})),Ke.jsxs(C2e,{children:[t.title,"",e]})}const _2e=Dn(cg)`
  background-color: #797979;
  color: #fff;

  width: 20rem;
  height: calc(100% - 6rem);

  font-size: 2rem;
  position: absolute;
  display: flex;

  text-align: left;

  border-top-right-radius: 20px;
  border-bottom-right-radius: 20px;

  padding: 12px;

  @media (max-width: 760px) {
    display: none;
  }
`,T2e=Dn.span`
  top: calc(6rem - 5px);
  position: absolute;
  left: 10px;
`,M2e=Dn.span`
  font-family: 'Roboto', sans-serif;
  font-size: 2rem;

  @media (max-width: 760px) {
    display: none;
  }
`,R2e=Dn($ae)`
  font-family: 'Roboto', sans-serif;
  background-color: #797979;
  text-align: left;
  font-size: 1rem;
  color: #ffffff;
`,A2e=Dn.button`
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background-color: #d9d9d9;
  color: #464646;
  font-size: 16px;
  border: none;
  cursor: pointer;
`,uN=Dn.a`
  font-family: 'Roboto', sans-serif;
  font-size: 1rem;
  color: #000000;
`;function dN(t){const e=t.isVisible,n=t.setVisible;return Ke.jsx(A2e,{onClick:()=>{n(!e)},children:e?Ke.jsx(H7,{}):Ke.jsx(G7,{})})}const fN=({key:t})=>{Cue.info(`Click on item ${t}`)},hN=[{label:"1st menu item",key:"1"},{label:"2nd menu item",key:"2"},{label:"3rd menu item",key:"3"}];function P2e(t){const[e,n]=g.useState(!0),r=["large","small"],[i,o]=g.useState(1),a=t.setParams,[s,l]=g.useState(!1),[c,u]=g.useState(!1);return g.useEffect(()=>{a(d=>({...d,renderHeightMap:s,isCameraControlMode:c}))},[s,c,a]),e?Ke.jsxs(_2e,{direction:"vertical",size:r,children:[Ke.jsx(Tl,{justify:"end",children:Ke.jsx(dN,{isVisible:e,setVisible:n})}),Ke.jsx(M2e,{children:"Parameters"}),Ke.jsxs(Tl,{gutter:16,children:[Ke.jsx(Qa,{className:"gutter-row",span:12,children:Ke.jsx(Yf,{label:"Easy mode",onClick:()=>{o(0)}})}),Ke.jsx(Qa,{className:"gutter-row",span:12,children:Ke.jsx(Yf,{label:"Expert mode",onClick:()=>{o(1)}})})]}),i===0&&Ke.jsx(Ke.Fragment,{}),i===1&&Ke.jsx(Ke.Fragment,{}),Ke.jsx(I2e,{setParams:t.setParams}),Ke.jsx(Tl,{gutter:16,children:Ke.jsx(Dy,{title:"Rendering mode"})}),Ke.jsxs(Tl,{gutter:16,children:[Ke.jsx(Qa,{className:"gutter-row",span:12,children:Ke.jsx(Yf,{label:"Flat surface",onClick:()=>{u(!1),l(!1)}})}),Ke.jsx(Qa,{className:"gutter-row",span:12,children:Ke.jsx(Yf,{label:"Height map",onClick:()=>{l(!0)}})})]}),Ke.jsx(Tl,{gutter:16,style:s?{}:{display:"none"},children:Ke.jsx(Dy,{title:"Current Control"})}),Ke.jsxs(Tl,{gutter:16,style:s?{}:{display:"none"},children:[Ke.jsx(Qa,{className:"gutter-row",span:12,children:Ke.jsx(Yf,{label:"Apply force",onClick:()=>{u(!1)}})}),Ke.jsx(Qa,{className:"gutter-row",span:12,children:Ke.jsx(Yf,{label:"Spin camera",onClick:()=>{u(!0)}})})]}),Ke.jsx(uP,{menu:{items:hN,onClick:fN},children:Ke.jsx(uN,{onClick:d=>{d.preventDefault()},children:Ke.jsxs(cg,{children:["Choose Model",Ke.jsx(my,{})]})})}),Ke.jsx(uP,{menu:{items:hN,onClick:fN},children:Ke.jsx(uN,{onClick:d=>{d.preventDefault()},children:Ke.jsxs(cg,{children:["Choose Initial State",Ke.jsx(my,{})]})})})]}):Ke.jsx(T2e,{children:Ke.jsx(dN,{isVisible:e,setVisible:n})})}function I2e(t){const e=t.setParams,[n,r]=g.useState("#0000FF"),[i,o]=g.useState("#FF0000"),a=g.useMemo(()=>typeof n=="string"?n:n.toHexString(),[n]),s=g.useMemo(()=>typeof i=="string"?i:i.toHexString(),[i]);return g.useEffect(()=>{e(l=>({...l,densityLowColour:new St(a),densityHighColour:new St(s)}))},[a,s,e]),Ke.jsxs(R2e,{title:"Simulation Colour",children:[Ke.jsxs(Tl,{justify:"start",gutter:16,children:[Ke.jsx(Qa,{className:"gutter-row",span:12,children:Ke.jsx(Dy,{title:"Low",tooltip:"The colour to shade points of low density"})}),Ke.jsx(Qa,{className:"gutter-row",span:12,children:Ke.jsx(sP,{value:n,onChange:r})})]}),Ke.jsxs(Tl,{justify:"start",gutter:16,children:[Ke.jsx(Qa,{className:"gutter-row",span:12,children:Ke.jsx(Dy,{title:"High",tooltip:"The colour to shade points of high density"})}),Ke.jsx(Qa,{className:"gutter-row",span:12,children:Ke.jsx(sP,{value:i,onChange:o})})]})]})}const N2e=Dn(cg)`
  position: absolute;
  bottom: 1rem;
  right: 1rem;
  z-index: 100;
  display: flex;
`,O2e=Dn(wa)`
  position: absolute;
  bottom: 4rem;
  right: 11rem;
  color: #eeeeee;
  background-color: #555555;
  height: 3.2rem;
  width: 8rem;
  margin: 0 0.2rem;
  cursor: pointer;
  @media (max-width: 760px) {
    margin-bottom: 0.2rem;
  }
`,L2e=Dn(wa)`
  position: absolute;
  bottom: 4rem;
  right: 2rem;
  color: #eeeeee;
  background-color: #555555;
  height: 3.2rem;
  width: 8rem;
  margin: 0 0.2rem;
  cursor: pointer;
  @media (max-width: 760px) {
    margin-bottom: 0.2rem;
  }
`;function D2e(t){const{modelSaveSubs:e,worker:n,setRestorePopupVisible:r}=t;g.useEffect(()=>(e.includes(i)||e.push(i),()=>{const o=e.findIndex(a=>a===i);o!==-1&&e.splice(o,1)}),[e]);function i(o){const a=`${o.modelType}@${o.time}.json`,s=JSON.stringify(o),l=new Blob([s],{type:"application/json"}),c=URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download=a,u.style.display="none",document.body.appendChild(u),u.click(),URL.revokeObjectURL(c),document.body.removeChild(u),console.log("wrote a save to "+a,o)}return Ke.jsxs(Ke.Fragment,{children:[Ke.jsx(O2e,{onClick:()=>{n.postMessage({func:"serialize"})},children:"Save Model"}),Ke.jsx(L2e,{onClick:()=>{r(!0)},children:"Restore Model"}),Ke.jsxs(N2e,{size:"small",direction:"horizontal",children:[Ke.jsx(wa,{onClick:()=>{n.postMessage({func:"start"})},children:"Play"}),Ke.jsx(wa,{onClick:()=>{n.postMessage({func:"pause"})},children:"Pause"}),Ke.jsx(wa,{onClick:()=>{n.postMessage({func:"stop"})},children:"Stop"}),Ke.jsx(wa,{onClick:()=>{n.terminate()},children:"TERMINATE"})]})]})}var Ez={exports:{}},Xd={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Xd.ConcurrentRoot=1;Xd.ContinuousEventPriority=4;Xd.DefaultEventPriority=16;Xd.DiscreteEventPriority=1;Xd.IdleEventPriority=536870912;Xd.LegacyRoot=0;Ez.exports=Xd;var _h=Ez.exports;function F2e(t){let e;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const f=e;e=u?d:Object.assign({},e,d),n.forEach(p=>p(e,f))}},i=()=>e,o=(c,u=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=u(e);function p(){const y=u(e);if(!d(f,y)){const b=f;c(f=y,b)}}return n.add(p),()=>n.delete(p)},l={setState:r,getState:i,subscribe:(c,u,d)=>u||d?o(c,u,d):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const $2e=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),pN=$2e?g.useEffect:g.useLayoutEffect;function U2e(t){const e=typeof t=="function"?F2e(t):t,n=(r=e.getState,i=Object.is)=>{const[,o]=g.useReducer(x=>x+1,0),a=e.getState(),s=g.useRef(a),l=g.useRef(r),c=g.useRef(i),u=g.useRef(!1),d=g.useRef();d.current===void 0&&(d.current=r(a));let f,p=!1;(s.current!==a||l.current!==r||c.current!==i||u.current)&&(f=r(a),p=!i(d.current,f)),pN(()=>{p&&(d.current=f),s.current=a,l.current=r,c.current=i,u.current=!1});const y=g.useRef(a);pN(()=>{const x=()=>{try{const w=e.getState(),S=l.current(w);c.current(d.current,S)||(s.current=w,d.current=S,o())}catch{u.current=!0,o()}},v=e.subscribe(x);return e.getState()!==y.current&&x(),v},[]);const b=p?f:d.current;return g.useDebugValue(b),b};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var _z={exports:{}},Tz={exports:{}},Mz={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,z){var V=O.length;O.push(z);e:for(;0<V;){var F=V-1>>>1,W=O[F];if(0<i(W,z))O[F]=z,O[V]=W,V=F;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var z=O[0],V=O.pop();if(V!==z){O[0]=V;e:for(var F=0,W=O.length,q=W>>>1;F<q;){var Z=2*(F+1)-1,ee=O[Z],oe=Z+1,re=O[oe];if(0>i(ee,V))oe<W&&0>i(re,ee)?(O[F]=re,O[oe]=V,F=oe):(O[F]=ee,O[Z]=V,F=Z);else if(oe<W&&0>i(re,V))O[F]=re,O[oe]=V,F=oe;else break e}}return z}function i(O,z){var V=O.sortIndex-z.sortIndex;return V!==0?V:O.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,d=null,f=3,p=!1,y=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(O){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=O)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function C(O){if(b=!1,S(O),!y)if(n(l)!==null)y=!0,B(_);else{var z=n(c);z!==null&&$(C,z.startTime-O)}}function _(O,z){y=!1,b&&(b=!1,v(I),I=-1),p=!0;var V=f;try{for(S(z),d=n(l);d!==null&&(!(d.expirationTime>z)||O&&!L());){var F=d.callback;if(typeof F=="function"){d.callback=null,f=d.priorityLevel;var W=F(d.expirationTime<=z);z=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),S(z)}else r(l);d=n(l)}if(d!==null)var q=!0;else{var Z=n(c);Z!==null&&$(C,Z.startTime-z),q=!1}return q}finally{d=null,f=V,p=!1}}var T=!1,M=null,I=-1,R=5,P=-1;function L(){return!(t.unstable_now()-P<R)}function k(){if(M!==null){var O=t.unstable_now();P=O;var z=!0;try{z=M(!0,O)}finally{z?H():(T=!1,M=null)}}else T=!1}var H;if(typeof w=="function")H=function(){w(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,G=D.port2;D.port1.onmessage=k,H=function(){G.postMessage(null)}}else H=function(){x(k,0)};function B(O){M=O,T||(T=!0,H())}function $(O,z){I=x(function(){O(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,B(_))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var V=f;f=z;try{return O()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var V=f;f=O;try{return z()}finally{f=V}},t.unstable_scheduleCallback=function(O,z,V){var F=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?F+V:F):V=F,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=V+W,O={id:u++,callback:z,priorityLevel:O,startTime:V,expirationTime:W,sortIndex:-1},V>F?(O.sortIndex=V,e(c,O),n(l)===null&&O===n(c)&&(b?(v(I),I=-1):b=!0,$(C,V-F))):(O.sortIndex=W,e(l,O),y||p||(y=!0,B(_))),O},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(O){var z=f;return function(){var V=f;f=z;try{return O.apply(this,arguments)}finally{f=V}}}})(Mz);Tz.exports=Mz;var u9=Tz.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k2e=function(e){var n={},r=g,i=u9,o=Object.assign;function a(h){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+h,E=1;E<arguments.length;E++)m+="&args[]="+encodeURIComponent(arguments[E]);return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),_=Symbol.iterator;function T(h){return h===null||typeof h!="object"?null:(h=_&&h[_]||h["@@iterator"],typeof h=="function"?h:null)}function M(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case u:return"Fragment";case c:return"Portal";case f:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case v:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case y:return(h.displayName||"Context")+".Consumer";case p:return(h._context.displayName||"Context")+".Provider";case b:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case w:return m=h.displayName||null,m!==null?m:M(h.type)||"Memo";case S:m=h._payload,h=h._init;try{return M(h(m))}catch{}}return null}function I(h){var m=h.type;switch(h.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=m.render,h=h.displayName||h.name||"",m.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M(m);case 8:return m===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function R(h){var m=h,E=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,m.flags&4098&&(E=m.return),h=m.return;while(h)}return m.tag===3?E:null}function P(h){if(R(h)!==h)throw Error(a(188))}function L(h){var m=h.alternate;if(!m){if(m=R(h),m===null)throw Error(a(188));return m!==h?null:h}for(var E=h,A=m;;){var N=E.return;if(N===null)break;var U=N.alternate;if(U===null){if(A=N.return,A!==null){E=A;continue}break}if(N.child===U.child){for(U=N.child;U;){if(U===E)return P(N),h;if(U===A)return P(N),m;U=U.sibling}throw Error(a(188))}if(E.return!==A.return)E=N,A=U;else{for(var ne=!1,we=N.child;we;){if(we===E){ne=!0,E=N,A=U;break}if(we===A){ne=!0,A=N,E=U;break}we=we.sibling}if(!ne){for(we=U.child;we;){if(we===E){ne=!0,E=U,A=N;break}if(we===A){ne=!0,A=U,E=N;break}we=we.sibling}if(!ne)throw Error(a(189))}}if(E.alternate!==A)throw Error(a(190))}if(E.tag!==3)throw Error(a(188));return E.stateNode.current===E?h:m}function k(h){return h=L(h),h!==null?H(h):null}function H(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var m=H(h);if(m!==null)return m;h=h.sibling}return null}function D(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var m=D(h);if(m!==null)return m}h=h.sibling}return null}var G=Array.isArray,B=e.getPublicInstance,$=e.getRootHostContext,O=e.getChildHostContext,z=e.prepareForCommit,V=e.resetAfterCommit,F=e.createInstance,W=e.appendInitialChild,q=e.finalizeInitialChildren,Z=e.prepareUpdate,ee=e.shouldSetTextContent,oe=e.createTextInstance,re=e.scheduleTimeout,ce=e.cancelTimeout,Se=e.noTimeout,Pe=e.isPrimaryRenderer,xe=e.supportsMutation,X=e.supportsPersistence,fe=e.supportsHydration,pe=e.getInstanceFromNode,Ce=e.preparePortalMount,me=e.getCurrentEventPriority,Ge=e.detachDeletedInstance,ve=e.supportsMicrotasks,Re=e.scheduleMicrotask,Ae=e.supportsTestSelectors,Le=e.findFiberRoot,Je=e.getBoundingRect,K=e.getTextContent,j=e.isHiddenSubtree,ae=e.matchAccessibilityRole,Ee=e.setFocusIfFocusable,Oe=e.setupIntersectionObserver,je=e.appendChild,Be=e.appendChildToContainer,Fe=e.commitTextUpdate,Ue=e.commitMount,et=e.commitUpdate,at=e.insertBefore,We=e.insertInContainerBefore,ut=e.removeChild,te=e.removeChildFromContainer,ke=e.resetTextContent,ze=e.hideInstance,J=e.hideTextInstance,de=e.unhideInstance,ue=e.unhideTextInstance,De=e.clearContainer,Ie=e.cloneInstance,_e=e.createContainerChildSet,rt=e.appendChildToContainerChildSet,ct=e.finalizeContainerChildren,pt=e.replaceContainerChildren,Xe=e.cloneHiddenInstance,lt=e.cloneHiddenTextInstance,ot=e.canHydrateInstance,gt=e.canHydrateTextInstance,cn=e.canHydrateSuspenseInstance,an=e.isSuspenseInstancePending,Fn=e.isSuspenseInstanceFallback,Xn=e.registerSuspenseInstanceRetry,An=e.getNextHydratableSibling,tn=e.getFirstHydratableChild,nr=e.getFirstHydratableChildWithinContainer,_r=e.getFirstHydratableChildWithinSuspenseInstance,nn=e.hydrateInstance,Y=e.hydrateTextInstance,le=e.hydrateSuspenseInstance,he=e.getNextHydratableInstanceAfterSuspenseInstance,ge=e.commitHydratedContainer,Te=e.commitHydratedSuspenseInstance,ft=e.clearSuspenseBoundary,Ot=e.clearSuspenseBoundaryFromContainer,Dt=e.shouldDeleteUnhydratedTailInstances,Ft=e.didNotMatchHydratedContainerTextInstance,qt=e.didNotMatchHydratedTextInstance,Mt;function kt(h){if(Mt===void 0)try{throw Error()}catch(E){var m=E.stack.trim().match(/\n( *(at )?)/);Mt=m&&m[1]||""}return`
`+Mt+h}var $n=!1;function Cn(h,m){if(!h||$n)return"";$n=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(ht){var A=ht}Reflect.construct(h,[],m)}else{try{m.call()}catch(ht){A=ht}h.call(m.prototype)}else{try{throw Error()}catch(ht){A=ht}h()}}catch(ht){if(ht&&A&&typeof ht.stack=="string"){for(var N=ht.stack.split(`
`),U=A.stack.split(`
`),ne=N.length-1,we=U.length-1;1<=ne&&0<=we&&N[ne]!==U[we];)we--;for(;1<=ne&&0<=we;ne--,we--)if(N[ne]!==U[we]){if(ne!==1||we!==1)do if(ne--,we--,0>we||N[ne]!==U[we]){var Ze=`
`+N[ne].replace(" at new "," at ");return h.displayName&&Ze.includes("<anonymous>")&&(Ze=Ze.replace("<anonymous>",h.displayName)),Ze}while(1<=ne&&0<=we);break}}}finally{$n=!1,Error.prepareStackTrace=E}return(h=h?h.displayName||h.name:"")?kt(h):""}var Zn=Object.prototype.hasOwnProperty,vr=[],En=-1;function Gt(h){return{current:h}}function un(h){0>En||(h.current=vr[En],vr[En]=null,En--)}function Bt(h,m){En++,vr[En]=h.current,h.current=m}var rr={},Hn=Gt(rr),_t=Gt(!1),zt=rr;function Tt(h,m){var E=h.type.contextTypes;if(!E)return rr;var A=h.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===m)return A.__reactInternalMemoizedMaskedChildContext;var N={},U;for(U in E)N[U]=m[U];return A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=m,h.__reactInternalMemoizedMaskedChildContext=N),N}function Et(h){return h=h.childContextTypes,h!=null}function Ht(){un(_t),un(Hn)}function Zt(h,m,E){if(Hn.current!==rr)throw Error(a(168));Bt(Hn,m),Bt(_t,E)}function Pn(h,m,E){var A=h.stateNode;if(m=m.childContextTypes,typeof A.getChildContext!="function")return E;A=A.getChildContext();for(var N in A)if(!(N in m))throw Error(a(108,I(h)||"Unknown",N));return o({},E,A)}function yr(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||rr,zt=Hn.current,Bt(Hn,h),Bt(_t,_t.current),!0}function fr(h,m,E){var A=h.stateNode;if(!A)throw Error(a(169));E?(h=Pn(h,m,zt),A.__reactInternalMemoizedMergedChildContext=h,un(_t),un(Hn),Bt(Hn,h)):un(_t),Bt(_t,E)}var xr=Math.clz32?Math.clz32:r0,vo=Math.log,il=Math.LN2;function r0(h){return h>>>=0,h===0?32:31-(vo(h)/il|0)|0}var Zl=64,Ri=4194304;function ro(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function ol(h,m){var E=h.pendingLanes;if(E===0)return 0;var A=0,N=h.suspendedLanes,U=h.pingedLanes,ne=E&268435455;if(ne!==0){var we=ne&~N;we!==0?A=ro(we):(U&=ne,U!==0&&(A=ro(U)))}else ne=E&~N,ne!==0?A=ro(ne):U!==0&&(A=ro(U));if(A===0)return 0;if(m!==0&&m!==A&&!(m&N)&&(N=A&-A,U=m&-m,N>=U||N===16&&(U&4194240)!==0))return m;if(A&4&&(A|=E&16),m=h.entangledLanes,m!==0)for(h=h.entanglements,m&=A;0<m;)E=31-xr(m),N=1<<E,A|=h[E],m&=~N;return A}function al(h,m){switch(h){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ts(h,m){for(var E=h.suspendedLanes,A=h.pingedLanes,N=h.expirationTimes,U=h.pendingLanes;0<U;){var ne=31-xr(U),we=1<<ne,Ze=N[ne];Ze===-1?(!(we&E)||we&A)&&(N[ne]=al(we,m)):Ze<=m&&(h.expiredLanes|=we),U&=~we}}function sl(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function Ms(h){for(var m=[],E=0;31>E;E++)m.push(h);return m}function Rs(h,m,E){h.pendingLanes|=m,m!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,m=31-xr(m),h[m]=E}function i0(h,m){var E=h.pendingLanes&~m;h.pendingLanes=m,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=m,h.mutableReadLanes&=m,h.entangledLanes&=m,m=h.entanglements;var A=h.eventTimes;for(h=h.expirationTimes;0<E;){var N=31-xr(E),U=1<<N;m[N]=0,A[N]=-1,h[N]=-1,E&=~U}}function hu(h,m){var E=h.entangledLanes|=m;for(h=h.entanglements;E;){var A=31-xr(E),N=1<<A;N&m|h[A]&m&&(h[A]|=m),E&=~N}}var In=0;function Zd(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var At=i.unstable_scheduleCallback,dn=i.unstable_cancelCallback,Sr=i.unstable_shouldYield,Hr=i.unstable_requestPaint,vn=i.unstable_now,Ql=i.unstable_ImmediatePriority,o0=i.unstable_UserBlockingPriority,Qd=i.unstable_NormalPriority,Jd=i.unstable_IdlePriority,R3=null,As=null;function cV(h){if(As&&typeof As.onCommitFiberRoot=="function")try{As.onCommitFiberRoot(R3,h,void 0,(h.current.flags&128)===128)}catch{}}function uV(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var Ps=typeof Object.is=="function"?Object.is:uV,ll=null,A3=!1,xx=!1;function c_(h){ll===null?ll=[h]:ll.push(h)}function dV(h){A3=!0,c_(h)}function Is(){if(!xx&&ll!==null){xx=!0;var h=0,m=In;try{var E=ll;for(In=1;h<E.length;h++){var A=E[h];do A=A(!0);while(A!==null)}ll=null,A3=!1}catch(N){throw ll!==null&&(ll=ll.slice(h+1)),At(Ql,Is),N}finally{In=m,xx=!1}}return null}var fV=s.ReactCurrentBatchConfig;function P3(h,m){if(Ps(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var E=Object.keys(h),A=Object.keys(m);if(E.length!==A.length)return!1;for(A=0;A<E.length;A++){var N=E[A];if(!Zn.call(m,N)||!Ps(h[N],m[N]))return!1}return!0}function hV(h){switch(h.tag){case 5:return kt(h.type);case 16:return kt("Lazy");case 13:return kt("Suspense");case 19:return kt("SuspenseList");case 0:case 2:case 15:return h=Cn(h.type,!1),h;case 11:return h=Cn(h.type.render,!1),h;case 1:return h=Cn(h.type,!0),h;default:return""}}function Ua(h,m){if(h&&h.defaultProps){m=o({},m),h=h.defaultProps;for(var E in h)m[E]===void 0&&(m[E]=h[E]);return m}return m}var I3=Gt(null),N3=null,ef=null,Sx=null;function bx(){Sx=ef=N3=null}function u_(h,m,E){Pe?(Bt(I3,m._currentValue),m._currentValue=E):(Bt(I3,m._currentValue2),m._currentValue2=E)}function wx(h){var m=I3.current;un(I3),Pe?h._currentValue=m:h._currentValue2=m}function Cx(h,m,E){for(;h!==null;){var A=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,A!==null&&(A.childLanes|=m)):A!==null&&(A.childLanes&m)!==m&&(A.childLanes|=m),h===E)break;h=h.return}}function tf(h,m){N3=h,Sx=ef=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&m&&(Uo=!0),h.firstContext=null)}function aa(h){var m=Pe?h._currentValue:h._currentValue2;if(Sx!==h)if(h={context:h,memoizedValue:m,next:null},ef===null){if(N3===null)throw Error(a(308));ef=h,N3.dependencies={lanes:0,firstContext:h}}else ef=ef.next=h;return m}var Ns=null,Jl=!1;function Ex(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d_(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function cl(h,m){return{eventTime:h,lane:m,tag:0,payload:null,callback:null,next:null}}function ec(h,m){var E=h.updateQueue;E!==null&&(E=E.shared,Zr!==null&&h.mode&1&&!(_n&2)?(h=E.interleaved,h===null?(m.next=m,Ns===null?Ns=[E]:Ns.push(E)):(m.next=h.next,h.next=m),E.interleaved=m):(h=E.pending,h===null?m.next=m:(m.next=h.next,h.next=m),E.pending=m))}function O3(h,m,E){if(m=m.updateQueue,m!==null&&(m=m.shared,(E&4194240)!==0)){var A=m.lanes;A&=h.pendingLanes,E|=A,m.lanes=E,hu(h,E)}}function f_(h,m){var E=h.updateQueue,A=h.alternate;if(A!==null&&(A=A.updateQueue,E===A)){var N=null,U=null;if(E=E.firstBaseUpdate,E!==null){do{var ne={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};U===null?N=U=ne:U=U.next=ne,E=E.next}while(E!==null);U===null?N=U=m:U=U.next=m}else N=U=m;E={baseState:A.baseState,firstBaseUpdate:N,lastBaseUpdate:U,shared:A.shared,effects:A.effects},h.updateQueue=E;return}h=E.lastBaseUpdate,h===null?E.firstBaseUpdate=m:h.next=m,E.lastBaseUpdate=m}function L3(h,m,E,A){var N=h.updateQueue;Jl=!1;var U=N.firstBaseUpdate,ne=N.lastBaseUpdate,we=N.shared.pending;if(we!==null){N.shared.pending=null;var Ze=we,ht=Ze.next;Ze.next=null,ne===null?U=ht:ne.next=ht,ne=Ze;var Pt=h.alternate;Pt!==null&&(Pt=Pt.updateQueue,we=Pt.lastBaseUpdate,we!==ne&&(we===null?Pt.firstBaseUpdate=ht:we.next=ht,Pt.lastBaseUpdate=Ze))}if(U!==null){var fn=N.baseState;ne=0,Pt=ht=Ze=null,we=U;do{var Kt=we.lane,or=we.eventTime;if((A&Kt)===Kt){Pt!==null&&(Pt=Pt.next={eventTime:or,lane:0,tag:we.tag,payload:we.payload,callback:we.callback,next:null});e:{var jt=h,Vi=we;switch(Kt=m,or=E,Vi.tag){case 1:if(jt=Vi.payload,typeof jt=="function"){fn=jt.call(or,fn,Kt);break e}fn=jt;break e;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=Vi.payload,Kt=typeof jt=="function"?jt.call(or,fn,Kt):jt,Kt==null)break e;fn=o({},fn,Kt);break e;case 2:Jl=!0}}we.callback!==null&&we.lane!==0&&(h.flags|=64,Kt=N.effects,Kt===null?N.effects=[we]:Kt.push(we))}else or={eventTime:or,lane:Kt,tag:we.tag,payload:we.payload,callback:we.callback,next:null},Pt===null?(ht=Pt=or,Ze=fn):Pt=Pt.next=or,ne|=Kt;if(we=we.next,we===null){if(we=N.shared.pending,we===null)break;Kt=we,we=Kt.next,Kt.next=null,N.lastBaseUpdate=Kt,N.shared.pending=null}}while(1);if(Pt===null&&(Ze=fn),N.baseState=Ze,N.firstBaseUpdate=ht,N.lastBaseUpdate=Pt,m=N.shared.interleaved,m!==null){N=m;do ne|=N.lane,N=N.next;while(N!==m)}else U===null&&(N.shared.lanes=0);df|=ne,h.lanes=ne,h.memoizedState=fn}}function h_(h,m,E){if(h=m.effects,m.effects=null,h!==null)for(m=0;m<h.length;m++){var A=h[m],N=A.callback;if(N!==null){if(A.callback=null,A=E,typeof N!="function")throw Error(a(191,N));N.call(A)}}}var p_=new r.Component().refs;function _x(h,m,E,A){m=h.memoizedState,E=E(A,m),E=E==null?m:o({},m,E),h.memoizedState=E,h.lanes===0&&(h.updateQueue.baseState=E)}var D3={isMounted:function(h){return(h=h._reactInternals)?R(h)===h:!1},enqueueSetState:function(h,m,E){h=h._reactInternals;var A=oo(),N=rc(h),U=cl(A,N);U.payload=m,E!=null&&(U.callback=E),ec(h,U),m=da(h,N,A),m!==null&&O3(m,h,N)},enqueueReplaceState:function(h,m,E){h=h._reactInternals;var A=oo(),N=rc(h),U=cl(A,N);U.tag=1,U.payload=m,E!=null&&(U.callback=E),ec(h,U),m=da(h,N,A),m!==null&&O3(m,h,N)},enqueueForceUpdate:function(h,m){h=h._reactInternals;var E=oo(),A=rc(h),N=cl(E,A);N.tag=2,m!=null&&(N.callback=m),ec(h,N),m=da(h,A,E),m!==null&&O3(m,h,A)}};function m_(h,m,E,A,N,U,ne){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(A,U,ne):m.prototype&&m.prototype.isPureReactComponent?!P3(E,A)||!P3(N,U):!0}function g_(h,m,E){var A=!1,N=rr,U=m.contextType;return typeof U=="object"&&U!==null?U=aa(U):(N=Et(m)?zt:Hn.current,A=m.contextTypes,U=(A=A!=null)?Tt(h,N):rr),m=new m(E,U),h.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=D3,h.stateNode=m,m._reactInternals=h,A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=N,h.__reactInternalMemoizedMaskedChildContext=U),m}function v_(h,m,E,A){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(E,A),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(E,A),m.state!==h&&D3.enqueueReplaceState(m,m.state,null)}function Tx(h,m,E,A){var N=h.stateNode;N.props=E,N.state=h.memoizedState,N.refs=p_,Ex(h);var U=m.contextType;typeof U=="object"&&U!==null?N.context=aa(U):(U=Et(m)?zt:Hn.current,N.context=Tt(h,U)),N.state=h.memoizedState,U=m.getDerivedStateFromProps,typeof U=="function"&&(_x(h,m,U,E),N.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(m=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),m!==N.state&&D3.enqueueReplaceState(N,N.state,null),L3(h,E,N,A),N.state=h.memoizedState),typeof N.componentDidMount=="function"&&(h.flags|=4194308)}var nf=[],rf=0,F3=null,$3=0,sa=[],la=0,pu=null,ul=1,dl="";function mu(h,m){nf[rf++]=$3,nf[rf++]=F3,F3=h,$3=m}function y_(h,m,E){sa[la++]=ul,sa[la++]=dl,sa[la++]=pu,pu=h;var A=ul;h=dl;var N=32-xr(A)-1;A&=~(1<<N),E+=1;var U=32-xr(m)+N;if(30<U){var ne=N-N%5;U=(A&(1<<ne)-1).toString(32),A>>=ne,N-=ne,ul=1<<32-xr(m)+N|E<<N|A,dl=U+h}else ul=1<<U|E<<N|A,dl=h}function Mx(h){h.return!==null&&(mu(h,1),y_(h,1,0))}function Rx(h){for(;h===F3;)F3=nf[--rf],nf[rf]=null,$3=nf[--rf],nf[rf]=null;for(;h===pu;)pu=sa[--la],sa[la]=null,dl=sa[--la],sa[la]=null,ul=sa[--la],sa[la]=null}var Fo=null,$o=null,br=!1,a0=!1,ka=null;function x_(h,m){var E=fa(5,null,null,0);E.elementType="DELETED",E.stateNode=m,E.return=h,m=h.deletions,m===null?(h.deletions=[E],h.flags|=16):m.push(E)}function S_(h,m){switch(h.tag){case 5:return m=ot(m,h.type,h.pendingProps),m!==null?(h.stateNode=m,Fo=h,$o=tn(m),!0):!1;case 6:return m=gt(m,h.pendingProps),m!==null?(h.stateNode=m,Fo=h,$o=null,!0):!1;case 13:if(m=cn(m),m!==null){var E=pu!==null?{id:ul,overflow:dl}:null;return h.memoizedState={dehydrated:m,treeContext:E,retryLane:1073741824},E=fa(18,null,null,0),E.stateNode=m,E.return=h,h.child=E,Fo=h,$o=null,!0}return!1;default:return!1}}function Ax(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Px(h){if(br){var m=$o;if(m){var E=m;if(!S_(h,m)){if(Ax(h))throw Error(a(418));m=An(E);var A=Fo;m&&S_(h,m)?x_(A,E):(h.flags=h.flags&-4097|2,br=!1,Fo=h)}}else{if(Ax(h))throw Error(a(418));h.flags=h.flags&-4097|2,br=!1,Fo=h}}}function b_(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Fo=h}function s0(h){if(!fe||h!==Fo)return!1;if(!br)return b_(h),br=!0,!1;if(h.tag!==3&&(h.tag!==5||Dt(h.type)&&!ee(h.type,h.memoizedProps))){var m=$o;if(m){if(Ax(h)){for(h=$o;h;)h=An(h);throw Error(a(418))}for(;m;)x_(h,m),m=An(m)}}if(b_(h),h.tag===13){if(!fe)throw Error(a(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));$o=he(h)}else $o=Fo?An(h.stateNode):null;return!0}function of(){fe&&($o=Fo=null,a0=br=!1)}function Ix(h){ka===null?ka=[h]:ka.push(h)}function l0(h,m,E){if(h=E.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(E._owner){if(E=E._owner,E){if(E.tag!==1)throw Error(a(309));var A=E.stateNode}if(!A)throw Error(a(147,h));var N=A,U=""+h;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===U?m.ref:(m=function(ne){var we=N.refs;we===p_&&(we=N.refs={}),ne===null?delete we[U]:we[U]=ne},m._stringRef=U,m)}if(typeof h!="string")throw Error(a(284));if(!E._owner)throw Error(a(290,h))}return h}function U3(h,m){throw h=Object.prototype.toString.call(m),Error(a(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h))}function w_(h){var m=h._init;return m(h._payload)}function C_(h){function m(He,Me){if(h){var qe=He.deletions;qe===null?(He.deletions=[Me],He.flags|=16):qe.push(Me)}}function E(He,Me){if(!h)return null;for(;Me!==null;)m(He,Me),Me=Me.sibling;return null}function A(He,Me){for(He=new Map;Me!==null;)Me.key!==null?He.set(Me.key,Me):He.set(Me.index,Me),Me=Me.sibling;return He}function N(He,Me){return He=oc(He,Me),He.index=0,He.sibling=null,He}function U(He,Me,qe){return He.index=qe,h?(qe=He.alternate,qe!==null?(qe=qe.index,qe<Me?(He.flags|=2,Me):qe):(He.flags|=2,Me)):(He.flags|=1048576,Me)}function ne(He){return h&&He.alternate===null&&(He.flags|=2),He}function we(He,Me,qe,Ct){return Me===null||Me.tag!==6?(Me=p4(qe,He.mode,Ct),Me.return=He,Me):(Me=N(Me,qe),Me.return=He,Me)}function Ze(He,Me,qe,Ct){var Vt=qe.type;return Vt===u?Pt(He,Me,qe.props.children,Ct,qe.key):Me!==null&&(Me.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===S&&w_(Vt)===Me.type)?(Ct=N(Me,qe.props),Ct.ref=l0(He,Me,qe),Ct.return=He,Ct):(Ct=mv(qe.type,qe.key,qe.props,null,He.mode,Ct),Ct.ref=l0(He,Me,qe),Ct.return=He,Ct)}function ht(He,Me,qe,Ct){return Me===null||Me.tag!==4||Me.stateNode.containerInfo!==qe.containerInfo||Me.stateNode.implementation!==qe.implementation?(Me=m4(qe,He.mode,Ct),Me.return=He,Me):(Me=N(Me,qe.children||[]),Me.return=He,Me)}function Pt(He,Me,qe,Ct,Vt){return Me===null||Me.tag!==7?(Me=wu(qe,He.mode,Ct,Vt),Me.return=He,Me):(Me=N(Me,qe),Me.return=He,Me)}function fn(He,Me,qe){if(typeof Me=="string"&&Me!==""||typeof Me=="number")return Me=p4(""+Me,He.mode,qe),Me.return=He,Me;if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case l:return qe=mv(Me.type,Me.key,Me.props,null,He.mode,qe),qe.ref=l0(He,null,Me),qe.return=He,qe;case c:return Me=m4(Me,He.mode,qe),Me.return=He,Me;case S:var Ct=Me._init;return fn(He,Ct(Me._payload),qe)}if(G(Me)||T(Me))return Me=wu(Me,He.mode,qe,null),Me.return=He,Me;U3(He,Me)}return null}function Kt(He,Me,qe,Ct){var Vt=Me!==null?Me.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number")return Vt!==null?null:we(He,Me,""+qe,Ct);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case l:return qe.key===Vt?Ze(He,Me,qe,Ct):null;case c:return qe.key===Vt?ht(He,Me,qe,Ct):null;case S:return Vt=qe._init,Kt(He,Me,Vt(qe._payload),Ct)}if(G(qe)||T(qe))return Vt!==null?null:Pt(He,Me,qe,Ct,null);U3(He,qe)}return null}function or(He,Me,qe,Ct,Vt){if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number")return He=He.get(qe)||null,we(Me,He,""+Ct,Vt);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case l:return He=He.get(Ct.key===null?qe:Ct.key)||null,Ze(Me,He,Ct,Vt);case c:return He=He.get(Ct.key===null?qe:Ct.key)||null,ht(Me,He,Ct,Vt);case S:var Sn=Ct._init;return or(He,Me,qe,Sn(Ct._payload),Vt)}if(G(Ct)||T(Ct))return He=He.get(qe)||null,Pt(Me,He,Ct,Vt,null);U3(Me,Ct)}return null}function jt(He,Me,qe,Ct){for(var Vt=null,Sn=null,hn=Me,Gn=Me=0,xi=null;hn!==null&&Gn<qe.length;Gn++){hn.index>Gn?(xi=hn,hn=null):xi=hn.sibling;var Vn=Kt(He,hn,qe[Gn],Ct);if(Vn===null){hn===null&&(hn=xi);break}h&&hn&&Vn.alternate===null&&m(He,hn),Me=U(Vn,Me,Gn),Sn===null?Vt=Vn:Sn.sibling=Vn,Sn=Vn,hn=xi}if(Gn===qe.length)return E(He,hn),br&&mu(He,Gn),Vt;if(hn===null){for(;Gn<qe.length;Gn++)hn=fn(He,qe[Gn],Ct),hn!==null&&(Me=U(hn,Me,Gn),Sn===null?Vt=hn:Sn.sibling=hn,Sn=hn);return br&&mu(He,Gn),Vt}for(hn=A(He,hn);Gn<qe.length;Gn++)xi=or(hn,He,Gn,qe[Gn],Ct),xi!==null&&(h&&xi.alternate!==null&&hn.delete(xi.key===null?Gn:xi.key),Me=U(xi,Me,Gn),Sn===null?Vt=xi:Sn.sibling=xi,Sn=xi);return h&&hn.forEach(function(ac){return m(He,ac)}),br&&mu(He,Gn),Vt}function Vi(He,Me,qe,Ct){var Vt=T(qe);if(typeof Vt!="function")throw Error(a(150));if(qe=Vt.call(qe),qe==null)throw Error(a(151));for(var Sn=Vt=null,hn=Me,Gn=Me=0,xi=null,Vn=qe.next();hn!==null&&!Vn.done;Gn++,Vn=qe.next()){hn.index>Gn?(xi=hn,hn=null):xi=hn.sibling;var ac=Kt(He,hn,Vn.value,Ct);if(ac===null){hn===null&&(hn=xi);break}h&&hn&&ac.alternate===null&&m(He,hn),Me=U(ac,Me,Gn),Sn===null?Vt=ac:Sn.sibling=ac,Sn=ac,hn=xi}if(Vn.done)return E(He,hn),br&&mu(He,Gn),Vt;if(hn===null){for(;!Vn.done;Gn++,Vn=qe.next())Vn=fn(He,Vn.value,Ct),Vn!==null&&(Me=U(Vn,Me,Gn),Sn===null?Vt=Vn:Sn.sibling=Vn,Sn=Vn);return br&&mu(He,Gn),Vt}for(hn=A(He,hn);!Vn.done;Gn++,Vn=qe.next())Vn=or(hn,He,Gn,Vn.value,Ct),Vn!==null&&(h&&Vn.alternate!==null&&hn.delete(Vn.key===null?Gn:Vn.key),Me=U(Vn,Me,Gn),Sn===null?Vt=Vn:Sn.sibling=Vn,Sn=Vn);return h&&hn.forEach(function(GV){return m(He,GV)}),br&&mu(He,Gn),Vt}function ha(He,Me,qe,Ct){if(typeof qe=="object"&&qe!==null&&qe.type===u&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case l:e:{for(var Vt=qe.key,Sn=Me;Sn!==null;){if(Sn.key===Vt){if(Vt=qe.type,Vt===u){if(Sn.tag===7){E(He,Sn.sibling),Me=N(Sn,qe.props.children),Me.return=He,He=Me;break e}}else if(Sn.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===S&&w_(Vt)===Sn.type){E(He,Sn.sibling),Me=N(Sn,qe.props),Me.ref=l0(He,Sn,qe),Me.return=He,He=Me;break e}E(He,Sn);break}else m(He,Sn);Sn=Sn.sibling}qe.type===u?(Me=wu(qe.props.children,He.mode,Ct,qe.key),Me.return=He,He=Me):(Ct=mv(qe.type,qe.key,qe.props,null,He.mode,Ct),Ct.ref=l0(He,Me,qe),Ct.return=He,He=Ct)}return ne(He);case c:e:{for(Sn=qe.key;Me!==null;){if(Me.key===Sn)if(Me.tag===4&&Me.stateNode.containerInfo===qe.containerInfo&&Me.stateNode.implementation===qe.implementation){E(He,Me.sibling),Me=N(Me,qe.children||[]),Me.return=He,He=Me;break e}else{E(He,Me);break}else m(He,Me);Me=Me.sibling}Me=m4(qe,He.mode,Ct),Me.return=He,He=Me}return ne(He);case S:return Sn=qe._init,ha(He,Me,Sn(qe._payload),Ct)}if(G(qe))return jt(He,Me,qe,Ct);if(T(qe))return Vi(He,Me,qe,Ct);U3(He,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"?(qe=""+qe,Me!==null&&Me.tag===6?(E(He,Me.sibling),Me=N(Me,qe),Me.return=He,He=Me):(E(He,Me),Me=p4(qe,He.mode,Ct),Me.return=He,He=Me),ne(He)):E(He,Me)}return ha}var af=C_(!0),E_=C_(!1),c0={},ca=Gt(c0),u0=Gt(c0),sf=Gt(c0);function Os(h){if(h===c0)throw Error(a(174));return h}function Nx(h,m){Bt(sf,m),Bt(u0,h),Bt(ca,c0),h=$(m),un(ca),Bt(ca,h)}function lf(){un(ca),un(u0),un(sf)}function __(h){var m=Os(sf.current),E=Os(ca.current);m=O(E,h.type,m),E!==m&&(Bt(u0,h),Bt(ca,m))}function Ox(h){u0.current===h&&(un(ca),un(u0))}var Tr=Gt(0);function k3(h){for(var m=h;m!==null;){if(m.tag===13){var E=m.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||an(E)||Fn(E)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(m.flags&128)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Lx=[];function Dx(){for(var h=0;h<Lx.length;h++){var m=Lx[h];Pe?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}Lx.length=0}var B3=s.ReactCurrentDispatcher,ua=s.ReactCurrentBatchConfig,cf=0,Lr=null,zi=null,yi=null,z3=!1,d0=!1,f0=0,pV=0;function Hi(){throw Error(a(321))}function Fx(h,m){if(m===null)return!1;for(var E=0;E<m.length&&E<h.length;E++)if(!Ps(h[E],m[E]))return!1;return!0}function $x(h,m,E,A,N,U){if(cf=U,Lr=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,B3.current=h===null||h.memoizedState===null?yV:xV,h=E(A,N),d0){U=0;do{if(d0=!1,f0=0,25<=U)throw Error(a(301));U+=1,yi=zi=null,m.updateQueue=null,B3.current=SV,h=E(A,N)}while(d0)}if(B3.current=j3,m=zi!==null&&zi.next!==null,cf=0,yi=zi=Lr=null,z3=!1,m)throw Error(a(300));return h}function Ux(){var h=f0!==0;return f0=0,h}function fl(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yi===null?Lr.memoizedState=yi=h:yi=yi.next=h,yi}function Ls(){if(zi===null){var h=Lr.alternate;h=h!==null?h.memoizedState:null}else h=zi.next;var m=yi===null?Lr.memoizedState:yi.next;if(m!==null)yi=m,zi=h;else{if(h===null)throw Error(a(310));zi=h,h={memoizedState:zi.memoizedState,baseState:zi.baseState,baseQueue:zi.baseQueue,queue:zi.queue,next:null},yi===null?Lr.memoizedState=yi=h:yi=yi.next=h}return yi}function gu(h,m){return typeof m=="function"?m(h):m}function H3(h){var m=Ls(),E=m.queue;if(E===null)throw Error(a(311));E.lastRenderedReducer=h;var A=zi,N=A.baseQueue,U=E.pending;if(U!==null){if(N!==null){var ne=N.next;N.next=U.next,U.next=ne}A.baseQueue=N=U,E.pending=null}if(N!==null){U=N.next,A=A.baseState;var we=ne=null,Ze=null,ht=U;do{var Pt=ht.lane;if((cf&Pt)===Pt)Ze!==null&&(Ze=Ze.next={lane:0,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null}),A=ht.hasEagerState?ht.eagerState:h(A,ht.action);else{var fn={lane:Pt,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null};Ze===null?(we=Ze=fn,ne=A):Ze=Ze.next=fn,Lr.lanes|=Pt,df|=Pt}ht=ht.next}while(ht!==null&&ht!==U);Ze===null?ne=A:Ze.next=we,Ps(A,m.memoizedState)||(Uo=!0),m.memoizedState=A,m.baseState=ne,m.baseQueue=Ze,E.lastRenderedState=A}if(h=E.interleaved,h!==null){N=h;do U=N.lane,Lr.lanes|=U,df|=U,N=N.next;while(N!==h)}else N===null&&(E.lanes=0);return[m.memoizedState,E.dispatch]}function G3(h){var m=Ls(),E=m.queue;if(E===null)throw Error(a(311));E.lastRenderedReducer=h;var A=E.dispatch,N=E.pending,U=m.memoizedState;if(N!==null){E.pending=null;var ne=N=N.next;do U=h(U,ne.action),ne=ne.next;while(ne!==N);Ps(U,m.memoizedState)||(Uo=!0),m.memoizedState=U,m.baseQueue===null&&(m.baseState=U),E.lastRenderedState=U}return[U,A]}function T_(){}function M_(h,m){var E=Lr,A=Ls(),N=m(),U=!Ps(A.memoizedState,N);if(U&&(A.memoizedState=N,Uo=!0),A=A.queue,p0(P_.bind(null,E,A,h),[h]),A.getSnapshot!==m||U||yi!==null&&yi.memoizedState.tag&1){if(E.flags|=2048,h0(9,A_.bind(null,E,A,N,m),void 0,null),Zr===null)throw Error(a(349));cf&30||R_(E,m,N)}return N}function R_(h,m,E){h.flags|=16384,h={getSnapshot:m,value:E},m=Lr.updateQueue,m===null?(m={lastEffect:null,stores:null},Lr.updateQueue=m,m.stores=[h]):(E=m.stores,E===null?m.stores=[h]:E.push(h))}function A_(h,m,E,A){m.value=E,m.getSnapshot=A,I_(m)&&da(h,1,-1)}function P_(h,m,E){return E(function(){I_(m)&&da(h,1,-1)})}function I_(h){var m=h.getSnapshot;h=h.value;try{var E=m();return!Ps(h,E)}catch{return!0}}function kx(h){var m=fl();return typeof h=="function"&&(h=h()),m.memoizedState=m.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gu,lastRenderedState:h},m.queue=h,h=h.dispatch=vV.bind(null,Lr,h),[m.memoizedState,h]}function h0(h,m,E,A){return h={tag:h,create:m,destroy:E,deps:A,next:null},m=Lr.updateQueue,m===null?(m={lastEffect:null,stores:null},Lr.updateQueue=m,m.lastEffect=h.next=h):(E=m.lastEffect,E===null?m.lastEffect=h.next=h:(A=E.next,E.next=h,h.next=A,m.lastEffect=h)),h}function N_(){return Ls().memoizedState}function V3(h,m,E,A){var N=fl();Lr.flags|=h,N.memoizedState=h0(1|m,E,void 0,A===void 0?null:A)}function W3(h,m,E,A){var N=Ls();A=A===void 0?null:A;var U=void 0;if(zi!==null){var ne=zi.memoizedState;if(U=ne.destroy,A!==null&&Fx(A,ne.deps)){N.memoizedState=h0(m,E,U,A);return}}Lr.flags|=h,N.memoizedState=h0(1|m,E,U,A)}function Bx(h,m){return V3(8390656,8,h,m)}function p0(h,m){return W3(2048,8,h,m)}function O_(h,m){return W3(4,2,h,m)}function L_(h,m){return W3(4,4,h,m)}function D_(h,m){if(typeof m=="function")return h=h(),m(h),function(){m(null)};if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function F_(h,m,E){return E=E!=null?E.concat([h]):null,W3(4,4,D_.bind(null,m,h),E)}function zx(){}function $_(h,m){var E=Ls();m=m===void 0?null:m;var A=E.memoizedState;return A!==null&&m!==null&&Fx(m,A[1])?A[0]:(E.memoizedState=[h,m],h)}function U_(h,m){var E=Ls();m=m===void 0?null:m;var A=E.memoizedState;return A!==null&&m!==null&&Fx(m,A[1])?A[0]:(h=h(),E.memoizedState=[h,m],h)}function mV(h,m){var E=In;In=E!==0&&4>E?E:4,h(!0);var A=ua.transition;ua.transition={};try{h(!1),m()}finally{In=E,ua.transition=A}}function k_(){return Ls().memoizedState}function gV(h,m,E){var A=rc(h);E={lane:A,action:E,hasEagerState:!1,eagerState:null,next:null},B_(h)?z_(m,E):(H_(h,m,E),E=oo(),h=da(h,A,E),h!==null&&G_(h,m,A))}function vV(h,m,E){var A=rc(h),N={lane:A,action:E,hasEagerState:!1,eagerState:null,next:null};if(B_(h))z_(m,N);else{H_(h,m,N);var U=h.alternate;if(h.lanes===0&&(U===null||U.lanes===0)&&(U=m.lastRenderedReducer,U!==null))try{var ne=m.lastRenderedState,we=U(ne,E);if(N.hasEagerState=!0,N.eagerState=we,Ps(we,ne))return}catch{}finally{}E=oo(),h=da(h,A,E),h!==null&&G_(h,m,A)}}function B_(h){var m=h.alternate;return h===Lr||m!==null&&m===Lr}function z_(h,m){d0=z3=!0;var E=h.pending;E===null?m.next=m:(m.next=E.next,E.next=m),h.pending=m}function H_(h,m,E){Zr!==null&&h.mode&1&&!(_n&2)?(h=m.interleaved,h===null?(E.next=E,Ns===null?Ns=[m]:Ns.push(m)):(E.next=h.next,h.next=E),m.interleaved=E):(h=m.pending,h===null?E.next=E:(E.next=h.next,h.next=E),m.pending=E)}function G_(h,m,E){if(E&4194240){var A=m.lanes;A&=h.pendingLanes,E|=A,m.lanes=E,hu(h,E)}}var j3={readContext:aa,useCallback:Hi,useContext:Hi,useEffect:Hi,useImperativeHandle:Hi,useInsertionEffect:Hi,useLayoutEffect:Hi,useMemo:Hi,useReducer:Hi,useRef:Hi,useState:Hi,useDebugValue:Hi,useDeferredValue:Hi,useTransition:Hi,useMutableSource:Hi,useSyncExternalStore:Hi,useId:Hi,unstable_isNewReconciler:!1},yV={readContext:aa,useCallback:function(h,m){return fl().memoizedState=[h,m===void 0?null:m],h},useContext:aa,useEffect:Bx,useImperativeHandle:function(h,m,E){return E=E!=null?E.concat([h]):null,V3(4194308,4,D_.bind(null,m,h),E)},useLayoutEffect:function(h,m){return V3(4194308,4,h,m)},useInsertionEffect:function(h,m){return V3(4,2,h,m)},useMemo:function(h,m){var E=fl();return m=m===void 0?null:m,h=h(),E.memoizedState=[h,m],h},useReducer:function(h,m,E){var A=fl();return m=E!==void 0?E(m):m,A.memoizedState=A.baseState=m,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:m},A.queue=h,h=h.dispatch=gV.bind(null,Lr,h),[A.memoizedState,h]},useRef:function(h){var m=fl();return h={current:h},m.memoizedState=h},useState:kx,useDebugValue:zx,useDeferredValue:function(h){var m=kx(h),E=m[0],A=m[1];return Bx(function(){var N=ua.transition;ua.transition={};try{A(h)}finally{ua.transition=N}},[h]),E},useTransition:function(){var h=kx(!1),m=h[0];return h=mV.bind(null,h[1]),fl().memoizedState=h,[m,h]},useMutableSource:function(){},useSyncExternalStore:function(h,m,E){var A=Lr,N=fl();if(br){if(E===void 0)throw Error(a(407));E=E()}else{if(E=m(),Zr===null)throw Error(a(349));cf&30||R_(A,m,E)}N.memoizedState=E;var U={value:E,getSnapshot:m};return N.queue=U,Bx(P_.bind(null,A,U,h),[h]),A.flags|=2048,h0(9,A_.bind(null,A,U,E,m),void 0,null),E},useId:function(){var h=fl(),m=Zr.identifierPrefix;if(br){var E=dl,A=ul;E=(A&~(1<<32-xr(A)-1)).toString(32)+E,m=":"+m+"R"+E,E=f0++,0<E&&(m+="H"+E.toString(32)),m+=":"}else E=pV++,m=":"+m+"r"+E.toString(32)+":";return h.memoizedState=m},unstable_isNewReconciler:!1},xV={readContext:aa,useCallback:$_,useContext:aa,useEffect:p0,useImperativeHandle:F_,useInsertionEffect:O_,useLayoutEffect:L_,useMemo:U_,useReducer:H3,useRef:N_,useState:function(){return H3(gu)},useDebugValue:zx,useDeferredValue:function(h){var m=H3(gu),E=m[0],A=m[1];return p0(function(){var N=ua.transition;ua.transition={};try{A(h)}finally{ua.transition=N}},[h]),E},useTransition:function(){var h=H3(gu)[0],m=Ls().memoizedState;return[h,m]},useMutableSource:T_,useSyncExternalStore:M_,useId:k_,unstable_isNewReconciler:!1},SV={readContext:aa,useCallback:$_,useContext:aa,useEffect:p0,useImperativeHandle:F_,useInsertionEffect:O_,useLayoutEffect:L_,useMemo:U_,useReducer:G3,useRef:N_,useState:function(){return G3(gu)},useDebugValue:zx,useDeferredValue:function(h){var m=G3(gu),E=m[0],A=m[1];return p0(function(){var N=ua.transition;ua.transition={};try{A(h)}finally{ua.transition=N}},[h]),E},useTransition:function(){var h=G3(gu)[0],m=Ls().memoizedState;return[h,m]},useMutableSource:T_,useSyncExternalStore:M_,useId:k_,unstable_isNewReconciler:!1};function Hx(h,m){try{var E="",A=m;do E+=hV(A),A=A.return;while(A);var N=E}catch(U){N=`
Error generating stack: `+U.message+`
`+U.stack}return{value:h,source:m,stack:N}}function Gx(h,m){try{console.error(m.value)}catch(E){setTimeout(function(){throw E})}}var bV=typeof WeakMap=="function"?WeakMap:Map;function V_(h,m,E){E=cl(-1,E),E.tag=3,E.payload={element:null};var A=m.value;return E.callback=function(){lv||(lv=!0,s4=A),Gx(h,m)},E}function W_(h,m,E){E=cl(-1,E),E.tag=3;var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var N=m.value;E.payload=function(){return A(N)},E.callback=function(){Gx(h,m)}}var U=h.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(E.callback=function(){Gx(h,m),typeof A!="function"&&(tc===null?tc=new Set([this]):tc.add(this));var ne=m.stack;this.componentDidCatch(m.value,{componentStack:ne!==null?ne:""})}),E}function j_(h,m,E){var A=h.pingCache;if(A===null){A=h.pingCache=new bV;var N=new Set;A.set(m,N)}else N=A.get(m),N===void 0&&(N=new Set,A.set(m,N));N.has(E)||(N.add(E),h=DV.bind(null,h,m,E),m.then(h,h))}function X_(h){do{var m;if((m=h.tag===13)&&(m=h.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return h;h=h.return}while(h!==null);return null}function q_(h,m,E,A,N){return h.mode&1?(h.flags|=65536,h.lanes=N,h):(h===m?h.flags|=65536:(h.flags|=128,E.flags|=131072,E.flags&=-52805,E.tag===1&&(E.alternate===null?E.tag=17:(m=cl(-1,1),m.tag=2,ec(E,m))),E.lanes|=1),h)}function Ds(h){h.flags|=4}function K_(h,m){if(h!==null&&h.child===m.child)return!0;if(m.flags&16)return!1;for(h=m.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var m0,g0,X3,q3;if(xe)m0=function(h,m){for(var E=m.child;E!==null;){if(E.tag===5||E.tag===6)W(h,E.stateNode);else if(E.tag!==4&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===m)break;for(;E.sibling===null;){if(E.return===null||E.return===m)return;E=E.return}E.sibling.return=E.return,E=E.sibling}},g0=function(){},X3=function(h,m,E,A,N){if(h=h.memoizedProps,h!==A){var U=m.stateNode,ne=Os(ca.current);E=Z(U,E,h,A,N,ne),(m.updateQueue=E)&&Ds(m)}},q3=function(h,m,E,A){E!==A&&Ds(m)};else if(X){m0=function(h,m,E,A){for(var N=m.child;N!==null;){if(N.tag===5){var U=N.stateNode;E&&A&&(U=Xe(U,N.type,N.memoizedProps,N)),W(h,U)}else if(N.tag===6)U=N.stateNode,E&&A&&(U=lt(U,N.memoizedProps,N)),W(h,U);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)U=N.child,U!==null&&(U.return=N),m0(h,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===m)break;for(;N.sibling===null;){if(N.return===null||N.return===m)return;N=N.return}N.sibling.return=N.return,N=N.sibling}};var Y_=function(h,m,E,A){for(var N=m.child;N!==null;){if(N.tag===5){var U=N.stateNode;E&&A&&(U=Xe(U,N.type,N.memoizedProps,N)),rt(h,U)}else if(N.tag===6)U=N.stateNode,E&&A&&(U=lt(U,N.memoizedProps,N)),rt(h,U);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)U=N.child,U!==null&&(U.return=N),Y_(h,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===m)break;for(;N.sibling===null;){if(N.return===null||N.return===m)return;N=N.return}N.sibling.return=N.return,N=N.sibling}};g0=function(h,m){var E=m.stateNode;if(!K_(h,m)){h=E.containerInfo;var A=_e(h);Y_(A,m,!1,!1),E.pendingChildren=A,Ds(m),ct(h,A)}},X3=function(h,m,E,A,N){var U=h.stateNode,ne=h.memoizedProps;if((h=K_(h,m))&&ne===A)m.stateNode=U;else{var we=m.stateNode,Ze=Os(ca.current),ht=null;ne!==A&&(ht=Z(we,E,ne,A,N,Ze)),h&&ht===null?m.stateNode=U:(U=Ie(U,ht,E,ne,A,m,h,we),q(U,E,A,N,Ze)&&Ds(m),m.stateNode=U,h?Ds(m):m0(U,m,!1,!1))}},q3=function(h,m,E,A){E!==A?(h=Os(sf.current),E=Os(ca.current),m.stateNode=oe(A,h,E,m),Ds(m)):m.stateNode=h.stateNode}}else g0=function(){},X3=function(){},q3=function(){};function v0(h,m){if(!br)switch(h.tailMode){case"hidden":m=h.tail;for(var E=null;m!==null;)m.alternate!==null&&(E=m),m=m.sibling;E===null?h.tail=null:E.sibling=null;break;case"collapsed":E=h.tail;for(var A=null;E!==null;)E.alternate!==null&&(A=E),E=E.sibling;A===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:A.sibling=null}}function Gi(h){var m=h.alternate!==null&&h.alternate.child===h.child,E=0,A=0;if(m)for(var N=h.child;N!==null;)E|=N.lanes|N.childLanes,A|=N.subtreeFlags&14680064,A|=N.flags&14680064,N.return=h,N=N.sibling;else for(N=h.child;N!==null;)E|=N.lanes|N.childLanes,A|=N.subtreeFlags,A|=N.flags,N.return=h,N=N.sibling;return h.subtreeFlags|=A,h.childLanes=E,m}function wV(h,m,E){var A=m.pendingProps;switch(Rx(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gi(m),null;case 1:return Et(m.type)&&Ht(),Gi(m),null;case 3:return A=m.stateNode,lf(),un(_t),un(Hn),Dx(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(h===null||h.child===null)&&(s0(m)?Ds(m):h===null||h.memoizedState.isDehydrated&&!(m.flags&256)||(m.flags|=1024,ka!==null&&(u4(ka),ka=null))),g0(h,m),Gi(m),null;case 5:Ox(m),E=Os(sf.current);var N=m.type;if(h!==null&&m.stateNode!=null)X3(h,m,N,A,E),h.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!A){if(m.stateNode===null)throw Error(a(166));return Gi(m),null}if(h=Os(ca.current),s0(m)){if(!fe)throw Error(a(175));h=nn(m.stateNode,m.type,m.memoizedProps,E,h,m,!a0),m.updateQueue=h,h!==null&&Ds(m)}else{var U=F(N,A,E,h,m);m0(U,m,!1,!1),m.stateNode=U,q(U,N,A,E,h)&&Ds(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Gi(m),null;case 6:if(h&&m.stateNode!=null)q3(h,m,h.memoizedProps,A);else{if(typeof A!="string"&&m.stateNode===null)throw Error(a(166));if(h=Os(sf.current),E=Os(ca.current),s0(m)){if(!fe)throw Error(a(176));if(h=m.stateNode,A=m.memoizedProps,(E=Y(h,A,m,!a0))&&(N=Fo,N!==null))switch(U=(N.mode&1)!==0,N.tag){case 3:Ft(N.stateNode.containerInfo,h,A,U);break;case 5:qt(N.type,N.memoizedProps,N.stateNode,h,A,U)}E&&Ds(m)}else m.stateNode=oe(A,h,E,m)}return Gi(m),null;case 13:if(un(Tr),A=m.memoizedState,br&&$o!==null&&m.mode&1&&!(m.flags&128)){for(h=$o;h;)h=An(h);return of(),m.flags|=98560,m}if(A!==null&&A.dehydrated!==null){if(A=s0(m),h===null){if(!A)throw Error(a(318));if(!fe)throw Error(a(344));if(h=m.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));le(h,m)}else of(),!(m.flags&128)&&(m.memoizedState=null),m.flags|=4;return Gi(m),null}return ka!==null&&(u4(ka),ka=null),m.flags&128?(m.lanes=E,m):(A=A!==null,E=!1,h===null?s0(m):E=h.memoizedState!==null,A&&!E&&(m.child.flags|=8192,m.mode&1&&(h===null||Tr.current&1?ai===0&&(ai=3):f4())),m.updateQueue!==null&&(m.flags|=4),Gi(m),null);case 4:return lf(),g0(h,m),h===null&&Ce(m.stateNode.containerInfo),Gi(m),null;case 10:return wx(m.type._context),Gi(m),null;case 17:return Et(m.type)&&Ht(),Gi(m),null;case 19:if(un(Tr),N=m.memoizedState,N===null)return Gi(m),null;if(A=(m.flags&128)!==0,U=N.rendering,U===null)if(A)v0(N,!1);else{if(ai!==0||h!==null&&h.flags&128)for(h=m.child;h!==null;){if(U=k3(h),U!==null){for(m.flags|=128,v0(N,!1),h=U.updateQueue,h!==null&&(m.updateQueue=h,m.flags|=4),m.subtreeFlags=0,h=E,A=m.child;A!==null;)E=A,N=h,E.flags&=14680066,U=E.alternate,U===null?(E.childLanes=0,E.lanes=N,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=U.childLanes,E.lanes=U.lanes,E.child=U.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=U.memoizedProps,E.memoizedState=U.memoizedState,E.updateQueue=U.updateQueue,E.type=U.type,N=U.dependencies,E.dependencies=N===null?null:{lanes:N.lanes,firstContext:N.firstContext}),A=A.sibling;return Bt(Tr,Tr.current&1|2),m.child}h=h.sibling}N.tail!==null&&vn()>a4&&(m.flags|=128,A=!0,v0(N,!1),m.lanes=4194304)}else{if(!A)if(h=k3(U),h!==null){if(m.flags|=128,A=!0,h=h.updateQueue,h!==null&&(m.updateQueue=h,m.flags|=4),v0(N,!0),N.tail===null&&N.tailMode==="hidden"&&!U.alternate&&!br)return Gi(m),null}else 2*vn()-N.renderingStartTime>a4&&E!==1073741824&&(m.flags|=128,A=!0,v0(N,!1),m.lanes=4194304);N.isBackwards?(U.sibling=m.child,m.child=U):(h=N.last,h!==null?h.sibling=U:m.child=U,N.last=U)}return N.tail!==null?(m=N.tail,N.rendering=m,N.tail=m.sibling,N.renderingStartTime=vn(),m.sibling=null,h=Tr.current,Bt(Tr,A?h&1|2:h&1),m):(Gi(m),null);case 22:case 23:return d4(),A=m.memoizedState!==null,h!==null&&h.memoizedState!==null!==A&&(m.flags|=8192),A&&m.mode&1?ko&1073741824&&(Gi(m),xe&&m.subtreeFlags&6&&(m.flags|=8192)):Gi(m),null;case 24:return null;case 25:return null}throw Error(a(156,m.tag))}var CV=s.ReactCurrentOwner,Uo=!1;function io(h,m,E,A){m.child=h===null?E_(m,null,E,A):af(m,h.child,E,A)}function Z_(h,m,E,A,N){E=E.render;var U=m.ref;return tf(m,N),A=$x(h,m,E,A,U,N),E=Ux(),h!==null&&!Uo?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~N,hl(h,m,N)):(br&&E&&Mx(m),m.flags|=1,io(h,m,A,N),m.child)}function Q_(h,m,E,A,N){if(h===null){var U=E.type;return typeof U=="function"&&!h4(U)&&U.defaultProps===void 0&&E.compare===null&&E.defaultProps===void 0?(m.tag=15,m.type=U,J_(h,m,U,A,N)):(h=mv(E.type,null,A,m,m.mode,N),h.ref=m.ref,h.return=m,m.child=h)}if(U=h.child,!(h.lanes&N)){var ne=U.memoizedProps;if(E=E.compare,E=E!==null?E:P3,E(ne,A)&&h.ref===m.ref)return hl(h,m,N)}return m.flags|=1,h=oc(U,A),h.ref=m.ref,h.return=m,m.child=h}function J_(h,m,E,A,N){if(h!==null&&P3(h.memoizedProps,A)&&h.ref===m.ref)if(Uo=!1,(h.lanes&N)!==0)h.flags&131072&&(Uo=!0);else return m.lanes=h.lanes,hl(h,m,N);return Vx(h,m,E,A,N)}function eT(h,m,E){var A=m.pendingProps,N=A.children,U=h!==null?h.memoizedState:null;if(A.mode==="hidden")if(!(m.mode&1))m.memoizedState={baseLanes:0,cachePool:null},Bt(uf,ko),ko|=E;else if(E&1073741824)m.memoizedState={baseLanes:0,cachePool:null},A=U!==null?U.baseLanes:E,Bt(uf,ko),ko|=A;else return h=U!==null?U.baseLanes|E:E,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:h,cachePool:null},m.updateQueue=null,Bt(uf,ko),ko|=h,null;else U!==null?(A=U.baseLanes|E,m.memoizedState=null):A=E,Bt(uf,ko),ko|=A;return io(h,m,N,E),m.child}function tT(h,m){var E=m.ref;(h===null&&E!==null||h!==null&&h.ref!==E)&&(m.flags|=512,m.flags|=2097152)}function Vx(h,m,E,A,N){var U=Et(E)?zt:Hn.current;return U=Tt(m,U),tf(m,N),E=$x(h,m,E,A,U,N),A=Ux(),h!==null&&!Uo?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~N,hl(h,m,N)):(br&&A&&Mx(m),m.flags|=1,io(h,m,E,N),m.child)}function nT(h,m,E,A,N){if(Et(E)){var U=!0;yr(m)}else U=!1;if(tf(m,N),m.stateNode===null)h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),g_(m,E,A),Tx(m,E,A,N),A=!0;else if(h===null){var ne=m.stateNode,we=m.memoizedProps;ne.props=we;var Ze=ne.context,ht=E.contextType;typeof ht=="object"&&ht!==null?ht=aa(ht):(ht=Et(E)?zt:Hn.current,ht=Tt(m,ht));var Pt=E.getDerivedStateFromProps,fn=typeof Pt=="function"||typeof ne.getSnapshotBeforeUpdate=="function";fn||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(we!==A||Ze!==ht)&&v_(m,ne,A,ht),Jl=!1;var Kt=m.memoizedState;ne.state=Kt,L3(m,A,ne,N),Ze=m.memoizedState,we!==A||Kt!==Ze||_t.current||Jl?(typeof Pt=="function"&&(_x(m,E,Pt,A),Ze=m.memoizedState),(we=Jl||m_(m,E,we,A,Kt,Ze,ht))?(fn||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount()),typeof ne.componentDidMount=="function"&&(m.flags|=4194308)):(typeof ne.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=A,m.memoizedState=Ze),ne.props=A,ne.state=Ze,ne.context=ht,A=we):(typeof ne.componentDidMount=="function"&&(m.flags|=4194308),A=!1)}else{ne=m.stateNode,d_(h,m),we=m.memoizedProps,ht=m.type===m.elementType?we:Ua(m.type,we),ne.props=ht,fn=m.pendingProps,Kt=ne.context,Ze=E.contextType,typeof Ze=="object"&&Ze!==null?Ze=aa(Ze):(Ze=Et(E)?zt:Hn.current,Ze=Tt(m,Ze));var or=E.getDerivedStateFromProps;(Pt=typeof or=="function"||typeof ne.getSnapshotBeforeUpdate=="function")||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(we!==fn||Kt!==Ze)&&v_(m,ne,A,Ze),Jl=!1,Kt=m.memoizedState,ne.state=Kt,L3(m,A,ne,N);var jt=m.memoizedState;we!==fn||Kt!==jt||_t.current||Jl?(typeof or=="function"&&(_x(m,E,or,A),jt=m.memoizedState),(ht=Jl||m_(m,E,ht,A,Kt,jt,Ze)||!1)?(Pt||typeof ne.UNSAFE_componentWillUpdate!="function"&&typeof ne.componentWillUpdate!="function"||(typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate(A,jt,Ze),typeof ne.UNSAFE_componentWillUpdate=="function"&&ne.UNSAFE_componentWillUpdate(A,jt,Ze)),typeof ne.componentDidUpdate=="function"&&(m.flags|=4),typeof ne.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof ne.componentDidUpdate!="function"||we===h.memoizedProps&&Kt===h.memoizedState||(m.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||we===h.memoizedProps&&Kt===h.memoizedState||(m.flags|=1024),m.memoizedProps=A,m.memoizedState=jt),ne.props=A,ne.state=jt,ne.context=Ze,A=ht):(typeof ne.componentDidUpdate!="function"||we===h.memoizedProps&&Kt===h.memoizedState||(m.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||we===h.memoizedProps&&Kt===h.memoizedState||(m.flags|=1024),A=!1)}return Wx(h,m,E,A,U,N)}function Wx(h,m,E,A,N,U){tT(h,m);var ne=(m.flags&128)!==0;if(!A&&!ne)return N&&fr(m,E,!1),hl(h,m,U);A=m.stateNode,CV.current=m;var we=ne&&typeof E.getDerivedStateFromError!="function"?null:A.render();return m.flags|=1,h!==null&&ne?(m.child=af(m,h.child,null,U),m.child=af(m,null,we,U)):io(h,m,we,U),m.memoizedState=A.state,N&&fr(m,E,!0),m.child}function rT(h){var m=h.stateNode;m.pendingContext?Zt(h,m.pendingContext,m.pendingContext!==m.context):m.context&&Zt(h,m.context,!1),Nx(h,m.containerInfo)}function iT(h,m,E,A,N){return of(),Ix(N),m.flags|=256,io(h,m,E,A),m.child}var K3={dehydrated:null,treeContext:null,retryLane:0};function Y3(h){return{baseLanes:h,cachePool:null}}function oT(h,m,E){var A=m.pendingProps,N=Tr.current,U=!1,ne=(m.flags&128)!==0,we;if((we=ne)||(we=h!==null&&h.memoizedState===null?!1:(N&2)!==0),we?(U=!0,m.flags&=-129):(h===null||h.memoizedState!==null)&&(N|=1),Bt(Tr,N&1),h===null)return Px(m),h=m.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(m.mode&1?Fn(h)?m.lanes=8:m.lanes=1073741824:m.lanes=1,null):(N=A.children,h=A.fallback,U?(A=m.mode,U=m.child,N={mode:"hidden",children:N},!(A&1)&&U!==null?(U.childLanes=0,U.pendingProps=N):U=gv(N,A,0,null),h=wu(h,A,E,null),U.return=m,h.return=m,U.sibling=h,m.child=U,m.child.memoizedState=Y3(E),m.memoizedState=K3,h):jx(m,N));if(N=h.memoizedState,N!==null){if(we=N.dehydrated,we!==null){if(ne)return m.flags&256?(m.flags&=-257,Z3(h,m,E,Error(a(422)))):m.memoizedState!==null?(m.child=h.child,m.flags|=128,null):(U=A.fallback,N=m.mode,A=gv({mode:"visible",children:A.children},N,0,null),U=wu(U,N,E,null),U.flags|=2,A.return=m,U.return=m,A.sibling=U,m.child=A,m.mode&1&&af(m,h.child,null,E),m.child.memoizedState=Y3(E),m.memoizedState=K3,U);if(!(m.mode&1))m=Z3(h,m,E,null);else if(Fn(we))m=Z3(h,m,E,Error(a(419)));else if(A=(E&h.childLanes)!==0,Uo||A){if(A=Zr,A!==null){switch(E&-E){case 4:U=2;break;case 16:U=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:U=32;break;case 536870912:U=268435456;break;default:U=0}A=U&(A.suspendedLanes|E)?0:U,A!==0&&A!==N.retryLane&&(N.retryLane=A,da(h,A,-1))}f4(),m=Z3(h,m,E,Error(a(421)))}else an(we)?(m.flags|=128,m.child=h.child,m=FV.bind(null,h),Xn(we,m),m=null):(E=N.treeContext,fe&&($o=_r(we),Fo=m,br=!0,ka=null,a0=!1,E!==null&&(sa[la++]=ul,sa[la++]=dl,sa[la++]=pu,ul=E.id,dl=E.overflow,pu=m)),m=jx(m,m.pendingProps.children),m.flags|=4096);return m}return U?(A=sT(h,m,A.children,A.fallback,E),U=m.child,N=h.child.memoizedState,U.memoizedState=N===null?Y3(E):{baseLanes:N.baseLanes|E,cachePool:null},U.childLanes=h.childLanes&~E,m.memoizedState=K3,A):(E=aT(h,m,A.children,E),m.memoizedState=null,E)}return U?(A=sT(h,m,A.children,A.fallback,E),U=m.child,N=h.child.memoizedState,U.memoizedState=N===null?Y3(E):{baseLanes:N.baseLanes|E,cachePool:null},U.childLanes=h.childLanes&~E,m.memoizedState=K3,A):(E=aT(h,m,A.children,E),m.memoizedState=null,E)}function jx(h,m){return m=gv({mode:"visible",children:m},h.mode,0,null),m.return=h,h.child=m}function aT(h,m,E,A){var N=h.child;return h=N.sibling,E=oc(N,{mode:"visible",children:E}),!(m.mode&1)&&(E.lanes=A),E.return=m,E.sibling=null,h!==null&&(A=m.deletions,A===null?(m.deletions=[h],m.flags|=16):A.push(h)),m.child=E}function sT(h,m,E,A,N){var U=m.mode;h=h.child;var ne=h.sibling,we={mode:"hidden",children:E};return!(U&1)&&m.child!==h?(E=m.child,E.childLanes=0,E.pendingProps=we,m.deletions=null):(E=oc(h,we),E.subtreeFlags=h.subtreeFlags&14680064),ne!==null?A=oc(ne,A):(A=wu(A,U,N,null),A.flags|=2),A.return=m,E.return=m,E.sibling=A,m.child=E,A}function Z3(h,m,E,A){return A!==null&&Ix(A),af(m,h.child,null,E),h=jx(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function lT(h,m,E){h.lanes|=m;var A=h.alternate;A!==null&&(A.lanes|=m),Cx(h.return,m,E)}function Xx(h,m,E,A,N){var U=h.memoizedState;U===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:A,tail:E,tailMode:N}:(U.isBackwards=m,U.rendering=null,U.renderingStartTime=0,U.last=A,U.tail=E,U.tailMode=N)}function cT(h,m,E){var A=m.pendingProps,N=A.revealOrder,U=A.tail;if(io(h,m,A.children,E),A=Tr.current,A&2)A=A&1|2,m.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&lT(h,E,m);else if(h.tag===19)lT(h,E,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}A&=1}if(Bt(Tr,A),!(m.mode&1))m.memoizedState=null;else switch(N){case"forwards":for(E=m.child,N=null;E!==null;)h=E.alternate,h!==null&&k3(h)===null&&(N=E),E=E.sibling;E=N,E===null?(N=m.child,m.child=null):(N=E.sibling,E.sibling=null),Xx(m,!1,N,E,U);break;case"backwards":for(E=null,N=m.child,m.child=null;N!==null;){if(h=N.alternate,h!==null&&k3(h)===null){m.child=N;break}h=N.sibling,N.sibling=E,E=N,N=h}Xx(m,!0,E,null,U);break;case"together":Xx(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function hl(h,m,E){if(h!==null&&(m.dependencies=h.dependencies),df|=m.lanes,!(E&m.childLanes))return null;if(h!==null&&m.child!==h.child)throw Error(a(153));if(m.child!==null){for(h=m.child,E=oc(h,h.pendingProps),m.child=E,E.return=m;h.sibling!==null;)h=h.sibling,E=E.sibling=oc(h,h.pendingProps),E.return=m;E.sibling=null}return m.child}function EV(h,m,E){switch(m.tag){case 3:rT(m),of();break;case 5:__(m);break;case 1:Et(m.type)&&yr(m);break;case 4:Nx(m,m.stateNode.containerInfo);break;case 10:u_(m,m.type._context,m.memoizedProps.value);break;case 13:var A=m.memoizedState;if(A!==null)return A.dehydrated!==null?(Bt(Tr,Tr.current&1),m.flags|=128,null):E&m.child.childLanes?oT(h,m,E):(Bt(Tr,Tr.current&1),h=hl(h,m,E),h!==null?h.sibling:null);Bt(Tr,Tr.current&1);break;case 19:if(A=(E&m.childLanes)!==0,h.flags&128){if(A)return cT(h,m,E);m.flags|=128}var N=m.memoizedState;if(N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Bt(Tr,Tr.current),A)break;return null;case 22:case 23:return m.lanes=0,eT(h,m,E)}return hl(h,m,E)}function _V(h,m){switch(Rx(m),m.tag){case 1:return Et(m.type)&&Ht(),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return lf(),un(_t),un(Hn),Dx(),h=m.flags,h&65536&&!(h&128)?(m.flags=h&-65537|128,m):null;case 5:return Ox(m),null;case 13:if(un(Tr),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(a(340));of()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return un(Tr),null;case 4:return lf(),null;case 10:return wx(m.type._context),null;case 22:case 23:return d4(),null;case 24:return null;default:return null}}var Q3=!1,vu=!1,TV=typeof WeakSet=="function"?WeakSet:Set,wt=null;function J3(h,m){var E=h.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(A){So(h,m,A)}else E.current=null}function qx(h,m,E){try{E()}catch(A){So(h,m,A)}}var uT=!1;function MV(h,m){for(z(h.containerInfo),wt=m;wt!==null;)if(h=wt,m=h.child,(h.subtreeFlags&1028)!==0&&m!==null)m.return=h,wt=m;else for(;wt!==null;){h=wt;try{var E=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var A=E.memoizedProps,N=E.memoizedState,U=h.stateNode,ne=U.getSnapshotBeforeUpdate(h.elementType===h.type?A:Ua(h.type,A),N);U.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:xe&&De(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(we){So(h,h.return,we)}if(m=h.sibling,m!==null){m.return=h.return,wt=m;break}wt=h.return}return E=uT,uT=!1,E}function yu(h,m,E){var A=m.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var N=A=A.next;do{if((N.tag&h)===h){var U=N.destroy;N.destroy=void 0,U!==void 0&&qx(m,E,U)}N=N.next}while(N!==A)}}function y0(h,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var E=m=m.next;do{if((E.tag&h)===h){var A=E.create;E.destroy=A()}E=E.next}while(E!==m)}}function Kx(h){var m=h.ref;if(m!==null){var E=h.stateNode;switch(h.tag){case 5:h=B(E);break;default:h=E}typeof m=="function"?m(h):m.current=h}}function dT(h,m,E){if(As&&typeof As.onCommitFiberUnmount=="function")try{As.onCommitFiberUnmount(R3,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:if(h=m.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var A=h=h.next;do{var N=A,U=N.destroy;N=N.tag,U!==void 0&&(N&2||N&4)&&qx(m,E,U),A=A.next}while(A!==h)}break;case 1:if(J3(m,E),h=m.stateNode,typeof h.componentWillUnmount=="function")try{h.props=m.memoizedProps,h.state=m.memoizedState,h.componentWillUnmount()}catch(ne){So(m,E,ne)}break;case 5:J3(m,E);break;case 4:xe?vT(h,m,E):X&&X&&(m=m.stateNode.containerInfo,E=_e(m),pt(m,E))}}function fT(h,m,E){for(var A=m;;)if(dT(h,A,E),A.child===null||xe&&A.tag===4){if(A===m)break;for(;A.sibling===null;){if(A.return===null||A.return===m)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function hT(h){var m=h.alternate;m!==null&&(h.alternate=null,hT(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&Ge(m)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function pT(h){return h.tag===5||h.tag===3||h.tag===4}function mT(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||pT(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function gT(h){if(xe){e:{for(var m=h.return;m!==null;){if(pT(m))break e;m=m.return}throw Error(a(160))}var E=m;switch(E.tag){case 5:m=E.stateNode,E.flags&32&&(ke(m),E.flags&=-33),E=mT(h),Zx(h,E,m);break;case 3:case 4:m=E.stateNode.containerInfo,E=mT(h),Yx(h,E,m);break;default:throw Error(a(161))}}}function Yx(h,m,E){var A=h.tag;if(A===5||A===6)h=h.stateNode,m?We(E,h,m):Be(E,h);else if(A!==4&&(h=h.child,h!==null))for(Yx(h,m,E),h=h.sibling;h!==null;)Yx(h,m,E),h=h.sibling}function Zx(h,m,E){var A=h.tag;if(A===5||A===6)h=h.stateNode,m?at(E,h,m):je(E,h);else if(A!==4&&(h=h.child,h!==null))for(Zx(h,m,E),h=h.sibling;h!==null;)Zx(h,m,E),h=h.sibling}function vT(h,m,E){for(var A=m,N=!1,U,ne;;){if(!N){N=A.return;e:for(;;){if(N===null)throw Error(a(160));switch(U=N.stateNode,N.tag){case 5:ne=!1;break e;case 3:U=U.containerInfo,ne=!0;break e;case 4:U=U.containerInfo,ne=!0;break e}N=N.return}N=!0}if(A.tag===5||A.tag===6)fT(h,A,E),ne?te(U,A.stateNode):ut(U,A.stateNode);else if(A.tag===18)ne?Ot(U,A.stateNode):ft(U,A.stateNode);else if(A.tag===4){if(A.child!==null){U=A.stateNode.containerInfo,ne=!0,A.child.return=A,A=A.child;continue}}else if(dT(h,A,E),A.child!==null){A.child.return=A,A=A.child;continue}if(A===m)break;for(;A.sibling===null;){if(A.return===null||A.return===m)return;A=A.return,A.tag===4&&(N=!1)}A.sibling.return=A.return,A=A.sibling}}function Qx(h,m){if(xe){switch(m.tag){case 0:case 11:case 14:case 15:yu(3,m,m.return),y0(3,m),yu(5,m,m.return);return;case 1:return;case 5:var E=m.stateNode;if(E!=null){var A=m.memoizedProps;h=h!==null?h.memoizedProps:A;var N=m.type,U=m.updateQueue;m.updateQueue=null,U!==null&&et(E,U,N,h,A,m)}return;case 6:if(m.stateNode===null)throw Error(a(162));E=m.memoizedProps,Fe(m.stateNode,h!==null?h.memoizedProps:E,E);return;case 3:fe&&h!==null&&h.memoizedState.isDehydrated&&ge(m.stateNode.containerInfo);return;case 12:return;case 13:ev(m);return;case 19:ev(m);return;case 17:return}throw Error(a(163))}switch(m.tag){case 0:case 11:case 14:case 15:yu(3,m,m.return),y0(3,m),yu(5,m,m.return);return;case 12:return;case 13:ev(m);return;case 19:ev(m);return;case 3:fe&&h!==null&&h.memoizedState.isDehydrated&&ge(m.stateNode.containerInfo);break;case 22:case 23:return}e:if(X){switch(m.tag){case 1:case 5:case 6:break e;case 3:case 4:m=m.stateNode,pt(m.containerInfo,m.pendingChildren);break e}throw Error(a(163))}}function ev(h){var m=h.updateQueue;if(m!==null){h.updateQueue=null;var E=h.stateNode;E===null&&(E=h.stateNode=new TV),m.forEach(function(A){var N=$V.bind(null,h,A);E.has(A)||(E.add(A),A.then(N,N))})}}function RV(h,m){for(wt=m;wt!==null;){m=wt;var E=m.deletions;if(E!==null)for(var A=0;A<E.length;A++){var N=E[A];try{var U=h;xe?vT(U,N,m):fT(U,N,m);var ne=N.alternate;ne!==null&&(ne.return=null),N.return=null}catch(Vt){So(N,m,Vt)}}if(E=m.child,m.subtreeFlags&12854&&E!==null)E.return=m,wt=E;else for(;wt!==null;){m=wt;try{var we=m.flags;if(we&32&&xe&&ke(m.stateNode),we&512){var Ze=m.alternate;if(Ze!==null){var ht=Ze.ref;ht!==null&&(typeof ht=="function"?ht(null):ht.current=null)}}if(we&8192)switch(m.tag){case 13:if(m.memoizedState!==null){var Pt=m.alternate;(Pt===null||Pt.memoizedState===null)&&(o4=vn())}break;case 22:var fn=m.memoizedState!==null,Kt=m.alternate,or=Kt!==null&&Kt.memoizedState!==null;if(E=m,xe){e:if(A=E,N=fn,U=null,xe)for(var jt=A;;){if(jt.tag===5){if(U===null){U=jt;var Vi=jt.stateNode;N?ze(Vi):de(jt.stateNode,jt.memoizedProps)}}else if(jt.tag===6){if(U===null){var ha=jt.stateNode;N?J(ha):ue(ha,jt.memoizedProps)}}else if((jt.tag!==22&&jt.tag!==23||jt.memoizedState===null||jt===A)&&jt.child!==null){jt.child.return=jt,jt=jt.child;continue}if(jt===A)break;for(;jt.sibling===null;){if(jt.return===null||jt.return===A)break e;U===jt&&(U=null),jt=jt.return}U===jt&&(U=null),jt.sibling.return=jt.return,jt=jt.sibling}}if(fn&&!or&&E.mode&1){wt=E;for(var He=E.child;He!==null;){for(E=wt=He;wt!==null;){A=wt;var Me=A.child;switch(A.tag){case 0:case 11:case 14:case 15:yu(4,A,A.return);break;case 1:J3(A,A.return);var qe=A.stateNode;if(typeof qe.componentWillUnmount=="function"){var Ct=A.return;try{qe.props=A.memoizedProps,qe.state=A.memoizedState,qe.componentWillUnmount()}catch(Vt){So(A,Ct,Vt)}}break;case 5:J3(A,A.return);break;case 22:if(A.memoizedState!==null){ST(E);continue}}Me!==null?(Me.return=A,wt=Me):ST(E)}He=He.sibling}}}switch(we&4102){case 2:gT(m),m.flags&=-3;break;case 6:gT(m),m.flags&=-3,Qx(m.alternate,m);break;case 4096:m.flags&=-4097;break;case 4100:m.flags&=-4097,Qx(m.alternate,m);break;case 4:Qx(m.alternate,m)}}catch(Vt){So(m,m.return,Vt)}if(E=m.sibling,E!==null){E.return=m.return,wt=E;break}wt=m.return}}}function AV(h,m,E){wt=h,yT(h)}function yT(h,m,E){for(var A=(h.mode&1)!==0;wt!==null;){var N=wt,U=N.child;if(N.tag===22&&A){var ne=N.memoizedState!==null||Q3;if(!ne){var we=N.alternate,Ze=we!==null&&we.memoizedState!==null||vu;we=Q3;var ht=vu;if(Q3=ne,(vu=Ze)&&!ht)for(wt=N;wt!==null;)ne=wt,Ze=ne.child,ne.tag===22&&ne.memoizedState!==null?bT(N):Ze!==null?(Ze.return=ne,wt=Ze):bT(N);for(;U!==null;)wt=U,yT(U),U=U.sibling;wt=N,Q3=we,vu=ht}xT(h)}else N.subtreeFlags&8772&&U!==null?(U.return=N,wt=U):xT(h)}}function xT(h){for(;wt!==null;){var m=wt;if(m.flags&8772){var E=m.alternate;try{if(m.flags&8772)switch(m.tag){case 0:case 11:case 15:vu||y0(5,m);break;case 1:var A=m.stateNode;if(m.flags&4&&!vu)if(E===null)A.componentDidMount();else{var N=m.elementType===m.type?E.memoizedProps:Ua(m.type,E.memoizedProps);A.componentDidUpdate(N,E.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var U=m.updateQueue;U!==null&&h_(m,U,A);break;case 3:var ne=m.updateQueue;if(ne!==null){if(E=null,m.child!==null)switch(m.child.tag){case 5:E=B(m.child.stateNode);break;case 1:E=m.child.stateNode}h_(m,ne,E)}break;case 5:var we=m.stateNode;E===null&&m.flags&4&&Ue(we,m.type,m.memoizedProps,m);break;case 6:break;case 4:break;case 12:break;case 13:if(fe&&m.memoizedState===null){var Ze=m.alternate;if(Ze!==null){var ht=Ze.memoizedState;if(ht!==null){var Pt=ht.dehydrated;Pt!==null&&Te(Pt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}vu||m.flags&512&&Kx(m)}catch(fn){So(m,m.return,fn)}}if(m===h){wt=null;break}if(E=m.sibling,E!==null){E.return=m.return,wt=E;break}wt=m.return}}function ST(h){for(;wt!==null;){var m=wt;if(m===h){wt=null;break}var E=m.sibling;if(E!==null){E.return=m.return,wt=E;break}wt=m.return}}function bT(h){for(;wt!==null;){var m=wt;try{switch(m.tag){case 0:case 11:case 15:var E=m.return;try{y0(4,m)}catch(Ze){So(m,E,Ze)}break;case 1:var A=m.stateNode;if(typeof A.componentDidMount=="function"){var N=m.return;try{A.componentDidMount()}catch(Ze){So(m,N,Ze)}}var U=m.return;try{Kx(m)}catch(Ze){So(m,U,Ze)}break;case 5:var ne=m.return;try{Kx(m)}catch(Ze){So(m,ne,Ze)}}}catch(Ze){So(m,m.return,Ze)}if(m===h){wt=null;break}var we=m.sibling;if(we!==null){we.return=m.return,wt=we;break}wt=m.return}}var tv=0,nv=1,rv=2,iv=3,ov=4;if(typeof Symbol=="function"&&Symbol.for){var x0=Symbol.for;tv=x0("selector.component"),nv=x0("selector.has_pseudo_class"),rv=x0("selector.role"),iv=x0("selector.test_id"),ov=x0("selector.text")}function Jx(h){var m=pe(h);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(a(364));return m}if(h=Le(h),h===null)throw Error(a(362));return h.stateNode.current}function e4(h,m){switch(m.$$typeof){case tv:if(h.type===m.value)return!0;break;case nv:e:{m=m.value,h=[h,0];for(var E=0;E<h.length;){var A=h[E++],N=h[E++],U=m[N];if(A.tag!==5||!j(A)){for(;U!=null&&e4(A,U);)N++,U=m[N];if(N===m.length){m=!0;break e}else for(A=A.child;A!==null;)h.push(A,N),A=A.sibling}}m=!1}return m;case rv:if(h.tag===5&&ae(h.stateNode,m.value))return!0;break;case ov:if((h.tag===5||h.tag===6)&&(h=K(h),h!==null&&0<=h.indexOf(m.value)))return!0;break;case iv:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function t4(h){switch(h.$$typeof){case tv:return"<"+(M(h.value)||"Unknown")+">";case nv:return":has("+(t4(h)||"")+")";case rv:return'[role="'+h.value+'"]';case ov:return'"'+h.value+'"';case iv:return'[data-testname="'+h.value+'"]';default:throw Error(a(365))}}function wT(h,m){var E=[];h=[h,0];for(var A=0;A<h.length;){var N=h[A++],U=h[A++],ne=m[U];if(N.tag!==5||!j(N)){for(;ne!=null&&e4(N,ne);)U++,ne=m[U];if(U===m.length)E.push(N);else for(N=N.child;N!==null;)h.push(N,U),N=N.sibling}}return E}function n4(h,m){if(!Ae)throw Error(a(363));h=Jx(h),h=wT(h,m),m=[],h=Array.from(h);for(var E=0;E<h.length;){var A=h[E++];if(A.tag===5)j(A)||m.push(A.stateNode);else for(A=A.child;A!==null;)h.push(A),A=A.sibling}return m}var PV=Math.ceil,av=s.ReactCurrentDispatcher,r4=s.ReactCurrentOwner,Gr=s.ReactCurrentBatchConfig,_n=0,Zr=null,Qr=null,Ai=0,ko=0,uf=Gt(0),ai=0,S0=null,df=0,sv=0,i4=0,b0=null,yo=null,o4=0,a4=1/0;function ff(){a4=vn()+500}var lv=!1,s4=null,tc=null,cv=!1,nc=null,uv=0,w0=0,l4=null,dv=-1,fv=0;function oo(){return _n&6?vn():dv!==-1?dv:dv=vn()}function rc(h){return h.mode&1?_n&2&&Ai!==0?Ai&-Ai:fV.transition!==null?(fv===0&&(h=Zl,Zl<<=1,!(Zl&4194240)&&(Zl=64),fv=h),fv):(h=In,h!==0?h:me()):1}function da(h,m,E){if(50<w0)throw w0=0,l4=null,Error(a(185));var A=hv(h,m);return A===null?null:(Rs(A,m,E),(!(_n&2)||A!==Zr)&&(A===Zr&&(!(_n&2)&&(sv|=m),ai===4&&ic(A,Ai)),xo(A,E),m===1&&_n===0&&!(h.mode&1)&&(ff(),A3&&Is())),A)}function hv(h,m){h.lanes|=m;var E=h.alternate;for(E!==null&&(E.lanes|=m),E=h,h=h.return;h!==null;)h.childLanes|=m,E=h.alternate,E!==null&&(E.childLanes|=m),E=h,h=h.return;return E.tag===3?E.stateNode:null}function xo(h,m){var E=h.callbackNode;Ts(h,m);var A=ol(h,h===Zr?Ai:0);if(A===0)E!==null&&dn(E),h.callbackNode=null,h.callbackPriority=0;else if(m=A&-A,h.callbackPriority!==m){if(E!=null&&dn(E),m===1)h.tag===0?dV(ET.bind(null,h)):c_(ET.bind(null,h)),ve?Re(function(){_n===0&&Is()}):At(Ql,Is),E=null;else{switch(Zd(A)){case 1:E=Ql;break;case 4:E=o0;break;case 16:E=Qd;break;case 536870912:E=Jd;break;default:E=Qd}E=OT(E,CT.bind(null,h))}h.callbackPriority=m,h.callbackNode=E}}function CT(h,m){if(dv=-1,fv=0,_n&6)throw Error(a(327));var E=h.callbackNode;if(bu()&&h.callbackNode!==E)return null;var A=ol(h,h===Zr?Ai:0);if(A===0)return null;if(A&30||A&h.expiredLanes||m)m=pv(h,A);else{m=A;var N=_n;_n|=2;var U=MT();(Zr!==h||Ai!==m)&&(ff(),xu(h,m));do try{OV();break}catch(we){TT(h,we)}while(1);bx(),av.current=U,_n=N,Qr!==null?m=0:(Zr=null,Ai=0,m=ai)}if(m!==0){if(m===2&&(N=sl(h),N!==0&&(A=N,m=c4(h,N))),m===1)throw E=S0,xu(h,0),ic(h,A),xo(h,vn()),E;if(m===6)ic(h,A);else{if(N=h.current.alternate,!(A&30)&&!IV(N)&&(m=pv(h,A),m===2&&(U=sl(h),U!==0&&(A=U,m=c4(h,U))),m===1))throw E=S0,xu(h,0),ic(h,A),xo(h,vn()),E;switch(h.finishedWork=N,h.finishedLanes=A,m){case 0:case 1:throw Error(a(345));case 2:Su(h,yo);break;case 3:if(ic(h,A),(A&130023424)===A&&(m=o4+500-vn(),10<m)){if(ol(h,0)!==0)break;if(N=h.suspendedLanes,(N&A)!==A){oo(),h.pingedLanes|=h.suspendedLanes&N;break}h.timeoutHandle=re(Su.bind(null,h,yo),m);break}Su(h,yo);break;case 4:if(ic(h,A),(A&4194240)===A)break;for(m=h.eventTimes,N=-1;0<A;){var ne=31-xr(A);U=1<<ne,ne=m[ne],ne>N&&(N=ne),A&=~U}if(A=N,A=vn()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*PV(A/1960))-A,10<A){h.timeoutHandle=re(Su.bind(null,h,yo),A);break}Su(h,yo);break;case 5:Su(h,yo);break;default:throw Error(a(329))}}}return xo(h,vn()),h.callbackNode===E?CT.bind(null,h):null}function c4(h,m){var E=b0;return h.current.memoizedState.isDehydrated&&(xu(h,m).flags|=256),h=pv(h,m),h!==2&&(m=yo,yo=E,m!==null&&u4(m)),h}function u4(h){yo===null?yo=h:yo.push.apply(yo,h)}function IV(h){for(var m=h;;){if(m.flags&16384){var E=m.updateQueue;if(E!==null&&(E=E.stores,E!==null))for(var A=0;A<E.length;A++){var N=E[A],U=N.getSnapshot;N=N.value;try{if(!Ps(U(),N))return!1}catch{return!1}}}if(E=m.child,m.subtreeFlags&16384&&E!==null)E.return=m,m=E;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function ic(h,m){for(m&=~i4,m&=~sv,h.suspendedLanes|=m,h.pingedLanes&=~m,h=h.expirationTimes;0<m;){var E=31-xr(m),A=1<<E;h[E]=-1,m&=~A}}function ET(h){if(_n&6)throw Error(a(327));bu();var m=ol(h,0);if(!(m&1))return xo(h,vn()),null;var E=pv(h,m);if(h.tag!==0&&E===2){var A=sl(h);A!==0&&(m=A,E=c4(h,A))}if(E===1)throw E=S0,xu(h,0),ic(h,m),xo(h,vn()),E;if(E===6)throw Error(a(345));return h.finishedWork=h.current.alternate,h.finishedLanes=m,Su(h,yo),xo(h,vn()),null}function _T(h){nc!==null&&nc.tag===0&&!(_n&6)&&bu();var m=_n;_n|=1;var E=Gr.transition,A=In;try{if(Gr.transition=null,In=1,h)return h()}finally{In=A,Gr.transition=E,_n=m,!(_n&6)&&Is()}}function d4(){ko=uf.current,un(uf)}function xu(h,m){h.finishedWork=null,h.finishedLanes=0;var E=h.timeoutHandle;if(E!==Se&&(h.timeoutHandle=Se,ce(E)),Qr!==null)for(E=Qr.return;E!==null;){var A=E;switch(Rx(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&Ht();break;case 3:lf(),un(_t),un(Hn),Dx();break;case 5:Ox(A);break;case 4:lf();break;case 13:un(Tr);break;case 19:un(Tr);break;case 10:wx(A.type._context);break;case 22:case 23:d4()}E=E.return}if(Zr=h,Qr=h=oc(h.current,null),Ai=ko=m,ai=0,S0=null,i4=sv=df=0,yo=b0=null,Ns!==null){for(m=0;m<Ns.length;m++)if(E=Ns[m],A=E.interleaved,A!==null){E.interleaved=null;var N=A.next,U=E.pending;if(U!==null){var ne=U.next;U.next=N,A.next=ne}E.pending=A}Ns=null}return h}function TT(h,m){do{var E=Qr;try{if(bx(),B3.current=j3,z3){for(var A=Lr.memoizedState;A!==null;){var N=A.queue;N!==null&&(N.pending=null),A=A.next}z3=!1}if(cf=0,yi=zi=Lr=null,d0=!1,f0=0,r4.current=null,E===null||E.return===null){ai=1,S0=m,Qr=null;break}e:{var U=h,ne=E.return,we=E,Ze=m;if(m=Ai,we.flags|=32768,Ze!==null&&typeof Ze=="object"&&typeof Ze.then=="function"){var ht=Ze,Pt=we,fn=Pt.tag;if(!(Pt.mode&1)&&(fn===0||fn===11||fn===15)){var Kt=Pt.alternate;Kt?(Pt.updateQueue=Kt.updateQueue,Pt.memoizedState=Kt.memoizedState,Pt.lanes=Kt.lanes):(Pt.updateQueue=null,Pt.memoizedState=null)}var or=X_(ne);if(or!==null){or.flags&=-257,q_(or,ne,we,U,m),or.mode&1&&j_(U,ht,m),m=or,Ze=ht;var jt=m.updateQueue;if(jt===null){var Vi=new Set;Vi.add(Ze),m.updateQueue=Vi}else jt.add(Ze);break e}else{if(!(m&1)){j_(U,ht,m),f4();break e}Ze=Error(a(426))}}else if(br&&we.mode&1){var ha=X_(ne);if(ha!==null){!(ha.flags&65536)&&(ha.flags|=256),q_(ha,ne,we,U,m),Ix(Ze);break e}}U=Ze,ai!==4&&(ai=2),b0===null?b0=[U]:b0.push(U),Ze=Hx(Ze,we),we=ne;do{switch(we.tag){case 3:we.flags|=65536,m&=-m,we.lanes|=m;var He=V_(we,Ze,m);f_(we,He);break e;case 1:U=Ze;var Me=we.type,qe=we.stateNode;if(!(we.flags&128)&&(typeof Me.getDerivedStateFromError=="function"||qe!==null&&typeof qe.componentDidCatch=="function"&&(tc===null||!tc.has(qe)))){we.flags|=65536,m&=-m,we.lanes|=m;var Ct=W_(we,U,m);f_(we,Ct);break e}}we=we.return}while(we!==null)}AT(E)}catch(Vt){m=Vt,Qr===E&&E!==null&&(Qr=E=E.return);continue}break}while(1)}function MT(){var h=av.current;return av.current=j3,h===null?j3:h}function f4(){(ai===0||ai===3||ai===2)&&(ai=4),Zr===null||!(df&268435455)&&!(sv&268435455)||ic(Zr,Ai)}function pv(h,m){var E=_n;_n|=2;var A=MT();Zr===h&&Ai===m||xu(h,m);do try{NV();break}catch(N){TT(h,N)}while(1);if(bx(),_n=E,av.current=A,Qr!==null)throw Error(a(261));return Zr=null,Ai=0,ai}function NV(){for(;Qr!==null;)RT(Qr)}function OV(){for(;Qr!==null&&!Sr();)RT(Qr)}function RT(h){var m=NT(h.alternate,h,ko);h.memoizedProps=h.pendingProps,m===null?AT(h):Qr=m,r4.current=null}function AT(h){var m=h;do{var E=m.alternate;if(h=m.return,m.flags&32768){if(E=_V(E,m),E!==null){E.flags&=32767,Qr=E;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{ai=6,Qr=null;return}}else if(E=wV(E,m,ko),E!==null){Qr=E;return}if(m=m.sibling,m!==null){Qr=m;return}Qr=m=h}while(m!==null);ai===0&&(ai=5)}function Su(h,m){var E=In,A=Gr.transition;try{Gr.transition=null,In=1,LV(h,m,E)}finally{Gr.transition=A,In=E}return null}function LV(h,m,E){do bu();while(nc!==null);if(_n&6)throw Error(a(327));var A=h.finishedWork,N=h.finishedLanes;if(A===null)return null;if(h.finishedWork=null,h.finishedLanes=0,A===h.current)throw Error(a(177));h.callbackNode=null,h.callbackPriority=0;var U=A.lanes|A.childLanes;if(i0(h,U),h===Zr&&(Qr=Zr=null,Ai=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||cv||(cv=!0,OT(Qd,function(){return bu(),null})),U=(A.flags&15990)!==0,A.subtreeFlags&15990||U){U=Gr.transition,Gr.transition=null;var ne=In;In=1;var we=_n;_n|=4,r4.current=null,MV(h,A),RV(h,A),V(h.containerInfo),h.current=A,AV(A),Hr(),_n=we,In=ne,Gr.transition=U}else h.current=A;if(cv&&(cv=!1,nc=h,uv=N),U=h.pendingLanes,U===0&&(tc=null),cV(A.stateNode),xo(h,vn()),m!==null)for(E=h.onRecoverableError,A=0;A<m.length;A++)E(m[A]);if(lv)throw lv=!1,h=s4,s4=null,h;return uv&1&&h.tag!==0&&bu(),U=h.pendingLanes,U&1?h===l4?w0++:(w0=0,l4=h):w0=0,Is(),null}function bu(){if(nc!==null){var h=Zd(uv),m=Gr.transition,E=In;try{if(Gr.transition=null,In=16>h?16:h,nc===null)var A=!1;else{if(h=nc,nc=null,uv=0,_n&6)throw Error(a(331));var N=_n;for(_n|=4,wt=h.current;wt!==null;){var U=wt,ne=U.child;if(wt.flags&16){var we=U.deletions;if(we!==null){for(var Ze=0;Ze<we.length;Ze++){var ht=we[Ze];for(wt=ht;wt!==null;){var Pt=wt;switch(Pt.tag){case 0:case 11:case 15:yu(8,Pt,U)}var fn=Pt.child;if(fn!==null)fn.return=Pt,wt=fn;else for(;wt!==null;){Pt=wt;var Kt=Pt.sibling,or=Pt.return;if(hT(Pt),Pt===ht){wt=null;break}if(Kt!==null){Kt.return=or,wt=Kt;break}wt=or}}}var jt=U.alternate;if(jt!==null){var Vi=jt.child;if(Vi!==null){jt.child=null;do{var ha=Vi.sibling;Vi.sibling=null,Vi=ha}while(Vi!==null)}}wt=U}}if(U.subtreeFlags&2064&&ne!==null)ne.return=U,wt=ne;else e:for(;wt!==null;){if(U=wt,U.flags&2048)switch(U.tag){case 0:case 11:case 15:yu(9,U,U.return)}var He=U.sibling;if(He!==null){He.return=U.return,wt=He;break e}wt=U.return}}var Me=h.current;for(wt=Me;wt!==null;){ne=wt;var qe=ne.child;if(ne.subtreeFlags&2064&&qe!==null)qe.return=ne,wt=qe;else e:for(ne=Me;wt!==null;){if(we=wt,we.flags&2048)try{switch(we.tag){case 0:case 11:case 15:y0(9,we)}}catch(Vt){So(we,we.return,Vt)}if(we===ne){wt=null;break e}var Ct=we.sibling;if(Ct!==null){Ct.return=we.return,wt=Ct;break e}wt=we.return}}if(_n=N,Is(),As&&typeof As.onPostCommitFiberRoot=="function")try{As.onPostCommitFiberRoot(R3,h)}catch{}A=!0}return A}finally{In=E,Gr.transition=m}}return!1}function PT(h,m,E){m=Hx(E,m),m=V_(h,m,1),ec(h,m),m=oo(),h=hv(h,1),h!==null&&(Rs(h,1,m),xo(h,m))}function So(h,m,E){if(h.tag===3)PT(h,h,E);else for(;m!==null;){if(m.tag===3){PT(m,h,E);break}else if(m.tag===1){var A=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(tc===null||!tc.has(A))){h=Hx(E,h),h=W_(m,h,1),ec(m,h),h=oo(),m=hv(m,1),m!==null&&(Rs(m,1,h),xo(m,h));break}}m=m.return}}function DV(h,m,E){var A=h.pingCache;A!==null&&A.delete(m),m=oo(),h.pingedLanes|=h.suspendedLanes&E,Zr===h&&(Ai&E)===E&&(ai===4||ai===3&&(Ai&130023424)===Ai&&500>vn()-o4?xu(h,0):i4|=E),xo(h,m)}function IT(h,m){m===0&&(h.mode&1?(m=Ri,Ri<<=1,!(Ri&130023424)&&(Ri=4194304)):m=1);var E=oo();h=hv(h,m),h!==null&&(Rs(h,m,E),xo(h,E))}function FV(h){var m=h.memoizedState,E=0;m!==null&&(E=m.retryLane),IT(h,E)}function $V(h,m){var E=0;switch(h.tag){case 13:var A=h.stateNode,N=h.memoizedState;N!==null&&(E=N.retryLane);break;case 19:A=h.stateNode;break;default:throw Error(a(314))}A!==null&&A.delete(m),IT(h,E)}var NT;NT=function(h,m,E){if(h!==null)if(h.memoizedProps!==m.pendingProps||_t.current)Uo=!0;else{if(!(h.lanes&E)&&!(m.flags&128))return Uo=!1,EV(h,m,E);Uo=!!(h.flags&131072)}else Uo=!1,br&&m.flags&1048576&&y_(m,$3,m.index);switch(m.lanes=0,m.tag){case 2:var A=m.type;h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),h=m.pendingProps;var N=Tt(m,Hn.current);tf(m,E),N=$x(null,m,A,h,N,E);var U=Ux();return m.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Et(A)?(U=!0,yr(m)):U=!1,m.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,Ex(m),N.updater=D3,m.stateNode=N,N._reactInternals=m,Tx(m,A,h,E),m=Wx(null,m,A,!0,U,E)):(m.tag=0,br&&U&&Mx(m),io(null,m,N,E),m=m.child),m;case 16:A=m.elementType;e:{switch(h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),h=m.pendingProps,N=A._init,A=N(A._payload),m.type=A,N=m.tag=kV(A),h=Ua(A,h),N){case 0:m=Vx(null,m,A,h,E);break e;case 1:m=nT(null,m,A,h,E);break e;case 11:m=Z_(null,m,A,h,E);break e;case 14:m=Q_(null,m,A,Ua(A.type,h),E);break e}throw Error(a(306,A,""))}return m;case 0:return A=m.type,N=m.pendingProps,N=m.elementType===A?N:Ua(A,N),Vx(h,m,A,N,E);case 1:return A=m.type,N=m.pendingProps,N=m.elementType===A?N:Ua(A,N),nT(h,m,A,N,E);case 3:e:{if(rT(m),h===null)throw Error(a(387));A=m.pendingProps,U=m.memoizedState,N=U.element,d_(h,m),L3(m,A,null,E);var ne=m.memoizedState;if(A=ne.element,fe&&U.isDehydrated)if(U={element:A,isDehydrated:!1,cache:ne.cache,transitions:ne.transitions},m.updateQueue.baseState=U,m.memoizedState=U,m.flags&256){N=Error(a(423)),m=iT(h,m,A,E,N);break e}else if(A!==N){N=Error(a(424)),m=iT(h,m,A,E,N);break e}else for(fe&&($o=nr(m.stateNode.containerInfo),Fo=m,br=!0,ka=null,a0=!1),E=E_(m,null,A,E),m.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(of(),A===N){m=hl(h,m,E);break e}io(h,m,A,E)}m=m.child}return m;case 5:return __(m),h===null&&Px(m),A=m.type,N=m.pendingProps,U=h!==null?h.memoizedProps:null,ne=N.children,ee(A,N)?ne=null:U!==null&&ee(A,U)&&(m.flags|=32),tT(h,m),io(h,m,ne,E),m.child;case 6:return h===null&&Px(m),null;case 13:return oT(h,m,E);case 4:return Nx(m,m.stateNode.containerInfo),A=m.pendingProps,h===null?m.child=af(m,null,A,E):io(h,m,A,E),m.child;case 11:return A=m.type,N=m.pendingProps,N=m.elementType===A?N:Ua(A,N),Z_(h,m,A,N,E);case 7:return io(h,m,m.pendingProps,E),m.child;case 8:return io(h,m,m.pendingProps.children,E),m.child;case 12:return io(h,m,m.pendingProps.children,E),m.child;case 10:e:{if(A=m.type._context,N=m.pendingProps,U=m.memoizedProps,ne=N.value,u_(m,A,ne),U!==null)if(Ps(U.value,ne)){if(U.children===N.children&&!_t.current){m=hl(h,m,E);break e}}else for(U=m.child,U!==null&&(U.return=m);U!==null;){var we=U.dependencies;if(we!==null){ne=U.child;for(var Ze=we.firstContext;Ze!==null;){if(Ze.context===A){if(U.tag===1){Ze=cl(-1,E&-E),Ze.tag=2;var ht=U.updateQueue;if(ht!==null){ht=ht.shared;var Pt=ht.pending;Pt===null?Ze.next=Ze:(Ze.next=Pt.next,Pt.next=Ze),ht.pending=Ze}}U.lanes|=E,Ze=U.alternate,Ze!==null&&(Ze.lanes|=E),Cx(U.return,E,m),we.lanes|=E;break}Ze=Ze.next}}else if(U.tag===10)ne=U.type===m.type?null:U.child;else if(U.tag===18){if(ne=U.return,ne===null)throw Error(a(341));ne.lanes|=E,we=ne.alternate,we!==null&&(we.lanes|=E),Cx(ne,E,m),ne=U.sibling}else ne=U.child;if(ne!==null)ne.return=U;else for(ne=U;ne!==null;){if(ne===m){ne=null;break}if(U=ne.sibling,U!==null){U.return=ne.return,ne=U;break}ne=ne.return}U=ne}io(h,m,N.children,E),m=m.child}return m;case 9:return N=m.type,A=m.pendingProps.children,tf(m,E),N=aa(N),A=A(N),m.flags|=1,io(h,m,A,E),m.child;case 14:return A=m.type,N=Ua(A,m.pendingProps),N=Ua(A.type,N),Q_(h,m,A,N,E);case 15:return J_(h,m,m.type,m.pendingProps,E);case 17:return A=m.type,N=m.pendingProps,N=m.elementType===A?N:Ua(A,N),h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,Et(A)?(h=!0,yr(m)):h=!1,tf(m,E),g_(m,A,N),Tx(m,A,N,E),Wx(null,m,A,!0,h,E);case 19:return cT(h,m,E);case 22:return eT(h,m,E)}throw Error(a(156,m.tag))};function OT(h,m){return At(h,m)}function UV(h,m,E,A){this.tag=h,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fa(h,m,E,A){return new UV(h,m,E,A)}function h4(h){return h=h.prototype,!(!h||!h.isReactComponent)}function kV(h){if(typeof h=="function")return h4(h)?1:0;if(h!=null){if(h=h.$$typeof,h===b)return 11;if(h===w)return 14}return 2}function oc(h,m){var E=h.alternate;return E===null?(E=fa(h.tag,m,h.key,h.mode),E.elementType=h.elementType,E.type=h.type,E.stateNode=h.stateNode,E.alternate=h,h.alternate=E):(E.pendingProps=m,E.type=h.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=h.flags&14680064,E.childLanes=h.childLanes,E.lanes=h.lanes,E.child=h.child,E.memoizedProps=h.memoizedProps,E.memoizedState=h.memoizedState,E.updateQueue=h.updateQueue,m=h.dependencies,E.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},E.sibling=h.sibling,E.index=h.index,E.ref=h.ref,E}function mv(h,m,E,A,N,U){var ne=2;if(A=h,typeof h=="function")h4(h)&&(ne=1);else if(typeof h=="string")ne=5;else e:switch(h){case u:return wu(E.children,N,U,m);case d:ne=8,N|=8;break;case f:return h=fa(12,E,m,N|2),h.elementType=f,h.lanes=U,h;case x:return h=fa(13,E,m,N),h.elementType=x,h.lanes=U,h;case v:return h=fa(19,E,m,N),h.elementType=v,h.lanes=U,h;case C:return gv(E,N,U,m);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case p:ne=10;break e;case y:ne=9;break e;case b:ne=11;break e;case w:ne=14;break e;case S:ne=16,A=null;break e}throw Error(a(130,h==null?h:typeof h,""))}return m=fa(ne,E,m,N),m.elementType=h,m.type=A,m.lanes=U,m}function wu(h,m,E,A){return h=fa(7,h,A,m),h.lanes=E,h}function gv(h,m,E,A){return h=fa(22,h,A,m),h.elementType=C,h.lanes=E,h.stateNode={},h}function p4(h,m,E){return h=fa(6,h,null,m),h.lanes=E,h}function m4(h,m,E){return m=fa(4,h.children!==null?h.children:[],h.key,m),m.lanes=E,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}function BV(h,m,E,A,N){this.tag=m,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Se,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ms(0),this.expirationTimes=Ms(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ms(0),this.identifierPrefix=A,this.onRecoverableError=N,fe&&(this.mutableSourceEagerHydrationData=null)}function LT(h,m,E,A,N,U,ne,we,Ze){return h=new BV(h,m,E,we,Ze),m===1?(m=1,U===!0&&(m|=8)):m=0,U=fa(3,null,null,m),h.current=U,U.stateNode=h,U.memoizedState={element:A,isDehydrated:E,cache:null,transitions:null},Ex(U),h}function DT(h){if(!h)return rr;h=h._reactInternals;e:{if(R(h)!==h||h.tag!==1)throw Error(a(170));var m=h;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Et(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(a(171))}if(h.tag===1){var E=h.type;if(Et(E))return Pn(h,E,m)}return m}function FT(h){var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(a(188)):(h=Object.keys(h).join(","),Error(a(268,h)));return h=k(m),h===null?null:h.stateNode}function $T(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var E=h.retryLane;h.retryLane=E!==0&&E<m?E:m}}function g4(h,m){$T(h,m),(h=h.alternate)&&$T(h,m)}function zV(h){return h=k(h),h===null?null:h.stateNode}function HV(){return null}return n.attemptContinuousHydration=function(h){if(h.tag===13){var m=oo();da(h,134217728,m),g4(h,134217728)}},n.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var m=oo(),E=rc(h);da(h,E,m),g4(h,E)}},n.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var m=h.stateNode;if(m.current.memoizedState.isDehydrated){var E=ro(m.pendingLanes);E!==0&&(hu(m,E|1),xo(m,vn()),!(_n&6)&&(ff(),Is()))}break;case 13:var A=oo();_T(function(){return da(h,1,A)}),g4(h,1)}},n.batchedUpdates=function(h,m){var E=_n;_n|=1;try{return h(m)}finally{_n=E,_n===0&&(ff(),A3&&Is())}},n.createComponentSelector=function(h){return{$$typeof:tv,value:h}},n.createContainer=function(h,m,E,A,N,U,ne){return LT(h,m,!1,null,E,A,N,U,ne)},n.createHasPseudoClassSelector=function(h){return{$$typeof:nv,value:h}},n.createHydrationContainer=function(h,m,E,A,N,U,ne,we,Ze){return h=LT(E,A,!0,h,N,U,ne,we,Ze),h.context=DT(null),E=h.current,A=oo(),N=rc(E),U=cl(A,N),U.callback=m??null,ec(E,U),h.current.lanes=N,Rs(h,N,A),xo(h,A),h},n.createPortal=function(h,m,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:A==null?null:""+A,children:h,containerInfo:m,implementation:E}},n.createRoleSelector=function(h){return{$$typeof:rv,value:h}},n.createTestNameSelector=function(h){return{$$typeof:iv,value:h}},n.createTextSelector=function(h){return{$$typeof:ov,value:h}},n.deferredUpdates=function(h){var m=In,E=Gr.transition;try{return Gr.transition=null,In=16,h()}finally{In=m,Gr.transition=E}},n.discreteUpdates=function(h,m,E,A,N){var U=In,ne=Gr.transition;try{return Gr.transition=null,In=1,h(m,E,A,N)}finally{In=U,Gr.transition=ne,_n===0&&ff()}},n.findAllNodes=n4,n.findBoundingRects=function(h,m){if(!Ae)throw Error(a(363));m=n4(h,m),h=[];for(var E=0;E<m.length;E++)h.push(Je(m[E]));for(m=h.length-1;0<m;m--){E=h[m];for(var A=E.x,N=A+E.width,U=E.y,ne=U+E.height,we=m-1;0<=we;we--)if(m!==we){var Ze=h[we],ht=Ze.x,Pt=ht+Ze.width,fn=Ze.y,Kt=fn+Ze.height;if(A>=ht&&U>=fn&&N<=Pt&&ne<=Kt){h.splice(m,1);break}else if(A!==ht||E.width!==Ze.width||Kt<U||fn>ne){if(!(U!==fn||E.height!==Ze.height||Pt<A||ht>N)){ht>A&&(Ze.width+=ht-A,Ze.x=A),Pt<N&&(Ze.width=N-ht),h.splice(m,1);break}}else{fn>U&&(Ze.height+=fn-U,Ze.y=U),Kt<ne&&(Ze.height=ne-fn),h.splice(m,1);break}}}return h},n.findHostInstance=FT,n.findHostInstanceWithNoPortals=function(h){return h=L(h),h=h!==null?D(h):null,h===null?null:h.stateNode},n.findHostInstanceWithWarning=function(h){return FT(h)},n.flushControlled=function(h){var m=_n;_n|=1;var E=Gr.transition,A=In;try{Gr.transition=null,In=1,h()}finally{In=A,Gr.transition=E,_n=m,_n===0&&(ff(),Is())}},n.flushPassiveEffects=bu,n.flushSync=_T,n.focusWithin=function(h,m){if(!Ae)throw Error(a(363));for(h=Jx(h),m=wT(h,m),m=Array.from(m),h=0;h<m.length;){var E=m[h++];if(!j(E)){if(E.tag===5&&Ee(E.stateNode))return!0;for(E=E.child;E!==null;)m.push(E),E=E.sibling}}return!1},n.getCurrentUpdatePriority=function(){return In},n.getFindAllNodesFailureDescription=function(h,m){if(!Ae)throw Error(a(363));var E=0,A=[];h=[Jx(h),0];for(var N=0;N<h.length;){var U=h[N++],ne=h[N++],we=m[ne];if((U.tag!==5||!j(U))&&(e4(U,we)&&(A.push(t4(we)),ne++,ne>E&&(E=ne)),ne<m.length))for(U=U.child;U!==null;)h.push(U,ne),U=U.sibling}if(E<m.length){for(h=[];E<m.length;E++)h.push(t4(m[E]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},n.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return B(h.child.stateNode);default:return h.child.stateNode}},n.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:zV,findFiberByHostInstance:h.findFiberByHostInstance||HV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)h=!0;else{try{R3=m.inject(h),As=m}catch{}h=!!m.checkDCE}}return h},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(h,m,E,A){if(!Ae)throw Error(a(363));h=n4(h,m);var N=Oe(h,E,A).disconnect;return{disconnect:function(){N()}}},n.registerMutableSourceForHydration=function(h,m){var E=m._getVersion;E=E(m._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[m,E]:h.mutableSourceEagerHydrationData.push(m,E)},n.runWithPriority=function(h,m){var E=In;try{return In=h,m()}finally{In=E}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(h,m,E,A){var N=m.current,U=oo(),ne=rc(N);return E=DT(E),m.context===null?m.context=E:m.pendingContext=E,m=cl(U,ne),m.payload={element:h},A=A===void 0?null:A,A!==null&&(m.callback=A),ec(N,m),h=da(N,ne,U),h!==null&&O3(h,N,ne),ne},n};_z.exports=k2e;var B2e=_z.exports;const z2e=Fp(B2e),RE={},H2e=t=>void Object.assign(RE,t);function G2e(t,e){function n(u,{args:d=[],attach:f,...p},y){let b=`${u[0].toUpperCase()}${u.slice(1)}`,x;if(u==="primitive"){if(p.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=p.object;x=nh(v,{type:u,root:y,attach:f,primitive:!0})}else{const v=RE[b];if(!v)throw new Error(`R3F: ${b} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");x=nh(new v(...d),{type:u,root:y,attach:f,memoizedProps:{args:d}})}return x.__r3f.attach===void 0&&(x instanceof wn?x.__r3f.attach="geometry":x instanceof Mi&&(x.__r3f.attach="material")),b!=="inject"&&xS(x,p),x}function r(u,d){let f=!1;if(d){var p,y;(p=d.__r3f)!=null&&p.attach?yS(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),f=!0),f||(y=u.__r3f)==null||y.objects.push(d),d.__r3f||nh(d,{}),d.__r3f.parent=u,f9(d),rh(d)}}function i(u,d,f){let p=!1;if(d){var y,b;if((y=d.__r3f)!=null&&y.attach)yS(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"});const x=u.children.filter(w=>w!==d),v=x.indexOf(f);u.children=[...x.slice(0,v),d,...x.slice(v)],p=!0}p||(b=u.__r3f)==null||b.objects.push(d),d.__r3f||nh(d,{}),d.__r3f.parent=u,f9(d),rh(d)}}function o(u,d,f=!1){u&&[...u].forEach(p=>a(d,p,f))}function a(u,d,f){if(d){var p,y,b;if(d.__r3f&&(d.__r3f.parent=null),(p=u.__r3f)!=null&&p.objects&&(u.__r3f.objects=u.__r3f.objects.filter(C=>C!==d)),(y=d.__r3f)!=null&&y.attach)xN(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var x;u.remove(d),(x=d.__r3f)!=null&&x.root&&Z2e(d.__r3f.root,d)}const w=(b=d.__r3f)==null?void 0:b.primitive,S=!w&&(f===void 0?d.dispose!==null:f);if(!w){var v;o((v=d.__r3f)==null?void 0:v.objects,d,S),o(d.children,d,S)}if(delete d.__r3f,S&&d.dispose&&d.type!=="Scene"){const C=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?u9.unstable_scheduleCallback(u9.unstable_IdlePriority,C):C()}rh(u)}}function s(u,d,f,p){var y;const b=(y=u.__r3f)==null?void 0:y.parent;if(!b)return;const x=n(d,f,u.__r3f.root);if(u.children){for(const v of u.children)v.__r3f&&r(x,v);u.children=u.children.filter(v=>!v.__r3f)}u.__r3f.objects.forEach(v=>r(x,v)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||a(b,u),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),r(b,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[p,p.alternate].forEach(v=>{v!==null&&(v.stateNode=x,v.ref&&(typeof v.ref=="function"?v.ref(x):v.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:z2e({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const f=u.getState().scene;f.__r3f&&(f.__r3f.root=u,r(f,d))},removeChildFromContainer:(u,d)=>{d&&a(u.getState().scene,d)},insertInContainerBefore:(u,d,f)=>{if(!d||!f)return;const p=u.getState().scene;p.__r3f&&i(p,d,f)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;return!!((d=u?.__r3f)!=null?d:{}).handlers},prepareUpdate(u,d,f,p){var y;if(((y=u?.__r3f)!=null?y:{}).primitive&&p.object&&p.object!==u)return[!0];{const{args:x=[],children:v,...w}=p,{args:S=[],children:C,..._}=f;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((M,I)=>M!==S[I]))return[!0];const T=Lz(u,w,_,!0);return T.changes.length?[!1,T]:null}},commitUpdate(u,[d,f],p,y,b,x){d?s(u,p,b,x):xS(u,f)},commitMount(u,d,f,p){var y;const b=(y=u.__r3f)!=null?y:{};u.raycast&&b.handlers&&b.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>nh(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:f,parent:p}=(d=u.__r3f)!=null?d:{};f&&p&&xN(p,u,f),u.isObject3D&&(u.visible=!1),rh(u)},unhideInstance(u,d){var f;const{attach:p,parent:y}=(f=u.__r3f)!=null?f:{};p&&y&&yS(y,u,p),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),rh(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():_h.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&wr.fun(performance.now)?performance.now:wr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:wr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:wr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:xS}}var mN,gN;const vS=t=>"colorSpace"in t||"outputColorSpace"in t,Rz=()=>{var t;return(t=RE.ColorManagement)!=null?t:null},Az=t=>t&&t.isOrthographicCamera,V2e=t=>t&&t.hasOwnProperty("current"),S3=typeof window<"u"&&((mN=window.document)!=null&&mN.createElement||((gN=window.navigator)==null?void 0:gN.product)==="ReactNative")?g.useLayoutEffect:g.useEffect;function Pz(t){const e=g.useRef(t);return S3(()=>void(e.current=t),[t]),e}function W2e({set:t}){return S3(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class Iz extends g.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}Iz.getDerivedStateFromError=()=>({error:!0});const Nz="__default",vN=new Map,j2e=t=>t&&!!t.memoized&&!!t.changes;function Oz(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const q0=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},wr={obj:t=>t===Object(t)&&!wr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(wr.str(t)||wr.num(t))return t===e;const o=wr.obj(t);if(o&&r==="reference")return t===e;const a=wr.arr(t);if(a&&n==="reference")return t===e;if((a||o)&&t===e)return!0;let s;for(s in t)if(!(s in e))return!1;if(o&&n==="shallow"&&r==="shallow"){for(s in i?e:t)if(!wr.equ(t[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:t)if(t[s]!==e[s])return!1;if(wr.und(s)){if(a&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function X2e(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function nh(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function d9(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((o,a)=>o[a],t),{target:n,key:i}}else return{target:n,key:e}}const yN=/-\d+$/;function yS(t,e,n){if(wr.str(n)){if(yN.test(n)){const o=n.replace(yN,""),{target:a,key:s}=d9(t,o);Array.isArray(a[s])||(a[s]=[])}const{target:r,key:i}=d9(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function xN(t,e,n){var r,i;if(wr.str(n)){const{target:o,key:a}=d9(t,n),s=e.__r3f.previousAttach;s===void 0?delete o[a]:o[a]=s}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function Lz(t,{children:e,key:n,ref:r,...i},{children:o,key:a,ref:s,...l}={},c=!1){var u;const d=(u=t?.__r3f)!=null?u:{},f=Object.entries(i),p=[];if(c){const b=Object.keys(l);for(let x=0;x<b.length;x++)i.hasOwnProperty(b[x])||f.unshift([b[x],Nz+"remove"])}f.forEach(([b,x])=>{var v;if((v=t.__r3f)!=null&&v.primitive&&b==="object"||wr.equ(x,l[b]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(b))return p.push([b,x,!0,[]]);let w=[];b.includes("-")&&(w=b.split("-")),p.push([b,x,!1,w]);for(const S in i){const C=i[S];S.startsWith(`${b}-`)&&p.push([S,C,!1,S.split("-")])}});const y={...i};return d.memoizedProps&&d.memoizedProps.args&&(y.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(y.attach=d.memoizedProps.attach),{memoized:y,changes:p}}const q2e=typeof process<"u"&&!1;function xS(t,e){var n,r,i;const o=(n=t.__r3f)!=null?n:{},a=o.root,s=(r=a==null||a.getState==null?void 0:a.getState())!=null?r:{},{memoized:l,changes:c}=j2e(e)?e:Lz(t,e),u=o.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let f=0;f<c.length;f++){let[p,y,b,x]=c[f];if(vS(t)){const C="srgb",_="srgb-linear";p==="encoding"?(p="colorSpace",y=y===3001?C:_):p==="outputEncoding"&&(p="outputColorSpace",y=y===3001?C:_)}let v=t,w=v[p];if(x.length&&(w=x.reduce((S,C)=>S[C],t),!(w&&w.set))){const[S,...C]=x.reverse();v=C.reverse().reduce((_,T)=>_[T],t),p=S}if(y===Nz+"remove")if(v.constructor){let S=vN.get(v.constructor);S||(S=new v.constructor,vN.set(v.constructor,S)),y=S[p]}else y=0;if(b)y?o.handlers[p]=y:delete o.handlers[p],o.eventCount=Object.keys(o.handlers).length;else if(w&&w.set&&(w.copy||w instanceof gd)){if(Array.isArray(y))w.fromArray?w.fromArray(y):w.set(...y);else if(w.copy&&y&&y.constructor&&(q2e?w.constructor.name===y.constructor.name:w.constructor===y.constructor))w.copy(y);else if(y!==void 0){const S=w instanceof St;!S&&w.setScalar?w.setScalar(y):w instanceof gd&&y instanceof gd?w.mask=y.mask:w.set(y),!Rz()&&!s.linear&&S&&w.convertSRGBToLinear()}}else if(v[p]=y,v[p]instanceof Nr&&v[p].format===Qi&&v[p].type===Io){const S=v[p];vS(S)&&vS(s.gl)?S.colorSpace=s.gl.outputColorSpace:S.encoding=s.gl.outputEncoding}rh(t)}if(o.parent&&s.internal&&t.raycast&&u!==o.eventCount){const f=s.internal.interaction.indexOf(t);f>-1&&s.internal.interaction.splice(f,1),o.eventCount&&s.internal.interaction.push(t)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=t.__r3f)!=null&&i.parent&&f9(t),t}function rh(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function f9(t){t.onUpdate==null||t.onUpdate(t)}function K2e(t,e){t.manual||(Az(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function z1(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Y2e(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return _h.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return _h.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return _h.ContinuousEventPriority;default:return _h.DefaultEventPriority}}function Dz(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function Z2e(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{Dz(n.capturedMap,e,r,i)})}function Q2e(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),d=new Set,f=[],p=c?c(u.internal.interaction):u.internal.interaction;for(let v=0;v<p.length;v++){const w=q0(p[v]);w&&(w.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function y(v){const w=q0(v);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var S;w.events.compute==null||w.events.compute(l,w,(S=w.previousRoot)==null?void 0:S.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(v,!0):[]}let b=p.flatMap(y).sort((v,w)=>{const S=q0(v.object),C=q0(w.object);return!S||!C?v.distance-w.distance:C.events.priority-S.events.priority||v.distance-w.distance}).filter(v=>{const w=z1(v);return d.has(w)?!1:(d.add(w),!0)});u.events.filter&&(b=u.events.filter(b,u));for(const v of b){let w=v.object;for(;w;){var x;(x=w.__r3f)!=null&&x.eventCount&&f.push({...v,eventObject:w}),w=w.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let v of u.internal.capturedMap.get(l.pointerId).values())d.has(z1(v.intersection))||f.push(v.intersection);return f}function i(l,c,u,d){const f=t.getState();if(l.length){const p={stopped:!1};for(const y of l){const b=q0(y.object)||f,{raycaster:x,pointer:v,camera:w,internal:S}=b,C=new Q(v.x,v.y,0).unproject(w),_=P=>{var L,k;return(L=(k=S.capturedMap.get(P))==null?void 0:k.has(y.eventObject))!=null?L:!1},T=P=>{const L={intersection:y,target:c.target};S.capturedMap.has(P)?S.capturedMap.get(P).set(y.eventObject,L):S.capturedMap.set(P,new Map([[y.eventObject,L]])),c.target.setPointerCapture(P)},M=P=>{const L=S.capturedMap.get(P);L&&Dz(S.capturedMap,y.eventObject,L,P)};let I={};for(let P in c){let L=c[P];typeof L!="function"&&(I[P]=L)}let R={...y,...I,pointer:v,intersections:l,stopped:p.stopped,delta:u,unprojectedPoint:C,ray:x.ray,camera:w,stopPropagation(){const P="pointerId"in c&&S.capturedMap.get(c.pointerId);if((!P||P.has(y.eventObject))&&(R.stopped=p.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(L=>L.eventObject===y.eventObject))){const L=l.slice(0,l.indexOf(y));o([...L,y])}},target:{hasPointerCapture:_,setPointerCapture:T,releasePointerCapture:M},currentTarget:{hasPointerCapture:_,setPointerCapture:T,releasePointerCapture:M},nativeEvent:c};if(d(R),p.stopped===!0)break}}return l}function o(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const f=u.eventObject.__r3f,p=f?.handlers;if(c.hovered.delete(z1(u)),f!=null&&f.eventCount){const y={...u,intersections:l};p.onPointerOut==null||p.onPointerOut(y),p.onPointerLeave==null||p.onPointerLeave(y)}}}function a(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),o([]))})}}return function(u){const{onPointerMissed:d,internal:f}=t.getState();f.lastEvent.current=u;const p=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=r(u,p?n:void 0),v=y?e(u):0;l==="onPointerDown"&&(f.initialClick=[u.offsetX,u.offsetY],f.initialHits=x.map(S=>S.eventObject)),y&&!x.length&&v<=2&&(a(u,f.interaction),d&&d(u)),p&&o(x);function w(S){const C=S.eventObject,_=C.__r3f,T=_?.handlers;if(_!=null&&_.eventCount)if(p){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const M=z1(S),I=f.hovered.get(M);I?I.stopped&&S.stopPropagation():(f.hovered.set(M,S),T.onPointerOver==null||T.onPointerOver(S),T.onPointerEnter==null||T.onPointerEnter(S))}T.onPointerMove==null||T.onPointerMove(S)}else{const M=T[l];M?(!y||f.initialHits.includes(C))&&(a(u,f.interaction.filter(I=>!f.initialHits.includes(I))),M(S)):y&&f.initialHits.includes(C)&&a(u,f.interaction.filter(I=>!f.initialHits.includes(I)))}}i(x,u,v,w)}}return{handlePointer:s}}const Fz=t=>!!(t!=null&&t.render),$z=g.createContext(null),J2e=(t,e)=>{const n=U2e((s,l)=>{const c=new Q,u=new Q,d=new Q;function f(v=l().camera,w=u,S=l().size){const{width:C,height:_,top:T,left:M}=S,I=C/_;w instanceof Q?d.copy(w):d.set(...w);const R=v.getWorldPosition(c).distanceTo(d);if(Az(v))return{width:C/v.zoom,height:_/v.zoom,top:T,left:M,factor:1,distance:R,aspect:I};{const P=v.fov*Math.PI/180,L=2*Math.tan(P/2)*R,k=L*(C/_);return{width:k,height:L,top:T,left:M,factor:C/k,distance:R,aspect:I}}}let p;const y=v=>s(w=>({performance:{...w.performance,current:v}})),b=new Qe;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>t(l(),v),advance:(v,w)=>e(v,w,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new _E,pointer:b,mouse:b,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();p&&clearTimeout(p),v.performance.current!==v.performance.min&&y(v.performance.min),p=setTimeout(()=>y(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:v=>s(w=>({...w,events:{...w.events,...v}})),setSize:(v,w,S,C,_)=>{const T=l().camera,M={width:v,height:w,top:C||0,left:_||0,updateStyle:S};s(I=>({size:M,viewport:{...I.viewport,...f(T,u,M)}}))},setDpr:v=>s(w=>{const S=Oz(v);return{viewport:{...w.viewport,dpr:S,initialDpr:w.viewport.initialDpr||S}}}),setFrameloop:(v="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,v!=="never"&&(w.start(),w.elapsedTime=0),s(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:g.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,w,S)=>{const C=l().internal;return C.priority=C.priority+(w>0?1:0),C.subscribers.push({ref:v,priority:w,store:S}),C.subscribers=C.subscribers.sort((_,T)=>_.priority-T.priority),()=>{const _=l().internal;_!=null&&_.subscribers&&(_.priority=_.priority-(w>0?1:0),_.subscribers=_.subscribers.filter(T=>T.ref!==v))}}}}}),r=n.getState();let i=r.size,o=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:s,size:l,viewport:c,gl:u,set:d}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==o){var f;i=l,o=c.dpr,K2e(s,l),u.setPixelRatio(c.dpr);const p=(f=l.updateStyle)!=null?f:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,p)}s!==a&&(a=s,d(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(s)}})))}),n.subscribe(s=>t(s)),n};let H1,eye=new Set,tye=new Set,nye=new Set;function SS(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function K0(t,e){switch(t){case"before":return SS(eye,e);case"after":return SS(tye,e);case"tail":return SS(nye,e)}}let bS,wS;function CS(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),bS=e.internal.subscribers,H1=0;H1<bS.length;H1++)wS=bS[H1],wS.ref.current(wS.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function rye(t){let e=!1,n,r,i;function o(l){r=requestAnimationFrame(o),e=!0,n=0,K0("before",l);for(const u of t.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(n+=CS(l,i))}if(K0("after",l),n===0)return K0("tail",l),e=!1,cancelAnimationFrame(r)}function a(l,c=1){var u;if(!l)return t.forEach(d=>a(d.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(o)))}function s(l,c=!0,u,d){if(c&&K0("before",l),u)CS(l,u,d);else for(const f of t.values())CS(l,f.store.getState());c&&K0("after",l)}return{loop:o,invalidate:a,advance:s}}function Uz(){const t=g.useContext($z);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function vc(t=n=>n,e){return Uz()(t,e)}function kz(t,e=0){const n=Uz(),r=n.getState().internal.subscribe,i=Pz(t);return S3(()=>r(i,e,n),[e,r,n]),null}const Ap=new Map,{invalidate:SN,advance:bN}=rye(Ap),{reconciler:Fy,applyProps:Zf}=G2e(Ap,Y2e),Qf={objects:"shallow",strict:!1},iye=(t,e)=>{const n=typeof t=="function"?t(e):t;return Fz(n)?n:new lE({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function oye(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:o,left:a,updateStyle:s=n}=e;return{width:r,height:i,top:o,left:a,updateStyle:s}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:o,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:o,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function aye(t){const e=Ap.get(t),n=e?.fiber,r=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||J2e(SN,bN),a=n||Fy.createContainer(o,_h.ConcurrentRoot,null,!1,null,"",i,null);e||Ap.set(t,{fiber:a,store:o});let s,l=!1,c;return{configure(u={}){let{gl:d,size:f,scene:p,events:y,onCreated:b,shadows:x=!1,linear:v=!1,flat:w=!1,legacy:S=!1,orthographic:C=!1,frameloop:_="always",dpr:T=[1,2],performance:M,raycaster:I,camera:R,onPointerMissed:P}=u,L=o.getState(),k=L.gl;L.gl||L.set({gl:k=iye(d,t)});let H=L.raycaster;H||L.set({raycaster:H=new wz});const{params:D,...G}=I||{};if(wr.equ(G,H,Qf)||Zf(H,{...G}),wr.equ(D,H.params,Qf)||Zf(H,{params:{...H.params,...D}}),!L.camera||L.camera===c&&!wr.equ(c,R,Qf)){c=R;const W=R instanceof f3,q=W?R:C?new Nl(0,0,0,0,.1,1e3):new Ur(75,0,.1,1e3);W||(q.position.z=5,R&&Zf(q,R),!L.camera&&!(R!=null&&R.rotation)&&q.lookAt(0,0,0)),L.set({camera:q}),H.camera=q}if(!L.scene){let W;p instanceof Mp?W=p:(W=new Mp,p&&Zf(W,p)),L.set({scene:nh(W)})}if(!L.xr){var B;const W=(ee,oe)=>{const re=o.getState();re.frameloop!=="never"&&bN(ee,!0,re,oe)},q=()=>{const ee=o.getState();ee.gl.xr.enabled=ee.gl.xr.isPresenting,ee.gl.xr.setAnimationLoop(ee.gl.xr.isPresenting?W:null),ee.gl.xr.isPresenting||SN(ee)},Z={connect(){const ee=o.getState().gl;ee.xr.addEventListener("sessionstart",q),ee.xr.addEventListener("sessionend",q)},disconnect(){const ee=o.getState().gl;ee.xr.removeEventListener("sessionstart",q),ee.xr.removeEventListener("sessionend",q)}};typeof((B=k.xr)==null?void 0:B.addEventListener)=="function"&&Z.connect(),L.set({xr:Z})}if(k.shadowMap){const W=k.shadowMap.enabled,q=k.shadowMap.type;if(k.shadowMap.enabled=!!x,wr.boo(x))k.shadowMap.type=Mm;else if(wr.str(x)){var $;const Z={basic:Xk,percentage:J5,soft:Mm,variance:Xa};k.shadowMap.type=($=Z[x])!=null?$:Mm}else wr.obj(x)&&Object.assign(k.shadowMap,x);(W!==k.shadowMap.enabled||q!==k.shadowMap.type)&&(k.shadowMap.needsUpdate=!0)}const O=Rz();O&&("enabled"in O?O.enabled=!S:"legacyMode"in O&&(O.legacyMode=S)),Zf(k,{outputEncoding:v?3e3:3001,toneMapping:w?Po:x6}),L.legacy!==S&&L.set(()=>({legacy:S})),L.linear!==v&&L.set(()=>({linear:v})),L.flat!==w&&L.set(()=>({flat:w})),d&&!wr.fun(d)&&!Fz(d)&&!wr.equ(d,k,Qf)&&Zf(k,d),y&&!L.events.handlers&&L.set({events:y(o)});const F=oye(t,f);return wr.equ(F,L.size,Qf)||L.setSize(F.width,F.height,F.updateStyle,F.top,F.left),T&&L.viewport.dpr!==Oz(T)&&L.setDpr(T),L.frameloop!==_&&L.setFrameloop(_),L.onPointerMissed||L.set({onPointerMissed:P}),M&&!wr.equ(M,L.performance,Qf)&&L.set(W=>({performance:{...W.performance,...M}})),s=b,l=!0,this},render(u){return l||this.configure(),Fy.updateContainer(g.createElement(sye,{store:o,children:u,onCreated:s,rootElement:t}),a,null,()=>{}),o},unmount(){Bz(t)}}}function sye({store:t,children:e,onCreated:n,rootElement:r}){return S3(()=>{const i=t.getState();i.set(o=>({internal:{...o.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),g.createElement($z.Provider,{value:t},e)}function Bz(t,e){const n=Ap.get(t),r=n?.fiber;if(r){const i=n?.store.getState();i&&(i.internal.active=!1),Fy.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,a,s,l;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(a=o.renderLists)==null||a.dispose==null||a.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),X2e(i),Ap.delete(t),e&&e(t)}catch{}},500)})}}Fy.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:g.version});function h9(t,e,n){var r,i,o,a,s;e==null&&(e=100);function l(){var u=Date.now()-a;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,n||(s=t.apply(o,i),o=i=null))}var c=function(){o=this,i=arguments,a=Date.now();var u=n&&!r;return r||(r=setTimeout(l,e)),u&&(s=t.apply(o,i),o=i=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}h9.debounce=h9;var lye=h9;const wN=Fp(lye);function cye(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const o=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=g.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=g.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,d=g.useRef(!1);g.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[f,p,y]=g.useMemo(()=>{const w=()=>{if(!l.current.element)return;const{left:S,top:C,width:_,height:T,bottom:M,right:I,x:R,y:P}=l.current.element.getBoundingClientRect(),L={left:S,top:C,width:_,height:T,bottom:M,right:I,x:R,y:P};l.current.element instanceof HTMLElement&&i&&(L.height=l.current.element.offsetHeight,L.width=l.current.element.offsetWidth),Object.freeze(L),d.current&&!hye(l.current.lastBounds,L)&&s(l.current.lastBounds=L)};return[w,u?wN(w,u):w,c?wN(w,c):w]},[s,i,c,u]);function b(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){l.current.element&&(l.current.resizeObserver=new o(y),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(w=>w.addEventListener("scroll",y,{capture:!0,passive:!0})))}const v=w=>{!w||w===l.current.element||(b(),l.current.element=w,l.current.scrollContainers=zz(w),x())};return dye(y,!!n),uye(p),g.useEffect(()=>{b(),x()},[n,y,p]),g.useEffect(()=>b,[]),[v,a,f]}function uye(t){g.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function dye(t,e){g.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function zz(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...zz(t.parentElement)]}const fye=["x","y","top","bottom","left","right","width","height"],hye=(t,e)=>fye.every(n=>t[n]===e[n]);var pye=Object.defineProperty,mye=Object.defineProperties,gye=Object.getOwnPropertyDescriptors,CN=Object.getOwnPropertySymbols,vye=Object.prototype.hasOwnProperty,yye=Object.prototype.propertyIsEnumerable,EN=(t,e,n)=>e in t?pye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_N=(t,e)=>{for(var n in e||(e={}))vye.call(e,n)&&EN(t,n,e[n]);if(CN)for(var n of CN(e))yye.call(e,n)&&EN(t,n,e[n]);return t},xye=(t,e)=>mye(t,gye(e));function Hz(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=Hz(r,e,n);if(i)return i;r=e?null:r.sibling}}function Gz(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const AE=Gz(g.createContext(null));class Vz extends g.Component{render(){return g.createElement(AE.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:TN,ReactCurrentDispatcher:MN}=g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Sye(){const t=g.useContext(AE);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=g.useId();return g.useMemo(()=>{for(const r of[TN?.current,t,t?.alternate]){if(!r)continue;const i=Hz(r,!1,o=>{let a=o.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}function bye(){var t,e;const n=Sye(),[r]=g.useState(()=>new Map);r.clear();let i=n;for(;i;){const o=(t=i.type)==null?void 0:t._context;o&&o!==AE&&!r.has(o)&&r.set(o,(e=MN?.current)==null?void 0:e.readContext(Gz(o))),i=i.return}return r}function wye(){const t=bye();return g.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>g.createElement(e,null,g.createElement(n.Provider,xye(_N({},r),{value:t.get(n)}))),e=>g.createElement(Vz,_N({},e))),[t])}const ES={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Cye(t){const{handlePointer:e}=Q2e(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(ES).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:o}=t.getState();o.disconnect==null||o.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([a,s])=>{const[l,c]=ES[a];n.addEventListener(l,s,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,a])=>{if(r&&r.connected instanceof HTMLElement){const[s]=ES[o];r.connected.removeEventListener(s,a)}}),n(o=>({events:{...o.events,connected:void 0}}))}}}}const Eye=g.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:o,events:a=Cye,eventSource:s,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:f,orthographic:p,frameloop:y,dpr:b,performance:x,raycaster:v,camera:w,scene:S,onPointerMissed:C,onCreated:_,...T},M){g.useMemo(()=>H2e(b2e),[]);const I=wye(),[R,P]=cye({scroll:!0,debounce:{scroll:50,resize:0},...r}),L=g.useRef(null),k=g.useRef(null);g.useImperativeHandle(M,()=>L.current);const H=Pz(C),[D,G]=g.useState(!1),[B,$]=g.useState(!1);if(D)throw D;if(B)throw B;const O=g.useRef(null);S3(()=>{const V=L.current;P.width>0&&P.height>0&&V&&(O.current||(O.current=aye(V)),O.current.configure({gl:o,events:a,shadows:c,linear:u,flat:d,legacy:f,orthographic:p,frameloop:y,dpr:b,performance:x,raycaster:v,camera:w,scene:S,size:P,onPointerMissed:(...F)=>H.current==null?void 0:H.current(...F),onCreated:F=>{F.events.connect==null||F.events.connect(s?V2e(s)?s.current:s:k.current),l&&F.setEvents({compute:(W,q)=>{const Z=W[l+"X"],ee=W[l+"Y"];q.pointer.set(Z/q.size.width*2-1,-(ee/q.size.height)*2+1),q.raycaster.setFromCamera(q.pointer,q.camera)}}),_?.(F)}}),O.current.render(g.createElement(I,null,g.createElement(Iz,{set:$},g.createElement(g.Suspense,{fallback:g.createElement(W2e,{set:G})},e)))))}),g.useEffect(()=>{const V=L.current;if(V)return()=>Bz(V)},[]);const z=s?"none":"auto";return g.createElement("div",it({ref:k,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:z,...i}},T),g.createElement("div",{ref:R,style:{width:"100%",height:"100%"}},g.createElement("canvas",{ref:L,style:{display:"block"}},n)))}),_ye=g.forwardRef(function(e,n){return g.createElement(Vz,null,g.createElement(Eye,it({},e,{ref:n})))});var Tye=`varying lowp vec4 vColor;

uniform sampler2D density;
uniform vec3 hiCol;
uniform vec3 lowCol;

vec4 getColourFromDensity(float density)
{
  return vec4(mix(lowCol, hiCol, density), 1.0);
}

vec2 getCoordFromPoint(vec3 pos)
{
  float x = ((pos.x + (\${width} / 2.0)) / \${width});
  float y = ((-pos.y + (\${height} / 2.0)) / \${height});
  return vec2(x, y);
}

void main(void)
{
  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

  highp vec2 vTextureCoord = getCoordFromPoint(position);
  vColor = getColourFromDensity(texture2D(density, vTextureCoord).r);
}`,Mye=`varying lowp vec4 vColor;

uniform sampler2D density;
uniform vec3 hiCol;
uniform vec3 lowCol;

vec4 getColourFromDensity(float density)
{
  return vec4(mix(lowCol, hiCol, density), 1.0);
}

vec2 getCoordFromPoint(vec3 pos)
{
  float x = ((pos.x + (\${width} / 2.0)) / \${width});
  float y = ((-pos.y + (\${height} / 2.0)) / \${height});
  return vec2(x, y);
}

void main(void)
{
  highp vec2 vTextureCoord = getCoordFromPoint(position);
  vColor = getColourFromDensity(texture2D(density, vTextureCoord).r);

	vec3 changedPosition = position;
  changedPosition.z = texture2D(density, vTextureCoord).r;

  gl_Position = projectionMatrix * modelViewMatrix * vec4( changedPosition, 1.0 );
}`,Rye=`varying lowp vec4 vColor;

void main(void) {
  gl_FragColor = vColor;
}`;window.GPUShaderStage===void 0&&(window.GPUShaderStage={VERTEX:1,FRAGMENT:2,COMPUTE:4});let Wz=!1;navigator.gpu!==void 0&&await navigator.gpu.requestAdapter()!==null&&(Wz=!0);class Aye{static isAvailable(){return Wz}static getErrorMessage(){const e='Your browser does not support <a href="https://gpuweb.github.io/gpuweb/" style="color:blue">WebGPU</a> yet',n=document.createElement("div");return n.id="webgpumessage",n.style.fontFamily="monospace",n.style.fontSize="13px",n.style.fontWeight="normal",n.style.textAlign="center",n.style.background="#fff",n.style.color="#000",n.style.padding="1.5em",n.style.maxWidth="400px",n.style.margin="5em auto 0",n.innerHTML=e,n}}const jz=Aye;class Pye{constructor(){this.nodes=null,this.animationLoop=null,this.requestId=null,this.isAnimating=!1,this.context=self}start(){if(this.isAnimating===!0||this.animationLoop===null||this.nodes===null)return;this.isAnimating=!0;const e=(n,r)=>{this.requestId=self.requestAnimationFrame(e),this.nodes.nodeFrame.update(),this.animationLoop(n,r)};this.requestId=self.requestAnimationFrame(e)}stop(){self.cancelAnimationFrame(this.requestId),this.isAnimating=!1}setAnimationLoop(e){this.animationLoop=e}setNodes(e){this.nodes=e}}const Iye=Pye;class $y{constructor(){this.weakMap=new WeakMap}get(e){if(Array.isArray(e)){let n=this.weakMap;for(let r=0;r<e.length-1;r++)if(n=n.get(e[r]),n===void 0)return;return n.get(e[e.length-1])}else return super.get(e)}set(e,n){if(Array.isArray(e)){let r=this.weakMap;for(let i=0;i<e.length-1;i++){const o=e[i];r.has(o)===!1&&r.set(o,new WeakMap),r=r.get(o)}return r.set(e[e.length-1],n)}else return super.set(e,n)}delete(e){if(Array.isArray(e)){let n=this.weakMap;for(let r=0;r<e.length-1;r++)if(n=n.get(e[r]),n===void 0)return!1;return n.delete(e[e.length-1])}else return super.delete(e)}dispose(){this.weakMap.clear()}}let Nye=0;class Oye{constructor(e,n,r,i,o,a,s,l,c){this._nodes=e,this._geometries=n,this.id=Nye++,this.renderer=r,this.object=i,this.material=o,this.scene=a,this.camera=s,this.lightsNode=l,this.context=c,this.geometry=i.geometry,this.version=o.version,this.attributes=null,this.pipeline=null,this.vertexBuffers=null,this.initialCacheKey=this.getCacheKey(),this._nodeBuilderState=null,this._bindings=null,this.onDispose=null,this.isRenderObject=!0,this.onMaterialDispose=()=>{this.dispose()},this.material.addEventListener("dispose",this.onMaterialDispose)}getNodeBuilderState(){return this._nodeBuilderState||(this._nodeBuilderState=this._nodes.getForRender(this))}getBindings(){return this._bindings||(this._bindings=this.getNodeBuilderState().createBindings())}getIndex(){return this._geometries.getIndex(this)}getChainArray(){return[this.object,this.material,this.context,this.lightsNode]}getAttributes(){if(this.attributes!==null)return this.attributes;const e=this.getNodeBuilderState().nodeAttributes,n=this.geometry,r=[],i=new Set;for(const o of e){const a=o.node&&o.node.attribute?o.node.attribute:n.getAttribute(o.name);r.push(a);const s=a.isInterleavedBufferAttribute?a.data:a;i.add(s)}return this.attributes=r,this.vertexBuffers=Array.from(i.values()),r}getVertexBuffers(){return this.vertexBuffers===null&&this.getAttributes(),this.vertexBuffers}getMaterialCacheKey(){const e=this.material;let n=e.customProgramCacheKey();for(const r in e){if(/^(is[A-Z])|^(visible|version|uuid|name|opacity|userData)$/.test(r))continue;let i=e[r];if(i!==null){const o=typeof i;o==="number"?i=i!==0?"1":"0":o==="object"&&(i="{}")}n+=i+","}return n}getNodesCacheKey(){return this._nodes.getCacheKey(this.scene,this.lightsNode)}getCacheKey(){return`{material:${this.getMaterialCacheKey()},nodes:${this.getNodesCacheKey()}`}dispose(){this.material.removeEventListener("dispose",this.onMaterialDispose),this.onDispose()}}class Lye{constructor(e,n,r,i,o,a){this.renderer=e,this.nodes=n,this.geometries=r,this.pipelines=i,this.bindings=o,this.info=a,this.chainMaps={}}get(e,n,r,i,o,a,s){const l=this.getChainMap(s),c=[e,n,a,o];let u=l.get(c);return u===void 0?(u=this.createRenderObject(this.nodes,this.geometries,this.renderer,e,n,r,i,o,a,s),l.set(c,u)):u.version!==n.version&&(u.version=n.version,u.initialCacheKey!==u.getCacheKey()&&(u.dispose(),u=this.get(e,n,r,i,o,a,s))),u}getChainMap(e="default"){return this.chainMaps[e]||(this.chainMaps[e]=new $y)}dispose(){this.chainMaps={}}createRenderObject(e,n,r,i,o,a,s,l,c,u){const d=this.getChainMap(u),f=new Oye(e,n,r,i,o,a,s,l,c);return f.onDispose=()=>{this.pipelines.delete(f),this.bindings.delete(f),this.nodes.delete(f),d.delete(f.getChainArray())},f}}const Dye=Lye;class Fye{constructor(){this.data=new WeakMap}get(e){let n=this.data.get(e);return n===void 0&&(n={},this.data.set(e,n)),n}delete(e){let n;return this.data.has(e)&&(n=this.data.get(e),this.data.delete(e)),n}has(e){return this.data.has(e)}dispose(){this.data.clear()}}const qd=Fye,Bh={VERTEX:1,INDEX:2,STORAGE:4},Mc=16,$ye=211,Uye=212;class kye extends qd{constructor(e){super(),this.backend=e}delete(e){super.delete(e)!==void 0&&this.backend.destroyAttribute(e)}update(e,n){const r=this.get(e);if(r.version===void 0)n===Bh.VERTEX?this.backend.createAttribute(e):n===Bh.INDEX?this.backend.createIndexAttribute(e):n===Bh.STORAGE&&this.backend.createStorageAttribute(e),r.version=this._getBufferAttribute(e).version;else{const i=this._getBufferAttribute(e);(r.version<i.version||i.usage===k6)&&(this.backend.updateAttribute(e),r.version=i.version)}}_getBufferAttribute(e){return e.isInterleavedBufferAttribute&&(e=e.data),e}}const Bye=kye;function zye(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function Xz(t){return t.index!==null?t.index.version:t.attributes.position.version}function RN(t){const e=[],n=t.index,r=t.attributes.position;if(n!==null){const o=n.array;for(let a=0,s=o.length;a<s;a+=3){const l=o[a+0],c=o[a+1],u=o[a+2];e.push(l,c,c,u,u,l)}}else{const o=r.array;for(let a=0,s=o.length/3-1;a<s;a+=3){const l=a+0,c=a+1,u=a+2;e.push(l,c,c,u,u,l)}}const i=new(zye(e)?H6:z6)(e,1);return i.version=Xz(t),i}class Hye extends qd{constructor(e,n){super(),this.attributes=e,this.info=n,this.wireframes=new WeakMap,this.attributeFrame=new WeakMap}has(e){const n=e.geometry;return super.has(n)&&this.get(n).initialized===!0}updateForRender(e){this.has(e)===!1&&this.initGeometry(e),this.updateAttributes(e)}initGeometry(e){const n=e.geometry,r=this.get(n);r.initialized=!0,this.info.memory.geometries++;const i=()=>{this.info.memory.geometries--;const o=n.index,a=e.getAttributes();o!==null&&this.attributes.delete(o);for(const l of a)this.attributes.delete(l);const s=this.wireframes.get(n);s!==void 0&&this.attributes.delete(s),n.removeEventListener("dispose",i)};n.addEventListener("dispose",i)}updateAttributes(e){const n=e.getAttributes();for(const i of n)this.updateAttribute(i,Bh.VERTEX);const r=this.getIndex(e);r!==null&&this.updateAttribute(r,Bh.INDEX)}updateAttribute(e,n){const r=this.info.render.frame;this.attributeFrame.get(e)!==r&&(this.attributes.update(e,n),this.attributeFrame.set(e,r))}getIndex(e){const{geometry:n,material:r}=e;let i=n.index;if(r.wireframe===!0){const o=this.wireframes;let a=o.get(n);a===void 0?(a=RN(n),o.set(n,a)):a.version!==Xz(n)&&(this.attributes.delete(a),a=RN(n),o.set(n,a)),i=a}return i}}const Gye=Hye;class Vye{constructor(){this.autoReset=!0,this.render={frame:0,drawCalls:0,triangles:0,points:0,lines:0},this.memory={geometries:0,textures:0}}update(e,n,r){this.render.drawCalls++,e.isMesh||e.isSprite?this.render.triangles+=r*(n/3):e.isPoints?this.render.points+=r*n:e.isLineSegments?this.render.lines+=r*(n/2):e.isLine?this.render.lines+=r*(n-1):console.error("THREE.WebGPUInfo: Unknown object type.")}reset(){this.render.drawCalls=0,this.render.triangles=0,this.render.points=0,this.render.lines=0}dispose(){this.reset(),this.render.frame=0,this.memory.geometries=0,this.memory.textures=0}}const Wye=Vye;class jye{constructor(e){this.cacheKey=e,this.usedTimes=0}}const qz=jye;class Xye extends qz{constructor(e,n,r){super(e),this.vertexProgram=n,this.fragmentProgram=r}}const qye=Xye;class Kye extends qz{constructor(e,n){super(e),this.computeProgram=n,this.isComputePipeline=!0}}const Yye=Kye;let Zye=0;class Qye{constructor(e,n){this.id=Zye++,this.code=e,this.stage=n,this.usedTimes=0}}const _S=Qye;class Jye extends qd{constructor(e,n){super(),this.backend=e,this.nodes=n,this.bindings=null,this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}getForCompute(e,n){const{backend:r}=this,i=this.get(e);if(this._needsComputeUpdate(e)){const o=i.pipeline;o&&(o.usedTimes--,o.computeProgram.usedTimes--);const a=this.nodes.getForCompute(e);let s=this.programs.compute.get(a.computeShader);s===void 0&&(o&&o.computeProgram.usedTimes===0&&this._releaseProgram(o.computeProgram),s=new _S(a.computeShader,"compute"),this.programs.compute.set(a.computeShader,s),r.createProgram(s));const l=this._getComputeCacheKey(e,s);let c=this.caches.get(l);c===void 0&&(o&&o.usedTimes===0&&this._releasePipeline(e),c=this._getComputePipeline(e,s,l,n)),c.usedTimes++,s.usedTimes++,i.version=e.version,i.pipeline=c}return i.pipeline}getForRender(e){const{backend:n}=this,r=this.get(e);if(this._needsRenderUpdate(e)){const i=r.pipeline;i&&(i.usedTimes--,i.vertexProgram.usedTimes--,i.fragmentProgram.usedTimes--);const o=e.getNodeBuilderState();let a=this.programs.vertex.get(o.vertexShader);a===void 0&&(i&&i.vertexProgram.usedTimes===0&&this._releaseProgram(i.vertexProgram),a=new _S(o.vertexShader,"vertex"),this.programs.vertex.set(o.vertexShader,a),n.createProgram(a));let s=this.programs.fragment.get(o.fragmentShader);s===void 0&&(i&&i.fragmentProgram.usedTimes===0&&this._releaseProgram(i.fragmentProgram),s=new _S(o.fragmentShader,"fragment"),this.programs.fragment.set(o.fragmentShader,s),n.createProgram(s));const l=this._getRenderCacheKey(e,a,s);let c=this.caches.get(l);c===void 0?(i&&i.usedTimes===0&&this._releasePipeline(i),c=this._getRenderPipeline(e,a,s,l)):e.pipeline=c,c.usedTimes++,a.usedTimes++,s.usedTimes++,r.pipeline=c}return r.pipeline}delete(e){const n=this.get(e).pipeline;n&&(n.usedTimes--,n.usedTimes===0&&this._releasePipeline(n),n.isComputePipeline?(n.computeProgram.usedTimes--,n.computeProgram.usedTimes===0&&this._releaseProgram(n.computeProgram)):(n.fragmentProgram.usedTimes--,n.vertexProgram.usedTimes--,n.vertexProgram.usedTimes===0&&this._releaseProgram(n.vertexProgram),n.fragmentProgram.usedTimes===0&&this._releaseProgram(n.fragmentProgram))),super.delete(e)}dispose(){super.dispose(),this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}updateForRender(e){this.getForRender(e)}_getComputePipeline(e,n,r,i){r=r||this._getComputeCacheKey(e,n);let o=this.caches.get(r);return o===void 0&&(o=new Yye(r,n),this.caches.set(r,o),this.backend.createComputePipeline(o,i)),o}_getRenderPipeline(e,n,r,i){i=i||this._getRenderCacheKey(e,n,r);let o=this.caches.get(i);return o===void 0&&(o=new qye(i,n,r),this.caches.set(i,o),e.pipeline=o,this.backend.createRenderPipeline(e)),o}_getComputeCacheKey(e,n){return"compute"+e.id+n.id}_getRenderCacheKey(e,n,r){const{material:i}=e;return[n.id,r.id,i.transparent,i.blending,i.premultipliedAlpha,i.blendSrc,i.blendDst,i.blendEquation,i.blendSrcAlpha,i.blendDstAlpha,i.blendEquationAlpha,i.colorWrite,i.depthWrite,i.depthTest,i.depthFunc,i.stencilWrite,i.stencilFunc,i.stencilFail,i.stencilZFail,i.stencilZPass,i.stencilFuncMask,i.stencilWriteMask,i.side,this.backend.getCacheKey(e)].join()}_releasePipeline(e){this.caches.delete(e.cacheKey)}_releaseProgram(e){const n=e.code,r=e.stage;this.programs[r].delete(n)}_needsComputeUpdate(e){const n=this.get(e);return n.pipeline===void 0||n.version!==e.version}_needsRenderUpdate(e){const n=this.get(e),r=e.material;let i=this.backend.needsUpdate(e);return(n.material!==r||n.materialVersion!==r.version||n.transparent!==r.transparent||n.blending!==r.blending||n.premultipliedAlpha!==r.premultipliedAlpha||n.blendSrc!==r.blendSrc||n.blendDst!==r.blendDst||n.blendEquation!==r.blendEquation||n.blendSrcAlpha!==r.blendSrcAlpha||n.blendDstAlpha!==r.blendDstAlpha||n.blendEquationAlpha!==r.blendEquationAlpha||n.colorWrite!==r.colorWrite||n.depthWrite!==r.depthWrite||n.depthTest!==r.depthTest||n.depthFunc!==r.depthFunc||n.stencilWrite!==r.stencilWrite||n.stencilFunc!==r.stencilFunc||n.stencilFail!==r.stencilFail||n.stencilZFail!==r.stencilZFail||n.stencilZPass!==r.stencilZPass||n.stencilFuncMask!==r.stencilFuncMask||n.stencilWriteMask!==r.stencilWriteMask||n.side!==r.side||n.alphaToCoverage!==r.alphaToCoverage)&&(n.material=r,n.materialVersion=r.version,n.transparent=r.transparent,n.blending=r.blending,n.premultipliedAlpha=r.premultipliedAlpha,n.blendSrc=r.blendSrc,n.blendDst=r.blendDst,n.blendEquation=r.blendEquation,n.blendSrcAlpha=r.blendSrcAlpha,n.blendDstAlpha=r.blendDstAlpha,n.blendEquationAlpha=r.blendEquationAlpha,n.colorWrite=r.colorWrite,n.depthWrite=r.depthWrite,n.depthTest=r.depthTest,n.depthFunc=r.depthFunc,n.stencilWrite=r.stencilWrite,n.stencilFunc=r.stencilFunc,n.stencilFail=r.stencilFail,n.stencilZFail=r.stencilZFail,n.stencilZPass=r.stencilZPass,n.stencilFuncMask=r.stencilFuncMask,n.stencilWriteMask=r.stencilWriteMask,n.side=r.side,n.alphaToCoverage=r.alphaToCoverage,i=!0),i||n.pipeline===void 0}}const e5e=Jye;class t5e extends qd{constructor(e,n,r,i,o,a){super(),this.backend=e,this.textures=r,this.pipelines=o,this.attributes=i,this.nodes=n,this.info=a,this.pipelines.bindings=this,this.updateMap=new WeakMap}getForRender(e){const n=e.getBindings(),r=this.get(e);return r.bindings!==n&&(r.bindings=n,this._init(n),this.backend.createBindings(n)),r.bindings}getForCompute(e){const n=this.get(e);if(n.bindings===void 0){const i=this.nodes.getForCompute(e).bindings;n.bindings=i,this._init(i),this.backend.createBindings(i)}return n.bindings}updateForCompute(e){this._update(e,this.getForCompute(e))}updateForRender(e){this._update(e,this.getForRender(e))}_init(e){for(const n of e)if(n.isSampledTexture)this.textures.updateTexture(n.texture);else if(n.isStorageBuffer){const r=n.attribute;this.attributes.update(r,Bh.STORAGE)}}_update(e,n){const{backend:r}=this,i=this.updateMap,o=this.info.render.frame;let a=!1;for(const s of n)i.get(s)!==o&&(s.isUniformBuffer?s.update()&&r.updateBinding(s):s.isSampledTexture&&(s.needsBindingsUpdate&&(a=!0),s.update()&&this.textures.updateTexture(s.texture)),i.set(s,o));if(a===!0){const s=this.pipelines.getForRender(e);this.backend.updateBindings(n,s)}}dispose(){super.dispose(),this.updateMap=new WeakMap}}const n5e=t5e,AN={VERTEX:"vertex",FRAGMENT:"fragment"},Rr={NONE:"none",FRAME:"frame",RENDER:"render",OBJECT:"object"},r5e=["fragment","vertex"],i5e=["setup","analyze","generate"],o5e=[...r5e,"compute"],PE=["x","y","z","w"];function IE(t){let e="{";t.isNode===!0&&(e+=`uuid:"${t.uuid}"`);for(const{property:n,index:r,childNode:i}of Uy(t)){let o=IE(i);o.includes(",")||(o=o.slice(o.indexOf('"'),o.indexOf("}"))),e+=`,${n}${r!==void 0?"/"+r:""}:${o}`}return e+="}",e}function*Uy(t,e=!1){for(const n in t){if(n.startsWith("_")===!0)continue;const r=t[n];if(Array.isArray(r)===!0)for(let i=0;i<r.length;i++){const o=r[i];o&&(o.isNode===!0||e&&typeof o.toJSON=="function")&&(yield{property:n,index:i,childNode:o})}else if(r&&r.isNode===!0)yield{property:n,childNode:r};else if(typeof r=="object")for(const i in r){const o=r[i];o&&(o.isNode===!0||e&&typeof o.toJSON=="function")&&(yield{property:n,index:i,childNode:o})}}}function p9(t){if(t==null)return null;const e=typeof t;return t.isNode===!0?"node":e==="number"?"float":e==="boolean"?"bool":e==="string"?"string":e==="function"?"shader":t.isVector2===!0?"vec2":t.isVector3===!0?"vec3":t.isVector4===!0?"vec4":t.isMatrix3===!0?"mat3":t.isMatrix4===!0?"mat4":t.isColor===!0?"color":t instanceof ArrayBuffer?"ArrayBuffer":null}function Kz(t,...e){const n=t?t.slice(-4):void 0;return(n==="vec2"||n==="vec3"||n==="vec4")&&e.length===1&&(e=n==="vec2"?[e[0],e[0]]:[e[0],e[0],e[0]]),t==="color"?new St(...e):n==="vec2"?new Qe(...e):n==="vec3"?new Q(...e):n==="vec4"?new Tn(...e):n==="mat3"?new mn(...e):n==="mat4"?new on(...e):t==="bool"?e[0]||!1:t==="float"||t==="int"||t==="uint"?e[0]||0:t==="string"?e[0]||"":t==="ArrayBuffer"?s5e(e[0]):null}function a5e(t){let e="";const n=new Uint8Array(t);for(let r=0;r<n.length;r++)e+=String.fromCharCode(n[r]);return btoa(e)}function s5e(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0)).buffer}const PN=new Map;let l5e=0;class c5e extends ys{constructor(e=null){super(),this.nodeType=e,this.updateType=Rr.NONE,this.updateBeforeType=Rr.NONE,this.uuid=vB.generateUUID(),this.isNode=!0,Object.defineProperty(this,"id",{value:l5e++})}get type(){return this.constructor.type}getSelf(){return this.self||this}updateReference(){return this}isGlobal(){return!1}*getChildren(){const e=this;for(const{property:n,index:r,childNode:i}of Uy(this))yield{childNode:i,replaceNode(o){r===void 0?e[n]=o:e[n][r]=o}}}dispose(){this.dispatchEvent({type:"dispose"})}traverse(e,n=null){e(this,n);for(const{childNode:r,replaceNode:i}of this.getChildren())r.traverse(e,i)}getCacheKey(){return IE(this)}getHash(){return this.uuid}getUpdateType(){return this.updateType}getUpdateBeforeType(){return this.updateBeforeType}getNodeType(e){const n=e.getNodeProperties(this);return n.outputNode?n.outputNode.getNodeType(e):this.nodeType}getShared(e){const n=this.getHash(e);return e.getNodeFromHash(n)||this}setup(e){const n=e.getNodeProperties(this);for(const{childNode:r}of this.getChildren())n["_node"+r.id]=r;return null}construct(e){return console.warn("THREE.Node: construct() is deprecated. Use setup() instead."),this.setup(e)}analyze(e){const n=e.getDataFromNode(this);if(n.dependenciesCount=n.dependenciesCount===void 0?1:n.dependenciesCount+1,n.dependenciesCount===1){const r=e.getNodeProperties(this);for(const i of Object.values(r))i&&i.isNode===!0&&i.build(e)}}generate(e,n){const{outputNode:r}=e.getNodeProperties(this);if(r&&r.isNode===!0)return r.build(e,n)}updateBefore(){console.warn("Abstract function.")}update(){console.warn("Abstract function.")}build(e,n=null){const r=this.getShared(e);if(this!==r)return r.build(e,n);e.addNode(this),e.addChain(this);let i=null;const o=e.getBuildStage();if(o==="setup"){const a=e.getNodeProperties(this);if(a.initialized!==!0||e.context.tempRead===!1){const s=e.stack.nodes.length;a.initialized=!0,a.outputNode=this.setup(e),a.outputNode!==null&&e.stack.nodes.length!==s&&(a.outputNode=e.stack);for(const l of Object.values(a))l&&l.isNode===!0&&l.build(e)}}else if(o==="analyze")this.analyze(e);else if(o==="generate")if(this.generate.length===1){const s=this.getNodeType(e),l=e.getDataFromNode(this);i=l.snippet,i===void 0&&(i=this.generate(e)||"",l.snippet=i),i=e.format(i,s,n)}else i=this.generate(e,n)||"";return e.removeChain(this),i}getSerializeChildren(){return Uy(this)}serialize(e){const n=this.getSerializeChildren(),r={};for(const{property:i,index:o,childNode:a}of n)o!==void 0?(r[i]===void 0&&(r[i]=Number.isInteger(o)?[]:{}),r[i][o]=a.toJSON(e.meta).uuid):r[i]=a.toJSON(e.meta).uuid;Object.keys(r).length>0&&(e.inputNodes=r)}deserialize(e){if(e.inputNodes!==void 0){const n=e.meta.nodes;for(const r in e.inputNodes)if(Array.isArray(e.inputNodes[r])){const i=[];for(const o of e.inputNodes[r])i.push(n[o]);this[r]=i}else if(typeof e.inputNodes[r]=="object"){const i={};for(const o in e.inputNodes[r]){const a=e.inputNodes[r][o];i[o]=n[a]}this[r]=i}else{const i=e.inputNodes[r];this[r]=n[i]}}}toJSON(e){const{uuid:n,type:r}=this,i=e===void 0||typeof e=="string";i&&(e={textures:{},images:{},nodes:{}});let o=e.nodes[n];o===void 0&&(o={uuid:n,type:r,meta:e,metadata:{version:4.6,type:"Node",generator:"Node.toJSON"}},i!==!0&&(e.nodes[o.uuid]=o),this.serialize(o),delete o.meta);function a(s){const l=[];for(const c in s){const u=s[c];delete u.metadata,l.push(u)}return l}if(i){const s=a(e.textures),l=a(e.images),c=a(e.nodes);s.length>0&&(o.textures=s),l.length>0&&(o.images=l),c.length>0&&(o.nodes=c)}return o}}const Rn=c5e;function Nt(t,e){if(typeof e!="function"||!t)throw new Error(`Node class ${t} is not a class`);if(PN.has(t))throw new Error(`Redefinition of node class ${t}`);PN.set(t,e),e.type=t}class Yz extends Rn{constructor(e,n=null){super(n),this.isInputNode=!0,this.value=e,this.precision=null}getNodeType(){return this.nodeType===null?p9(this.value):this.nodeType}getInputType(e){return this.getNodeType(e)}setPrecision(e){return this.precision=e,this}serialize(e){super.serialize(e),e.value=this.value,this.value&&this.value.toArray&&(e.value=this.value.toArray()),e.valueType=p9(this.value),e.nodeType=this.nodeType,e.valueType==="ArrayBuffer"&&(e.value=a5e(e.value)),e.precision=this.precision}deserialize(e){super.deserialize(e),this.nodeType=e.nodeType,this.value=Array.isArray(e.value)?Kz(e.valueType,...e.value):e.value,this.precision=e.precision||null,this.value&&this.value.fromArray&&(this.value=this.value.fromArray(e.value))}generate(){console.warn("Abstract function.")}}const NE=Yz;Nt("InputNode",Yz);class Zz extends Rn{constructor(e,n){super(),this.node=e,this.indexNode=n}getNodeType(e){return this.node.getNodeType(e)}generate(e){const n=this.node.build(e),r=this.indexNode.build(e,"uint");return`${n}[ ${r} ]`}}const Qz=Zz;Nt("ArrayElementNode",Zz);class Jz extends Rn{constructor(e,n){super(),this.node=e,this.convertTo=n}getNodeType(e){const n=this.node.getNodeType(e);let r=null;for(const i of this.convertTo.split("|"))(r===null||e.getTypeLength(n)===e.getTypeLength(i))&&(r=i);return r}serialize(e){super.serialize(e),e.convertTo=this.convertTo}deserialize(e){super.deserialize(e),this.convertTo=e.convertTo}generate(e,n){const r=this.node,i=this.getNodeType(e),o=r.build(e,i);return e.format(o,i,n)}}const eH=Jz;Nt("ConvertNode",Jz);class tH extends Rn{constructor(e){super(e),this.isTempNode=!0}hasDependencies(e){return e.getDataFromNode(this).dependenciesCount>1}build(e,n){if(e.getBuildStage()==="generate"){const i=e.getVectorType(this.getNodeType(e,n)),o=e.getDataFromNode(this);if(e.context.tempRead!==!1&&o.propertyName!==void 0)return e.format(o.propertyName,i,n);if(e.context.tempWrite!==!1&&i!=="void"&&n!=="void"&&this.hasDependencies(e)){const a=super.build(e,i),s=e.getVarFromNode(this,i),l=e.getPropertyName(s);return e.addLineFlowCode(`${l} = ${a}`),o.snippet=a,o.propertyName=l,e.format(o.propertyName,i,n)}}return super.build(e,n)}}const rl=tH;Nt("TempNode",tH);class nH extends rl{constructor(e=[],n=null){super(n),this.nodes=e}getNodeType(e){return this.nodeType!==null?e.getVectorType(this.nodeType):e.getTypeFromLength(this.nodes.reduce((n,r)=>n+e.getTypeLength(r.getNodeType(e)),0))}generate(e,n){const r=this.getNodeType(e),i=this.nodes,o=[];for(const s of i){const l=s.build(e);o.push(l)}const a=`${e.getType(r)}( ${o.join(", ")} )`;return e.format(a,r,n)}}const u5e=nH;Nt("JoinNode",nH);const d5e=PE.join("");class rH extends Rn{constructor(e,n="x"){super(),this.node=e,this.components=n}getVectorLength(){let e=this.components.length;for(const n of this.components)e=Math.max(PE.indexOf(n)+1,e);return e}getNodeType(e){return e.getTypeFromLength(this.components.length)}generate(e,n){const r=this.node,i=e.getTypeLength(r.getNodeType(e));let o=null;if(i>1){let a=null;this.getVectorLength()>=i&&(a=e.getTypeFromLength(this.getVectorLength()));const l=r.build(e,a);this.components.length===i&&this.components===d5e.slice(0,this.components.length)?o=e.format(l,a,n):o=e.format(`${l}.${this.components}`,this.getNodeType(e),n)}else o=r.build(e,n);return o}serialize(e){super.serialize(e),e.components=this.components}deserialize(e){super.deserialize(e),this.components=e.components}}const IN=rH;Nt("SplitNode",rH);class iH extends rl{constructor(e,n,r){super(),this.sourceNode=e,this.components=n,this.targetNode=r}getNodeType(e){return this.sourceNode.getNodeType(e)}generate(e){const{sourceNode:n,components:r,targetNode:i}=this,o=this.getNodeType(e),a=e.getTypeFromLength(r.length),s=i.build(e,a),l=n.build(e,o),c=e.getTypeLength(o),u=[];for(let d=0;d<c;d++){const f=PE[d];f===r[0]?(u.push(s),d+=r.length-1):u.push(l+"."+f)}return`${e.getType(o)}( ${u.join(", ")} )`}}const f5e=iH;Nt("SetNode",iH);class oH extends NE{constructor(e,n=null){super(e,n),this.isConstNode=!0}generateConst(e){return e.getConst(this.getNodeType(e),this.value)}generate(e,n){const r=this.getNodeType(e);return e.format(this.generateConst(e),r,n)}}const ws=oH;Nt("ConstNode",oH);const Th=new Map;function tt(t,e){if(Th.has(t))throw new Error(`Redefinition of node element ${t}`);if(typeof e!="function")throw new Error(`Node element ${t} is not a function`);Th.set(t,e)}const NN=t=>t.replace(/r|s/g,"x").replace(/g|t/g,"y").replace(/b|p/g,"z").replace(/a|q/g,"w"),aH={setup(t,e){const n=e.shift();return t(lH(n),...e)},get:function(t,e,n){if(typeof e=="string"&&t[e]===void 0)if(Th.has(e)){const r=Th.get(e);return(...i)=>r(n,...i)}else{if(e==="self")return t;if(e.endsWith("Assign")&&Th.has(e.slice(0,e.length-6))){const r=Th.get(e.slice(0,e.length-6));return(...i)=>n.assign(r(n,...i))}else{if(/^[xyzwrgbastpq]{1,4}$/.test(e)===!0)return e=NN(e),sn(new IN(t,e));if(/^set[XYZWRGBASTPQ]{1,4}$/.test(e)===!0)return e=NN(e.slice(3).toLowerCase()),e=e.split("").sort().join(""),r=>sn(new f5e(t,e,r));if(e==="width"||e==="height"||e==="depth")return e==="width"?e="x":e==="height"?e="y":e==="depth"&&(e="z"),sn(new IN(t,e));if(/^\d+$/.test(e)===!0)return sn(new Qz(t,new ws(Number(e),"uint")))}}return t[e]}},TS=new WeakMap,h5e=function(t,e=null){const n=p9(t);if(n==="node"){let r=TS.get(t);return r===void 0&&(r=new Proxy(t,aH),TS.set(t,r),TS.set(r,r)),r}else{if(e===null&&(n==="float"||n==="boolean")||n&&n!=="shader"&&n!=="string")return sn(m9(t,e));if(n==="shader")return Cs(t)}return t},p5e=function(t,e=null){for(const n in t)t[n]=sn(t[n],e);return t},m5e=function(t,e=null){const n=t.length;for(let r=0;r<n;r++)t[r]=sn(t[r],e);return t},g5e=function(t,e=null,n=null,r=null){const i=o=>sn(r!==null?Object.assign(o,r):o);return e===null?(...o)=>i(new t(...Lm(o))):n!==null?(n=sn(n),(...o)=>i(new t(e,...Lm(o),n))):(...o)=>i(new t(e,...Lm(o)))},v5e=function(t,...e){return sn(new t(...Lm(e)))};class y5e extends Rn{constructor(e,n){super(),this.shaderNode=e,this.inputNodes=n}getNodeType(e){const{outputNode:n}=e.getNodeProperties(this);return n?n.getNodeType(e):super.getNodeType(e)}call(e){const{shaderNode:n,inputNodes:r}=this,i=n.jsFunc,o=r!==null?i(lH(r),e.stack,e):i(e.stack,e);return sn(o)}setup(e){return e.addStack(),e.stack.outputNode=this.call(e),e.removeStack()}generate(e,n){const{outputNode:r}=e.getNodeProperties(this);return r===null?this.call(e).build(e,n):super.generate(e,n)}}class x5e extends Rn{constructor(e){super(),this.jsFunc=e}call(e=null){return sn(new y5e(this,e))}setup(){return this.call()}}const S5e=[!1,!0],b5e=[0,1,2,3],w5e=[-1,-2],sH=[.5,1.5,1/3,1e-6,1e6,Math.PI,Math.PI*2,1/Math.PI,2/Math.PI,1/(Math.PI*2),Math.PI/2],OE=new Map;for(const t of S5e)OE.set(t,new ws(t));const LE=new Map;for(const t of b5e)LE.set(t,new ws(t,"uint"));const DE=new Map([...LE].map(t=>new ws(t.value,"int")));for(const t of w5e)DE.set(t,new ws(t,"int"));const cx=new Map([...DE].map(t=>new ws(t.value)));for(const t of sH)cx.set(t,new ws(t));for(const t of sH)cx.set(-t,new ws(-t));const ux={bool:OE,uint:LE,ints:DE,float:cx},ON=new Map([...OE,...cx]),m9=(t,e)=>ON.has(t)?ON.get(t):t.isNode===!0?t:new ws(t,e),C5e=t=>{try{return t.getNodeType()}catch{return}},gr=function(t,e=null){return(...n)=>{if((n.length===0||!["bool","float","int","uint"].includes(t)&&n.every(i=>typeof i!="object"))&&(n=[Kz(t,...n)]),n.length===1&&e!==null&&e.has(n[0]))return sn(e.get(n[0]));if(n.length===1){const i=m9(n[0],t);return C5e(i)===t?sn(i):sn(new eH(i,t))}const r=n.map(i=>m9(i));return sn(new u5e(r,t))}},E5e=t=>t!=null?t.nodeType||t.convertTo||(typeof t=="string"?t:null):null;function Om(t){return new Proxy(new x5e(t),aH)}const sn=(t,e=null)=>h5e(t,e),lH=(t,e=null)=>new p5e(t,e),Lm=(t,e=null)=>new m5e(t,e),st=(...t)=>new g5e(...t),yt=(...t)=>new v5e(...t),Cs=t=>{const e=new Om(t);return n=>e.call(n)};Nt("ShaderNode",Om);const _5e=new gr("color"),Zs=new gr("float",ux.float),T5e=new gr("int",ux.int),M5e=new gr("uint",ux.uint),R5e=new gr("bool",ux.bool),Pp=new gr("vec2"),A5e=new gr("ivec2"),P5e=new gr("uvec2"),I5e=new gr("bvec2"),li=new gr("vec3"),N5e=new gr("ivec3"),O5e=new gr("uvec3"),L5e=new gr("bvec3"),es=new gr("vec4"),D5e=new gr("ivec4"),F5e=new gr("uvec4"),$5e=new gr("bvec4"),Lg=new gr("mat3"),U5e=new gr("imat3"),k5e=new gr("umat3"),B5e=new gr("bmat3"),cH=new gr("mat4"),z5e=new gr("imat4"),H5e=new gr("umat4"),G5e=new gr("bmat4"),V5e=(t="")=>sn(new ws(t,"string")),W5e=t=>sn(new ws(t,"ArrayBuffer"));tt("color",_5e);tt("float",Zs);tt("int",T5e);tt("uint",M5e);tt("bool",R5e);tt("vec2",Pp);tt("ivec2",A5e);tt("uvec2",P5e);tt("bvec2",I5e);tt("vec3",li);tt("ivec3",N5e);tt("uvec3",O5e);tt("bvec3",L5e);tt("vec4",es);tt("ivec4",D5e);tt("uvec4",F5e);tt("bvec4",$5e);tt("mat3",Lg);tt("imat3",U5e);tt("umat3",k5e);tt("bmat3",B5e);tt("mat4",cH);tt("imat4",z5e);tt("umat4",H5e);tt("bmat4",G5e);tt("string",V5e);tt("arrayBuffer",W5e);const j5e=st(Qz),X5e=(t,e)=>sn(new eH(sn(t),e));tt("element",j5e);tt("convert",X5e);class FE extends NE{constructor(e,n=null){super(e,n),this.isUniformNode=!0}getUniformHash(e){return this.getHash(e)}generate(e,n){const r=this.getNodeType(e),i=this.getUniformHash(e);let o=e.getNodeFromHash(i);o===void 0&&(e.setHashNode(this,i),o=this);const a=o.getInputType(e),s=e.getUniformFromNode(o,a,e.shaderStage,e.context.label),l=e.getPropertyName(s);return e.context.label!==void 0&&delete e.context.label,e.format(l,r,n)}}const b3=FE,ql=(t,e)=>{const n=E5e(e||t),r=t&&t.isNode===!0?t.node&&t.node.value||t.value:t;return sn(new FE(r,n))};Nt("UniformNode",FE);class uH extends Rn{constructor(e,n=null){super(),this.node=e,this.name=n}isGlobal(){return!0}getHash(e){return this.name||super.getHash(e)}getNodeType(e){return this.node.getNodeType(e)}generate(e){const{name:n,node:r}=this,i=this.getNodeType(e),o=e.getVaryingFromNode(this,i);o.needsInterpolation||(o.needsInterpolation=e.shaderStage==="fragment"),n!==null&&(o.name=n);const a=e.getPropertyName(o,AN.VERTEX);return e.flowNodeFromShaderStage(AN.VERTEX,r,i,a),e.getPropertyName(o)}}const uo=st(uH);tt("varying",uo);Nt("VaryingNode",uH);class $E extends Rn{constructor(e,n=null){super(n),this._attributeName=e}getHash(e){return this.getAttributeName(e)}getNodeType(e){let n=super.getNodeType(e);if(n===null){const r=this.getAttributeName(e);if(e.hasGeometryAttribute(r)){const i=e.geometry.getAttribute(r);n=e.getTypeFromAttribute(i)}else n="float"}return n}setAttributeName(e){return this._attributeName=e,this}getAttributeName(){return this._attributeName}generate(e){const n=this.getAttributeName(e),r=this.getNodeType(e);if(e.hasGeometryAttribute(n)===!0){const o=e.geometry.getAttribute(n),a=e.getTypeFromAttribute(o),s=e.getAttribute(n,a);return e.shaderStage==="vertex"?e.format(s.name,a,r):uo(this).build(e,r)}else return console.warn(`AttributeNode: Attribute "${n}" not found.`),e.getConst(r)}}const Ip=(t,e)=>sn(new $E(t,e));Nt("AttributeNode",$E);class dH extends Rn{constructor(e,n){super(),this.isBypassNode=!0,this.outputNode=e,this.callNode=n}getNodeType(e){return this.outputNode.getNodeType(e)}generate(e){const n=this.callNode.build(e,"void");return n!==""&&e.addLineFlowCode(n),this.outputNode.build(e)}}const UE=st(dH);tt("bypass",UE);Nt("BypassNode",dH);let q5e=0;class K5e{constructor(){this.id=q5e++,this.nodesData=new WeakMap}getNodeData(e){return this.nodesData.get(e)}setNodeData(e,n){this.nodesData.set(e,n)}}const fH=K5e;class hH extends Rn{constructor(e,n=new fH){super(),this.isCacheNode=!0,this.node=e,this.cache=n}getNodeType(e){return this.node.getNodeType(e)}build(e,...n){const r=e.getCache();e.setCache(this.cache);const i=this.node.build(e,...n);return e.setCache(r),i}}const g9=st(hH);tt("cache",g9);Nt("CacheNode",hH);class kE extends Rn{constructor(e,n={}){super(),this.isContextNode=!0,this.node=e,this.context=n}getNodeType(e){return this.node.getNodeType(e)}setup(e){const n=e.getContext();e.setContext({...e.context,...this.context});const r=this.node.build(e);return e.setContext(n),r}generate(e,n){const r=e.getContext();e.setContext({...e.context,...this.context});const i=this.node.build(e,n);return e.setContext(r),i}}const as=st(kE),BE=(t,e)=>as(t,{label:e});tt("context",as);tt("label",BE);Nt("ContextNode",kE);class Y5e{constructor(e,n,r=null){this.isNodeAttribute=!0,this.name=e,this.type=n,this.node=r}}const LN=Y5e;class Z5e{constructor(e,n,r,i=void 0){this.isNodeUniform=!0,this.name=e,this.type=n,this.node=r.getSelf(),this.needsUpdate=i}get value(){return this.node.value}set value(e){this.node.value=e}}const Q5e=Z5e;class J5e{constructor(e,n){this.isNodeVar=!0,this.name=e,this.type=n}}const pH=J5e;class e6e extends pH{constructor(e,n){super(e,n),this.needsInterpolation=!1,this.isNodeVarying=!0}}const t6e=e6e;class n6e{constructor(e,n,r=""){this.name=e,this.type=n,this.code=r,Object.defineProperty(this,"isNodeCode",{value:!0})}}const r6e=n6e;class i6e{constructor(){this.keywords=[],this.nodes=[],this.keywordsCallback={}}getNode(e){let n=this.nodes[e];return n===void 0&&this.keywordsCallback[e]!==void 0&&(n=this.keywordsCallback[e](e),this.nodes[e]=n),n}addKeyword(e,n){return this.keywords.push(e),this.keywordsCallback[e]=n,this}parse(e){const n=this.keywords,r=new RegExp(`\\b${n.join("\\b|\\b")}\\b`,"g"),i=e.match(r),o=[];if(i!==null)for(const a of i){const s=this.getNode(a);s!==void 0&&o.indexOf(s)===-1&&o.push(s)}return o}include(e,n){const r=this.parse(n);for(const i of r)i.build(e)}}const o6e=i6e;class Bi extends Rn{constructor(e,n=null){super(e),this.name=n}getHash(e){return this.name||super.getHash(e)}isGlobal(){return!0}generate(e){const n=e.getVarFromNode(this,this.getNodeType(e)),r=this.name;return r!==null&&(n.name=r),e.getPropertyName(n)}}const zE=(t,e)=>sn(new Bi(t,e)),Jf=yt(Bi,"vec4","DiffuseColor"),a6e=yt(Bi,"float","Roughness");yt(Bi,"float","Metalness");yt(Bi,"float","Clearcoat");const s6e=yt(Bi,"float","ClearcoatRoughness");yt(Bi,"vec3","Sheen");yt(Bi,"float","SheenRoughness");yt(Bi,"float","Iridescence");yt(Bi,"float","IridescenceIOR");yt(Bi,"float","IridescenceThickness");yt(Bi,"color","SpecularColor");yt(Bi,"float","Shininess");const l6e=yt(Bi,"vec4","Output");yt(Bi,"float","dashSize");yt(Bi,"float","gapSize");Nt("PropertyNode",Bi);class mH extends $E{constructor(e=0){super(null,"vec2"),this.isUVNode=!0,this.index=e}getAttributeName(){const e=this.index;return"uv"+(e>0?e:"")}serialize(e){super.serialize(e),e.index=this.index}deserialize(e){super.deserialize(e),this.index=e.index}}const HE=(...t)=>sn(new mH(...t));Nt("UVNode",mH);class gH extends Rn{constructor(e,n=null){super("uvec2"),this.isTextureSizeNode=!0,this.textureNode=e,this.levelNode=n}generate(e,n){const r=this.textureNode.build(e,"property"),i=this.levelNode.build(e,"int");return e.format(`${e.getMethod("textureDimensions")}( ${r}, ${i} )`,this.getNodeType(e),n)}}const vH=st(gH);tt("textureSize",vH);Nt("TextureSizeNode",gH);class Br extends rl{constructor(e,n,r,...i){if(super(),this.op=e,i.length>0){let o=r;for(let a=0;a<i.length;a++)o=new Br(e,o,i[a]);r=o}this.aNode=n,this.bNode=r}hasDependencies(e){return this.op!=="="?super.hasDependencies(e):!1}getNodeType(e,n){const r=this.op,i=this.aNode,o=this.bNode,a=i.getNodeType(e),s=o.getNodeType(e);if(a==="void"||s==="void")return"void";if(r==="="||r==="%")return a;if(r==="&"||r==="|"||r==="^"||r===">>"||r==="<<")return e.getIntegerType(a);if(r==="=="||r==="&&"||r==="||"||r==="^^")return"bool";if(r==="<"||r===">"||r==="<="||r===">="){const l=n?e.getTypeLength(n):Math.max(e.getTypeLength(a),e.getTypeLength(s));return l>1?`bvec${l}`:"bool"}else return a==="float"&&e.isMatrix(s)?s:e.isMatrix(a)&&e.isVector(s)?e.getVectorFromMatrix(a):e.isVector(a)&&e.isMatrix(s)?e.getVectorFromMatrix(s):e.getTypeLength(s)>e.getTypeLength(a)?s:a}generate(e,n){const r=this.op,i=this.aNode,o=this.bNode,a=this.getNodeType(e,n);let s=null,l=null;a!=="void"?(s=i.getNodeType(e),l=o.getNodeType(e),r==="="?l=s:r==="<"||r===">"||r==="<="||r===">="||r==="=="?e.isVector(s)?l=s:s=l="float":r===">>"||r==="<<"?(s=a,l=e.changeComponentType(l,"uint")):e.isMatrix(s)&&e.isVector(l)?l=e.getVectorFromMatrix(s):e.isVector(s)&&e.isMatrix(l)?s=e.getVectorFromMatrix(l):s=l=a):s=l=a;const c=i.build(e,s),u=o.build(e,l),d=e.getTypeLength(n);if(n!=="void")return r==="="?(e.addLineFlowCode(`${c} ${this.op} ${u}`),c):r==="<"&&d>1?e.format(`${e.getMethod("lessThan")}( ${c}, ${u} )`,a,n):r==="<="&&d>1?e.format(`${e.getMethod("lessThanEqual")}( ${c}, ${u} )`,a,n):r===">"&&d>1?e.format(`${e.getMethod("greaterThan")}( ${c}, ${u} )`,a,n):r===">="&&d>1?e.format(`${e.getMethod("greaterThanEqual")}( ${c}, ${u} )`,a,n):e.format(`( ${c} ${this.op} ${u} )`,a,n);if(s!=="void")return e.format(`${c} ${this.op} ${u}`,a,n)}serialize(e){super.serialize(e),e.op=this.op}deserialize(e){super.deserialize(e),this.op=e.op}}const yd=st(Br,"+"),v9=st(Br,"-"),yH=st(Br,"*"),xH=st(Br,"/"),c6e=st(Br,"%"),u6e=st(Br,"=="),SH=st(Br,"="),d6e=st(Br,"<"),f6e=st(Br,">"),h6e=st(Br,"<="),p6e=st(Br,">="),m6e=st(Br,"&&"),g6e=st(Br,"||"),v6e=st(Br,"^^"),y6e=st(Br,"&"),x6e=st(Br,"|"),S6e=st(Br,"^"),b6e=st(Br,"<<"),w6e=st(Br,">>");tt("add",yd);tt("sub",v9);tt("mul",yH);tt("div",xH);tt("remainder",c6e);tt("equal",u6e);tt("assign",SH);tt("lessThan",d6e);tt("greaterThan",f6e);tt("lessThanEqual",h6e);tt("greaterThanEqual",p6e);tt("and",m6e);tt("or",g6e);tt("xor",v6e);tt("bitAnd",y6e);tt("bitOr",x6e);tt("bitXor",S6e);tt("shiftLeft",b6e);tt("shiftRight",w6e);Nt("OperatorNode",Br);class $e extends rl{constructor(e,n,r=null,i=null){super(),this.method=e,this.aNode=n,this.bNode=r,this.cNode=i}getInputType(e){const n=this.aNode.getNodeType(e),r=this.bNode?this.bNode.getNodeType(e):null,i=this.cNode?this.cNode.getNodeType(e):null,o=e.isMatrix(n)?0:e.getTypeLength(n),a=e.isMatrix(r)?0:e.getTypeLength(r),s=e.isMatrix(i)?0:e.getTypeLength(i);return o>a&&o>s?n:a>s?r:s>o?i:n}getNodeType(e){const n=this.method;return n===$e.LENGTH||n===$e.DISTANCE||n===$e.DOT?"float":n===$e.CROSS?"vec3":this.getInputType(e)}generate(e,n){const r=this.method,i=this.getNodeType(e),o=this.getInputType(e),a=this.aNode,s=this.bNode,l=this.cNode,c=e.renderer.isWebGLRenderer===!0;if(r===$e.TRANSFORM_DIRECTION){let u=a,d=s;e.isMatrix(u.getNodeType(e))?d=es(li(d),0):u=es(li(u),0);const f=yH(u,d).xyz;return Da(f).build(e,n)}else{if(r===$e.NEGATE)return e.format("( - "+a.build(e,o)+" )",i,n);if(r===$e.ONE_MINUS)return v9(1,a).build(e,n);if(r===$e.RECIPROCAL)return xH(1,a).build(e,n);if(r===$e.DIFFERENCE)return bH(v9(a,s)).build(e,n);{const u=[];return r===$e.CROSS?u.push(a.build(e,i),s.build(e,i)):r===$e.STEP?u.push(a.build(e,e.getTypeLength(a.getNodeType(e))===1?"float":o),s.build(e,o)):c&&(r===$e.MIN||r===$e.MAX)||r===$e.MOD?u.push(a.build(e,o),s.build(e,e.getTypeLength(s.getNodeType(e))===1?"float":o)):r===$e.REFRACT?u.push(a.build(e,o),s.build(e,o),l.build(e,"float")):r===$e.MIX?u.push(a.build(e,o),s.build(e,o),l.build(e,e.getTypeLength(l.getNodeType(e))===1?"float":o)):(u.push(a.build(e,o)),s!==null&&u.push(s.build(e,o)),l!==null&&u.push(l.build(e,o))),e.format(`${e.getMethod(r)}( ${u.join(", ")} )`,i,n)}}}serialize(e){super.serialize(e),e.method=this.method}deserialize(e){super.deserialize(e),this.method=e.method}}$e.RADIANS="radians";$e.DEGREES="degrees";$e.EXP="exp";$e.EXP2="exp2";$e.LOG="log";$e.LOG2="log2";$e.SQRT="sqrt";$e.INVERSE_SQRT="inversesqrt";$e.FLOOR="floor";$e.CEIL="ceil";$e.NORMALIZE="normalize";$e.FRACT="fract";$e.SIN="sin";$e.COS="cos";$e.TAN="tan";$e.ASIN="asin";$e.ACOS="acos";$e.ATAN="atan";$e.ABS="abs";$e.SIGN="sign";$e.LENGTH="length";$e.NEGATE="negate";$e.ONE_MINUS="oneMinus";$e.DFDX="dFdx";$e.DFDY="dFdy";$e.ROUND="round";$e.RECIPROCAL="reciprocal";$e.TRUNC="trunc";$e.FWIDTH="fwidth";$e.ATAN2="atan2";$e.MIN="min";$e.MAX="max";$e.MOD="mod";$e.STEP="step";$e.REFLECT="reflect";$e.DISTANCE="distance";$e.DIFFERENCE="difference";$e.DOT="dot";$e.CROSS="cross";$e.POW="pow";$e.TRANSFORM_DIRECTION="transformDirection";$e.MIX="mix";$e.CLAMP="clamp";$e.REFRACT="refract";$e.SMOOTHSTEP="smoothstep";$e.FACEFORWARD="faceforward";const C6e=$e;Zs(1e-6);Zs(1e6);const E6e=st($e,$e.RADIANS),_6e=st($e,$e.DEGREES),T6e=st($e,$e.EXP),M6e=st($e,$e.EXP2),R6e=st($e,$e.LOG),A6e=st($e,$e.LOG2),P6e=st($e,$e.SQRT),I6e=st($e,$e.INVERSE_SQRT),N6e=st($e,$e.FLOOR),O6e=st($e,$e.CEIL),Da=st($e,$e.NORMALIZE),L6e=st($e,$e.FRACT),D6e=st($e,$e.SIN),F6e=st($e,$e.COS),$6e=st($e,$e.TAN),U6e=st($e,$e.ASIN),k6e=st($e,$e.ACOS),B6e=st($e,$e.ATAN),bH=st($e,$e.ABS),z6e=st($e,$e.SIGN),H6e=st($e,$e.LENGTH),G6e=st($e,$e.NEGATE),V6e=st($e,$e.ONE_MINUS),wH=st($e,$e.DFDX),CH=st($e,$e.DFDY),W6e=st($e,$e.ROUND),j6e=st($e,$e.RECIPROCAL),X6e=st($e,$e.TRUNC),q6e=st($e,$e.FWIDTH),K6e=st($e,$e.ATAN2),Y6e=st($e,$e.MIN),Z6e=st($e,$e.MAX),Q6e=st($e,$e.MOD),J6e=st($e,$e.STEP),exe=st($e,$e.REFLECT),txe=st($e,$e.DISTANCE),nxe=st($e,$e.DIFFERENCE),rxe=st($e,$e.DOT),ixe=st($e,$e.CROSS),oxe=st($e,$e.POW),axe=st($e,$e.POW,2),sxe=st($e,$e.POW,3),lxe=st($e,$e.POW,4),cxe=st($e,$e.TRANSFORM_DIRECTION),w3=st($e,$e.MIX),EH=(t,e=0,n=1)=>sn(new $e($e.CLAMP,sn(t),sn(e),sn(n))),uxe=t=>EH(t),dxe=st($e,$e.REFRACT),_H=st($e,$e.SMOOTHSTEP),fxe=st($e,$e.FACEFORWARD),hxe=(t,e,n)=>w3(e,n,t),pxe=(t,e,n)=>_H(e,n,t);tt("radians",E6e);tt("degrees",_6e);tt("exp",T6e);tt("exp2",M6e);tt("log",R6e);tt("log2",A6e);tt("sqrt",P6e);tt("inverseSqrt",I6e);tt("floor",N6e);tt("ceil",O6e);tt("normalize",Da);tt("fract",L6e);tt("sin",D6e);tt("cos",F6e);tt("tan",$6e);tt("asin",U6e);tt("acos",k6e);tt("atan",B6e);tt("abs",bH);tt("sign",z6e);tt("length",H6e);tt("negate",G6e);tt("oneMinus",V6e);tt("dFdx",wH);tt("dFdy",CH);tt("round",W6e);tt("reciprocal",j6e);tt("trunc",X6e);tt("fwidth",q6e);tt("atan2",K6e);tt("min",Y6e);tt("max",Z6e);tt("mod",Q6e);tt("step",J6e);tt("reflect",exe);tt("distance",txe);tt("dot",rxe);tt("cross",ixe);tt("pow",oxe);tt("pow2",axe);tt("pow3",sxe);tt("pow4",lxe);tt("transformDirection",cxe);tt("mix",hxe);tt("clamp",EH);tt("refract",dxe);tt("smoothstep",pxe);tt("faceForward",fxe);tt("difference",nxe);tt("saturate",uxe);Nt("MathNode",$e);const mxe=Cs(t=>{const{value:e}=t,{rgb:n}=e,r=n.mul(.9478672986).add(.0521327014).pow(2.4),i=n.mul(.0773993808),o=n.lessThanEqual(.04045),a=w3(r,i,o);return es(a,e.a)}),gxe=Cs(t=>{const{value:e}=t,{rgb:n}=e,r=n.pow(.41666).mul(1.055).sub(.055),i=n.mul(12.92),o=n.lessThanEqual(.0031308),a=w3(r,i,o);return es(a,e.a)}),DN=t=>{let e=null;return t===Oo?e="Linear":t===$t&&(e="sRGB"),e},TH=(t,e)=>DN(t)+"To"+DN(e);class Lo extends rl{constructor(e,n){super("vec4"),this.method=e,this.node=n}setup(){const{method:e,node:n}=this;return e===Lo.LINEAR_TO_LINEAR?n:vxe[e]({value:n})}}Lo.LINEAR_TO_LINEAR="LinearToLinear";Lo.LINEAR_TO_sRGB="LinearTosRGB";Lo.sRGB_TO_LINEAR="sRGBToLinear";const vxe={[Lo.LINEAR_TO_sRGB]:gxe,[Lo.sRGB_TO_LINEAR]:mxe},yxe=(t,e)=>sn(new Lo(TH(Oo,e),sn(t))),GE=(t,e)=>sn(new Lo(TH(e,Oo),sn(t))),xxe=st(Lo,Lo.LINEAR_TO_sRGB),Sxe=st(Lo,Lo.sRGB_TO_LINEAR);tt("linearTosRGB",xxe);tt("sRGBToLinear",Sxe);tt("linearToColorSpace",yxe);tt("colorSpaceToLinear",GE);Nt("ColorSpaceNode",Lo);class MH extends Rn{constructor(e="",n="void"){super(n),this.snippet=e}generate(e,n){const r=this.getNodeType(e),i=this.snippet;if(r==="void")e.addLineFlowCode(i);else return e.format(`( ${i} )`,r,n)}}const dx=st(MH);Nt("ExpressionNode",MH);class VE extends b3{constructor(e,n=null,r=null,i=null){super(e),this.isTextureNode=!0,this.uvNode=n,this.levelNode=r,this.compareNode=i,this.updateMatrix=!1,this.updateType=Rr.NONE,this.setUpdateMatrix(n===null)}getUniformHash(){return this.value.uuid}getNodeType(){return this.value.isDepthTexture===!0?"float":"vec4"}getInputType(){return"texture"}getDefaultUV(){return HE(this.value.channel)}updateReference(){return this.value}getTransformedUV(e){const n=this.value;return ql(n.matrix).mul(li(e,1)).xy}setUpdateMatrix(e){return this.updateMatrix=e,this.updateType=e?Rr.FRAME:Rr.NONE,this}setup(e){const n=e.getNodeProperties(this);let r=this.uvNode;r===null&&e.context.getUVNode&&(r=e.context.getUVNode(this)),r||(r=this.getDefaultUV()),this.updateMatrix===!0&&(r=this.getTransformedUV(r));let i=this.levelNode;i===null&&e.context.getSamplerLevelNode&&(i=e.context.getSamplerLevelNode(this)),n.uvNode=r,n.levelNode=i?e.context.getMIPLevelAlgorithmNode(this,i):null}generate(e,n){const{uvNode:r,levelNode:i}=e.getNodeProperties(this),o=this.compareNode,a=this.value;if(!a||a.isTexture!==!0)throw new Error("TextureNode: Need a three.js texture.");const s=super.generate(e,"property");if(n==="sampler")return s+"_sampler";if(e.isReference(n))return s;{const l=this.getNodeType(e),c=e.getDataFromNode(this);let u=c.propertyName;if(u===void 0){const f=r.build(e,"vec2"),p=e.getVarFromNode(this,l);u=e.getPropertyName(p);let y=null;if(i&&i.isNode===!0){const b=i.build(e,"float");y=e.getTextureLevel(a,s,f,b)}else if(o!==null){const b=o.build(e,"float");y=e.getTextureCompare(a,s,f,b)}else y=e.getTexture(a,s,f);e.addLineFlowCode(`${u} = ${y}`),e.context.tempWrite!==!1&&(c.snippet=y,c.propertyName=u)}let d=u;return e.needsColorSpaceToLinear(this.value)&&(d=GE(dx(d,l),this.value.colorSpace).setup(e).build(e,l)),e.format(d,l,n)}}uv(e){const n=this.clone();return n.uvNode=e,sn(n)}level(e){const n=this.clone();return n.levelNode=e,as(n,{getMIPLevelAlgorithmNode:(r,i)=>i})}size(e){return vH(this,e)}compare(e){const n=this.clone();return n.compareNode=sn(e),sn(n)}serialize(e){super.serialize(e),e.value=this.value.toJSON(e.meta).uuid}deserialize(e){super.deserialize(e),this.value=e.meta.textures[e.value]}update(){const e=this.value;e.matrixAutoUpdate===!0&&e.updateMatrix()}clone(){return new this.constructor(this.value,this.uvNode,this.levelNode,this.compareNode)}}const ss=st(VE);tt("texture",ss);Nt("TextureNode",VE);class WE extends Rn{constructor(e,n,r=null){super(),this.property=e,this.uniformType=n,this.object=r,this.reference=null,this.node=null,this.updateType=Rr.OBJECT,this.setNodeType(n)}updateReference(e){return this.reference=this.object!==null?this.object:e.object,this.reference}setNodeType(e){let n=null;e==="texture"?n=ss(null):n=ql(e),this.node=n}getNodeType(e){return this.node.getNodeType(e)}update(){this.node.value=this.reference[this.property]}setup(){return this.node}}const Eo=(t,e,n)=>sn(new WE(t,e,n));Nt("ReferenceNode",WE);class RH extends WE{constructor(e,n,r=null){super(e,n,r),this.material=r,this.updateType=Rr.RENDER}updateReference(e){return this.reference=this.material!==null?this.material:e.material,this.reference}setup(e){const n=this.material!==null?this.material:e.material;return this.node.value=n[this.property],super.setup(e)}}const Dm=(t,e,n)=>sn(new RH(t,e,n));Nt("MaterialReferenceNode",RH);const FN=new Map;class bt extends Rn{constructor(e){super(),this.scope=e}getCache(e,n){let r=FN.get(e);return r===void 0&&(r=Dm(e,n),FN.set(e,r)),r}getFloat(e){return this.getCache(e,"float")}getColor(e){return this.getCache(e,"color")}getTexture(e){return this.getCache(e,"texture")}setup(e){const n=e.context.material,r=this.scope;let i=null;if(r===bt.ALPHA_TEST||r===bt.SHININESS||r===bt.REFLECTIVITY||r===bt.ROTATION||r===bt.IRIDESCENCE||r===bt.IRIDESCENCE_IOR)i=this.getFloat(r);else if(r===bt.SPECULAR_COLOR)i=this.getColor("specular");else if(r===bt.COLOR){const o=this.getColor("color");n.map&&n.map.isTexture===!0?i=o.mul(this.getTexture("map")):i=o}else if(r===bt.OPACITY){const o=this.getFloat("opacity");n.alphaMap&&n.alphaMap.isTexture===!0?i=o.mul(this.getTexture("alphaMap")):i=o}else if(r===bt.SPECULAR_STRENGTH)n.specularMap&&n.specularMap.isTexture===!0?i=this.getTexture("specularMap").r:i=Zs(1);else if(r===bt.ROUGHNESS){const o=this.getFloat("roughness");n.roughnessMap&&n.roughnessMap.isTexture===!0?i=o.mul(this.getTexture("roughnessMap").g):i=o}else if(r===bt.METALNESS){const o=this.getFloat("metalness");n.metalnessMap&&n.metalnessMap.isTexture===!0?i=o.mul(this.getTexture("metalnessMap").b):i=o}else if(r===bt.EMISSIVE){const o=this.getColor("emissive");n.emissiveMap&&n.emissiveMap.isTexture===!0?i=o.mul(this.getTexture("emissiveMap")):i=o}else if(r===bt.CLEARCOAT){const o=this.getFloat("clearcoat");n.clearcoatMap&&n.clearcoatMap.isTexture===!0?i=o.mul(this.getTexture("clearcoatMap").r):i=o}else if(r===bt.CLEARCOAT_ROUGHNESS){const o=this.getFloat("clearcoatRoughness");n.clearcoatRoughnessMap&&n.clearcoatRoughnessMap.isTexture===!0?i=o.mul(this.getTexture("clearcoatRoughnessMap").r):i=o}else if(r===bt.SHEEN){const o=this.getColor("sheenColor").mul(this.getFloat("sheen"));n.sheenColorMap&&n.sheenColorMap.isTexture===!0?i=o.mul(this.getTexture("sheenColorMap").rgb):i=o}else if(r===bt.SHEEN_ROUGHNESS){const o=this.getFloat("sheenRoughness");n.sheenRoughnessMap&&n.sheenRoughnessMap.isTexture===!0?i=o.mul(this.getTexture("sheenRoughnessMap").a):i=o,i=i.clamp(.07,1)}else if(r===bt.IRIDESCENCE_THICKNESS){const o=Eo(1,"float",n.iridescenceThicknessRange);if(n.iridescenceThicknessMap){const a=Eo(0,"float",n.iridescenceThicknessRange);i=o.sub(a).mul(this.getTexture("iridescenceThicknessMap").g).add(a)}else i=o}else{const o=this.getNodeType(e);i=Dm(r,o)}return i}}bt.ALPHA_TEST="alphaTest";bt.COLOR="color";bt.OPACITY="opacity";bt.SHININESS="shininess";bt.SPECULAR="specular";bt.SPECULAR_STRENGTH="specularStrength";bt.REFLECTIVITY="reflectivity";bt.ROUGHNESS="roughness";bt.METALNESS="metalness";bt.CLEARCOAT="clearcoat";bt.CLEARCOAT_ROUGHNESS="clearcoatRoughness";bt.EMISSIVE="emissive";bt.ROTATION="rotation";bt.SHEEN="sheen";bt.SHEEN_ROUGHNESS="sheenRoughness";bt.IRIDESCENCE="iridescence";bt.IRIDESCENCE_IOR="iridescenceIOR";bt.IRIDESCENCE_THICKNESS="iridescenceThickness";const bxe=yt(bt,bt.ALPHA_TEST),wxe=yt(bt,bt.COLOR);yt(bt,bt.SHININESS);const Cxe=yt(bt,bt.EMISSIVE),Exe=yt(bt,bt.OPACITY);yt(bt,bt.SPECULAR_COLOR);yt(bt,bt.SPECULAR_STRENGTH);yt(bt,bt.REFLECTIVITY);yt(bt,bt.ROUGHNESS);yt(bt,bt.METALNESS);yt(bt,bt.CLEARCOAT);yt(bt,bt.CLEARCOAT_ROUGHNESS);yt(bt,bt.ROTATION);yt(bt,bt.SHEEN);yt(bt,bt.SHEEN_ROUGHNESS);yt(bt,bt.IRIDESCENCE);yt(bt,bt.IRIDESCENCE_IOR);yt(bt,bt.IRIDESCENCE_THICKNESS);Nt("MaterialNode",bt);class rn extends Rn{constructor(e=rn.VIEW_MATRIX,n=null){super(),this.scope=e,this.object3d=n,this.updateType=Rr.OBJECT,this._uniformNode=new b3(null)}getNodeType(){const e=this.scope;if(e===rn.WORLD_MATRIX||e===rn.VIEW_MATRIX)return"mat4";if(e===rn.NORMAL_MATRIX)return"mat3";if(e===rn.POSITION||e===rn.VIEW_POSITION||e===rn.DIRECTION||e===rn.SCALE)return"vec3"}update(e){const n=this.object3d,r=this._uniformNode,i=this.scope;if(i===rn.VIEW_MATRIX)r.value=n.modelViewMatrix;else if(i===rn.NORMAL_MATRIX)r.value=n.normalMatrix;else if(i===rn.WORLD_MATRIX)r.value=n.matrixWorld;else if(i===rn.POSITION)r.value=r.value||new Q,r.value.setFromMatrixPosition(n.matrixWorld);else if(i===rn.SCALE)r.value=r.value||new Q,r.value.setFromMatrixScale(n.matrixWorld);else if(i===rn.DIRECTION)r.value=r.value||new Q,n.getWorldDirection(r.value);else if(i===rn.VIEW_POSITION){const o=e.camera;r.value=r.value||new Q,r.value.setFromMatrixPosition(n.matrixWorld),r.value.applyMatrix4(o.matrixWorldInverse)}}generate(e){const n=this.scope;return n===rn.WORLD_MATRIX||n===rn.VIEW_MATRIX?this._uniformNode.nodeType="mat4":n===rn.NORMAL_MATRIX?this._uniformNode.nodeType="mat3":(n===rn.POSITION||n===rn.VIEW_POSITION||n===rn.DIRECTION||n===rn.SCALE)&&(this._uniformNode.nodeType="vec3"),this._uniformNode.build(e)}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}rn.VIEW_MATRIX="viewMatrix";rn.NORMAL_MATRIX="normalMatrix";rn.WORLD_MATRIX="worldMatrix";rn.POSITION="position";rn.SCALE="scale";rn.VIEW_POSITION="viewPosition";rn.DIRECTION="direction";const AH=rn;st(rn,rn.DIRECTION);st(rn,rn.VIEW_MATRIX);st(rn,rn.NORMAL_MATRIX);st(rn,rn.WORLD_MATRIX);st(rn,rn.POSITION);st(rn,rn.SCALE);st(rn,rn.VIEW_POSITION);Nt("Object3DNode",rn);class Kn extends AH{constructor(e=Kn.POSITION){super(e)}getNodeType(e){const n=this.scope;return n===Kn.PROJECTION_MATRIX?"mat4":n===Kn.NEAR||n===Kn.FAR?"float":super.getNodeType(e)}update(e){const n=e.camera,r=this._uniformNode,i=this.scope;i===Kn.VIEW_MATRIX?r.value=n.matrixWorldInverse:i===Kn.PROJECTION_MATRIX?r.value=n.projectionMatrix:i===Kn.NEAR?r.value=n.near:i===Kn.FAR?r.value=n.far:(this.object3d=n,super.update(e))}generate(e){const n=this.scope;return n===Kn.PROJECTION_MATRIX?this._uniformNode.nodeType="mat4":(n===Kn.NEAR||n===Kn.FAR)&&(this._uniformNode.nodeType="float"),super.generate(e)}}Kn.PROJECTION_MATRIX="projectionMatrix";Kn.NEAR="near";Kn.FAR="far";const _xe=BE(yt(Kn,Kn.PROJECTION_MATRIX),"projectionMatrix");yt(Kn,Kn.NEAR);yt(Kn,Kn.FAR);const Kd=yt(Kn,Kn.VIEW_MATRIX);yt(Kn,Kn.NORMAL_MATRIX);yt(Kn,Kn.WORLD_MATRIX);yt(Kn,Kn.POSITION);Nt("CameraNode",Kn);class ki extends AH{constructor(e=ki.VIEW_MATRIX){super(e)}update(e){this.object3d=e.object,super.update(e)}}yt(ki,ki.DIRECTION);const jE=BE(yt(ki,ki.VIEW_MATRIX),"modelViewMatrix"),PH=yt(ki,ki.NORMAL_MATRIX),$N=yt(ki,ki.WORLD_MATRIX);yt(ki,ki.POSITION);yt(ki,ki.SCALE);yt(ki,ki.VIEW_POSITION);Nt("ModelNode",ki);class ci extends Rn{constructor(e=ci.LOCAL){super("vec3"),this.scope=e}isGlobal(){return!0}getHash(){return`normal-${this.scope}`}generate(e){const n=this.scope;let r=null;if(n===ci.GEOMETRY)r=Ip("normal","vec3");else if(n===ci.LOCAL)r=uo(IH);else if(n===ci.VIEW){const i=PH.mul(Np);r=Da(uo(i))}else if(n===ci.WORLD){const i=$d.transformDirection(Kd);r=Da(uo(i))}return r.build(e,this.getNodeType(e))}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}ci.GEOMETRY="geometry";ci.LOCAL="local";ci.VIEW="view";ci.WORLD="world";const IH=yt(ci,ci.GEOMETRY),Np=yt(ci,ci.LOCAL),$d=yt(ci,ci.VIEW),fx=yt(ci,ci.WORLD),Op=zE("vec3","TransformedNormalView"),Txe=Op.transformDirection(Kd).normalize(),Mxe=zE("vec3","TransformedClearcoatNormalView");Nt("NormalNode",ci);class NH extends Rn{constructor(e,n=null){super(),this.node=e,this.name=n}assign(e){return e.traverse((n,r)=>{r&&n.uuid===this.uuid&&r(this.node)}),this.node=e,this}isGlobal(){return!0}getHash(e){return this.name||super.getHash(e)}getNodeType(e){return this.node.getNodeType(e)}generate(e){const n=this.node,r=this.name;if(r===null&&n.isTempNode===!0)return n.build(e);const i=e.getVectorType(this.getNodeType(e)),o=n.build(e,i),a=e.getVarFromNode(this,i);r!==null&&(a.name=r);const s=e.getPropertyName(a);return e.addLineFlowCode(`${s} = ${o}`),s}}const OH=st(NH);tt("temp",OH);Nt("VarNode",NH);class ni extends Rn{constructor(e=ni.LOCAL){super(),this.scope=e}getHash(){return`tangent-${this.scope}`}getNodeType(){return this.scope===ni.GEOMETRY?"vec4":"vec3"}generate(e){const n=this.scope;let r=null;if(n===ni.GEOMETRY)r=Ip("tangent","vec4");else if(n===ni.LOCAL)r=uo(ky.xyz);else if(n===ni.VIEW){const i=jE.mul(XE).xyz;r=Da(uo(i))}else if(n===ni.WORLD){const i=hx.transformDirection(Kd);r=Da(uo(i))}return r.build(e,this.getNodeType(e))}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}ni.GEOMETRY="geometry";ni.LOCAL="local";ni.VIEW="view";ni.WORLD="world";const ky=yt(ni,ni.GEOMETRY),XE=yt(ni,ni.LOCAL),hx=yt(ni,ni.VIEW),Rxe=yt(ni,ni.WORLD),LH=OH(hx,"TransformedTangentView");Da(LH.transformDirection(Kd));Nt("TangentNode",ni);class ui extends Rn{constructor(e=ui.LOCAL){super("vec3"),this.scope=e}getHash(){return`bitangent-${this.scope}`}generate(e){const n=this.scope;let r;n===ui.GEOMETRY?r=IH.cross(ky):n===ui.LOCAL?r=Np.cross(XE):n===ui.VIEW?r=$d.cross(hx):n===ui.WORLD&&(r=fx.cross(Rxe));const i=r.mul(ky.w).xyz;return Da(uo(i)).build(e,this.getNodeType(e))}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}ui.GEOMETRY="geometry";ui.LOCAL="local";ui.VIEW="view";ui.WORLD="world";yt(ui,ui.GEOMETRY);yt(ui,ui.LOCAL);const Axe=yt(ui,ui.VIEW);yt(ui,ui.WORLD);const Pxe=Da(Op.cross(LH).mul(ky.w));Da(Pxe.transformDirection(Kd));Nt("BitangentNode",ui);class ar extends Rn{constructor(e=ar.LOCAL){super("vec3"),this.scope=e}isGlobal(){return!0}getHash(){return`position-${this.scope}`}generate(e){const n=this.scope;let r=null;if(n===ar.GEOMETRY)r=Ip("position","vec3");else if(n===ar.LOCAL)r=uo(Ixe);else if(n===ar.WORLD){const i=$N.mul(Xs);r=uo(i)}else if(n===ar.VIEW){const i=jE.mul(Xs);r=uo(i)}else if(n===ar.VIEW_DIRECTION){const i=Ud.negate();r=Da(uo(i))}else if(n===ar.WORLD_DIRECTION){const i=Xs.transformDirection($N);r=Da(uo(i))}return r.build(e,this.getNodeType(e))}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}ar.GEOMETRY="geometry";ar.LOCAL="local";ar.WORLD="world";ar.WORLD_DIRECTION="worldDirection";ar.VIEW="view";ar.VIEW_DIRECTION="viewDirection";const Ixe=yt(ar,ar.GEOMETRY),Xs=yt(ar,ar.LOCAL),Nxe=yt(ar,ar.WORLD),DH=yt(ar,ar.WORLD_DIRECTION),Ud=yt(ar,ar.VIEW),FH=yt(ar,ar.VIEW_DIRECTION);Nt("PositionNode",ar);class $H extends Rn{constructor(){super("bool"),this.isFrontFacingNode=!0}generate(e){return e.getFrontFacing()}}const Oxe=yt($H),UH=Zs(Oxe).mul(2).sub(1);Nt("FrontFacingNode",$H);const Lxe=Cs(t=>{const{eye_pos:e,surf_norm:n,mapN:r,uv:i}=t,o=e.dFdx(),a=e.dFdy(),s=i.dFdx(),l=i.dFdy(),c=n,u=a.cross(c),d=c.cross(o),f=u.mul(s.x).add(d.mul(l.x)),p=u.mul(s.y).add(d.mul(l.y)),y=f.dot(f).max(p.dot(p)),b=UH.mul(y.inverseSqrt());return yd(f.mul(r.x,b),p.mul(r.y,b),c.mul(r.z)).normalize()});class kH extends rl{constructor(e,n=null){super("vec3"),this.node=e,this.scaleNode=n,this.normalMapType=Ys}setup(e){const{normalMapType:n,scaleNode:r}=this;let i=this.node.mul(2).sub(1);r!==null&&(i=li(i.xy.mul(r),i.z));let o=null;return n===qC?o=PH.mul(i).normalize():n===Ys&&(e.hasGeometryAttribute("tangent")===!0?o=Dxe.mul(i).normalize():o=Lxe({eye_pos:Ud,surf_norm:$d,mapN:i,uv:HE()})),o}}const UN=st(kH),Dxe=Lg(hx,Axe,$d);Nt("NormalMapNode",kH);const Fxe=Cs(({bumpTexture:t,bumpScale:e})=>{const n=HE(),r=ss(t,n).x;return Pp(ss(t,n.add(n.dFdx())).x.sub(r),ss(t,n.add(n.dFdy())).x.sub(r)).mul(e)}),$xe=Cs(t=>{const{surf_pos:e,surf_norm:n,dHdxy:r}=t,i=e.dFdx(),o=e.dFdy(),a=n,s=o.cross(a),l=a.cross(i),c=i.dot(s).mul(UH),u=c.sign().mul(r.x.mul(s).add(r.y.mul(l)));return c.abs().mul(n).sub(u).normalize()});class BH extends rl{constructor(e,n=null){super("vec3"),this.texture=e,this.scaleNode=n}setup(){const e=this.scaleNode!==null?this.scaleNode:1,n=Fxe({bumpTexture:this.texture,bumpScale:e});return $xe({surf_pos:Ud.negate(),surf_norm:$d,dHdxy:n})}}const Uxe=st(BH);Nt("BumpMapNode",BH);class Ea extends bt{constructor(e){super(e)}getNodeType(e){const n=this.scope;let r=null;return(n===Ea.NORMAL||n===Ea.CLEARCOAT_NORMAL)&&(r="vec3"),r||super.getNodeType(e)}setup(e){const n=e.material,r=this.scope;let i=null;return r===Ea.NORMAL?n.normalMap?i=UN(this.getTexture("normalMap"),Dm("normalScale","vec2")):n.bumpMap?i=Uxe(n.bumpMap,Dm("bumpScale","float")):i=$d:r===Ea.CLEARCOAT_NORMAL&&(i=n.clearcoatNormalMap?UN(this.getTexture("clearcoatNormalMap"),Dm("clearcoatNormalScale","vec2")):$d),i||super.setup(e)}}Ea.NORMAL="normal";Ea.CLEARCOAT_NORMAL="clearcoatNormal";const kxe=yt(Ea,Ea.NORMAL);yt(Ea,Ea.CLEARCOAT_NORMAL);Nt("ExtendedMaterialNode",Ea);class zH extends rl{constructor(e=Xs){super("vec4"),this.positionNode=e}setup(){return _xe.mul(jE).mul(this.positionNode)}}const HH=st(zH);Nt("ModelViewProjectionNode",zH);class GH extends NE{constructor(e,n=null,r=0,i=0){super(e,n),this.isBufferNode=!0,this.bufferType=n,this.bufferStride=r,this.bufferOffset=i,this.usage=Cp,this.instanced=!1,this.attribute=null,e&&e.isBufferAttribute===!0&&(this.attribute=e,this.usage=e.usage,this.instanced=e.isInstancedBufferAttribute)}getNodeType(e){return this.bufferType===null&&(this.bufferType=e.getTypeFromAttribute(this.attribute)),this.bufferType}setup(e){if(this.attribute!==null)return;const n=this.getNodeType(e),r=this.value,i=e.getTypeLength(n),o=this.bufferStride||i,a=this.bufferOffset,s=r.isInterleavedBuffer===!0?r:new g3(r,o),l=new Jc(s,i,a);s.setUsage(this.usage),this.attribute=l,this.attribute.isInstancedBufferAttribute=this.instanced}generate(e){const n=this.getNodeType(e),r=e.getBufferAttributeFromNode(this,n),i=e.getPropertyName(r);let o=null;return e.shaderStage==="vertex"?o=i:o=uo(this).build(e,n),o}getInputType(){return"bufferAttribute"}setUsage(e){return this.usage=e,this}setInstanced(e){return this.instanced=e,this}}const px=(t,e,n,r)=>sn(new GH(t,e,n,r)),Bxe=(t,e,n,r)=>px(t,e,n,r).setUsage(k6),zxe=(t,e,n,r)=>px(t,e,n,r).setInstanced(!0),Hxe=(t,e,n,r)=>Bxe(t,e,n,r).setInstanced(!0);tt("toAttribute",t=>px(t.value));Nt("BufferAttributeNode",GH);class VH extends Rn{constructor(e){super("void"),this.instanceMesh=e,this.instanceMatrixNode=null}setup(e){let n=this.instanceMatrixNode;if(n===null){const l=this.instanceMesh.instanceMatrix,c=new bz(l.array,16,1),u=l.usage===k6?Hxe:zxe,d=[u(c,"vec4",16,0),u(c,"vec4",16,4),u(c,"vec4",16,8),u(c,"vec4",16,12)];n=cH(...d),this.instanceMatrixNode=n}const r=n.mul(Xs).xyz,i=Lg(n[0].xyz,n[1].xyz,n[2].xyz),o=Np.div(li(i[0].dot(i[0]),i[1].dot(i[1]),i[2].dot(i[2]))),a=i.mul(o).xyz;e.stack.assign(Xs,r),e.stack.assign(Np,a)}}const Gxe=st(VH);Nt("InstanceNode",VH);class WH extends b3{constructor(e,n,r=0){super(e,n),this.isBufferNode=!0,this.bufferType=n,this.bufferCount=r}getInputType(){return"buffer"}}const Vxe=(t,e,n)=>sn(new WH(t,e,n));Nt("BufferNode",WH);class jH extends Rn{constructor(e){super("void"),this.skinnedMesh=e,this.updateType=Rr.OBJECT,this.skinIndexNode=Ip("skinIndex","uvec4"),this.skinWeightNode=Ip("skinWeight","vec4"),this.bindMatrixNode=ql(e.bindMatrix,"mat4"),this.bindMatrixInverseNode=ql(e.bindMatrixInverse,"mat4"),this.boneMatricesNode=Vxe(e.skeleton.boneMatrices,"mat4",e.skeleton.bones.length)}setup(e){const{skinIndexNode:n,skinWeightNode:r,bindMatrixNode:i,bindMatrixInverseNode:o,boneMatricesNode:a}=this,s=a.element(n.x),l=a.element(n.y),c=a.element(n.z),u=a.element(n.w),d=i.mul(Xs),f=yd(s.mul(r.x).mul(d),l.mul(r.y).mul(d),c.mul(r.z).mul(d),u.mul(r.w).mul(d)),p=o.mul(f).xyz;let y=yd(r.x.mul(s),r.y.mul(l),r.z.mul(c),r.w.mul(u));y=o.mul(y).mul(i);const b=y.transformDirection(Np).xyz;e.stack.assign(Xs,p),e.stack.assign(Np,b),e.hasGeometryAttribute("tangent")&&e.stack.assign(XE,b)}update(){this.skinnedMesh.skeleton.update()}}const Wxe=st(jH);Nt("SkinningNode",jH);class XH extends Rn{constructor(e){super("void"),this.mesh=e,this.morphBaseInfluence=ql(1),this.updateType=Rr.OBJECT}setupAttribute(e,n,r=Xs){const i=this.mesh,o=i.geometry.morphAttributes[n];e.stack.assign(r,r.mul(this.morphBaseInfluence));for(let a=0;a<o.length;a++){const s=o[a],l=px(s.array,"vec3"),c=Eo(a,"float",i.morphTargetInfluences);e.stack.assign(r,r.add(l.mul(c)))}}setup(e){this.setupAttribute(e,"position")}update(){const e=this.morphBaseInfluence;this.mesh.geometry.morphTargetsRelative?e.value=1:e.value=1-this.mesh.morphTargetInfluences.reduce((n,r)=>n+r,0)}}const jxe=st(XH);Nt("MorphNode",XH);class qH extends Rn{constructor(){super("vec3")}getHash(){return"reflectVector"}setup(){return FH.negate().reflect(Op).transformDirection(Kd)}}const Xxe=yt(qH);Nt("ReflectVectorNode",qH);class KH extends VE{constructor(e,n=null,r=null){super(e,n,r),this.isCubeTextureNode=!0}getInputType(){return"cubeTexture"}getDefaultUV(){return Xxe}setUpdateMatrix(){}generate(e,n){const{uvNode:r,levelNode:i}=e.getNodeProperties(this),o=this.value;if(!o||o.isCubeTexture!==!0)throw new Error("CubeTextureNode: Need a three.js cube texture.");const a=b3.prototype.generate.call(this,e,"cubeTexture");if(n==="sampler")return a+"_sampler";if(e.isReference(n))return a;{const s=this.getNodeType(e),l=e.getDataFromNode(this);let c=l.propertyName;if(c===void 0){const f=li(r.x.negate(),r.yz).build(e,"vec3"),p=e.getVarFromNode(this,"vec4");c=e.getPropertyName(p);let y=null;if(i&&i.isNode===!0){const b=i.build(e,"float");y=e.getTextureLevel(this,a,f,b)}else y=e.getTexture(this,a,f);e.addLineFlowCode(`${c} = ${y}`),e.context.tempWrite!==!1&&(l.snippet=y,l.propertyName=c)}let u=c;return e.needsColorSpaceToLinear(this.value)&&(u=GE(dx(u,s),this.value.colorSpace).setup(e).build(e,s)),e.format(u,"vec4",n)}}}const Dg=st(KH);tt("cubeTexture",Dg);Nt("CubeTextureNode",KH);class YH extends Rn{constructor(){super("vec3")}generate(){console.warn("Abstract function.")}}const qE=YH;Nt("LightingNode",YH);let MS=null;class ZH extends qE{constructor(e=null){super(),this.updateType=Rr.FRAME,this.light=e,this.rtt=null,this.shadowNode=null,this.color=new St,this.colorNode=ql(this.color)}getHash(){return this.light.uuid}setupShadow(e){let n=this.shadowNode;if(n===null){MS===null&&(MS=e.createNodeMaterial("MeshBasicNodeMaterial"));const r=this.light.shadow,i=e.getRenderTarget(r.mapSize.width,r.mapSize.height),o=new m3;o.minFilter=Wn,o.magFilter=Wn,o.image.width=r.mapSize.width,o.image.height=r.mapSize.height,o.compareFunction=u3,i.depthTexture=o,r.camera.updateProjectionMatrix();const a=Eo("bias","float",r),s=Eo("normalBias","float",r);let l=ql(r.matrix).mul(Nxe.add(fx.mul(s)));l=l.xyz.div(l.w);const c=l.x.greaterThanEqual(0).and(l.x.lessThanEqual(1)).and(l.y.greaterThanEqual(0)).and(l.y.lessThanEqual(1)).and(l.z.lessThanEqual(1));l=li(l.x,l.y.oneMinus(),l.z.add(a).mul(2).sub(1)),n=((d,f,p)=>ss(d,f).compare(p))(o,l.xy,l.z),this.rtt=i,this.colorNode=this.colorNode.mul(c.mix(1,n)),this.shadowNode=n,this.updateBeforeType=Rr.RENDER}}setup(e){this.light.castShadow&&this.setupShadow(e)}updateShadow(e){const{rtt:n,light:r}=this,{renderer:i,scene:o}=e;o.overrideMaterial=MS,n.setSize(r.shadow.mapSize.width,r.shadow.mapSize.height),r.shadow.updateMatrices(r),i.setRenderTarget(n),i.render(o,r.shadow.camera),i.setRenderTarget(null),o.overrideMaterial=null}updateBefore(e){const{light:n}=this;n.castShadow&&this.updateShadow(e)}update(){const{light:e}=this;this.color.copy(e.color).multiplyScalar(e.intensity)}}const qxe=ZH;Nt("AnalyticLightNode",ZH);const kN=new WeakMap,Kxe=t=>t.sort((e,n)=>e.id-n.id);class QH extends Rn{constructor(e=[]){super("vec3"),this.lightNodes=e,this._hash=null}get hasLight(){return this.lightNodes.length>0}setup(e){const n=this.lightNodes;for(const r of n)r.build(e)}getHash(e){if(this._hash===null){let n="";const r=this.lightNodes;for(const i of r)n+=i.getHash(e)+" ";this._hash=n}return this._hash}getLightNodeByHash(e){const n=this.lightNodes;for(const r of n)if(r.light.uuid===e)return r;return null}fromLights(e=[]){const n=[];e=Kxe(e);for(const r of e){let i=this.getLightNodeByHash(r.uuid);if(i===null){const o=r.constructor,a=kN.has(o)?kN.get(o):qxe;i=sn(new a(r))}n.push(i)}return this.lightNodes=n,this._hash=null,this}}const Yxe=QH,Zxe=st(QH);class JH extends qE{constructor(e=null){super(),this.aoNode=e}setup(e){const r=this.aoNode.x.sub(1).mul(1).add(1);e.context.ambientOcclusion.mulAssign(r)}}const Qxe=JH;Nt("AONode",JH);class eG extends kE{constructor(e,n=null,r=null,i=null){super(e),this.lightingModel=n,this.backdropNode=r,this.backdropAlphaNode=i}getNodeType(){return"vec3"}setup(e){const{lightingModel:n,backdropNode:r,backdropAlphaNode:i}=this,o=this.context={},a=e.getNodeProperties(this),s=li().temp(),l=li().temp(),c=li().temp(),u=li().temp();let d=yd(s,c);r!==null&&(d=li(i!==null?w3(d,r,i):r));const f=yd(l,u),p=yd(d,f).temp(),y={directDiffuse:s,directSpecular:l,indirectDiffuse:c,indirectSpecular:u,total:p},b={radiance:li().temp(),irradiance:li().temp(),iblIrradiance:li().temp(),ambientOcclusion:Zs(1).temp()};return o.reflectedLight=y,o.lightingModel=n||o.lightingModel,Object.assign(a,y,b),Object.assign(o,b),n&&(n.init(o,e.stack,e),n.indirectDiffuse(o,e.stack,e),n.indirectSpecular(o,e.stack,e),n.ambientOcclusion(o,e.stack,e)),super.setup(e)}generate(e){const{context:n}=this,r=this.getNodeType(e);return super.generate(e,r),n.reflectedLight.total.build(e,r)}}const tG=st(eG);tt("lightingContext",tG);Nt("LightingContextNode",eG);class nG extends rl{constructor(e=DH){super("vec2"),this.dirNode=e}setup(){const e=this.dirNode,n=e.z.atan2(e.x).mul(1/(Math.PI*2)).add(.5),r=e.y.negate().clamp(-1,1).asin().mul(1/Math.PI).add(.5);return Pp(n,r)}}const mx=st(nG);Nt("EquirectUVNode",nG);class rG extends b3{constructor(e){super(0),this.textureNode=e,this.updateType=Rr.FRAME}get texture(){return this.textureNode.value}update(){const e=this.texture,n=e.images,r=n&&n.length>0?n[0]&&n[0].image||n[0]:e.image;if(r&&r.width!==void 0){const{width:i,height:o}=r;this.value=Math.log2(Math.max(i,o))}}}const iG=st(rG);Nt("MaxMipLevelNode",rG);class oG extends Rn{constructor(e,n=null){super("float"),this.textureNode=e,this.roughnessNode=n}setup(){const{textureNode:e,roughnessNode:n}=this,r=iG(e),i=n.mul(n).mul(Math.PI).div(n.add(1));return r.add(i.log2()).clamp(0,r)}}const aG=st(oG);Nt("SpecularMIPLevelNode",oG);const BN=new WeakMap;class sG extends qE{constructor(e=null){super(),this.envNode=e}setup(e){let n=this.envNode;const r=e.getNodeProperties(this);if(n.isTextureNode&&n.value.isCubeTexture!==!0){let c=BN.get(n.value);if(c===void 0){const u=n.value,d=e.renderer,f=e.getCubeRenderTarget(512).fromEquirectangularTexture(d,u);c=Dg(f.texture),BN.set(n.value,c)}n=c}const i=Eo("envMapIntensity","float",e.material),o=as(n,zN(a6e,Op)).mul(i),a=as(n,Jxe(Txe)).mul(Math.PI).mul(i),s=g9(o);e.context.radiance.addAssign(s),e.context.iblIrradiance.addAssign(a);const l=e.context.lightingModel.clearcoatRadiance;if(l){const c=as(n,zN(s6e,Mxe)).mul(i),u=g9(c);l.addAssign(u)}r.radiance=s,r.irradiance=a}}const zN=(t,e)=>{let n=null,r=null;return{getUVNode:i=>{let o=null;return n===null&&(n=FH.negate().reflect(e),n=t.mul(t).mix(n,e).normalize(),n=n.transformDirection(Kd)),i.isCubeTextureNode?o=n:i.isTextureNode&&(r===null&&(r=mx(n)),o=r),o},getSamplerLevelNode:()=>t,getMIPLevelAlgorithmNode:(i,o)=>aG(i,o)}},Jxe=t=>{let e=null;return{getUVNode:n=>{let r=null;return n.isCubeTextureNode?r=t:n.isTextureNode&&(e===null&&(e=mx(t),e=Pp(e.x,e.y.oneMinus())),r=e),r},getSamplerLevelNode:()=>Zs(1),getMIPLevelAlgorithmNode:(n,r)=>aG(n,r)}},e4e=sG;Nt("EnvironmentNode",sG);const y9=new Map;class gx extends Jo{constructor(){super(),this.isNodeMaterial=!0,this.type=this.constructor.type,this.forceSinglePass=!1,this.unlit=this.constructor===gx.prototype.constructor,this.fog=!0,this.lights=!0,this.normals=!0,this.colorSpace=!0,this.lightsNode=null,this.envNode=null,this.colorNode=null,this.normalNode=null,this.opacityNode=null,this.backdropNode=null,this.backdropAlphaNode=null,this.alphaTestNode=null,this.positionNode=null,this.outputNode=null,this.vertexNode=null}customProgramCacheKey(){return this.type+IE(this)}build(e){this.setup(e)}setup(e){e.addStack(),e.stack.outputNode=this.setupPosition(e),e.addFlow("vertex",e.removeStack()),e.addStack();let n;if(this.unlit===!1){this.normals===!0&&this.setupNormal(e),this.setupDiffuseColor(e),this.setupVariants(e);const r=this.setupLighting(e);n=this.setupOutput(e,es(r,Jf.a)),e.stack.assign(l6e,n),this.outputNode!==null&&(n=this.outputNode)}else n=this.setupOutput(e,this.outputNode||es(0,0,0,1));e.stack.outputNode=n,e.addFlow("fragment",e.removeStack())}setupPosition(e){const n=e.object,r=n.geometry;return e.addStack(),(r.morphAttributes.position||r.morphAttributes.normal||r.morphAttributes.color)&&e.stack.add(jxe(n)),n.isSkinnedMesh===!0&&e.stack.add(Wxe(n)),n.instanceMatrix&&n.instanceMatrix.isInstancedBufferAttribute===!0&&e.isAvailable("instance")===!0&&e.stack.add(Gxe(n)),this.positionNode!==null&&e.stack.assign(Xs,this.positionNode),e.context.vertex=e.removeStack(),this.vertexNode||HH()}setupDiffuseColor({stack:e,geometry:n}){let r=this.colorNode?es(this.colorNode):wxe;this.vertexColors===!0&&n.hasAttribute("color")&&(r=es(r.xyz.mul(Ip("color")),r.a)),e.assign(Jf,r);const i=this.opacityNode?Zs(this.opacityNode):Exe;if(e.assign(Jf.a,Jf.a.mul(i)),this.alphaTestNode!==null||this.alphaTest>0){const o=this.alphaTestNode!==null?Zs(this.alphaTestNode):bxe;e.add(Jf.a.lessThanEqual(o).discard())}}setupVariants(){}setupNormal({stack:e}){if(this.flatShading===!0){const n=wH(Ud),r=CH(Ud),i=n.cross(r).normalize();e.assign(Op,i)}else{const n=this.normalNode?li(this.normalNode):kxe;e.assign(Op,n)}}getEnvNode(e){let n=null;return this.envNode?n=this.envNode:this.envMap?n=this.envMap.isCubeTexture?Dg(this.envMap):ss(this.envMap):e.environmentNode&&(n=e.environmentNode),n}setupLights(e){const n=this.getEnvNode(e),r=[];n&&r.push(new e4e(n)),e.material.aoMap&&r.push(new Qxe(ss(e.material.aoMap)));let i=this.lightsNode||e.lightsNode;return r.length>0&&(i=Zxe([...i.lightNodes,...r])),i}setupLightingModel(){}setupLighting(e){const{material:n}=e,{backdropNode:r,backdropAlphaNode:i,emissiveNode:o}=this,s=this.lights===!0||this.lightsNode!==null?this.setupLights(e):null;let l=Jf.rgb;if(s&&s.hasLight!==!1){const c=this.setupLightingModel(e);l=tG(s,c,r,i)}else r!==null&&(l=li(i!==null?w3(l,r,i):r));return(o&&o.isNode===!0||n.emissive&&n.emissive.isColor===!0)&&(l=l.add(li(o||Cxe))),l}setupOutput(e,n){const r=e.renderer,i=e.toneMappingNode;if(i&&(n=es(i.context({color:n.rgb}),n.a)),this.fog===!0){const o=e.fogNode;o&&(n=es(o.mixAssign(n.rgb),n.a))}if(this.colorSpace===!0){const o=r.getRenderTarget();let a;o!==null?Array.isArray(o.texture)?a=o.texture[0].colorSpace:a=o.texture.colorSpace:a=r.outputColorSpace,a!==Oo&&a!==Oi&&(n=n.linearToColorSpace(a))}return n}setDefaultValues(e){for(const r in e){const i=e[r];this[r]===void 0&&(this[r]=i,i&&i.clone&&(this[r]=i.clone()))}Object.assign(this.defines,e.defines);const n=Object.getOwnPropertyDescriptors(e.constructor.prototype);for(const r in n)Object.getOwnPropertyDescriptor(this.constructor.prototype,r)===void 0&&n[r].get!==void 0&&Object.defineProperty(this.constructor.prototype,r,n[r])}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{},nodes:{}});const r=Mi.prototype.toJSON.call(this,e),i=Uy(this);r.inputNodes={};for(const{property:a,childNode:s}of i)r.inputNodes[a]=s.toJSON(e).uuid;function o(a){const s=[];for(const l in a){const c=a[l];delete c.metadata,s.push(c)}return s}if(n){const a=o(e.textures),s=o(e.images),l=o(e.nodes);a.length>0&&(r.textures=a),s.length>0&&(r.images=s),l.length>0&&(r.nodes=l)}return r}copy(e){return this.lightsNode=e.lightsNode,this.envNode=e.envNode,this.colorNode=e.colorNode,this.normalNode=e.normalNode,this.opacityNode=e.opacityNode,this.backdropNode=e.backdropNode,this.backdropAlphaNode=e.backdropAlphaNode,this.alphaTestNode=e.alphaTestNode,this.positionNode=e.positionNode,this.outputNode=e.outputNode,this.vertexNode=e.vertexNode,super.copy(e)}static fromMaterial(e){if(e.isNodeMaterial===!0)return e;const n=e.type.replace("Material","NodeMaterial"),r=YE(n);if(r===void 0)throw new Error(`NodeMaterial: Material "${e.type}" is not compatible.`);for(const i in e)r[i]=e[i];return r}}const KE=gx;function t4e(t,e){if(typeof e!="function"||!t)throw new Error(`Node material ${t} is not a class`);if(y9.has(t))throw new Error(`Redefinition of node material ${t}`);y9.set(t,e),e.type=t}function YE(t){const e=y9.get(t);if(e!==void 0)return new e}t4e("NodeMaterial",gx);class Yd{constructor(e,n=null){this.name=e,this.value=n,this.boundary=0,this.itemSize=0,this.offset=0}setValue(e){this.value=e}getValue(){return this.value}}class n4e extends Yd{constructor(e,n=0){super(e,n),this.isFloatUniform=!0,this.boundary=4,this.itemSize=1}}class r4e extends Yd{constructor(e,n=new Qe){super(e,n),this.isVector2Uniform=!0,this.boundary=8,this.itemSize=2}}class i4e extends Yd{constructor(e,n=new Q){super(e,n),this.isVector3Uniform=!0,this.boundary=16,this.itemSize=3}}class o4e extends Yd{constructor(e,n=new Tn){super(e,n),this.isVector4Uniform=!0,this.boundary=16,this.itemSize=4}}class a4e extends Yd{constructor(e,n=new St){super(e,n),this.isColorUniform=!0,this.boundary=16,this.itemSize=3}}class s4e extends Yd{constructor(e,n=new mn){super(e,n),this.isMatrix3Uniform=!0,this.boundary=48,this.itemSize=12}}class l4e extends Yd{constructor(e,n=new on){super(e,n),this.isMatrix4Uniform=!0,this.boundary=64,this.itemSize=16}}class c4e extends n4e{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}}class u4e extends r4e{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}}class d4e extends i4e{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}}class f4e extends o4e{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}}class h4e extends a4e{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}}class p4e extends s4e{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}}class m4e extends l4e{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}}class lG extends Rn{constructor(e,n,r=null){super(),this.condNode=e,this.ifNode=n,this.elseNode=r}getNodeType(e){const n=this.ifNode.getNodeType(e);if(this.elseNode!==null){const r=this.elseNode.getNodeType(e);if(e.getTypeLength(r)>e.getTypeLength(n))return r}return n}generate(e){const n=this.getNodeType(e),r={tempWrite:!1},{ifNode:i,elseNode:o}=this,a=i.getNodeType(e)!=="void"||o&&o.getNodeType(e)!=="void",s=a?zE(n).build(e):"",l=as(this.condNode).build(e,"bool");e.addFlowCode(`
${e.tab}if ( ${l} ) {

`).addFlowTab();let c=as(this.ifNode,r).build(e,n);if(c=a?s+" = "+c+";":c,e.removeFlowTab().addFlowCode(e.tab+"	"+c+`

`+e.tab+"}"),o!==null){e.addFlowCode(` else {

`).addFlowTab();let u=as(o,r).build(e,n);u=s?s+" = "+u+";":u,e.removeFlowTab().addFlowCode(e.tab+"	"+u+`

`+e.tab+`}

`)}else e.addFlowCode(`

`);return s}}const x9=st(lG);tt("cond",x9);Nt("CondNode",lG);class cG extends Rn{constructor(e=[]){super(),this.params=e}getVarName(e){return String.fromCharCode("i".charCodeAt()+e)}getProperties(e){const n=e.getNodeProperties(this);if(n.stackNode!==void 0)return n;const r={};for(let i=0,o=this.params.length-1;i<o;i++){const a=this.getVarName(i);r[a]=dx(a,"int")}return n.returnsNode=this.params[this.params.length-1](r,e.addStack(),e),n.stackNode=e.removeStack(),n}getNodeType(e){const{returnsNode:n}=this.getProperties(e);return n?n.getNodeType(e):"void"}setup(e){this.getProperties(e)}generate(e){const n=this.getProperties(e),r={tempWrite:!1},i=this.params,o=n.stackNode;for(let l=0,c=i.length-1;l<c;l++){const u=i[l],d=this.getVarName(l);let f=null,p=null,y=null;u.isNode?(f="0",p=u.build(e,"int"),y="forward"):(f=u.start,p=u.end,y=u.direction,typeof f=="number"?f=f.toString():f&&f.isNode&&(f=f.build(e,"int")),typeof p=="number"?p=p.toString():p&&p.isNode&&(p=p.build(e,"int")),f!==void 0&&p===void 0?(f=f+" - 1",p="0",y="backwards"):p!==void 0&&f===void 0&&(f="0",y="forward"),y===void 0&&(Number(f)>Number(p)?y="backwards":y="forward"));const b={start:f,end:p,direction:y},x=b.start,v=b.end;let w="",S="",C="";w+=e.getVar("int",d)+" = "+x,b.direction==="backwards"?(S+=d+" >= "+v,C+=d+" --"):(S+=d+" < "+v,C+=d+" ++");const _=`for ( ${w}; ${S}; ${C} )`;e.addFlowCode((l===0?`
`:"")+e.tab+_+` {

`).addFlowTab()}const a=as(o,r).build(e,"void"),s=n.returnsNode?n.returnsNode.build(e):"";e.removeFlowTab().addFlowCode(`
`+e.tab+a);for(let l=0,c=this.params.length-1;l<c;l++)e.addFlowCode((l===0?"":e.tab)+`}

`).removeFlowTab();return e.addFlowTab(),s}}const uG=(...t)=>sn(new cG(Lm(t,"int")));tt("loop",(t,...e)=>UE(t,uG(...e)));Nt("LoopNode",cG);class dG extends Rn{constructor(e=null){super(),this.nodes=[],this.outputNode=null,this.parent=e,this._currentCond=null,this.isStackNode=!0}getNodeType(e){return this.outputNode?this.outputNode.getNodeType(e):"void"}add(e){return this.nodes.push(UE(dx(),e)),this}if(e,n){const r=new Om(n);return this._currentCond=x9(e,r),this.add(this._currentCond)}elseif(e,n){const r=new Om(n),i=x9(e,r);return this._currentCond.elseNode=i,this._currentCond=i,this}else(e){return this._currentCond.elseNode=new Om(e),this}assign(e,n){return this.add(SH(e,n))}loop(...e){return this.add(uG(...e))}build(e,...n){for(const r of this.nodes)r.build(e,"void");return this.outputNode?this.outputNode.build(e,...n):super.build(e,...n)}}const HN=st(dG);Nt("StackNode",dG);class g4e extends iE{constructor(e=1,n={}){super(e,n),this.isCubeRenderTarget=!0}fromEquirectangularTexture(e,n){const r=n.minFilter,i=n.generateMipmaps;n.generateMipmaps=!0,this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const o=new cu(5,5,5),a=mx(DH),s=YE("MeshBasicNodeMaterial");s.colorNode=ss(n,a,0),s.side=Kr,s.blending=Yo;const l=new fi(o,s),c=new Mp;return c.add(l),n.minFilter===hs&&(n.minFilter=Er),new rE(1,10,this).update(e,c),n.minFilter=r,n.currentGenerateMipmaps=i,l.geometry.dispose(),l.material.dispose(),this}}const v4e=g4e,y4e=new Map([[2,"vec2"],[3,"vec3"],[4,"vec4"],[9,"mat3"],[16,"mat4"]]),x4e=new Map([[Int8Array,"int"],[Int16Array,"int"],[Int32Array,"int"],[Uint8Array,"uint"],[Uint16Array,"uint"],[Uint32Array,"uint"],[Float32Array,"float"]]),S4e=new Set([Int32Array,Uint32Array,Float32Array]),G1=t=>(t=Number(t),t+(t%1?"":".0"));class b4e{constructor(e,n,r,i=null,o=null){this.object=e,this.material=o||e&&e.material||null,this.geometry=e&&e.geometry||null,this.renderer=n,this.parser=r,this.scene=i,this.nodes=[],this.updateNodes=[],this.updateBeforeNodes=[],this.hashNodes={},this.lightsNode=null,this.environmentNode=null,this.fogNode=null,this.toneMappingNode=null,this.vertexShader=null,this.fragmentShader=null,this.computeShader=null,this.flowNodes={vertex:[],fragment:[],compute:[]},this.flowCode={vertex:"",fragment:"",compute:[]},this.uniforms={vertex:[],fragment:[],compute:[],index:0},this.structs={vertex:[],fragment:[],compute:[],index:0},this.codes={vertex:[],fragment:[],compute:[]},this.bindings={vertex:[],fragment:[],compute:[]},this.bindingsOffset={vertex:0,fragment:0,compute:0},this.bindingsArray=null,this.attributes=[],this.bufferAttributes=[],this.varyings=[],this.vars={vertex:[],fragment:[],compute:[]},this.flow={code:""},this.chaining=[],this.stack=HN(),this.tab="	",this.context={keywords:new o6e,material:this.material,getMIPLevelAlgorithmNode:(a,s)=>s.mul(iG(a))},this.cache=new fH,this.globalCache=this.cache,this.flowsData=new WeakMap,this.shaderStage=null,this.buildStage=null}getRenderTarget(e,n,r){return new JC(e,n,r)}getCubeRenderTarget(e,n){return new v4e(e,n)}includes(e){return this.nodes.includes(e)}getBindings(){let e=this.bindingsArray;if(e===null){const n=this.bindings;this.bindingsArray=e=this.material!==null?[...n.vertex,...n.fragment]:n.compute}return e}setHashNode(e,n){this.hashNodes[n]=e}addNode(e){this.nodes.includes(e)===!1&&(this.nodes.push(e),this.setHashNode(e,e.getHash(this)))}buildUpdateNodes(){for(const e of this.nodes){const n=e.getUpdateType(),r=e.getUpdateBeforeType();n!==Rr.NONE&&this.updateNodes.push(e.getSelf()),r!==Rr.NONE&&this.updateBeforeNodes.push(e)}}get currentNode(){return this.chaining[this.chaining.length-1]}addChain(e){this.chaining.push(e)}removeChain(e){if(this.chaining.pop()!==e)throw new Error("NodeBuilder: Invalid node chaining!")}getMethod(e){return e}getNodeFromHash(e){return this.hashNodes[e]}addFlow(e,n){return this.flowNodes[e].push(n),n}setContext(e){this.context=e}getContext(){return this.context}setCache(e){this.cache=e}getCache(){return this.cache}isAvailable(){return!1}getVertexIndex(){console.warn("Abstract function.")}getInstanceIndex(){console.warn("Abstract function.")}getFrontFacing(){console.warn("Abstract function.")}getFragCoord(){console.warn("Abstract function.")}isFlipY(){return!1}getTexture(){console.warn("Abstract function.")}getTextureLevel(){console.warn("Abstract function.")}getConst(e,n=null){if(n===null&&(e==="float"||e==="int"||e==="uint"?n=0:e==="bool"?n=!1:e==="color"?n=new St:e==="vec2"?n=new Qe:e==="vec3"?n=new Q:e==="vec4"&&(n=new Tn)),e==="float")return G1(n);if(e==="int")return`${Math.round(n)}`;if(e==="uint")return n>=0?`${Math.round(n)}u`:"0u";if(e==="bool")return n?"true":"false";if(e==="color")return`${this.getType("vec3")}( ${G1(n.r)}, ${G1(n.g)}, ${G1(n.b)} )`;const r=this.getTypeLength(e),i=this.getComponentType(e),o=a=>this.getConst(i,a);if(r===2)return`${this.getType(e)}( ${o(n.x)}, ${o(n.y)} )`;if(r===3)return`${this.getType(e)}( ${o(n.x)}, ${o(n.y)}, ${o(n.z)} )`;if(r===4)return`${this.getType(e)}( ${o(n.x)}, ${o(n.y)}, ${o(n.z)}, ${o(n.w)} )`;if(r>4&&n&&(n.isMatrix3||n.isMatrix4))return`${this.getType(e)}( ${n.elements.map(o).join(", ")} )`;if(r>4)return`${this.getType(e)}()`;throw new Error(`NodeBuilder: Type '${e}' not found in generate constant attempt.`)}getType(e){return e==="color"?"vec3":e}generateMethod(e){return e}hasGeometryAttribute(e){return this.geometry&&this.geometry.getAttribute(e)!==void 0}getAttribute(e,n){const r=this.attributes;for(const o of r)if(o.name===e)return o;const i=new LN(e,n);return r.push(i),i}getPropertyName(e){return e.name}isVector(e){return/vec\d/.test(e)}isMatrix(e){return/mat\d/.test(e)}isReference(e){return e==="void"||e==="property"||e==="sampler"||e==="texture"||e==="cubeTexture"}needsColorSpaceToLinear(){return!1}getTextureEncodingFromMap(e){return console.warn("THREE.NodeBuilder: Method .getTextureEncodingFromMap replaced by .getTextureColorSpaceFromMap in r152+."),this.getTextureColorSpaceFromMap(e)===$t?Fl:P6}getTextureColorSpaceFromMap(e){let n;return e&&e.isTexture?n=e.colorSpace:e&&e.isWebGLRenderTarget?n=e.texture.colorSpace:n=Oi,n}getComponentType(e){if(e=this.getVectorType(e),e==="float"||e==="bool"||e==="int"||e==="uint")return e;const n=/(b|i|u|)(vec|mat)([2-4])/.exec(e);return n===null?null:n[1]==="b"?"bool":n[1]==="i"?"int":n[1]==="u"?"uint":"float"}getVectorType(e){return e==="color"?"vec3":e==="texture"?"vec4":e}getTypeFromLength(e,n="float"){if(e===1)return n;const r=y4e.get(e);return(n==="float"?"":n[0])+r}getTypeFromArray(e){return x4e.get(e.constructor)}getTypeFromAttribute(e){let n=e;e.isInterleavedBufferAttribute&&(n=e.data);const r=n.array,i=S4e.has(r.constructor)?e.itemSize:n.stride||e.itemSize,o=e.normalized;let a;return!(e instanceof tE)&&o!==!0&&(a=this.getTypeFromArray(r)),this.getTypeFromLength(i,a)}getTypeLength(e){const n=this.getVectorType(e),r=/vec([2-4])/.exec(n);return r!==null?Number(r[1]):n==="float"||n==="bool"||n==="int"||n==="uint"?1:/mat3/.test(e)===!0?9:/mat4/.test(e)===!0?16:0}getVectorFromMatrix(e){return e.replace("mat","vec")}changeComponentType(e,n){return this.getTypeFromLength(this.getTypeLength(e),n)}getIntegerType(e){const n=this.getComponentType(e);return n==="int"||n==="uint"?e:this.changeComponentType(e,"int")}addStack(){return this.stack=HN(this.stack),this.stack}removeStack(){const e=this.stack;return this.stack=e.parent,e}getDataFromNode(e,n=this.shaderStage){const r=e.isGlobal(this)?this.globalCache:this.cache;let i=r.getNodeData(e);return i===void 0&&(i={},r.setNodeData(e,i)),i[n]===void 0&&(i[n]={}),i[n]}getNodeProperties(e,n="any"){const r=this.getDataFromNode(e,n);return r.properties||(r.properties={outputNode:null})}getBufferAttributeFromNode(e,n){const r=this.getDataFromNode(e);let i=r.bufferAttribute;if(i===void 0){const o=this.uniforms.index++;i=new LN("nodeAttribute"+o,n,e),this.bufferAttributes.push(i),r.bufferAttribute=i}return i}getStructTypeFromNode(e,n=this.shaderStage,r=null){const i=this.getDataFromNode(e,n);if(i.structType===void 0){const a=this.structs.index++;e.name=`StructType${a}`,this.structs[n].push(e),i.structType=e}return e}getUniformFromNode(e,n,r=this.shaderStage,i=null){const o=this.getDataFromNode(e,r);let a=o.uniform;if(a===void 0){const s=this.uniforms.index++;a=new Q5e(i||"nodeUniform"+s,n,e),this.uniforms[r].push(a),o.uniform=a}return a}getVarFromNode(e,n,r=this.shaderStage){const i=this.getDataFromNode(e,r);let o=i.variable;if(o===void 0){const a=this.vars[r],s=a.length;o=new pH("nodeVar"+s,n),a.push(o),i.variable=o}return o}getVaryingFromNode(e,n){const r=this.getDataFromNode(e,"any");let i=r.varying;if(i===void 0){const o=this.varyings,a=o.length;i=new t6e("nodeVarying"+a,n),o.push(i),r.varying=i}return i}getCodeFromNode(e,n,r=this.shaderStage){const i=this.getDataFromNode(e);let o=i.code;if(o===void 0){const a=this.codes[r],s=a.length;o=new r6e("nodeCode"+s,n),a.push(o),i.code=o}return o}addLineFlowCode(e){return e===""?this:(e=this.tab+e,/;\s*$/.test(e)||(e=e+`;
`),this.flow.code+=e,this)}addFlowCode(e){return this.flow.code+=e,this}addFlowTab(){return this.tab+="	",this}removeFlowTab(){return this.tab=this.tab.slice(0,-1),this}getFlowData(e){return this.flowsData.get(e)}flowNode(e){const n=e.getNodeType(this),r=this.flowChildNode(e,n);return this.flowsData.set(e,r),r}flowChildNode(e,n=null){const r=this.flow,i={code:""};return this.flow=i,i.result=e.build(this,n),this.flow=r,i}flowNodeFromShaderStage(e,n,r=null,i=null){const o=this.shaderStage;this.setShaderStage(e);const a=this.flowChildNode(n,r);return i!==null&&(a.code+=`${this.tab+i} = ${a.result};
`),this.flowCode[e]=this.flowCode[e]+a.code,this.setShaderStage(o),a}getAttributesArray(){return this.attributes.concat(this.bufferAttributes)}getAttributes(){console.warn("Abstract function.")}getVaryings(){console.warn("Abstract function.")}getVar(e,n){return`${this.getType(e)} ${n}`}getVars(e){let n="";const r=this.vars[e];for(const i of r)n+=`${this.getVar(i.type,i.name)}; `;return n}getUniforms(){console.warn("Abstract function.")}getCodes(e){const n=this.codes[e];let r="";for(const i of n)r+=i.code+`
`;return r}getHash(){return this.vertexShader+this.fragmentShader+this.computeShader}setShaderStage(e){this.shaderStage=e}getShaderStage(){return this.shaderStage}setBuildStage(e){this.buildStage=e}getBuildStage(){return this.buildStage}buildCode(){console.warn("Abstract function.")}build(){for(const e of i5e){this.setBuildStage(e),this.context.vertex&&this.context.vertex.isNode&&this.flowNodeFromShaderStage("vertex",this.context.vertex);for(const n of o5e){this.setShaderStage(n);const r=this.flowNodes[n];for(const i of r)e==="generate"?this.flowNode(i):i.build(this)}}return this.setBuildStage(null),this.setShaderStage(null),this.buildCode(),this.buildUpdateNodes(),this}getNodeUniform(e,n){if(n==="float")return new c4e(e);if(n==="vec2")return new u4e(e);if(n==="vec3")return new d4e(e);if(n==="vec4")return new f4e(e);if(n==="color")return new h4e(e);if(n==="mat3")return new p4e(e);if(n==="mat4")return new m4e(e);throw new Error(`Uniform "${n}" not declared.`)}createNodeMaterial(e){return YE(e)}format(e,n,r){if(n=this.getVectorType(n),r=this.getVectorType(r),n===r||r===null||this.isReference(r))return e;const i=this.getTypeLength(n),o=this.getTypeLength(r);return i>4||o>4||o===0?e:i===o?`${this.getType(r)}( ${e} )`:i>o?this.format(`${e}.${"xyz".slice(0,o)}`,this.getTypeFromLength(o,this.getComponentType(n)),r):o===4?`${this.getType(r)}( ${this.format(e,n,"vec3")}, 1.0 )`:i===2?`${this.getType(r)}( ${this.format(e,n,"vec2")}, 0.0 )`:`${this.getType(r)}( ${e} )`}getSignature(){return`// Three.js r${Gd} - NodeMaterial System
`}}const fG=b4e;class w4e{constructor(){this.time=0,this.deltaTime=0,this.frameId=0,this.renderId=0,this.startTime=null,this.updateMap=new WeakMap,this.updateBeforeMap=new WeakMap,this.renderer=null,this.material=null,this.camera=null,this.object=null,this.scene=null}_getMaps(e,n){let r=e.get(n);return r===void 0&&(r={renderMap:new WeakMap,frameMap:new WeakMap},e.set(n,r)),r}updateBeforeNode(e){const n=e.getUpdateBeforeType(),r=e.updateReference(this),{frameMap:i,renderMap:o}=this._getMaps(this.updateBeforeMap,r);n===Rr.FRAME?i.get(e)!==this.frameId&&(i.set(e,this.frameId),e.updateBefore(this)):n===Rr.RENDER?(o.get(e)!==this.renderId||i.get(e)!==this.frameId)&&(o.set(e,this.renderId),i.set(e,this.frameId),e.updateBefore(this)):n===Rr.OBJECT&&e.updateBefore(this)}updateNode(e){const n=e.getUpdateType(),r=e.updateReference(this),{frameMap:i,renderMap:o}=this._getMaps(this.updateMap,r);n===Rr.FRAME?i.get(e)!==this.frameId&&(i.set(e,this.frameId),e.update(this)):n===Rr.RENDER?(o.get(e)!==this.renderId||i.get(e)!==this.frameId)&&(o.set(e,this.renderId),i.set(e,this.frameId),e.update(this)):n===Rr.OBJECT&&e.update(this)}update(){this.frameId++,this.lastTime===void 0&&(this.lastTime=performance.now()),this.deltaTime=(performance.now()-this.lastTime)/1e3,this.lastTime=performance.now(),this.time+=this.deltaTime}}const GN=w4e;class hG{constructor(e,n,r=null,i="",o=!1){this.type=e,this.name=n,this.count=r,this.qualifier=i,this.isConst=o}}hG.isNodeFunctionInput=!0;const pG=hG;class ls extends Rn{constructor(e=ls.BACKGROUND_BLURRINESS,n=null){super(),this.scope=e,this.scene=n}setup(e){const n=this.scope,r=this.scene!==null?this.scene:e.scene;let i;return n===ls.BACKGROUND_BLURRINESS?i=Eo("backgroundBlurriness","float",r):n===ls.BACKGROUND_INTENSITY?i=Eo("backgroundIntensity","float",r):console.error("THREE.SceneNode: Unknown scope:",n),i}}ls.BACKGROUND_BLURRINESS="backgroundBlurriness";ls.BACKGROUND_INTENSITY="backgroundIntensity";const C4e=yt(ls,ls.BACKGROUND_BLURRINESS),E4e=yt(ls,ls.BACKGROUND_INTENSITY);Nt("SceneNode",ls);const _4e=Cs(({color:t,exposure:e})=>t.mul(e).clamp()),T4e=Cs(({color:t,exposure:e})=>(t=t.mul(e),t.div(t.add(1)).clamp())),M4e=Cs(({color:t,exposure:e})=>{t=t.mul(e),t=t.sub(.004).max(0);const n=t.mul(t.mul(6.2).add(.5)),r=t.mul(t.mul(6.2).add(1.7)).add(.06);return n.div(r).pow(2.2)}),R4e=Cs(({color:t})=>{const e=t.mul(t.add(.0245786)).sub(90537e-9),n=t.mul(t.add(.432951).mul(.983729)).add(.238081);return e.div(n)}),A4e=Cs(({color:t,exposure:e})=>{const n=Lg(.59719,.35458,.04823,.076,.90834,.01566,.0284,.13383,.83777),r=Lg(1.60475,-.53108,-.07367,-.10208,1.10813,-.00605,-.00327,-.07276,1.07602);return t=t.mul(e).div(.6),t=n.mul(t),t=R4e({color:t}),t=r.mul(t),t.clamp()}),P4e={[$C]:_4e,[UC]:T4e,[kC]:M4e,[x6]:A4e};class mG extends rl{constructor(e=Po,n=Zs(1),r=null){super("vec3"),this.toneMapping=e,this.exposureNode=n,this.colorNode=r}getCacheKey(){let e=super.getCacheKey();return e="{toneMapping:"+this.toneMapping+",nodes:"+e+"}",e}setup(e){const n=this.colorNode||e.context.color,r=this.toneMapping;if(r===Po)return n;const i={exposure:this.exposureNode,color:n},o=P4e[r];let a=null;return o?a=o(i):(console.error("ToneMappingNode: Unsupported Tone Mapping configuration.",r),a=n),a}}const I4e=(t,e,n)=>sn(new mG(t,sn(e),sn(n)));Nt("ToneMappingNode",mG);let RS,AS;class Nn extends Rn{constructor(e){super(),this.scope=e,this.isViewportNode=!0}getNodeType(){return this.scope===Nn.COORDINATE||this.scope===Nn.VIEWPORT?"vec4":"vec2"}getUpdateType(){let e=Rr.NONE;return(this.scope===Nn.RESOLUTION||this.scope===Nn.VIEWPORT)&&(e=Rr.FRAME),this.updateType=e,e}update({renderer:e}){this.scope===Nn.VIEWPORT?e.getViewport(AS):e.getDrawingBufferSize(RS)}setup(e){const n=this.scope;if(n===Nn.COORDINATE)return;let r=null;if(n===Nn.RESOLUTION)r=ql(RS||(RS=new Qe));else if(n===Nn.VIEWPORT)r=ql(AS||(AS=new Tn));else{const i=Pp(new Nn(Nn.COORDINATE)),o=new Nn(Nn.RESOLUTION);r=i.div(o);let a=r.x,s=r.y;(/top/i.test(n)&&e.isFlipY()||/bottom/i.test(n)&&e.isFlipY()===!1)&&(s=s.oneMinus()),/right/i.test(n)&&(a=a.oneMinus()),r=Pp(a,s)}return r}generate(e){return this.scope===Nn.COORDINATE?e.getFragCoord():super.generate(e)}}Nn.COORDINATE="coordinate";Nn.RESOLUTION="resolution";Nn.VIEWPORT="viewport";Nn.TOP_LEFT="topLeft";Nn.BOTTOM_LEFT="bottomLeft";Nn.TOP_RIGHT="topRight";Nn.BOTTOM_RIGHT="bottomRight";yt(Nn,Nn.COORDINATE);yt(Nn,Nn.RESOLUTION);yt(Nn,Nn.VIEWPORT);yt(Nn,Nn.TOP_LEFT);const N4e=yt(Nn,Nn.BOTTOM_LEFT);yt(Nn,Nn.TOP_RIGHT);yt(Nn,Nn.BOTTOM_RIGHT);Nt("ViewportNode",Nn);class ZE extends Rn{constructor(e="",n=[],r=""){super("code"),this.isCodeNode=!0,this.code=e,this.language=r,this._includes=n}setIncludes(e){return this._includes=e,this}getIncludes(){return this._includes}generate(e){const n=this.getIncludes(e);for(const i of n)i.build(e);const r=e.getCodeFromNode(this,this.getNodeType(e));return r.code=this.code,r.code}serialize(e){super.serialize(e),e.code=this.code,e.language=this.language}deserialize(e){super.deserialize(e),this.code=e.code,this.language=e.language}}const PS=ZE;st(ZE);Nt("CodeNode",ZE);class QE extends Rn{constructor(e,n){super("float"),this.isFogNode=!0,this.colorNode=e,this.factorNode=n}mixAssign(e){return this.mix(e,this.colorNode)}setup(){return this.factorNode}}const gG=QE,O4e=st(QE);tt("fog",O4e);Nt("FogNode",QE);class vG extends gG{constructor(e,n,r){super(e),this.isFogRangeNode=!0,this.nearNode=n,this.farNode=r}setup(){return _H(this.nearNode,this.farNode,Ud.z.negate())}}const yG=st(vG);tt("rangeFog",yG);Nt("FogRangeNode",vG);class xG extends gG{constructor(e,n){super(e),this.isFogExp2Node=!0,this.densityNode=n}setup(){const e=Ud.z.negate(),n=this.densityNode;return n.mul(n,e,e).negate().exp().oneMinus()}}const SG=st(xG);tt("densityFog",SG);Nt("FogExp2Node",xG);class L4e{parseFunction(){console.warn("Abstract function.")}}const bG=L4e;class wG{constructor(e,n,r="",i=""){this.type=e,this.inputs=n,this.name=r,this.presicion=i}getCode(){console.warn("Abstract function.")}}wG.isNodeFunction=!0;const CG=wG,D4e=/^\s*(highp|mediump|lowp)?\s*([a-z_0-9]+)\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)/i,F4e=/[a-z_0-9]+/ig,VN="#pragma main",$4e=t=>{t=t.trim();const e=t.indexOf(VN),n=e!==-1?t.slice(e+VN.length):t,r=n.match(D4e);if(r!==null&&r.length===5){const i=r[4],o=[];let a=null;for(;(a=F4e.exec(i))!==null;)o.push(a);const s=[];let l=0;for(;l<o.length;){const y=o[l][0]==="const";y===!0&&l++;let b=o[l][0];b==="in"||b==="out"||b==="inout"?l++:b="";const x=o[l++][0];let v=Number.parseInt(o[l][0]);Number.isNaN(v)===!1?l++:v=null;const w=o[l++][0];s.push(new pG(x,w,v,b,y))}const c=n.substring(r[0].length),u=r[3]!==void 0?r[3]:"",d=r[2],f=r[1]!==void 0?r[1]:"",p=e!==-1?t.slice(0,e):"";return{type:d,inputs:s,name:u,presicion:f,inputsCode:i,blockCode:c,headerCode:p}}else throw new Error("FunctionNode: Function is not a GLSL code.")};class U4e extends CG{constructor(e){const{type:n,inputs:r,name:i,presicion:o,inputsCode:a,blockCode:s,headerCode:l}=$4e(e);super(n,r,i,o),this.inputsCode=a,this.blockCode=s,this.headerCode=l}getCode(e=this.name){let n;const r=this.blockCode;if(r!==""){const{type:i,inputsCode:o,headerCode:a,presicion:s}=this;let l=`${i} ${e} ( ${o.trim()} )`;s!==""&&(l=`${s} ${l}`),n=a+l+r}else n="";return n}}const k4e=U4e;class B4e extends bG{parseFunction(e){return new k4e(e)}}const z4e=B4e;function H4e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function G4e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}class V4e{constructor(){this.renderItems=[],this.renderItemsIndex=0,this.opaque=[],this.transparent=[],this.lightsNode=new Yxe([]),this.lightsArray=[],this.occlusionQueryCount=0}begin(){return this.renderItemsIndex=0,this.opaque.length=0,this.transparent.length=0,this.lightsArray.length=0,this.occlusionQueryCount=0,this}getNextRenderItem(e,n,r,i,o,a){let s=this.renderItems[this.renderItemsIndex];return s===void 0?(s={id:e.id,object:e,geometry:n,material:r,groupOrder:i,renderOrder:e.renderOrder,z:o,group:a},this.renderItems[this.renderItemsIndex]=s):(s.id=e.id,s.object=e,s.geometry=n,s.material=r,s.groupOrder=i,s.renderOrder=e.renderOrder,s.z=o,s.group=a),this.renderItemsIndex++,s}push(e,n,r,i,o,a){const s=this.getNextRenderItem(e,n,r,i,o,a);e.occlusionTest===!0&&this.occlusionQueryCount++,(r.transparent===!0?this.transparent:this.opaque).push(s)}unshift(e,n,r,i,o,a){const s=this.getNextRenderItem(e,n,r,i,o,a);(r.transparent===!0?this.transparent:this.opaque).unshift(s)}pushLight(e){this.lightsArray.push(e)}getLightsNode(){return this.lightsNode.fromLights(this.lightsArray)}sort(e,n){this.opaque.length>1&&this.opaque.sort(e||H4e),this.transparent.length>1&&this.transparent.sort(n||G4e)}finish(){this.lightsNode.fromLights(this.lightsArray);for(let e=this.renderItemsIndex,n=this.renderItems.length;e<n;e++){const r=this.renderItems[e];if(r.id===null)break;r.id=null,r.object=null,r.geometry=null,r.material=null,r.groupOrder=null,r.renderOrder=null,r.z=null,r.group=null}}}const W4e=V4e;class j4e{constructor(){this.lists=new $y}get(e,n){const r=this.lists,i=[e,n];let o=r.get(i);return o===void 0&&(o=new W4e,r.set(i,o)),o}dispose(){this.lists=new $y}}const X4e=j4e;let q4e=0;class K4e{constructor(){this.id=q4e++,this.color=!0,this.clearColor=!0,this.clearColorValue={r:0,g:0,b:0,a:1},this.depth=!0,this.clearDepth=!0,this.clearDepthValue=1,this.stencil=!0,this.clearStencil=!0,this.clearStencilValue=1,this.viewport=!1,this.viewportValue=new Tn,this.scissor=!1,this.scissorValue=new Tn,this.texture=null,this.depthTexture=null,this.activeCubeFace=0,this.sampleCount=1,this.width=0,this.height=0}}const Y4e=K4e;class Z4e{constructor(){this.chainMaps={}}get(e,n,r=null){const i=[e,n];let o;if(r===null)o="default";else{let l,c;r.isWebGLMultipleRenderTargets?(l=r.texture[0].format,c=r.texture.length):(l=r.texture.format,c=1),o=`${c}:${l}:${r.samples}:${r.depthBuffer}:${r.stencilBuffer}`}const a=this.getChainMap(o);let s=a.get(i);return s===void 0&&(s=new Y4e,a.set(i,s)),r!==null&&(s.sampleCount=r.samples===0?1:r.samples),s}getChainMap(e){return this.chainMaps[e]||(this.chainMaps[e]=new $y)}dispose(){this.chainMaps={}}}const Q4e=Z4e,J4e=new Q;class e8e extends qd{constructor(e,n){super(),this.backend=e,this.info=n}updateRenderTarget(e,n=0){const r=this.get(e),i=e.samples===0?1:e.samples,o=r.depthTextureMips||(r.depthTextureMips={});let a,s;e.isWebGLMultipleRenderTargets?(s=e.texture,a=e.texture[0]):(s=[e.texture],a=e.texture);const l=this.getSize(a),c=l.width>>n,u=l.height>>n;let d=e.depthTexture||o[n],f=!1;d===void 0&&(d=new m3,d.format=ps,d.type=Ra,d.image.width=c,d.image.height=u,o[n]=d),(r.width!==l.width||l.height!==r.height)&&(f=!0,d.needsUpdate=!0,d.image.width=c,d.image.height=u),r.width=l.width,r.height=l.height,r.textures=s,r.depthTexture=d,r.sampleCount!==i&&(f=!0,d.needsUpdate=!0,r.sampleCount=i);const p={sampleCount:i};for(let y=0;y<s.length;y++){const b=s[y];f&&(b.needsUpdate=!0),this.updateTexture(b,p)}if(this.updateTexture(d,p),r.initialized!==!0){r.initialized=!0;const y=()=>{if(e.removeEventListener("dispose",y),s!==void 0)for(let b=0;b<s.length;b++)this._destroyTexture(s[b]);else this._destroyTexture(a);this._destroyTexture(d)};e.addEventListener("dispose",y)}}updateTexture(e,n={}){const r=this.get(e);if(r.initialized===!0&&r.version===e.version)return;const i=e.isRenderTargetTexture||e.isDepthTexture||e.isFramebufferTexture,o=this.backend;i&&r.initialized===!0&&(o.destroySampler(e),o.destroyTexture(e));const{width:a,height:s,depth:l}=this.getSize(e);if(n.width=a,n.height=s,n.depth=l,n.needsMipmaps=this.needsMipmaps(e),n.levels=n.needsMipmaps?this.getMipLevels(e,a,s):1,i||e.isStorageTexture===!0)o.createSampler(e),o.createTexture(e,n);else if(r.initialized!==!0&&o.createSampler(e),e.version>0){const u=e.image;if(u===void 0)console.warn("THREE.Renderer: Texture marked for update but image is undefined.");else if(u.complete===!1)console.warn("THREE.Renderer: Texture marked for update but image is incomplete.");else{if(e.images){const d=[];for(const f of e.images)d.push(this._getUploadImage(f));n.images=d}else n.image=this._getUploadImage(u);(r.isDefaultTexture===void 0||r.isDefaultTexture===!0)&&(o.createTexture(e,n),r.isDefaultTexture=!1),o.updateTexture(e,n),n.needsMipmaps&&o.generateMipmaps(e)}}else o.createDefaultTexture(e),r.isDefaultTexture=!0;if(r.initialized!==!0){r.initialized=!0,this.info.memory.textures++;const c=()=>{e.removeEventListener("dispose",c),this._destroyTexture(e),this.info.memory.textures--};e.addEventListener("dispose",c)}r.version=e.version}getSize(e,n=J4e){let r=e.images?e.images[0]:e.image;return r?(r.image!==void 0&&(r=r.image),n.width=r.width,n.height=r.height,n.depth=e.isCubeTexture?6:r.depth||1):n.width=n.height=n.depth=1,n}getMipLevels(e,n,r){let i;return e.isCompressedTexture?i=e.mipmaps.length:i=Math.floor(Math.log2(Math.max(n,r)))+1,i}needsMipmaps(e){return this.isEnvironmentTexture(e)?!0:e.isCompressedTexture!==!0&&e.minFilter!==Wn&&e.minFilter!==Er}isEnvironmentTexture(e){const n=e.mapping;return n===Zc||n===Qc||n===fs||n===Ks}_getUploadImage(e){return this._isHTMLImage(e)?this._imageToCanvas(e):e}_imageToCanvas(e){const{width:n,height:r}=e,i=new OffscreenCanvas(n,r);return i.getContext("2d").drawImage(e,0,0,n,r),i}_isHTMLImage(e){return typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement}_destroyTexture(e){this.backend.destroySampler(e),this.backend.destroyTexture(e),this.delete(e)}}const t8e=e8e;let Y0;const Nu=new St;class n8e extends qd{constructor(e,n){super(),this.renderer=e,this.nodes=n,this.backgroundMesh=null,this.backgroundMeshNode=null}update(e,n,r){const i=this.renderer,o=this.nodes.getBackgroundNode(e)||e.background;let a=!1;if(o===null)Nu.copyLinearToSRGB(i._clearColor),Y0=i._clearAlpha;else if(o.isColor===!0)Nu.copyLinearToSRGB(o),Y0=1,a=!0;else if(o.isNode===!0){const s=this.get(e),l=o;Nu.copy(i._clearColor),Y0=i._clearAlpha;let c=this.backgroundMesh;if(c===null){this.backgroundMeshNode=as(l,{getUVNode:()=>fx,getSamplerLevelNode:()=>C4e}).mul(E4e);let d=HH();d=d.setZ(d.w);const f=new KE;f.outputNode=this.backgroundMeshNode,f.side=Kr,f.depthTest=!1,f.depthWrite=!1,f.fog=!1,f.vertexNode=d,this.backgroundMesh=c=new fi(new Jp(1,32,32),f),c.frustumCulled=!1,c.onBeforeRender=function(p,y,b){this.matrixWorld.copyPosition(b.matrixWorld)}}const u=l.getCacheKey();s.backgroundCacheKey!==u&&(this.backgroundMeshNode.node=l,c.material.needsUpdate=!0,s.backgroundCacheKey=u),n.unshift(c,c.geometry,c.material,0,0,null)}else console.error("THREE.Renderer: Unsupported background configuration.",o);if(i.autoClear===!0||a===!0){Nu.multiplyScalar(Y0);const s=r.clearColorValue;s.r=Nu.r,s.g=Nu.g,s.b=Nu.b,s.a=Y0,r.depthClearValue=i._clearDepth,r.stencilClearValue=i._clearStencil,r.clearColor=i.autoClearColor===!0,r.clearDepth=i.autoClearDepth===!0,r.clearStencil=i.autoClearStencil===!0}else r.clearColor=!1,r.clearDepth=!1,r.clearStencil=!1}}const r8e=n8e;class i8e{constructor(e,n,r,i,o,a,s){this.vertexShader=e,this.fragmentShader=n,this.computeShader=r,this.nodeAttributes=i,this.bindings=o,this.updateNodes=a,this.updateBeforeNodes=s,this.usedTimes=0}createBindings(){const e=[];for(const n of this.bindings)e.push(n.clone());return e}}const o8e=i8e;class a8e extends qd{constructor(e,n){super(),this.renderer=e,this.backend=n,this.nodeFrame=new GN,this.nodeBuilderCache=new Map}getForRenderCacheKey(e){return e.initialCacheKey}getForRender(e){const n=this.get(e);let r=n.nodeBuilderState;if(r===void 0){const{nodeBuilderCache:i}=this,o=this.getForRenderCacheKey(e);if(r=i.get(o),r===void 0){const a=this.backend.createNodeBuilder(e.object,this.renderer,e.scene);a.material=e.material,a.context.material=e.material,a.lightsNode=e.lightsNode,a.environmentNode=this.getEnvironmentNode(e.scene),a.fogNode=this.getFogNode(e.scene),a.toneMappingNode=this.getToneMappingNode(),a.build(),r=this._createNodeBuilderState(a),i.set(o,r)}r.usedTimes++,n.nodeBuilderState=r}return r}delete(e){if(e.isRenderObject){const n=this.get(e).nodeBuilderState;n.usedTimes--,n.usedTimes===0&&this.nodeBuilderCache.delete(this.getForRenderCacheKey(e))}return super.delete(e)}getForCompute(e){const n=this.get(e);let r=n.nodeBuilderState;if(r===void 0){const i=this.backend.createNodeBuilder(e,this.renderer);i.build(),r=this._createNodeBuilderState(i),n.nodeBuilderState=i}return r}_createNodeBuilderState(e){return new o8e(e.vertexShader,e.fragmentShader,e.computeShader,e.getAttributesArray(),e.getBindings(),e.updateNodes,e.updateBeforeNodes)}getEnvironmentNode(e){return e.environmentNode||this.get(e).environmentNode||null}getBackgroundNode(e){return e.backgroundNode||this.get(e).backgroundNode||null}getFogNode(e){return e.fogNode||this.get(e).fogNode||null}getToneMappingNode(){return this.isToneMappingState===!1?null:this.renderer.toneMappingNode||this.get(this.renderer).toneMappingNode||null}getCacheKey(e,n){const r=this.getEnvironmentNode(e),i=this.getFogNode(e),o=this.getToneMappingNode(),a=[];return n&&a.push("lightsNode:"+n.getCacheKey()),r&&a.push("environmentNode:"+r.getCacheKey()),i&&a.push("fogNode:"+i.getCacheKey()),o&&a.push("toneMappingNode:"+o.getCacheKey()),"{"+a.join(",")+"}"}updateScene(e){this.updateEnvironment(e),this.updateFog(e),this.updateBackground(e),this.updateToneMapping()}get isToneMappingState(){const n=this.renderer.getRenderTarget();return!(n&&n.isCubeRenderTarget)}updateToneMapping(){const e=this.renderer,n=this.get(e),r=e.toneMapping;if(this.isToneMappingState&&r!==Po){if(n.toneMapping!==r){const i=n.rendererToneMappingNode||I4e(r,Eo("toneMappingExposure","float",e));i.toneMapping=r,n.rendererToneMappingNode=i,n.toneMappingNode=i,n.toneMapping=r}}else delete n.toneMappingNode,delete n.toneMapping}updateBackground(e){const n=this.get(e),r=e.background;if(r){if(n.background!==r){let i=null;if(r.isCubeTexture===!0)i=Dg(r,fx);else if(r.isTexture===!0){let o=null;r.mapping===Zc||r.mapping===Qc?o=mx():o=N4e,i=ss(r,o).setUpdateMatrix(!0)}else r.isColor!==!0&&console.error("WebGPUNodes: Unsupported background configuration.",r);n.backgroundNode=i,n.background=r}}else n.backgroundNode&&(delete n.backgroundNode,delete n.background)}updateFog(e){const n=this.get(e),r=e.fog;if(r){if(n.fog!==r){let i=null;r.isFogExp2?i=SG(Eo("color","color",r),Eo("density","float",r)):r.isFog?i=yG(Eo("color","color",r),Eo("near","float",r),Eo("far","float",r)):console.error("WebGPUNodes: Unsupported fog configuration.",r),n.fogNode=i,n.fog=r}}else delete n.fogNode,delete n.fog}updateEnvironment(e){const n=this.get(e),r=e.environment;if(r){if(n.environment!==r){let i=null;r.isCubeTexture===!0?i=Dg(r):r.isTexture===!0?i=ss(r):console.error("Nodes: Unsupported environment configuration.",r),n.environmentNode=i,n.environment=r}}else n.environmentNode&&(delete n.environmentNode,delete n.environment)}getNodeFrame(e){const n=this.nodeFrame;return n.scene=e.scene,n.object=e.object,n.camera=e.camera,n.renderer=e.renderer,n.material=e.material,n}updateBefore(e){const n=this.getNodeFrame(e),r=e.getNodeBuilderState();for(const i of r.updateBeforeNodes)n.updateBeforeNode(i)}updateForCompute(){}updateForRender(e){const n=this.getNodeFrame(e),r=e.getNodeBuilderState();for(const i of r.updateNodes)n.updateNode(i)}dispose(){super.dispose(),this.nodeFrame=new GN,this.nodeBuilderCache=new Map}}const s8e=a8e,l8e=new Mp,IS=new Qe,NS=new Tn,OS=new h3,V1=new on,Z0=new Q;class c8e{constructor(e){this.isRenderer=!0,this.domElement=e.getDomElement(),this.backend=e,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.outputColorSpace=$t,this.toneMapping=Po,this.toneMappingExposure=1,this.sortObjects=!0,this.depth=!0,this.stencil=!0,this.info=new Wye,this._pixelRatio=1,this._width=this.domElement.width,this._height=this.domElement.height,this._viewport=new Tn(0,0,this._width,this._height),this._scissor=new Tn(0,0,this._width,this._height),this._scissorTest=!1,this._properties=null,this._attributes=null,this._geometries=null,this._nodes=null,this._bindings=null,this._objects=null,this._pipelines=null,this._renderLists=null,this._renderContexts=null,this._textures=null,this._background=null,this._animation=new Iye,this._currentRenderContext=null,this._lastRenderContext=null,this._opaqueSort=null,this._transparentSort=null,this._clearAlpha=1,this._clearColor=new St(0),this._clearDepth=1,this._clearStencil=0,this._renderTarget=null,this._activeCubeFace=0,this._activeMipmapLevel=0,this._initialized=!1,this._initPromise=null,this.shadowMap={enabled:!1,type:null},this.xr={enabled:!1}}async init(){if(this._initialized)throw new Error("Renderer: Backend has already been initialized.");return this._initPromise!==null?this._initPromise:(this._initPromise=new Promise(async(e,n)=>{const r=this.backend;try{await r.init(this)}catch(i){n(i);return}this._nodes=new s8e(this,r),this._attributes=new Bye(r),this._background=new r8e(this,this._nodes),this._geometries=new Gye(this._attributes,this.info),this._textures=new t8e(r,this.info),this._pipelines=new e5e(r,this._nodes),this._bindings=new n5e(r,this._nodes,this._textures,this._attributes,this._pipelines,this.info),this._objects=new Dye(this,this._nodes,this._geometries,this._pipelines,this._bindings,this.info),this._renderLists=new X4e,this._renderContexts=new Q4e,this._animation.setNodes(this._nodes),this._animation.start(),this._initialized=!0,e()}),this._initPromise)}get coordinateSystem(){return this.backend.coordinateSystem}async compile(){console.warn("THREE.Renderer: .compile() is not implemented yet.")}async render(e,n){this._initialized===!1&&await this.init();const r=this._nodes.nodeFrame,i=r.renderId,o=this._currentRenderContext,a=e.isScene===!0?e:l8e,s=this._renderTarget,l=this._renderContexts.get(e,n,s),c=this._activeCubeFace,u=this._activeMipmapLevel;this._currentRenderContext=l,r.renderId++;const d=this.coordinateSystem;n.coordinateSystem!==d&&(n.coordinateSystem=d,n.updateProjectionMatrix()),this._animation.isAnimating===!1&&r.update(),e.matrixWorldAutoUpdate===!0&&e.updateMatrixWorld(),n.parent===null&&n.matrixWorldAutoUpdate===!0&&n.updateMatrixWorld(),this.info.autoReset===!0&&this.info.reset(),this.info.render.frame++;let f=this._viewport,p=this._scissor,y=this._pixelRatio;s!==null&&(f=s.viewport,p=s.scissor,y=1),this.getDrawingBufferSize(IS),NS.set(0,0,IS.width,IS.height);const b=f.minDepth===void 0?0:f.minDepth,x=f.maxDepth===void 0?1:f.maxDepth;l.viewportValue.copy(f).multiplyScalar(y).floor(),l.viewportValue.width>>=u,l.viewportValue.height>>=u,l.viewportValue.minDepth=b,l.viewportValue.maxDepth=x,l.viewport=l.viewportValue.equals(NS)===!1,l.scissorValue.copy(p).multiplyScalar(y).floor(),l.scissor=this._scissorTest&&l.scissorValue.equals(NS)===!1,l.scissorValue.width>>=u,l.scissorValue.height>>=u,l.depth=this.depth,l.stencil=this.stencil,a.onBeforeRender(this,e,n,s),V1.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),OS.setFromProjectionMatrix(V1,d);const v=this._renderLists.get(e,n);if(v.begin(),this._projectObject(e,n,0,v),v.finish(),this.sortObjects===!0&&v.sort(this._opaqueSort,this._transparentSort),s!==null){this._textures.updateRenderTarget(s,u);const _=this._textures.get(s);l.textures=_.textures,l.depthTexture=_.depthTexture,l.width=_.width,l.height=_.height}else l.textures=null,l.depthTexture=null,l.width=this.domElement.width,l.height=this.domElement.height;l.width>>=u,l.height>>=u,l.activeCubeFace=c,l.activeMipmapLevel=u,l.occlusionQueryCount=v.occlusionQueryCount,this._nodes.updateScene(a),this._background.update(a,v,l),this.backend.beginRender(l);const w=v.opaque,S=v.transparent,C=v.lightsNode;w.length>0&&this._renderObjects(w,n,a,C),S.length>0&&this._renderObjects(S,n,a,C),this.backend.finishRender(l),r.renderId=i,this._currentRenderContext=o,this._lastRenderContext=l,a.onAfterRender(this,e,n,s)}getActiveCubeFace(){return this._activeCubeFace}getActiveMipmapLevel(){return this._activeMipmapLevel}setAnimationLoop(e){this._initialized===!1&&this.init();const n=this._animation;n.setAnimationLoop(e),e===null?n.stop():n.start()}getArrayBuffer(e){return console.warn("THREE.Renderer: getArrayBuffer() is deprecated. Use getArrayBufferAsync() instead."),this.getArrayBufferAsync(e)}async getArrayBufferAsync(e){return await this.backend.getArrayBufferAsync(e)}getContext(){return this._context}getPixelRatio(){return this._pixelRatio}getDrawingBufferSize(e){return e.set(this._width*this._pixelRatio,this._height*this._pixelRatio).floor()}getSize(e){return e.set(this._width,this._height)}setPixelRatio(e=1){this._pixelRatio=e,this.setSize(this._width,this._height,!1)}setDrawingBufferSize(e,n,r){this._width=e,this._height=n,this._pixelRatio=r,this.domElement.width=Math.floor(e*r),this.domElement.height=Math.floor(n*r),this.setViewport(0,0,e,n),this._initialized&&this.backend.updateSize()}setSize(e,n,r=!0){this._width=e,this._height=n,this.domElement.width=Math.floor(e*this._pixelRatio),this.domElement.height=Math.floor(n*this._pixelRatio),r===!0&&(this.domElement.style.width=e+"px",this.domElement.style.height=n+"px"),this.setViewport(0,0,e,n),this._initialized&&this.backend.updateSize()}setOpaqueSort(e){this._opaqueSort=e}setTransparentSort(e){this._transparentSort=e}getScissor(e){const n=this._scissor;return e.x=n.x,e.y=n.y,e.width=n.width,e.height=n.height,e}setScissor(e,n,r,i){const o=this._scissor;e.isVector4?o.copy(e):o.set(e,n,r,i)}getScissorTest(){return this._scissorTest}setScissorTest(e){this._scissorTest=e}getViewport(e){return e.copy(this._viewport)}setViewport(e,n,r,i,o=0,a=1){const s=this._viewport;e.isVector4?s.copy(e):s.set(e,n,r,i),s.minDepth=o,s.maxDepth=a}getClearColor(e){return e.copy(this._clearColor)}setClearColor(e,n=1){this._clearColor.set(e),this._clearAlpha=n}getClearAlpha(){return this._clearAlpha}setClearAlpha(e){this._clearAlpha=e}getClearDepth(){return this._clearDepth}setClearDepth(e){this._clearDepth=e}getClearStencil(){return this._clearStencil}setClearStencil(e){this._clearStencil=e}isOccluded(e){const n=this._currentRenderContext||this._lastRenderContext;return n&&this.backend.isOccluded(n,e)}clear(e=!0,n=!0,r=!0){const i=this._currentRenderContext||this._lastRenderContext;i&&this.backend.clear(i,e,n,r)}clearColor(){this.clear(!0,!1,!1)}clearDepth(){this.clear(!1,!0,!1)}clearStencil(){this.clear(!1,!1,!0)}dispose(){this.info.dispose(),this._objects.dispose(),this._properties.dispose(),this._pipelines.dispose(),this._nodes.dispose(),this._bindings.dispose(),this._renderLists.dispose(),this._renderContexts.dispose(),this._textures.dispose(),this.setRenderTarget(null),this.setAnimationLoop(null)}setRenderTarget(e,n=0,r=0){this._renderTarget=e,this._activeCubeFace=n,this._activeMipmapLevel=r}getRenderTarget(){return this._renderTarget}async compute(e){this._initialized===!1&&await this.init();const n=this.backend,r=this._pipelines,i=this._bindings,o=this._nodes,a=Array.isArray(e)?e:[e];n.beginCompute(e);for(const s of a){if(r.has(s)===!1){const u=()=>{s.removeEventListener("dispose",u),r.delete(s),i.delete(s),o.delete(s)};s.addEventListener("dispose",u),s.onInit({renderer:this})}o.updateForCompute(s),i.updateForCompute(s);const l=i.getForCompute(s),c=r.getForCompute(s,l);n.compute(e,s,l,c)}n.finishCompute(e)}hasFeature(e){return this.backend.hasFeature(e)}copyFramebufferToTexture(e){const n=this._currentRenderContext||this._lastRenderContext;this._textures.updateTexture(e),this.backend.copyFramebufferToTexture(e,n)}readRenderTargetPixelsAsync(e,n,r,i,o){return this.backend.copyTextureToBuffer(e.texture,n,r,i,o)}_projectObject(e,n,r,i){if(e.visible===!1)return;if(e.layers.test(n.layers)){if(e.isGroup)r=e.renderOrder;else if(e.isLOD)e.autoUpdate===!0&&e.update(n);else if(e.isLight)i.pushLight(e);else if(e.isSprite){if(!e.frustumCulled||OS.intersectsSprite(e)){this.sortObjects===!0&&Z0.setFromMatrixPosition(e.matrixWorld).applyMatrix4(V1);const s=e.geometry,l=e.material;l.visible&&i.push(e,s,l,r,Z0.z,null)}}else if(e.isLineLoop)console.error("THREE.Renderer: Objects of type THREE.LineLoop are not supported. Please use THREE.Line or THREE.LineSegments.");else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||OS.intersectsObject(e))){const s=e.geometry,l=e.material;if(this.sortObjects===!0&&(s.boundingSphere===null&&s.computeBoundingSphere(),Z0.copy(s.boundingSphere.center).applyMatrix4(e.matrixWorld).applyMatrix4(V1)),Array.isArray(l)){const c=s.groups;for(let u=0,d=c.length;u<d;u++){const f=c[u],p=l[f.materialIndex];p&&p.visible&&i.push(e,s,p,r,Z0.z,f)}}else l.visible&&i.push(e,s,l,r,Z0.z,null)}}const a=e.children;for(let s=0,l=a.length;s<l;s++)this._projectObject(a[s],n,r,i)}_renderObjects(e,n,r,i){for(let o=0,a=e.length;o<a;o++){const s=e[o],{object:l,geometry:c,material:u,group:d}=s;if(n.isArrayCamera){const f=n.cameras;for(let p=0,y=f.length;p<y;p++){const b=f[p];if(l.layers.test(b.layers)){const x=b.viewport,v=x.minDepth===void 0?0:x.minDepth,w=x.maxDepth===void 0?1:x.maxDepth,S=this._currentRenderContext.viewportValue;S.copy(x).multiplyScalar(this._pixelRatio).floor(),S.minDepth=v,S.maxDepth=w,this.backend.updateViewport(this._currentRenderContext),this._renderObject(l,r,b,c,u,d,i)}}}else this._renderObject(l,r,n,c,u,d,i)}}_renderObject(e,n,r,i,o,a,s){o=n.overrideMaterial!==null?n.overrideMaterial:o,e.onBeforeRender(this,n,r,i,o,a),o.onBeforeRender(this,n,r,i,o,a),o.transparent===!0&&o.side===co&&o.forceSinglePass===!1?(o.side=Kr,this._renderObjectDirect(e,o,n,r,s,"backSide"),o.side=ds,this._renderObjectDirect(e,o,n,r,s),o.side=co):this._renderObjectDirect(e,o,n,r,s),e.onAfterRender(this,n,r,i,o,a)}_renderObjectDirect(e,n,r,i,o,a){const s=this._objects.get(e,n,r,i,o,this._currentRenderContext,a);this._nodes.updateBefore(s),e.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),this._nodes.updateForRender(s),this._geometries.updateForRender(s),this._bindings.updateForRender(s),this._pipelines.updateForRender(s),this.backend.draw(s,this.info)}}const u8e=c8e;class d8e{constructor(e=""){this.name=e,this.visibility=0}setVisibility(e){this.visibility|=e}clone(){return Object.assign(new this.constructor,this)}}const JE=d8e;function EG(t){return t+(Mc-t%Mc)%Mc}function f8e(t,e=4){const r=_G(e)*t;return EG(r)}function _G(t){return t+(4-t%4)%4}let h8e=class extends JE{constructor(e,n=null){super(e),this.isBuffer=!0,this.bytesPerElement=Float32Array.BYTES_PER_ELEMENT,this._buffer=n}get byteLength(){return EG(this._buffer.byteLength)}get buffer(){return this._buffer}update(){return!0}};const TG=h8e;class p8e extends TG{constructor(e,n=null){super(e,n),this.isUniformBuffer=!0}}const MG=p8e;class m8e extends MG{constructor(e){super(e),this.isUniformsGroup=!0,this.uniforms=[]}addUniform(e){return this.uniforms.push(e),this}removeUniform(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}get buffer(){let e=this._buffer;if(e===null){const n=this.byteLength;e=new Float32Array(new ArrayBuffer(n)),this._buffer=e}return e}get byteLength(){let e=0;for(let n=0,r=this.uniforms.length;n<r;n++){const i=this.uniforms[n],o=e%Mc,a=Mc-o;o!==0&&a-i.boundary<0?e+=Mc-o:o%i.boundary!==0&&(e+=o%i.boundary),i.offset=e/this.bytesPerElement,e+=i.itemSize*this.bytesPerElement}return Math.ceil(e/Mc)*Mc}update(){let e=!1;for(const n of this.uniforms)this.updateByType(n)===!0&&(e=!0);return e}updateByType(e){if(e.isFloatUniform)return this.updateNumber(e);if(e.isVector2Uniform)return this.updateVector2(e);if(e.isVector3Uniform)return this.updateVector3(e);if(e.isVector4Uniform)return this.updateVector4(e);if(e.isColorUniform)return this.updateColor(e);if(e.isMatrix3Uniform)return this.updateMatrix3(e);if(e.isMatrix4Uniform)return this.updateMatrix4(e);console.error("THREE.WebGPUUniformsGroup: Unsupported uniform type.",e)}updateNumber(e){let n=!1;const r=this.buffer,i=e.getValue(),o=e.offset;return r[o]!==i&&(r[o]=i,n=!0),n}updateVector2(e){let n=!1;const r=this.buffer,i=e.getValue(),o=e.offset;return(r[o+0]!==i.x||r[o+1]!==i.y)&&(r[o+0]=i.x,r[o+1]=i.y,n=!0),n}updateVector3(e){let n=!1;const r=this.buffer,i=e.getValue(),o=e.offset;return(r[o+0]!==i.x||r[o+1]!==i.y||r[o+2]!==i.z)&&(r[o+0]=i.x,r[o+1]=i.y,r[o+2]=i.z,n=!0),n}updateVector4(e){let n=!1;const r=this.buffer,i=e.getValue(),o=e.offset;return(r[o+0]!==i.x||r[o+1]!==i.y||r[o+2]!==i.z||r[o+4]!==i.w)&&(r[o+0]=i.x,r[o+1]=i.y,r[o+2]=i.z,r[o+3]=i.w,n=!0),n}updateColor(e){let n=!1;const r=this.buffer,i=e.getValue(),o=e.offset;return(r[o+0]!==i.r||r[o+1]!==i.g||r[o+2]!==i.b)&&(r[o+0]=i.r,r[o+1]=i.g,r[o+2]=i.b,n=!0),n}updateMatrix3(e){let n=!1;const r=this.buffer,i=e.getValue().elements,o=e.offset;return(r[o+0]!==i[0]||r[o+1]!==i[1]||r[o+2]!==i[2]||r[o+4]!==i[3]||r[o+5]!==i[4]||r[o+6]!==i[5]||r[o+8]!==i[6]||r[o+9]!==i[7]||r[o+10]!==i[8])&&(r[o+0]=i[0],r[o+1]=i[1],r[o+2]=i[2],r[o+4]=i[3],r[o+5]=i[4],r[o+6]=i[5],r[o+8]=i[6],r[o+9]=i[7],r[o+10]=i[8],n=!0),n}updateMatrix4(e){let n=!1;const r=this.buffer,i=e.getValue().elements,o=e.offset;return g8e(r,i,o)===!1&&(r.set(i,o),n=!0),n}}function g8e(t,e,n){for(let r=0,i=e.length;r<i;r++)if(t[n+r]!==e[r])return!1;return!0}const RG=m8e;let v8e=0;class y8e extends JE{constructor(e,n){super(e),this.id=v8e++,this.texture=n,this.version=n?n.version:0,this.store=!1,this.isSampledTexture=!0}get needsBindingsUpdate(){const{texture:e,version:n}=this;return e.isVideoTexture?!0:n!==e.version}update(){const{texture:e,version:n}=this;return n!==e.version?(this.version=e.version,!0):!1}}class e_ extends y8e{constructor(e,n){super(e,n?n.value:null),this.textureNode=n}get needsBindingsUpdate(){return this.textureNode.value!==this.texture||super.needsBindingsUpdate}update(){const{textureNode:e}=this;return this.texture!==e.value?(this.texture=e.value,!0):super.update()}}class AG extends e_{constructor(e,n){super(e,n),this.isSampledCubeTexture=!0}}const x8e={[C6e.ATAN2]:"atan",textureDimensions:"textureSize"},S8e={low:"lowp",medium:"mediump",high:"highp"};class b8e extends fG{constructor(e,n,r=null){super(e,n,new z4e,r),this.uniformsGroup={}}getMethod(e){return x8e[e]||e}getPropertyName(e,n){return e.isOutputStructVar?"":super.getPropertyName(e,n)}getTexture(e,n,r){return e.isTextureCube?`textureCube( ${n}, ${r} )`:e.isDepthTexture?`texture( ${n}, ${r} ).x`:`texture( ${n}, ${r} )`}getTextureLevel(e,n,r,i){return`textureLod( ${n}, ${r}, ${i} )`}getTextureCompare(e,n,r,i,o=this.shaderStage){if(o==="fragment")return`texture( ${n}, vec3( ${r}, ${i} ) )`;console.error(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${o} shader.`)}getVars(e){const n=[],r=this.vars[e];for(const i of r)i.isOutputStructVar||n.push(`${this.getVar(i.type,i.name)};`);return n.join(`
	`)}getUniforms(e){const n=this.uniforms[e],r=[],i=[];for(const a of n){let s=null,l=!1;a.type==="texture"?a.node.value.compareFunction?s=`sampler2DShadow ${a.name};`:s=`sampler2D ${a.name};`:a.type==="cubeTexture"?s=`samplerCube ${a.name};`:(s=`${this.getVectorType(a.type)} ${a.name};`,l=!0);const c=a.node.precision;c!==null&&(s=S8e[c]+" "+s),l?(s="	"+s,i.push(s)):(s="uniform "+s,r.push(s))}let o="";return i.length>0&&(o+=this._getGLSLUniformStruct(e+"NodeUniforms",i.join(`
`))+`
`),o+=r.join(`
`),o}getAttributes(e){let n="";if(e==="vertex"){const r=this.attributes;let i=0;for(const o of r)n+=`layout( location = ${i++} ) in ${o.type} ${o.name};
`}return n}getStructMembers(e){const n=[],r=e.getMemberTypes();for(let i=0;i<r.length;i++){const o=r[i];n.push(`layout( location = ${i} ) out ${o} m${i};`)}return n.join(`
`)}getStructs(e){const n=[],r=this.structs[e];if(r.length===0)return`layout( location = 0 ) out vec4 fragColor;
`;for(let i=0,o=r.length;i<o;i++){const a=r[i];let s=`
`;s+=this.getStructMembers(a),s+=`
`,n.push(s)}return n.join(`

`)}getVaryings(e){let n="";const r=this.varyings;if(e==="vertex")for(const i of r)n+=`${i.needsInterpolation?"out":"/*out*/"} ${i.type} ${i.name};
`;else if(e==="fragment")for(const i of r)i.needsInterpolation&&(n+=`in ${i.type} ${i.name};
`);return n}getVertexIndex(){return"gl_VertexID"}getFrontFacing(){return"gl_FrontFacing"}getFragCoord(){return"gl_FragCoord"}isFlipY(){return!0}_getGLSLUniformStruct(e,n){return`
layout( std140 ) uniform ${e} {
${n}
};`}_getGLSLVertexCode(e){return`#version 300 es

${this.getSignature()}

// precision
precision highp float;
precision highp int;

// uniforms
${e.uniforms}

// varyings
${e.varyings}

// attributes
${e.attributes}

// codes
${e.codes}

void main() {

	// vars
	${e.vars}

	// flow
	${e.flow}

	gl_PointSize = 1.0;

}
`}_getGLSLFragmentCode(e){return`#version 300 es

${this.getSignature()}

// precision
precision highp float;
precision highp int;
precision lowp sampler2DShadow;

// uniforms
${e.uniforms}

// varyings
${e.varyings}

// codes
${e.codes}

${e.structs}

void main() {

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}buildCode(){const e=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};for(const n in e){let r=`// code

`;r+=this.flowCode[n];const i=this.flowNodes[n],o=i[i.length-1];for(const s of i){const l=this.getFlowData(s),c=s.name;c&&(r.length>0&&(r+=`
`),r+=`	// flow -> ${c}
	`),r+=`${l.code}
	`,s===o&&n!=="compute"&&(r+=`// result
	`,n==="vertex"?(r+="gl_Position = ",r+=`${l.result};`):n==="fragment"&&(s.outputNode.isOutputStructNode||(r+="fragColor = ",r+=`${l.result};`)))}const a=e[n];a.uniforms=this.getUniforms(n),a.attributes=this.getAttributes(n),a.varyings=this.getVaryings(n),a.vars=this.getVars(n),a.structs=this.getStructs(n),a.codes=this.getCodes(n),a.flow=r}this.material!==null?(this.vertexShader=this._getGLSLVertexCode(e.vertex),this.fragmentShader=this._getGLSLFragmentCode(e.fragment)):console.warn("GLSLNodeBuilder: compute shaders are not supported.")}getUniformFromNode(e,n,r,i=null){const o=super.getUniformFromNode(e,n,r,i),a=this.getDataFromNode(e,r);let s=a.uniformGPU;if(s===void 0){if(n==="texture")s=new e_(o.name,o.node),this.bindings[r].push(s);else if(n==="cubeTexture")s=new AG(o.name,o.node),this.bindings[r].push(s);else{let l=this.uniformsGroup[r];l===void 0&&(l=new RG(r+"NodeUniforms"),this.uniformsGroup[r]=l,this.bindings[r].push(l)),s=this.getNodeUniform(o,n),l.addUniform(s)}a.uniformGPU=s}return o}build(){const{object:e,material:n}=this;return n!==null?KE.fromMaterial(n).build(this):this.addFlow("compute",e),super.build()}}const w8e=b8e;let LS=null,DS=null;class C8e{constructor(e={}){this.parameters=Object.assign({},e),this.data=new WeakMap,this.renderer=null,this.domElement=null}async init(e){this.renderer=e}begin(e){}finish(e){}draw(e,n){}createProgram(e){}destroyProgram(e){}createBindings(e){}updateBindings(e){}createRenderPipeline(e){}createComputePipeline(e,n){}destroyPipeline(e){}needsUpdate(e){}getCacheKey(e){}createNodeBuilder(e){}createSampler(e){}createDefaultTexture(e){}createTexture(e){}copyTextureToBuffer(e,n,r,i,o){}createAttribute(e){}createIndexAttribute(e){}updateAttribute(e){}destroyAttribute(e){}updateSize(){}hasFeature(e){}getInstanceCount(e){const{object:n,geometry:r}=e;return r.isInstancedBufferGeometry?r.instanceCount:n.isInstancedMesh?n.count:1}getDrawingBufferSize(){return LS=LS||new Qe,this.renderer.getDrawingBufferSize(LS)}getScissor(){return DS=DS||new Tn,this.renderer.getScissor(DS)}getDomElement(){let e=this.domElement;return e===null&&(e=this.parameters.canvas!==void 0?this.parameters.canvas:ZC(),"setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Gd}`),this.domElement=e),e}set(e,n){this.data.set(e,n)}get(e){let n=this.data.get(e);return n===void 0&&(n={},this.data.set(e,n)),n}delete(e){this.data.delete(e)}}const PG=C8e;class E8e{constructor(e){this.backend=e}createAttribute(e,n){const r=this.backend,{gl:i}=r,o=e.array,a=e.usage||i.STATIC_DRAW,s=i.createBuffer();i.bindBuffer(n,s),i.bufferData(n,o,a),i.bindBuffer(n,null);let l;if(o instanceof Float32Array)l=i.FLOAT;else if(o instanceof Uint16Array)e.isFloat16BufferAttribute?l=i.HALF_FLOAT:l=i.UNSIGNED_SHORT;else if(o instanceof Int16Array)l=i.SHORT;else if(o instanceof Uint32Array)l=i.UNSIGNED_INT;else if(o instanceof Int32Array)l=i.INT;else if(o instanceof Int8Array)l=i.BYTE;else if(o instanceof Uint8Array)l=i.UNSIGNED_BYTE;else if(o instanceof Uint8ClampedArray)l=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLBackend: Unsupported buffer data format: "+o);r.set(e,{bufferGPU:s,type:l,bytesPerElement:o.BYTES_PER_ELEMENT,version:e.version})}}const _8e=E8e;let WN=!1,FS,Q0;class T8e{constructor(e){this.backend=e,this.gl=this.backend.gl,this.enabled={},this.currentFlipSided=null,this.currentCullFace=null,this.currentProgram=null,this.currentBlendingEnabled=null,this.currentBlending=null,this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentPremultipledAlpha=null,this.currentPolygonOffsetFactor=null,this.currentPolygonOffsetUnits=null,this.currentDepthFunc=null,this.currentDepthMask=null,this.currentStencilFunc=null,this.currentStencilRef=null,this.currentStencilFuncMask=null,this.currentStencilFail=null,this.currentStencilZFail=null,this.currentStencilZPass=null,this.currentStencilMask=null,WN===!1&&(this._init(this.gl),WN=!0)}_init(e){FS={[jo]:e.FUNC_ADD,[t6]:e.FUNC_SUBTRACT,[n6]:e.FUNC_REVERSE_SUBTRACT},Q0={[r6]:e.ZERO,[i6]:e.ONE,[o6]:e.SRC_COLOR,[a3]:e.SRC_ALPHA,[d6]:e.SRC_ALPHA_SATURATE,[c6]:e.DST_COLOR,[s6]:e.DST_ALPHA,[a6]:e.ONE_MINUS_SRC_COLOR,[s3]:e.ONE_MINUS_SRC_ALPHA,[u6]:e.ONE_MINUS_DST_COLOR,[l6]:e.ONE_MINUS_DST_ALPHA}}enable(e){const{enabled:n}=this;n[e]!==!0&&(this.gl.enable(e),n[e]=!0)}disable(e){const{enabled:n}=this;n[e]!==!1&&(this.gl.disable(e),n[e]=!1)}setFlipSided(e){if(this.currentFlipSided!==e){const{gl:n}=this;e?n.frontFace(n.CW):n.frontFace(n.CCW),this.currentFlipSided=e}}setCullFace(e){const{gl:n}=this;e!==DC?(this.enable(n.CULL_FACE),e!==this.currentCullFace&&(e===Ay?n.cullFace(n.BACK):e===FC?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):this.disable(n.CULL_FACE),this.currentCullFace=e}setBlending(e,n,r,i,o,a,s,l){const{gl:c}=this;if(e===Yo){this.currentBlendingEnabled===!0&&(this.disable(c.BLEND),this.currentBlendingEnabled=!1);return}if(this.currentBlendingEnabled===!1&&(this.enable(c.BLEND),this.currentBlendingEnabled=!0),e!==e6){if(e!==this.currentBlending||l!==this.currentPremultipledAlpha){if((this.currentBlendEquation!==jo||this.currentBlendEquationAlpha!==jo)&&(c.blendEquation(c.FUNC_ADD),this.currentBlendEquation=jo,this.currentBlendEquationAlpha=jo),l)switch(e){case Ma:c.blendFuncSeparate(c.ONE,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case Ad:c.blendFunc(c.ONE,c.ONE);break;case Pd:c.blendFuncSeparate(c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ZERO,c.ONE);break;case Id:c.blendFuncSeparate(c.ZERO,c.SRC_COLOR,c.ZERO,c.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",e);break}else switch(e){case Ma:c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case Ad:c.blendFunc(c.SRC_ALPHA,c.ONE);break;case Pd:c.blendFuncSeparate(c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ZERO,c.ONE);break;case Id:c.blendFunc(c.ZERO,c.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",e);break}this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentBlending=e,this.currentPremultipledAlpha=l}return}o=o||n,a=a||r,s=s||i,(n!==this.currentBlendEquation||o!==this.currentBlendEquationAlpha)&&(c.blendEquationSeparate(FS[n],FS[o]),this.currentBlendEquation=n,this.currentBlendEquationAlpha=o),(r!==this.currentBlendSrc||i!==this.currentBlendDst||a!==this.currentBlendSrcAlpha||s!==this.currentBlendDstAlpha)&&(c.blendFuncSeparate(Q0[r],Q0[i],Q0[a],Q0[s]),this.currentBlendSrc=r,this.currentBlendDst=i,this.currentBlendSrcAlpha=a,this.currentBlendDstAlpha=s),this.currentBlending=e,this.currentPremultipledAlpha=!1}setDepthTest(e){const{gl:n}=this;e?this.enable(n.DEPTH_TEST):this.disable(n.DEPTH_TEST)}setDepthMask(e){this.currentDepthMask!==e&&(this.gl.depthMask(e),this.currentDepthMask=e)}setDepthFunc(e){if(this.currentDepthFunc!==e){const{gl:n}=this;switch(e){case f6:n.depthFunc(n.NEVER);break;case h6:n.depthFunc(n.ALWAYS);break;case p6:n.depthFunc(n.LESS);break;case op:n.depthFunc(n.LEQUAL);break;case m6:n.depthFunc(n.EQUAL);break;case g6:n.depthFunc(n.GEQUAL);break;case v6:n.depthFunc(n.GREATER);break;case y6:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}this.currentDepthFunc=e}}setStencilTest(e){const{gl:n}=this;e?this.enable(n.STENCIL_TEST):this.disable(n.STENCIL_TEST)}setStencilMask(e){this.currentStencilMask!==e&&(this.gl.stencilMask(e),this.currentStencilMask=e)}setStencilFunc(e,n,r){(this.currentStencilFunc!==e||this.currentStencilRef!==n||this.currentStencilFuncMask!==r)&&(this.gl.stencilFunc(e,n,r),this.currentStencilFunc=e,this.currentStencilRef=n,this.currentStencilFuncMask=r)}setStencilOp(e,n,r){(this.currentStencilFail!==e||this.currentStencilZFail!==n||this.currentStencilZPass!==r)&&(this.gl.stencilOp(e,n,r),this.currentStencilFail=e,this.currentStencilZFail=n,this.currentStencilZPass=r)}setMaterial(e,n){const{gl:r}=this;e.side===co?this.disable(r.CULL_FACE):this.enable(r.CULL_FACE);let i=e.side===Kr;n&&(i=!i),this.setFlipSided(i),e.blending===Ma&&e.transparent===!1?this.setBlending(Yo):this.setBlending(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),this.setDepthFunc(e.depthFunc),this.setDepthTest(e.depthTest),this.setDepthMask(e.depthWrite),this.setDepthMask(e.colorWrite);const o=e.stencilWrite;this.setStencilTest(o),o&&(this.setStencilMask(e.stencilWriteMask),this.setStencilFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),this.setStencilOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),this.setPolygonOffset(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),e.alphaToCoverage===!0?this.enable(r.SAMPLE_ALPHA_TO_COVERAGE):this.disable(r.SAMPLE_ALPHA_TO_COVERAGE)}setPolygonOffset(e,n,r){const{gl:i}=this;e?(this.enable(i.POLYGON_OFFSET_FILL),(this.currentPolygonOffsetFactor!==n||this.currentPolygonOffsetUnits!==r)&&(i.polygonOffset(n,r),this.currentPolygonOffsetFactor=n,this.currentPolygonOffsetUnits=r)):this.disable(i.POLYGON_OFFSET_FILL)}useProgram(e){return this.currentProgram!==e?(this.gl.useProgram(e),this.currentProgram=e,!0):!1}}const M8e=T8e;class R8e{constructor(e){this.backend=e,this.gl=this.backend.gl,this.extensions=e.extensions}convert(e,n=Oi){const{gl:r,extensions:i}=this;let o;if(e===Io)return r.UNSIGNED_BYTE;if(e===C6)return r.UNSIGNED_SHORT_4_4_4_4;if(e===E6)return r.UNSIGNED_SHORT_5_5_5_1;if(e===BC)return r.BYTE;if(e===zC)return r.SHORT;if(e===Kp)return r.UNSIGNED_SHORT;if(e===w6)return r.INT;if(e===Ca)return r.UNSIGNED_INT;if(e===Xr)return r.FLOAT;if(e===Ws)return r.HALF_FLOAT;if(e===HC)return r.ALPHA;if(e===Qi)return r.RGBA;if(e===GC)return r.LUMINANCE;if(e===VC)return r.LUMINANCE_ALPHA;if(e===Aa)return r.DEPTH_COMPONENT;if(e===ps)return r.DEPTH_STENCIL;if(e===ap)return r.RED;if(e===_6)return r.RED_INTEGER;if(e===T6)return r.RG;if(e===M6)return r.RG_INTEGER;if(e===R6)return r.RGBA_INTEGER;if(e===hd||e===Gc||e===Vc||e===Wc)if(n===$t)if(o=i.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(e===hd)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(e===Gc)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(e===Vc)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(e===Wc)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=i.get("WEBGL_compressed_texture_s3tc"),o!==null){if(e===hd)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Gc)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===Vc)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===Wc)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(e===fg||e===hg||e===pg||e===mg)if(o=i.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(e===fg)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===hg)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===pg)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===mg)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(e===WC)return o=i.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(e===sp||e===lp)if(o=i.get("WEBGL_compressed_texture_etc"),o!==null){if(e===sp)return n===$t?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(e===lp)return n===$t?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(e===cp||e===up||e===dp||e===fp||e===hp||e===pp||e===mp||e===gp||e===vp||e===yp||e===xp||e===Sp||e===bp||e===wp)if(o=i.get("WEBGL_compressed_texture_astc"),o!==null){if(e===cp)return n===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(e===up)return n===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(e===dp)return n===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(e===fp)return n===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(e===hp)return n===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(e===pp)return n===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(e===mp)return n===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(e===gp)return n===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(e===vp)return n===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(e===yp)return n===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(e===xp)return n===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(e===Sp)return n===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(e===bp)return n===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(e===wp)return n===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(e===pd)if(o=i.get("EXT_texture_compression_bptc"),o!==null){if(e===pd)return n===$t?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(e===jC||e===gg||e===vg||e===yg)if(o=i.get("EXT_texture_compression_rgtc"),o!==null){if(e===pd)return o.COMPRESSED_RED_RGTC1_EXT;if(e===gg)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(e===vg)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(e===yg)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return e===Ra?r.UNSIGNED_INT_24_8:r[e]!==void 0?r[e]:null}}const A8e=R8e;let jN=!1,W1,$S,XN;class P8e{constructor(e){this.backend=e,this.gl=e.gl,this.extensions=e.extensions,jN===!1&&(this._init(this.gl),jN=!0)}_init(e){W1={[Nd]:e.REPEAT,[Ni]:e.CLAMP_TO_EDGE,[Od]:e.MIRRORED_REPEAT},$S={[Wn]:e.NEAREST,[Ld]:e.NEAREST_MIPMAP_NEAREST,[Dl]:e.NEAREST_MIPMAP_LINEAR,[Er]:e.LINEAR,[b6]:e.LINEAR_MIPMAP_NEAREST,[hs]:e.LINEAR_MIPMAP_LINEAR},XN={[N6]:e.NEVER,[U6]:e.ALWAYS,[u3]:e.LESS,[L6]:e.LEQUAL,[O6]:e.EQUAL,[$6]:e.GEQUAL,[D6]:e.GREATER,[F6]:e.NOTEQUAL}}filterFallback(e){const{gl:n}=this;return e===Wn||e===Ld||e===Dl?n.NEAREST:n.LINEAR}getGLTextureType(e){const{gl:n}=this;let r;return e.isCubeTexture===!0?r=n.TEXTURE_CUBE_MAP:r=n.TEXTURE_2D,r}getInternalFormat(e,n,r,i,o=!1){const{gl:a,extensions:s}=this;if(e!==null){if(a[e]!==void 0)return a[e];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+e+"'")}let l=n;return n===a.RED&&(r===a.FLOAT&&(l=a.R32F),r===a.HALF_FLOAT&&(l=a.R16F),r===a.UNSIGNED_BYTE&&(l=a.R8)),n===a.RED_INTEGER&&(r===a.UNSIGNED_BYTE&&(l=a.R8UI),r===a.UNSIGNED_SHORT&&(l=a.R16UI),r===a.UNSIGNED_INT&&(l=a.R32UI),r===a.BYTE&&(l=a.R8I),r===a.SHORT&&(l=a.R16I),r===a.INT&&(l=a.R32I)),n===a.RG&&(r===a.FLOAT&&(l=a.RG32F),r===a.HALF_FLOAT&&(l=a.RG16F),r===a.UNSIGNED_BYTE&&(l=a.RG8)),n===a.RGBA&&(r===a.FLOAT&&(l=a.RGBA32F),r===a.HALF_FLOAT&&(l=a.RGBA16F),r===a.UNSIGNED_BYTE&&(l=i===$t&&o===!1?a.SRGB8_ALPHA8:a.RGBA8),r===a.UNSIGNED_SHORT_4_4_4_4&&(l=a.RGBA4),r===a.UNSIGNED_SHORT_5_5_5_1&&(l=a.RGB5_A1)),n===a.DEPTH_COMPONENT&&(r===a.UNSIGNED_INT&&(l=a.DEPTH_COMPONENT24),r===a.FLOAT&&(l=a.DEPTH_COMPONENT32F)),n===a.DEPTH_STENCIL&&r===a.UNSIGNED_INT_24_8&&(l=a.DEPTH24_STENCIL8),(l===a.R16F||l===a.R32F||l===a.RG16F||l===a.RG32F||l===a.RGBA16F||l===a.RGBA32F)&&s.get("EXT_color_buffer_float"),l}setTextureParameters(e,n){const{gl:r,extensions:i}=this;if(r.texParameteri(e,r.TEXTURE_WRAP_S,W1[n.wrapS]),r.texParameteri(e,r.TEXTURE_WRAP_T,W1[n.wrapT]),(e===r.TEXTURE_3D||e===r.TEXTURE_2D_ARRAY)&&r.texParameteri(e,r.TEXTURE_WRAP_R,W1[n.wrapR]),r.texParameteri(e,r.TEXTURE_MAG_FILTER,$S[n.magFilter]),r.texParameteri(e,r.TEXTURE_MIN_FILTER,$S[n.minFilter]),n.compareFunction&&(r.texParameteri(e,r.TEXTURE_COMPARE_MODE,r.COMPARE_REF_TO_TEXTURE),r.texParameteri(e,r.TEXTURE_COMPARE_FUNC,XN[n.compareFunction])),i.has("EXT_texture_filter_anisotropic")===!0){if(n.magFilter===Wn||n.minFilter!==Dl&&n.minFilter!==hs||n.type===Xr&&i.has("OES_texture_float_linear")===!1)return;n.anisotropy>1}}}const I8e=P8e;class N8e{constructor(e){this.backend=e,this.gl=this.backend.gl,this.availableExtensions=this.gl.getSupportedExtensions()}get(e){return this.gl.getExtension(e)}has(e){return this.availableExtensions.includes(e)}}const O8e=N8e;class L8e extends PG{constructor(e={}){super(e)}async init(e){await super.init(e);const n=this.parameters,r=n.context!==void 0?n.context:e.domElement.getContext("webgl2");this.gl=r,this.extensions=new O8e(this),this.attributeUtils=new _8e(this),this.textureUtils=new I8e(this),this.state=new M8e(this),this.utils=new A8e(this),this.defaultTextures={},this.extensions.get("EXT_color_buffer_float")}get coordinateSystem(){return ns}beginRender(e){const{gl:n}=this;this._setFramebuffer(e);let r=0;e.clearColor&&(r|=n.COLOR_BUFFER_BIT),e.clearDepth&&(r|=n.DEPTH_BUFFER_BIT),e.clearStencil&&(r|=n.STENCIL_BUFFER_BIT);const i=e.clearColorValue;if(r!==0)if(e.textures===null)n.clearColor(i.r,i.g,i.b,i.a),n.clear(r);else{for(let o=0;o<e.textures.length;o++)n.clearBufferfv(n.COLOR,o,[i.r,i.g,i.b,i.a]);n.clearBufferfi(n.DEPTH_STENCIL,0,1,1)}e.viewport?this.updateViewport(e):n.viewport(0,0,n.drawingBufferWidth,n.drawingBufferHeight)}finishRender(){}updateViewport(e){const n=this.gl,{x:r,y:i,width:o,height:a}=e.viewportValue;n.viewport(r,i,o,a)}clear(){console.warn("Abstract class.")}beginCompute(){console.warn("Abstract class.")}compute(){console.warn("Abstract class.")}finishCompute(){console.warn("Abstract class.")}draw(e,n){const{pipeline:r,material:i}=e,{programGPU:o,vaoGPU:a}=this.get(r),{gl:s,state:l}=this,c=e.getBindings();for(const x of c){const v=this.get(x),w=v.index;x.isUniformsGroup?s.bindBufferBase(s.UNIFORM_BUFFER,w,v.bufferGPU):x.isSampledTexture&&(s.activeTexture(s.TEXTURE0+w),s.bindTexture(v.glTextureType,v.textureGPU))}l.setMaterial(i),s.useProgram(o),s.bindVertexArray(a);const u=e.getIndex(),d=e.object,f=e.geometry,p=f.drawRange,y=p.start;let b;if(d.isPoints?b=s.POINTS:d.isLine?b=s.LINES:d.isLineLoop?b=s.LINE_LOOP:d.isLineSegments?b=s.LINES:b=s.TRIANGLES,u!==null){const x=this.get(u),v=p.count!==1/0?p.count:u.count;s.drawElements(b,u.count,x.type,y),n.update(d,v,1)}else{const x=f.attributes.position,v=p.count!==1/0?p.count:x.count;s.drawArrays(b,0,v),n.update(d,v,1)}s.bindVertexArray(null)}needsUpdate(e){return!1}getCacheKey(e){return""}createSampler(){}destroySampler(){console.warn("Abstract class.")}createDefaultTexture(e){const{gl:n,textureUtils:r,defaultTextures:i}=this,o=r.getGLTextureType(e);let a=i[o];a===void 0&&(a=n.createTexture(),n.bindTexture(o,a),n.texParameteri(o,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(o,n.TEXTURE_MAG_FILTER,n.NEAREST),i[o]=a),this.set(e,{textureGPU:a,glTextureType:o,isDefault:!0})}createTexture(e,n){const{gl:r,utils:i,textureUtils:o}=this,{levels:a,width:s,height:l}=n,c=i.convert(e.format,e.colorSpace),u=i.convert(e.type),d=o.getInternalFormat(e.internalFormat,c,u,e.colorSpace,e.isVideoTexture),f=r.createTexture(),p=o.getGLTextureType(e);r.bindTexture(p,f),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,e.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,e.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,r.NONE),o.setTextureParameters(p,e),r.bindTexture(p,f),e.isVideoTexture||r.texStorage2D(p,a,d,s,l),this.set(e,{textureGPU:f,glTextureType:p,glFormat:c,glType:u,glInternalFormat:d})}updateTexture(e,n){const{gl:r}=this,{width:i,height:o}=n,{textureGPU:a,glTextureType:s,glFormat:l,glType:c,glInternalFormat:u}=this.get(e),d=f=>f.isDataTexture?f.image.data:f instanceof ImageBitmap||f instanceof OffscreenCanvas?f:f.data;if(r.bindTexture(s,a),e.isCubeTexture){const f=n.images;for(let p=0;p<6;p++){const y=d(f[p]);r.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+p,0,0,0,i,o,l,c,y)}}else if(e.isVideoTexture)e.update(),r.texImage2D(s,0,u,l,c,n.image);else{const f=d(n.image);r.texSubImage2D(s,0,0,0,i,o,l,c,f)}}generateMipmaps(e){const{gl:n}=this,{textureGPU:r,glTextureType:i}=this.get(e);n.bindTexture(i,r),n.generateMipmap(i)}destroyTexture(){console.warn("Abstract class.")}copyTextureToBuffer(){console.warn("Abstract class.")}createNodeBuilder(e,n,r=null){return new w8e(e,n,r)}createProgram(e){const n=this.gl,{stage:r,code:i}=e,o=r==="vertex"?n.createShader(n.VERTEX_SHADER):n.createShader(n.FRAGMENT_SHADER);n.shaderSource(o,i),n.compileShader(o),n.getShaderParameter(o,n.COMPILE_STATUS)===!1&&console.error("THREE.WebGLBackend:",n.getShaderInfoLog(o)),this.set(e,{shaderGPU:o})}destroyProgram(){console.warn("Abstract class.")}createRenderPipeline(e){const n=this.gl,r=e.pipeline,{fragmentProgram:i,vertexProgram:o}=r,a=n.createProgram();n.attachShader(a,this.get(i).shaderGPU),n.attachShader(a,this.get(o).shaderGPU),n.linkProgram(a),n.getProgramParameter(a,n.LINK_STATUS)===!1&&console.error("THREE.WebGLBackend:",n.getProgramInfoLog(a)),n.useProgram(a);const s=e.getBindings();for(const d of s){const p=this.get(d).index;if(d.isUniformsGroup){const y=n.getUniformBlockIndex(a,d.name);n.uniformBlockBinding(a,y,p)}else if(d.isSampledTexture){const y=n.getUniformLocation(a,d.name);n.uniform1i(y,p)}}const l=n.createVertexArray(),c=e.getIndex(),u=e.getVertexBuffers();if(n.bindVertexArray(l),c!==null){const d=this.get(c);n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,d.bufferGPU)}for(let d=0;d<u.length;d++){const f=u[d],p=this.get(f);n.bindBuffer(n.ARRAY_BUFFER,p.bufferGPU),n.enableVertexAttribArray(d),n.vertexAttribPointer(d,f.itemSize,p.type,!1,0,0)}n.bindVertexArray(null),this.set(r,{programGPU:a,vaoGPU:l})}createComputePipeline(){console.warn("Abstract class.")}createBindings(e){this.updateBindings(e)}updateBindings(e){const{gl:n}=this;let r=0,i=0;for(const o of e)if(o.isUniformsGroup){const a=n.createBuffer(),s=o.buffer;n.bindBuffer(n.UNIFORM_BUFFER,a),n.bufferData(n.UNIFORM_BUFFER,s,n.DYNAMIC_DRAW),n.bindBufferBase(n.UNIFORM_BUFFER,r,a),this.set(o,{index:r++,bufferGPU:a})}else if(o.isSampledTexture){const{textureGPU:a,glTextureType:s}=this.get(o.texture);this.set(o,{index:i++,textureGPU:a,glTextureType:s})}}updateBinding(e){const n=this.gl;if(e.isUniformsGroup){const i=this.get(e).bufferGPU,o=e.buffer;n.bindBuffer(n.UNIFORM_BUFFER,i),n.bufferData(n.UNIFORM_BUFFER,o,n.DYNAMIC_DRAW)}}createIndexAttribute(e){const n=this.gl;this.attributeUtils.createAttribute(e,n.ELEMENT_ARRAY_BUFFER)}createAttribute(e){const n=this.gl;this.attributeUtils.createAttribute(e,n.ARRAY_BUFFER)}createStorageAttribute(){console.warn("Abstract class.")}updateAttribute(){console.warn("Abstract class.")}destroyAttribute(){console.warn("Abstract class.")}updateSize(){}hasFeature(e){return!0}copyFramebufferToTexture(){console.warn("Abstract class.")}_setFramebuffer(e){const{gl:n}=this;if(e.textures!==null){const r=this.get(e);let i=r.framebuffer;if(i===void 0){i=n.createFramebuffer(),n.bindFramebuffer(n.FRAMEBUFFER,i);const o=e.textures,a=[];for(let s=0;s<o.length;s++){const l=o[s],{textureGPU:c}=this.get(l),u=n.COLOR_ATTACHMENT0+s;n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+s,n.TEXTURE_2D,c,0),a.push(u)}if(n.drawBuffers(a),e.depthTexture!==null){const{textureGPU:s}=this.get(e.depthTexture);n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,s,0)}r.framebuffer=i}else n.bindFramebuffer(n.FRAMEBUFFER,i)}else n.bindFramebuffer(n.FRAMEBUFFER,null)}}const D8e=L8e,Mh={PointList:"point-list",LineList:"line-list",LineStrip:"line-strip",TriangleList:"triangle-list",TriangleStrip:"triangle-strip"},Pi={Never:"never",Less:"less",Equal:"equal",LessEqual:"less-equal",Greater:"greater",NotEqual:"not-equal",GreaterEqual:"greater-equal",Always:"always"},Wa={Store:"store",Discard:"discard"},ei={Load:"load",Clear:"clear"},US={CCW:"ccw",CW:"cw"},kS={None:"none",Front:"front",Back:"back"},Lp={Uint16:"uint16",Uint32:"uint32"},Ve={R8Unorm:"r8unorm",R8Snorm:"r8snorm",R8Uint:"r8uint",R8Sint:"r8sint",R16Uint:"r16uint",R16Sint:"r16sint",R16Float:"r16float",RG8Unorm:"rg8unorm",RG8Snorm:"rg8snorm",RG8Uint:"rg8uint",RG8Sint:"rg8sint",R32Uint:"r32uint",R32Sint:"r32sint",R32Float:"r32float",RG16Uint:"rg16uint",RG16Sint:"rg16sint",RG16Float:"rg16float",RGBA8Unorm:"rgba8unorm",RGBA8UnormSRGB:"rgba8unorm-srgb",RGBA8Snorm:"rgba8snorm",RGBA8Uint:"rgba8uint",RGBA8Sint:"rgba8sint",BGRA8Unorm:"bgra8unorm",BGRA8UnormSRGB:"bgra8unorm-srgb",RGB9E5UFloat:"rgb9e5ufloat",RGB10A2Unorm:"rgb10a2unorm",RG11B10uFloat:"rgb10a2unorm",RG32Uint:"rg32uint",RG32Sint:"rg32sint",RG32Float:"rg32float",RGBA16Uint:"rgba16uint",RGBA16Sint:"rgba16sint",RGBA16Float:"rgba16float",RGBA32Uint:"rgba32uint",RGBA32Sint:"rgba32sint",RGBA32Float:"rgba32float",Stencil8:"stencil8",Depth16Unorm:"depth16unorm",Depth24Plus:"depth24plus",Depth24PlusStencil8:"depth24plus-stencil8",Depth32Float:"depth32float",Depth32FloatStencil8:"depth32float-stencil8",BC1RGBAUnorm:"bc1-rgba-unorm",BC1RGBAUnormSRGB:"bc1-rgba-unorm-srgb",BC2RGBAUnorm:"bc2-rgba-unorm",BC2RGBAUnormSRGB:"bc2-rgba-unorm-srgb",BC3RGBAUnorm:"bc3-rgba-unorm",BC3RGBAUnormSRGB:"bc3-rgba-unorm-srgb",BC4RUnorm:"bc4-r-unorm",BC4RSnorm:"bc4-r-snorm",BC5RGUnorm:"bc5-rg-unorm",BC5RGSnorm:"bc5-rg-snorm",BC6HRGBUFloat:"bc6h-rgb-ufloat",BC6HRGBFloat:"bc6h-rgb-float",BC7RGBAUnorm:"bc7-rgba-unorm",BC7RGBAUnormSRGB:"bc7-rgba-srgb",ETC2RGB8Unorm:"etc2-rgb8unorm",ETC2RGB8UnormSRGB:"etc2-rgb8unorm-srgb",ETC2RGB8A1Unorm:"etc2-rgb8a1unorm",ETC2RGB8A1UnormSRGB:"etc2-rgb8a1unorm-srgb",ETC2RGBA8Unorm:"etc2-rgba8unorm",ETC2RGBA8UnormSRGB:"etc2-rgba8unorm-srgb",EACR11Unorm:"eac-r11unorm",EACR11Snorm:"eac-r11snorm",EACRG11Unorm:"eac-rg11unorm",EACRG11Snorm:"eac-rg11snorm",ASTC4x4Unorm:"astc-4x4-unorm",ASTC4x4UnormSRGB:"astc-4x4-unorm-srgb",ASTC5x4Unorm:"astc-5x4-unorm",ASTC5x4UnormSRGB:"astc-5x4-unorm-srgb",ASTC5x5Unorm:"astc-5x5-unorm",ASTC5x5UnormSRGB:"astc-5x5-unorm-srgb",ASTC6x5Unorm:"astc-6x5-unorm",ASTC6x5UnormSRGB:"astc-6x5-unorm-srgb",ASTC6x6Unorm:"astc-6x6-unorm",ASTC6x6UnormSRGB:"astc-6x6-unorm-srgb",ASTC8x5Unorm:"astc-8x5-unorm",ASTC8x5UnormSRGB:"astc-8x5-unorm-srgb",ASTC8x6Unorm:"astc-8x6-unorm",ASTC8x6UnormSRGB:"astc-8x6-unorm-srgb",ASTC8x8Unorm:"astc-8x8-unorm",ASTC8x8UnormSRGB:"astc-8x8-unorm-srgb",ASTC10x5Unorm:"astc-10x5-unorm",ASTC10x5UnormSRGB:"astc-10x5-unorm-srgb",ASTC10x6Unorm:"astc-10x6-unorm",ASTC10x6UnormSRGB:"astc-10x6-unorm-srgb",ASTC10x8Unorm:"astc-10x8-unorm",ASTC10x8UnormSRGB:"astc-10x8-unorm-srgb",ASTC10x10Unorm:"astc-10x10-unorm",ASTC10x10UnormSRGB:"astc-10x10-unorm-srgb",ASTC12x10Unorm:"astc-12x10-unorm",ASTC12x10UnormSRGB:"astc-12x10-unorm-srgb",ASTC12x12Unorm:"astc-12x12-unorm",ASTC12x12UnormSRGB:"astc-12x12-unorm-srgb"},BS={ClampToEdge:"clamp-to-edge",Repeat:"repeat",MirrorRepeat:"mirror-repeat"},By={Linear:"linear",Nearest:"nearest"},Qt={Zero:"zero",One:"one",Src:"src",OneMinusSrc:"one-minus-src",SrcAlpha:"src-alpha",OneMinusSrcAlpha:"one-minus-src-alpha",Dst:"dst",OneMinusDstColor:"one-minus-dst",DstAlpha:"dst-alpha",OneMinusDstAlpha:"one-minus-dst-alpha",SrcAlphaSaturated:"src-alpha-saturated",Constant:"constant",OneMinusConstant:"one-minus-constant"},Ou={Add:"add",Subtract:"subtract",ReverseSubtract:"reverse-subtract",Min:"min",Max:"max"},qN={None:0,Red:1,Green:2,Blue:4,Alpha:8,All:15},yc={Keep:"keep",Zero:"zero",Replace:"replace",Invert:"invert",IncrementClamp:"increment-clamp",DecrementClamp:"decrement-clamp",IncrementWrap:"increment-wrap",DecrementWrap:"decrement-wrap"},F8e={Uniform:"uniform",Storage:"storage",ReadOnlyStorage:"read-only-storage"},KN={Float:"float",UnfilterableFloat:"unfilterable-float",Depth:"depth",SInt:"sint",UInt:"uint"},YN={OneD:"1d",TwoD:"2d",ThreeD:"3d"},Nc={OneD:"1d",TwoD:"2d",TwoDArray:"2d-array",Cube:"cube",CubeArray:"cube-array",ThreeD:"3d"},$8e={All:"all",StencilOnly:"stencil-only",DepthOnly:"depth-only"},j1={Vertex:"vertex",Instance:"instance"},S9={DepthClipControl:"depth-clip-control",Depth32FloatStencil8:"depth32float-stencil8",TextureCompressionBC:"texture-compression-bc",TextureCompressionETC2:"texture-compression-etc2",TextureCompressionASTC:"texture-compression-astc",TimestampQuery:"timestamp-query",IndirectFirstInstance:"indirect-first-instance",ShaderF16:"shader-f16",RG11B10UFloat:"rg11b10ufloat-renderable",BGRA8UNormStorage:"bgra8unorm-storage",Float32Filterable:"float32-filterable"};class U8e extends JE{constructor(e,n){super(e),this.texture=n,this.version=n?n.version:0,this.isSampler=!0}}const k8e=U8e;class B8e extends k8e{constructor(e,n){super(e,n?n.value:null),this.textureNode=n}}const z8e=B8e;class H8e extends TG{constructor(e,n){super(e,n?n.array:null),this.attribute=n,this.isStorageBuffer=!0}}const G8e=H8e;class V8e{constructor(e){this.device=e;const n=`
struct VarysStruct {
	@builtin( position ) Position: vec4<f32>,
	@location( 0 ) vTex : vec2<f32>
};

@vertex
fn main( @builtin( vertex_index ) vertexIndex : u32 ) -> VarysStruct {

	var Varys : VarysStruct;

	var pos = array< vec2<f32>, 4 >(
		vec2<f32>( -1.0,  1.0 ),
		vec2<f32>(  1.0,  1.0 ),
		vec2<f32>( -1.0, -1.0 ),
		vec2<f32>(  1.0, -1.0 )
	);

	var tex = array< vec2<f32>, 4 >(
		vec2<f32>( 0.0, 0.0 ),
		vec2<f32>( 1.0, 0.0 ),
		vec2<f32>( 0.0, 1.0 ),
		vec2<f32>( 1.0, 1.0 )
	);

	Varys.vTex = tex[ vertexIndex ];
	Varys.Position = vec4<f32>( pos[ vertexIndex ], 0.0, 1.0 );

	return Varys;

}
`,r=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vTex );

}
`,i=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vec2( vTex.x, 1.0 - vTex.y ) );

}
`;this.mipmapSampler=e.createSampler({minFilter:By.Linear}),this.flipYSampler=e.createSampler({minFilter:By.Nearest}),this.transferPipelines={},this.flipYPipelines={},this.mipmapVertexShaderModule=e.createShaderModule({label:"mipmapVertex",code:n}),this.mipmapFragmentShaderModule=e.createShaderModule({label:"mipmapFragment",code:r}),this.flipYFragmentShaderModule=e.createShaderModule({label:"flipYFragment",code:i})}getTransferPipeline(e){let n=this.transferPipelines[e];return n===void 0&&(n=this.device.createRenderPipeline({vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.mipmapFragmentShaderModule,entryPoint:"main",targets:[{format:e}]},primitive:{topology:Mh.TriangleStrip,stripIndexFormat:Lp.Uint32},layout:"auto"}),this.transferPipelines[e]=n),n}getFlipYPipeline(e){let n=this.flipYPipelines[e];return n===void 0&&(n=this.device.createRenderPipeline({vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.flipYFragmentShaderModule,entryPoint:"main",targets:[{format:e}]},primitive:{topology:Mh.TriangleStrip,stripIndexFormat:Lp.Uint32},layout:"auto"}),this.flipYPipelines[e]=n),n}flipY(e,n,r=0){const i=n.format,{width:o,height:a}=n.size,s=this.getTransferPipeline(i),l=this.getFlipYPipeline(i),c=this.device.createTexture({size:{width:o,height:a,depthOrArrayLayers:1},format:i,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING}),u=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:Nc.TwoD,baseArrayLayer:r}),d=c.createView({baseMipLevel:0,mipLevelCount:1,dimension:Nc.TwoD,baseArrayLayer:0}),f=this.device.createCommandEncoder({}),p=(y,b,x)=>{const v=y.getBindGroupLayout(0),w=this.device.createBindGroup({layout:v,entries:[{binding:0,resource:this.flipYSampler},{binding:1,resource:b}]}),S=f.beginRenderPass({colorAttachments:[{view:x,loadOp:ei.Clear,storeOp:Wa.Store,clearValue:[0,0,0,0]}]});S.setPipeline(y),S.setBindGroup(0,w),S.draw(4,1,0,0),S.end()};p(s,u,d),p(l,d,u),this.device.queue.submit([f.finish()]),c.destroy()}generateMipmaps(e,n,r=0){const i=this.getTransferPipeline(n.format),o=this.device.createCommandEncoder({}),a=i.getBindGroupLayout(0);let s=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:Nc.TwoD,baseArrayLayer:r});for(let l=1;l<n.mipLevelCount;l++){const c=this.device.createBindGroup({layout:a,entries:[{binding:0,resource:this.mipmapSampler},{binding:1,resource:s}]}),u=e.createView({baseMipLevel:l,mipLevelCount:1,dimension:Nc.TwoD,baseArrayLayer:r}),d=o.beginRenderPass({colorAttachments:[{view:u,loadOp:ei.Clear,storeOp:Wa.Store,clearValue:[0,0,0,0]}]});d.setPipeline(i),d.setBindGroup(0,c),d.draw(4,1,0,0),d.end(),s=u}this.device.queue.submit([o.finish()])}}const W8e=V8e,j8e={[N6]:"never",[u3]:"less",[O6]:"equal",[L6]:"less-equal",[D6]:"greater",[$6]:"greater-equal",[U6]:"always",[F6]:"not-equal"},X8e=[0,1,3,2,4,5];class q8e{constructor(e){this.backend=e,this._passUtils=null,this.defaultTexture=null,this.defaultCubeTexture=null}createSampler(e){const n=this.backend,r=n.device,i=n.get(e),o={addressModeU:this._convertAddressMode(e.wrapS),addressModeV:this._convertAddressMode(e.wrapT),addressModeW:this._convertAddressMode(e.wrapR),magFilter:this._convertFilterMode(e.magFilter),minFilter:this._convertFilterMode(e.minFilter),mipmapFilter:this._convertFilterMode(e.minFilter),maxAnisotropy:e.anisotropy};e.isDepthTexture&&e.compareFunction!==null&&(o.compare=j8e[e.compareFunction]),i.sampler=r.createSampler(o)}createDefaultTexture(e){let n;e.isCubeTexture?n=this._getDefaultCubeTextureGPU():n=this._getDefaultTextureGPU(),this.backend.get(e).texture=n}createTexture(e,n={}){const r=this.backend,i=r.get(e);if(i.initialized)throw new Error("WebGPUTextureUtils: Texture already initialized.");n.needsMipmaps===void 0&&(n.needsMipmaps=!1),n.levels===void 0&&(n.levels=1),n.depth===void 0&&(n.depth=1);const{width:o,height:a,depth:s,levels:l}=n,c=this._getDimension(e),u=e.internalFormat||IG(e,this.device),d=n.sampleCount!==void 0?n.sampleCount:1,f=e.isRenderTargetTexture?1:d;let p=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC;e.isStorageTexture===!0&&(p|=GPUTextureUsage.STORAGE_BINDING),e.isCompressedTexture!==!0&&(p|=GPUTextureUsage.RENDER_ATTACHMENT);const y={label:e.name,size:{width:o,height:a,depthOrArrayLayers:s},mipLevelCount:l,sampleCount:f,dimension:c,format:u,usage:p};if(e.isVideoTexture){const b=e.source.data,x=new VideoFrame(b);y.size.width=x.displayWidth,y.size.height=x.displayHeight,x.close(),i.externalTexture=b}else{if(u===void 0)return console.warn("WebGPURenderer: Texture format not supported."),this.createDefaultTexture(e);i.texture=r.device.createTexture(y)}if(e.isRenderTargetTexture&&d>1){const b=Object.assign({},y);b.label=b.label+"-msaa",b.sampleCount=d,i.msaaTexture=r.device.createTexture(b)}i.initialized=!0,i.textureDescriptorGPU=y}destroyTexture(e){const n=this.backend,r=n.get(e);r.texture.destroy(),r.msaaTexture!==void 0&&r.msaaTexture.destroy(),n.delete(e)}destroySampler(e){const r=this.backend.get(e);delete r.sampler}generateMipmaps(e){const n=this.backend.get(e);if(e.isCubeTexture)for(let r=0;r<6;r++)this._generateMipmaps(n.texture,n.textureDescriptorGPU,r);else this._generateMipmaps(n.texture,n.textureDescriptorGPU)}updateTexture(e,n){const r=this.backend.get(e),{textureDescriptorGPU:i}=r;if(!(e.isRenderTargetTexture||i===void 0)){if(e.isDataTexture||e.isDataArrayTexture||e.isData3DTexture)this._copyBufferToTexture(n.image,r.texture,i,0,!1);else if(e.isCompressedTexture)this._copyCompressedBufferToTexture(e.mipmaps,r.texture,i);else if(e.isCubeTexture)this._copyCubeMapToTexture(n.images,r.texture,i,e.flipY);else if(e.isVideoTexture){const o=e.source.data;r.externalTexture=o}else this._copyImageToTexture(n.image,r.texture,i,0,e.flipY);r.version=e.version,e.onUpdate&&e.onUpdate(e)}}async copyTextureToBuffer(e,n,r,i,o){const a=this.backend.device,s=this.backend.get(e),l=s.texture,c=s.textureDescriptorGPU.format,u=this._getBytesPerTexel(c),d=a.createBuffer({size:i*o*u,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),f=a.createCommandEncoder();f.copyTextureToBuffer({texture:l,origin:{x:n,y:r}},{buffer:d,bytesPerRow:i*u},{width:i,height:o});const p=this._getTypedArrayType(c);a.queue.submit([f.finish()]),await d.mapAsync(GPUMapMode.READ);const y=d.getMappedRange();return new p(y)}_isEnvironmentTexture(e){const n=e.mapping;return n===Zc||n===Qc||n===fs||n===Ks}_getDefaultTextureGPU(){let e=this.defaultTexture;if(e===null){const n=new Nr;n.minFilter=Wn,n.magFilter=Wn,this.createTexture(n,{width:1,height:1}),this.defaultTexture=e=n}return this.backend.get(e).texture}_getDefaultCubeTextureGPU(){let e=this.defaultTexture;if(e===null){const n=new Yp;n.minFilter=Wn,n.magFilter=Wn,this.createTexture(n,{width:1,height:1,depth:6}),this.defaultCubeTexture=e=n}return this.backend.get(e).texture}_copyCubeMapToTexture(e,n,r,i){for(let o=0;o<6;o++){const a=e[o],s=i===!0?X8e[o]:o;a.isDataTexture?this._copyBufferToTexture(a.image,n,r,s,i):this._copyImageToTexture(a,n,r,s,i)}}_copyImageToTexture(e,n,r,i,o){this.backend.device.queue.copyExternalImageToTexture({source:e},{texture:n,mipLevel:0,origin:{x:0,y:0,z:i}},{width:e.width,height:e.height,depthOrArrayLayers:1}),o===!0&&this._flipY(n,r,i)}_getPassUtils(){let e=this._passUtils;return e===null&&(this._passUtils=e=new W8e(this.backend.device)),e}_generateMipmaps(e,n,r=0){this._getPassUtils().generateMipmaps(e,n,r)}_flipY(e,n,r=0){this._getPassUtils().flipY(e,n,r)}_copyBufferToTexture(e,n,r,i,o){const a=this.backend.device,s=e.data,l=this._getBytesPerTexel(r.format),c=e.width*l;a.queue.writeTexture({texture:n,mipLevel:0,origin:{x:0,y:0,z:i}},s,{offset:0,bytesPerRow:c},{width:e.width,height:e.height,depthOrArrayLayers:e.depth!==void 0?e.depth:1}),o===!0&&this._flipY(n,r,i)}_copyCompressedBufferToTexture(e,n,r){const i=this.backend.device,o=this._getBlockData(r.format);for(let a=0;a<e.length;a++){const s=e[a],l=s.width,c=s.height,u=Math.ceil(l/o.width)*o.byteLength;i.queue.writeTexture({texture:n,mipLevel:a},s.data,{offset:0,bytesPerRow:u},{width:Math.ceil(l/o.width)*o.width,height:Math.ceil(c/o.width)*o.width,depthOrArrayLayers:1})}}_getBlockData(e){if(e===Ve.BC1RGBAUnorm||e===Ve.BC1RGBAUnormSRGB)return{byteLength:8,width:4,height:4};if(e===Ve.BC2RGBAUnorm||e===Ve.BC2RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===Ve.BC3RGBAUnorm||e===Ve.BC3RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===Ve.BC4RUnorm||e===Ve.BC4RSNorm)return{byteLength:8,width:4,height:4};if(e===Ve.BC5RGUnorm||e===Ve.BC5RGSnorm)return{byteLength:16,width:4,height:4};if(e===Ve.BC6HRGBUFloat||e===Ve.BC6HRGBFloat)return{byteLength:16,width:4,height:4};if(e===Ve.BC7RGBAUnorm||e===Ve.BC7RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===Ve.ETC2RGB8Unorm||e===Ve.ETC2RGB8UnormSRGB)return{byteLength:8,width:4,height:4};if(e===Ve.ETC2RGB8A1Unorm||e===Ve.ETC2RGB8A1UnormSRGB)return{byteLength:8,width:4,height:4};if(e===Ve.ETC2RGBA8Unorm||e===Ve.ETC2RGBA8UnormSRGB)return{byteLength:16,width:4,height:4};if(e===Ve.EACR11Unorm)return{byteLength:8,width:4,height:4};if(e===Ve.EACR11Snorm)return{byteLength:8,width:4,height:4};if(e===Ve.EACRG11Unorm)return{byteLength:16,width:4,height:4};if(e===Ve.EACRG11Snorm)return{byteLength:16,width:4,height:4};if(e===Ve.ASTC4x4Unorm||e===Ve.ASTC4x4UnormSRGB)return{byteLength:16,width:4,height:4};if(e===Ve.ASTC5x4Unorm||e===Ve.ASTC5x4UnormSRGB)return{byteLength:16,width:5,height:4};if(e===Ve.ASTC5x5Unorm||e===Ve.ASTC5x5UnormSRGB)return{byteLength:16,width:5,height:5};if(e===Ve.ASTC6x5Unorm||e===Ve.ASTC6x5UnormSRGB)return{byteLength:16,width:6,height:5};if(e===Ve.ASTC6x6Unorm||e===Ve.ASTC6x6UnormSRGB)return{byteLength:16,width:6,height:6};if(e===Ve.ASTC8x5Unorm||e===Ve.ASTC8x5UnormSRGB)return{byteLength:16,width:8,height:5};if(e===Ve.ASTC8x6Unorm||e===Ve.ASTC8x6UnormSRGB)return{byteLength:16,width:8,height:6};if(e===Ve.ASTC8x8Unorm||e===Ve.ASTC8x8UnormSRGB)return{byteLength:16,width:8,height:8};if(e===Ve.ASTC10x5Unorm||e===Ve.ASTC10x5UnormSRGB)return{byteLength:16,width:10,height:5};if(e===Ve.ASTC10x6Unorm||e===Ve.ASTC10x6UnormSRGB)return{byteLength:16,width:10,height:6};if(e===Ve.ASTC10x8Unorm||e===Ve.ASTC10x8UnormSRGB)return{byteLength:16,width:10,height:8};if(e===Ve.ASTC10x10Unorm||e===Ve.ASTC10x10UnormSRGB)return{byteLength:16,width:10,height:10};if(e===Ve.ASTC12x10Unorm||e===Ve.ASTC12x10UnormSRGB)return{byteLength:16,width:12,height:10};if(e===Ve.ASTC12x12Unorm||e===Ve.ASTC12x12UnormSRGB)return{byteLength:16,width:12,height:12}}_convertAddressMode(e){let n=BS.ClampToEdge;return e===Nd?n=BS.Repeat:e===Od&&(n=BS.MirrorRepeat),n}_convertFilterMode(e){let n=By.Linear;return(e===Wn||e===Ld||e===Dl)&&(n=By.Nearest),n}_getBytesPerTexel(e){if(e===Ve.R8Unorm)return 1;if(e===Ve.R16Float||e===Ve.RG8Unorm)return 2;if(e===Ve.RG16Float||e===Ve.R32Float||e===Ve.RGBA8Unorm||e===Ve.RGBA8UnormSRGB)return 4;if(e===Ve.RG32Float||e===Ve.RGBA16Float)return 8;if(e===Ve.RGBA32Float)return 16}_getTypedArrayType(e){if(e===Ve.R8Uint)return Uint8Array;if(e===Ve.R8Sint)return Int8Array;if(e===Ve.R8Unorm)return Uint8Array;if(e===Ve.R8Snorm)return Int8Array;if(e===Ve.RG8Uint)return Uint8Array;if(e===Ve.RG8Sint)return Int8Array;if(e===Ve.RG8Unorm)return Uint8Array;if(e===Ve.RG8Snorm)return Int8Array;if(e===Ve.RGBA8Uint)return Uint8Array;if(e===Ve.RGBA8Sint)return Int8Array;if(e===Ve.RGBA8Unorm)return Uint8Array;if(e===Ve.RGBA8Snorm)return Int8Array;if(e===Ve.R16Uint)return Uint16Array;if(e===Ve.R16Sint)return Int16Array;if(e===Ve.RG16Uint)return Uint16Array;if(e===Ve.RG16Sint)return Int16Array;if(e===Ve.RGBA16Uint)return Uint16Array;if(e===Ve.RGBA16Sint)return Int16Array;if(e===Ve.R32Uint)return Uint32Array;if(e===Ve.R32Sint)return Int32Array;if(e===Ve.R32Float)return Float32Array;if(e===Ve.RG32Uint)return Uint32Array;if(e===Ve.RG32Sint)return Int32Array;if(e===Ve.RG32Float)return Float32Array;if(e===Ve.RGBA32Uint)return Uint32Array;if(e===Ve.RGBA32Sint)return Int32Array;if(e===Ve.RGBA32Float)return Float32Array}_getDimension(e){let n;return e.isData3DTexture?n=YN.ThreeD:n=YN.TwoD,n}}function IG(t,e=null){const n=t.format,r=t.type,i=t.colorSpace;let o;if(t.isFramebufferTexture===!0)o=Ve.BGRA8Unorm;else if(t.isCompressedTexture===!0)switch(n){case Gc:o=i===$t?Ve.BC1RGBAUnormSRGB:Ve.BC1RGBAUnorm;break;case Vc:o=i===$t?Ve.BC2RGBAUnormSRGB:Ve.BC2RGBAUnorm;break;case Wc:o=i===$t?Ve.BC3RGBAUnormSRGB:Ve.BC3RGBAUnorm;break;case sp:o=i===$t?Ve.ETC2RGB8UnormSRGB:Ve.ETC2RGB8Unorm;break;case lp:o=i===$t?Ve.ETC2RGBA8UnormSRGB:Ve.ETC2RGBA8Unorm;break;case cp:o=i===$t?Ve.ASTC4x4UnormSRGB:Ve.ASTC4x4Unorm;break;case up:o=i===$t?Ve.ASTC5x4UnormSRGB:Ve.ASTC5x4Unorm;break;case dp:o=i===$t?Ve.ASTC5x5UnormSRGB:Ve.ASTC5x5Unorm;break;case fp:o=i===$t?Ve.ASTC6x5UnormSRGB:Ve.ASTC6x5Unorm;break;case hp:o=i===$t?Ve.ASTC6x6UnormSRGB:Ve.ASTC6x6Unorm;break;case pp:o=i===$t?Ve.ASTC8x5UnormSRGB:Ve.ASTC8x5Unorm;break;case mp:o=i===$t?Ve.ASTC8x6UnormSRGB:Ve.ASTC8x6Unorm;break;case gp:o=i===$t?Ve.ASTC8x8UnormSRGB:Ve.ASTC8x8Unorm;break;case vp:o=i===$t?Ve.ASTC10x5UnormSRGB:Ve.ASTC10x5Unorm;break;case yp:o=i===$t?Ve.ASTC10x6UnormSRGB:Ve.ASTC10x6Unorm;break;case xp:o=i===$t?Ve.ASTC10x8UnormSRGB:Ve.ASTC10x8Unorm;break;case Sp:o=i===$t?Ve.ASTC10x10UnormSRGB:Ve.ASTC10x10Unorm;break;case bp:o=i===$t?Ve.ASTC12x10UnormSRGB:Ve.ASTC12x10Unorm;break;case wp:o=i===$t?Ve.ASTC12x12UnormSRGB:Ve.ASTC12x12Unorm;break;default:console.error("WebGPURenderer: Unsupported texture format.",n)}else switch(n){case Qi:switch(r){case Io:o=i===$t?Ve.RGBA8UnormSRGB:Ve.RGBA8Unorm;break;case Ws:o=Ve.RGBA16Float;break;case Xr:o=Ve.RGBA32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RGBAFormat.",r)}break;case ap:switch(r){case Io:o=Ve.R8Unorm;break;case Ws:o=Ve.R16Float;break;case Xr:o=Ve.R32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RedFormat.",r)}break;case T6:switch(r){case Io:o=Ve.RG8Unorm;break;case Ws:o=Ve.RG16Float;break;case Xr:o=Ve.RG32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RGFormat.",r)}break;case Aa:switch(r){case Kp:o=Ve.Depth16Unorm;break;case Ca:o=Ve.Depth24Plus;break;case Xr:o=Ve.Depth32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with DepthFormat.",r)}break;case ps:switch(r){case Ra:o=Ve.Depth24PlusStencil8;break;case Xr:e&&e.features.has(S9.Depth32FloatStencil8)===!1&&console.error('WebGPURenderer: Depth textures with DepthStencilFormat + FloatType can only be used with the "depth32float-stencil8" GPU feature.'),o=Ve.Depth32FloatStencil8;break;default:console.error("WebGPURenderer: Unsupported texture type with DepthStencilFormat.",r)}break;default:console.error("WebGPURenderer: Unsupported texture format.",n)}return o}const K8e=q8e,Y8e=/^[fn]*\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)\s*[\-\>]*\s*([a-z_0-9]+)?/i,Z8e=/[a-z_0-9]+|<(.*?)>+/ig,Q8e={f32:"float"},J8e=t=>{t=t.trim();const e=t.match(Y8e);if(e!==null&&e.length===4){const n=e[2],r=[];let i=null;for(;(i=Z8e.exec(n))!==null;)r.push(i);const o=[];let a=0;for(;a<r.length;){const u=r[a++][0];let d=r[a++][0];d=Q8e[d]||d,a<r.length&&r[a][0].startsWith("<")===!0&&a++,o.push(new pG(d,u))}const s=t.substring(e[0].length),l=e[1]!==void 0?e[1]:"";return{type:e[3]||"void",inputs:o,name:l,inputsCode:n,blockCode:s}}else throw new Error("FunctionNode: Function is not a WGSL code.")};class eSe extends CG{constructor(e){const{type:n,inputs:r,name:i,inputsCode:o,blockCode:a}=J8e(e);super(n,r,i),this.inputsCode=o,this.blockCode=a}getCode(e=this.name){const n=this.type!=="void"?"-> "+this.type:"";return`fn ${e} ( ${this.inputsCode.trim()} ) ${n}`+this.blockCode}}const tSe=eSe;class nSe extends bG{parseFunction(e){return new tSe(e)}}const rSe=nSe,X1={vertex:GPUShaderStage.VERTEX,fragment:GPUShaderStage.FRAGMENT,compute:GPUShaderStage.COMPUTE},iSe={instance:!0},oSe={float:"f32",int:"i32",uint:"u32",bool:"bool",color:"vec3<f32>",vec2:"vec2<f32>",ivec2:"vec2<i32>",uvec2:"vec2<u32>",bvec2:"vec2<bool>",vec3:"vec3<f32>",ivec3:"vec3<i32>",uvec3:"vec3<u32>",bvec3:"vec3<bool>",vec4:"vec4<f32>",ivec4:"vec4<i32>",uvec4:"vec4<u32>",bvec4:"vec4<bool>",mat3:"mat3x3<f32>",imat3:"mat3x3<i32>",umat3:"mat3x3<u32>",bmat3:"mat3x3<bool>",mat4:"mat4x4<f32>",imat4:"mat4x4<i32>",umat4:"mat4x4<u32>",bmat4:"mat4x4<bool>"},aSe={dFdx:"dpdx",dFdy:"- dpdy",mod:"threejs_mod",lessThanEqual:"threejs_lessThanEqual",inversesqrt:"inverseSqrt"},ZN={lessThanEqual:new PS(`
fn threejs_lessThanEqual( a : vec3<f32>, b : vec3<f32> ) -> vec3<bool> {

	return vec3<bool>( a.x <= b.x, a.y <= b.y, a.z <= b.z );

}
`),mod:new PS(`
fn threejs_mod( x : f32, y : f32 ) -> f32 {

	return x - y * floor( x / y );

}
`),repeatWrapping:new PS(`
fn threejs_repeatWrapping( uv : vec2<f32>, dimension : vec2<u32> ) -> vec2<u32> {

	let uvScaled = vec2<u32>( uv * vec2<f32>( dimension ) );

	return ( ( uvScaled % dimension ) + dimension ) % dimension;

}
`)};class sSe extends fG{constructor(e,n,r=null){super(e,n,new rSe,r),this.uniformsGroup={},this.builtins={vertex:new Map,fragment:new Map,compute:new Map,attribute:new Map}}build(){const{object:e,material:n}=this;return n!==null?KE.fromMaterial(n).build(this):this.addFlow("compute",e),super.build()}needsColorSpaceToLinear(e){return e.isVideoTexture===!0&&e.colorSpace!==Oi}_getSampler(e,n,r,i=this.shaderStage){return i==="fragment"?`textureSample( ${n}, ${n}_sampler, ${r} )`:this.getTextureLoad(e,n,r)}_getVideoSampler(e,n,r=this.shaderStage){if(r==="fragment")return`textureSampleBaseClampToEdge( ${e}, ${e}_sampler, vec2<f32>( ${n}.x, 1.0 - ${n}.y ) )`;console.error(`WebGPURenderer: THREE.VideoTexture does not support ${r} shader.`)}_getSamplerLevel(e,n,r,i,o=this.shaderStage){return o==="fragment"&&this.isUnfilterable(e)===!1?`textureSampleLevel( ${n}, ${n}_sampler, ${r}, ${i} )`:this.getTextureLoad(e,n,r,i)}getTextureLoad(e,n,r,i="0"){this._include("repeatWrapping");const o=`textureDimensions( ${n}, 0 )`;return`textureLoad( ${n}, threejs_repeatWrapping( ${r}, ${o} ), i32( ${i} ) )`}isUnfilterable(e){return e.isDataTexture===!0&&e.type===Xr}getTexture(e,n,r,i=this.shaderStage){let o=null;return e.isVideoTexture===!0?o=this._getVideoSampler(n,r,i):this.isUnfilterable(e)?o=this.getTextureLoad(e,n,r):o=this._getSampler(e,n,r,i),o}getTextureCompare(e,n,r,i,o=this.shaderStage){if(o==="fragment")return`textureSampleCompare( ${n}, ${n}_sampler, ${r}, ${i} )`;console.error(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${o} shader.`)}getTextureLevel(e,n,r,i,o=this.shaderStage){let a=null;return e.isVideoTexture===!0?a=this._getVideoSampler(n,r,o):a=this._getSamplerLevel(e,n,r,i,o),a}getPropertyName(e,n=this.shaderStage){if(e.isNodeVarying===!0&&e.needsInterpolation===!0){if(n==="vertex")return`NodeVaryings.${e.name}`}else if(e.isNodeUniform===!0){const r=e.name,i=e.type;return i==="texture"||i==="cubeTexture"?r:i==="buffer"||i==="storageBuffer"?`NodeBuffer_${e.node.id}.${r}`:`NodeUniforms.${r}`}return super.getPropertyName(e)}getUniformFromNode(e,n,r,i=null){const o=super.getUniformFromNode(e,n,r,i),a=this.getDataFromNode(e,r);if(a.uniformGPU===void 0){let s;const l=this.bindings[r];if(n==="texture"||n==="cubeTexture"){let c=null;n==="texture"?c=new e_(o.name,o.node):n==="cubeTexture"&&(c=new AG(o.name,o.node)),c.store=e.isStoreTextureNode===!0,c.setVisibility(X1[r]);const u=l[l.length-1],d=u&&u.isUniformsGroup?l.length-1:l.length;if(r==="fragment"&&this.isUnfilterable(e.value)===!1&&c.store===!1){const f=new z8e(`${o.name}_sampler`,o.node);f.setVisibility(X1[r]),l.splice(d,0,f,c),s=[f,c]}else l.splice(d,0,c),s=[c]}else if(n==="buffer"||n==="storageBuffer"){const c=n==="storageBuffer"?G8e:MG,u=new c("NodeBuffer_"+e.id,e.value);u.setVisibility(X1[r]);const d=l[l.length-1],f=d&&d.isUniformsGroup?l.length-1:l.length;l.splice(f,0,u),s=u}else{let c=this.uniformsGroup[r];if(c===void 0&&(c=new RG("nodeUniforms"),c.setVisibility(X1[r]),this.uniformsGroup[r]=c,l.push(c)),e.isArrayUniformNode===!0){s=[];for(const u of e.nodes){const d=this.getNodeUniform(u,n);d.boundary=f8e(d.itemSize),d.itemSize=_G(d.itemSize),c.addUniform(d),s.push(d)}}else s=this.getNodeUniform(o,n),c.addUniform(s)}a.uniformGPU=s,r==="vertex"&&(this.bindingsOffset.fragment=l.length)}return o}isReference(e){return super.isReference(e)||e==="texture_2d"||e==="texture_cube"||e==="texture_storage_2d"}getBuiltin(e,n,r,i=this.shaderStage){const o=this.builtins[i];return o.has(e)===!1&&o.set(e,{name:e,property:n,type:r}),n}getVertexIndex(){return this.shaderStage==="vertex"?this.getBuiltin("vertex_index","vertexIndex","u32","attribute"):"vertexIndex"}getInstanceIndex(){return this.shaderStage==="vertex"?this.getBuiltin("instance_index","instanceIndex","u32","attribute"):"instanceIndex"}getFrontFacing(){return this.getBuiltin("front_facing","isFront","bool")}getFragCoord(){return this.getBuiltin("position","fragCoord","vec4<f32>","fragment")}isFlipY(){return!1}getAttributes(e){const n=[];if(e==="compute"&&this.getBuiltin("global_invocation_id","id","vec3<u32>","attribute"),e==="vertex"||e==="compute"){for(const{name:i,property:o,type:a}of this.builtins.attribute.values())n.push(`@builtin( ${i} ) ${o} : ${a}`);const r=this.getAttributesArray();for(let i=0,o=r.length;i<o;i++){const a=r[i],s=a.name,l=this.getType(a.type);n.push(`@location( ${i} ) ${s} : ${l}`)}}return n.join(`,
	`)}getStructMembers(e){const n=[],r=e.getMemberTypes();for(let i=0;i<r.length;i++){const o=r[i];n.push(`	@location( ${i} ) m${i} : ${o}<f32>`)}return n.join(`,
`)}getStructs(e){const n=[],r=this.structs[e];for(let i=0,o=r.length;i<o;i++){const a=r[i];let l=`struct ${a.name} {
`;l+=this.getStructMembers(a),l+=`
}`,n.push(l)}return n.join(`

`)}getVar(e,n){return`var ${n} : ${this.getType(e)}`}getVars(e){const n=[],r=this.vars[e];for(const i of r)n.push(`	${this.getVar(i.type,i.name)};`);return`
${n.join(`
`)}
`}getVaryings(e){const n=[];if(e==="vertex"&&this.getBuiltin("position","Vertex","vec4<f32>","vertex"),e==="vertex"||e==="fragment"){const i=this.varyings,o=this.vars[e];for(let a=0;a<i.length;a++){const s=i[a];if(s.needsInterpolation){let l=`@location( ${a} )`;(s.type==="int"||s.type==="uint")&&(l+=" @interpolate( flat )"),n.push(`${l} ${s.name} : ${this.getType(s.type)}`)}else e==="vertex"&&o.includes(s)===!1&&o.push(s)}}for(const{name:i,property:o,type:a}of this.builtins[e].values())n.push(`@builtin( ${i} ) ${o} : ${a}`);const r=n.join(`,
	`);return e==="vertex"?this._getWGSLStruct("NodeVaryingsStruct","	"+r):r}getUniforms(e){const n=this.uniforms[e],r=[],i=[],o=[];let a=this.bindingsOffset[e];for(const l of n)if(l.type==="texture"||l.type==="cubeTexture"){const c=l.node.value;e==="fragment"&&this.isUnfilterable(c)===!1&&l.node.isStoreTextureNode!==!0&&(c.isDepthTexture===!0&&c.compareFunction!==null?r.push(`@binding( ${a++} ) @group( 0 ) var ${l.name}_sampler : sampler_comparison;`):r.push(`@binding( ${a++} ) @group( 0 ) var ${l.name}_sampler : sampler;`));let u;c.isCubeTexture===!0?u="texture_cube<f32>":c.isDepthTexture===!0?u="texture_depth_2d":c.isVideoTexture===!0?u="texture_external":l.node.isStoreTextureNode===!0?u="texture_storage_2d<"+IG(c)+", write>":u="texture_2d<f32>",r.push(`@binding( ${a++} ) @group( 0 ) var ${l.name} : ${u};`)}else if(l.type==="buffer"||l.type==="storageBuffer"){const c=l.node,u=this.getType(c.bufferType),d=c.bufferCount,f=d>0?", "+d:"",p=`	${l.name} : array< ${u}${f} >
`,y=c.isStorageBufferNode?"storage,read_write":"uniform";i.push(this._getWGSLStructBinding("NodeBuffer_"+c.id,p,y,a++))}else{const c=this.getType(this.getVectorType(l.type));if(Array.isArray(l.value)===!0){const u=l.value.length;o.push(`uniform ${c}[ ${u} ] ${l.name}`)}else o.push(`	${l.name} : ${c}`)}let s=r.join(`
`);return s+=i.join(`
`),o.length>0&&(s+=this._getWGSLStructBinding("NodeUniforms",o.join(`,
`),"uniform",a++)),s}buildCode(){const e=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};for(const n in e){let r=`// code

`;r+=this.flowCode[n];const i=this.flowNodes[n],o=i[i.length-1];for(const l of i){const c=this.getFlowData(l),u=l.name;u&&(r.length>0&&(r+=`
`),r+=`	// flow -> ${u}
	`),r+=`${c.code}
	`,l===o&&n!=="compute"&&(r+=`// result
	`,n==="vertex"?r+="NodeVaryings.Vertex = ":n==="fragment"&&(r+="return "),r+=`${c.result};`)}const a=o.outputNode,s=e[n];s.uniforms=this.getUniforms(n),s.attributes=this.getAttributes(n),s.varyings=this.getVaryings(n),s.structs=this.getStructs(n),s.vars=this.getVars(n),s.codes=this.getCodes(n),s.returnType=a!==void 0&&a.isOutputStructNode===!0?a.nodeType:"@location( 0 ) vec4<f32>",s.flow=r}this.material!==null?(this.vertexShader=this._getWGSLVertexCode(e.vertex),this.fragmentShader=this._getWGSLFragmentCode(e.fragment)):this.computeShader=this._getWGSLComputeCode(e.compute,(this.object.workgroupSize||[64]).join(", "))}getMethod(e){return ZN[e]!==void 0&&this._include(e),aSe[e]||e}getType(e){return oSe[e]||e}isAvailable(e){return iSe[e]===!0}_include(e){ZN[e].build(this)}_getWGSLVertexCode(e){return`${this.getSignature()}

// uniforms
${e.uniforms}

// varyings
${e.varyings}

// codes
${e.codes}

@vertex
fn main( ${e.attributes} ) -> NodeVaryingsStruct {

	// system
	var NodeVaryings: NodeVaryingsStruct;

	// vars
	${e.vars}

	// flow
	${e.flow}

	return NodeVaryings;

}
`}_getWGSLFragmentCode(e){return`${this.getSignature()}

// uniforms
${e.uniforms}

// structs
${e.structs}

// codes
${e.codes}

@fragment
fn main( ${e.varyings} ) -> ${e.returnType} {

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}_getWGSLComputeCode(e,n){return`${this.getSignature()}
// system
var<private> instanceIndex : u32;

// uniforms
${e.uniforms}

// codes
${e.codes}

@compute @workgroup_size( ${n} )
fn main( ${e.attributes} ) {

	// system
	instanceIndex = id.x;

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}_getWGSLStruct(e,n){return`
struct ${e} {
${n}
};`}_getWGSLStructBinding(e,n,r,i=0,o=0){const a=e+"Struct";return`${this._getWGSLStruct(a,n)}
@binding( ${i} ) @group( ${o} )
var<${r}> ${e} : ${a};`}}const lSe=sSe;class cSe{constructor(e){this.backend=e}getCurrentDepthStencilFormat(e){let n;return e.depthTexture!==null?n=this.getTextureFormatGPU(e.depthTexture):e.depth&&e.stencil?n=Ve.Depth24PlusStencil8:e.depth&&(n=Ve.Depth24Plus),n}getTextureFormatGPU(e){return this.backend.get(e).texture.format}getCurrentColorFormat(e){let n;return e.textures!==null?n=this.getTextureFormatGPU(e.textures[0]):n=Ve.BGRA8Unorm,n}getCurrentColorSpace(e){return e.textures!==null?e.textures[0].colorSpace:this.backend.renderer.outputColorSpace}getPrimitiveTopology(e,n){if(e.isPoints)return Mh.PointList;if(e.isLineSegments||e.isMesh&&n.wireframe===!0)return Mh.LineList;if(e.isLine)return Mh.LineStrip;if(e.isMesh)return Mh.TriangleList}getSampleCount(e){return e.textures!==null?e.sampleCount:this.backend.parameters.sampleCount}}const uSe=cSe,dSe=new Map([[Int8Array,["sint8","snorm8"]],[Uint8Array,["uint8","unorm8"]],[Int16Array,["sint16","snorm16"]],[Uint16Array,["uint16","unorm16"]],[Int32Array,["sint32","snorm32"]],[Uint32Array,["uint32","unorm32"]],[Float32Array,["float32"]]]),fSe=new Map([[tE,["float16"]]]),hSe=new Map([[Int32Array,"sint32"],[Uint32Array,"uint32"],[Float32Array,"float32"]]);class pSe{constructor(e){this.backend=e}createAttribute(e,n){const r=this._getBufferAttribute(e),i=this.backend,o=i.get(r);let a=o.buffer;if(a===void 0){const s=i.device,l=r.array,c=l.byteLength+(4-l.byteLength%4)%4;a=s.createBuffer({label:r.name,size:c,usage:n,mappedAtCreation:!0}),new l.constructor(a.getMappedRange()).set(l),a.unmap(),o.buffer=a}}updateAttribute(e){const n=this._getBufferAttribute(e),r=this.backend,i=r.device,o=r.get(n).buffer,a=n.array,s=n.updateRange;s.count===-1?i.queue.writeBuffer(o,0,a,0):(i.queue.writeBuffer(o,0,a,s.offset*a.BYTES_PER_ELEMENT,s.count*a.BYTES_PER_ELEMENT),s.count=-1)}createShaderVertexBuffers(e){const n=e.getAttributes(),r=new Map;for(let i=0;i<n.length;i++){const o=n[i],a=o.array.BYTES_PER_ELEMENT,s=this._getBufferAttribute(o);let l=r.get(s);if(l===void 0){let d,f;o.isInterleavedBufferAttribute===!0?(d=o.data.stride*a,f=o.data.isInstancedInterleavedBuffer?j1.Instance:j1.Vertex):(d=o.itemSize*a,f=o.isInstancedBufferAttribute?j1.Instance:j1.Vertex),l={arrayStride:d,attributes:[],stepMode:f},r.set(s,l)}const c=this._getVertexFormat(o),u=o.isInterleavedBufferAttribute===!0?o.offset*a:0;l.attributes.push({shaderLocation:i,offset:u,format:c})}return Array.from(r.values())}destroyAttribute(e){const n=this.backend;n.get(this._getBufferAttribute(e)).buffer.destroy(),n.delete(e)}async getArrayBufferAsync(e){const n=this.backend,r=n.device,i=n.get(this._getBufferAttribute(e)),o=i.buffer,a=o.size;let s=i.readBuffer,l=!0;s===void 0&&(s=r.createBuffer({label:e.name,size:a,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),l=!1,i.readBuffer=s);const c=r.createCommandEncoder({});c.copyBufferToBuffer(o,0,s,0,a),l&&s.unmap();const u=c.finish();return r.queue.submit([u]),await s.mapAsync(GPUMapMode.READ),s.getMappedRange()}_getVertexFormat(e){const{itemSize:n,normalized:r}=e,i=e.array.constructor,o=e.constructor;let a;if(n==1)a=hSe.get(i);else{const l=(fSe.get(o)||dSe.get(i))[r?1:0];if(l){const c=i.BYTES_PER_ELEMENT*n,d=Math.floor((c+3)/4)*4/i.BYTES_PER_ELEMENT;if(d%1)throw new Error("THREE.WebGPUAttributeUtils: Bad vertex format item size.");a=`${l}x${d}`}}return a||console.error("THREE.WebGPUAttributeUtils: Vertex format not supported yet."),a}_getBufferAttribute(e){return e.isInterleavedBufferAttribute&&(e=e.data),e}}const mSe=pSe;class gSe{constructor(e){this.backend=e}createBindingsLayout(e){const r=this.backend.device,i=[];let o=0;for(const a of e){const s={binding:o++,visibility:a.visibility};if(a.isUniformBuffer||a.isStorageBuffer){const l={};a.isStorageBuffer&&(l.type=F8e.Storage),s.buffer=l}else if(a.isSampler){const l={};a.texture.isDepthTexture&&a.texture.compareFunction!==null&&(l.type="comparison"),s.sampler=l}else if(a.isSampledTexture&&a.texture.isVideoTexture)s.externalTexture={};else if(a.isSampledTexture&&a.store){const l=this.backend.get(a.texture).texture.format;s.storageTexture={format:l}}else if(a.isSampledTexture){const l={};a.texture.isDepthTexture?l.sampleType=KN.Depth:a.texture.isDataTexture&&a.texture.type===Xr&&(l.sampleType=KN.UnfilterableFloat),a.isSampledCubeTexture&&(l.viewDimension=Nc.Cube),s.texture=l}else console.error('WebGPUBindingUtils: Unsupported binding "${ binding }".');i.push(s)}return r.createBindGroupLayout({entries:i})}createBindings(e){const r=this.backend.get(e),i=this.createBindingsLayout(e),o=this.createBindGroup(e,i);r.layout=i,r.group=o,r.bindings=e}updateBinding(e){const n=this.backend,r=n.device,i=e.buffer,o=n.get(e).buffer;r.queue.writeBuffer(o,0,i,0)}createBindGroup(e,n){const r=this.backend,i=r.device;let o=0;const a=[];for(const s of e){if(s.isUniformBuffer){const l=r.get(s);if(l.buffer===void 0){const c=s.byteLength,u=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,d=i.createBuffer({label:"bindingBuffer",size:c,usage:u});l.buffer=d}a.push({binding:o,resource:{buffer:l.buffer}})}else if(s.isStorageBuffer){const l=r.get(s);if(l.buffer===void 0){const c=s.attribute;l.buffer=r.get(c).buffer}a.push({binding:o,resource:{buffer:l.buffer}})}else if(s.isSampler){const l=r.get(s.texture);a.push({binding:o,resource:l.sampler})}else if(s.isSampledTexture){const l=r.get(s.texture);let c;s.isSampledCubeTexture?c=Nc.Cube:c=Nc.TwoD;let u;if(l.externalTexture!==void 0)u=i.importExternalTexture({source:l.externalTexture});else{const d=$8e.All;u=l.texture.createView({aspect:d,dimension:c})}a.push({binding:o,resource:u})}o++}return i.createBindGroup({layout:n,entries:a})}}const vSe=gSe;class ySe{constructor(e){this.backend=e}createRenderPipeline(e){const{object:n,material:r,geometry:i,pipeline:o}=e,{vertexProgram:a,fragmentProgram:s}=o,l=this.backend,c=l.device,u=l.utils,d=l.get(o),f=l.get(e.getBindings()),p=l.attributeUtils.createShaderVertexBuffers(e);let y;r.transparent===!0&&r.blending!==Yo&&(y=this._getBlending(r));let b={};r.stencilWrite===!0&&(b={compare:this._getStencilCompare(r),failOp:this._getStencilOperation(r.stencilFail),depthFailOp:this._getStencilOperation(r.stencilZFail),passOp:this._getStencilOperation(r.stencilZPass)});const x=this._getColorWriteMask(r),v=[];if(e.context.textures!==null){const I=e.context.textures;for(let R=0;R<I.length;R++){const P=u.getTextureFormatGPU(I[R]);v.push({format:P,blend:y,writeMask:x})}}else{const I=u.getCurrentColorFormat(e.context);v.push({format:I,blend:y,writeMask:x})}const w=l.get(a).module,S=l.get(s).module,C=this._getPrimitiveState(n,i,r),_=this._getDepthCompare(r),T=u.getCurrentDepthStencilFormat(e.context),M=u.getSampleCount(e.context);d.pipeline=c.createRenderPipeline({vertex:Object.assign({},w,{buffers:p}),fragment:Object.assign({},S,{targets:v}),primitive:C,depthStencil:{format:T,depthWriteEnabled:r.depthWrite,depthCompare:_,stencilFront:b,stencilBack:{},stencilReadMask:r.stencilFuncMask,stencilWriteMask:r.stencilWriteMask},multisample:{count:M,alphaToCoverageEnabled:r.alphaToCoverage},layout:c.createPipelineLayout({bindGroupLayouts:[f.layout]})})}createComputePipeline(e,n){const r=this.backend,i=r.device,o=r.get(e.computeProgram).module,a=r.get(e),s=r.get(n);a.pipeline=i.createComputePipeline({compute:o,layout:i.createPipelineLayout({bindGroupLayouts:[s.layout]})})}_getBlending(e){let n,r;const i=e.blending;if(i===e6){const o=e.blendSrcAlpha!==null?e.blendSrcAlpha:Qt.One,a=e.blendDstAlpha!==null?e.blendDstAlpha:Qt.Zero,s=e.blendEquationAlpha!==null?e.blendEquationAlpha:Qt.Add;n={srcFactor:this._getBlendFactor(e.blendSrc),dstFactor:this._getBlendFactor(e.blendDst),operation:this._getBlendOperation(e.blendEquation)},r={srcFactor:this._getBlendFactor(o),dstFactor:this._getBlendFactor(a),operation:this._getBlendOperation(s)}}else{const o=e.premultipliedAlpha,a=(s,l,c,u)=>{n={srcFactor:s,dstFactor:l,operation:Ou.Add},r={srcFactor:c,dstFactor:u,operation:Ou.Add}};if(o)switch(i){case Ma:a(Qt.SrcAlpha,Qt.OneMinusSrcAlpha,Qt.One,Qt.OneMinusSrcAlpha);break;case Ad:a(Qt.SrcAlpha,Qt.One,Qt.One,Qt.One);break;case Pd:a(Qt.Zero,Qt.OneMinusSrc,Qt.Zero,Qt.One);break;case Id:a(Qt.Zero,Qt.Src,Qt.Zero,Qt.SrcAlpha);break}else switch(i){case Ma:a(Qt.SrcAlpha,Qt.OneMinusSrcAlpha,Qt.One,Qt.OneMinusSrcAlpha);break;case Ad:a(Qt.SrcAlpha,Qt.One,Qt.SrcAlpha,Qt.One);break;case Pd:a(Qt.Zero,Qt.OneMinusSrc,Qt.Zero,Qt.One);break;case Id:a(Qt.Zero,Qt.Src,Qt.Zero,Qt.Src);break}}if(n!==void 0&&r!==void 0)return{color:n,alpha:r};console.error("THREE.WebGPURenderer: Invalid blending: ",i)}_getBlendFactor(e){let n;switch(e){case r6:n=Qt.Zero;break;case i6:n=Qt.One;break;case o6:n=Qt.Src;break;case a6:n=Qt.OneMinusSrc;break;case a3:n=Qt.SrcAlpha;break;case s3:n=Qt.OneMinusSrcAlpha;break;case c6:n=Qt.Dst;break;case u6:n=Qt.OneMinusDstColor;break;case s6:n=Qt.DstAlpha;break;case l6:n=Qt.OneMinusDstAlpha;break;case d6:n=Qt.SrcAlphaSaturated;break;case $ye:n=Qt.Constant;break;case Uye:n=Qt.OneMinusConstant;break;default:console.error("THREE.WebGPURenderer: Blend factor not supported.",e)}return n}_getStencilCompare(e){let n;const r=e.stencilFunc;switch(r){case cB:n=Pi.Never;break;case KC:n=Pi.Always;break;case uB:n=Pi.Less;break;case fB:n=Pi.LessEqual;break;case dB:n=Pi.Equal;break;case mB:n=Pi.GreaterEqual;break;case hB:n=Pi.Greater;break;case pB:n=Pi.NotEqual;break;default:console.error("THREE.WebGPURenderer: Invalid stencil function.",r)}return n}_getStencilOperation(e){let n;switch(e){case Rm:n=yc.Keep;break;case nB:n=yc.Zero;break;case rB:n=yc.Replace;break;case lB:n=yc.Invert;break;case iB:n=yc.IncrementClamp;break;case oB:n=yc.DecrementClamp;break;case aB:n=yc.IncrementWrap;break;case sB:n=yc.DecrementWrap;break;default:console.error("THREE.WebGPURenderer: Invalid stencil operation.",n)}return n}_getBlendOperation(e){let n;switch(e){case jo:n=Ou.Add;break;case t6:n=Ou.Subtract;break;case n6:n=Ou.ReverseSubtract;break;case Py:n=Ou.Min;break;case Iy:n=Ou.Max;break;default:console.error("THREE.WebGPUPipelineUtils: Blend equation not supported.",e)}return n}_getPrimitiveState(e,n,r){const i={},o=this.backend.utils;if(i.topology=o.getPrimitiveTopology(e,r),e.isLine===!0&&e.isLineSegments!==!0){const a=n.index?n.index.count:n.attributes.position.count;i.stripIndexFormat=a>65535?Lp.Uint32:Lp.Uint16}switch(r.side){case ds:i.frontFace=US.CCW,i.cullMode=kS.Back;break;case Kr:i.frontFace=US.CCW,i.cullMode=kS.Front;break;case co:i.frontFace=US.CCW,i.cullMode=kS.None;break;default:console.error("THREE.WebGPUPipelineUtils: Unknown material.side value.",r.side);break}return i}_getColorWriteMask(e){return e.colorWrite===!0?qN.All:qN.None}_getDepthCompare(e){let n;if(e.depthTest===!1)n=Pi.Always;else{const r=e.depthFunc;switch(r){case f6:n=Pi.Never;break;case h6:n=Pi.Always;break;case p6:n=Pi.Less;break;case op:n=Pi.LessEqual;break;case m6:n=Pi.Equal;break;case g6:n=Pi.GreaterEqual;break;case v6:n=Pi.Greater;break;case y6:n=Pi.NotEqual;break;default:console.error("THREE.WebGPUPipelineUtils: Invalid depth function.",r)}}return n}}const xSe=ySe;let NG=null;navigator.gpu!==void 0&&(NG=await navigator.gpu.requestAdapter());class SSe extends PG{constructor(e={}){super(e),this.parameters.antialias=e.antialias===!0,this.parameters.antialias===!0?this.parameters.sampleCount=e.sampleCount===void 0?4:e.sampleCount:this.parameters.sampleCount=1,this.parameters.requiredLimits=e.requiredLimits===void 0?{}:e.requiredLimits,this.adapter=null,this.device=null,this.context=null,this.colorBuffer=null,this.defaultDepthTexture=new m3,this.defaultDepthTexture.name="depthBuffer",this.utils=new uSe(this),this.attributeUtils=new mSe(this),this.bindingUtils=new vSe(this),this.pipelineUtils=new xSe(this),this.textureUtils=new K8e(this),this.occludedResolveCache=new Map}async init(e){await super.init(e);const n=this.parameters,r={powerPreference:n.powerPreference},i=await navigator.gpu.requestAdapter(r);if(i===null)throw new Error("WebGPUBackend: Unable to create WebGPU adapter.");const o=Object.values(S9),a=[];for(const u of o)i.features.has(u)&&a.push(u);const s={requiredFeatures:a,requiredLimits:n.requiredLimits},l=await i.requestDevice(s),c=n.context!==void 0?n.context:e.domElement.getContext("webgpu");this.adapter=i,this.device=l,this.context=c,this.updateSize()}get coordinateSystem(){return Ep}async getArrayBufferAsync(e){return await this.attributeUtils.getArrayBufferAsync(e)}beginRender(e){const n=this.get(e),r=this.device,i=e.occlusionQueryCount;let o;i>0&&(n.currentOcclusionQuerySet&&n.currentOcclusionQuerySet.destroy(),n.currentOcclusionQueryBuffer&&n.currentOcclusionQueryBuffer.destroy(),n.currentOcclusionQuerySet=n.occlusionQuerySet,n.currentOcclusionQueryBuffer=n.occlusionQueryBuffer,n.currentOcclusionQueryObjects=n.occlusionQueryObjects,o=r.createQuerySet({type:"occlusion",count:i}),n.occlusionQuerySet=o,n.occlusionQueryIndex=0,n.occlusionQueryObjects=new Array(i),n.lastOcclusionObject=null);const a={colorAttachments:[{view:null}],depthStencilAttachment:{view:null},occlusionQuerySet:o},s=a.colorAttachments[0],l=a.depthStencilAttachment,c=this.parameters.antialias;if(e.textures!==null){const f=e.textures;a.colorAttachments=[];const p=a.colorAttachments;for(let b=0;b<f.length;b++){const x=this.get(f[b]),v=x.texture.createView({baseMipLevel:e.activeMipmapLevel,mipLevelCount:1,baseArrayLayer:e.activeCubeFace,dimension:Nc.TwoD});let w,S;x.msaaTexture!==void 0?(w=x.msaaTexture.createView(),S=v):(w=v,S=void 0),p.push({view:w,resolveTarget:S,loadOp:ei.Load,storeOp:Wa.Store})}const y=this.get(e.depthTexture);l.view=y.texture.createView(),e.stencil&&e.depthTexture.format===Aa&&(e.stencil=!1)}else c===!0?(s.view=this.colorBuffer.createView(),s.resolveTarget=this.context.getCurrentTexture().createView()):(s.view=this.context.getCurrentTexture().createView(),s.resolveTarget=void 0),l.view=this._getDepthBufferGPU(e).createView();if(e.textures!==null){const f=a.colorAttachments;for(let p=0;p<f.length;p++){const y=f[p];e.clearColor?(y.clearValue=e.clearColorValue,y.loadOp=ei.Clear,y.storeOp=Wa.Store):(y.loadOp=ei.Load,y.storeOp=Wa.Store)}}else e.clearColor?(s.clearValue=e.clearColorValue,s.loadOp=ei.Clear,s.storeOp=Wa.Store):(s.loadOp=ei.Load,s.storeOp=Wa.Store);e.depth&&(e.clearDepth?(l.depthClearValue=e.clearDepthValue,l.depthLoadOp=ei.Clear,l.depthStoreOp=Wa.Store):(l.depthLoadOp=ei.Load,l.depthStoreOp=Wa.Store)),e.stencil&&(e.clearStencil?(l.stencilClearValue=e.clearStencilValue,l.stencilLoadOp=ei.Clear,l.stencilStoreOp=Wa.Store):(l.stencilLoadOp=ei.Load,l.stencilStoreOp=Wa.Store));const u=r.createCommandEncoder({label:"renderContext_"+e.id}),d=u.beginRenderPass(a);if(n.descriptor=a,n.encoder=u,n.currentPass=d,n.currentSets={attributes:{}},e.viewport&&this.updateViewport(e),e.scissor){const{x:f,y:p,width:y,height:b}=e.scissorValue;d.setScissorRect(f,e.height-b-p,y,b)}}finishRender(e){const n=this.get(e),r=e.occlusionQueryCount;if(r>n.occlusionQueryIndex&&n.currentPass.endOcclusionQuery(),n.currentPass.end(),r>0){const i=r*8;let o=this.occludedResolveCache.get(i);o===void 0&&(o=this.device.createBuffer({size:i,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),this.occludedResolveCache.set(i,o));const a=this.device.createBuffer({size:i,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});n.encoder.resolveQuerySet(n.occlusionQuerySet,0,r,o,0),n.encoder.copyBufferToBuffer(o,0,a,0,i),n.occlusionQueryBuffer=a,this.resolveOccludedAsync(e)}if(this.device.queue.submit([n.encoder.finish()]),e.textures!==null){const i=e.textures;for(let o=0;o<i.length;o++){const a=i[o];a.generateMipmaps===!0&&this.textureUtils.generateMipmaps(a)}}}isOccluded(e,n){const r=this.get(e);return r.occluded&&r.occluded.has(n)}async resolveOccludedAsync(e){const n=this.get(e),{currentOcclusionQueryBuffer:r,currentOcclusionQueryObjects:i}=n;if(r&&i){const o=new WeakSet;n.currentOcclusionQueryObjects=null,n.currentOcclusionQueryBuffer=null,await r.mapAsync(GPUMapMode.READ);const a=r.getMappedRange(),s=new BigUint64Array(a);for(let l=0;l<i.length;l++)s[l]!==0n&&o.add(i[l]);r.destroy(),n.occluded=o}}updateViewport(e){const{currentPass:n}=this.get(e);let{x:r,y:i,width:o,height:a,minDepth:s,maxDepth:l}=e.viewportValue;n.setViewport(r,e.height-a-i,o,a,s,l)}clear(e,n,r,i){const o=this.device,a=this.get(e),{descriptor:s}=a;r=r&&e.depth,i=i&&e.stencil;const l=s.colorAttachments[0],c=s.depthStencilAttachment;this.parameters.antialias===!0?(l.view=this.colorBuffer.createView(),l.resolveTarget=this.context.getCurrentTexture().createView()):(l.view=this.context.getCurrentTexture().createView(),l.resolveTarget=void 0),s.depthStencilAttachment.view=this._getDepthBufferGPU(e).createView(),n?(l.loadOp=ei.Clear,l.clearValue=e.clearColorValue):l.loadOp=ei.Load,r?(c.depthLoadOp=ei.Clear,c.depthClearValue=e.clearDepthValue):c.depthLoadOp=ei.Load,i?(c.stencilLoadOp=ei.Clear,c.stencilClearValue=e.clearStencilValue):c.stencilLoadOp=ei.Load,a.encoder=o.createCommandEncoder({}),a.currentPass=a.encoder.beginRenderPass(s),a.currentPass.end(),o.queue.submit([a.encoder.finish()])}beginCompute(e){const n=this.get(e);n.cmdEncoderGPU=this.device.createCommandEncoder({}),n.passEncoderGPU=n.cmdEncoderGPU.beginComputePass()}compute(e,n,r,i){const{passEncoderGPU:o}=this.get(e),a=this.get(i).pipeline;o.setPipeline(a);const s=this.get(r).group;o.setBindGroup(0,s),o.dispatchWorkgroups(n.dispatchCount)}finishCompute(e){const n=this.get(e);n.passEncoderGPU.end(),this.device.queue.submit([n.cmdEncoderGPU.finish()])}draw(e,n){const{object:r,geometry:i,context:o,pipeline:a}=e,s=this.get(e.getBindings()),l=this.get(o),c=this.get(a).pipeline,u=l.currentSets,d=l.currentPass;u.pipeline!==c&&(d.setPipeline(c),u.pipeline=c);const f=s.group;d.setBindGroup(0,f);const p=e.getIndex(),y=p!==null;if(y===!0&&u.index!==p){const S=this.get(p).buffer,C=p.array instanceof Uint16Array?Lp.Uint16:Lp.Uint32;d.setIndexBuffer(S,C),u.index=p}const b=e.getVertexBuffers();for(let S=0,C=b.length;S<C;S++){const _=b[S];if(u.attributes[S]!==_){const T=this.get(_).buffer;d.setVertexBuffer(S,T),u.attributes[S]=_}}if(l.occlusionQuerySet!==void 0){const S=l.lastOcclusionObject;S!==r&&(S!==null&&S.occlusionTest===!0&&(d.endOcclusionQuery(),l.occlusionQueryIndex++),r.occlusionTest===!0&&(d.beginOcclusionQuery(l.occlusionQueryIndex),l.occlusionQueryObjects[l.occlusionQueryIndex]=r),l.lastOcclusionObject=r)}const x=i.drawRange,v=x.start,w=this.getInstanceCount(e);if(w!==0)if(y===!0){const S=x.count!==1/0?x.count:p.count;d.drawIndexed(S,w,v,0,0),n.update(r,S,w)}else{const S=i.attributes.position,C=x.count!==1/0?x.count:S.count;d.draw(C,w,v,0),n.update(r,C,w)}}needsUpdate(e){const n=this.get(e),{object:r,material:i}=e,o=this.utils,a=o.getSampleCount(e.context),s=o.getCurrentColorSpace(e.context),l=o.getCurrentColorFormat(e.context),c=o.getCurrentDepthStencilFormat(e.context),u=o.getPrimitiveTopology(r,i);let d=!1;return(n.sampleCount!==a||n.colorSpace!==s||n.colorFormat!==l||n.depthStencilFormat!==c||n.primitiveTopology!==u)&&(n.sampleCount=a,n.colorSpace=s,n.colorFormat=l,n.depthStencilFormat=c,n.primitiveTopology=u,d=!0),d}getCacheKey(e){const{object:n,material:r}=e,i=this.utils,o=e.context;return[i.getSampleCount(o),i.getCurrentColorSpace(o),i.getCurrentColorFormat(o),i.getCurrentDepthStencilFormat(o),i.getPrimitiveTopology(n,r)].join()}createSampler(e){this.textureUtils.createSampler(e)}destroySampler(e){this.textureUtils.destroySampler(e)}createDefaultTexture(e){this.textureUtils.createDefaultTexture(e)}createTexture(e,n){this.textureUtils.createTexture(e,n)}updateTexture(e,n){this.textureUtils.updateTexture(e,n)}generateMipmaps(e){this.textureUtils.generateMipmaps(e)}destroyTexture(e){this.textureUtils.destroyTexture(e)}copyTextureToBuffer(e,n,r,i,o){return this.textureUtils.copyTextureToBuffer(e,n,r,i,o)}createNodeBuilder(e,n,r=null){return new lSe(e,n,r)}createProgram(e){const n=this.get(e);n.module={module:this.device.createShaderModule({code:e.code,label:e.stage}),entryPoint:"main"}}destroyProgram(e){this.delete(e)}createRenderPipeline(e){this.pipelineUtils.createRenderPipeline(e)}createComputePipeline(e,n){this.pipelineUtils.createComputePipeline(e,n)}createBindings(e){this.bindingUtils.createBindings(e)}updateBindings(e){this.bindingUtils.createBindings(e)}updateBinding(e){this.bindingUtils.updateBinding(e)}createIndexAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.INDEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createStorageAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.STORAGE|GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}updateAttribute(e){this.attributeUtils.updateAttribute(e)}destroyAttribute(e){this.attributeUtils.destroyAttribute(e)}updateSize(){this._configureContext(),this._setupColorBuffer()}hasFeature(e){const n=this.adapter||NG;if(Object.values(S9).includes(e)===!1)throw new Error("THREE.WebGPURenderer: Unknown WebGPU GPU feature: "+e);return n.features.has(e)}copyFramebufferToTexture(e,n){const r=this.get(n),{encoder:i,descriptor:o}=r;let a=null;e.isFramebufferTexture?a=this.context.getCurrentTexture():e.isDepthTexture&&(a=this._getDepthBufferGPU(n));const s=this.get(e).texture;r.currentPass.end(),i.copyTextureToTexture({texture:a,origin:{x:0,y:0,z:0}},{texture:s},[e.image.width,e.image.height]),e.generateMipmaps&&this.textureUtils.generateMipmaps(e),o.colorAttachments[0].loadOp=ei.Load,n.depth&&(o.depthStencilAttachment.depthLoadOp=ei.Load),n.stencil&&(o.depthStencilAttachment.stencilLoadOp=ei.Load),r.currentPass=i.beginRenderPass(o),r.currentSets={attributes:{}}}_getDepthBufferGPU(e){const{width:n,height:r}=this.getDrawingBufferSize(),i=this.defaultDepthTexture,o=this.get(i).texture;let a,s;if(e.stencil?(a=ps,s=Ra):e.depth&&(a=Aa,s=Ca),o!==void 0){if(i.image.width===n&&i.image.height===r&&i.format===a&&i.type===s)return o;this.textureUtils.destroyTexture(i)}return i.name="depthBuffer",i.format=a,i.type=s,i.image.width=n,i.image.height=r,this.textureUtils.createTexture(i,{sampleCount:this.parameters.sampleCount,width:n,height:r}),this.get(i).texture}_configureContext(){this.context.configure({device:this.device,format:Ve.BGRA8Unorm,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,alphaMode:"premultiplied"})}_setupColorBuffer(){this.colorBuffer&&this.colorBuffer.destroy();const{width:e,height:n}=this.getDrawingBufferSize();this.colorBuffer=this.device.createTexture({label:"colorBuffer",size:{width:e,height:n,depthOrArrayLayers:1},sampleCount:this.parameters.sampleCount,format:Ve.BGRA8Unorm,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC})}}const bSe=SSe;class wSe extends u8e{constructor(e={}){let n;jz.isAvailable()?n=bSe:(n=D8e,console.warn("THREE.WebGPURenderer: WebGPU is not available, running under WebGL2 backend."));const r=new n(e);super(r),this.isWebGPURenderer=!0}}const CSe=wSe;class ESe{densityLowColour=new St("blue");densityHighColour=new St("red");renderHeightMap=!1;isCameraControlMode=!1}const Fm={segX:"31.0",segY:"31.0",width:"10.0",height:"8.0",segXInt:"32",segArea:"1024",densityRangeLow:"0.0",densityRangeHigh:"10.0",densityRangeSize:"10.0"};function zS(t){return t.replace(/\$\{(\w+?)\}/g,function(e,n){return Fm[n]!==void 0?Fm[n]:"1.0"})}function QN(t){return new Q(t.r,t.g,t.b)}function _Se(t){if(jz.isAvailable()){const x=new CSe({antialias:!0});console.log("browser supports webgpu rendering"),console.log("webgpu renderer context",x)}else console.log("browser does not support webgpu rendering");const e=g.useRef(null),n=g.useMemo(()=>{const x=new Jo;t.params.renderHeightMap?x.vertexShader=zS(Mye):x.vertexShader=zS(Tye),x.fragmentShader=zS(Rye),x.side=co;const v=new Float32Array(new Array(64*64).fill(0)),w=new jc(v,64,64,ap,Xr);return w.needsUpdate=!0,x.uniforms={density:{value:w},hiCol:{value:QN(t.params.densityHighColour)},lowCol:{value:QN(t.params.densityLowColour)}},x},[t.params.densityHighColour,t.params.densityLowColour,t.params.renderHeightMap]);kz(x=>{o||(x.camera.setRotationFromAxisAngle(new Q(1,0,0),-Math.PI/2),x.camera.position.set(0,10,0),e.current.lookAt(0,99,0))});const{outputSubs:r,worker:i}=t;g.useEffect(()=>{r.push(v=>{x(v)});function x(v){v=v.slice(0);const w={densityRangeHigh:parseFloat(Fm.densityRangeHigh),densityRangeLow:parseFloat(Fm.densityRangeLow),densityRangeSize:parseFloat(Fm.densityRangeSize)};for(let C=0;C<v.length;C++){let _=Math.min(v[C],w.densityRangeHigh);_=Math.max(_,w.densityRangeLow),_=_/w.densityRangeSize,v[C]=_}const S=new jc(v,64,64,ap,Xr);S.needsUpdate=!0,n.uniforms.density.value=S}},[n,r]);const{disableInteraction:o}=t;let a=!1,s=!1;const l=new Qe(0,0),c=new Qe(0,0),u=x=>{x.uv!=null&&(a=!1,s=!0,l.set(x.uv.x,1-x.uv.y))},d=x=>{s&&x.uv!=null&&(a=!0,c.set(x.uv.x,1-x.uv.y))},f=x=>{a=!1,s=!1},p=1e3/30,y=100,b=new Qe(32,32);return setInterval(()=>{if(o||!a)return;const x=new Qe().subVectors(c,l).multiplyScalar(y),v=new Qe().add(c).multiply(b).round();l.set(c.x,c.y),a=!1,console.log("[event] Applying force",x,"at",v),i.postMessage({func:"updateForce",args:{loc:v,forceDelta:x}})},p),Ke.jsx("mesh",{...t,ref:e,material:n,onPointerUp:f,onPointerDown:u,onPointerMove:d,children:Ke.jsx("planeGeometry",{args:[10,8,31,31]})})}function t_(){}t_.prototype.s2u=function(t){for(var e=this.s2uTable,n="",r=0;r<t.length;){var i=t[r++];if(!(i>=0&&i<=126||i>=161&&i<=223)&&r<t.length&&(i=i<<8|t[r++]),e[i]===void 0)return console.error("unknown char code "+i+"."),n;n+=String.fromCharCode(e[i])}return n};t_.prototype.s2uTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:65340,33120:65374,33121:8741,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:65293,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:65504,33170:65505,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:65506,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34624:9312,34625:9313,34626:9314,34627:9315,34628:9316,34629:9317,34630:9318,34631:9319,34632:9320,34633:9321,34634:9322,34635:9323,34636:9324,34637:9325,34638:9326,34639:9327,34640:9328,34641:9329,34642:9330,34643:9331,34644:8544,34645:8545,34646:8546,34647:8547,34648:8548,34649:8549,34650:8550,34651:8551,34652:8552,34653:8553,34655:13129,34656:13076,34657:13090,34658:13133,34659:13080,34660:13095,34661:13059,34662:13110,34663:13137,34664:13143,34665:13069,34666:13094,34667:13091,34668:13099,34669:13130,34670:13115,34671:13212,34672:13213,34673:13214,34674:13198,34675:13199,34676:13252,34677:13217,34686:13179,34688:12317,34689:12319,34690:8470,34691:13261,34692:8481,34693:12964,34694:12965,34695:12966,34696:12967,34697:12968,34698:12849,34699:12850,34700:12857,34701:13182,34702:13181,34703:13180,34704:8786,34705:8801,34706:8747,34707:8750,34708:8721,34709:8730,34710:8869,34711:8736,34712:8735,34713:8895,34714:8757,34715:8745,34716:8746,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081,60736:32394,60737:35100,60738:37704,60739:37512,60740:34012,60741:20425,60742:28859,60743:26161,60744:26824,60745:37625,60746:26363,60747:24389,60748:20008,60749:20193,60750:20220,60751:20224,60752:20227,60753:20281,60754:20310,60755:20370,60756:20362,60757:20378,60758:20372,60759:20429,60760:20544,60761:20514,60762:20479,60763:20510,60764:20550,60765:20592,60766:20546,60767:20628,60768:20724,60769:20696,60770:20810,60771:20836,60772:20893,60773:20926,60774:20972,60775:21013,60776:21148,60777:21158,60778:21184,60779:21211,60780:21248,60781:21255,60782:21284,60783:21362,60784:21395,60785:21426,60786:21469,60787:64014,60788:21660,60789:21642,60790:21673,60791:21759,60792:21894,60793:22361,60794:22373,60795:22444,60796:22472,60797:22471,60798:64015,60800:64016,60801:22686,60802:22706,60803:22795,60804:22867,60805:22875,60806:22877,60807:22883,60808:22948,60809:22970,60810:23382,60811:23488,60812:29999,60813:23512,60814:23532,60815:23582,60816:23718,60817:23738,60818:23797,60819:23847,60820:23891,60821:64017,60822:23874,60823:23917,60824:23992,60825:23993,60826:24016,60827:24353,60828:24372,60829:24423,60830:24503,60831:24542,60832:24669,60833:24709,60834:24714,60835:24798,60836:24789,60837:24864,60838:24818,60839:24849,60840:24887,60841:24880,60842:24984,60843:25107,60844:25254,60845:25589,60846:25696,60847:25757,60848:25806,60849:25934,60850:26112,60851:26133,60852:26171,60853:26121,60854:26158,60855:26142,60856:26148,60857:26213,60858:26199,60859:26201,60860:64018,60861:26227,60862:26265,60863:26272,60864:26290,60865:26303,60866:26362,60867:26382,60868:63785,60869:26470,60870:26555,60871:26706,60872:26560,60873:26625,60874:26692,60875:26831,60876:64019,60877:26984,60878:64020,60879:27032,60880:27106,60881:27184,60882:27243,60883:27206,60884:27251,60885:27262,60886:27362,60887:27364,60888:27606,60889:27711,60890:27740,60891:27782,60892:27759,60893:27866,60894:27908,60895:28039,60896:28015,60897:28054,60898:28076,60899:28111,60900:28152,60901:28146,60902:28156,60903:28217,60904:28252,60905:28199,60906:28220,60907:28351,60908:28552,60909:28597,60910:28661,60911:28677,60912:28679,60913:28712,60914:28805,60915:28843,60916:28943,60917:28932,60918:29020,60919:28998,60920:28999,60921:64021,60922:29121,60923:29182,60924:29361,60992:29374,60993:29476,60994:64022,60995:29559,60996:29629,60997:29641,60998:29654,60999:29667,61e3:29650,61001:29703,61002:29685,61003:29734,61004:29738,61005:29737,61006:29742,61007:29794,61008:29833,61009:29855,61010:29953,61011:30063,61012:30338,61013:30364,61014:30366,61015:30363,61016:30374,61017:64023,61018:30534,61019:21167,61020:30753,61021:30798,61022:30820,61023:30842,61024:31024,61025:64024,61026:64025,61027:64026,61028:31124,61029:64027,61030:31131,61031:31441,61032:31463,61033:64028,61034:31467,61035:31646,61036:64029,61037:32072,61038:32092,61039:32183,61040:32160,61041:32214,61042:32338,61043:32583,61044:32673,61045:64030,61046:33537,61047:33634,61048:33663,61049:33735,61050:33782,61051:33864,61052:33972,61053:34131,61054:34137,61056:34155,61057:64031,61058:34224,61059:64032,61060:64033,61061:34823,61062:35061,61063:35346,61064:35383,61065:35449,61066:35495,61067:35518,61068:35551,61069:64034,61070:35574,61071:35667,61072:35711,61073:36080,61074:36084,61075:36114,61076:36214,61077:64035,61078:36559,61079:64036,61080:64037,61081:36967,61082:37086,61083:64038,61084:37141,61085:37159,61086:37338,61087:37335,61088:37342,61089:37357,61090:37358,61091:37348,61092:37349,61093:37382,61094:37392,61095:37386,61096:37434,61097:37440,61098:37436,61099:37454,61100:37465,61101:37457,61102:37433,61103:37479,61104:37543,61105:37495,61106:37496,61107:37607,61108:37591,61109:37593,61110:37584,61111:64039,61112:37589,61113:37600,61114:37587,61115:37669,61116:37665,61117:37627,61118:64040,61119:37662,61120:37631,61121:37661,61122:37634,61123:37744,61124:37719,61125:37796,61126:37830,61127:37854,61128:37880,61129:37937,61130:37957,61131:37960,61132:38290,61133:63964,61134:64041,61135:38557,61136:38575,61137:38707,61138:38715,61139:38723,61140:38733,61141:38735,61142:38737,61143:38741,61144:38999,61145:39013,61146:64042,61147:64043,61148:39207,61149:64044,61150:39326,61151:39502,61152:39641,61153:39644,61154:39797,61155:39794,61156:39823,61157:39857,61158:39867,61159:39936,61160:40304,61161:40299,61162:64045,61163:40473,61164:40657,61167:8560,61168:8561,61169:8562,61170:8563,61171:8564,61172:8565,61173:8566,61174:8567,61175:8568,61176:8569,61177:65506,61178:65508,61179:65287,61180:65282,61504:57344,61505:57345,61506:57346,61507:57347,61508:57348,61509:57349,61510:57350,61511:57351,61512:57352,61513:57353,61514:57354,61515:57355,61516:57356,61517:57357,61518:57358,61519:57359,61520:57360,61521:57361,61522:57362,61523:57363,61524:57364,61525:57365,61526:57366,61527:57367,61528:57368,61529:57369,61530:57370,61531:57371,61532:57372,61533:57373,61534:57374,61535:57375,61536:57376,61537:57377,61538:57378,61539:57379,61540:57380,61541:57381,61542:57382,61543:57383,61544:57384,61545:57385,61546:57386,61547:57387,61548:57388,61549:57389,61550:57390,61551:57391,61552:57392,61553:57393,61554:57394,61555:57395,61556:57396,61557:57397,61558:57398,61559:57399,61560:57400,61561:57401,61562:57402,61563:57403,61564:57404,61565:57405,61566:57406,61568:57407,61569:57408,61570:57409,61571:57410,61572:57411,61573:57412,61574:57413,61575:57414,61576:57415,61577:57416,61578:57417,61579:57418,61580:57419,61581:57420,61582:57421,61583:57422,61584:57423,61585:57424,61586:57425,61587:57426,61588:57427,61589:57428,61590:57429,61591:57430,61592:57431,61593:57432,61594:57433,61595:57434,61596:57435,61597:57436,61598:57437,61599:57438,61600:57439,61601:57440,61602:57441,61603:57442,61604:57443,61605:57444,61606:57445,61607:57446,61608:57447,61609:57448,61610:57449,61611:57450,61612:57451,61613:57452,61614:57453,61615:57454,61616:57455,61617:57456,61618:57457,61619:57458,61620:57459,61621:57460,61622:57461,61623:57462,61624:57463,61625:57464,61626:57465,61627:57466,61628:57467,61629:57468,61630:57469,61631:57470,61632:57471,61633:57472,61634:57473,61635:57474,61636:57475,61637:57476,61638:57477,61639:57478,61640:57479,61641:57480,61642:57481,61643:57482,61644:57483,61645:57484,61646:57485,61647:57486,61648:57487,61649:57488,61650:57489,61651:57490,61652:57491,61653:57492,61654:57493,61655:57494,61656:57495,61657:57496,61658:57497,61659:57498,61660:57499,61661:57500,61662:57501,61663:57502,61664:57503,61665:57504,61666:57505,61667:57506,61668:57507,61669:57508,61670:57509,61671:57510,61672:57511,61673:57512,61674:57513,61675:57514,61676:57515,61677:57516,61678:57517,61679:57518,61680:57519,61681:57520,61682:57521,61683:57522,61684:57523,61685:57524,61686:57525,61687:57526,61688:57527,61689:57528,61690:57529,61691:57530,61692:57531,61760:57532,61761:57533,61762:57534,61763:57535,61764:57536,61765:57537,61766:57538,61767:57539,61768:57540,61769:57541,61770:57542,61771:57543,61772:57544,61773:57545,61774:57546,61775:57547,61776:57548,61777:57549,61778:57550,61779:57551,61780:57552,61781:57553,61782:57554,61783:57555,61784:57556,61785:57557,61786:57558,61787:57559,61788:57560,61789:57561,61790:57562,61791:57563,61792:57564,61793:57565,61794:57566,61795:57567,61796:57568,61797:57569,61798:57570,61799:57571,61800:57572,61801:57573,61802:57574,61803:57575,61804:57576,61805:57577,61806:57578,61807:57579,61808:57580,61809:57581,61810:57582,61811:57583,61812:57584,61813:57585,61814:57586,61815:57587,61816:57588,61817:57589,61818:57590,61819:57591,61820:57592,61821:57593,61822:57594,61824:57595,61825:57596,61826:57597,61827:57598,61828:57599,61829:57600,61830:57601,61831:57602,61832:57603,61833:57604,61834:57605,61835:57606,61836:57607,61837:57608,61838:57609,61839:57610,61840:57611,61841:57612,61842:57613,61843:57614,61844:57615,61845:57616,61846:57617,61847:57618,61848:57619,61849:57620,61850:57621,61851:57622,61852:57623,61853:57624,61854:57625,61855:57626,61856:57627,61857:57628,61858:57629,61859:57630,61860:57631,61861:57632,61862:57633,61863:57634,61864:57635,61865:57636,61866:57637,61867:57638,61868:57639,61869:57640,61870:57641,61871:57642,61872:57643,61873:57644,61874:57645,61875:57646,61876:57647,61877:57648,61878:57649,61879:57650,61880:57651,61881:57652,61882:57653,61883:57654,61884:57655,61885:57656,61886:57657,61887:57658,61888:57659,61889:57660,61890:57661,61891:57662,61892:57663,61893:57664,61894:57665,61895:57666,61896:57667,61897:57668,61898:57669,61899:57670,61900:57671,61901:57672,61902:57673,61903:57674,61904:57675,61905:57676,61906:57677,61907:57678,61908:57679,61909:57680,61910:57681,61911:57682,61912:57683,61913:57684,61914:57685,61915:57686,61916:57687,61917:57688,61918:57689,61919:57690,61920:57691,61921:57692,61922:57693,61923:57694,61924:57695,61925:57696,61926:57697,61927:57698,61928:57699,61929:57700,61930:57701,61931:57702,61932:57703,61933:57704,61934:57705,61935:57706,61936:57707,61937:57708,61938:57709,61939:57710,61940:57711,61941:57712,61942:57713,61943:57714,61944:57715,61945:57716,61946:57717,61947:57718,61948:57719,62016:57720,62017:57721,62018:57722,62019:57723,62020:57724,62021:57725,62022:57726,62023:57727,62024:57728,62025:57729,62026:57730,62027:57731,62028:57732,62029:57733,62030:57734,62031:57735,62032:57736,62033:57737,62034:57738,62035:57739,62036:57740,62037:57741,62038:57742,62039:57743,62040:57744,62041:57745,62042:57746,62043:57747,62044:57748,62045:57749,62046:57750,62047:57751,62048:57752,62049:57753,62050:57754,62051:57755,62052:57756,62053:57757,62054:57758,62055:57759,62056:57760,62057:57761,62058:57762,62059:57763,62060:57764,62061:57765,62062:57766,62063:57767,62064:57768,62065:57769,62066:57770,62067:57771,62068:57772,62069:57773,62070:57774,62071:57775,62072:57776,62073:57777,62074:57778,62075:57779,62076:57780,62077:57781,62078:57782,62080:57783,62081:57784,62082:57785,62083:57786,62084:57787,62085:57788,62086:57789,62087:57790,62088:57791,62089:57792,62090:57793,62091:57794,62092:57795,62093:57796,62094:57797,62095:57798,62096:57799,62097:57800,62098:57801,62099:57802,62100:57803,62101:57804,62102:57805,62103:57806,62104:57807,62105:57808,62106:57809,62107:57810,62108:57811,62109:57812,62110:57813,62111:57814,62112:57815,62113:57816,62114:57817,62115:57818,62116:57819,62117:57820,62118:57821,62119:57822,62120:57823,62121:57824,62122:57825,62123:57826,62124:57827,62125:57828,62126:57829,62127:57830,62128:57831,62129:57832,62130:57833,62131:57834,62132:57835,62133:57836,62134:57837,62135:57838,62136:57839,62137:57840,62138:57841,62139:57842,62140:57843,62141:57844,62142:57845,62143:57846,62144:57847,62145:57848,62146:57849,62147:57850,62148:57851,62149:57852,62150:57853,62151:57854,62152:57855,62153:57856,62154:57857,62155:57858,62156:57859,62157:57860,62158:57861,62159:57862,62160:57863,62161:57864,62162:57865,62163:57866,62164:57867,62165:57868,62166:57869,62167:57870,62168:57871,62169:57872,62170:57873,62171:57874,62172:57875,62173:57876,62174:57877,62175:57878,62176:57879,62177:57880,62178:57881,62179:57882,62180:57883,62181:57884,62182:57885,62183:57886,62184:57887,62185:57888,62186:57889,62187:57890,62188:57891,62189:57892,62190:57893,62191:57894,62192:57895,62193:57896,62194:57897,62195:57898,62196:57899,62197:57900,62198:57901,62199:57902,62200:57903,62201:57904,62202:57905,62203:57906,62204:57907,62272:57908,62273:57909,62274:57910,62275:57911,62276:57912,62277:57913,62278:57914,62279:57915,62280:57916,62281:57917,62282:57918,62283:57919,62284:57920,62285:57921,62286:57922,62287:57923,62288:57924,62289:57925,62290:57926,62291:57927,62292:57928,62293:57929,62294:57930,62295:57931,62296:57932,62297:57933,62298:57934,62299:57935,62300:57936,62301:57937,62302:57938,62303:57939,62304:57940,62305:57941,62306:57942,62307:57943,62308:57944,62309:57945,62310:57946,62311:57947,62312:57948,62313:57949,62314:57950,62315:57951,62316:57952,62317:57953,62318:57954,62319:57955,62320:57956,62321:57957,62322:57958,62323:57959,62324:57960,62325:57961,62326:57962,62327:57963,62328:57964,62329:57965,62330:57966,62331:57967,62332:57968,62333:57969,62334:57970,62336:57971,62337:57972,62338:57973,62339:57974,62340:57975,62341:57976,62342:57977,62343:57978,62344:57979,62345:57980,62346:57981,62347:57982,62348:57983,62349:57984,62350:57985,62351:57986,62352:57987,62353:57988,62354:57989,62355:57990,62356:57991,62357:57992,62358:57993,62359:57994,62360:57995,62361:57996,62362:57997,62363:57998,62364:57999,62365:58e3,62366:58001,62367:58002,62368:58003,62369:58004,62370:58005,62371:58006,62372:58007,62373:58008,62374:58009,62375:58010,62376:58011,62377:58012,62378:58013,62379:58014,62380:58015,62381:58016,62382:58017,62383:58018,62384:58019,62385:58020,62386:58021,62387:58022,62388:58023,62389:58024,62390:58025,62391:58026,62392:58027,62393:58028,62394:58029,62395:58030,62396:58031,62397:58032,62398:58033,62399:58034,62400:58035,62401:58036,62402:58037,62403:58038,62404:58039,62405:58040,62406:58041,62407:58042,62408:58043,62409:58044,62410:58045,62411:58046,62412:58047,62413:58048,62414:58049,62415:58050,62416:58051,62417:58052,62418:58053,62419:58054,62420:58055,62421:58056,62422:58057,62423:58058,62424:58059,62425:58060,62426:58061,62427:58062,62428:58063,62429:58064,62430:58065,62431:58066,62432:58067,62433:58068,62434:58069,62435:58070,62436:58071,62437:58072,62438:58073,62439:58074,62440:58075,62441:58076,62442:58077,62443:58078,62444:58079,62445:58080,62446:58081,62447:58082,62448:58083,62449:58084,62450:58085,62451:58086,62452:58087,62453:58088,62454:58089,62455:58090,62456:58091,62457:58092,62458:58093,62459:58094,62460:58095,62528:58096,62529:58097,62530:58098,62531:58099,62532:58100,62533:58101,62534:58102,62535:58103,62536:58104,62537:58105,62538:58106,62539:58107,62540:58108,62541:58109,62542:58110,62543:58111,62544:58112,62545:58113,62546:58114,62547:58115,62548:58116,62549:58117,62550:58118,62551:58119,62552:58120,62553:58121,62554:58122,62555:58123,62556:58124,62557:58125,62558:58126,62559:58127,62560:58128,62561:58129,62562:58130,62563:58131,62564:58132,62565:58133,62566:58134,62567:58135,62568:58136,62569:58137,62570:58138,62571:58139,62572:58140,62573:58141,62574:58142,62575:58143,62576:58144,62577:58145,62578:58146,62579:58147,62580:58148,62581:58149,62582:58150,62583:58151,62584:58152,62585:58153,62586:58154,62587:58155,62588:58156,62589:58157,62590:58158,62592:58159,62593:58160,62594:58161,62595:58162,62596:58163,62597:58164,62598:58165,62599:58166,62600:58167,62601:58168,62602:58169,62603:58170,62604:58171,62605:58172,62606:58173,62607:58174,62608:58175,62609:58176,62610:58177,62611:58178,62612:58179,62613:58180,62614:58181,62615:58182,62616:58183,62617:58184,62618:58185,62619:58186,62620:58187,62621:58188,62622:58189,62623:58190,62624:58191,62625:58192,62626:58193,62627:58194,62628:58195,62629:58196,62630:58197,62631:58198,62632:58199,62633:58200,62634:58201,62635:58202,62636:58203,62637:58204,62638:58205,62639:58206,62640:58207,62641:58208,62642:58209,62643:58210,62644:58211,62645:58212,62646:58213,62647:58214,62648:58215,62649:58216,62650:58217,62651:58218,62652:58219,62653:58220,62654:58221,62655:58222,62656:58223,62657:58224,62658:58225,62659:58226,62660:58227,62661:58228,62662:58229,62663:58230,62664:58231,62665:58232,62666:58233,62667:58234,62668:58235,62669:58236,62670:58237,62671:58238,62672:58239,62673:58240,62674:58241,62675:58242,62676:58243,62677:58244,62678:58245,62679:58246,62680:58247,62681:58248,62682:58249,62683:58250,62684:58251,62685:58252,62686:58253,62687:58254,62688:58255,62689:58256,62690:58257,62691:58258,62692:58259,62693:58260,62694:58261,62695:58262,62696:58263,62697:58264,62698:58265,62699:58266,62700:58267,62701:58268,62702:58269,62703:58270,62704:58271,62705:58272,62706:58273,62707:58274,62708:58275,62709:58276,62710:58277,62711:58278,62712:58279,62713:58280,62714:58281,62715:58282,62716:58283,62784:58284,62785:58285,62786:58286,62787:58287,62788:58288,62789:58289,62790:58290,62791:58291,62792:58292,62793:58293,62794:58294,62795:58295,62796:58296,62797:58297,62798:58298,62799:58299,62800:58300,62801:58301,62802:58302,62803:58303,62804:58304,62805:58305,62806:58306,62807:58307,62808:58308,62809:58309,62810:58310,62811:58311,62812:58312,62813:58313,62814:58314,62815:58315,62816:58316,62817:58317,62818:58318,62819:58319,62820:58320,62821:58321,62822:58322,62823:58323,62824:58324,62825:58325,62826:58326,62827:58327,62828:58328,62829:58329,62830:58330,62831:58331,62832:58332,62833:58333,62834:58334,62835:58335,62836:58336,62837:58337,62838:58338,62839:58339,62840:58340,62841:58341,62842:58342,62843:58343,62844:58344,62845:58345,62846:58346,62848:58347,62849:58348,62850:58349,62851:58350,62852:58351,62853:58352,62854:58353,62855:58354,62856:58355,62857:58356,62858:58357,62859:58358,62860:58359,62861:58360,62862:58361,62863:58362,62864:58363,62865:58364,62866:58365,62867:58366,62868:58367,62869:58368,62870:58369,62871:58370,62872:58371,62873:58372,62874:58373,62875:58374,62876:58375,62877:58376,62878:58377,62879:58378,62880:58379,62881:58380,62882:58381,62883:58382,62884:58383,62885:58384,62886:58385,62887:58386,62888:58387,62889:58388,62890:58389,62891:58390,62892:58391,62893:58392,62894:58393,62895:58394,62896:58395,62897:58396,62898:58397,62899:58398,62900:58399,62901:58400,62902:58401,62903:58402,62904:58403,62905:58404,62906:58405,62907:58406,62908:58407,62909:58408,62910:58409,62911:58410,62912:58411,62913:58412,62914:58413,62915:58414,62916:58415,62917:58416,62918:58417,62919:58418,62920:58419,62921:58420,62922:58421,62923:58422,62924:58423,62925:58424,62926:58425,62927:58426,62928:58427,62929:58428,62930:58429,62931:58430,62932:58431,62933:58432,62934:58433,62935:58434,62936:58435,62937:58436,62938:58437,62939:58438,62940:58439,62941:58440,62942:58441,62943:58442,62944:58443,62945:58444,62946:58445,62947:58446,62948:58447,62949:58448,62950:58449,62951:58450,62952:58451,62953:58452,62954:58453,62955:58454,62956:58455,62957:58456,62958:58457,62959:58458,62960:58459,62961:58460,62962:58461,62963:58462,62964:58463,62965:58464,62966:58465,62967:58466,62968:58467,62969:58468,62970:58469,62971:58470,62972:58471,63040:58472,63041:58473,63042:58474,63043:58475,63044:58476,63045:58477,63046:58478,63047:58479,63048:58480,63049:58481,63050:58482,63051:58483,63052:58484,63053:58485,63054:58486,63055:58487,63056:58488,63057:58489,63058:58490,63059:58491,63060:58492,63061:58493,63062:58494,63063:58495,63064:58496,63065:58497,63066:58498,63067:58499,63068:58500,63069:58501,63070:58502,63071:58503,63072:58504,63073:58505,63074:58506,63075:58507,63076:58508,63077:58509,63078:58510,63079:58511,63080:58512,63081:58513,63082:58514,63083:58515,63084:58516,63085:58517,63086:58518,63087:58519,63088:58520,63089:58521,63090:58522,63091:58523,63092:58524,63093:58525,63094:58526,63095:58527,63096:58528,63097:58529,63098:58530,63099:58531,63100:58532,63101:58533,63102:58534,63104:58535,63105:58536,63106:58537,63107:58538,63108:58539,63109:58540,63110:58541,63111:58542,63112:58543,63113:58544,63114:58545,63115:58546,63116:58547,63117:58548,63118:58549,63119:58550,63120:58551,63121:58552,63122:58553,63123:58554,63124:58555,63125:58556,63126:58557,63127:58558,63128:58559,63129:58560,63130:58561,63131:58562,63132:58563,63133:58564,63134:58565,63135:58566,63136:58567,63137:58568,63138:58569,63139:58570,63140:58571,63141:58572,63142:58573,63143:58574,63144:58575,63145:58576,63146:58577,63147:58578,63148:58579,63149:58580,63150:58581,63151:58582,63152:58583,63153:58584,63154:58585,63155:58586,63156:58587,63157:58588,63158:58589,63159:58590,63160:58591,63161:58592,63162:58593,63163:58594,63164:58595,63165:58596,63166:58597,63167:58598,63168:58599,63169:58600,63170:58601,63171:58602,63172:58603,63173:58604,63174:58605,63175:58606,63176:58607,63177:58608,63178:58609,63179:58610,63180:58611,63181:58612,63182:58613,63183:58614,63184:58615,63185:58616,63186:58617,63187:58618,63188:58619,63189:58620,63190:58621,63191:58622,63192:58623,63193:58624,63194:58625,63195:58626,63196:58627,63197:58628,63198:58629,63199:58630,63200:58631,63201:58632,63202:58633,63203:58634,63204:58635,63205:58636,63206:58637,63207:58638,63208:58639,63209:58640,63210:58641,63211:58642,63212:58643,63213:58644,63214:58645,63215:58646,63216:58647,63217:58648,63218:58649,63219:58650,63220:58651,63221:58652,63222:58653,63223:58654,63224:58655,63225:58656,63226:58657,63227:58658,63228:58659,63296:58660,63297:58661,63298:58662,63299:58663,63300:58664,63301:58665,63302:58666,63303:58667,63304:58668,63305:58669,63306:58670,63307:58671,63308:58672,63309:58673,63310:58674,63311:58675,63312:58676,63313:58677,63314:58678,63315:58679,63316:58680,63317:58681,63318:58682,63319:58683,63320:58684,63321:58685,63322:58686,63323:58687,63324:58688,63325:58689,63326:58690,63327:58691,63328:58692,63329:58693,63330:58694,63331:58695,63332:58696,63333:58697,63334:58698,63335:58699,63336:58700,63337:58701,63338:58702,63339:58703,63340:58704,63341:58705,63342:58706,63343:58707,63344:58708,63345:58709,63346:58710,63347:58711,63348:58712,63349:58713,63350:58714,63351:58715,63352:58716,63353:58717,63354:58718,63355:58719,63356:58720,63357:58721,63358:58722,63360:58723,63361:58724,63362:58725,63363:58726,63364:58727,63365:58728,63366:58729,63367:58730,63368:58731,63369:58732,63370:58733,63371:58734,63372:58735,63373:58736,63374:58737,63375:58738,63376:58739,63377:58740,63378:58741,63379:58742,63380:58743,63381:58744,63382:58745,63383:58746,63384:58747,63385:58748,63386:58749,63387:58750,63388:58751,63389:58752,63390:58753,63391:58754,63392:58755,63393:58756,63394:58757,63395:58758,63396:58759,63397:58760,63398:58761,63399:58762,63400:58763,63401:58764,63402:58765,63403:58766,63404:58767,63405:58768,63406:58769,63407:58770,63408:58771,63409:58772,63410:58773,63411:58774,63412:58775,63413:58776,63414:58777,63415:58778,63416:58779,63417:58780,63418:58781,63419:58782,63420:58783,63421:58784,63422:58785,63423:58786,63424:58787,63425:58788,63426:58789,63427:58790,63428:58791,63429:58792,63430:58793,63431:58794,63432:58795,63433:58796,63434:58797,63435:58798,63436:58799,63437:58800,63438:58801,63439:58802,63440:58803,63441:58804,63442:58805,63443:58806,63444:58807,63445:58808,63446:58809,63447:58810,63448:58811,63449:58812,63450:58813,63451:58814,63452:58815,63453:58816,63454:58817,63455:58818,63456:58819,63457:58820,63458:58821,63459:58822,63460:58823,63461:58824,63462:58825,63463:58826,63464:58827,63465:58828,63466:58829,63467:58830,63468:58831,63469:58832,63470:58833,63471:58834,63472:58835,63473:58836,63474:58837,63475:58838,63476:58839,63477:58840,63478:58841,63479:58842,63480:58843,63481:58844,63482:58845,63483:58846,63484:58847,63552:58848,63553:58849,63554:58850,63555:58851,63556:58852,63557:58853,63558:58854,63559:58855,63560:58856,63561:58857,63562:58858,63563:58859,63564:58860,63565:58861,63566:58862,63567:58863,63568:58864,63569:58865,63570:58866,63571:58867,63572:58868,63573:58869,63574:58870,63575:58871,63576:58872,63577:58873,63578:58874,63579:58875,63580:58876,63581:58877,63582:58878,63583:58879,63584:58880,63585:58881,63586:58882,63587:58883,63588:58884,63589:58885,63590:58886,63591:58887,63592:58888,63593:58889,63594:58890,63595:58891,63596:58892,63597:58893,63598:58894,63599:58895,63600:58896,63601:58897,63602:58898,63603:58899,63604:58900,63605:58901,63606:58902,63607:58903,63608:58904,63609:58905,63610:58906,63611:58907,63612:58908,63613:58909,63614:58910,63616:58911,63617:58912,63618:58913,63619:58914,63620:58915,63621:58916,63622:58917,63623:58918,63624:58919,63625:58920,63626:58921,63627:58922,63628:58923,63629:58924,63630:58925,63631:58926,63632:58927,63633:58928,63634:58929,63635:58930,63636:58931,63637:58932,63638:58933,63639:58934,63640:58935,63641:58936,63642:58937,63643:58938,63644:58939,63645:58940,63646:58941,63647:58942,63648:58943,63649:58944,63650:58945,63651:58946,63652:58947,63653:58948,63654:58949,63655:58950,63656:58951,63657:58952,63658:58953,63659:58954,63660:58955,63661:58956,63662:58957,63663:58958,63664:58959,63665:58960,63666:58961,63667:58962,63668:58963,63669:58964,63670:58965,63671:58966,63672:58967,63673:58968,63674:58969,63675:58970,63676:58971,63677:58972,63678:58973,63679:58974,63680:58975,63681:58976,63682:58977,63683:58978,63684:58979,63685:58980,63686:58981,63687:58982,63688:58983,63689:58984,63690:58985,63691:58986,63692:58987,63693:58988,63694:58989,63695:58990,63696:58991,63697:58992,63698:58993,63699:58994,63700:58995,63701:58996,63702:58997,63703:58998,63704:58999,63705:59e3,63706:59001,63707:59002,63708:59003,63709:59004,63710:59005,63711:59006,63712:59007,63713:59008,63714:59009,63715:59010,63716:59011,63717:59012,63718:59013,63719:59014,63720:59015,63721:59016,63722:59017,63723:59018,63724:59019,63725:59020,63726:59021,63727:59022,63728:59023,63729:59024,63730:59025,63731:59026,63732:59027,63733:59028,63734:59029,63735:59030,63736:59031,63737:59032,63738:59033,63739:59034,63740:59035,64064:8560,64065:8561,64066:8562,64067:8563,64068:8564,64069:8565,64070:8566,64071:8567,64072:8568,64073:8569,64074:8544,64075:8545,64076:8546,64077:8547,64078:8548,64079:8549,64080:8550,64081:8551,64082:8552,64083:8553,64084:65506,64085:65508,64086:65287,64087:65282,64088:12849,64089:8470,64090:8481,64091:8757,64092:32394,64093:35100,64094:37704,64095:37512,64096:34012,64097:20425,64098:28859,64099:26161,64100:26824,64101:37625,64102:26363,64103:24389,64104:20008,64105:20193,64106:20220,64107:20224,64108:20227,64109:20281,64110:20310,64111:20370,64112:20362,64113:20378,64114:20372,64115:20429,64116:20544,64117:20514,64118:20479,64119:20510,64120:20550,64121:20592,64122:20546,64123:20628,64124:20724,64125:20696,64126:20810,64128:20836,64129:20893,64130:20926,64131:20972,64132:21013,64133:21148,64134:21158,64135:21184,64136:21211,64137:21248,64138:21255,64139:21284,64140:21362,64141:21395,64142:21426,64143:21469,64144:64014,64145:21660,64146:21642,64147:21673,64148:21759,64149:21894,64150:22361,64151:22373,64152:22444,64153:22472,64154:22471,64155:64015,64156:64016,64157:22686,64158:22706,64159:22795,64160:22867,64161:22875,64162:22877,64163:22883,64164:22948,64165:22970,64166:23382,64167:23488,64168:29999,64169:23512,64170:23532,64171:23582,64172:23718,64173:23738,64174:23797,64175:23847,64176:23891,64177:64017,64178:23874,64179:23917,64180:23992,64181:23993,64182:24016,64183:24353,64184:24372,64185:24423,64186:24503,64187:24542,64188:24669,64189:24709,64190:24714,64191:24798,64192:24789,64193:24864,64194:24818,64195:24849,64196:24887,64197:24880,64198:24984,64199:25107,64200:25254,64201:25589,64202:25696,64203:25757,64204:25806,64205:25934,64206:26112,64207:26133,64208:26171,64209:26121,64210:26158,64211:26142,64212:26148,64213:26213,64214:26199,64215:26201,64216:64018,64217:26227,64218:26265,64219:26272,64220:26290,64221:26303,64222:26362,64223:26382,64224:63785,64225:26470,64226:26555,64227:26706,64228:26560,64229:26625,64230:26692,64231:26831,64232:64019,64233:26984,64234:64020,64235:27032,64236:27106,64237:27184,64238:27243,64239:27206,64240:27251,64241:27262,64242:27362,64243:27364,64244:27606,64245:27711,64246:27740,64247:27782,64248:27759,64249:27866,64250:27908,64251:28039,64252:28015,64320:28054,64321:28076,64322:28111,64323:28152,64324:28146,64325:28156,64326:28217,64327:28252,64328:28199,64329:28220,64330:28351,64331:28552,64332:28597,64333:28661,64334:28677,64335:28679,64336:28712,64337:28805,64338:28843,64339:28943,64340:28932,64341:29020,64342:28998,64343:28999,64344:64021,64345:29121,64346:29182,64347:29361,64348:29374,64349:29476,64350:64022,64351:29559,64352:29629,64353:29641,64354:29654,64355:29667,64356:29650,64357:29703,64358:29685,64359:29734,64360:29738,64361:29737,64362:29742,64363:29794,64364:29833,64365:29855,64366:29953,64367:30063,64368:30338,64369:30364,64370:30366,64371:30363,64372:30374,64373:64023,64374:30534,64375:21167,64376:30753,64377:30798,64378:30820,64379:30842,64380:31024,64381:64024,64382:64025,64384:64026,64385:31124,64386:64027,64387:31131,64388:31441,64389:31463,64390:64028,64391:31467,64392:31646,64393:64029,64394:32072,64395:32092,64396:32183,64397:32160,64398:32214,64399:32338,64400:32583,64401:32673,64402:64030,64403:33537,64404:33634,64405:33663,64406:33735,64407:33782,64408:33864,64409:33972,64410:34131,64411:34137,64412:34155,64413:64031,64414:34224,64415:64032,64416:64033,64417:34823,64418:35061,64419:35346,64420:35383,64421:35449,64422:35495,64423:35518,64424:35551,64425:64034,64426:35574,64427:35667,64428:35711,64429:36080,64430:36084,64431:36114,64432:36214,64433:64035,64434:36559,64435:64036,64436:64037,64437:36967,64438:37086,64439:64038,64440:37141,64441:37159,64442:37338,64443:37335,64444:37342,64445:37357,64446:37358,64447:37348,64448:37349,64449:37382,64450:37392,64451:37386,64452:37434,64453:37440,64454:37436,64455:37454,64456:37465,64457:37457,64458:37433,64459:37479,64460:37543,64461:37495,64462:37496,64463:37607,64464:37591,64465:37593,64466:37584,64467:64039,64468:37589,64469:37600,64470:37587,64471:37669,64472:37665,64473:37627,64474:64040,64475:37662,64476:37631,64477:37661,64478:37634,64479:37744,64480:37719,64481:37796,64482:37830,64483:37854,64484:37880,64485:37937,64486:37957,64487:37960,64488:38290,64489:63964,64490:64041,64491:38557,64492:38575,64493:38707,64494:38715,64495:38723,64496:38733,64497:38735,64498:38737,64499:38741,64500:38999,64501:39013,64502:64042,64503:64043,64504:39207,64505:64044,64506:39326,64507:39502,64508:39641,64576:39644,64577:39797,64578:39794,64579:39823,64580:39857,64581:39867,64582:39936,64583:40304,64584:40299,64585:64045,64586:40473,64587:40657};function JN(t,e){this.dv=new DataView(t),this.offset=0,this.littleEndian=e!==void 0?e:!0,this.encoder=new t_}JN.prototype={constructor:JN,getInt8:function(){var t=this.dv.getInt8(this.offset);return this.offset+=1,t},getInt8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt8());return e},getUint8:function(){var t=this.dv.getUint8(this.offset);return this.offset+=1,t},getUint8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint8());return e},getInt16:function(){var t=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},getInt16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt16());return e},getUint16:function(){var t=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},getUint16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint16());return e},getInt32:function(){var t=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},getInt32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt32());return e},getUint32:function(){var t=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},getUint32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint32());return e},getFloat32:function(){var t=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},getFloat32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat32());return e},getFloat64:function(){var t=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},getFloat64Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat64());return e},getIndex:function(t,e){switch(t){case 1:return e===!0?this.getUint8():this.getInt8();case 2:return e===!0?this.getUint16():this.getInt16();case 4:return this.getInt32();default:throw"unknown number type "+t+" exception."}},getIndexArray:function(t,e,n){for(var r=[],i=0;i<e;i++)r.push(this.getIndex(t,n));return r},getChars:function(t){for(var e="";t>0;){var n=this.getUint8();if(t--,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getSjisStringsAsUnicode:function(t){for(var e=[];t>0;){var n=this.getUint8();if(t--,n===0)break;e.push(n)}for(;t>0;)this.getUint8(),t--;return this.encoder.s2u(new Uint8Array(e))},getUnicodeStrings:function(t){for(var e="";t>0;){var n=this.getUint16();if(t-=2,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getTextBuffer:function(){var t=this.getUint32();return this.getUnicodeStrings(t)}};function eO(){}eO.prototype={constructor:eO,leftToRightVector3:function(t){t[2]=-t[2]},leftToRightQuaternion:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightEuler:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightIndexOrder:function(t){var e=t[2];t[2]=t[0],t[0]=e},leftToRightVector3Range:function(t,e){var n=-e[2];e[2]=-t[2],t[2]=n},leftToRightEulerRange:function(t,e){var n=-e[0],r=-e[1];e[0]=-t[0],e[1]=-t[1],t[0]=n,t[1]=r}};/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var t=function(){try{var n={},r=Object.defineProperty,i=r(n,n,n)&&r}catch{}return i}(),e=function(n){if(this==null)throw TypeError();var r=String(this),i=r.length,o=n?Number(n):0;if(o!=o&&(o=0),!(o<0||o>=i)){var a=r.charCodeAt(o),s;return a>=55296&&a<=56319&&i>o+1&&(s=r.charCodeAt(o+1),s>=56320&&s<=57343)?(a-55296)*1024+s-56320+65536:a}};t?t(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e}();function OG(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}var TSe=new OG,MSe=new OG,LG=new Uint8Array(30),DG=new Uint16Array(30),RSe=new Uint8Array(30),ASe=new Uint16Array(30);function FG(t,e,n,r){var i,o;for(i=0;i<n;++i)t[i]=0;for(i=0;i<30-n;++i)t[i+n]=i/n|0;for(o=r,i=0;i<30;++i)e[i]=o,o+=1<<t[i]}function PSe(t,e){var n;for(n=0;n<7;++n)t.table[n]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,n=0;n<24;++n)t.trans[n]=256+n;for(n=0;n<144;++n)t.trans[24+n]=n;for(n=0;n<8;++n)t.trans[24+144+n]=280+n;for(n=0;n<112;++n)t.trans[24+144+8+n]=144+n;for(n=0;n<5;++n)e.table[n]=0;for(e.table[5]=32,n=0;n<32;++n)e.trans[n]=n}PSe(TSe,MSe);FG(LG,DG,4,3);FG(RSe,ASe,2,1);LG[28]=0;DG[28]=258;function eh(t,e,n,r,i){return Math.pow(1-i,3)*t+3*Math.pow(1-i,2)*i*e+3*(1-i)*Math.pow(i,2)*n+Math.pow(i,3)*r}function fu(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}fu.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};fu.prototype.addPoint=function(t,e){typeof t=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),typeof e=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))};fu.prototype.addX=function(t){this.addPoint(t,null)};fu.prototype.addY=function(t){this.addPoint(null,t)};fu.prototype.addBezier=function(t,e,n,r,i,o,a,s){var l=[t,e],c=[n,r],u=[i,o],d=[a,s];this.addPoint(t,e),this.addPoint(a,s);for(var f=0;f<=1;f++){var p=6*l[f]-12*c[f]+6*u[f],y=-3*l[f]+9*c[f]-9*u[f]+3*d[f],b=3*c[f]-3*l[f];if(y===0){if(p===0)continue;var x=-b/p;0<x&&x<1&&(f===0&&this.addX(eh(l[f],c[f],u[f],d[f],x)),f===1&&this.addY(eh(l[f],c[f],u[f],d[f],x)));continue}var v=Math.pow(p,2)-4*b*y;if(!(v<0)){var w=(-p+Math.sqrt(v))/(2*y);0<w&&w<1&&(f===0&&this.addX(eh(l[f],c[f],u[f],d[f],w)),f===1&&this.addY(eh(l[f],c[f],u[f],d[f],w)));var S=(-p-Math.sqrt(v))/(2*y);0<S&&S<1&&(f===0&&this.addX(eh(l[f],c[f],u[f],d[f],S)),f===1&&this.addY(eh(l[f],c[f],u[f],d[f],S)))}}};fu.prototype.addQuad=function(t,e,n,r,i,o){var a=t+.6666666666666666*(n-t),s=e+2/3*(r-e),l=a+1/3*(i-t),c=s+1/3*(o-e);this.addBezier(t,e,a,s,l,c,i,o)};function vi(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}vi.prototype.moveTo=function(t,e){this.commands.push({type:"M",x:t,y:e})};vi.prototype.lineTo=function(t,e){this.commands.push({type:"L",x:t,y:e})};vi.prototype.curveTo=vi.prototype.bezierCurveTo=function(t,e,n,r,i,o){this.commands.push({type:"C",x1:t,y1:e,x2:n,y2:r,x:i,y:o})};vi.prototype.quadTo=vi.prototype.quadraticCurveTo=function(t,e,n,r){this.commands.push({type:"Q",x1:t,y1:e,x:n,y:r})};vi.prototype.close=vi.prototype.closePath=function(){this.commands.push({type:"Z"})};vi.prototype.extend=function(t){if(t.commands)t=t.commands;else if(t instanceof fu){var e=t;this.moveTo(e.x1,e.y1),this.lineTo(e.x2,e.y1),this.lineTo(e.x2,e.y2),this.lineTo(e.x1,e.y2),this.close();return}Array.prototype.push.apply(this.commands,t)};vi.prototype.getBoundingBox=function(){for(var t=new fu,e=0,n=0,r=0,i=0,o=0;o<this.commands.length;o++){var a=this.commands[o];switch(a.type){case"M":t.addPoint(a.x,a.y),e=r=a.x,n=i=a.y;break;case"L":t.addPoint(a.x,a.y),r=a.x,i=a.y;break;case"Q":t.addQuad(r,i,a.x1,a.y1,a.x,a.y),r=a.x,i=a.y;break;case"C":t.addBezier(r,i,a.x1,a.y1,a.x2,a.y2,a.x,a.y),r=a.x,i=a.y;break;case"Z":r=e,i=n;break;default:throw new Error("Unexpected path command "+a.type)}}return t.isEmpty()&&t.addPoint(0,0),t};vi.prototype.draw=function(t){t.beginPath();for(var e=0;e<this.commands.length;e+=1){var n=this.commands[e];n.type==="M"?t.moveTo(n.x,n.y):n.type==="L"?t.lineTo(n.x,n.y):n.type==="C"?t.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):n.type==="Q"?t.quadraticCurveTo(n.x1,n.y1,n.x,n.y):n.type==="Z"&&t.closePath()}this.fill&&(t.fillStyle=this.fill,t.fill()),this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.stroke())};vi.prototype.toPathData=function(t){t=t!==void 0?t:2;function e(a){return Math.round(a)===a?""+Math.round(a):a.toFixed(t)}function n(){for(var a=arguments,s="",l=0;l<arguments.length;l+=1){var c=a[l];c>=0&&l>0&&(s+=" "),s+=e(c)}return s}for(var r="",i=0;i<this.commands.length;i+=1){var o=this.commands[i];o.type==="M"?r+="M"+n(o.x,o.y):o.type==="L"?r+="L"+n(o.x,o.y):o.type==="C"?r+="C"+n(o.x1,o.y1,o.x2,o.y2,o.x,o.y):o.type==="Q"?r+="Q"+n(o.x1,o.y1,o.x,o.y):o.type==="Z"&&(r+="Z")}return r};vi.prototype.toSVG=function(t){var e='<path d="';return e+=this.toPathData(t),e+='"',this.fill&&this.fill!=="black"&&(this.fill===null?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+="/>",e};vi.prototype.toDOMElement=function(t){var e=this.toPathData(t),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n};function $G(t){throw new Error(t)}function tO(t,e){t||$G(e)}var ln={fail:$G,argument:tO,assert:tO},nO=32768,rO=2147483648,Dp={},xt={},en={};function Es(t){return function(){return t}}xt.BYTE=function(t){return ln.argument(t>=0&&t<=255,"Byte value should be between 0 and 255."),[t]};en.BYTE=Es(1);xt.CHAR=function(t){return[t.charCodeAt(0)]};en.CHAR=Es(1);xt.CHARARRAY=function(t){typeof t>"u"&&(t="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var e=[],n=0;n<t.length;n+=1)e[n]=t.charCodeAt(n);return e};en.CHARARRAY=function(t){return typeof t>"u"?0:t.length};xt.USHORT=function(t){return[t>>8&255,t&255]};en.USHORT=Es(2);xt.SHORT=function(t){return t>=nO&&(t=-(2*nO-t)),[t>>8&255,t&255]};en.SHORT=Es(2);xt.UINT24=function(t){return[t>>16&255,t>>8&255,t&255]};en.UINT24=Es(3);xt.ULONG=function(t){return[t>>24&255,t>>16&255,t>>8&255,t&255]};en.ULONG=Es(4);xt.LONG=function(t){return t>=rO&&(t=-(2*rO-t)),[t>>24&255,t>>16&255,t>>8&255,t&255]};en.LONG=Es(4);xt.FIXED=xt.ULONG;en.FIXED=en.ULONG;xt.FWORD=xt.SHORT;en.FWORD=en.SHORT;xt.UFWORD=xt.USHORT;en.UFWORD=en.USHORT;xt.LONGDATETIME=function(t){return[0,0,0,0,t>>24&255,t>>16&255,t>>8&255,t&255]};en.LONGDATETIME=Es(8);xt.TAG=function(t){return ln.argument(t.length===4,"Tag should be exactly 4 ASCII characters."),[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]};en.TAG=Es(4);xt.Card8=xt.BYTE;en.Card8=en.BYTE;xt.Card16=xt.USHORT;en.Card16=en.USHORT;xt.OffSize=xt.BYTE;en.OffSize=en.BYTE;xt.SID=xt.USHORT;en.SID=en.USHORT;xt.NUMBER=function(t){return t>=-107&&t<=107?[t+139]:t>=108&&t<=1131?(t=t-108,[(t>>8)+247,t&255]):t>=-1131&&t<=-108?(t=-t-108,[(t>>8)+251,t&255]):t>=-32768&&t<=32767?xt.NUMBER16(t):xt.NUMBER32(t)};en.NUMBER=function(t){return xt.NUMBER(t).length};xt.NUMBER16=function(t){return[28,t>>8&255,t&255]};en.NUMBER16=Es(3);xt.NUMBER32=function(t){return[29,t>>24&255,t>>16&255,t>>8&255,t&255]};en.NUMBER32=Es(5);xt.REAL=function(t){var e=t.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(n){var r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));e=(Math.round(t*r)/r).toString()}for(var i="",o=0,a=e.length;o<a;o+=1){var s=e[o];s==="e"?i+=e[++o]==="-"?"c":"b":s==="."?i+="a":s==="-"?i+="e":i+=s}i+=i.length&1?"f":"ff";for(var l=[30],c=0,u=i.length;c<u;c+=2)l.push(parseInt(i.substr(c,2),16));return l};en.REAL=function(t){return xt.REAL(t).length};xt.NAME=xt.CHARARRAY;en.NAME=en.CHARARRAY;xt.STRING=xt.CHARARRAY;en.STRING=en.CHARARRAY;Dp.UTF8=function(t,e,n){for(var r=[],i=n,o=0;o<i;o++,e+=1)r[o]=t.getUint8(e);return String.fromCharCode.apply(null,r)};Dp.UTF16=function(t,e,n){for(var r=[],i=n/2,o=0;o<i;o++,e+=2)r[o]=t.getUint16(e);return String.fromCharCode.apply(null,r)};xt.UTF16=function(t){for(var e=[],n=0;n<t.length;n+=1){var r=t.charCodeAt(n);e[e.length]=r>>8&255,e[e.length]=r&255}return e};en.UTF16=function(t){return t.length*2};var b9={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""};Dp.MACSTRING=function(t,e,n,r){var i=b9[r];if(i!==void 0){for(var o="",a=0;a<n;a++){var s=t.getUint8(e+a);s<=127?o+=String.fromCharCode(s):o+=i[s&127]}return o}};var q1=typeof WeakMap=="function"&&new WeakMap,K1,ISe=function(t){if(!K1){K1={};for(var e in b9)K1[e]=new String(e)}var n=K1[t];if(n!==void 0){if(q1){var r=q1.get(n);if(r!==void 0)return r}var i=b9[t];if(i!==void 0){for(var o={},a=0;a<i.length;a++)o[i.charCodeAt(a)]=a+128;return q1&&q1.set(n,o),o}}};xt.MACSTRING=function(t,e){var n=ISe(e);if(n!==void 0){for(var r=[],i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=128&&(o=n[o],o===void 0))return;r[i]=o}return r}};en.MACSTRING=function(t,e){var n=xt.MACSTRING(t,e);return n!==void 0?n.length:0};function w9(t){return t>=-128&&t<=127}function NSe(t,e,n){for(var r=0,i=t.length;e<i&&r<64&&t[e]===0;)++e,++r;return n.push(128|r-1),e}function OSe(t,e,n){for(var r=0,i=t.length,o=e;o<i&&r<64;){var a=t[o];if(!w9(a)||a===0&&o+1<i&&t[o+1]===0)break;++o,++r}n.push(r-1);for(var s=e;s<o;++s)n.push(t[s]+256&255);return o}function LSe(t,e,n){for(var r=0,i=t.length,o=e;o<i&&r<64;){var a=t[o];if(a===0||w9(a)&&o+1<i&&w9(t[o+1]))break;++o,++r}n.push(64|r-1);for(var s=e;s<o;++s){var l=t[s];n.push(l+65536>>8&255,l+256&255)}return o}xt.VARDELTAS=function(t){for(var e=0,n=[];e<t.length;){var r=t[e];r===0?e=NSe(t,e,n):r>=-128&&r<=127?e=OSe(t,e,n):e=LSe(t,e,n)}return n};xt.INDEX=function(t){for(var e=1,n=[e],r=[],i=0;i<t.length;i+=1){var o=xt.OBJECT(t[i]);Array.prototype.push.apply(r,o),e+=o.length,n.push(e)}if(r.length===0)return[0,0];for(var a=[],s=1+Math.floor(Math.log(e)/Math.log(2))/8|0,l=[void 0,xt.BYTE,xt.USHORT,xt.UINT24,xt.ULONG][s],c=0;c<n.length;c+=1){var u=l(n[c]);Array.prototype.push.apply(a,u)}return Array.prototype.concat(xt.Card16(t.length),xt.OffSize(s),a,r)};en.INDEX=function(t){return xt.INDEX(t).length};xt.DICT=function(t){for(var e=[],n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=parseInt(n[i],0),a=t[o];e=e.concat(xt.OPERAND(a.value,a.type)),e=e.concat(xt.OPERATOR(o))}return e};en.DICT=function(t){return xt.DICT(t).length};xt.OPERATOR=function(t){return t<1200?[t]:[12,t-1200]};xt.OPERAND=function(t,e){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r+=1)ln.argument(t.length===e.length,"Not enough arguments given for type"+e),n=n.concat(xt.OPERAND(t[r],e[r]));else if(e==="SID")n=n.concat(xt.NUMBER(t));else if(e==="offset")n=n.concat(xt.NUMBER32(t));else if(e==="number")n=n.concat(xt.NUMBER(t));else if(e==="real")n=n.concat(xt.REAL(t));else throw new Error("Unknown operand type "+e);return n};xt.OP=xt.BYTE;en.OP=en.BYTE;var Y1=typeof WeakMap=="function"&&new WeakMap;xt.CHARSTRING=function(t){if(Y1){var e=Y1.get(t);if(e!==void 0)return e}for(var n=[],r=t.length,i=0;i<r;i+=1){var o=t[i];n=n.concat(xt[o.type](o.value))}return Y1&&Y1.set(t,n),n};en.CHARSTRING=function(t){return xt.CHARSTRING(t).length};xt.OBJECT=function(t){var e=xt[t.type];return ln.argument(e!==void 0,"No encoding function for type "+t.type),e(t.value)};en.OBJECT=function(t){var e=en[t.type];return ln.argument(e!==void 0,"No sizeOf function for type "+t.type),e(t.value)};xt.TABLE=function(t){for(var e=[],n=t.fields.length,r=[],i=[],o=0;o<n;o+=1){var a=t.fields[o],s=xt[a.type];ln.argument(s!==void 0,"No encoding function for field type "+a.type+" ("+a.name+")");var l=t[a.name];l===void 0&&(l=a.value);var c=s(l);a.type==="TABLE"?(i.push(e.length),e=e.concat([0,0]),r.push(c)):e=e.concat(c)}for(var u=0;u<r.length;u+=1){var d=i[u],f=e.length;ln.argument(f<65536,"Table "+t.tableName+" too big."),e[d]=f>>8,e[d+1]=f&255,e=e.concat(r[u])}return e};en.TABLE=function(t){for(var e=0,n=t.fields.length,r=0;r<n;r+=1){var i=t.fields[r],o=en[i.type];ln.argument(o!==void 0,"No sizeOf function for field type "+i.type+" ("+i.name+")");var a=t[i.name];a===void 0&&(a=i.value),e+=o(a),i.type==="TABLE"&&(e+=2)}return e};xt.RECORD=xt.TABLE;en.RECORD=en.TABLE;xt.LITERAL=function(t){return t};en.LITERAL=function(t){return t.length};function Ci(t,e,n){if(e.length&&(e[0].name!=="coverageFormat"||e[0].value===1))for(var r=0;r<e.length;r+=1){var i=e[r];this[i.name]=i.value}if(this.tableName=t,this.fields=e,n)for(var o=Object.keys(n),a=0;a<o.length;a+=1){var s=o[a],l=n[s];this[s]!==void 0&&(this[s]=l)}}Ci.prototype.encode=function(){return xt.TABLE(this)};Ci.prototype.sizeOf=function(){return en.TABLE(this)};function Fg(t,e,n){n===void 0&&(n=e.length);var r=new Array(e.length+1);r[0]={name:t+"Count",type:"USHORT",value:n};for(var i=0;i<e.length;i++)r[i+1]={name:t+i,type:"USHORT",value:e[i]};return r}function C9(t,e,n){var r=e.length,i=new Array(r+1);i[0]={name:t+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)i[o+1]={name:t+o,type:"TABLE",value:n(e[o],o)};return i}function $g(t,e,n){var r=e.length,i=[];i[0]={name:t+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)i=i.concat(n(e[o],o));return i}function zy(t){t.format===1?Ci.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Fg("glyph",t.glyphs))):t.format===2?Ci.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat($g("rangeRecord",t.ranges,function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]}))):ln.assert(!1,"Coverage format must be 1 or 2.")}zy.prototype=Object.create(Ci.prototype);zy.prototype.constructor=zy;function Hy(t){Ci.call(this,"scriptListTable",$g("scriptRecord",t,function(e,n){var r=e.script,i=r.defaultLangSys;return ln.assert(!!i,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+n,type:"TAG",value:e.tag},{name:"script"+n,type:"TABLE",value:new Ci("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Ci("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:i.reqFeatureIndex}].concat(Fg("featureIndex",i.featureIndexes)))}].concat($g("langSys",r.langSysRecords,function(o,a){var s=o.langSys;return[{name:"langSysTag"+a,type:"TAG",value:o.tag},{name:"langSys"+a,type:"TABLE",value:new Ci("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:s.reqFeatureIndex}].concat(Fg("featureIndex",s.featureIndexes)))}]})))}]}))}Hy.prototype=Object.create(Ci.prototype);Hy.prototype.constructor=Hy;function Gy(t){Ci.call(this,"featureListTable",$g("featureRecord",t,function(e,n){var r=e.feature;return[{name:"featureTag"+n,type:"TAG",value:e.tag},{name:"feature"+n,type:"TABLE",value:new Ci("featureTable",[{name:"featureParams",type:"USHORT",value:r.featureParams}].concat(Fg("lookupListIndex",r.lookupListIndexes)))}]}))}Gy.prototype=Object.create(Ci.prototype);Gy.prototype.constructor=Gy;function Vy(t,e){Ci.call(this,"lookupListTable",C9("lookup",t,function(n){var r=e[n.lookupType];return ln.assert(!!r,"Unable to write GSUB lookup type "+n.lookupType+" tables."),new Ci("lookupTable",[{name:"lookupType",type:"USHORT",value:n.lookupType},{name:"lookupFlag",type:"USHORT",value:n.lookupFlag}].concat(C9("subtable",n.subtables,r)))}))}Vy.prototype=Object.create(Ci.prototype);Vy.prototype.constructor=Vy;var Lt={Table:Ci,Record:Ci,Coverage:zy,ScriptList:Hy,FeatureList:Gy,LookupList:Vy,ushortList:Fg,tableList:C9,recordList:$g};function iO(t,e){return t.getUint8(e)}function Wy(t,e){return t.getUint16(e,!1)}function DSe(t,e){return t.getInt16(e,!1)}function n_(t,e){return t.getUint32(e,!1)}function UG(t,e){var n=t.getInt16(e,!1),r=t.getUint16(e+2,!1);return n+r/65535}function FSe(t,e){for(var n="",r=e;r<e+4;r+=1)n+=String.fromCharCode(t.getInt8(r));return n}function $Se(t,e,n){for(var r=0,i=0;i<n;i+=1)r<<=8,r+=t.getUint8(e+i);return r}function USe(t,e,n){for(var r=[],i=e;i<n;i+=1)r.push(t.getUint8(i));return r}function kSe(t){for(var e="",n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return e}var BSe={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Ye(t,e){this.data=t,this.offset=e,this.relativeOffset=0}Ye.prototype.parseByte=function(){var t=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};Ye.prototype.parseChar=function(){var t=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};Ye.prototype.parseCard8=Ye.prototype.parseByte;Ye.prototype.parseUShort=function(){var t=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};Ye.prototype.parseCard16=Ye.prototype.parseUShort;Ye.prototype.parseSID=Ye.prototype.parseUShort;Ye.prototype.parseOffset16=Ye.prototype.parseUShort;Ye.prototype.parseShort=function(){var t=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};Ye.prototype.parseF2Dot14=function(){var t=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,t};Ye.prototype.parseULong=function(){var t=n_(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};Ye.prototype.parseOffset32=Ye.prototype.parseULong;Ye.prototype.parseFixed=function(){var t=UG(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};Ye.prototype.parseString=function(t){var e=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=t;for(var i=0;i<t;i++)r+=String.fromCharCode(e.getUint8(n+i));return r};Ye.prototype.parseTag=function(){return this.parseString(4)};Ye.prototype.parseLongDateTime=function(){var t=n_(this.data,this.offset+this.relativeOffset+4);return t-=2082844800,this.relativeOffset+=8,t};Ye.prototype.parseVersion=function(t){var e=Wy(this.data,this.offset+this.relativeOffset),n=Wy(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t===void 0&&(t=4096),e+n/t/10};Ye.prototype.skip=function(t,e){e===void 0&&(e=1),this.relativeOffset+=BSe[t]*e};Ye.prototype.parseULongList=function(t){t===void 0&&(t=this.parseULong());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint32(r),r+=4;return this.relativeOffset+=t*4,e};Ye.prototype.parseOffset16List=Ye.prototype.parseUShortList=function(t){t===void 0&&(t=this.parseUShort());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint16(r),r+=2;return this.relativeOffset+=t*2,e};Ye.prototype.parseShortList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getInt16(r),r+=2;return this.relativeOffset+=t*2,e};Ye.prototype.parseByteList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint8(r++);return this.relativeOffset+=t,e};Ye.prototype.parseList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n};Ye.prototype.parseList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n};Ye.prototype.parseRecordList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=Object.keys(e),i=0;i<t;i++){for(var o={},a=0;a<r.length;a++){var s=r[a],l=e[s];o[s]=l.call(this)}n[i]=o}return n};Ye.prototype.parseRecordList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),r=Object.keys(e),i=0;i<t;i++){for(var o={},a=0;a<r.length;a++){var s=r[a],l=e[s];o[s]=l.call(this)}n[i]=o}return n};Ye.prototype.parseStruct=function(t){if(typeof t=="function")return t.call(this);for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r],o=t[i];n[i]=o.call(this)}return n};Ye.prototype.parseValueRecord=function(t){if(t===void 0&&(t=this.parseUShort()),t!==0){var e={};return t&1&&(e.xPlacement=this.parseShort()),t&2&&(e.yPlacement=this.parseShort()),t&4&&(e.xAdvance=this.parseShort()),t&8&&(e.yAdvance=this.parseShort()),t&16&&(e.xPlaDevice=void 0,this.parseShort()),t&32&&(e.yPlaDevice=void 0,this.parseShort()),t&64&&(e.xAdvDevice=void 0,this.parseShort()),t&128&&(e.yAdvDevice=void 0,this.parseShort()),e}};Ye.prototype.parseValueRecordList=function(){for(var t=this.parseUShort(),e=this.parseUShort(),n=new Array(e),r=0;r<e;r++)n[r]=this.parseValueRecord(t);return n};Ye.prototype.parsePointer=function(t){var e=this.parseOffset16();if(e>0)return new Ye(this.data,this.offset+e).parseStruct(t)};Ye.prototype.parsePointer32=function(t){var e=this.parseOffset32();if(e>0)return new Ye(this.data,this.offset+e).parseStruct(t)};Ye.prototype.parseListOfLists=function(t){for(var e=this.parseOffset16List(),n=e.length,r=this.relativeOffset,i=new Array(n),o=0;o<n;o++){var a=e[o];if(a===0){i[o]=void 0;continue}if(this.relativeOffset=a,t){for(var s=this.parseOffset16List(),l=new Array(s.length),c=0;c<s.length;c++)this.relativeOffset=a+s[c],l[c]=t.call(this);i[o]=l}else i[o]=this.parseUShortList()}return this.relativeOffset=r,i};Ye.prototype.parseCoverage=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort(),n=this.parseUShort();if(e===1)return{format:1,glyphs:this.parseUShortList(n)};if(e===2){for(var r=new Array(n),i=0;i<n;i++)r[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}}throw new Error("0x"+t.toString(16)+": Coverage format must be 1 or 2.")};Ye.prototype.parseClassDef=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(e===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(e===2)return{format:2,ranges:this.parseRecordList({start:Ye.uShort,end:Ye.uShort,classId:Ye.uShort})};throw new Error("0x"+t.toString(16)+": ClassDef format must be 1 or 2.")};Ye.list=function(t,e){return function(){return this.parseList(t,e)}};Ye.list32=function(t,e){return function(){return this.parseList32(t,e)}};Ye.recordList=function(t,e){return function(){return this.parseRecordList(t,e)}};Ye.recordList32=function(t,e){return function(){return this.parseRecordList32(t,e)}};Ye.pointer=function(t){return function(){return this.parsePointer(t)}};Ye.pointer32=function(t){return function(){return this.parsePointer32(t)}};Ye.tag=Ye.prototype.parseTag;Ye.byte=Ye.prototype.parseByte;Ye.uShort=Ye.offset16=Ye.prototype.parseUShort;Ye.uShortList=Ye.prototype.parseUShortList;Ye.uLong=Ye.offset32=Ye.prototype.parseULong;Ye.uLongList=Ye.prototype.parseULongList;Ye.struct=Ye.prototype.parseStruct;Ye.coverage=Ye.prototype.parseCoverage;Ye.classDef=Ye.prototype.parseClassDef;var oO={reserved:Ye.uShort,reqFeatureIndex:Ye.uShort,featureIndexes:Ye.uShortList};Ye.prototype.parseScriptList=function(){return this.parsePointer(Ye.recordList({tag:Ye.tag,script:Ye.pointer({defaultLangSys:Ye.pointer(oO),langSysRecords:Ye.recordList({tag:Ye.tag,langSys:Ye.pointer(oO)})})}))||[]};Ye.prototype.parseFeatureList=function(){return this.parsePointer(Ye.recordList({tag:Ye.tag,feature:Ye.pointer({featureParams:Ye.offset16,lookupListIndexes:Ye.uShortList})}))||[]};Ye.prototype.parseLookupList=function(t){return this.parsePointer(Ye.list(Ye.pointer(function(){var e=this.parseUShort();ln.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown.");var n=this.parseUShort(),r=n&16;return{lookupType:e,lookupFlag:n,subtables:this.parseList(Ye.pointer(t[e])),markFilteringSet:r?this.parseUShort():void 0}})))||[]};Ye.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var t=this.parseUShort(),e=this.parseUShort();ln.argument(t===1&&e<1,"GPOS/GSUB feature variations table unknown.");var n=this.parseRecordList32({conditionSetOffset:Ye.offset32,featureTableSubstitutionOffset:Ye.offset32});return n})||[]};var gn={getByte:iO,getCard8:iO,getUShort:Wy,getCard16:Wy,getShort:DSe,getULong:n_,getFixed:UG,getTag:FSe,getOffset:$Se,getBytes:USe,bytesToString:kSe,Parser:Ye};function zSe(t,e){e.parseUShort(),t.length=e.parseULong(),t.language=e.parseULong();var n;t.groupCount=n=e.parseULong(),t.glyphIndexMap={};for(var r=0;r<n;r+=1)for(var i=e.parseULong(),o=e.parseULong(),a=e.parseULong(),s=i;s<=o;s+=1)t.glyphIndexMap[s]=a,a++}function HSe(t,e,n,r,i){t.length=e.parseUShort(),t.language=e.parseUShort();var o;t.segCount=o=e.parseUShort()>>1,e.skip("uShort",3),t.glyphIndexMap={};for(var a=new gn.Parser(n,r+i+14),s=new gn.Parser(n,r+i+16+o*2),l=new gn.Parser(n,r+i+16+o*4),c=new gn.Parser(n,r+i+16+o*6),u=r+i+16+o*8,d=0;d<o-1;d+=1)for(var f=void 0,p=a.parseUShort(),y=s.parseUShort(),b=l.parseShort(),x=c.parseUShort(),v=y;v<=p;v+=1)x!==0?(u=c.offset+c.relativeOffset-2,u+=x,u+=(v-y)*2,f=gn.getUShort(n,u),f!==0&&(f=f+b&65535)):f=v+b&65535,t.glyphIndexMap[v]=f}function GSe(t,e){var n={};n.version=gn.getUShort(t,e),ln.argument(n.version===0,"cmap table version should be 0."),n.numTables=gn.getUShort(t,e+2);for(var r=-1,i=n.numTables-1;i>=0;i-=1){var o=gn.getUShort(t,e+4+i*8),a=gn.getUShort(t,e+4+i*8+2);if(o===3&&(a===0||a===1||a===10)||o===0&&(a===0||a===1||a===2||a===3||a===4)){r=gn.getULong(t,e+4+i*8+4);break}}if(r===-1)throw new Error("No valid cmap sub-tables found.");var s=new gn.Parser(t,e+r);if(n.format=s.parseUShort(),n.format===12)zSe(n,s);else if(n.format===4)HSe(n,s,t,e,r);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");return n}function VSe(t,e,n){t.segments.push({end:e,start:e,delta:-(e-n),offset:0,glyphIndex:n})}function WSe(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}function jSe(t){var e=!0,n;for(n=t.length-1;n>0;n-=1){var r=t.get(n);if(r.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),e=!1;break}}var i=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:e?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:e?12:12+8}];e||(i=i.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),i=i.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var o=new Lt.Table("cmap",i);for(o.segments=[],n=0;n<t.length;n+=1){for(var a=t.get(n),s=0;s<a.unicodes.length;s+=1)VSe(o,a.unicodes[s],n);o.segments=o.segments.sort(function(w,S){return w.start-S.start})}WSe(o);var l=o.segments.length,c=0,u=[],d=[],f=[],p=[],y=[],b=[];for(n=0;n<l;n+=1){var x=o.segments[n];x.end<=65535&&x.start<=65535?(u=u.concat({name:"end_"+n,type:"USHORT",value:x.end}),d=d.concat({name:"start_"+n,type:"USHORT",value:x.start}),f=f.concat({name:"idDelta_"+n,type:"SHORT",value:x.delta}),p=p.concat({name:"idRangeOffset_"+n,type:"USHORT",value:x.offset}),x.glyphId!==void 0&&(y=y.concat({name:"glyph_"+n,type:"USHORT",value:x.glyphId}))):c+=1,!e&&x.glyphIndex!==void 0&&(b=b.concat({name:"cmap12Start_"+n,type:"ULONG",value:x.start}),b=b.concat({name:"cmap12End_"+n,type:"ULONG",value:x.end}),b=b.concat({name:"cmap12Glyph_"+n,type:"ULONG",value:x.glyphIndex}))}if(o.segCountX2=(l-c)*2,o.searchRange=Math.pow(2,Math.floor(Math.log(l-c)/Math.log(2)))*2,o.entrySelector=Math.log(o.searchRange/2)/Math.log(2),o.rangeShift=o.segCountX2-o.searchRange,o.fields=o.fields.concat(u),o.fields.push({name:"reservedPad",type:"USHORT",value:0}),o.fields=o.fields.concat(d),o.fields=o.fields.concat(f),o.fields=o.fields.concat(p),o.fields=o.fields.concat(y),o.cmap4Length=14+u.length*2+2+d.length*2+f.length*2+p.length*2+y.length*2,!e){var v=16+b.length*4;o.cmap12Offset=12+2*2+4+o.cmap4Length,o.fields=o.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:v},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:b.length/3}]),o.fields=o.fields.concat(b)}return o}var XSe={parse:GSe,make:jSe},R2=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],qSe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],KSe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],aO=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function kG(t){this.font=t}kG.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.font.glyphs;if(n){for(var r=0;r<n.length;r+=1)for(var i=n.get(r),o=0;o<i.unicodes.length;o+=1)if(i.unicodes[o]===e)return r}return null};function jy(t,e){this.encoding=t,this.charset=e}jy.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.encoding[e];return this.charset.indexOf(n)};function YSe(t,e,n,r,i){t.beginPath(),t.moveTo(e,n),t.lineTo(r,i),t.stroke()}var Lu={line:YSe};function ZSe(t,e){var n=e||new vi;return{configurable:!0,get:function(){return typeof n=="function"&&(n=n()),n},set:function(r){n=r}}}function $a(t){this.bindConstructorValues(t)}$a.prototype.bindConstructorValues=function(t){this.index=t.index||0,this.name=t.name||null,this.unicode=t.unicode||void 0,this.unicodes=t.unicodes||t.unicode!==void 0?[t.unicode]:[],"xMin"in t&&(this.xMin=t.xMin),"yMin"in t&&(this.yMin=t.yMin),"xMax"in t&&(this.xMax=t.xMax),"yMax"in t&&(this.yMax=t.yMax),"advanceWidth"in t&&(this.advanceWidth=t.advanceWidth),Object.defineProperty(this,"path",ZSe(this,t.path))};$a.prototype.addUnicode=function(t){this.unicodes.length===0&&(this.unicode=t),this.unicodes.push(t)};$a.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};$a.prototype.getPath=function(t,e,n,r,i){t=t!==void 0?t:0,e=e!==void 0?e:0,n=n!==void 0?n:72;var o,a;r||(r={});var s=r.xScale,l=r.yScale;if(r.hinting&&i&&i.hinting&&(a=this.path&&i.hinting.exec(this,n)),a)o=i.hinting.getCommands(a),t=Math.round(t),e=Math.round(e),s=l=1;else{o=this.path.commands;var c=1/(this.path.unitsPerEm||1e3)*n;s===void 0&&(s=c),l===void 0&&(l=c)}for(var u=new vi,d=0;d<o.length;d+=1){var f=o[d];f.type==="M"?u.moveTo(t+f.x*s,e+-f.y*l):f.type==="L"?u.lineTo(t+f.x*s,e+-f.y*l):f.type==="Q"?u.quadraticCurveTo(t+f.x1*s,e+-f.y1*l,t+f.x*s,e+-f.y*l):f.type==="C"?u.curveTo(t+f.x1*s,e+-f.y1*l,t+f.x2*s,e+-f.y2*l,t+f.x*s,e+-f.y*l):f.type==="Z"&&u.closePath()}return u};$a.prototype.getContours=function(){if(this.points===void 0)return[];for(var t=[],e=[],n=0;n<this.points.length;n+=1){var r=this.points[n];e.push(r),r.lastPointOfContour&&(t.push(e),e=[])}return ln.argument(e.length===0,"There are still points left in the current contour."),t};$a.prototype.getMetrics=function(){for(var t=this.path.commands,e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];i.type!=="Z"&&(e.push(i.x),n.push(i.y)),(i.type==="Q"||i.type==="C")&&(e.push(i.x1),n.push(i.y1)),i.type==="C"&&(e.push(i.x2),n.push(i.y2))}var o={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o};$a.prototype.draw=function(t,e,n,r,i){this.getPath(e,n,r,i).draw(t)};$a.prototype.drawPoints=function(t,e,n,r){function i(d,f,p,y){t.beginPath();for(var b=0;b<d.length;b+=1)t.moveTo(f+d[b].x*y,p+d[b].y*y),t.arc(f+d[b].x*y,p+d[b].y*y,2,0,Math.PI*2,!1);t.closePath(),t.fill()}e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:24;for(var o=1/this.path.unitsPerEm*r,a=[],s=[],l=this.path,c=0;c<l.commands.length;c+=1){var u=l.commands[c];u.x!==void 0&&a.push({x:u.x,y:-u.y}),u.x1!==void 0&&s.push({x:u.x1,y:-u.y1}),u.x2!==void 0&&s.push({x:u.x2,y:-u.y2})}t.fillStyle="blue",i(a,e,n,o),t.fillStyle="red",i(s,e,n,o)};$a.prototype.drawMetrics=function(t,e,n,r){var i;e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:24,i=1/this.path.unitsPerEm*r,t.lineWidth=1,t.strokeStyle="black",Lu.line(t,e,-1e4,e,1e4),Lu.line(t,-1e4,n,1e4,n);var o=this.xMin||0,a=this.yMin||0,s=this.xMax||0,l=this.yMax||0,c=this.advanceWidth||0;t.strokeStyle="blue",Lu.line(t,e+o*i,-1e4,e+o*i,1e4),Lu.line(t,e+s*i,-1e4,e+s*i,1e4),Lu.line(t,-1e4,n+-a*i,1e4,n+-a*i),Lu.line(t,-1e4,n+-l*i,1e4,n+-l*i),t.strokeStyle="green",Lu.line(t,e+c*i,-1e4,e+c*i,1e4)};function Z1(t,e,n){Object.defineProperty(t,e,{get:function(){return t.path,t[n]},set:function(r){t[n]=r},enumerable:!0,configurable:!0})}function r_(t,e){if(this.font=t,this.glyphs={},Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];r.path.unitsPerEm=t.unitsPerEm,this.glyphs[n]=r}this.length=e&&e.length||0}r_.prototype.get=function(t){if(this.glyphs[t]===void 0){this.font._push(t),typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());var e=this.glyphs[t],n=this.font._IndexToUnicodeMap[t];if(n)for(var r=0;r<n.unicodes.length;r++)e.addUnicode(n.unicodes[r]);this.font.cffEncoding?this.font.isCIDFont?e.name="gid"+t:e.name=this.font.cffEncoding.charset[t]:this.font.glyphNames.names&&(e.name=this.font.glyphNames.glyphIndexToName(t)),this.glyphs[t].advanceWidth=this.font._hmtxTableData[t].advanceWidth,this.glyphs[t].leftSideBearing=this.font._hmtxTableData[t].leftSideBearing}else typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());return this.glyphs[t]};r_.prototype.push=function(t,e){this.glyphs[t]=e,this.length++};function QSe(t,e){return new $a({index:e,font:t})}function JSe(t,e,n,r,i,o){return function(){var a=new $a({index:e,font:t});return a.path=function(){n(a,r,i);var s=o(t.glyphs,a);return s.unitsPerEm=t.unitsPerEm,s},Z1(a,"xMin","_xMin"),Z1(a,"xMax","_xMax"),Z1(a,"yMin","_yMin"),Z1(a,"yMax","_yMax"),a}}function ebe(t,e,n,r){return function(){var i=new $a({index:e,font:t});return i.path=function(){var o=n(t,i,r);return o.unitsPerEm=t.unitsPerEm,o},i}}var qs={GlyphSet:r_,glyphLoader:QSe,ttfGlyphLoader:JSe,cffGlyphLoader:ebe};function BG(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n+=1)if(!BG(t[n],e[n]))return!1;return!0}else return!1}function E9(t){var e;return t.length<1240?e=107:t.length<33900?e=1131:e=32768,e}function wc(t,e,n){var r=[],i=[],o=gn.getCard16(t,e),a,s;if(o!==0){var l=gn.getByte(t,e+2);a=e+(o+1)*l+2;for(var c=e+3,u=0;u<o+1;u+=1)r.push(gn.getOffset(t,c,l)),c+=l;s=a+r[o]}else s=e+2;for(var d=0;d<r.length-1;d+=1){var f=gn.getBytes(t,a+r[d],a+r[d+1]);n&&(f=n(f)),i.push(f)}return{objects:i,startOffset:e,endOffset:s}}function tbe(t,e){var n=[],r=gn.getCard16(t,e),i,o;if(r!==0){var a=gn.getByte(t,e+2);i=e+(r+1)*a+2;for(var s=e+3,l=0;l<r+1;l+=1)n.push(gn.getOffset(t,s,a)),s+=a;o=i+n[r]}else o=e+2;return{offsets:n,startOffset:e,endOffset:o}}function nbe(t,e,n,r,i){var o=gn.getCard16(n,r),a=0;if(o!==0){var s=gn.getByte(n,r+2);a=r+(o+1)*s+2}var l=gn.getBytes(n,a+e[t],a+e[t+1]);return i&&(l=i(l)),l}function rbe(t){for(var e="",n=15,r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var i=t.parseByte(),o=i>>4,a=i&15;if(o===n||(e+=r[o],a===n))break;e+=r[a]}return parseFloat(e)}function ibe(t,e){var n,r,i,o;if(e===28)return n=t.parseByte(),r=t.parseByte(),n<<8|r;if(e===29)return n=t.parseByte(),r=t.parseByte(),i=t.parseByte(),o=t.parseByte(),n<<24|r<<16|i<<8|o;if(e===30)return rbe(t);if(e>=32&&e<=246)return e-139;if(e>=247&&e<=250)return n=t.parseByte(),(e-247)*256+n+108;if(e>=251&&e<=254)return n=t.parseByte(),-(e-251)*256-n-108;throw new Error("Invalid b0 "+e)}function obe(t){for(var e={},n=0;n<t.length;n+=1){var r=t[n][0],i=t[n][1],o=void 0;if(i.length===1?o=i[0]:o=i,e.hasOwnProperty(r)&&!isNaN(e[r]))throw new Error("Object "+e+" already has key "+r);e[r]=o}return e}function zG(t,e,n){e=e!==void 0?e:0;var r=new gn.Parser(t,e),i=[],o=[];for(n=n!==void 0?n:t.length;r.relativeOffset<n;){var a=r.parseByte();a<=21?(a===12&&(a=1200+r.parseByte()),i.push([a,o]),o=[]):o.push(ibe(r,a))}return obe(i)}function $m(t,e){return e<=390?e=R2[e]:e=t[e-391],e}function HG(t,e,n){for(var r={},i,o=0;o<e.length;o+=1){var a=e[o];if(Array.isArray(a.type)){var s=[];s.length=a.type.length;for(var l=0;l<a.type.length;l++)i=t[a.op]!==void 0?t[a.op][l]:void 0,i===void 0&&(i=a.value!==void 0&&a.value[l]!==void 0?a.value[l]:null),a.type[l]==="SID"&&(i=$m(n,i)),s[l]=i;r[a.name]=s}else i=t[a.op],i===void 0&&(i=a.value!==void 0?a.value:null),a.type==="SID"&&(i=$m(n,i)),r[a.name]=i}return r}function abe(t,e){var n={};return n.formatMajor=gn.getCard8(t,e),n.formatMinor=gn.getCard8(t,e+1),n.size=gn.getCard8(t,e+2),n.offsetSize=gn.getCard8(t,e+3),n.startOffset=e,n.endOffset=e+4,n}var GG=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],VG=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function sbe(t,e){var n=zG(t,0,t.byteLength);return HG(n,GG,e)}function WG(t,e,n,r){var i=zG(t,e,n);return HG(i,VG,r)}function sO(t,e,n,r){for(var i=[],o=0;o<n.length;o+=1){var a=new DataView(new Uint8Array(n[o]).buffer),s=sbe(a,r);s._subrs=[],s._subrsBias=0,s._defaultWidthX=0,s._nominalWidthX=0;var l=s.private[0],c=s.private[1];if(l!==0&&c!==0){var u=WG(t,c+e,l,r);if(s._defaultWidthX=u.defaultWidthX,s._nominalWidthX=u.nominalWidthX,u.subrs!==0){var d=c+u.subrs,f=wc(t,d+e);s._subrs=f.objects,s._subrsBias=E9(s._subrs)}s._privateDict=u}i.push(s)}return i}function lbe(t,e,n,r){var i,o,a=new gn.Parser(t,e);n-=1;var s=[".notdef"],l=a.parseCard8();if(l===0)for(var c=0;c<n;c+=1)i=a.parseSID(),s.push($m(r,i));else if(l===1)for(;s.length<=n;){i=a.parseSID(),o=a.parseCard8();for(var u=0;u<=o;u+=1)s.push($m(r,i)),i+=1}else if(l===2)for(;s.length<=n;){i=a.parseSID(),o=a.parseCard16();for(var d=0;d<=o;d+=1)s.push($m(r,i)),i+=1}else throw new Error("Unknown charset format "+l);return s}function cbe(t,e,n){var r,i={},o=new gn.Parser(t,e),a=o.parseCard8();if(a===0)for(var s=o.parseCard8(),l=0;l<s;l+=1)r=o.parseCard8(),i[r]=l;else if(a===1){var c=o.parseCard8();r=1;for(var u=0;u<c;u+=1)for(var d=o.parseCard8(),f=o.parseCard8(),p=d;p<=d+f;p+=1)i[p]=r,r+=1}else throw new Error("Unknown encoding format "+a);return new jy(i,n)}function lO(t,e,n){var r,i,o,a,s=new vi,l=[],c=0,u=!1,d=!1,f=0,p=0,y,b,x,v;if(t.isCIDFont){var w=t.tables.cff.topDict._fdSelect[e.index],S=t.tables.cff.topDict._fdArray[w];y=S._subrs,b=S._subrsBias,x=S._defaultWidthX,v=S._nominalWidthX}else y=t.tables.cff.topDict._subrs,b=t.tables.cff.topDict._subrsBias,x=t.tables.cff.topDict._defaultWidthX,v=t.tables.cff.topDict._nominalWidthX;var C=x;function _(I,R){d&&s.closePath(),s.moveTo(I,R),d=!0}function T(){var I;I=l.length%2!==0,I&&!u&&(C=l.shift()+v),c+=l.length>>1,l.length=0,u=!0}function M(I){for(var R,P,L,k,H,D,G,B,$,O,z,V,F=0;F<I.length;){var W=I[F];switch(F+=1,W){case 1:T();break;case 3:T();break;case 4:l.length>1&&!u&&(C=l.shift()+v,u=!0),p+=l.pop(),_(f,p);break;case 5:for(;l.length>0;)f+=l.shift(),p+=l.shift(),s.lineTo(f,p);break;case 6:for(;l.length>0&&(f+=l.shift(),s.lineTo(f,p),l.length!==0);)p+=l.shift(),s.lineTo(f,p);break;case 7:for(;l.length>0&&(p+=l.shift(),s.lineTo(f,p),l.length!==0);)f+=l.shift(),s.lineTo(f,p);break;case 8:for(;l.length>0;)r=f+l.shift(),i=p+l.shift(),o=r+l.shift(),a=i+l.shift(),f=o+l.shift(),p=a+l.shift(),s.curveTo(r,i,o,a,f,p);break;case 10:H=l.pop()+b,D=y[H],D&&M(D);break;case 11:return;case 12:switch(W=I[F],F+=1,W){case 35:r=f+l.shift(),i=p+l.shift(),o=r+l.shift(),a=i+l.shift(),G=o+l.shift(),B=a+l.shift(),$=G+l.shift(),O=B+l.shift(),z=$+l.shift(),V=O+l.shift(),f=z+l.shift(),p=V+l.shift(),l.shift(),s.curveTo(r,i,o,a,G,B),s.curveTo($,O,z,V,f,p);break;case 34:r=f+l.shift(),i=p,o=r+l.shift(),a=i+l.shift(),G=o+l.shift(),B=a,$=G+l.shift(),O=a,z=$+l.shift(),V=p,f=z+l.shift(),s.curveTo(r,i,o,a,G,B),s.curveTo($,O,z,V,f,p);break;case 36:r=f+l.shift(),i=p+l.shift(),o=r+l.shift(),a=i+l.shift(),G=o+l.shift(),B=a,$=G+l.shift(),O=a,z=$+l.shift(),V=O+l.shift(),f=z+l.shift(),s.curveTo(r,i,o,a,G,B),s.curveTo($,O,z,V,f,p);break;case 37:r=f+l.shift(),i=p+l.shift(),o=r+l.shift(),a=i+l.shift(),G=o+l.shift(),B=a+l.shift(),$=G+l.shift(),O=B+l.shift(),z=$+l.shift(),V=O+l.shift(),Math.abs(z-f)>Math.abs(V-p)?f=z+l.shift():p=V+l.shift(),s.curveTo(r,i,o,a,G,B),s.curveTo($,O,z,V,f,p);break;default:console.log("Glyph "+e.index+": unknown operator 1200"+W),l.length=0}break;case 14:l.length>0&&!u&&(C=l.shift()+v,u=!0),d&&(s.closePath(),d=!1);break;case 18:T();break;case 19:case 20:T(),F+=c+7>>3;break;case 21:l.length>2&&!u&&(C=l.shift()+v,u=!0),p+=l.pop(),f+=l.pop(),_(f,p);break;case 22:l.length>1&&!u&&(C=l.shift()+v,u=!0),f+=l.pop(),_(f,p);break;case 23:T();break;case 24:for(;l.length>2;)r=f+l.shift(),i=p+l.shift(),o=r+l.shift(),a=i+l.shift(),f=o+l.shift(),p=a+l.shift(),s.curveTo(r,i,o,a,f,p);f+=l.shift(),p+=l.shift(),s.lineTo(f,p);break;case 25:for(;l.length>6;)f+=l.shift(),p+=l.shift(),s.lineTo(f,p);r=f+l.shift(),i=p+l.shift(),o=r+l.shift(),a=i+l.shift(),f=o+l.shift(),p=a+l.shift(),s.curveTo(r,i,o,a,f,p);break;case 26:for(l.length%2&&(f+=l.shift());l.length>0;)r=f,i=p+l.shift(),o=r+l.shift(),a=i+l.shift(),f=o,p=a+l.shift(),s.curveTo(r,i,o,a,f,p);break;case 27:for(l.length%2&&(p+=l.shift());l.length>0;)r=f+l.shift(),i=p,o=r+l.shift(),a=i+l.shift(),f=o+l.shift(),p=a,s.curveTo(r,i,o,a,f,p);break;case 28:R=I[F],P=I[F+1],l.push((R<<24|P<<16)>>16),F+=2;break;case 29:H=l.pop()+t.gsubrsBias,D=t.gsubrs[H],D&&M(D);break;case 30:for(;l.length>0&&(r=f,i=p+l.shift(),o=r+l.shift(),a=i+l.shift(),f=o+l.shift(),p=a+(l.length===1?l.shift():0),s.curveTo(r,i,o,a,f,p),l.length!==0);)r=f+l.shift(),i=p,o=r+l.shift(),a=i+l.shift(),p=a+l.shift(),f=o+(l.length===1?l.shift():0),s.curveTo(r,i,o,a,f,p);break;case 31:for(;l.length>0&&(r=f+l.shift(),i=p,o=r+l.shift(),a=i+l.shift(),p=a+l.shift(),f=o+(l.length===1?l.shift():0),s.curveTo(r,i,o,a,f,p),l.length!==0);)r=f,i=p+l.shift(),o=r+l.shift(),a=i+l.shift(),f=o+l.shift(),p=a+(l.length===1?l.shift():0),s.curveTo(r,i,o,a,f,p);break;default:W<32?console.log("Glyph "+e.index+": unknown operator "+W):W<247?l.push(W-139):W<251?(R=I[F],F+=1,l.push((W-247)*256+R+108)):W<255?(R=I[F],F+=1,l.push(-(W-251)*256-R-108)):(R=I[F],P=I[F+1],L=I[F+2],k=I[F+3],F+=4,l.push((R<<24|P<<16|L<<8|k)/65536))}}}return M(n),e.advanceWidth=C,s}function ube(t,e,n,r){var i=[],o,a=new gn.Parser(t,e),s=a.parseCard8();if(s===0)for(var l=0;l<n;l++){if(o=a.parseCard8(),o>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+r+")");i.push(o)}else if(s===3){var c=a.parseCard16(),u=a.parseCard16();if(u!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+u);for(var d,f=0;f<c;f++){if(o=a.parseCard8(),d=a.parseCard16(),o>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+r+")");if(d>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+d);for(;u<d;u++)i.push(o);u=d}if(d!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+d)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+s);return i}function dbe(t,e,n,r){n.tables.cff={};var i=abe(t,e),o=wc(t,i.endOffset,gn.bytesToString),a=wc(t,o.endOffset),s=wc(t,a.endOffset,gn.bytesToString),l=wc(t,s.endOffset);n.gsubrs=l.objects,n.gsubrsBias=E9(n.gsubrs);var c=sO(t,e,a.objects,s.objects);if(c.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+c.length);var u=c[0];if(n.tables.cff.topDict=u,u._privateDict&&(n.defaultWidthX=u._privateDict.defaultWidthX,n.nominalWidthX=u._privateDict.nominalWidthX),u.ros[0]!==void 0&&u.ros[1]!==void 0&&(n.isCIDFont=!0),n.isCIDFont){var d=u.fdArray,f=u.fdSelect;if(d===0||f===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");d+=e;var p=wc(t,d),y=sO(t,e,p.objects,s.objects);u._fdArray=y,f+=e,u._fdSelect=ube(t,f,n.numGlyphs,y.length)}var b=e+u.private[1],x=WG(t,b,u.private[0],s.objects);if(n.defaultWidthX=x.defaultWidthX,n.nominalWidthX=x.nominalWidthX,x.subrs!==0){var v=b+x.subrs,w=wc(t,v);n.subrs=w.objects,n.subrsBias=E9(n.subrs)}else n.subrs=[],n.subrsBias=0;var S;r.lowMemory?(S=tbe(t,e+u.charStrings),n.nGlyphs=S.offsets.length):(S=wc(t,e+u.charStrings),n.nGlyphs=S.objects.length);var C=lbe(t,e+u.charset,n.nGlyphs,s.objects);if(u.encoding===0?n.cffEncoding=new jy(qSe,C):u.encoding===1?n.cffEncoding=new jy(KSe,C):n.cffEncoding=cbe(t,e+u.encoding,C),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new qs.GlyphSet(n),r.lowMemory)n._push=function(M){var I=nbe(M,S.offsets,t,e+u.charStrings);n.glyphs.push(M,qs.cffGlyphLoader(n,M,lO,I))};else for(var _=0;_<n.nGlyphs;_+=1){var T=S.objects[_];n.glyphs.push(_,qs.cffGlyphLoader(n,_,lO,T))}}function jG(t,e){var n,r=R2.indexOf(t);return r>=0&&(n=r),r=e.indexOf(t),r>=0?n=r+R2.length:(n=R2.length+e.length,e.push(t)),n}function fbe(){return new Lt.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function hbe(t){var e=new Lt.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(var n=0;n<t.length;n+=1)e.names.push({name:"name_"+n,type:"NAME",value:t[n]});return e}function XG(t,e,n){for(var r={},i=0;i<t.length;i+=1){var o=t[i],a=e[o.name];a!==void 0&&!BG(a,o.value)&&(o.type==="SID"&&(a=jG(a,n)),r[o.op]={name:o.name,type:o.type,value:a})}return r}function cO(t,e){var n=new Lt.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=XG(GG,t,e),n}function uO(t){var e=new Lt.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:t}],e}function pbe(t){var e=new Lt.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(var n=0;n<t.length;n+=1)e.strings.push({name:"string_"+n,type:"STRING",value:t[n]});return e}function mbe(){return new Lt.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function gbe(t,e){for(var n=new Lt.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<t.length;r+=1){var i=t[r],o=jG(i,e);n.fields.push({name:"glyph_"+r,type:"SID",value:o})}return n}function vbe(t){var e=[],n=t.path;e.push({name:"width",type:"NUMBER",value:t.advanceWidth});for(var r=0,i=0,o=0;o<n.commands.length;o+=1){var a=void 0,s=void 0,l=n.commands[o];if(l.type==="Q"){var c=.3333333333333333,u=2/3;l={type:"C",x:l.x,y:l.y,x1:Math.round(c*r+u*l.x1),y1:Math.round(c*i+u*l.y1),x2:Math.round(c*l.x+u*l.x1),y2:Math.round(c*l.y+u*l.y1)}}if(l.type==="M")a=Math.round(l.x-r),s=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:a}),e.push({name:"dy",type:"NUMBER",value:s}),e.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="L")a=Math.round(l.x-r),s=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:a}),e.push({name:"dy",type:"NUMBER",value:s}),e.push({name:"rlineto",type:"OP",value:5}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="C"){var d=Math.round(l.x1-r),f=Math.round(l.y1-i),p=Math.round(l.x2-l.x1),y=Math.round(l.y2-l.y1);a=Math.round(l.x-l.x2),s=Math.round(l.y-l.y2),e.push({name:"dx1",type:"NUMBER",value:d}),e.push({name:"dy1",type:"NUMBER",value:f}),e.push({name:"dx2",type:"NUMBER",value:p}),e.push({name:"dy2",type:"NUMBER",value:y}),e.push({name:"dx",type:"NUMBER",value:a}),e.push({name:"dy",type:"NUMBER",value:s}),e.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(l.x),i=Math.round(l.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}function ybe(t){for(var e=new Lt.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<t.length;n+=1){var r=t.get(n),i=vbe(r);e.charStrings.push({name:r.name,type:"CHARSTRING",value:i})}return e}function xbe(t,e){var n=new Lt.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=XG(VG,t,e),n}function Sbe(t,e){for(var n=new Lt.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),r=1/e.unitsPerEm,i={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[r,0,0,r,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},o={},a=[],s,l=1;l<t.length;l+=1)s=t.get(l),a.push(s.name);var c=[];n.header=fbe(),n.nameIndex=hbe([e.postScriptName]);var u=cO(i,c);n.topDictIndex=uO(u),n.globalSubrIndex=mbe(),n.charsets=gbe(a,c),n.charStringsIndex=ybe(t),n.privateDict=xbe(o,c),n.stringIndex=pbe(c);var d=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return i.charset=d,i.encoding=0,i.charStrings=i.charset+n.charsets.sizeOf(),i.private[1]=i.charStrings+n.charStringsIndex.sizeOf(),u=cO(i,c),n.topDictIndex=uO(u),n}var bbe={parse:dbe,make:Sbe};function wbe(t,e){var n={},r=new gn.Parser(t,e);return n.version=r.parseVersion(),n.fontRevision=Math.round(r.parseFixed()*1e3)/1e3,n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),ln.argument(n.magicNumber===1594834165,"Font header has wrong magic number."),n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),n}function Cbe(t){var e=Math.round(new Date().getTime()/1e3)+2082844800,n=e;return t.createdTimestamp&&(n=t.createdTimestamp+2082844800),new Lt.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:e},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],t)}var Ebe={parse:wbe,make:Cbe};function _be(t,e){var n={},r=new gn.Parser(t,e);return n.version=r.parseVersion(),n.ascender=r.parseShort(),n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),n}function Tbe(t){return new Lt.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],t)}var Mbe={parse:_be,make:Tbe};function Rbe(t,e,n,r,i){for(var o,a,s=new gn.Parser(t,e),l=0;l<r;l+=1){l<n&&(o=s.parseUShort(),a=s.parseShort());var c=i.get(l);c.advanceWidth=o,c.leftSideBearing=a}}function Abe(t,e,n,r,i){t._hmtxTableData={};for(var o,a,s=new gn.Parser(e,n),l=0;l<i;l+=1)l<r&&(o=s.parseUShort(),a=s.parseShort()),t._hmtxTableData[l]={advanceWidth:o,leftSideBearing:a}}function Pbe(t,e,n,r,i,o,a){a.lowMemory?Abe(t,e,n,r,i):Rbe(e,n,r,i,o)}function Ibe(t){for(var e=new Lt.Table("hmtx",[]),n=0;n<t.length;n+=1){var r=t.get(n),i=r.advanceWidth||0,o=r.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:i}),e.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:o})}return e}var Nbe={parse:Pbe,make:Ibe};function Obe(t){for(var e=new Lt.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:t.length}]),n="",r=12+t.length*4,i=0;i<t.length;++i){var o=n.indexOf(t[i]);o<0&&(o=n.length,n+=t[i]),e.fields.push({name:"offset "+i,type:"USHORT",value:r+o}),e.fields.push({name:"length "+i,type:"USHORT",value:t[i].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),e}function Lbe(t,e){var n=new gn.Parser(t,e),r=n.parseULong();ln.argument(r===1,"Unsupported ltag table version."),n.skip("uLong",1);for(var i=n.parseULong(),o=[],a=0;a<i;a++){for(var s="",l=e+n.parseUShort(),c=n.parseUShort(),u=l;u<l+c;++u)s+=String.fromCharCode(t.getInt8(u));o.push(s)}return o}var Dbe={make:Obe,parse:Lbe};function Fbe(t,e){var n={},r=new gn.Parser(t,e);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),n.version===1&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),n.maxComponentDepth=r.parseUShort()),n}function $be(t){return new Lt.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:t}])}var Ube={parse:Fbe,make:$be},qG=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],KG={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},kbe={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},YG={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function Bbe(t,e,n){switch(t){case 0:if(e===65535)return"und";if(n)return n[e];break;case 1:return KG[e];case 3:return YG[e]}}var _9="utf-16",zbe={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Hbe={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function ZG(t,e,n){switch(t){case 0:return _9;case 1:return Hbe[n]||zbe[e];case 3:if(e===1||e===10)return _9;break}}function Gbe(t,e,n){for(var r={},i=new gn.Parser(t,e),o=i.parseUShort(),a=i.parseUShort(),s=i.offset+i.parseUShort(),l=0;l<a;l++){var c=i.parseUShort(),u=i.parseUShort(),d=i.parseUShort(),f=i.parseUShort(),p=qG[f]||f,y=i.parseUShort(),b=i.parseUShort(),x=Bbe(c,d,n),v=ZG(c,u,d);if(v!==void 0&&x!==void 0){var w=void 0;if(v===_9?w=Dp.UTF16(t,s+b,y):w=Dp.MACSTRING(t,s+b,y,v),w){var S=r[p];S===void 0&&(S=r[p]={}),S[x]=w}}}return o===1&&i.parseUShort(),r}function HS(t){var e={};for(var n in t)e[t[n]]=parseInt(n);return e}function dO(t,e,n,r,i,o){return new Lt.Record("NameRecord",[{name:"platformID",type:"USHORT",value:t},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:o}])}function Vbe(t,e){var n=t.length,r=e.length-n+1;e:for(var i=0;i<r;i++)for(;i<r;i++){for(var o=0;o<n;o++)if(e[i+o]!==t[o])continue e;return i}return-1}function fO(t,e){var n=Vbe(t,e);if(n<0){n=e.length;for(var r=0,i=t.length;r<i;++r)e.push(t[r])}return n}function Wbe(t,e){var n,r=[],i={},o=HS(qG);for(var a in t){var s=o[a];if(s===void 0&&(s=a),n=parseInt(s),isNaN(n))throw new Error('Name table entry "'+a+'" does not exist, see nameTableNames for complete list.');i[n]=t[a],r.push(n)}for(var l=HS(KG),c=HS(YG),u=[],d=[],f=0;f<r.length;f++){n=r[f];var p=i[n];for(var y in p){var b=p[y],x=1,v=l[y],w=kbe[v],S=ZG(x,w,v),C=xt.MACSTRING(b,S);C===void 0&&(x=0,v=e.indexOf(y),v<0&&(v=e.length,e.push(y)),w=4,C=xt.UTF16(b));var _=fO(C,d);u.push(dO(x,w,v,n,C.length,_));var T=c[y];if(T!==void 0){var M=xt.UTF16(b),I=fO(M,d);u.push(dO(3,1,T,n,M.length,I))}}}u.sort(function(L,k){return L.platformID-k.platformID||L.encodingID-k.encodingID||L.languageID-k.languageID||L.nameID-k.nameID});for(var R=new Lt.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:u.length},{name:"stringOffset",type:"USHORT",value:6+u.length*12}]),P=0;P<u.length;P++)R.fields.push({name:"record_"+P,type:"RECORD",value:u[P]});return R.fields.push({name:"strings",type:"LITERAL",value:d}),R}var jbe={parse:Gbe,make:Wbe},T9=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function Xbe(t){for(var e=0;e<T9.length;e+=1){var n=T9[e];if(t>=n.begin&&t<n.end)return e}return-1}function qbe(t,e){var n={},r=new gn.Parser(t,e);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var i=0;i<10;i++)n.panose[i]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n}function Kbe(t){return new Lt.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],t)}var hO={parse:qbe,make:Kbe,unicodeRanges:T9,getUnicodeRange:Xbe};function Ybe(t,e){var n={},r=new gn.Parser(t,e);switch(n.version=r.parseVersion(),n.italicAngle=r.parseFixed(),n.underlinePosition=r.parseShort(),n.underlineThickness=r.parseShort(),n.isFixedPitch=r.parseULong(),n.minMemType42=r.parseULong(),n.maxMemType42=r.parseULong(),n.minMemType1=r.parseULong(),n.maxMemType1=r.parseULong(),n.version){case 1:n.names=aO.slice();break;case 2:n.numberOfGlyphs=r.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var i=0;i<n.numberOfGlyphs;i++)n.glyphNameIndex[i]=r.parseUShort();n.names=[];for(var o=0;o<n.numberOfGlyphs;o++)if(n.glyphNameIndex[o]>=aO.length){var a=r.parseChar();n.names.push(r.parseString(a))}break;case 2.5:n.numberOfGlyphs=r.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var s=0;s<n.numberOfGlyphs;s++)n.offset[s]=r.parseChar();break}return n}function Zbe(){return new Lt.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var Qbe={parse:Ybe,make:Zbe},gs=new Array(9);gs[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(Ye.coverage),deltaGlyphId:this.parseUShort()};if(n===2)return{substFormat:2,coverage:this.parsePointer(Ye.coverage),substitute:this.parseOffset16List()};ln.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")};gs[2]=function(){var e=this.parseUShort();return ln.argument(e===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ye.coverage),sequences:this.parseListOfLists()}};gs[3]=function(){var e=this.parseUShort();return ln.argument(e===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ye.coverage),alternateSets:this.parseListOfLists()}};gs[4]=function(){var e=this.parseUShort();return ln.argument(e===1,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ye.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var zh={sequenceIndex:Ye.uShort,lookupListIndex:Ye.uShort};gs[5]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:n,coverage:this.parsePointer(Ye.coverage),ruleSets:this.parseListOfLists(function(){var o=this.parseUShort(),a=this.parseUShort();return{input:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(a,zh)}})};if(n===2)return{substFormat:n,coverage:this.parsePointer(Ye.coverage),classDef:this.parsePointer(Ye.classDef),classSets:this.parseListOfLists(function(){var o=this.parseUShort(),a=this.parseUShort();return{classes:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(a,zh)}})};if(n===3){var r=this.parseUShort(),i=this.parseUShort();return{substFormat:n,coverages:this.parseList(r,Ye.pointer(Ye.coverage)),lookupRecords:this.parseRecordList(i,zh)}}ln.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};gs[6]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(Ye.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(zh)}})};if(n===2)return{substFormat:2,coverage:this.parsePointer(Ye.coverage),backtrackClassDef:this.parsePointer(Ye.classDef),inputClassDef:this.parsePointer(Ye.classDef),lookaheadClassDef:this.parsePointer(Ye.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(zh)}})};if(n===3)return{substFormat:3,backtrackCoverage:this.parseList(Ye.pointer(Ye.coverage)),inputCoverage:this.parseList(Ye.pointer(Ye.coverage)),lookaheadCoverage:this.parseList(Ye.pointer(Ye.coverage)),lookupRecords:this.parseRecordList(zh)};ln.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};gs[7]=function(){var e=this.parseUShort();ln.argument(e===1,"GSUB Extension Substitution subtable identifier-format must be 1");var n=this.parseUShort(),r=new Ye(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:n,extension:gs[n].call(r)}};gs[8]=function(){var e=this.parseUShort();return ln.argument(e===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ye.coverage),backtrackCoverage:this.parseList(Ye.pointer(Ye.coverage)),lookaheadCoverage:this.parseList(Ye.pointer(Ye.coverage)),substitutes:this.parseUShortList()}};function Jbe(t,e){e=e||0;var n=new Ye(t,e),r=n.parseVersion(1);return ln.argument(r===1||r===1.1,"Unsupported GSUB table version."),r===1?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(gs)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(gs),variations:n.parseFeatureVariationsList()}}var t0=new Array(9);t0[1]=function(e){return e.substFormat===1?new Lt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Lt.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new Lt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Lt.Coverage(e.coverage)}].concat(Lt.ushortList("substitute",e.substitute)))};t0[2]=function(e){return ln.assert(e.substFormat===1,"Lookup type 2 substFormat must be 1."),new Lt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Lt.Coverage(e.coverage)}].concat(Lt.tableList("seqSet",e.sequences,function(n){return new Lt.Table("sequenceSetTable",Lt.ushortList("sequence",n))})))};t0[3]=function(e){return ln.assert(e.substFormat===1,"Lookup type 3 substFormat must be 1."),new Lt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Lt.Coverage(e.coverage)}].concat(Lt.tableList("altSet",e.alternateSets,function(n){return new Lt.Table("alternateSetTable",Lt.ushortList("alternate",n))})))};t0[4]=function(e){return ln.assert(e.substFormat===1,"Lookup type 4 substFormat must be 1."),new Lt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Lt.Coverage(e.coverage)}].concat(Lt.tableList("ligSet",e.ligatureSets,function(n){return new Lt.Table("ligatureSetTable",Lt.tableList("ligature",n,function(r){return new Lt.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:r.ligGlyph}].concat(Lt.ushortList("component",r.components,r.components.length+1)))}))})))};t0[6]=function(e){if(e.substFormat===1){var n=new Lt.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new Lt.Coverage(e.coverage)}].concat(Lt.tableList("chainRuleSet",e.chainRuleSets,function(o){return new Lt.Table("chainRuleSetTable",Lt.tableList("chainRule",o,function(a){var s=Lt.ushortList("backtrackGlyph",a.backtrack,a.backtrack.length).concat(Lt.ushortList("inputGlyph",a.input,a.input.length+1)).concat(Lt.ushortList("lookaheadGlyph",a.lookahead,a.lookahead.length)).concat(Lt.ushortList("substitution",[],a.lookupRecords.length));return a.lookupRecords.forEach(function(l,c){s=s.concat({name:"sequenceIndex"+c,type:"USHORT",value:l.sequenceIndex}).concat({name:"lookupListIndex"+c,type:"USHORT",value:l.lookupListIndex})}),new Lt.Table("chainRuleTable",s)}))})));return n}else if(e.substFormat===2)ln.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(e.substFormat===3){var r=[{name:"substFormat",type:"USHORT",value:e.substFormat}];r.push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach(function(o,a){r.push({name:"backtrackCoverage"+a,type:"TABLE",value:new Lt.Coverage(o)})}),r.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach(function(o,a){r.push({name:"inputCoverage"+a,type:"TABLE",value:new Lt.Coverage(o)})}),r.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach(function(o,a){r.push({name:"lookaheadCoverage"+a,type:"TABLE",value:new Lt.Coverage(o)})}),r.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach(function(o,a){r=r.concat({name:"sequenceIndex"+a,type:"USHORT",value:o.sequenceIndex}).concat({name:"lookupListIndex"+a,type:"USHORT",value:o.lookupListIndex})});var i=new Lt.Table("chainContextTable",r);return i}ln.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function e7e(t){return new Lt.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Lt.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new Lt.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new Lt.LookupList(t.lookups,t0)}])}var t7e={parse:Jbe,make:e7e};function n7e(t,e){var n=new gn.Parser(t,e),r=n.parseULong();ln.argument(r===1,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var i=n.parseULong(),o={},a=0;a<i;a++){var s=n.parseTag(),l=n.parseULong(),c=n.parseULong(),u=Dp.UTF8(t,e+l,c);o[s]=u}return o}function r7e(t){var e=Object.keys(t).length,n="",r=16+e*12,i=new Lt.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:e}]);for(var o in t){var a=n.length;n+=t[o],i.fields.push({name:"tag "+o,type:"TAG",value:o}),i.fields.push({name:"offset "+o,type:"ULONG",value:r+a}),i.fields.push({name:"length "+o,type:"ULONG",value:t[o].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),i}var i7e={parse:n7e,make:r7e};function pO(t){return Math.log(t)/Math.log(2)|0}function i_(t){for(;t.length%4!==0;)t.push(0);for(var e=0,n=0;n<t.length;n+=4)e+=(t[n]<<24)+(t[n+1]<<16)+(t[n+2]<<8)+t[n+3];return e%=Math.pow(2,32),e}function mO(t,e,n,r){return new Lt.Record("Table Record",[{name:"tag",type:"TAG",value:t!==void 0?t:""},{name:"checkSum",type:"ULONG",value:e!==void 0?e:0},{name:"offset",type:"ULONG",value:n!==void 0?n:0},{name:"length",type:"ULONG",value:r!==void 0?r:0}])}function QG(t){var e=new Lt.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=t,e.numTables=t.length;var n=Math.pow(2,pO(e.numTables));e.searchRange=16*n,e.entrySelector=pO(n),e.rangeShift=e.numTables*16-e.searchRange;for(var r=[],i=[],o=e.sizeOf()+mO().sizeOf()*e.numTables;o%4!==0;)o+=1,i.push({name:"padding",type:"BYTE",value:0});for(var a=0;a<t.length;a+=1){var s=t[a];ln.argument(s.tableName.length===4,"Table name"+s.tableName+" is invalid.");var l=s.sizeOf(),c=mO(s.tableName,i_(s.encode()),o,l);for(r.push({name:c.tag+" Table Record",type:"RECORD",value:c}),i.push({name:s.tableName+" table",type:"RECORD",value:s}),o+=l,ln.argument(!isNaN(o),"Something went wrong calculating the offset.");o%4!==0;)o+=1,i.push({name:"padding",type:"BYTE",value:0})}return r.sort(function(u,d){return u.value.tag>d.value.tag?1:-1}),e.fields=e.fields.concat(r),e.fields=e.fields.concat(i),e}function gO(t,e,n){for(var r=0;r<e.length;r+=1){var i=t.charToGlyphIndex(e[r]);if(i>0){var o=t.glyphs.get(i);return o.getMetrics()}}return n}function o7e(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n];return e/t.length}function a7e(t){for(var e=[],n=[],r=[],i=[],o=[],a=[],s=[],l,c=0,u=0,d=0,f=0,p=0,y=0;y<t.glyphs.length;y+=1){var b=t.glyphs.get(y),x=b.unicode|0;if(isNaN(b.advanceWidth))throw new Error("Glyph "+b.name+" ("+y+"): advanceWidth is not a number.");(l>x||l===void 0)&&x>0&&(l=x),c<x&&(c=x);var v=hO.getUnicodeRange(x);if(v<32)u|=1<<v;else if(v<64)d|=1<<v-32;else if(v<96)f|=1<<v-64;else if(v<123)p|=1<<v-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(b.name!==".notdef"){var w=b.getMetrics();e.push(w.xMin),n.push(w.yMin),r.push(w.xMax),i.push(w.yMax),a.push(w.leftSideBearing),s.push(w.rightSideBearing),o.push(b.advanceWidth)}}var S={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,r),yMax:Math.max.apply(null,i),advanceWidthMax:Math.max.apply(null,o),advanceWidthAvg:o7e(o),minLeftSideBearing:Math.min.apply(null,a),maxLeftSideBearing:Math.max.apply(null,a),minRightSideBearing:Math.min.apply(null,s)};S.ascender=t.ascender,S.descender=t.descender;var C=Ebe.make({flags:3,unitsPerEm:t.unitsPerEm,xMin:S.xMin,yMin:S.yMin,xMax:S.xMax,yMax:S.yMax,lowestRecPPEM:3,createdTimestamp:t.createdTimestamp}),_=Mbe.make({ascender:S.ascender,descender:S.descender,advanceWidthMax:S.advanceWidthMax,minLeftSideBearing:S.minLeftSideBearing,minRightSideBearing:S.minRightSideBearing,xMaxExtent:S.maxLeftSideBearing+(S.xMax-S.xMin),numberOfHMetrics:t.glyphs.length}),T=Ube.make(t.glyphs.length),M=hO.make(Object.assign({xAvgCharWidth:Math.round(S.advanceWidthAvg),usFirstCharIndex:l,usLastCharIndex:c,ulUnicodeRange1:u,ulUnicodeRange2:d,ulUnicodeRange3:f,ulUnicodeRange4:p,sTypoAscender:S.ascender,sTypoDescender:S.descender,sTypoLineGap:0,usWinAscent:S.yMax,usWinDescent:Math.abs(S.yMin),ulCodePageRange1:1,sxHeight:gO(t,"xyvw",{yMax:Math.round(S.ascender/2)}).yMax,sCapHeight:gO(t,"HIKLEFJMNTZBDPRAGOQSUVWXY",S).yMax,usDefaultChar:t.hasChar(" ")?32:0,usBreakChar:t.hasChar(" ")?32:0},t.tables.os2)),I=Nbe.make(t.glyphs),R=XSe.make(t.glyphs),P=t.getEnglishName("fontFamily"),L=t.getEnglishName("fontSubfamily"),k=P+" "+L,H=t.getEnglishName("postScriptName");H||(H=P.replace(/\s/g,"")+"-"+L);var D={};for(var G in t.names)D[G]=t.names[G];D.uniqueID||(D.uniqueID={en:t.getEnglishName("manufacturer")+":"+k}),D.postScriptName||(D.postScriptName={en:H}),D.preferredFamily||(D.preferredFamily=t.names.fontFamily),D.preferredSubfamily||(D.preferredSubfamily=t.names.fontSubfamily);var B=[],$=jbe.make(D,B),O=B.length>0?Dbe.make(B):void 0,z=Qbe.make(),V=bbe.make(t.glyphs,{version:t.getEnglishName("version"),fullName:k,familyName:P,weightName:L,postScriptName:H,unitsPerEm:t.unitsPerEm,fontBBox:[0,S.yMin,S.ascender,S.advanceWidthMax]}),F=t.metas&&Object.keys(t.metas).length>0?i7e.make(t.metas):void 0,W=[C,_,T,M,$,R,z,V,I];O&&W.push(O),t.tables.gsub&&W.push(t7e.make(t.tables.gsub)),F&&W.push(F);for(var q=QG(W),Z=q.encode(),ee=i_(Z),oe=q.fields,re=!1,ce=0;ce<oe.length;ce+=1)if(oe[ce].name==="head table"){oe[ce].value.checkSumAdjustment=2981146554-ee,re=!0;break}if(!re)throw new Error("Could not find head table with checkSum to adjust.");return q}var s7e={make:QG,fontToTable:a7e,computeCheckSum:i_};function GS(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,o=t[i].tag;if(o===e)return i;o<e?n=i+1:r=i-1}return-n-1}function vO(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,o=t[i];if(o===e)return i;o<e?n=i+1:r=i-1}return-n-1}function yO(t,e){for(var n,r=0,i=t.length-1;r<=i;){var o=r+i>>>1;n=t[o];var a=n.start;if(a===e)return n;a<e?r=o+1:i=o-1}if(r>0)return n=t[r-1],e>n.end?0:n}function C3(t,e){this.font=t,this.tableName=e}C3.prototype={searchTag:GS,binSearch:vO,getTable:function(t){var e=this.font.tables[this.tableName];return!e&&t&&(e=this.font.tables[this.tableName]=this.createDefaultTable()),e},getScriptNames:function(){var t=this.getTable();return t?t.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var t=this.getTable();if(t){for(var e=!1,n=0;n<t.scripts.length;n++){var r=t.scripts[n].tag;if(r==="DFLT")return r;r==="latn"&&(e=!0)}if(e)return"latn"}},getScriptTable:function(t,e){var n=this.getTable(e);if(n){t=t||"DFLT";var r=n.scripts,i=GS(n.scripts,t);if(i>=0)return r[i].script;if(e){var o={tag:t,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-i,0,o),o.script}}},getLangSysTable:function(t,e,n){var r=this.getScriptTable(t,n);if(r){if(!e||e==="dflt"||e==="DFLT")return r.defaultLangSys;var i=GS(r.langSysRecords,e);if(i>=0)return r.langSysRecords[i].langSys;if(n){var o={tag:e,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-i,0,o),o.langSys}}},getFeatureTable:function(t,e,n,r){var i=this.getLangSysTable(t,e,r);if(i){for(var o,a=i.featureIndexes,s=this.font.tables[this.tableName].features,l=0;l<a.length;l++)if(o=s[a[l]],o.tag===n)return o.feature;if(r){var c=s.length;return ln.assert(c===0||n>=s[c-1].tag,"Features must be added in alphabetical order."),o={tag:n,feature:{params:0,lookupListIndexes:[]}},s.push(o),a.push(c),o.feature}}},getLookupTables:function(t,e,n,r,i){var o=this.getFeatureTable(t,e,n,i),a=[];if(o){for(var s,l=o.lookupListIndexes,c=this.font.tables[this.tableName].lookups,u=0;u<l.length;u++)s=c[l[u]],s.lookupType===r&&a.push(s);if(a.length===0&&i){s={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var d=c.length;return c.push(s),l.push(d),[s]}}return a},getGlyphClass:function(t,e){switch(t.format){case 1:return t.startGlyph<=e&&e<t.startGlyph+t.classes.length?t.classes[e-t.startGlyph]:0;case 2:var n=yO(t.ranges,e);return n?n.classId:0}},getCoverageIndex:function(t,e){switch(t.format){case 1:var n=vO(t.glyphs,e);return n>=0?n:-1;case 2:var r=yO(t.ranges,e);return r?r.index+e-r.start:-1}},expandCoverage:function(t){if(t.format===1)return t.glyphs;for(var e=[],n=t.ranges,r=0;r<n.length;r++)for(var i=n[r],o=i.start,a=i.end,s=o;s<=a;s++)e.push(s);return e}};function E3(t){C3.call(this,t,"gpos")}E3.prototype=C3.prototype;E3.prototype.init=function(){var t=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(t)};E3.prototype.getKerningValue=function(t,e,n){for(var r=0;r<t.length;r++)for(var i=t[r].subtables,o=0;o<i.length;o++){var a=i[o],s=this.getCoverageIndex(a.coverage,e);if(!(s<0))switch(a.posFormat){case 1:for(var l=a.pairSets[s],c=0;c<l.length;c++){var u=l[c];if(u.secondGlyph===n)return u.value1&&u.value1.xAdvance||0}break;case 2:var d=this.getGlyphClass(a.classDef1,e),f=this.getGlyphClass(a.classDef2,n),p=a.classRecords[d][f];return p.value1&&p.value1.xAdvance||0}}return 0};E3.prototype.getKerningTables=function(t,e){if(this.font.tables.gpos)return this.getLookupTables(t,e,"kern",2)};function ia(t){C3.call(this,t,"gsub")}function l7e(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function o_(t,e,n){for(var r=t.subtables,i=0;i<r.length;i++){var o=r[i];if(o.substFormat===e)return o}if(n)return r.push(n),n}ia.prototype=C3.prototype;ia.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};ia.prototype.getSingle=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,1),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++){var l=a[s],c=this.expandCoverage(l.coverage),u=void 0;if(l.substFormat===1){var d=l.deltaGlyphId;for(u=0;u<c.length;u++){var f=c[u];r.push({sub:f,by:f+d})}}else{var p=l.substitute;for(u=0;u<c.length;u++)r.push({sub:c[u],by:p[u]})}}return r};ia.prototype.getMultiple=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,2),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++){var l=a[s],c=this.expandCoverage(l.coverage),u=void 0;for(u=0;u<c.length;u++){var d=c[u],f=l.sequences[u];r.push({sub:d,by:f})}}return r};ia.prototype.getAlternates=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,3),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++)for(var l=a[s],c=this.expandCoverage(l.coverage),u=l.alternateSets,d=0;d<c.length;d++)r.push({sub:c[d],by:u[d]});return r};ia.prototype.getLigatures=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,4),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++)for(var l=a[s],c=this.expandCoverage(l.coverage),u=l.ligatureSets,d=0;d<c.length;d++)for(var f=c[d],p=u[d],y=0;y<p.length;y++){var b=p[y];r.push({sub:[f].concat(b.components),by:b.ligGlyph})}return r};ia.prototype.addSingle=function(t,e,n,r){var i=this.getLookupTables(n,r,t,1,!0)[0],o=o_(i,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});ln.assert(o.coverage.format===1,"Single: unable to modify coverage table format "+o.coverage.format);var a=e.sub,s=this.binSearch(o.coverage.glyphs,a);s<0&&(s=-1-s,o.coverage.glyphs.splice(s,0,a),o.substitute.splice(s,0,0)),o.substitute[s]=e.by};ia.prototype.addMultiple=function(t,e,n,r){ln.assert(e.by instanceof Array&&e.by.length>1,'Multiple: "by" must be an array of two or more ids');var i=this.getLookupTables(n,r,t,2,!0)[0],o=o_(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});ln.assert(o.coverage.format===1,"Multiple: unable to modify coverage table format "+o.coverage.format);var a=e.sub,s=this.binSearch(o.coverage.glyphs,a);s<0&&(s=-1-s,o.coverage.glyphs.splice(s,0,a),o.sequences.splice(s,0,0)),o.sequences[s]=e.by};ia.prototype.addAlternate=function(t,e,n,r){var i=this.getLookupTables(n,r,t,3,!0)[0],o=o_(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});ln.assert(o.coverage.format===1,"Alternate: unable to modify coverage table format "+o.coverage.format);var a=e.sub,s=this.binSearch(o.coverage.glyphs,a);s<0&&(s=-1-s,o.coverage.glyphs.splice(s,0,a),o.alternateSets.splice(s,0,0)),o.alternateSets[s]=e.by};ia.prototype.addLigature=function(t,e,n,r){var i=this.getLookupTables(n,r,t,4,!0)[0],o=i.subtables[0];o||(o={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},i.subtables[0]=o),ln.assert(o.coverage.format===1,"Ligature: unable to modify coverage table format "+o.coverage.format);var a=e.sub[0],s=e.sub.slice(1),l={ligGlyph:e.by,components:s},c=this.binSearch(o.coverage.glyphs,a);if(c>=0){for(var u=o.ligatureSets[c],d=0;d<u.length;d++)if(l7e(u[d].components,s))return;u.push(l)}else c=-1-c,o.coverage.glyphs.splice(c,0,a),o.ligatureSets.splice(c,0,[l])};ia.prototype.getFeature=function(t,e,n){if(/ss\d\d/.test(t))return this.getSingle(t,e,n);switch(t){case"aalt":case"salt":return this.getSingle(t,e,n).concat(this.getAlternates(t,e,n));case"dlig":case"liga":case"rlig":return this.getLigatures(t,e,n);case"ccmp":return this.getMultiple(t,e,n).concat(this.getLigatures(t,e,n));case"stch":return this.getMultiple(t,e,n)}};ia.prototype.add=function(t,e,n,r){if(/ss\d\d/.test(t))return this.addSingle(t,e,n,r);switch(t){case"aalt":case"salt":return typeof e.by=="number"?this.addSingle(t,e,n,r):this.addAlternate(t,e,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(t,e,n,r);case"ccmp":return e.by instanceof Array?this.addMultiple(t,e,n,r):this.addLigature(t,e,n,r)}};function c7e(){return typeof window<"u"}function u7e(t){for(var e=new Buffer(t.byteLength),n=new Uint8Array(t),r=0;r<e.length;++r)e[r]=n[r];return e}function J0(t,e){if(!t)throw e}function xO(t,e,n,r,i){var o;return(e&r)>0?(o=t.parseByte(),e&i||(o=-o),o=n+o):(e&i)>0?o=n:o=n+t.parseShort(),o}function JG(t,e,n){var r=new gn.Parser(e,n);t.numberOfContours=r.parseShort(),t._xMin=r.parseShort(),t._yMin=r.parseShort(),t._xMax=r.parseShort(),t._yMax=r.parseShort();var i,o;if(t.numberOfContours>0){for(var a=t.endPointIndices=[],s=0;s<t.numberOfContours;s+=1)a.push(r.parseUShort());t.instructionLength=r.parseUShort(),t.instructions=[];for(var l=0;l<t.instructionLength;l+=1)t.instructions.push(r.parseByte());var c=a[a.length-1]+1;i=[];for(var u=0;u<c;u+=1)if(o=r.parseByte(),i.push(o),(o&8)>0)for(var d=r.parseByte(),f=0;f<d;f+=1)i.push(o),u+=1;if(ln.argument(i.length===c,"Bad flags."),a.length>0){var p=[],y;if(c>0){for(var b=0;b<c;b+=1)o=i[b],y={},y.onCurve=!!(o&1),y.lastPointOfContour=a.indexOf(b)>=0,p.push(y);for(var x=0,v=0;v<c;v+=1)o=i[v],y=p[v],y.x=xO(r,o,x,2,16),x=y.x;for(var w=0,S=0;S<c;S+=1)o=i[S],y=p[S],y.y=xO(r,o,w,4,32),w=y.y}t.points=p}else t.points=[]}else if(t.numberOfContours===0)t.points=[];else{t.isComposite=!0,t.points=[],t.components=[];for(var C=!0;C;){i=r.parseUShort();var _={glyphIndex:r.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(i&1)>0?(i&2)>0?(_.dx=r.parseShort(),_.dy=r.parseShort()):_.matchedPoints=[r.parseUShort(),r.parseUShort()]:(i&2)>0?(_.dx=r.parseChar(),_.dy=r.parseChar()):_.matchedPoints=[r.parseByte(),r.parseByte()],(i&8)>0?_.xScale=_.yScale=r.parseF2Dot14():(i&64)>0?(_.xScale=r.parseF2Dot14(),_.yScale=r.parseF2Dot14()):(i&128)>0&&(_.xScale=r.parseF2Dot14(),_.scale01=r.parseF2Dot14(),_.scale10=r.parseF2Dot14(),_.yScale=r.parseF2Dot14()),t.components.push(_),C=!!(i&32)}if(i&256){t.instructionLength=r.parseUShort(),t.instructions=[];for(var T=0;T<t.instructionLength;T+=1)t.instructions.push(r.parseByte())}}}function VS(t,e){for(var n=[],r=0;r<t.length;r+=1){var i=t[r],o={x:e.xScale*i.x+e.scale01*i.y+e.dx,y:e.scale10*i.x+e.yScale*i.y+e.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};n.push(o)}return n}function d7e(t){for(var e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];n.push(i),i.lastPointOfContour&&(e.push(n),n=[])}return ln.argument(n.length===0,"There are still points left in the current contour."),e}function eV(t){var e=new vi;if(!t)return e;for(var n=d7e(t),r=0;r<n.length;++r){var i=n[r],o=null,a=i[i.length-1],s=i[0];if(a.onCurve)e.moveTo(a.x,a.y);else if(s.onCurve)e.moveTo(s.x,s.y);else{var l={x:(a.x+s.x)*.5,y:(a.y+s.y)*.5};e.moveTo(l.x,l.y)}for(var c=0;c<i.length;++c)if(o=a,a=s,s=i[(c+1)%i.length],a.onCurve)e.lineTo(a.x,a.y);else{var u=s;o.onCurve||((a.x+o.x)*.5,(a.y+o.y)*.5),s.onCurve||(u={x:(a.x+s.x)*.5,y:(a.y+s.y)*.5}),e.quadraticCurveTo(a.x,a.y,u.x,u.y)}e.closePath()}return e}function tV(t,e){if(e.isComposite)for(var n=0;n<e.components.length;n+=1){var r=e.components[n],i=t.get(r.glyphIndex);if(i.getPath(),i.points){var o=void 0;if(r.matchedPoints===void 0)o=VS(i.points,r);else{if(r.matchedPoints[0]>e.points.length-1||r.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+e.name);var a=e.points[r.matchedPoints[0]],s=i.points[r.matchedPoints[1]],l={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};s=VS([s],l)[0],l.dx=a.x-s.x,l.dy=a.y-s.y,o=VS(i.points,l)}e.points=e.points.concat(o)}}return eV(e.points)}function f7e(t,e,n,r){for(var i=new qs.GlyphSet(r),o=0;o<n.length-1;o+=1){var a=n[o],s=n[o+1];a!==s?i.push(o,qs.ttfGlyphLoader(r,o,JG,t,e+a,tV)):i.push(o,qs.glyphLoader(r,o))}return i}function h7e(t,e,n,r){var i=new qs.GlyphSet(r);return r._push=function(o){var a=n[o],s=n[o+1];a!==s?i.push(o,qs.ttfGlyphLoader(r,o,JG,t,e+a,tV)):i.push(o,qs.glyphLoader(r,o))},i}function p7e(t,e,n,r,i){return i.lowMemory?h7e(t,e,n,r):f7e(t,e,n,r)}var m7e={getPath:eV,parse:p7e},nV,kd,rV,M9;function iV(t){this.font=t,this.getCommands=function(e){return m7e.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function g7e(t){return t}function oV(t){return Math.sign(t)*Math.round(Math.abs(t))}function v7e(t){return Math.sign(t)*Math.round(Math.abs(t*2))/2}function y7e(t){return Math.sign(t)*(Math.round(Math.abs(t)+.5)-.5)}function x7e(t){return Math.sign(t)*Math.ceil(Math.abs(t))}function S7e(t){return Math.sign(t)*Math.floor(Math.abs(t))}var aV=function(t){var e=this.srPeriod,n=this.srPhase,r=this.srThreshold,i=1;return t<0&&(t=-t,i=-1),t+=r-n,t=Math.trunc(t/e)*e,t+=n,t<0?n*i:t*i},Bs={x:1,y:0,axis:"x",distance:function(t,e,n,r){return(n?t.xo:t.x)-(r?e.xo:e.x)},interpolate:function(t,e,n,r){var i,o,a,s,l,c,u;if(!r||r===this){if(i=t.xo-e.xo,o=t.xo-n.xo,l=e.x-e.xo,c=n.x-n.xo,a=Math.abs(i),s=Math.abs(o),u=a+s,u===0){t.x=t.xo+(l+c)/2;return}t.x=t.xo+(l*s+c*a)/u;return}if(i=r.distance(t,e,!0,!0),o=r.distance(t,n,!0,!0),l=r.distance(e,e,!1,!0),c=r.distance(n,n,!1,!0),a=Math.abs(i),s=Math.abs(o),u=a+s,u===0){Bs.setRelative(t,t,(l+c)/2,r,!0);return}Bs.setRelative(t,t,(l*s+c*a)/u,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(t,e,n,r,i){if(!r||r===this){t.x=(i?e.xo:e.x)+n;return}var o=i?e.xo:e.x,a=i?e.yo:e.y,s=o+n*r.x,l=a+n*r.y;t.x=s+(t.y-l)/r.normalSlope},slope:0,touch:function(t){t.xTouched=!0},touched:function(t){return t.xTouched},untouch:function(t){t.xTouched=!1}},Ol={x:0,y:1,axis:"y",distance:function(t,e,n,r){return(n?t.yo:t.y)-(r?e.yo:e.y)},interpolate:function(t,e,n,r){var i,o,a,s,l,c,u;if(!r||r===this){if(i=t.yo-e.yo,o=t.yo-n.yo,l=e.y-e.yo,c=n.y-n.yo,a=Math.abs(i),s=Math.abs(o),u=a+s,u===0){t.y=t.yo+(l+c)/2;return}t.y=t.yo+(l*s+c*a)/u;return}if(i=r.distance(t,e,!0,!0),o=r.distance(t,n,!0,!0),l=r.distance(e,e,!1,!0),c=r.distance(n,n,!1,!0),a=Math.abs(i),s=Math.abs(o),u=a+s,u===0){Ol.setRelative(t,t,(l+c)/2,r,!0);return}Ol.setRelative(t,t,(l*s+c*a)/u,r,!0)},normalSlope:0,setRelative:function(t,e,n,r,i){if(!r||r===this){t.y=(i?e.yo:e.y)+n;return}var o=i?e.xo:e.x,a=i?e.yo:e.y,s=o+n*r.x,l=a+n*r.y;t.y=l+r.normalSlope*(t.x-s)},slope:Number.POSITIVE_INFINITY,touch:function(t){t.yTouched=!0},touched:function(t){return t.yTouched},untouch:function(t){t.yTouched=!1}};Object.freeze(Bs);Object.freeze(Ol);function _3(t,e){this.x=t,this.y=e,this.axis=void 0,this.slope=e/t,this.normalSlope=-t/e,Object.freeze(this)}_3.prototype.distance=function(t,e,n,r){return this.x*Bs.distance(t,e,n,r)+this.y*Ol.distance(t,e,n,r)};_3.prototype.interpolate=function(t,e,n,r){var i,o,a,s,l,c,u;if(a=r.distance(t,e,!0,!0),s=r.distance(t,n,!0,!0),i=r.distance(e,e,!1,!0),o=r.distance(n,n,!1,!0),l=Math.abs(a),c=Math.abs(s),u=l+c,u===0){this.setRelative(t,t,(i+o)/2,r,!0);return}this.setRelative(t,t,(i*c+o*l)/u,r,!0)};_3.prototype.setRelative=function(t,e,n,r,i){r=r||this;var o=i?e.xo:e.x,a=i?e.yo:e.y,s=o+n*r.x,l=a+n*r.y,c=r.normalSlope,u=this.slope,d=t.x,f=t.y;t.x=(u*d-c*s+l-f)/(u-c),t.y=u*(t.x-d)+f};_3.prototype.touch=function(t){t.xTouched=!0,t.yTouched=!0};function T3(t,e){var n=Math.sqrt(t*t+e*e);return t/=n,e/=n,t===1&&e===0?Bs:t===0&&e===1?Ol:new _3(t,e)}function $l(t,e,n,r){this.x=this.xo=Math.round(t*64)/64,this.y=this.yo=Math.round(e*64)/64,this.lastPointOfContour=n,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}$l.prototype.nextTouched=function(t){for(var e=this.nextPointOnContour;!t.touched(e)&&e!==this;)e=e.nextPointOnContour;return e};$l.prototype.prevTouched=function(t){for(var e=this.prevPointOnContour;!t.touched(e)&&e!==this;)e=e.prevPointOnContour;return e};var Ug=Object.freeze(new $l(0,0)),b7e={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Oc(t,e){switch(this.env=t,this.stack=[],this.prog=e,t){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Bs,this.round=oV}}iV.prototype.exec=function(t,e){if(typeof e!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,r=this._prepState;if(!r||r.ppem!==e){var i=this._fpgmState;if(!i){Oc.prototype=b7e,i=this._fpgmState=new Oc("fpgm",n.tables.fpgm),i.funcs=[],i.font=n,exports.DEBUG&&(console.log("---EXEC FPGM---"),i.step=-1);try{kd(i)}catch(c){console.log("Hinting error in FPGM:"+c),this._errorState=3;return}}Oc.prototype=i,r=this._prepState=new Oc("prep",n.tables.prep),r.ppem=e;var o=n.tables.cvt;if(o)for(var a=r.cvt=new Array(o.length),s=e/n.unitsPerEm,l=0;l<o.length;l++)a[l]=o[l]*s;else r.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),r.step=-1);try{kd(r)}catch(c){this._errorState<2&&console.log("Hinting error in PREP:"+c),this._errorState=2}}if(!(this._errorState>1))try{return rV(t,r)}catch(c){this._errorState<1&&(console.log("Hinting error:"+c),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};rV=function(t,e){var n=e.ppem/e.font.unitsPerEm,r=n,i=t.components,o,a,s;if(Oc.prototype=e,!i)s=new Oc("glyf",t.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),s.step=-1),M9(t,s,n,r),a=s.gZone;else{var l=e.font;a=[],o=[];for(var c=0;c<i.length;c++){var u=i[c],d=l.glyphs.get(u.glyphIndex);s=new Oc("glyf",d.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+c+"---"),s.step=-1),M9(d,s,n,r);for(var f=Math.round(u.dx*n),p=Math.round(u.dy*r),y=s.gZone,b=s.contours,x=0;x<y.length;x++){var v=y[x];v.xTouched=v.yTouched=!1,v.xo=v.x=v.x+f,v.yo=v.y=v.y+p}var w=a.length;a.push.apply(a,y);for(var S=0;S<b.length;S++)o.push(b[S]+w)}t.instructions&&!s.inhibitGridFit&&(s=new Oc("glyf",t.instructions),s.gZone=s.z0=s.z1=s.z2=a,s.contours=o,a.push(new $l(0,0),new $l(Math.round(t.advanceWidth*n),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),s.step=-1),kd(s),a.length-=2)}return a};M9=function(t,e,n,r){for(var i=t.points||[],o=i.length,a=e.gZone=e.z0=e.z1=e.z2=[],s=e.contours=[],l,c=0;c<o;c++)l=i[c],a[c]=new $l(l.x*n,l.y*r,l.lastPointOfContour,l.onCurve);for(var u,d,f=0;f<o;f++)l=a[f],u||(u=l,s.push(f)),l.lastPointOfContour?(l.nextPointOnContour=u,u.prevPointOnContour=l,u=void 0):(d=a[f+1],l.nextPointOnContour=d,d.prevPointOnContour=l);if(!e.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",e.stack);for(var p=0;p<o;p++)console.log(p,a[p].x,a[p].y)}if(a.push(new $l(0,0),new $l(Math.round(t.advanceWidth*n),0)),kd(e),a.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",e.stack);for(var y=0;y<o;y++)console.log(y,a[y].x,a[y].y)}}};kd=function(t){var e=t.prog;if(e){var n=e.length,r;for(t.ip=0;t.ip<n;t.ip++){if(exports.DEBUG&&t.step++,r=nV[e[t.ip]],!r)throw new Error("unknown instruction: 0x"+Number(e[t.ip]).toString(16));r(t)}}};function vx(t){for(var e=t.tZone=new Array(t.gZone.length),n=0;n<e.length;n++)e[n]=new $l(0,0)}function sV(t,e){var n=t.prog,r=t.ip,i=1,o;do if(o=n[++r],o===88)i++;else if(o===89)i--;else if(o===64)r+=n[r+1]+1;else if(o===65)r+=2*n[r+1]+1;else if(o>=176&&o<=183)r+=o-176+1;else if(o>=184&&o<=191)r+=(o-184+1)*2;else if(e&&i===1&&o===27)break;while(i>0);t.ip=r}function SO(t,e){exports.DEBUG&&console.log(e.step,"SVTCA["+t.axis+"]"),e.fv=e.pv=e.dpv=t}function bO(t,e){exports.DEBUG&&console.log(e.step,"SPVTCA["+t.axis+"]"),e.pv=e.dpv=t}function wO(t,e){exports.DEBUG&&console.log(e.step,"SFVTCA["+t.axis+"]"),e.fv=t}function CO(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z2[r],a=e.z1[i];exports.DEBUG&&console.log("SPVTL["+t+"]",r,i);var s,l;t?(s=o.y-a.y,l=a.x-o.x):(s=a.x-o.x,l=a.y-o.y),e.pv=e.dpv=T3(s,l)}function EO(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z2[r],a=e.z1[i];exports.DEBUG&&console.log("SFVTL["+t+"]",r,i);var s,l;t?(s=o.y-a.y,l=a.x-o.x):(s=a.x-o.x,l=a.y-o.y),e.fv=T3(s,l)}function w7e(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.pv=t.dpv=T3(r,n)}function C7e(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.fv=T3(r,n)}function E7e(t){var e=t.stack,n=t.pv;exports.DEBUG&&console.log(t.step,"GPV[]"),e.push(n.x*16384),e.push(n.y*16384)}function _7e(t){var e=t.stack,n=t.fv;exports.DEBUG&&console.log(t.step,"GFV[]"),e.push(n.x*16384),e.push(n.y*16384)}function T7e(t){t.fv=t.pv,exports.DEBUG&&console.log(t.step,"SFVTPV[]")}function M7e(t){var e=t.stack,n=e.pop(),r=e.pop(),i=e.pop(),o=e.pop(),a=e.pop(),s=t.z0,l=t.z1,c=s[n],u=s[r],d=l[i],f=l[o],p=t.z2[a];exports.DEBUG&&console.log("ISECT[], ",n,r,i,o,a);var y=c.x,b=c.y,x=u.x,v=u.y,w=d.x,S=d.y,C=f.x,_=f.y,T=(y-x)*(S-_)-(b-v)*(w-C),M=y*v-b*x,I=w*_-S*C;p.x=(M*(w-C)-I*(y-x))/T,p.y=(M*(S-_)-I*(b-v))/T}function R7e(t){t.rp0=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP0[]",t.rp0)}function A7e(t){t.rp1=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP1[]",t.rp1)}function P7e(t){t.rp2=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP2[]",t.rp2)}function I7e(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP0[]",e),t.zp0=e,e){case 0:t.tZone||vx(t),t.z0=t.tZone;break;case 1:t.z0=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function N7e(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP1[]",e),t.zp1=e,e){case 0:t.tZone||vx(t),t.z1=t.tZone;break;case 1:t.z1=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function O7e(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP2[]",e),t.zp2=e,e){case 0:t.tZone||vx(t),t.z2=t.tZone;break;case 1:t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function L7e(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZPS[]",e),t.zp0=t.zp1=t.zp2=e,e){case 0:t.tZone||vx(t),t.z0=t.z1=t.z2=t.tZone;break;case 1:t.z0=t.z1=t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function D7e(t){t.loop=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SLOOP[]",t.loop)}function F7e(t){exports.DEBUG&&console.log(t.step,"RTG[]"),t.round=oV}function $7e(t){exports.DEBUG&&console.log(t.step,"RTHG[]"),t.round=y7e}function U7e(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SMD[]",e),t.minDis=e/64}function k7e(t){exports.DEBUG&&console.log(t.step,"ELSE[]"),sV(t,!1)}function B7e(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"JMPR[]",e),t.ip+=e-1}function z7e(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCVTCI[]",e),t.cvCutIn=e/64}function H7e(t){var e=t.stack;exports.DEBUG&&console.log(t.step,"DUP[]"),e.push(e[e.length-1])}function WS(t){exports.DEBUG&&console.log(t.step,"POP[]"),t.stack.pop()}function G7e(t){exports.DEBUG&&console.log(t.step,"CLEAR[]"),t.stack.length=0}function V7e(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SWAP[]"),e.push(n),e.push(r)}function W7e(t){var e=t.stack;exports.DEBUG&&console.log(t.step,"DEPTH[]"),e.push(e.length)}function j7e(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LOOPCALL[]",n,r);var i=t.ip,o=t.prog;t.prog=t.funcs[n];for(var a=0;a<r;a++)kd(t),exports.DEBUG&&console.log(++t.step,a+1<r?"next loopcall":"done loopcall",a);t.ip=i,t.prog=o}function X7e(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"CALL[]",e);var n=t.ip,r=t.prog;t.prog=t.funcs[e],kd(t),t.ip=n,t.prog=r,exports.DEBUG&&console.log(++t.step,"returning from",e)}function q7e(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"CINDEX[]",n),e.push(e[e.length-n])}function K7e(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"MINDEX[]",n),e.push(e.splice(e.length-n,1)[0])}function Y7e(t){if(t.env!=="fpgm")throw new Error("FDEF not allowed here");var e=t.stack,n=t.prog,r=t.ip,i=e.pop(),o=r;for(exports.DEBUG&&console.log(t.step,"FDEF[]",i);n[++r]!==45;);t.ip=r,t.funcs[i]=n.slice(o+1,r)}function _O(t,e){var n=e.stack.pop(),r=e.z0[n],i=e.fv,o=e.pv;exports.DEBUG&&console.log(e.step,"MDAP["+t+"]",n);var a=o.distance(r,Ug);t&&(a=e.round(a)),i.setRelative(r,Ug,a,o),i.touch(r),e.rp0=e.rp1=n}function TO(t,e){var n=e.z2,r=n.length-2,i,o,a;exports.DEBUG&&console.log(e.step,"IUP["+t.axis+"]");for(var s=0;s<r;s++)i=n[s],!t.touched(i)&&(o=i.prevTouched(t),o!==i&&(a=i.nextTouched(t),o===a&&t.setRelative(i,i,t.distance(o,o,!1,!0),t,!0),t.interpolate(i,o,a,t)))}function MO(t,e){for(var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],o=e.fv,a=e.pv,s=e.loop,l=e.z2;s--;){var c=n.pop(),u=l[c],d=a.distance(i,i,!1,!0);o.setRelative(u,u,d,a),o.touch(u),exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-s)+": ":"")+"SHP["+(t?"rp1":"rp2")+"]",c)}e.loop=1}function RO(t,e){var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],o=e.fv,a=e.pv,s=n.pop(),l=e.z2[e.contours[s]],c=l;exports.DEBUG&&console.log(e.step,"SHC["+t+"]",s);var u=a.distance(i,i,!1,!0);do c!==i&&o.setRelative(c,c,u,a),c=c.nextPointOnContour;while(c!==l)}function AO(t,e){var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],o=e.fv,a=e.pv,s=n.pop();exports.DEBUG&&console.log(e.step,"SHZ["+t+"]",s);var l;switch(s){case 0:l=e.tZone;break;case 1:l=e.gZone;break;default:throw new Error("Invalid zone")}for(var c,u=a.distance(i,i,!1,!0),d=l.length-2,f=0;f<d;f++)c=l[f],o.setRelative(c,c,u,a)}function Z7e(t){for(var e=t.stack,n=t.loop,r=t.fv,i=e.pop()/64,o=t.z2;n--;){var a=e.pop(),s=o[a];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-n)+": ":"")+"SHPIX[]",a,i),r.setRelative(s,s,i),r.touch(s)}t.loop=1}function Q7e(t){for(var e=t.stack,n=t.rp1,r=t.rp2,i=t.loop,o=t.z0[n],a=t.z1[r],s=t.fv,l=t.dpv,c=t.z2;i--;){var u=e.pop(),d=c[u];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-i)+": ":"")+"IP[]",u,n,"<->",r),s.interpolate(d,o,a,l),s.touch(d)}t.loop=1}function PO(t,e){var n=e.stack,r=n.pop()/64,i=n.pop(),o=e.z1[i],a=e.z0[e.rp0],s=e.fv,l=e.pv;s.setRelative(o,a,r,l),s.touch(o),exports.DEBUG&&console.log(e.step,"MSIRP["+t+"]",r,i),e.rp1=e.rp0,e.rp2=i,t&&(e.rp0=i)}function J7e(t){for(var e=t.stack,n=t.rp0,r=t.z0[n],i=t.loop,o=t.fv,a=t.pv,s=t.z1;i--;){var l=e.pop(),c=s[l];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-i)+": ":"")+"ALIGNRP[]",l),o.setRelative(c,r,0,a),o.touch(c)}t.loop=1}function e9e(t){exports.DEBUG&&console.log(t.step,"RTDG[]"),t.round=v7e}function IO(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z0[i],a=e.fv,s=e.pv,l=e.cvt[r];exports.DEBUG&&console.log(e.step,"MIAP["+t+"]",r,"(",l,")",i);var c=s.distance(o,Ug);t&&(Math.abs(c-l)<e.cvCutIn&&(c=l),c=e.round(c)),a.setRelative(o,Ug,c,s),e.zp0===0&&(o.xo=o.x,o.yo=o.y),a.touch(o),e.rp0=e.rp1=i}function t9e(t){var e=t.prog,n=t.ip,r=t.stack,i=e[++n];exports.DEBUG&&console.log(t.step,"NPUSHB[]",i);for(var o=0;o<i;o++)r.push(e[++n]);t.ip=n}function n9e(t){var e=t.ip,n=t.prog,r=t.stack,i=n[++e];exports.DEBUG&&console.log(t.step,"NPUSHW[]",i);for(var o=0;o<i;o++){var a=n[++e]<<8|n[++e];a&32768&&(a=-((a^65535)+1)),r.push(a)}t.ip=e}function r9e(t){var e=t.stack,n=t.store;n||(n=t.store=[]);var r=e.pop(),i=e.pop();exports.DEBUG&&console.log(t.step,"WS",r,i),n[i]=r}function i9e(t){var e=t.stack,n=t.store,r=e.pop();exports.DEBUG&&console.log(t.step,"RS",r);var i=n&&n[r]||0;e.push(i)}function o9e(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"WCVTP",n,r),t.cvt[r]=n/64}function a9e(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"RCVT",n),e.push(t.cvt[n]*64)}function NO(t,e){var n=e.stack,r=n.pop(),i=e.z2[r];exports.DEBUG&&console.log(e.step,"GC["+t+"]",r),n.push(e.dpv.distance(i,Ug,t,!1)*64)}function OO(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z1[r],a=e.z0[i],s=e.dpv.distance(a,o,t,t);exports.DEBUG&&console.log(e.step,"MD["+t+"]",r,i,"->",s),e.stack.push(Math.round(s*64))}function s9e(t){exports.DEBUG&&console.log(t.step,"MPPEM[]"),t.stack.push(t.ppem)}function l9e(t){exports.DEBUG&&console.log(t.step,"FLIPON[]"),t.autoFlip=!0}function c9e(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LT[]",n,r),e.push(r<n?1:0)}function u9e(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LTEQ[]",n,r),e.push(r<=n?1:0)}function d9e(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"GT[]",n,r),e.push(r>n?1:0)}function f9e(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"GTEQ[]",n,r),e.push(r>=n?1:0)}function h9e(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"EQ[]",n,r),e.push(n===r?1:0)}function p9e(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"NEQ[]",n,r),e.push(n!==r?1:0)}function m9e(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"ODD[]",n),e.push(Math.trunc(n)%2?1:0)}function g9e(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"EVEN[]",n),e.push(Math.trunc(n)%2?0:1)}function v9e(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"IF[]",e),e||(sV(t,!0),exports.DEBUG&&console.log(t.step,"EIF[]"))}function y9e(t){exports.DEBUG&&console.log(t.step,"EIF[]")}function x9e(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"AND[]",n,r),e.push(n&&r?1:0)}function S9e(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"OR[]",n,r),e.push(n||r?1:0)}function b9e(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"NOT[]",n),e.push(n?0:1)}function jS(t,e){var n=e.stack,r=n.pop(),i=e.fv,o=e.pv,a=e.ppem,s=e.deltaBase+(t-1)*16,l=e.deltaShift,c=e.z0;exports.DEBUG&&console.log(e.step,"DELTAP["+t+"]",r,n);for(var u=0;u<r;u++){var d=n.pop(),f=n.pop(),p=s+((f&240)>>4);if(p===a){var y=(f&15)-8;y>=0&&y++,exports.DEBUG&&console.log(e.step,"DELTAPFIX",d,"by",y*l);var b=c[d];i.setRelative(b,b,y*l,o)}}}function w9e(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"SDB[]",n),t.deltaBase=n}function C9e(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"SDS[]",n),t.deltaShift=Math.pow(.5,n)}function E9e(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"ADD[]",n,r),e.push(r+n)}function _9e(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SUB[]",n,r),e.push(r-n)}function T9e(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"DIV[]",n,r),e.push(r*64/n)}function M9e(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MUL[]",n,r),e.push(r*n/64)}function R9e(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"ABS[]",n),e.push(Math.abs(n))}function A9e(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"NEG[]",n),e.push(-n)}function P9e(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"FLOOR[]",n),e.push(Math.floor(n/64)*64)}function I9e(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"CEILING[]",n),e.push(Math.ceil(n/64)*64)}function Q1(t,e){var n=e.stack,r=n.pop();exports.DEBUG&&console.log(e.step,"ROUND[]"),n.push(e.round(r/64)*64)}function N9e(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"WCVTF[]",n,r),t.cvt[r]=n*t.ppem/t.font.unitsPerEm}function XS(t,e){var n=e.stack,r=n.pop(),i=e.ppem,o=e.deltaBase+(t-1)*16,a=e.deltaShift;exports.DEBUG&&console.log(e.step,"DELTAC["+t+"]",r,n);for(var s=0;s<r;s++){var l=n.pop(),c=n.pop(),u=o+((c&240)>>4);if(u===i){var d=(c&15)-8;d>=0&&d++;var f=d*a;exports.DEBUG&&console.log(e.step,"DELTACFIX",l,"by",f),e.cvt[l]+=f}}}function O9e(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SROUND[]",e),t.round=aV;var n;switch(e&192){case 0:n=.5;break;case 64:n=1;break;case 128:n=2;break;default:throw new Error("invalid SROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid SROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function L9e(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"S45ROUND[]",e),t.round=aV;var n;switch(e&192){case 0:n=Math.sqrt(2)/2;break;case 64:n=Math.sqrt(2);break;case 128:n=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid S45ROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function D9e(t){exports.DEBUG&&console.log(t.step,"ROFF[]"),t.round=g7e}function F9e(t){exports.DEBUG&&console.log(t.step,"RUTG[]"),t.round=x7e}function $9e(t){exports.DEBUG&&console.log(t.step,"RDTG[]"),t.round=S7e}function U9e(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCANCTRL[]",e)}function LO(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z2[r],a=e.z1[i];exports.DEBUG&&console.log(e.step,"SDPVTL["+t+"]",r,i);var s,l;t?(s=o.y-a.y,l=a.x-o.x):(s=a.x-o.x,l=a.y-o.y),e.dpv=T3(s,l)}function k9e(t){var e=t.stack,n=e.pop(),r=0;exports.DEBUG&&console.log(t.step,"GETINFO[]",n),n&1&&(r=35),n&32&&(r|=4096),e.push(r)}function B9e(t){var e=t.stack,n=e.pop(),r=e.pop(),i=e.pop();exports.DEBUG&&console.log(t.step,"ROLL[]"),e.push(r),e.push(n),e.push(i)}function z9e(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MAX[]",n,r),e.push(Math.max(r,n))}function H9e(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MIN[]",n,r),e.push(Math.min(r,n))}function G9e(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCANTYPE[]",e)}function V9e(t){var e=t.stack.pop(),n=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"INSTCTRL[]",e,n),e){case 1:t.inhibitGridFit=!!n;return;case 2:t.ignoreCvt=!!n;return;default:throw new Error("invalid INSTCTRL[] selector")}}function xc(t,e){var n=e.stack,r=e.prog,i=e.ip;exports.DEBUG&&console.log(e.step,"PUSHB["+t+"]");for(var o=0;o<t;o++)n.push(r[++i]);e.ip=i}function Sc(t,e){var n=e.ip,r=e.prog,i=e.stack;exports.DEBUG&&console.log(e.ip,"PUSHW["+t+"]");for(var o=0;o<t;o++){var a=r[++n]<<8|r[++n];a&32768&&(a=-((a^65535)+1)),i.push(a)}e.ip=n}function It(t,e,n,r,i,o){var a=o.stack,s=t&&a.pop(),l=a.pop(),c=o.rp0,u=o.z0[c],d=o.z1[l],f=o.minDis,p=o.fv,y=o.dpv,b,x,v,w;x=b=y.distance(d,u,!0,!0),v=x>=0?1:-1,x=Math.abs(x),t&&(w=o.cvt[s],r&&Math.abs(x-w)<o.cvCutIn&&(x=w)),n&&x<f&&(x=f),r&&(x=o.round(x)),p.setRelative(d,u,v*x,y),p.touch(d),exports.DEBUG&&console.log(o.step,(t?"MIRP[":"MDRP[")+(e?"M":"m")+(n?">":"_")+(r?"R":"_")+(i===0?"Gr":i===1?"Bl":i===2?"Wh":"")+"]",t?s+"("+o.cvt[s]+","+w+")":"",l,"(d =",b,"->",v*x,")"),o.rp1=o.rp0,o.rp2=l,e&&(o.rp0=l)}nV=[SO.bind(void 0,Ol),SO.bind(void 0,Bs),bO.bind(void 0,Ol),bO.bind(void 0,Bs),wO.bind(void 0,Ol),wO.bind(void 0,Bs),CO.bind(void 0,0),CO.bind(void 0,1),EO.bind(void 0,0),EO.bind(void 0,1),w7e,C7e,E7e,_7e,T7e,M7e,R7e,A7e,P7e,I7e,N7e,O7e,L7e,D7e,F7e,$7e,U7e,k7e,B7e,z7e,void 0,void 0,H7e,WS,G7e,V7e,W7e,q7e,K7e,void 0,void 0,void 0,j7e,X7e,Y7e,void 0,_O.bind(void 0,0),_O.bind(void 0,1),TO.bind(void 0,Ol),TO.bind(void 0,Bs),MO.bind(void 0,0),MO.bind(void 0,1),RO.bind(void 0,0),RO.bind(void 0,1),AO.bind(void 0,0),AO.bind(void 0,1),Z7e,Q7e,PO.bind(void 0,0),PO.bind(void 0,1),J7e,e9e,IO.bind(void 0,0),IO.bind(void 0,1),t9e,n9e,r9e,i9e,o9e,a9e,NO.bind(void 0,0),NO.bind(void 0,1),void 0,OO.bind(void 0,0),OO.bind(void 0,1),s9e,void 0,l9e,void 0,void 0,c9e,u9e,d9e,f9e,h9e,p9e,m9e,g9e,v9e,y9e,x9e,S9e,b9e,jS.bind(void 0,1),w9e,C9e,E9e,_9e,T9e,M9e,R9e,A9e,P9e,I9e,Q1.bind(void 0,0),Q1.bind(void 0,1),Q1.bind(void 0,2),Q1.bind(void 0,3),void 0,void 0,void 0,void 0,N9e,jS.bind(void 0,2),jS.bind(void 0,3),XS.bind(void 0,1),XS.bind(void 0,2),XS.bind(void 0,3),O9e,L9e,void 0,void 0,D9e,void 0,F9e,$9e,WS,WS,void 0,void 0,void 0,void 0,void 0,U9e,LO.bind(void 0,0),LO.bind(void 0,1),k9e,void 0,B9e,z9e,H9e,G9e,V9e,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,xc.bind(void 0,1),xc.bind(void 0,2),xc.bind(void 0,3),xc.bind(void 0,4),xc.bind(void 0,5),xc.bind(void 0,6),xc.bind(void 0,7),xc.bind(void 0,8),Sc.bind(void 0,1),Sc.bind(void 0,2),Sc.bind(void 0,3),Sc.bind(void 0,4),Sc.bind(void 0,5),Sc.bind(void 0,6),Sc.bind(void 0,7),Sc.bind(void 0,8),It.bind(void 0,0,0,0,0,0),It.bind(void 0,0,0,0,0,1),It.bind(void 0,0,0,0,0,2),It.bind(void 0,0,0,0,0,3),It.bind(void 0,0,0,0,1,0),It.bind(void 0,0,0,0,1,1),It.bind(void 0,0,0,0,1,2),It.bind(void 0,0,0,0,1,3),It.bind(void 0,0,0,1,0,0),It.bind(void 0,0,0,1,0,1),It.bind(void 0,0,0,1,0,2),It.bind(void 0,0,0,1,0,3),It.bind(void 0,0,0,1,1,0),It.bind(void 0,0,0,1,1,1),It.bind(void 0,0,0,1,1,2),It.bind(void 0,0,0,1,1,3),It.bind(void 0,0,1,0,0,0),It.bind(void 0,0,1,0,0,1),It.bind(void 0,0,1,0,0,2),It.bind(void 0,0,1,0,0,3),It.bind(void 0,0,1,0,1,0),It.bind(void 0,0,1,0,1,1),It.bind(void 0,0,1,0,1,2),It.bind(void 0,0,1,0,1,3),It.bind(void 0,0,1,1,0,0),It.bind(void 0,0,1,1,0,1),It.bind(void 0,0,1,1,0,2),It.bind(void 0,0,1,1,0,3),It.bind(void 0,0,1,1,1,0),It.bind(void 0,0,1,1,1,1),It.bind(void 0,0,1,1,1,2),It.bind(void 0,0,1,1,1,3),It.bind(void 0,1,0,0,0,0),It.bind(void 0,1,0,0,0,1),It.bind(void 0,1,0,0,0,2),It.bind(void 0,1,0,0,0,3),It.bind(void 0,1,0,0,1,0),It.bind(void 0,1,0,0,1,1),It.bind(void 0,1,0,0,1,2),It.bind(void 0,1,0,0,1,3),It.bind(void 0,1,0,1,0,0),It.bind(void 0,1,0,1,0,1),It.bind(void 0,1,0,1,0,2),It.bind(void 0,1,0,1,0,3),It.bind(void 0,1,0,1,1,0),It.bind(void 0,1,0,1,1,1),It.bind(void 0,1,0,1,1,2),It.bind(void 0,1,0,1,1,3),It.bind(void 0,1,1,0,0,0),It.bind(void 0,1,1,0,0,1),It.bind(void 0,1,1,0,0,2),It.bind(void 0,1,1,0,0,3),It.bind(void 0,1,1,0,1,0),It.bind(void 0,1,1,0,1,1),It.bind(void 0,1,1,0,1,2),It.bind(void 0,1,1,0,1,3),It.bind(void 0,1,1,1,0,0),It.bind(void 0,1,1,1,0,1),It.bind(void 0,1,1,1,0,2),It.bind(void 0,1,1,1,0,3),It.bind(void 0,1,1,1,1,0),It.bind(void 0,1,1,1,1,1),It.bind(void 0,1,1,1,1,2),It.bind(void 0,1,1,1,1,3)];function n0(t){this.char=t,this.state={},this.activeState=null}function a_(t,e,n){this.contextName=n,this.startIndex=t,this.endOffset=e}function W9e(t,e,n){this.contextName=t,this.openRange=null,this.ranges=[],this.checkStart=e,this.checkEnd=n}function vs(t,e){this.context=t,this.index=e,this.length=t.length,this.current=t[e],this.backtrack=t.slice(0,e),this.lookahead=t.slice(e+1)}function yx(t){this.eventId=t,this.subscribers=[]}function j9e(t){var e=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach(function(i){Object.defineProperty(e.events,i,{value:new yx(i)})}),t&&n.forEach(function(i){var o=t[i];typeof o=="function"&&e.events[i].subscribe(o)});var r=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];r.forEach(function(i){e.events[i].subscribe(e.updateContextsRanges)})}function zr(t){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],j9e.call(this,t)}n0.prototype.setState=function(t,e){return this.state[t]=e,this.activeState={key:t,value:this.state[t]},this.activeState};n0.prototype.getState=function(t){return this.state[t]||null};zr.prototype.inboundIndex=function(t){return t>=0&&t<this.tokens.length};zr.prototype.composeRUD=function(t){var e=this,n=!0,r=t.map(function(o){return e[o[0]].apply(e,o.slice(1).concat(n))}),i=function(o){return typeof o=="object"&&o.hasOwnProperty("FAIL")};if(r.every(i))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:r.filter(i)};this.dispatch("composeRUD",[r.filter(function(o){return!i(o)})])};zr.prototype.replaceRange=function(t,e,n,r){e=e!==null?e:this.tokens.length;var i=n.every(function(a){return a instanceof n0});if(!isNaN(t)&&this.inboundIndex(t)&&i){var o=this.tokens.splice.apply(this.tokens,[t,e].concat(n));return r||this.dispatch("replaceToken",[t,e,n]),[o,n]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};zr.prototype.replaceToken=function(t,e,n){if(!isNaN(t)&&this.inboundIndex(t)&&e instanceof n0){var r=this.tokens.splice(t,1,e);return n||this.dispatch("replaceToken",[t,e]),[r[0],e]}else return{FAIL:"replaceToken: invalid token or index."}};zr.prototype.removeRange=function(t,e,n){e=isNaN(e)?this.tokens.length:e;var r=this.tokens.splice(t,e);return n||this.dispatch("removeRange",[r,t,e]),r};zr.prototype.removeToken=function(t,e){if(!isNaN(t)&&this.inboundIndex(t)){var n=this.tokens.splice(t,1);return e||this.dispatch("removeToken",[n,t]),n}else return{FAIL:"removeToken: invalid token index."}};zr.prototype.insertToken=function(t,e,n){var r=t.every(function(i){return i instanceof n0});return r?(this.tokens.splice.apply(this.tokens,[e,0].concat(t)),n||this.dispatch("insertToken",[t,e]),t):{FAIL:"insertToken: invalid token(s)."}};zr.prototype.registerModifier=function(t,e,n){this.events.newToken.subscribe(function(r,i){var o=[r,i],a=e===null||e.apply(this,o)===!0,s=[r,i];if(a){var l=n.apply(this,s);r.setState(t,l)}}),this.registeredModifiers.push(t)};yx.prototype.subscribe=function(t){return typeof t=="function"?this.subscribers.push(t)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};yx.prototype.unsubscribe=function(t){this.subscribers.splice(t,1)};vs.prototype.setCurrentIndex=function(t){this.index=t,this.current=this.context[t],this.backtrack=this.context.slice(0,t),this.lookahead=this.context.slice(t+1)};vs.prototype.get=function(t){switch(!0){case t===0:return this.current;case(t<0&&Math.abs(t)<=this.backtrack.length):return this.backtrack.slice(t)[0];case(t>0&&t<=this.lookahead.length):return this.lookahead[t-1];default:return null}};zr.prototype.rangeToText=function(t){if(t instanceof a_)return this.getRangeTokens(t).map(function(e){return e.char}).join("")};zr.prototype.getText=function(){return this.tokens.map(function(t){return t.char}).join("")};zr.prototype.getContext=function(t){var e=this.registeredContexts[t];return e||null};zr.prototype.on=function(t,e){var n=this.events[t];return n?n.subscribe(e):null};zr.prototype.dispatch=function(t,e){var n=this,r=this.events[t];r instanceof yx&&r.subscribers.forEach(function(i){i.apply(n,e||[])})};zr.prototype.registerContextChecker=function(t,e,n){if(this.getContext(t))return{FAIL:"context name '"+t+"' is already registered."};if(typeof e!="function")return{FAIL:"missing context start check."};if(typeof n!="function")return{FAIL:"missing context end check."};var r=new W9e(t,e,n);return this.registeredContexts[t]=r,this.contextCheckers.push(r),r};zr.prototype.getRangeTokens=function(t){var e=t.startIndex+t.endOffset;return[].concat(this.tokens.slice(t.startIndex,e))};zr.prototype.getContextRanges=function(t){var e=this.getContext(t);return e?e.ranges:{FAIL:"context checker '"+t+"' is not registered."}};zr.prototype.resetContextsRanges=function(){var t=this.registeredContexts;for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];n.ranges=[]}};zr.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var t=this.tokens.map(function(r){return r.char}),e=0;e<t.length;e++){var n=new vs(t,e);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])};zr.prototype.setEndOffset=function(t,e){var n=this.getContext(e).openRange.startIndex,r=new a_(n,t,e),i=this.getContext(e).ranges;return r.rangeId=e+"."+i.length,i.push(r),this.getContext(e).openRange=null,r};zr.prototype.runContextCheck=function(t){var e=this,n=t.index;this.contextCheckers.forEach(function(r){var i=r.contextName,o=e.getContext(i).openRange;if(!o&&r.checkStart(t)&&(o=new a_(n,null,i),e.getContext(i).openRange=o,e.dispatch("contextStart",[i,n])),o&&r.checkEnd(t)){var a=n-o.startIndex+1,s=e.setEndOffset(a,i);e.dispatch("contextEnd",[i,s])}})};zr.prototype.tokenize=function(t){this.tokens=[],this.resetContextsRanges();var e=Array.from(t);this.dispatch("start");for(var n=0;n<e.length;n++){var r=e[n],i=new vs(e,n);this.dispatch("next",[i]),this.runContextCheck(i);var o=new n0(r);this.tokens.push(o),this.dispatch("newToken",[o,i])}return this.dispatch("end",[this.tokens]),this.tokens};function Xc(t){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(t)}function lV(t){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(t)}function tu(t){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(t)}function A2(t){return/[A-z]/.test(t)}function X9e(t){return/\s/.test(t)}function oa(t){this.font=t,this.features={}}function Vu(t){this.id=t.id,this.tag=t.tag,this.substitution=t.substitution}function M3(t,e){if(!t)return-1;switch(e.format){case 1:return e.glyphs.indexOf(t);case 2:for(var n=e.ranges,r=0;r<n.length;r++){var i=n[r];if(t>=i.start&&t<=i.end){var o=t-i.start;return i.index+o}}break;default:return-1}return-1}function q9e(t,e){var n=M3(t,e.coverage);return n===-1?null:t+e.deltaGlyphId}function K9e(t,e){var n=M3(t,e.coverage);return n===-1?null:e.substitute[n]}function qS(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=e.current;o=Array.isArray(o)?o[0]:o;var a=M3(o,i);a!==-1&&n.push(a)}return n.length!==t.length?-1:n}function Y9e(t,e){var n=e.inputCoverage.length+e.lookaheadCoverage.length+e.backtrackCoverage.length;if(t.context.length<n)return[];var r=qS(e.inputCoverage,t);if(r===-1)return[];var i=e.inputCoverage.length-1;if(t.lookahead.length<e.lookaheadCoverage.length)return[];for(var o=t.lookahead.slice(i);o.length&&tu(o[0].char);)o.shift();var a=new vs(o,0),s=qS(e.lookaheadCoverage,a),l=[].concat(t.backtrack);for(l.reverse();l.length&&tu(l[0].char);)l.shift();if(l.length<e.backtrackCoverage.length)return[];var c=new vs(l,0),u=qS(e.backtrackCoverage,c),d=r.length===e.inputCoverage.length&&s.length===e.lookaheadCoverage.length&&u.length===e.backtrackCoverage.length,f=[];if(d)for(var p=0;p<e.lookupRecords.length;p++)for(var y=e.lookupRecords[p],b=y.lookupListIndex,x=this.getLookupByIndex(b),v=0;v<x.subtables.length;v++){var w=x.subtables[v],S=this.getLookupMethod(x,w),C=this.getSubstitutionType(x,w);if(C==="12")for(var _=0;_<r.length;_++){var T=t.get(_),M=S(T);M&&f.push(M)}}return f}function Z9e(t,e){var n=t.current,r=M3(n,e.coverage);if(r===-1)return null;for(var i,o=e.ligatureSets[r],a=0;a<o.length;a++){i=o[a];for(var s=0;s<i.components.length;s++){var l=t.lookahead[s],c=i.components[s];if(l!==c)break;if(s===i.components.length-1)return i}}return null}function Q9e(t,e){var n=M3(t,e.coverage);return n===-1?null:e.sequences[n]}oa.prototype.getDefaultScriptFeaturesIndexes=function(){for(var t=this.font.tables.gsub.scripts,e=0;e<t.length;e++){var n=t[e];if(n.tag==="DFLT")return n.script.defaultLangSys.featureIndexes}return[]};oa.prototype.getScriptFeaturesIndexes=function(t){var e=this.font.tables;if(!e.gsub)return[];if(!t)return this.getDefaultScriptFeaturesIndexes();for(var n=this.font.tables.gsub.scripts,r=0;r<n.length;r++){var i=n[r];if(i.tag===t&&i.script.defaultLangSys)return i.script.defaultLangSys.featureIndexes;var o=i.langSysRecords;if(o)for(var a=0;a<o.length;a++){var s=o[a];if(s.tag===t){var l=s.langSys;return l.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};oa.prototype.mapTagsToFeatures=function(t,e){for(var n={},r=0;r<t.length;r++){var i=t[r].tag,o=t[r].feature;n[i]=o}this.features[e].tags=n};oa.prototype.getScriptFeatures=function(t){var e=this.features[t];if(this.features.hasOwnProperty(t))return e;var n=this.getScriptFeaturesIndexes(t);if(!n)return null;var r=this.font.tables.gsub;return e=n.map(function(i){return r.features[i]}),this.features[t]=e,this.mapTagsToFeatures(e,t),e};oa.prototype.getSubstitutionType=function(t,e){var n=t.lookupType.toString(),r=e.substFormat.toString();return n+r};oa.prototype.getLookupMethod=function(t,e){var n=this,r=this.getSubstitutionType(t,e);switch(r){case"11":return function(i){return q9e.apply(n,[i,e])};case"12":return function(i){return K9e.apply(n,[i,e])};case"63":return function(i){return Y9e.apply(n,[i,e])};case"41":return function(i){return Z9e.apply(n,[i,e])};case"21":return function(i){return Q9e.apply(n,[i,e])};default:throw new Error("lookupType: "+t.lookupType+" - substFormat: "+e.substFormat+" is not yet supported")}};oa.prototype.lookupFeature=function(t){var e=t.contextParams,n=e.index,r=this.getFeature({tag:t.tag,script:t.script});if(!r)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+t.tag+"' for script '"+t.script+"'.");for(var i=this.getFeatureLookups(r),o=[].concat(e.context),a=0;a<i.length;a++)for(var s=i[a],l=this.getLookupSubtables(s),c=0;c<l.length;c++){var u=l[c],d=this.getSubstitutionType(s,u),f=this.getLookupMethod(s,u),p=void 0;switch(d){case"11":p=f(e.current),p&&o.splice(n,1,new Vu({id:11,tag:t.tag,substitution:p}));break;case"12":p=f(e.current),p&&o.splice(n,1,new Vu({id:12,tag:t.tag,substitution:p}));break;case"63":p=f(e),Array.isArray(p)&&p.length&&o.splice(n,1,new Vu({id:63,tag:t.tag,substitution:p}));break;case"41":p=f(e),p&&o.splice(n,1,new Vu({id:41,tag:t.tag,substitution:p}));break;case"21":p=f(e.current),p&&o.splice(n,1,new Vu({id:21,tag:t.tag,substitution:p}));break}e=new vs(o,n),!(Array.isArray(p)&&!p.length)&&(p=null)}return o.length?o:null};oa.prototype.supports=function(t){if(!t.script)return!1;this.getScriptFeatures(t.script);var e=this.features.hasOwnProperty(t.script);if(!t.tag)return e;var n=this.features[t.script].some(function(r){return r.tag===t.tag});return e&&n};oa.prototype.getLookupSubtables=function(t){return t.subtables||null};oa.prototype.getLookupByIndex=function(t){var e=this.font.tables.gsub.lookups;return e[t]||null};oa.prototype.getFeatureLookups=function(t){return t.lookupListIndexes.map(this.getLookupByIndex.bind(this))};oa.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var n=this.features[e.script];return n?n.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};function J9e(t){var e=t.current,n=t.get(-1);return n===null&&Xc(e)||!Xc(n)&&Xc(e)}function ewe(t){var e=t.get(1);return e===null||!Xc(e)}var twe={startCheck:J9e,endCheck:ewe};function nwe(t){var e=t.current,n=t.get(-1);return(Xc(e)||tu(e))&&!Xc(n)}function rwe(t){var e=t.get(1);switch(!0){case e===null:return!0;case(!Xc(e)&&!tu(e)):var n=X9e(e);if(!n)return!0;if(n){var r=!1;if(r=t.lookahead.some(function(i){return Xc(i)||tu(i)}),!r)return!0}break;default:return!1}}var iwe={startCheck:nwe,endCheck:rwe};function owe(t,e,n){e[n].setState(t.tag,t.substitution)}function awe(t,e,n){e[n].setState(t.tag,t.substitution)}function swe(t,e,n){t.substitution.forEach(function(r,i){var o=e[n+i];o.setState(t.tag,r)})}function lwe(t,e,n){var r=e[n];r.setState(t.tag,t.substitution.ligGlyph);for(var i=t.substitution.components.length,o=0;o<i;o++)r=e[n+o+1],r.setState("deleted",!0)}var DO={11:owe,12:awe,63:swe,41:lwe};function s_(t,e,n){t instanceof Vu&&DO[t.id]&&DO[t.id](t,e,n)}function cwe(t){for(var e=[].concat(t.backtrack),n=e.length-1;n>=0;n--){var r=e[n],i=lV(r),o=tu(r);if(!i&&!o)return!0;if(i)return!1}return!1}function uwe(t){if(lV(t.current))return!1;for(var e=0;e<t.lookahead.length;e++){var n=t.lookahead[e],r=tu(n);if(!r)return!0}return!1}function dwe(t){var e=this,n="arab",r=this.featuresTags[n],i=this.tokenizer.getRangeTokens(t);if(i.length!==1){var o=new vs(i.map(function(s){return s.getState("glyphIndex")}),0),a=new vs(i.map(function(s){return s.char}),0);i.forEach(function(s,l){if(!tu(s.char)){o.setCurrentIndex(l),a.setCurrentIndex(l);var c=0;cwe(a)&&(c|=1),uwe(a)&&(c|=2);var u;switch(c){case 1:u="fina";break;case 2:u="init";break;case 3:u="medi";break}if(r.indexOf(u)!==-1){var d=e.query.lookupFeature({tag:u,script:n,contextParams:o});if(d instanceof Error)return console.info(d.message);d.forEach(function(f,p){f instanceof Vu&&(s_(f,i,p),o.context[p]=f.substitution)})}}})}}function FO(t,e){var n=t.map(function(r){return r.activeState.value});return new vs(n,e||0)}function fwe(t){var e=this,n="arab",r=this.tokenizer.getRangeTokens(t),i=FO(r);i.context.forEach(function(o,a){i.setCurrentIndex(a);var s=e.query.lookupFeature({tag:"rlig",script:n,contextParams:i});s.length&&(s.forEach(function(l){return s_(l,r,a)}),i=FO(r))})}function hwe(t){var e=t.current,n=t.get(-1);return n===null&&A2(e)||!A2(n)&&A2(e)}function pwe(t){var e=t.get(1);return e===null||!A2(e)}var mwe={startCheck:hwe,endCheck:pwe};function $O(t,e){var n=t.map(function(r){return r.activeState.value});return new vs(n,e||0)}function gwe(t){var e=this,n="latn",r=this.tokenizer.getRangeTokens(t),i=$O(r);i.context.forEach(function(o,a){i.setCurrentIndex(a);var s=e.query.lookupFeature({tag:"liga",script:n,contextParams:i});s.length&&(s.forEach(function(l){return s_(l,r,a)}),i=$O(r))})}function _s(t){this.baseDir=t||"ltr",this.tokenizer=new zr,this.featuresTags={}}_s.prototype.setText=function(t){this.text=t};_s.prototype.contextChecks={latinWordCheck:mwe,arabicWordCheck:twe,arabicSentenceCheck:iwe};function KS(t){var e=this.contextChecks[t+"Check"];return this.tokenizer.registerContextChecker(t,e.startCheck,e.endCheck)}function vwe(){return KS.call(this,"latinWord"),KS.call(this,"arabicWord"),KS.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function ywe(){var t=this,e=this.tokenizer.getContextRanges("arabicSentence");e.forEach(function(n){var r=t.tokenizer.getRangeTokens(n);t.tokenizer.replaceRange(n.startIndex,n.endOffset,r.reverse())})}_s.prototype.registerFeatures=function(t,e){var n=this,r=e.filter(function(i){return n.query.supports({script:t,tag:i})});this.featuresTags.hasOwnProperty(t)?this.featuresTags[t]=this.featuresTags[t].concat(r):this.featuresTags[t]=r};_s.prototype.applyFeatures=function(t,e){if(!t)throw new Error("No valid font was provided to apply features");this.query||(this.query=new oa(t));for(var n=0;n<e.length;n++){var r=e[n];this.query.supports({script:r.script})&&this.registerFeatures(r.script,r.tags)}};_s.prototype.registerModifier=function(t,e,n){this.tokenizer.registerModifier(t,e,n)};function l_(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function xwe(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){l_.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(r){dwe.call(t,r)})}}function Swe(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("rlig")!==-1){l_.call(this);var r=this.tokenizer.getContextRanges("arabicWord");r.forEach(function(i){fwe.call(t,i)})}}}function bwe(){var t=this,e="latn";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("liga")!==-1){l_.call(this);var r=this.tokenizer.getContextRanges("latinWord");r.forEach(function(i){gwe.call(t,i)})}}}_s.prototype.checkContextReady=function(t){return!!this.tokenizer.getContext(t)};_s.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(xwe.call(this),Swe.call(this)),this.checkContextReady("latinWord")&&bwe.call(this),this.checkContextReady("arabicSentence")&&ywe.call(this)};_s.prototype.processText=function(t){(!this.text||this.text!==t)&&(this.setText(t),vwe.call(this),this.applyFeaturesToContexts())};_s.prototype.getBidiText=function(t){return this.processText(t),this.tokenizer.getText()};_s.prototype.getTextGlyphs=function(t){this.processText(t);for(var e=[],n=0;n<this.tokenizer.tokens.length;n++){var r=this.tokenizer.tokens[n];if(!r.state.deleted){var i=r.activeState.value;e.push(Array.isArray(i)?i[0]:i)}}return e};function dr(t){t=t||{},t.tables=t.tables||{},t.empty||(J0(t.familyName,"When creating a new Font object, familyName is required."),J0(t.styleName,"When creating a new Font object, styleName is required."),J0(t.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),J0(t.ascender,"When creating a new Font object, ascender is required."),J0(t.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:t.familyName||" "},fontSubfamily:{en:t.styleName||" "},fullName:{en:t.fullName||t.familyName+" "+t.styleName},postScriptName:{en:t.postScriptName||(t.familyName+t.styleName).replace(/\s/g,"")},designer:{en:t.designer||" "},designerURL:{en:t.designerURL||" "},manufacturer:{en:t.manufacturer||" "},manufacturerURL:{en:t.manufacturerURL||" "},license:{en:t.license||" "},licenseURL:{en:t.licenseURL||" "},version:{en:t.version||"Version 0.1"},description:{en:t.description||" "},copyright:{en:t.copyright||" "},trademark:{en:t.trademark||" "}},this.unitsPerEm=t.unitsPerEm||1e3,this.ascender=t.ascender,this.descender=t.descender,this.createdTimestamp=t.createdTimestamp,this.tables=Object.assign(t.tables,{os2:Object.assign({usWeightClass:t.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:t.widthClass||this.usWidthClasses.MEDIUM,fsSelection:t.fsSelection||this.fsSelectionValues.REGULAR},t.tables.os2)})),this.supported=!0,this.glyphs=new qs.GlyphSet(this,t.glyphs||[]),this.encoding=new kG(this),this.position=new E3(this),this.substitution=new ia(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new iV(this)}})}dr.prototype.hasChar=function(t){return this.encoding.charToGlyphIndex(t)!==null};dr.prototype.charToGlyphIndex=function(t){return this.encoding.charToGlyphIndex(t)};dr.prototype.charToGlyph=function(t){var e=this.charToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};dr.prototype.updateFeatures=function(t){return this.defaultRenderOptions.features.map(function(e){return e.script==="latn"?{script:"latn",tags:e.tags.filter(function(n){return t[n]})}:e})};dr.prototype.stringToGlyphs=function(t,e){var n=this,r=new _s,i=function(d){return n.charToGlyphIndex(d.char)};r.registerModifier("glyphIndex",null,i);var o=e?this.updateFeatures(e.features):this.defaultRenderOptions.features;r.applyFeatures(this,o);for(var a=r.getTextGlyphs(t),s=a.length,l=new Array(s),c=this.glyphs.get(0),u=0;u<s;u+=1)l[u]=this.glyphs.get(a[u])||c;return l};dr.prototype.nameToGlyphIndex=function(t){return this.glyphNames.nameToGlyphIndex(t)};dr.prototype.nameToGlyph=function(t){var e=this.nameToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};dr.prototype.glyphIndexToName=function(t){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(t):""};dr.prototype.getKerningValue=function(t,e){t=t.index||t,e=e.index||e;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,t,e):this.kerningPairs[t+","+e]||0};dr.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};dr.prototype.forEachGlyph=function(t,e,n,r,i,o){e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:72,i=Object.assign({},this.defaultRenderOptions,i);var a=1/this.unitsPerEm*r,s=this.stringToGlyphs(t,i),l;if(i.kerning){var c=i.script||this.position.getDefaultScriptName();l=this.position.getKerningTables(c,i.language)}for(var u=0;u<s.length;u+=1){var d=s[u];if(o.call(this,d,e,n,r,i),d.advanceWidth&&(e+=d.advanceWidth*a),i.kerning&&u<s.length-1){var f=l?this.position.getKerningValue(l,d.index,s[u+1].index):this.getKerningValue(d,s[u+1]);e+=f*a}i.letterSpacing?e+=i.letterSpacing*r:i.tracking&&(e+=i.tracking/1e3*r)}return e};dr.prototype.getPath=function(t,e,n,r,i){var o=new vi;return this.forEachGlyph(t,e,n,r,i,function(a,s,l,c){var u=a.getPath(s,l,c,i,this);o.extend(u)}),o};dr.prototype.getPaths=function(t,e,n,r,i){var o=[];return this.forEachGlyph(t,e,n,r,i,function(a,s,l,c){var u=a.getPath(s,l,c,i,this);o.push(u)}),o};dr.prototype.getAdvanceWidth=function(t,e,n){return this.forEachGlyph(t,0,0,e,n,function(){})};dr.prototype.draw=function(t,e,n,r,i,o){this.getPath(e,n,r,i,o).draw(t)};dr.prototype.drawPoints=function(t,e,n,r,i,o){this.forEachGlyph(e,n,r,i,o,function(a,s,l,c){a.drawPoints(t,s,l,c)})};dr.prototype.drawMetrics=function(t,e,n,r,i,o){this.forEachGlyph(e,n,r,i,o,function(a,s,l,c){a.drawMetrics(t,s,l,c)})};dr.prototype.getEnglishName=function(t){var e=this.names[t];if(e)return e.en};dr.prototype.validate=function(){var t=this;function e(r,i){}function n(r){var i=t.getEnglishName(r);i&&i.trim().length>0}n("fontFamily"),n("weightName"),n("manufacturer"),n("copyright"),n("version"),this.unitsPerEm>0};dr.prototype.toTables=function(){return s7e.fontToTable(this)};dr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};dr.prototype.toArrayBuffer=function(){for(var t=this.toTables(),e=t.encode(),n=new ArrayBuffer(e.length),r=new Uint8Array(n),i=0;i<e.length;i++)r[i]=e[i];return n};dr.prototype.download=function(t){var e=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily");t=t||e.replace(/\s/g,"")+"-"+n+".otf";var r=this.toArrayBuffer();if(c7e())if(window.URL=window.URL||window.webkitURL,window.URL){var i=new DataView(r),o=new Blob([i],{type:"font/opentype"}),a=document.createElement("a");a.href=window.URL.createObjectURL(o),a.download=t;var s=document.createEvent("MouseEvents");s.initEvent("click",!0,!1),a.dispatchEvent(s)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var l=require("fs"),c=u7e(r);l.writeFileSync(t,c)}};dr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};dr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};dr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Yl=new Array(10);Yl[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{posFormat:1,coverage:this.parsePointer(Ye.coverage),value:this.parseValueRecord()};if(n===2)return{posFormat:2,coverage:this.parsePointer(Ye.coverage),values:this.parseValueRecordList()};ln.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};Yl[2]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();ln.assert(n===1||n===2,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var r=this.parsePointer(Ye.coverage),i=this.parseUShort(),o=this.parseUShort();if(n===1)return{posFormat:n,coverage:r,valueFormat1:i,valueFormat2:o,pairSets:this.parseList(Ye.pointer(Ye.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(i),value2:this.parseValueRecord(o)}})))};if(n===2){var a=this.parsePointer(Ye.classDef),s=this.parsePointer(Ye.classDef),l=this.parseUShort(),c=this.parseUShort();return{posFormat:n,coverage:r,valueFormat1:i,valueFormat2:o,classDef1:a,classDef2:s,class1Count:l,class2Count:c,classRecords:this.parseList(l,Ye.list(c,function(){return{value1:this.parseValueRecord(i),value2:this.parseValueRecord(o)}}))}}};Yl[3]=function(){return{error:"GPOS Lookup 3 not supported"}};Yl[4]=function(){return{error:"GPOS Lookup 4 not supported"}};Yl[5]=function(){return{error:"GPOS Lookup 5 not supported"}};Yl[6]=function(){return{error:"GPOS Lookup 6 not supported"}};Yl[7]=function(){return{error:"GPOS Lookup 7 not supported"}};Yl[8]=function(){return{error:"GPOS Lookup 8 not supported"}};Yl[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var wwe=Object.defineProperty,Cwe=(t,e,n)=>e in t?wwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jt=(t,e,n)=>(Cwe(t,typeof e!="symbol"?e+"":e,n),n);const Ewe=parseInt(Gd.replace(/\D+/g,"")),YS={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new Q},up:{value:new Q(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${Ewe>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `};YS.fragmentShader,YS.vertexShader,YS.uniforms;const J1=new Vd,UO=new Ml,_we=Math.cos(70*(Math.PI/180)),kO=(t,e)=>(t%e+e)%e;let Twe=class extends ys{constructor(e,n){super(),Jt(this,"object"),Jt(this,"domElement"),Jt(this,"enabled",!0),Jt(this,"target",new Q),Jt(this,"minDistance",0),Jt(this,"maxDistance",1/0),Jt(this,"minZoom",0),Jt(this,"maxZoom",1/0),Jt(this,"minPolarAngle",0),Jt(this,"maxPolarAngle",Math.PI),Jt(this,"minAzimuthAngle",-1/0),Jt(this,"maxAzimuthAngle",1/0),Jt(this,"enableDamping",!1),Jt(this,"dampingFactor",.05),Jt(this,"enableZoom",!0),Jt(this,"zoomSpeed",1),Jt(this,"enableRotate",!0),Jt(this,"rotateSpeed",1),Jt(this,"enablePan",!0),Jt(this,"panSpeed",1),Jt(this,"screenSpacePanning",!0),Jt(this,"keyPanSpeed",7),Jt(this,"zoomToCursor",!1),Jt(this,"autoRotate",!1),Jt(this,"autoRotateSpeed",2),Jt(this,"reverseOrbit",!1),Jt(this,"reverseHorizontalOrbit",!1),Jt(this,"reverseVerticalOrbit",!1),Jt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Jt(this,"mouseButtons",{LEFT:ku.ROTATE,MIDDLE:ku.DOLLY,RIGHT:ku.PAN}),Jt(this,"touches",{ONE:Bu.ROTATE,TWO:Bu.DOLLY_PAN}),Jt(this,"target0"),Jt(this,"position0"),Jt(this,"zoom0"),Jt(this,"_domElementKeyEvents",null),Jt(this,"getPolarAngle"),Jt(this,"getAzimuthalAngle"),Jt(this,"setPolarAngle"),Jt(this,"setAzimuthalAngle"),Jt(this,"getDistance"),Jt(this,"listenToKeyEvents"),Jt(this,"stopListenToKeyEvents"),Jt(this,"saveState"),Jt(this,"reset"),Jt(this,"update"),Jt(this,"connect"),Jt(this,"dispose"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=te=>{let ke=kO(te,2*Math.PI),ze=u.phi;ze<0&&(ze+=2*Math.PI),ke<0&&(ke+=2*Math.PI);let J=Math.abs(ke-ze);2*Math.PI-J<J&&(ke<ze?ke+=2*Math.PI:ze+=2*Math.PI),d.phi=ke-ze,r.update()},this.setAzimuthalAngle=te=>{let ke=kO(te,2*Math.PI),ze=u.theta;ze<0&&(ze+=2*Math.PI),ke<0&&(ke+=2*Math.PI);let J=Math.abs(ke-ze);2*Math.PI-J<J&&(ke<ze?ke+=2*Math.PI:ze+=2*Math.PI),d.theta=ke-ze,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=te=>{te.addEventListener("keydown",je),this._domElementKeyEvents=te},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",je),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=s.NONE},this.update=(()=>{const te=new Q,ke=new Q(0,1,0),ze=new to().setFromUnitVectors(e.up,ke),J=ze.clone().invert(),de=new Q,ue=new to,De=2*Math.PI;return function(){const _e=r.object.position;ze.setFromUnitVectors(e.up,ke),J.copy(ze).invert(),te.copy(_e).sub(r.target),te.applyQuaternion(ze),u.setFromVector3(te),r.autoRotate&&l===s.NONE&&D(k()),r.enableDamping?(u.theta+=d.theta*r.dampingFactor,u.phi+=d.phi*r.dampingFactor):(u.theta+=d.theta,u.phi+=d.phi);let rt=r.minAzimuthAngle,ct=r.maxAzimuthAngle;isFinite(rt)&&isFinite(ct)&&(rt<-Math.PI?rt+=De:rt>Math.PI&&(rt-=De),ct<-Math.PI?ct+=De:ct>Math.PI&&(ct-=De),rt<=ct?u.theta=Math.max(rt,Math.min(ct,u.theta)):u.theta=u.theta>(rt+ct)/2?Math.max(rt,u.theta):Math.min(ct,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(p,r.dampingFactor):r.target.add(p),r.zoomToCursor&&R||r.object.isOrthographicCamera?u.radius=W(u.radius):u.radius=W(u.radius*f),te.setFromSpherical(u),te.applyQuaternion(J),_e.copy(r.target).add(te),r.object.lookAt(r.target),r.enableDamping===!0?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,p.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),p.set(0,0,0));let pt=!1;if(r.zoomToCursor&&R){let Xe=null;if(r.object instanceof Ur&&r.object.isPerspectiveCamera){const lt=te.length();Xe=W(lt*f);const ot=lt-Xe;r.object.position.addScaledVector(M,ot),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const lt=new Q(I.x,I.y,0);lt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/f)),r.object.updateProjectionMatrix(),pt=!0;const ot=new Q(I.x,I.y,0);ot.unproject(r.object),r.object.position.sub(ot).add(lt),r.object.updateMatrixWorld(),Xe=te.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Xe!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Xe).add(r.object.position):(J1.origin.copy(r.object.position),J1.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(J1.direction))<_we?e.lookAt(r.target):(UO.setFromNormalAndCoplanarPoint(r.object.up,r.target),J1.intersectPlane(UO,r.target))))}else r.object instanceof Nl&&r.object.isOrthographicCamera&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/f)),r.object.updateProjectionMatrix(),pt=!0);return f=1,R=!1,pt||de.distanceToSquared(r.object.position)>c||8*(1-ue.dot(r.object.quaternion))>c?(r.dispatchEvent(i),de.copy(r.object.position),ue.copy(r.object.quaternion),pt=!1,!0):!1}})(),this.connect=te=>{te===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=te,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Ue),r.domElement.addEventListener("pointerdown",Le),r.domElement.addEventListener("pointercancel",j),r.domElement.addEventListener("wheel",Oe)},this.dispose=()=>{var te,ke,ze,J,de,ue;(te=r.domElement)==null||te.removeEventListener("contextmenu",Ue),(ke=r.domElement)==null||ke.removeEventListener("pointerdown",Le),(ze=r.domElement)==null||ze.removeEventListener("pointercancel",j),(J=r.domElement)==null||J.removeEventListener("wheel",Oe),(de=r.domElement)==null||de.ownerDocument.removeEventListener("pointermove",Je),(ue=r.domElement)==null||ue.ownerDocument.removeEventListener("pointerup",K),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",je)};const r=this,i={type:"change"},o={type:"start"},a={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=s.NONE;const c=1e-6,u=new c9,d=new c9;let f=1;const p=new Q,y=new Qe,b=new Qe,x=new Qe,v=new Qe,w=new Qe,S=new Qe,C=new Qe,_=new Qe,T=new Qe,M=new Q,I=new Qe;let R=!1;const P=[],L={};function k(){return 2*Math.PI/60/60*r.autoRotateSpeed}function H(){return Math.pow(.95,r.zoomSpeed)}function D(te){r.reverseOrbit||r.reverseHorizontalOrbit?d.theta+=te:d.theta-=te}function G(te){r.reverseOrbit||r.reverseVerticalOrbit?d.phi+=te:d.phi-=te}const B=(()=>{const te=new Q;return function(ze,J){te.setFromMatrixColumn(J,0),te.multiplyScalar(-ze),p.add(te)}})(),$=(()=>{const te=new Q;return function(ze,J){r.screenSpacePanning===!0?te.setFromMatrixColumn(J,1):(te.setFromMatrixColumn(J,0),te.crossVectors(r.object.up,te)),te.multiplyScalar(ze),p.add(te)}})(),O=(()=>{const te=new Q;return function(ze,J){const de=r.domElement;if(de&&r.object instanceof Ur&&r.object.isPerspectiveCamera){const ue=r.object.position;te.copy(ue).sub(r.target);let De=te.length();De*=Math.tan(r.object.fov/2*Math.PI/180),B(2*ze*De/de.clientHeight,r.object.matrix),$(2*J*De/de.clientHeight,r.object.matrix)}else de&&r.object instanceof Nl&&r.object.isOrthographicCamera?(B(ze*(r.object.right-r.object.left)/r.object.zoom/de.clientWidth,r.object.matrix),$(J*(r.object.top-r.object.bottom)/r.object.zoom/de.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function z(te){r.object instanceof Ur&&r.object.isPerspectiveCamera||r.object instanceof Nl&&r.object.isOrthographicCamera?f/=te:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function V(te){r.object instanceof Ur&&r.object.isPerspectiveCamera||r.object instanceof Nl&&r.object.isOrthographicCamera?f*=te:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function F(te){if(!r.zoomToCursor||!r.domElement)return;R=!0;const ke=r.domElement.getBoundingClientRect(),ze=te.clientX-ke.left,J=te.clientY-ke.top,de=ke.width,ue=ke.height;I.x=ze/de*2-1,I.y=-(J/ue)*2+1,M.set(I.x,I.y,1).unproject(r.object).sub(r.object.position).normalize()}function W(te){return Math.max(r.minDistance,Math.min(r.maxDistance,te))}function q(te){y.set(te.clientX,te.clientY)}function Z(te){F(te),C.set(te.clientX,te.clientY)}function ee(te){v.set(te.clientX,te.clientY)}function oe(te){b.set(te.clientX,te.clientY),x.subVectors(b,y).multiplyScalar(r.rotateSpeed);const ke=r.domElement;ke&&(D(2*Math.PI*x.x/ke.clientHeight),G(2*Math.PI*x.y/ke.clientHeight)),y.copy(b),r.update()}function re(te){_.set(te.clientX,te.clientY),T.subVectors(_,C),T.y>0?z(H()):T.y<0&&V(H()),C.copy(_),r.update()}function ce(te){w.set(te.clientX,te.clientY),S.subVectors(w,v).multiplyScalar(r.panSpeed),O(S.x,S.y),v.copy(w),r.update()}function Se(te){F(te),te.deltaY<0?V(H()):te.deltaY>0&&z(H()),r.update()}function Pe(te){let ke=!1;switch(te.code){case r.keys.UP:O(0,r.keyPanSpeed),ke=!0;break;case r.keys.BOTTOM:O(0,-r.keyPanSpeed),ke=!0;break;case r.keys.LEFT:O(r.keyPanSpeed,0),ke=!0;break;case r.keys.RIGHT:O(-r.keyPanSpeed,0),ke=!0;break}ke&&(te.preventDefault(),r.update())}function xe(){if(P.length==1)y.set(P[0].pageX,P[0].pageY);else{const te=.5*(P[0].pageX+P[1].pageX),ke=.5*(P[0].pageY+P[1].pageY);y.set(te,ke)}}function X(){if(P.length==1)v.set(P[0].pageX,P[0].pageY);else{const te=.5*(P[0].pageX+P[1].pageX),ke=.5*(P[0].pageY+P[1].pageY);v.set(te,ke)}}function fe(){const te=P[0].pageX-P[1].pageX,ke=P[0].pageY-P[1].pageY,ze=Math.sqrt(te*te+ke*ke);C.set(0,ze)}function pe(){r.enableZoom&&fe(),r.enablePan&&X()}function Ce(){r.enableZoom&&fe(),r.enableRotate&&xe()}function me(te){if(P.length==1)b.set(te.pageX,te.pageY);else{const ze=ut(te),J=.5*(te.pageX+ze.x),de=.5*(te.pageY+ze.y);b.set(J,de)}x.subVectors(b,y).multiplyScalar(r.rotateSpeed);const ke=r.domElement;ke&&(D(2*Math.PI*x.x/ke.clientHeight),G(2*Math.PI*x.y/ke.clientHeight)),y.copy(b)}function Ge(te){if(P.length==1)w.set(te.pageX,te.pageY);else{const ke=ut(te),ze=.5*(te.pageX+ke.x),J=.5*(te.pageY+ke.y);w.set(ze,J)}S.subVectors(w,v).multiplyScalar(r.panSpeed),O(S.x,S.y),v.copy(w)}function ve(te){const ke=ut(te),ze=te.pageX-ke.x,J=te.pageY-ke.y,de=Math.sqrt(ze*ze+J*J);_.set(0,de),T.set(0,Math.pow(_.y/C.y,r.zoomSpeed)),z(T.y),C.copy(_)}function Re(te){r.enableZoom&&ve(te),r.enablePan&&Ge(te)}function Ae(te){r.enableZoom&&ve(te),r.enableRotate&&me(te)}function Le(te){var ke,ze;r.enabled!==!1&&(P.length===0&&((ke=r.domElement)==null||ke.ownerDocument.addEventListener("pointermove",Je),(ze=r.domElement)==null||ze.ownerDocument.addEventListener("pointerup",K)),et(te),te.pointerType==="touch"?Be(te):ae(te))}function Je(te){r.enabled!==!1&&(te.pointerType==="touch"?Fe(te):Ee(te))}function K(te){var ke,ze,J;at(te),P.length===0&&((ke=r.domElement)==null||ke.releasePointerCapture(te.pointerId),(ze=r.domElement)==null||ze.ownerDocument.removeEventListener("pointermove",Je),(J=r.domElement)==null||J.ownerDocument.removeEventListener("pointerup",K)),r.dispatchEvent(a),l=s.NONE}function j(te){at(te)}function ae(te){let ke;switch(te.button){case 0:ke=r.mouseButtons.LEFT;break;case 1:ke=r.mouseButtons.MIDDLE;break;case 2:ke=r.mouseButtons.RIGHT;break;default:ke=-1}switch(ke){case ku.DOLLY:if(r.enableZoom===!1)return;Z(te),l=s.DOLLY;break;case ku.ROTATE:if(te.ctrlKey||te.metaKey||te.shiftKey){if(r.enablePan===!1)return;ee(te),l=s.PAN}else{if(r.enableRotate===!1)return;q(te),l=s.ROTATE}break;case ku.PAN:if(te.ctrlKey||te.metaKey||te.shiftKey){if(r.enableRotate===!1)return;q(te),l=s.ROTATE}else{if(r.enablePan===!1)return;ee(te),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(o)}function Ee(te){if(r.enabled!==!1)switch(l){case s.ROTATE:if(r.enableRotate===!1)return;oe(te);break;case s.DOLLY:if(r.enableZoom===!1)return;re(te);break;case s.PAN:if(r.enablePan===!1)return;ce(te);break}}function Oe(te){r.enabled===!1||r.enableZoom===!1||l!==s.NONE&&l!==s.ROTATE||(te.preventDefault(),r.dispatchEvent(o),Se(te),r.dispatchEvent(a))}function je(te){r.enabled===!1||r.enablePan===!1||Pe(te)}function Be(te){switch(We(te),P.length){case 1:switch(r.touches.ONE){case Bu.ROTATE:if(r.enableRotate===!1)return;xe(),l=s.TOUCH_ROTATE;break;case Bu.PAN:if(r.enablePan===!1)return;X(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(r.touches.TWO){case Bu.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;pe(),l=s.TOUCH_DOLLY_PAN;break;case Bu.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ce(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(o)}function Fe(te){switch(We(te),l){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;me(te),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;Ge(te),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Re(te),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ae(te),r.update();break;default:l=s.NONE}}function Ue(te){r.enabled!==!1&&te.preventDefault()}function et(te){P.push(te)}function at(te){delete L[te.pointerId];for(let ke=0;ke<P.length;ke++)if(P[ke].pointerId==te.pointerId){P.splice(ke,1);return}}function We(te){let ke=L[te.pointerId];ke===void 0&&(ke=new Qe,L[te.pointerId]=ke),ke.set(te.pageX,te.pageY)}function ut(te){const ke=te.pointerId===P[0].pointerId?P[1]:P[0];return L[ke.pointerId]}n!==void 0&&this.connect(n),this.update()}};const Mwe=g.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:o=!1,onChange:a,onStart:s,onEnd:l,...c},u)=>{const d=vc(T=>T.invalidate),f=vc(T=>T.camera),p=vc(T=>T.gl),y=vc(T=>T.events),b=vc(T=>T.setEvents),x=vc(T=>T.set),v=vc(T=>T.get),w=vc(T=>T.performance),S=e||f,C=r||y.connected||p.domElement,_=g.useMemo(()=>new Twe(S),[S]);return kz(()=>{_.enabled&&_.update()},-1),g.useEffect(()=>(o&&_.connect(o===!0?C:o),_.connect(C),()=>void _.dispose()),[o,C,n,_,d]),g.useEffect(()=>{const T=R=>{d(),n&&w.regress(),a&&a(R)},M=R=>{s&&s(R)},I=R=>{l&&l(R)};return _.addEventListener("change",T),_.addEventListener("start",M),_.addEventListener("end",I),()=>{_.removeEventListener("start",M),_.removeEventListener("end",I),_.removeEventListener("change",T)}},[a,s,l,_,d,b]),g.useEffect(()=>{if(t){const T=v().controls;return x({controls:_}),()=>x({controls:T})}},[t,_]),g.createElement("primitive",it({ref:u,object:_,enableDamping:i},c))}),{Dragger:Rwe}=ohe,Awe=Dn.div`
  width: 100%;
  height: 100%;
  z-index: 100;
`;function Pwe(t){const{worker:e}=t,r={accept:".json",name:"file",multiple:!1,beforeUpload:(i=>o=>{console.log(o);const a=new FileReader;return a.onload=s=>{console.log(s.target?.result);const l=s.target?.result;if(typeof l=="string"){const c={func:"deserialize",args:l};i.postMessage(c)}},a.readAsText(o),!1})(e)};return Ke.jsx(Awe,{children:Ke.jsxs(Rwe,{...r,children:[Ke.jsx("p",{className:"ant-upload-drag-icon",children:Ke.jsx(npe,{})}),Ke.jsx("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"})]})})}const Iwe=Dn.div`
  width: 100%;
  height: 100%;
  z-index: 100;
`;async function Nwe(){return await new Promise((t,e)=>{const n=window.indexedDB.open("modelAutoSave",1);n.onerror=r=>{e(r)},n.onsuccess=r=>{const s=r.target.result.transaction("modelSave","readonly").objectStore("modelSave").getAllKeys();s.onsuccess=l=>{const c=l.target.result;Array.isArray(c)&&t(c)}}})}function Owe(t){const{worker:e}=t,[n,r]=g.useState([]);g.useEffect(()=>{async function o(){const a=await Nwe();r(a)}o()},[]);function i(o){console.log(`Selected key: ${o}`);const a=window.indexedDB.open("modelAutoSave",1);a.onerror=s=>{console.log(s)},a.onsuccess=s=>{const d=s.target.result.transaction("modelSave","readonly").objectStore("modelSave").get(o);d.onsuccess=f=>{const p=f.target.result;if(p!==void 0){const y={func:"deserialize",args:p};e.postMessage(y)}}}}return Ke.jsxs(Iwe,{children:[Ke.jsx(wP.Title,{level:3,children:"Select a key to restore:"}),Ke.jsx(CC,{}),Ke.jsx(W7,{bordered:!0,dataSource:n,renderItem:o=>Ke.jsx(W7.Item,{onClick:()=>{i(o)},children:Ke.jsx(wP.Text,{children:o})})})]})}const Lwe=Dn.div`
  position: absolute;
  top: 50%;
  left: 50%;
  width: 60%;
  height: 80%;
  background-color: #ffffff;
  border-radius: 1rem;
  transform: translate(-50%, -50%);
  z-index: 100;

  @media (max-width: 760px) {
    width: 95%;
    height: 97%;
  }
`,Dwe=Dn.button`
  position: absolute;
  top: 0.5rem;
  right: 0.5rem;
  background-color: transparent;
  border: none;
  font-size: 1rem;
  cursor: pointer;
`,Fwe=Dn.div`
  width: 25%;
  height: 100%;
  float: left;
  display: flex;
  justify-content: center;
  align-items: center;

  @media (max-width: 760px) {
    width: 95%;
    float: none;
    height: 30%;
  }
`,BO=Dn.div`
  width: 80%;
  height: 90%;
  overflow: hidden;
  display: flex;
  justify-content: center;
`,$we=Dn.div`
  width: 70%;
  height: 100%;
  float: left;
  display: flex;
  justify-content: center;
  align-items: center;

  @media (max-width: 760px) {
    width: 100%;
    float: none;
    height: 70%;
  }
`,Uwe=Dn(Sy)`
  width: 100%;
  height: 100%;
  border: none;
`;function kwe(t){const e=t.setRestorePopupVisible,[n,r]=g.useState(""),i=s=>{r(s.key)},o=()=>{switch(n){case"A":return Ke.jsx(Pwe,{...t});case"B":return Ke.jsx(Owe,{...t});default:return null}},a=()=>{e(!1)};return Ke.jsxs(Lwe,{id:"restore-popup",children:[Ke.jsx(Dwe,{onClick:a,children:Ke.jsx(qg,{})}),Ke.jsx(Fwe,{children:Ke.jsx(BO,{children:Ke.jsxs(Uwe,{onClick:i,selectedKeys:[n],children:[Ke.jsx(Sy.Item,{children:"Local PC"},"A"),Ke.jsx(Sy.Item,{children:"IndexedDB"},"B")]})})}),Ke.jsx(CC,{type:"vertical"}),Ke.jsx($we,{children:Ke.jsx(BO,{children:o()})})]})}const Bwe=Dn.div`
  position: relative;
  left: 21rem;
  top: 1rem;
  width: calc(100vw - 22rem);
  height: calc(100vh - 7rem);
  z-index: 0;
  @media (max-width: 760px) {
    position: relative;
    left: 6rem;
    top: 6rem;
    width: calc(100vw - 12rem);
    height: calc(100vh - 6rem);
    z-index: 0;
  }
`,zwe=Dn(_ye)`
  background: transparent;
  z-index: 0;
`;function Hwe(t){const{simulationParams:e,setSimulationParams:n,worker:r}=t;g.useEffect(()=>{const l=c=>{console.log("beforeunload event triggered"),c.preventDefault(),c.returnValue=""};return window.addEventListener("beforeunload",l),()=>{window.removeEventListener("beforeunload",l)}},[]);const i=g.useMemo(()=>[],[]),o=g.useMemo(()=>[],[]),[a,s]=g.useState(!1);return g.useEffect(()=>{r!==null&&(r.onmessage=l=>{const c=l.data;switch(c.type){case"init":console.log("worker initialised"),r.postMessage({func:"start"});break;case"output":for(const u of i)c.density!==void 0&&u(c.density);break;case"modelSave":for(const u of o){if(c===null)throw new Error("error in calling worker.modelSave, data was null");u(c.save)}break}},r.onerror=l=>{console.log(l)})},[r,i,o]),Ke.jsxs(Ke.Fragment,{children:[Ke.jsx(P2e,{params:e,setParams:n}),Ke.jsx(Bwe,{children:Ke.jsxs(zwe,{shadows:!0,camera:{position:[1,10,1]},children:[Ke.jsx("ambientLight",{}),Ke.jsx(Mwe,{target:[0,0,0],enabled:e.isCameraControlMode}),Ke.jsx(_Se,{disableInteraction:e.isCameraControlMode,position:[0,0,0],params:e,worker:r,outputSubs:i})]})}),a&&Ke.jsx(kwe,{worker:r,setRestorePopupVisible:s}),Ke.jsx(D2e,{modelSaveSubs:o,worker:r,setRestorePopupVisible:s})]})}const Gwe=`<h1>CFlowSim</h1>
<p>previously <em>Physics in the Browser</em></p>
<p><a href="https://github.com/techlauncher-mlai-edge-physics/techlauncher-mlai-edge-physics.github.io/actions/workflows/main.yml"><img src="https://github.com/techlauncher-mlai-edge-physics/techlauncher-mlai-edge-physics.github.io/actions/workflows/main.yml/badge.svg" alt="Deployment CI"></a></p>
<p><strong>Deployed at <a href="https://techlauncher-mlai-edge-physics.github.io">GitHub Pages</a></strong></p>
<p>This project is a web application that allows users to simulate the fluid dynamics of a 2D fluid system enhanced by machine learning. The application is built using <a href="https://reactjs.org/">React</a> and <a href="https://threejs.org/">Three.js</a>. The machine learning model is built using <a href="https://pytorch.org/">PyTorch</a> and converted to <a href="https://onnx.ai/">ONNX</a> format for inference in the browser using <a href="https://npmjs.com/package/onnxruntime-web">onnxruntime-web</a>.</p>
<h2>About the project</h2>
<p>Welcome to our interactive online neural physics emulation engine! What you're seeing is a simulation of computational fluid dynamics, powered by cutting-edge neural network technology.</p>
<p>Computational fluid dynamics is an important area of study that helps us understand how fluids behave in various scenarios, from the flow of air around an airplane to the movement of water in a river. It's a complex field, requiring specialised hardware and software to perform accurate simulations.
However, with the development of neural physics emulation, we can now simulate fluid dynamics using neural networks - a type of machine learning algorithm inspired by the human brain. This approach has the potential to be much faster and more efficient than traditional methods, allowing us to explore complex scenarios and gain new insights into the behaviour of fluids.</p>
<h3>Applications</h3>
<p>The ability to simulate fluid dynamics using neural network technology has significant potential for industrial applications.</p>
<p>For example, in the field of aerospace engineering, accurate simulations of fluid dynamics are critical for designing aircraft that are safe, efficient, and effective. By using neural network technology to perform these simulations, engineers can gain a more comprehensive understanding of how air flows around different parts of the aircraft, helping them to optimise its design and performance.</p>
<p>In the automotive industry, neural physics emulation can be used to simulate the flow of air around vehicles, which is important for improving aerodynamics and fuel efficiency. This technology can also be used in the design of cooling systems for engines and other components, ensuring that they operate at the optimal temperature.</p>
<p>In the energy sector, neural physics emulation can be used to simulate the behaviour of fluids in oil and gas wells, helping to optimise the extraction process and improve safety. This technology can also be used in the design of wind turbines and other renewable energy technologies, helping to optimize their efficiency and output.</p>
<p>Overall, the ability to simulate fluid dynamics using neural network technology has broad applications across many industries, helping to improve safety, efficiency, and performance.</p>
<h3>Accessibility</h3>
<p>What's really exciting about this online neural physics emulation engine is that it allows anyone with an internet connection to experiment with these simulations themselves. Traditionally, these simulations require specialized hardware and software, and may only be accessible to researchers with access to high-performance computing resources. However, by hosting technology on a web browser, we can make it accessible to anyone, regardless of their technical background.</p>
<p>Our interactive online neural physics emulation engine is based on the research of the Hybrid Prediction Activity, which is part of the Machine Learning and Artificial Intelligence Future Science Platform (MLAI-FSP) in CSIRO's Data61. The MLAI-FSP is dedicated to advancing the field of machine learning and artificial intelligence through interdisciplinary research and collaboration.</p>
<h2>About the team</h2>
<p>This project was developed in collaboration with team from ANU TechLauncher, a student industry collaboration program at the Australian National University.</p>
<p>The team is led by students of ANU college of Engineering, Computing and Cybernetics. Students with different levels of expertise in coding, design, content creation, and project management actively collaborate to create this website that presents a user-friendly simulation platform to the public.</p>
<p>As this project is open source, we are open to contributions from the general public. Please see our contribution guide if you would like to lend a hand with our efforts.</p>
<h2>Getting Started</h2>
<p>The public deployment of the application can be found at <a href="https://techlauncher-mlai-edge-physics.github.io">GitHub Pages</a>.
To build and run the application locally, see our <a href="docs/gettingstarted.md">getting started page</a></p>
<h2>Contributing</h2>
<p>See our <a href="CONTRIBUTION.md">contribution guide</a> to get started.</p>
<h2>License</h2>
<p>Distributed under the BSD-3 Clause License. See <code>LICENSE</code> for more information.</p>`,Vwe=Dn.div`
  background-color: ${t=>t.theme.light?"#ffffff":"#707070"};
`,Wwe=Dn.div`
  text-align: justify;
  margin-left: 20%;
  margin-right: 20%;
  margin-bottom: 5%;
  font-family: 'Roboto', sans-serif;
  color: ${t=>t.theme.light?"#333333":"#c9c9c9"};
  a:link {
    text-decoration: none;
  }
  a:visited {
    text-decoration: none;
  }
  a:hover {
    text-decoration: underline;
  }
  a:active {
    text-decoration: underline;
  }
`;function jwe(){return Ke.jsx(Ke.Fragment,{children:Ke.jsx(Vwe,{children:Ke.jsx(Wwe,{children:Ke.jsx("div",{dangerouslySetInnerHTML:{__html:Gwe}})})})})}const Xwe=Dn.main`
  position: absolute;
  left: 0;
  top: 0;
  width: 100vw;
  height: 100vh;
  background: ${t=>t.theme.light?"#ffffff":"#707070"};
  z-index: 0;
`,qwe=Dn.div`
  padding: 0;
  margin: 0;
  box-sizing: border-box;
  font-family: 'Titillium Web', sans-serif;
`;function Kwe(){const[t,e]=g.useState(0),[n,r]=g.useState(new ESe),[i,o]=g.useState(!1),[a,s]=g.useState("auto");g.useEffect(()=>{if(a==="auto"){const d=window.matchMedia("(prefers-color-scheme: dark)");d.addEventListener("change",f=>{const p=f.matches?"dark":"light";o(p==="light")}),o(d.matches)}else o(a==="light")},[a]);const[l,c]=g.useState(null);g.useEffect(()=>{const d=new Worker(new URL("/assets/modelWorker-4f7e8c3f.js",self.location),{type:"module"});return c(d),()=>{d.terminate()}},[]),g.useEffect(()=>{const d={func:"init",args:["/initData/pvf_incomp_44_nonneg/pvf_incomp_44_nonneg_0.json","/model/bno_small_new_web/model.json"]};l!==null&&l.postMessage(d)},[l]);let u;switch(t){case 1:u=Ke.jsx(jwe,{});break;case 0:default:u=Ke.jsx(Hwe,{worker:l,simulationParams:n,setSimulationParams:r});break}return Ke.jsx(Hhe,{theme:{light:i},children:Ke.jsxs(Xwe,{children:[Ke.jsx(qwe,{children:Ke.jsx(Qhe,{setPage:e,setCurThemeMode:s})}),u]})})}ZS.createRoot(document.getElementById("root")).render(Ke.jsx(se.StrictMode,{children:Ke.jsx(Kwe,{})}));
